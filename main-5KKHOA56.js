import{$ as ko,$a as ph,A as Bi,Aa as Sn,Ab as Rn,B as pn,Ba as Qr,Bb as Ke,C as zr,Ca as ah,D as Ni,Da as kr,E as xs,Ea as bt,F as $e,Fa as Ne,G as Vr,Ga as oh,H as Ko,Ha as Cn,I as Zo,Ia as hh,J as jo,Ja as Ui,K as Ee,Ka as vi,L as Xr,La as lh,M as Wt,Ma as As,N as Et,Na as uh,O as vt,Oa as fh,P as Jo,Pa as dh,Q as Bt,Qa as ch,R as pt,Ra as Ht,S as rt,Sa as xt,T as ys,Ta as At,U as Qo,Ua as wt,V as Gi,Va as vh,W as Be,Wa as zi,X as Ts,Xa as En,Y as Ss,Ya as Vi,Z as gn,Za as pi,_ as Xt,_a as gi,a as at,aa as Yr,ab as ne,b as ie,ba as bi,bb as An,ca as qo,cb as Ms,d as Qu,da as _o,db as qr,e as ku,ea as th,eb as gh,f as gs,fa as mn,fb as Ps,g as zo,ga as Wr,gb as mh,h as Vo,ha as Hr,hb as xh,i as Xo,ia as xn,ib as yh,j as Gr,ja as eh,jb as Th,k as br,ka as $r,kb as Mn,l as Ce,la as ih,lb as Sh,m as pe,ma as yn,mb as Ch,n as Yo,na as nh,nb as Pn,o as Ie,oa as Kr,ob as Eh,p as ge,pa as Zr,pb as Ah,q as ht,qa as Cs,qb as Mh,r as vn,ra as sh,rb as Rs,s as Wo,sa as rh,t as Ho,ta as Jt,u as yt,ua as ci,ub as Ds,v as Ur,va as jr,vb as mi,w as me,wa as Es,wb as Fs,x as $o,xa as Tn,y as ms,ya as Gt,yb as se,z as di,za as Jr,zb as Ls}from"./chunk-MBM7UL3B.js";var bl=Qu((is,Ya)=>{"use strict";(function(E,C){typeof is=="object"&&typeof Ya=="object"?Ya.exports=C():typeof define=="function"&&define.amd?define("Phaser",[],C):typeof is=="object"?is.Phaser=C():E.Phaser=C()})(is,()=>(()=>{var F={50792:u=>{"use strict";var m=Object.prototype.hasOwnProperty,t="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(t=!1));function p(e,n,l){this.fn=e,this.context=n,this.once=l||!1}function o(e,n,l,i,h){if(typeof l!="function")throw new TypeError("The listener must be a function");var f=new p(l,i||e,h),c=t?t+n:n;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],f]:e._events[c].push(f):(e._events[c]=f,e._eventsCount++),e}function s(e,n){--e._eventsCount===0?e._events=new a:delete e._events[n]}function r(){this._events=new a,this._eventsCount=0}r.prototype.eventNames=function(){var n=[],l,i;if(this._eventsCount===0)return n;for(i in l=this._events)m.call(l,i)&&n.push(t?i.slice(1):i);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(l)):n},r.prototype.listeners=function(n){var l=t?t+n:n,i=this._events[l];if(!i)return[];if(i.fn)return[i.fn];for(var h=0,f=i.length,c=new Array(f);h<f;h++)c[h]=i[h].fn;return c},r.prototype.listenerCount=function(n){var l=t?t+n:n,i=this._events[l];return i?i.fn?1:i.length:0},r.prototype.emit=function(n,l,i,h,f,c){var d=t?t+n:n;if(!this._events[d])return!1;var v=this._events[d],g=arguments.length,y,x;if(v.fn){switch(v.once&&this.removeListener(n,v.fn,void 0,!0),g){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,l),!0;case 3:return v.fn.call(v.context,l,i),!0;case 4:return v.fn.call(v.context,l,i,h),!0;case 5:return v.fn.call(v.context,l,i,h,f),!0;case 6:return v.fn.call(v.context,l,i,h,f,c),!0}for(x=1,y=new Array(g-1);x<g;x++)y[x-1]=arguments[x];v.fn.apply(v.context,y)}else{var T=v.length,S;for(x=0;x<T;x++)switch(v[x].once&&this.removeListener(n,v[x].fn,void 0,!0),g){case 1:v[x].fn.call(v[x].context);break;case 2:v[x].fn.call(v[x].context,l);break;case 3:v[x].fn.call(v[x].context,l,i);break;case 4:v[x].fn.call(v[x].context,l,i,h);break;default:if(!y)for(S=1,y=new Array(g-1);S<g;S++)y[S-1]=arguments[S];v[x].fn.apply(v[x].context,y)}}return!0},r.prototype.on=function(n,l,i){return o(this,n,l,i,!1)},r.prototype.once=function(n,l,i){return o(this,n,l,i,!0)},r.prototype.removeListener=function(n,l,i,h){var f=t?t+n:n;if(!this._events[f])return this;if(!l)return s(this,f),this;var c=this._events[f];if(c.fn)c.fn===l&&(!h||c.once)&&(!i||c.context===i)&&s(this,f);else{for(var d=0,v=[],g=c.length;d<g;d++)(c[d].fn!==l||h&&!c[d].once||i&&c[d].context!==i)&&v.push(c[d]);v.length?this._events[f]=v.length===1?v[0]:v:s(this,f)}return this},r.prototype.removeAllListeners=function(n){var l;return n?(l=t?t+n:n,this._events[l]&&s(this,l)):(this._events=new a,this._eventsCount=0),this},r.prototype.off=r.prototype.removeListener,r.prototype.addListener=r.prototype.on,r.prefixed=t,r.EventEmitter=r,u.exports=r},11517:(u,m,t)=>{var a=t(38829),p=function(o,s,r,e){for(var n=o[0],l=1;l<o.length;l++){var i=o[l];a(i,n,s,r,e),n=i}return o};u.exports=p},80318:(u,m,t)=>{var a=t(66979),p=function(o,s,r,e,n){return a(o,"angle",s,r,e,n)};u.exports=p},60757:u=>{var m=function(t,a,p){for(var o=0;o<t.length;o++){var s=t[o];a.call(p,s)}return t};u.exports=m},69927:u=>{var m=function(t,a,p){p===void 0&&(p=0);for(var o=p;o<t.length;o++){var s=t[o],r=!0;for(var e in a)s[e]!==a[e]&&(r=!1);if(r)return s}return null};u.exports=m},32265:u=>{var m=function(t,a,p){p===void 0&&(p=0);for(var o=t.length-1;o>=p;o--){var s=t[o],r=!0;for(var e in a)s[e]!==a[e]&&(r=!1);if(r)return s}return null};u.exports=m},94420:(u,m,t)=>{var a=t(11879),p=t(60461),o=t(95540),s=t(29747),r=t(41481),e=new r({sys:{queueDepthSort:s,events:{once:s}}},0,0,1,1).setOrigin(0,0),n=function(l,i){i===void 0&&(i={});var h=i.hasOwnProperty("width"),f=i.hasOwnProperty("height"),c=o(i,"width",-1),d=o(i,"height",-1),v=o(i,"cellWidth",1),g=o(i,"cellHeight",v),y=o(i,"position",p.TOP_LEFT),x=o(i,"x",0),T=o(i,"y",0),S=0,A=0,P=c*v,D=d*g;e.setPosition(x,T),e.setSize(v,g);for(var R=0;R<l.length;R++)if(a(l[R],e,y),h&&c===-1)e.x+=v;else if(f&&d===-1)e.y+=g;else if(f&&!h){if(A+=g,e.y+=g,A===D&&(A=0,S+=v,e.y=T,e.x+=v,S===P))break}else if(S+=v,e.x+=v,S===P&&(S=0,A+=g,e.x=x,e.y+=g,A===D))break;return l};u.exports=n},41721:(u,m,t)=>{var a=t(66979),p=function(o,s,r,e,n){return a(o,"alpha",s,r,e,n)};u.exports=p},67285:(u,m,t)=>{var a=t(66979),p=function(o,s,r,e,n){return a(o,"x",s,r,e,n)};u.exports=p},9074:(u,m,t)=>{var a=t(66979),p=function(o,s,r,e,n,l,i){return r==null&&(r=s),a(o,"x",s,e,l,i),a(o,"y",r,n,l,i)};u.exports=p},75222:(u,m,t)=>{var a=t(66979),p=function(o,s,r,e,n){return a(o,"y",s,r,e,n)};u.exports=p},22983:u=>{var m=function(t,a,p,o){p===void 0&&(p=0),o===void 0&&(o=6.28);for(var s=p,r=(o-p)/t.length,e=a.x,n=a.y,l=a.radius,i=0;i<t.length;i++)t[i].x=e+l*Math.cos(s),t[i].y=n+l*Math.sin(s),s+=r;return t};u.exports=m},95253:u=>{var m=function(t,a,p,o){p===void 0&&(p=0),o===void 0&&(o=6.28);for(var s=p,r=(o-p)/t.length,e=a.width/2,n=a.height/2,l=0;l<t.length;l++)t[l].x=a.x+e*Math.cos(s),t[l].y=a.y+n*Math.sin(s),s+=r;return t};u.exports=m},88505:(u,m,t)=>{var a=t(15258),p=t(26708),o=function(s,r,e){var n;e?n=p(r,e,s.length):n=a(r,s.length);for(var l=0;l<s.length;l++){var i=s[l],h=n[l];i.x=h.x,i.y=h.y}return s};u.exports=o},41346:(u,m,t)=>{var a=t(14649),p=t(86003),o=t(49498),s=function(r,e,n){n===void 0&&(n=0);var l=a(e,!1,r.length);n>0?p(l,n):n<0&&o(l,Math.abs(n));for(var i=0;i<r.length;i++)r[i].x=l[i].x,r[i].y=l[i].y;return r};u.exports=s},11575:(u,m,t)=>{var a=t(84993),p=function(o,s,r){var e=a({x1:s.x1,y1:s.y1,x2:s.x2,y2:s.y2},r),n=a({x1:s.x2,y1:s.y2,x2:s.x3,y2:s.y3},r),l=a({x1:s.x3,y1:s.y3,x2:s.x1,y2:s.y1},r);e.pop(),n.pop(),l.pop(),e=e.concat(n,l);for(var i=e.length/o.length,h=0,f=0;f<o.length;f++){var c=o[f],d=e[Math.floor(h)];c.x=d.x,c.y=d.y,h+=i}return o};u.exports=p},29953:u=>{var m=function(t,a,p){for(var o=0;o<t.length;o++){var s=t[o];s.anims&&s.anims.play(a,p)}return t};u.exports=m},66979:u=>{var m=function(t,a,p,o,s,r){o===void 0&&(o=0),s===void 0&&(s=0),r===void 0&&(r=1);var e,n=0,l=t.length;if(r===1)for(e=s;e<l;e++)t[e][a]+=p+n*o,n++;else for(e=s;e>=0;e--)t[e][a]+=p+n*o,n++;return t};u.exports=m},43967:u=>{var m=function(t,a,p,o,s,r){o===void 0&&(o=0),s===void 0&&(s=0),r===void 0&&(r=1);var e,n=0,l=t.length;if(r===1)for(e=s;e<l;e++)t[e][a]=p+n*o,n++;else for(e=s;e>=0;e--)t[e][a]=p+n*o,n++;return t};u.exports=m},88926:(u,m,t)=>{var a=t(28176),p=function(o,s){for(var r=0;r<o.length;r++)a(s,o[r]);return o};u.exports=p},33286:(u,m,t)=>{var a=t(24820),p=function(o,s){for(var r=0;r<o.length;r++)a(s,o[r]);return o};u.exports=p},96e3:(u,m,t)=>{var a=t(65822),p=function(o,s){for(var r=0;r<o.length;r++)a(s,o[r]);return o};u.exports=p},28789:(u,m,t)=>{var a=t(26597),p=function(o,s){for(var r=0;r<o.length;r++)a(s,o[r]);return o};u.exports=p},97154:(u,m,t)=>{var a=t(90260),p=function(o,s){for(var r=0;r<o.length;r++)a(s,o[r]);return o};u.exports=p},20510:(u,m,t)=>{var a=t(66979),p=function(o,s,r,e,n){return a(o,"rotation",s,r,e,n)};u.exports=p},91051:(u,m,t)=>{var a=t(1163),p=t(20339),o=function(s,r,e){for(var n=r.x,l=r.y,i=0;i<s.length;i++){var h=s[i];a(h,n,l,e,Math.max(1,p(h.x,h.y,n,l)))}return s};u.exports=o},76332:(u,m,t)=>{var a=t(1163),p=function(o,s,r,e){var n=s.x,l=s.y;if(e===0)return o;for(var i=0;i<o.length;i++)a(o[i],n,l,r,e);return o};u.exports=p},61619:(u,m,t)=>{var a=t(66979),p=function(o,s,r,e,n){return a(o,"scaleX",s,r,e,n)};u.exports=p},94868:(u,m,t)=>{var a=t(66979),p=function(o,s,r,e,n,l,i){return r==null&&(r=s),a(o,"scaleX",s,e,l,i),a(o,"scaleY",r,n,l,i)};u.exports=p},95532:(u,m,t)=>{var a=t(66979),p=function(o,s,r,e,n){return a(o,"scaleY",s,r,e,n)};u.exports=p},8689:(u,m,t)=>{var a=t(43967),p=function(o,s,r,e,n){return a(o,"alpha",s,r,e,n)};u.exports=p},2645:(u,m,t)=>{var a=t(43967),p=function(o,s,r,e){return a(o,"blendMode",s,0,r,e)};u.exports=p},32372:(u,m,t)=>{var a=t(43967),p=function(o,s,r,e,n){return a(o,"depth",s,r,e,n)};u.exports=p},85373:u=>{var m=function(t,a,p){for(var o=0;o<t.length;o++)t[o].setInteractive(a,p);return t};u.exports=m},81583:(u,m,t)=>{var a=t(43967),p=function(o,s,r,e,n,l,i){return r==null&&(r=s),a(o,"originX",s,e,l,i),a(o,"originY",r,n,l,i),o.forEach(function(h){h.updateDisplayOrigin()}),o};u.exports=p},79939:(u,m,t)=>{var a=t(43967),p=function(o,s,r,e,n){return a(o,"rotation",s,r,e,n)};u.exports=p},2699:(u,m,t)=>{var a=t(43967),p=function(o,s,r,e,n,l,i){return r==null&&(r=s),a(o,"scaleX",s,e,l,i),a(o,"scaleY",r,n,l,i)};u.exports=p},98739:(u,m,t)=>{var a=t(43967),p=function(o,s,r,e,n){return a(o,"scaleX",s,r,e,n)};u.exports=p},98476:(u,m,t)=>{var a=t(43967),p=function(o,s,r,e,n){return a(o,"scaleY",s,r,e,n)};u.exports=p},6207:(u,m,t)=>{var a=t(43967),p=function(o,s,r,e,n,l,i){return r==null&&(r=s),a(o,"scrollFactorX",s,e,l,i),a(o,"scrollFactorY",r,n,l,i)};u.exports=p},6607:(u,m,t)=>{var a=t(43967),p=function(o,s,r,e,n){return a(o,"scrollFactorX",s,r,e,n)};u.exports=p},72248:(u,m,t)=>{var a=t(43967),p=function(o,s,r,e,n){return a(o,"scrollFactorY",s,r,e,n)};u.exports=p},14036:u=>{var m=function(t,a,p,o,s){for(var r=0;r<t.length;r++)t[r].setTint(a,p,o,s);return t};u.exports=m},50159:(u,m,t)=>{var a=t(43967),p=function(o,s,r,e){return a(o,"visible",s,0,r,e)};u.exports=p},77597:(u,m,t)=>{var a=t(43967),p=function(o,s,r,e,n){return a(o,"x",s,r,e,n)};u.exports=p},83194:(u,m,t)=>{var a=t(43967),p=function(o,s,r,e,n,l,i){return r==null&&(r=s),a(o,"x",s,e,l,i),a(o,"y",r,n,l,i)};u.exports=p},67678:(u,m,t)=>{var a=t(43967),p=function(o,s,r,e,n){return a(o,"y",s,r,e,n)};u.exports=p},35850:(u,m,t)=>{var a=t(26099),p=function(o,s,r,e,n){e===void 0&&(e=0),n===void 0&&(n=new a);var l,i,h=o.length;if(h===1)l=o[0].x,i=o[0].y,o[0].x=s,o[0].y=r;else{var f=1,c=0;e===0&&(c=h-1,f=h-2),l=o[c].x,i=o[c].y,o[c].x=s,o[c].y=r;for(var d=0;d<h;d++)if(!(f>=h||f===-1)){var v=o[f],g=v.x,y=v.y;v.x=l,v.y=i,l=g,i=y,e===0?f--:f++}}return n.x=l,n.y=i,n};u.exports=p},8628:(u,m,t)=>{var a=t(33680),p=function(o){return a(o)};u.exports=p},21837:(u,m,t)=>{var a=t(7602),p=function(o,s,r,e,n){n===void 0&&(n=!1);var l=Math.abs(e-r)/o.length,i;if(n)for(i=0;i<o.length;i++)o[i][s]+=a(i*l,r,e);else for(i=0;i<o.length;i++)o[i][s]=a(i*l,r,e);return o};u.exports=p},21910:(u,m,t)=>{var a=t(54261),p=function(o,s,r,e,n){n===void 0&&(n=!1);var l=Math.abs(e-r)/o.length,i;if(n)for(i=0;i<o.length;i++)o[i][s]+=a(i*l,r,e);else for(i=0;i<o.length;i++)o[i][s]=a(i*l,r,e);return o};u.exports=p},62054:u=>{var m=function(t,a,p,o,s){if(s===void 0&&(s=!1),t.length===0)return t;if(t.length===1)return s?t[0][a]+=(o+p)/2:t[0][a]=(o+p)/2,t;var r=Math.abs(o-p)/(t.length-1),e;if(s)for(e=0;e<t.length;e++)t[e][a]+=e*r+p;else for(e=0;e<t.length;e++)t[e][a]=e*r+p;return t};u.exports=m},79815:u=>{var m=function(t){for(var a=0;a<t.length;a++)t[a].visible=!t[a].visible;return t};u.exports=m},39665:(u,m,t)=>{var a=t(15994),p=function(o,s,r){r===void 0&&(r=0);for(var e=0;e<o.length;e++){var n=o[e];n.x=a(n.x,s.left-r,s.right+r),n.y=a(n.y,s.top-r,s.bottom+r)}return o};u.exports=p},61061:(u,m,t)=>{u.exports={AlignTo:t(11517),Angle:t(80318),Call:t(60757),GetFirst:t(69927),GetLast:t(32265),GridAlign:t(94420),IncAlpha:t(41721),IncX:t(67285),IncXY:t(9074),IncY:t(75222),PlaceOnCircle:t(22983),PlaceOnEllipse:t(95253),PlaceOnLine:t(88505),PlaceOnRectangle:t(41346),PlaceOnTriangle:t(11575),PlayAnimation:t(29953),PropertyValueInc:t(66979),PropertyValueSet:t(43967),RandomCircle:t(88926),RandomEllipse:t(33286),RandomLine:t(96e3),RandomRectangle:t(28789),RandomTriangle:t(97154),Rotate:t(20510),RotateAround:t(91051),RotateAroundDistance:t(76332),ScaleX:t(61619),ScaleXY:t(94868),ScaleY:t(95532),SetAlpha:t(8689),SetBlendMode:t(2645),SetDepth:t(32372),SetHitArea:t(85373),SetOrigin:t(81583),SetRotation:t(79939),SetScale:t(2699),SetScaleX:t(98739),SetScaleY:t(98476),SetScrollFactor:t(6207),SetScrollFactorX:t(6607),SetScrollFactorY:t(72248),SetTint:t(14036),SetVisible:t(50159),SetX:t(77597),SetXY:t(83194),SetY:t(67678),ShiftPosition:t(35850),Shuffle:t(8628),SmootherStep:t(21910),SmoothStep:t(21837),Spread:t(62054),ToggleVisible:t(79815),WrapInRectangle:t(39665)}},42099:(u,m,t)=>{var a=t(45319),p=t(83419),o=t(74943),s=t(81957),r=t(41138),e=t(35154),n=t(90126),l=new p({initialize:function(h,f,c){this.manager=h,this.key=f,this.type="frame",this.frames=this.getFrames(h.textureManager,e(c,"frames",[]),e(c,"defaultTextureKey",null),e(c,"sortFrames",!0)),this.frameRate=e(c,"frameRate",null),this.duration=e(c,"duration",null),this.msPerFrame,this.skipMissedFrames=e(c,"skipMissedFrames",!0),this.delay=e(c,"delay",0),this.repeat=e(c,"repeat",0),this.repeatDelay=e(c,"repeatDelay",0),this.yoyo=e(c,"yoyo",!1),this.showBeforeDelay=e(c,"showBeforeDelay",!1),this.showOnStart=e(c,"showOnStart",!1),this.hideOnComplete=e(c,"hideOnComplete",!1),this.randomFrame=e(c,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(o.PAUSE_ALL,this.pause,this),this.manager.on(o.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(i,h,f,c){f===null&&c===null?(i.frameRate=24,i.duration=24/h*1e3):f&&c===null?(i.duration=f,i.frameRate=h/(f/1e3)):(i.frameRate=c,i.duration=h/c*1e3),i.msPerFrame=1e3/i.frameRate},addFrame:function(i){return this.addFrameAt(this.frames.length,i)},addFrameAt:function(i,h){var f=this.getFrames(this.manager.textureManager,h);if(f.length>0){if(i===0)this.frames=f.concat(this.frames);else if(i===this.frames.length)this.frames=this.frames.concat(f);else{var c=this.frames.slice(0,i),d=this.frames.slice(i);this.frames=c.concat(f,d)}this.updateFrameSequence()}return this},checkFrame:function(i){return i>=0&&i<this.frames.length},getFirstTick:function(i){i.accumulator=0,i.nextTick=i.frameRate===i.currentAnim.frameRate&&i.currentFrame.duration||i.msPerFrame},getFrameAt:function(i){return this.frames[i]},getFrames:function(i,h,f,c){c===void 0&&(c=!0);var d=[],v,g,y=1,x,T;if(typeof h=="string"){if(T=h,!i.exists(T))return console.warn('Texture "%s" not found',T),d;var S=i.get(T),A=S.getFrameNames();c&&n(A),h=[],A.forEach(function(w){h.push({key:T,frame:w})})}if(!Array.isArray(h)||h.length===0)return d;for(x=0;x<h.length;x++){var P=h[x],D=e(P,"key",f);if(D){var R=e(P,"frame",0),L=i.getFrame(D,R);if(!L){console.warn('Texture "%s" not found',D);continue}g=new r(D,R,y,L),g.duration=e(P,"duration",0),g.isFirst=!v,v&&(v.nextFrame=g,g.prevFrame=v),d.push(g),v=g,y++}}if(d.length>0){g.isLast=!0,g.nextFrame=d[0],d[0].prevFrame=g;var I=1/(d.length-1);for(x=0;x<d.length;x++)d[x].progress=x*I}return d},getNextTick:function(i){i.accumulator-=i.nextTick,i.nextTick=i.frameRate===i.currentAnim.frameRate&&i.currentFrame.duration||i.msPerFrame},getFrameByProgress:function(i){return i=a(i,0,1),s(i,this.frames,"progress")},nextFrame:function(i){var h=i.currentFrame;h.isLast?i.yoyo?this.handleYoyoFrame(i,!1):i.repeatCounter>0?i.inReverse&&i.forward?i.forward=!1:this.repeatAnimation(i):i.complete():this.updateAndGetNextTick(i,h.nextFrame)},handleYoyoFrame:function(i,h){if(h||(h=!1),i.inReverse===!h&&i.repeatCounter>0){(i.repeatDelay===0||i.pendingRepeat)&&(i.forward=h),this.repeatAnimation(i);return}if(i.inReverse!==h&&i.repeatCounter===0){i.complete();return}i.forward=h;var f=h?i.currentFrame.nextFrame:i.currentFrame.prevFrame;this.updateAndGetNextTick(i,f)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(i){var h=i.currentFrame;h.isFirst?i.yoyo?this.handleYoyoFrame(i,!0):i.repeatCounter>0?i.inReverse&&!i.forward?this.repeatAnimation(i):(i.forward=!0,this.repeatAnimation(i)):i.complete():this.updateAndGetNextTick(i,h.prevFrame)},updateAndGetNextTick:function(i,h){i.setCurrentFrame(h),this.getNextTick(i)},removeFrame:function(i){var h=this.frames.indexOf(i);return h!==-1&&this.removeFrameAt(h),this},removeFrameAt:function(i){return this.frames.splice(i,1),this.updateFrameSequence(),this},repeatAnimation:function(i){if(i._pendingStop===2){if(i._pendingStopValue===0)return i.stop();i._pendingStopValue--}i.repeatDelay>0&&!i.pendingRepeat?(i.pendingRepeat=!0,i.accumulator-=i.nextTick,i.nextTick+=i.repeatDelay):(i.repeatCounter--,i.forward?i.setCurrentFrame(i.currentFrame.nextFrame):i.setCurrentFrame(i.currentFrame.prevFrame),i.isPlaying&&(this.getNextTick(i),i.handleRepeat()))},toJSON:function(){var i={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(h){i.frames.push(h.toJSON())}),i},updateFrameSequence:function(){for(var i=this.frames.length,h=1/(i-1),f,c=0;c<i;c++)f=this.frames[c],f.index=c+1,f.isFirst=!1,f.isLast=!1,f.progress=c*h,c===0?(f.isFirst=!0,i===1?(f.isLast=!0,f.nextFrame=f,f.prevFrame=f):(f.isLast=!1,f.prevFrame=this.frames[i-1],f.nextFrame=this.frames[c+1])):c===i-1&&i>1?(f.isLast=!0,f.prevFrame=this.frames[i-2],f.nextFrame=this.frames[0]):i>1&&(f.prevFrame=this.frames[c-1],f.nextFrame=this.frames[c+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(o.PAUSE_ALL,this.pause,this),this.manager.off(o.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var i=0;i<this.frames.length;i++)this.frames[i].destroy();this.frames=[],this.manager=null}});u.exports=l},41138:(u,m,t)=>{var a=t(83419),p=new a({initialize:function(s,r,e,n,l){l===void 0&&(l=!1),this.textureKey=s,this.textureFrame=r,this.index=e,this.frame=n,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=l},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});u.exports=p},60848:(u,m,t)=>{var a=t(42099),p=t(83419),o=t(90330),s=t(50792),r=t(74943),e=t(8443),n=t(95540),l=t(35154),i=t(36383),h=t(20283),f=t(41836),c=new p({Extends:s,initialize:function(v){s.call(this),this.game=v,this.textureManager=null,this.globalTimeScale=1,this.anims=new o,this.mixes=new o,this.paused=!1,this.name="AnimationManager",v.events.once(e.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(e.DESTROY,this.destroy,this)},addMix:function(d,v,g){var y=this.anims,x=this.mixes,T=typeof d=="string"?d:d.key,S=typeof v=="string"?v:v.key;if(y.has(T)&&y.has(S)){var A=x.get(T);A||(A={}),A[S]=g,x.set(T,A)}return this},removeMix:function(d,v){var g=this.mixes,y=typeof d=="string"?d:d.key,x=g.get(y);if(x)if(v){var T=typeof v=="string"?v:v.key;x.hasOwnProperty(T)&&delete x[T]}else v||g.delete(y);return this},getMix:function(d,v){var g=this.mixes,y=typeof d=="string"?d:d.key,x=typeof v=="string"?v:v.key,T=g.get(y);return T&&T.hasOwnProperty(x)?T[x]:0},add:function(d,v){return this.anims.has(d)?(console.warn("Animation key exists: "+d),this):(v.key=d,this.anims.set(d,v),this.emit(r.ADD_ANIMATION,d,v),this)},exists:function(d){return this.anims.has(d)},createFromAseprite:function(d,v,g){var y=[],x=this.game.cache.json.get(d);if(!x)return console.warn("No Aseprite data found for: "+d),y;var T=this,S=l(x,"meta",null),A=l(x,"frames",null);if(S&&A){var P=l(S,"frameTags",[]);P.forEach(function(D){var R=[],L=n(D,"name",null),I=n(D,"from",0),w=n(D,"to",0),B=n(D,"direction","forward");if(L&&(!v||v&&v.indexOf(L)>-1)){for(var b=0,V=I;V<=w;V++){var X=V.toString(),G=A[X];if(G){var U=n(G,"duration",i.MAX_SAFE_INTEGER);R.push({key:d,frame:X,duration:U}),b+=U}}B==="reverse"&&(R=R.reverse());var O={key:L,frames:R,duration:b,yoyo:B==="pingpong"},z;g?g.anims&&(z=g.anims.create(O)):z=T.create(O),z&&y.push(z)}})}return y},create:function(d){var v=d.key,g=!1;return v&&(g=this.get(v),g?console.warn("AnimationManager key already exists: "+v):(g=new a(this,v,d),this.anims.set(v,g),this.emit(r.ADD_ANIMATION,v,g))),g},fromJSON:function(d,v){v===void 0&&(v=!1),v&&this.anims.clear(),typeof d=="string"&&(d=JSON.parse(d));var g=[];if(d.hasOwnProperty("anims")&&Array.isArray(d.anims)){for(var y=0;y<d.anims.length;y++)g.push(this.create(d.anims[y]));d.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=d.globalTimeScale)}else d.hasOwnProperty("key")&&d.type==="frame"&&g.push(this.create(d));return g},generateFrameNames:function(d,v){var g=l(v,"prefix",""),y=l(v,"start",0),x=l(v,"end",0),T=l(v,"suffix",""),S=l(v,"zeroPad",0),A=l(v,"outputArray",[]),P=l(v,"frames",!1);if(!this.textureManager.exists(d))return console.warn('Texture "%s" not found',d),A;var D=this.textureManager.get(d);if(!D)return A;var R;if(v)for(P||(P=h(y,x)),R=0;R<P.length;R++){var L=g+f(P[R],S,"0",1)+T;D.has(L)?A.push({key:d,frame:L}):console.warn('Frame "%s" not found in texture "%s"',L,d)}else for(P=D.getFrameNames(),R=0;R<P.length;R++)A.push({key:d,frame:P[R]});return A},generateFrameNumbers:function(d,v){var g=l(v,"start",0),y=l(v,"end",-1),x=l(v,"first",!1),T=l(v,"outputArray",[]),S=l(v,"frames",!1);if(!this.textureManager.exists(d))return console.warn('Texture "%s" not found',d),T;var A=this.textureManager.get(d);if(!A)return T;x&&A.has(x)&&T.push({key:d,frame:x}),S||(y===-1&&(y=A.frameTotal-2),S=h(g,y));for(var P=0;P<S.length;P++){var D=S[P];A.has(D)?T.push({key:d,frame:D}):console.warn('Frame "%s" not found in texture "%s"',D,d)}return T},get:function(d){return this.anims.get(d)},getAnimsFromTexture:function(d){for(var v=this.textureManager.get(d),g=v.key,y=this.anims.getArray(),x=[],T=0;T<y.length;T++)for(var S=y[T],A=S.frames,P=0;P<A.length;P++)if(A[P].textureKey===g){x.push(S.key);break}return x},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(r.PAUSE_ALL)),this},play:function(d,v){Array.isArray(v)||(v=[v]);for(var g=0;g<v.length;g++)v[g].anims.play(d);return this},staggerPlay:function(d,v,g,y){g===void 0&&(g=0),y===void 0&&(y=!0),Array.isArray(v)||(v=[v]);var x=v.length;y||x--;for(var T=0;T<v.length;T++){var S=g<0?Math.abs(g)*(x-T):g*T;v[T].anims.playAfterDelay(d,S)}return this},remove:function(d){var v=this.get(d);return v&&(this.emit(r.REMOVE_ANIMATION,d,v),this.anims.delete(d),this.removeMix(d)),v},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(r.RESUME_ALL)),this},toJSON:function(d){var v={anims:[],globalTimeScale:this.globalTimeScale};return d!==void 0&&d!==""?v.anims.push(this.anims.get(d).toJSON()):this.anims.each(function(g,y){v.anims.push(y.toJSON())}),v},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});u.exports=c},9674:(u,m,t)=>{var a=t(42099),p=t(30976),o=t(83419),s=t(90330),r=t(74943),e=t(95540),n=new o({initialize:function(i){this.parent=i,this.animationManager=i.scene.sys.anims,this.animationManager.on(r.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(l){var i=this.parent;if(l===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,i;Array.isArray(l)||(l=[l]);for(var h=0;h<l.length;h++){var f=l[h];this.nextAnim?this.nextAnimsQueue.push(f):this.nextAnim=f}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(l){this.isPlaying&&this.stop();var i=this.animationManager,h=typeof l=="string"?l:e(l,"key",null),f=this.exists(h)?this.get(h):i.get(h);if(!f)console.warn("Missing animation: "+h);else{this.currentAnim=f;var c=f.getTotalFrames(),d=e(l,"frameRate",f.frameRate),v=e(l,"duration",f.duration);f.calculateDuration(this,c,v,d),this.delay=e(l,"delay",f.delay),this.repeat=e(l,"repeat",f.repeat),this.repeatDelay=e(l,"repeatDelay",f.repeatDelay),this.yoyo=e(l,"yoyo",f.yoyo),this.showBeforeDelay=e(l,"showBeforeDelay",f.showBeforeDelay),this.showOnStart=e(l,"showOnStart",f.showOnStart),this.hideOnComplete=e(l,"hideOnComplete",f.hideOnComplete),this.skipMissedFrames=e(l,"skipMissedFrames",f.skipMissedFrames),this.randomFrame=e(l,"randomFrame",f.randomFrame),this.timeScale=e(l,"timeScale",this.timeScale);var g=e(l,"startFrame",0);g>c&&(g=0),this.randomFrame&&(g=p(0,c-1));var y=f.frames[g];g===0&&!this.forward&&(y=f.getLastFrame()),this.currentFrame=y}return this.parent},pause:function(l){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),l!==void 0&&this.setCurrentFrame(l),this.parent},resume:function(l){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),l!==void 0&&this.setCurrentFrame(l),this.parent},playAfterDelay:function(l,i){if(!this.isPlaying)this.delayCounter=i,this.play(l,!0);else{var h=this.nextAnim,f=this.nextAnimsQueue;h&&f.unshift(h),this.nextAnim=l,this._pendingStop=1,this._pendingStopValue=i}return this.parent},playAfterRepeat:function(l,i){if(i===void 0&&(i=1),!this.isPlaying)this.play(l);else{var h=this.nextAnim,f=this.nextAnimsQueue;h&&f.unshift(h),this.repeatCounter!==-1&&i>this.repeatCounter&&(i=this.repeatCounter),this.nextAnim=l,this._pendingStop=2,this._pendingStopValue=i}return this.parent},play:function(l,i){i===void 0&&(i=!1);var h=this.currentAnim,f=this.parent,c=typeof l=="string"?l:l.key;if(i&&this.isPlaying&&h.key===c)return f;if(h&&this.isPlaying){var d=this.animationManager.getMix(h.key,l);if(d>0)return this.playAfterDelay(l,d)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(l)},playReverse:function(l,i){i===void 0&&(i=!1);var h=typeof l=="string"?l:l.key;return i&&this.isPlaying&&this.currentAnim.key===h?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(l))},startAnimation:function(l){this.load(l);var i=this.currentAnim,h=this.parent;return i&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,i.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),h},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(r.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(r.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(r.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(r.ANIMATION_COMPLETE,r.ANIMATION_COMPLETE_KEY)},emitEvents:function(l,i){var h=this.currentAnim;if(h){var f=this.currentFrame,c=this.parent,d=f.textureFrame;c.emit(l,h,f,c,d),i&&c.emit(i+h.key,h,f,c,d)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var l=this.currentFrame;if(!l)return 0;var i=l.progress;return this.inReverse&&(i*=-1),i},setProgress:function(l){return this.forward||(l=1-l),this.setCurrentFrame(this.currentAnim.getFrameByProgress(l)),this.parent},setRepeat:function(l){return this.repeatCounter=l===-1?Number.MAX_VALUE:l,this.parent},globalRemove:function(l,i){i===void 0&&(i=this.currentAnim),this.isPlaying&&i.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(l,i){l===void 0&&(l=!1),i===void 0&&(i=!1);var h=this.currentAnim,f=this.parent;return h?(i&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),h.getFirstTick(this),this.emitEvents(r.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!l,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(h.frames[0]),this.parent):f},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var l=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(l)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var l=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(l)}return this.parent},stopAfterDelay:function(l){return this._pendingStop=1,this._pendingStopValue=l,this.parent},stopAfterRepeat:function(l){return l===void 0&&(l=1),this.repeatCounter!==-1&&l>this.repeatCounter&&(l=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=l,this.parent},stopOnFrame:function(l){return this._pendingStop=3,this._pendingStopValue=l,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(l,i){var h=this.currentAnim;if(!(!this.isPlaying||!h||h.paused)){if(this.accumulator+=i*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=i,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?h.nextFrame(this):h.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var f=0;do this.forward?h.nextFrame(this):h.previousFrame(this),f++;while(this.isPlaying&&this.accumulator>this.nextTick&&f<60)}}},setCurrentFrame:function(l){var i=this.parent;return this.currentFrame=l,i.texture=l.frame.texture,i.frame=l.frame,i.isCropped&&i.frame.updateCropUVs(i._crop,i.flipX,i.flipY),l.setAlpha&&(i.alpha=l.alpha),i.setSizeToFrame(),i._originComponent&&(l.frame.customPivot?i.setOrigin(l.frame.pivotX,l.frame.pivotY):i.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(r.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===l&&this.stop()),i},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(l){return this.anims?this.anims.get(l):null},exists:function(l){return this.anims?this.anims.has(l):!1},create:function(l){var i=l.key,h=!1;return i&&(h=this.get(i),h?console.warn("Animation key already exists: "+i):(h=new a(this,i,l),this.anims||(this.anims=new s),this.anims.set(i,h))),h},createFromAseprite:function(l,i){return this.animationManager.createFromAseprite(l,i,this.parent)},generateFrameNames:function(l,i){return this.animationManager.generateFrameNames(l,i)},generateFrameNumbers:function(l,i){return this.animationManager.generateFrameNumbers(l,i)},remove:function(l){var i=this.get(l);return i&&(this.currentAnim===i&&this.stop(),this.anims.delete(l)),i},destroy:function(){this.animationManager.off(r.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});u.exports=n},57090:u=>{u.exports="add"},25312:u=>{u.exports="animationcomplete"},89580:u=>{u.exports="animationcomplete-"},52860:u=>{u.exports="animationrepeat"},63850:u=>{u.exports="animationrestart"},99085:u=>{u.exports="animationstart"},28087:u=>{u.exports="animationstop"},1794:u=>{u.exports="animationupdate"},52562:u=>{u.exports="pauseall"},57953:u=>{u.exports="remove"},68339:u=>{u.exports="resumeall"},74943:(u,m,t)=>{u.exports={ADD_ANIMATION:t(57090),ANIMATION_COMPLETE:t(25312),ANIMATION_COMPLETE_KEY:t(89580),ANIMATION_REPEAT:t(52860),ANIMATION_RESTART:t(63850),ANIMATION_START:t(99085),ANIMATION_STOP:t(28087),ANIMATION_UPDATE:t(1794),PAUSE_ALL:t(52562),REMOVE_ANIMATION:t(57953),RESUME_ALL:t(68339)}},60421:(u,m,t)=>{u.exports={Animation:t(42099),AnimationFrame:t(41138),AnimationManager:t(60848),AnimationState:t(9674),Events:t(74943)}},2161:(u,m,t)=>{var a=t(83419),p=t(90330),o=t(50792),s=t(24736),r=new a({initialize:function(){this.entries=new p,this.events=new o},add:function(e,n){return this.entries.set(e,n),this.events.emit(s.ADD,this,e,n),this},has:function(e){return this.entries.has(e)},exists:function(e){return this.entries.has(e)},get:function(e){return this.entries.get(e)},remove:function(e){var n=this.get(e);return n&&(this.entries.delete(e),this.events.emit(s.REMOVE,this,e,n.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});u.exports=r},24047:(u,m,t)=>{var a=t(2161),p=t(83419),o=t(8443),s=new p({initialize:function(e){this.game=e,this.binary=new a,this.bitmapFont=new a,this.json=new a,this.physics=new a,this.shader=new a,this.audio=new a,this.video=new a,this.text=new a,this.html=new a,this.obj=new a,this.tilemap=new a,this.xml=new a,this.custom={},this.game.events.once(o.DESTROY,this.destroy,this)},addCustom:function(r){return this.custom.hasOwnProperty(r)||(this.custom[r]=new a),this.custom[r]},destroy:function(){for(var r=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],e=0;e<r.length;e++)this[r[e]].destroy(),this[r[e]]=null;for(var n in this.custom)this.custom[n].destroy();this.custom=null,this.game=null}});u.exports=s},51464:u=>{u.exports="add"},59261:u=>{u.exports="remove"},24736:(u,m,t)=>{u.exports={ADD:t(51464),REMOVE:t(59261)}},83388:(u,m,t)=>{u.exports={BaseCache:t(2161),CacheManager:t(24047),Events:t(24736)}},71911:(u,m,t)=>{var a=t(83419),p=t(31401),o=t(39506),s=t(50792),r=t(19715),e=t(87841),n=t(61340),l=t(80333),i=t(26099),h=new a({Extends:s,Mixins:[p.AlphaSingle,p.Visible],initialize:function(c,d,v,g){c===void 0&&(c=0),d===void 0&&(d=0),v===void 0&&(v=0),g===void 0&&(g=0),s.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new e,this.dirty=!0,this._x=c,this._y=d,this._width=v,this._height=g,this._bounds=new e,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new n,this.transparent=!0,this.backgroundColor=l("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new i(v/2,g/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0,this.renderRoundPixels=!0},addToRenderList:function(f){this.renderList.push(f)},setOrigin:function(f,c){return f===void 0&&(f=.5),c===void 0&&(c=f),this.originX=f,this.originY=c,this},getScroll:function(f,c,d){d===void 0&&(d=new i);var v=this.width*.5,g=this.height*.5;return d.x=f-v,d.y=c-g,this.useBounds&&(d.x=this.clampX(d.x),d.y=this.clampY(d.y)),d},centerOnX:function(f){var c=this.width*.5;return this.midPoint.x=f,this.scrollX=f-c,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(f){var c=this.height*.5;return this.midPoint.y=f,this.scrollY=f-c,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(f,c){return this.centerOnX(f),this.centerOnY(c),this},centerToBounds:function(){if(this.useBounds){var f=this._bounds,c=this.width*.5,d=this.height*.5;this.midPoint.set(f.centerX,f.centerY),this.scrollX=f.centerX-c,this.scrollY=f.centerY-d}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(f){if(this.disableCull)return f;var c=this.matrix.matrix,d=c[0],v=c[1],g=c[2],y=c[3],x=d*y-v*g;if(!x)return f;var T=c[4],S=c[5],A=this.scrollX,P=this.scrollY,D=this.width,R=this.height,L=this.y,I=L+R,w=this.x,B=w+D,b=this.culledObjects,V=f.length;x=1/x,b.length=0;for(var X=0;X<V;++X){var G=f[X];if(!G.hasOwnProperty("width")||G.parentContainer){b.push(G);continue}var U=G.width,O=G.height,z=G.x-A*G.scrollFactorX-U*G.originX,N=G.y-P*G.scrollFactorY-O*G.originY,Y=z*d+N*g+T,W=z*v+N*y+S,H=(z+U)*d+(N+O)*g+T,$=(z+U)*v+(N+O)*y+S;H>w&&Y<B&&$>L&&W<I&&b.push(G)}return b},getWorldPoint:function(f,c,d){d===void 0&&(d=new i);var v=this.matrix.matrix,g=v[0],y=v[1],x=v[2],T=v[3],S=v[4],A=v[5],P=g*T-y*x;if(!P)return d.x=f,d.y=c,d;P=1/P;var D=T*P,R=-y*P,L=-x*P,I=g*P,w=(x*A-T*S)*P,B=(y*S-g*A)*P,b=Math.cos(this.rotation),V=Math.sin(this.rotation),X=this.zoomX,G=this.zoomY,U=this.scrollX,O=this.scrollY,z=f+(U*b-O*V)*X,N=c+(U*V+O*b)*G;return d.x=z*D+N*L+w,d.y=z*R+N*I+B,d},ignore:function(f){var c=this.id;Array.isArray(f)||(f=[f]);for(var d=0;d<f.length;d++){var v=f[d];Array.isArray(v)?this.ignore(v):v.isParent?this.ignore(v.getChildren()):v.cameraFilter|=c}return this},clampX:function(f){var c=this._bounds,d=this.displayWidth,v=c.x+(d-this.width)/2,g=Math.max(v,v+c.width-d);return f<v?f=v:f>g&&(f=g),f},clampY:function(f){var c=this._bounds,d=this.displayHeight,v=c.y+(d-this.height)/2,g=Math.max(v,v+c.height-d);return f<v?f=v:f>g&&(f=g),f},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(f){return f===void 0&&(f=0),this.rotation=o(f),this},setBackgroundColor:function(f){return f===void 0&&(f="rgba(0,0,0,0)"),this.backgroundColor=l(f),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(f,c,d,v,g){return g===void 0&&(g=!1),this._bounds.setTo(f,c,d,v),this.dirty=!0,this.useBounds=!0,g?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(f){f===void 0&&(f=new e);var c=this._bounds;return f.setTo(c.x,c.y,c.width,c.height),f},setName:function(f){return f===void 0&&(f=""),this.name=f,this},setPosition:function(f,c){return c===void 0&&(c=f),this.x=f,this.y=c,this},setRotation:function(f){return f===void 0&&(f=0),this.rotation=f,this},setRoundPixels:function(f){return this.roundPixels=f,this},setScene:function(f,c){c===void 0&&(c=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=f,this.isSceneCamera=c;var d=f.sys;return this.sceneManager=d.game.scene,this.scaleManager=d.scale,this.cameraManager=d.cameras,this.updateSystem(),this},setScroll:function(f,c){return c===void 0&&(c=f),this.scrollX=f,this.scrollY=c,this},setSize:function(f,c){return c===void 0&&(c=f),this.width=f,this.height=c,this},setViewport:function(f,c,d,v){return this.x=f,this.y=c,this.width=d,this.height=v,this},setZoom:function(f,c){return f===void 0&&(f=1),c===void 0&&(c=f),f===0&&(f=.001),c===0&&(c=.001),this.zoomX=f,this.zoomY=c,this},setMask:function(f,c){return c===void 0&&(c=!0),this.mask=f,this._maskCamera=c?this.cameraManager.default:this,this},clearMask:function(f){return f===void 0&&(f=!1),f&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var f={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(f.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),f},update:function(){},setIsSceneCamera:function(f){return this.isSceneCamera=f,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var f=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,c=this.sceneManager;f&&!this._customViewport?c.customViewports++:!f&&this._customViewport&&c.customViewports--,this.dirty=!0,this._customViewport=f}},destroy:function(){this.emit(r.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(f){this._x=f,this.updateSystem()}},y:{get:function(){return this._y},set:function(f){this._y=f,this.updateSystem()}},width:{get:function(){return this._width},set:function(f){this._width=f,this.updateSystem()}},height:{get:function(){return this._height},set:function(f){this._height=f,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(f){f!==this._scrollX&&(this._scrollX=f,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(f){f!==this._scrollY&&(this._scrollY=f,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(f){this._zoomX=f,this._zoomY=f,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(f){this._zoomX=f,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(f){this._zoomY=f,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(f){this._rotation=f,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});u.exports=h},38058:(u,m,t)=>{var a=t(71911),p=t(67502),o=t(45319),s=t(83419),r=t(31401),e=t(20052),n=t(19715),l=t(28915),i=t(87841),h=t(26099),f=new s({Extends:a,Mixins:[r.PostPipeline],initialize:function(d,v,g,y){a.call(this,d,v,g,y),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new e.Fade(this),this.flashEffect=new e.Flash(this),this.shakeEffect=new e.Shake(this),this.panEffect=new e.Pan(this),this.rotateToEffect=new e.RotateTo(this),this.zoomEffect=new e.Zoom(this),this.lerp=new h(1,1),this.followOffset=new h,this.deadzone=null,this._follow=null},setDeadzone:function(c,d){if(c===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=c,this.deadzone.height=d):this.deadzone=new i(0,0,c,d),this._follow){var v=this.width/2,g=this.height/2,y=this._follow.x-this.followOffset.x,x=this._follow.y-this.followOffset.y;this.midPoint.set(y,x),this.scrollX=y-v,this.scrollY=x-g}p(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(c,d,v,g,y,x){return this.fadeEffect.start(!1,c,d,v,g,!0,y,x)},fadeOut:function(c,d,v,g,y,x){return this.fadeEffect.start(!0,c,d,v,g,!0,y,x)},fadeFrom:function(c,d,v,g,y,x,T){return this.fadeEffect.start(!1,c,d,v,g,y,x,T)},fade:function(c,d,v,g,y,x,T){return this.fadeEffect.start(!0,c,d,v,g,y,x,T)},flash:function(c,d,v,g,y,x,T){return this.flashEffect.start(c,d,v,g,y,x,T)},shake:function(c,d,v,g,y){return this.shakeEffect.start(c,d,v,g,y)},pan:function(c,d,v,g,y,x,T){return this.panEffect.start(c,d,v,g,y,x,T)},rotateTo:function(c,d,v,g,y,x,T){return this.rotateToEffect.start(c,d,v,g,y,x,T)},zoomTo:function(c,d,v,g,y,x){return this.zoomEffect.start(c,d,v,g,y,x)},preRender:function(){this.renderList.length=0;var c=this.width,d=this.height,v=c*.5,g=d*.5,y=this.zoomX,x=this.zoomY,T=this.matrix;this.renderRoundPixels=this.roundPixels&&Number.isInteger(y)&&Number.isInteger(x);var S=c*this.originX,A=d*this.originY,P=this._follow,D=this.deadzone,R=this.scrollX,L=this.scrollY;D&&p(D,this.midPoint.x,this.midPoint.y);var I=!1;if(P&&!this.panEffect.isRunning){var w=this.lerp,B=P.x-this.followOffset.x,b=P.y-this.followOffset.y;D?(B<D.x?R=l(R,R-(D.x-B),w.x):B>D.right&&(R=l(R,R+(B-D.right),w.x)),b<D.y?L=l(L,L-(D.y-b),w.y):b>D.bottom&&(L=l(L,L+(b-D.bottom),w.y))):(R=l(R,B-S,w.x),L=l(L,b-A,w.y)),I=!0}this.roundPixels&&(R=Math.floor(R),L=Math.floor(L)),this.useBounds&&(R=this.clampX(R),L=this.clampY(L)),this.scrollX=R,this.scrollY=L;var V=R+v,X=L+g;this.midPoint.set(V,X);var G=Math.floor(c/y+.5),U=Math.floor(d/x+.5),O=Math.floor(V-G/2+.5),z=Math.floor(X-U/2+.5);this.worldView.setTo(O,z,G,U),T.applyITRS(Math.floor(this.x+S+.5),Math.floor(this.y+A+.5),this.rotation,y,x),T.translate(-S,-A),this.shakeEffect.preRender(),I&&this.emit(n.FOLLOW_UPDATE,this,P)},setLerp:function(c,d){return c===void 0&&(c=1),d===void 0&&(d=c),this.lerp.set(c,d),this},setFollowOffset:function(c,d){return c===void 0&&(c=0),d===void 0&&(d=0),this.followOffset.set(c,d),this},startFollow:function(c,d,v,g,y,x){d===void 0&&(d=!1),v===void 0&&(v=1),g===void 0&&(g=v),y===void 0&&(y=0),x===void 0&&(x=y),this._follow=c,this.roundPixels=d,v=o(v,0,1),g=o(g,0,1),this.lerp.set(v,g),this.followOffset.set(y,x);var T=this.width/2,S=this.height/2,A=c.x-y,P=c.y-x;return this.midPoint.set(A,P),this.scrollX=A-T,this.scrollY=P-S,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(c,d){this.visible&&(this.rotateToEffect.update(c,d),this.panEffect.update(c,d),this.zoomEffect.update(c,d),this.shakeEffect.update(c,d),this.flashEffect.update(c,d),this.fadeEffect.update(c,d))},destroy:function(){this.resetFX(),a.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});u.exports=f},32743:(u,m,t)=>{var a=t(38058),p=t(83419),o=t(95540),s=t(37277),r=t(37303),e=t(97480),n=t(44594),l=new p({initialize:function(h){this.scene=h,this.systems=h.sys,this.roundPixels=h.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,h.sys.events.once(n.BOOT,this.boot,this),h.sys.events.on(n.START,this.start,this)},boot:function(){var i=this.systems;i.settings.cameras?this.fromJSON(i.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new a(0,0,i.scale.width,i.scale.height).setScene(this.scene),i.game.scale.on(e.RESIZE,this.onResize,this),this.systems.events.once(n.DESTROY,this.destroy,this)},start:function(){if(!this.main){var i=this.systems;i.settings.cameras?this.fromJSON(i.settings.cameras):this.add(),this.main=this.cameras[0]}var h=this.systems.events;h.on(n.UPDATE,this.update,this),h.once(n.SHUTDOWN,this.shutdown,this)},add:function(i,h,f,c,d,v){i===void 0&&(i=0),h===void 0&&(h=0),f===void 0&&(f=this.scene.sys.scale.width),c===void 0&&(c=this.scene.sys.scale.height),d===void 0&&(d=!1),v===void 0&&(v="");var g=new a(i,h,f,c);return g.setName(v),g.setScene(this.scene),g.setRoundPixels(this.roundPixels),g.id=this.getNextID(),this.cameras.push(g),d&&(this.main=g),g},addExisting:function(i,h){h===void 0&&(h=!1);var f=this.cameras.indexOf(i);return f===-1?(i.id=this.getNextID(),i.setRoundPixels(this.roundPixels),this.cameras.push(i),h&&(this.main=i),i):null},getNextID:function(){for(var i=this.cameras,h=1,f=0;f<32;f++){for(var c=!1,d=0;d<i.length;d++){var v=i[d];if(v&&v.id===h){c=!0;continue}}if(c)h=h<<1;else return h}return 0},getTotal:function(i){i===void 0&&(i=!1);for(var h=0,f=this.cameras,c=0;c<f.length;c++){var d=f[c];(!i||i&&d.visible)&&h++}return h},fromJSON:function(i){Array.isArray(i)||(i=[i]);for(var h=this.scene.sys.scale.width,f=this.scene.sys.scale.height,c=0;c<i.length;c++){var d=i[c],v=o(d,"x",0),g=o(d,"y",0),y=o(d,"width",h),x=o(d,"height",f),T=this.add(v,g,y,x);T.name=o(d,"name",""),T.zoom=o(d,"zoom",1),T.rotation=o(d,"rotation",0),T.scrollX=o(d,"scrollX",0),T.scrollY=o(d,"scrollY",0),T.roundPixels=o(d,"roundPixels",!1),T.visible=o(d,"visible",!0);var S=o(d,"backgroundColor",!1);S&&T.setBackgroundColor(S);var A=o(d,"bounds",null);if(A){var P=o(A,"x",0),D=o(A,"y",0),R=o(A,"width",h),L=o(A,"height",f);T.setBounds(P,D,R,L)}}return this},getCamera:function(i){for(var h=this.cameras,f=0;f<h.length;f++)if(h[f].name===i)return h[f];return null},getCamerasBelowPointer:function(i){for(var h=this.cameras,f=i.x,c=i.y,d=[],v=0;v<h.length;v++){var g=h[v];g.visible&&g.inputEnabled&&r(g,f,c)&&d.unshift(g)}return d},remove:function(i,h){h===void 0&&(h=!0),Array.isArray(i)||(i=[i]);for(var f=0,c=this.cameras,d=0;d<i.length;d++){var v=c.indexOf(i[d]);v!==-1&&(h?c[v].destroy():c[v].renderList=[],c.splice(v,1),f++)}return!this.main&&c[0]&&(this.main=c[0]),f},render:function(i,h){for(var f=this.scene,c=this.cameras,d=0;d<c.length;d++){var v=c[d];if(v.visible&&v.alpha>0){v.preRender();var g=this.getVisibleChildren(h.getChildren(),v);i.render(f,g,v)}}},getVisibleChildren:function(i,h){return i.filter(function(f){return f.willRender(h)})},resetAll:function(){for(var i=0;i<this.cameras.length;i++)this.cameras[i].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(i,h){for(var f=0;f<this.cameras.length;f++)this.cameras[f].update(i,h)},onResize:function(i,h,f,c,d){for(var v=0;v<this.cameras.length;v++){var g=this.cameras[v];g._x===0&&g._y===0&&g._width===c&&g._height===d&&g.setSize(h.width,h.height)}},resize:function(i,h){for(var f=0;f<this.cameras.length;f++)this.cameras[f].setSize(i,h)},shutdown:function(){this.main=void 0;for(var i=0;i<this.cameras.length;i++)this.cameras[i].destroy();this.cameras=[];var h=this.systems.events;h.off(n.UPDATE,this.update,this),h.off(n.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(n.START,this.start,this),this.systems.events.off(n.DESTROY,this.destroy,this),this.systems.game.scale.off(e.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});s.register("CameraManager",l,"cameras"),u.exports=l},5020:(u,m,t)=>{var a=t(45319),p=t(83419),o=t(19715),s=new p({initialize:function(e){this.camera=e,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(r,e,n,l,i,h,f,c){if(r===void 0&&(r=!0),e===void 0&&(e=1e3),n===void 0&&(n=0),l===void 0&&(l=0),i===void 0&&(i=0),h===void 0&&(h=!1),f===void 0&&(f=null),c===void 0&&(c=this.camera.scene),!h&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=e,this.direction=r,this.progress=0,this.red=n,this.green=l,this.blue=i,this.alpha=r?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=f,this._onUpdateScope=c;var d=r?o.FADE_OUT_START:o.FADE_IN_START;return this.camera.emit(d,this.camera,this,e,n,l,i),this.camera},update:function(r,e){this.isRunning&&(this._elapsed+=e,this.progress=a(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(r){if(!this.isRunning&&!this.isComplete)return!1;var e=this.camera;return r.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",r.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(r,e){if(!this.isRunning&&!this.isComplete)return!1;var n=this.camera,l=this.red/255,i=this.green/255,h=this.blue/255;return r.drawFillRect(n.x,n.y,n.width,n.height,e(h,i,l,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var r=this.direction?o.FADE_OUT_COMPLETE:o.FADE_IN_COMPLETE;this.camera.emit(r,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});u.exports=s},10662:(u,m,t)=>{var a=t(45319),p=t(83419),o=t(19715),s=new p({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(r,e,n,l,i,h,f){return r===void 0&&(r=250),e===void 0&&(e=255),n===void 0&&(n=255),l===void 0&&(l=255),i===void 0&&(i=!1),h===void 0&&(h=null),f===void 0&&(f=this.camera.scene),!i&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=r,this.progress=0,this.red=e,this.green=n,this.blue=l,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=h,this._onUpdateScope=f,this.camera.emit(o.FLASH_START,this.camera,this,r,e,n,l),this.camera)},update:function(r,e){this.isRunning&&(this._elapsed+=e,this.progress=a(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(r){if(!this.isRunning)return!1;var e=this.camera;return r.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",r.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(r,e){if(!this.isRunning)return!1;var n=this.camera,l=this.red/255,i=this.green/255,h=this.blue/255;return r.drawFillRect(n.x,n.y,n.width,n.height,e(h,i,l,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});u.exports=s},20359:(u,m,t)=>{var a=t(45319),p=t(83419),o=t(62640),s=t(19715),r=t(26099),e=new p({initialize:function(l){this.camera=l,this.isRunning=!1,this.duration=0,this.source=new r,this.current=new r,this.destination=new r,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(n,l,i,h,f,c,d){i===void 0&&(i=1e3),h===void 0&&(h=o.Linear),f===void 0&&(f=!1),c===void 0&&(c=null),d===void 0&&(d=this.camera.scene);var v=this.camera;return!f&&this.isRunning||(this.isRunning=!0,this.duration=i,this.progress=0,this.source.set(v.scrollX,v.scrollY),this.destination.set(n,l),v.getScroll(n,l,this.current),typeof h=="string"&&o.hasOwnProperty(h)?this.ease=o[h]:typeof h=="function"&&(this.ease=h),this._elapsed=0,this._onUpdate=c,this._onUpdateScope=d,this.camera.emit(s.PAN_START,this.camera,this,i,n,l)),v},update:function(n,l){if(this.isRunning){this._elapsed+=l;var i=a(this._elapsed/this.duration,0,1);this.progress=i;var h=this.camera;if(this._elapsed<this.duration){var f=this.ease(i);h.getScroll(this.destination.x,this.destination.y,this.current);var c=this.source.x+(this.current.x-this.source.x)*f,d=this.source.y+(this.current.y-this.source.y)*f;h.setScroll(c,d),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,h,i,c,d)}else h.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,h,i,h.scrollX,h.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(s.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});u.exports=e},34208:(u,m,t)=>{var a=t(45319),p=t(83419),o=t(19715),s=t(62640),r=new p({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(e,n,l,i,h,f,c){l===void 0&&(l=1e3),i===void 0&&(i=s.Linear),h===void 0&&(h=!1),f===void 0&&(f=null),c===void 0&&(c=this.camera.scene),n===void 0&&(n=!1),this.shortestPath=n;var d=e;e<0?(d=-1*e,this.clockwise=!1):this.clockwise=!0;var v=360*Math.PI/180;d=d-Math.floor(d/v)*v;var g=this.camera;if(!h&&this.isRunning)return g;if(this.isRunning=!0,this.duration=l,this.progress=0,this.source=g.rotation,this.destination=d,typeof i=="string"&&s.hasOwnProperty(i)?this.ease=s[i]:typeof i=="function"&&(this.ease=i),this._elapsed=0,this._onUpdate=f,this._onUpdateScope=c,this.shortestPath){var y=0,x=0;this.destination>this.source?y=Math.abs(this.destination-this.source):y=Math.abs(this.destination+v)-this.source,this.source>this.destination?x=Math.abs(this.source-this.destination):x=Math.abs(this.source+v)-this.destination,y<x?this.clockwise=!0:y>x&&(this.clockwise=!1)}return this.camera.emit(o.ROTATE_START,this.camera,this,l,d),g},update:function(e,n){if(this.isRunning){this._elapsed+=n;var l=a(this._elapsed/this.duration,0,1);this.progress=l;var i=this.camera;if(this._elapsed<this.duration){var h=this.ease(l);this.current=i.rotation;var f=0,c=360*Math.PI/180,d=this.destination,v=this.current;this.clockwise===!1&&(d=this.current,v=this.destination),d>=v?f=Math.abs(d-v):f=Math.abs(d+c)-v;var g=0;this.clockwise?g=i.rotation+f*h:g=i.rotation-f*h,i.rotation=g,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,i,l,g)}else i.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,i,l,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});u.exports=r},30330:(u,m,t)=>{var a=t(45319),p=t(83419),o=t(19715),s=t(26099),r=new p({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.intensity=new s,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(e,n,l,i,h){return e===void 0&&(e=100),n===void 0&&(n=.05),l===void 0&&(l=!1),i===void 0&&(i=null),h===void 0&&(h=this.camera.scene),!l&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=e,this.progress=0,typeof n=="number"?this.intensity.set(n):this.intensity.set(n.x,n.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=i,this._onUpdateScope=h,this.camera.emit(o.SHAKE_START,this.camera,this,e,n),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(e,n){if(this.isRunning)if(this._elapsed+=n,this.progress=a(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var l=this.intensity,i=this.camera.width,h=this.camera.height,f=this.camera.zoom;this._offsetX=(Math.random()*l.x*i*2-l.x*i)*f,this._offsetY=(Math.random()*l.y*h*2-l.y*h)*f,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});u.exports=r},45641:(u,m,t)=>{var a=t(45319),p=t(83419),o=t(62640),s=t(19715),r=new p({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(e,n,l,i,h,f){n===void 0&&(n=1e3),l===void 0&&(l=o.Linear),i===void 0&&(i=!1),h===void 0&&(h=null),f===void 0&&(f=this.camera.scene);var c=this.camera;return!i&&this.isRunning||(this.isRunning=!0,this.duration=n,this.progress=0,this.source=c.zoom,this.destination=e,typeof l=="string"&&o.hasOwnProperty(l)?this.ease=o[l]:typeof l=="function"&&(this.ease=l),this._elapsed=0,this._onUpdate=h,this._onUpdateScope=f,this.camera.emit(s.ZOOM_START,this.camera,this,n,e)),c},update:function(e,n){this.isRunning&&(this._elapsed+=n,this.progress=a(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(s.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});u.exports=r},20052:(u,m,t)=>{u.exports={Fade:t(5020),Flash:t(10662),Pan:t(20359),Shake:t(30330),RotateTo:t(34208),Zoom:t(45641)}},16438:u=>{u.exports="cameradestroy"},32726:u=>{u.exports="camerafadeincomplete"},87807:u=>{u.exports="camerafadeinstart"},45917:u=>{u.exports="camerafadeoutcomplete"},95666:u=>{u.exports="camerafadeoutstart"},47056:u=>{u.exports="cameraflashcomplete"},91261:u=>{u.exports="cameraflashstart"},45047:u=>{u.exports="followupdate"},81927:u=>{u.exports="camerapancomplete"},74264:u=>{u.exports="camerapanstart"},54419:u=>{u.exports="postrender"},79330:u=>{u.exports="prerender"},93183:u=>{u.exports="camerarotatecomplete"},80112:u=>{u.exports="camerarotatestart"},62252:u=>{u.exports="camerashakecomplete"},86017:u=>{u.exports="camerashakestart"},539:u=>{u.exports="camerazoomcomplete"},51892:u=>{u.exports="camerazoomstart"},19715:(u,m,t)=>{u.exports={DESTROY:t(16438),FADE_IN_COMPLETE:t(32726),FADE_IN_START:t(87807),FADE_OUT_COMPLETE:t(45917),FADE_OUT_START:t(95666),FLASH_COMPLETE:t(47056),FLASH_START:t(91261),FOLLOW_UPDATE:t(45047),PAN_COMPLETE:t(81927),PAN_START:t(74264),POST_RENDER:t(54419),PRE_RENDER:t(79330),ROTATE_COMPLETE:t(93183),ROTATE_START:t(80112),SHAKE_COMPLETE:t(62252),SHAKE_START:t(86017),ZOOM_COMPLETE:t(539),ZOOM_START:t(51892)}},87969:(u,m,t)=>{u.exports={Camera:t(38058),BaseCamera:t(71911),CameraManager:t(32743),Effects:t(20052),Events:t(19715)}},63091:(u,m,t)=>{var a=t(83419),p=t(35154),o=new a({initialize:function(r){this.camera=p(r,"camera",null),this.left=p(r,"left",null),this.right=p(r,"right",null),this.up=p(r,"up",null),this.down=p(r,"down",null),this.zoomIn=p(r,"zoomIn",null),this.zoomOut=p(r,"zoomOut",null),this.zoomSpeed=p(r,"zoomSpeed",.01),this.minZoom=p(r,"minZoom",.001),this.maxZoom=p(r,"maxZoom",1e3),this.speedX=0,this.speedY=0;var e=p(r,"speed",null);typeof e=="number"?(this.speedX=e,this.speedY=e):(this.speedX=p(r,"speed.x",0),this.speedY=p(r,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(s){return this.camera=s,this},update:function(s){if(this.active){s===void 0&&(s=1);var r=this.camera;this.up&&this.up.isDown?r.scrollY-=this.speedY*s|0:this.down&&this.down.isDown&&(r.scrollY+=this.speedY*s|0),this.left&&this.left.isDown?r.scrollX-=this.speedX*s|0:this.right&&this.right.isDown&&(r.scrollX+=this.speedX*s|0),this.zoomIn&&this.zoomIn.isDown?(r.zoom-=this.zoomSpeed,r.zoom<this.minZoom&&(r.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(r.zoom+=this.zoomSpeed,r.zoom>this.maxZoom&&(r.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});u.exports=o},58818:(u,m,t)=>{var a=t(83419),p=t(35154),o=new a({initialize:function(r){this.camera=p(r,"camera",null),this.left=p(r,"left",null),this.right=p(r,"right",null),this.up=p(r,"up",null),this.down=p(r,"down",null),this.zoomIn=p(r,"zoomIn",null),this.zoomOut=p(r,"zoomOut",null),this.zoomSpeed=p(r,"zoomSpeed",.01),this.minZoom=p(r,"minZoom",.001),this.maxZoom=p(r,"maxZoom",1e3),this.accelX=0,this.accelY=0;var e=p(r,"acceleration",null);typeof e=="number"?(this.accelX=e,this.accelY=e):(this.accelX=p(r,"acceleration.x",0),this.accelY=p(r,"acceleration.y",0)),this.dragX=0,this.dragY=0;var n=p(r,"drag",null);typeof n=="number"?(this.dragX=n,this.dragY=n):(this.dragX=p(r,"drag.x",0),this.dragY=p(r,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var l=p(r,"maxSpeed",null);typeof l=="number"?(this.maxSpeedX=l,this.maxSpeedY=l):(this.maxSpeedX=p(r,"maxSpeed.x",0),this.maxSpeedY=p(r,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(s){return this.camera=s,this},update:function(s){if(this.active){s===void 0&&(s=1);var r=this.camera;this._speedX>0?(this._speedX-=this.dragX*s,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*s,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*s,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*s,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(r.scrollX-=this._speedX*s|0),this._speedY!==0&&(r.scrollY-=this._speedY*s|0),this._zoom!==0&&(r.zoom+=this._zoom,r.zoom<this.minZoom?r.zoom=this.minZoom:r.zoom>this.maxZoom&&(r.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});u.exports=o},38865:(u,m,t)=>{u.exports={FixedKeyControl:t(63091),SmoothedKeyControl:t(58818)}},26638:(u,m,t)=>{u.exports={Controls:t(38865),Scene2D:t(87969)}},8054:(u,m,t)=>{var a={VERSION:"3.90.0",LOG_VERSION:"v390",BlendModes:t(10312),ScaleModes:t(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};u.exports=a},69547:(u,m,t)=>{var a=t(83419),p=t(8054),o=t(42363),s=t(82264),r=t(95540),e=t(35154),n=t(41212),l=t(29747),i=t(75508),h=t(36060),f=t(80333),c=new a({initialize:function(v){v===void 0&&(v={});var g=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],y="#ffffff",x=e(v,"scale",null);this.width=e(x,"width",1024,v),this.height=e(x,"height",768,v),this.zoom=e(x,"zoom",1,v),this.parent=e(x,"parent",void 0,v),this.scaleMode=e(x,x?"mode":"scaleMode",0,v),this.expandParent=e(x,"expandParent",!0,v),this.autoRound=e(x,"autoRound",!1,v),this.autoCenter=e(x,"autoCenter",0,v),this.resizeInterval=e(x,"resizeInterval",500,v),this.fullscreenTarget=e(x,"fullscreenTarget",null,v),this.minWidth=e(x,"min.width",0,v),this.maxWidth=e(x,"max.width",0,v),this.minHeight=e(x,"min.height",0,v),this.maxHeight=e(x,"max.height",0,v),this.snapWidth=e(x,"snap.width",0,v),this.snapHeight=e(x,"snap.height",0,v),this.renderType=e(v,"type",p.AUTO),this.canvas=e(v,"canvas",null),this.context=e(v,"context",null),this.canvasStyle=e(v,"canvasStyle",null),this.customEnvironment=e(v,"customEnvironment",!1),this.sceneConfig=e(v,"scene",null),this.seed=e(v,"seed",[(Date.now()*Math.random()).toString()]),i.RND=new i.RandomDataGenerator(this.seed),this.gameTitle=e(v,"title",""),this.gameURL=e(v,"url","https://phaser.io/"+p.LOG_VERSION),this.gameVersion=e(v,"version",""),this.autoFocus=e(v,"autoFocus",!0),this.stableSort=e(v,"stableSort",-1),this.stableSort===-1&&(this.stableSort=s.browser.es2019?1:0),s.features.stableSort=this.stableSort,this.domCreateContainer=e(v,"dom.createContainer",!1),this.domPointerEvents=e(v,"dom.pointerEvents","none"),this.inputKeyboard=e(v,"input.keyboard",!0),this.inputKeyboardEventTarget=e(v,"input.keyboard.target",window),this.inputKeyboardCapture=e(v,"input.keyboard.capture",[]),this.inputMouse=e(v,"input.mouse",!0),this.inputMouseEventTarget=e(v,"input.mouse.target",null),this.inputMousePreventDefaultDown=e(v,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=e(v,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=e(v,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=e(v,"input.mouse.preventDefaultWheel",!0),this.inputTouch=e(v,"input.touch",s.input.touch),this.inputTouchEventTarget=e(v,"input.touch.target",null),this.inputTouchCapture=e(v,"input.touch.capture",!0),this.inputActivePointers=e(v,"input.activePointers",1),this.inputSmoothFactor=e(v,"input.smoothFactor",0),this.inputWindowEvents=e(v,"input.windowEvents",!0),this.inputGamepad=e(v,"input.gamepad",!1),this.inputGamepadEventTarget=e(v,"input.gamepad.target",window),this.disableContextMenu=e(v,"disableContextMenu",!1),this.audio=e(v,"audio",{}),this.hideBanner=e(v,"banner",null)===!1,this.hidePhaser=e(v,"banner.hidePhaser",!1),this.bannerTextColor=e(v,"banner.text",y),this.bannerBackgroundColor=e(v,"banner.background",g),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=e(v,"fps",null),this.disablePreFX=e(v,"disablePreFX",!1),this.disablePostFX=e(v,"disablePostFX",!1);var T=e(v,"render",null);this.pipeline=e(T,"pipeline",null,v),this.autoMobilePipeline=e(T,"autoMobilePipeline",!0,v),this.defaultPipeline=e(T,"defaultPipeline",h.MULTI_PIPELINE,v),this.antialias=e(T,"antialias",!0,v),this.antialiasGL=e(T,"antialiasGL",!0,v),this.mipmapFilter=e(T,"mipmapFilter","",v),this.desynchronized=e(T,"desynchronized",!1,v),this.roundPixels=e(T,"roundPixels",!1,v),this.pixelArt=e(T,"pixelArt",this.zoom!==1,v),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=e(T,"transparent",!1,v),this.clearBeforeRender=e(T,"clearBeforeRender",!0,v),this.preserveDrawingBuffer=e(T,"preserveDrawingBuffer",!1,v),this.premultipliedAlpha=e(T,"premultipliedAlpha",!0,v),this.failIfMajorPerformanceCaveat=e(T,"failIfMajorPerformanceCaveat",!1,v),this.powerPreference=e(T,"powerPreference","default",v),this.batchSize=e(T,"batchSize",4096,v),this.maxTextures=e(T,"maxTextures",-1,v),this.maxLights=e(T,"maxLights",10,v);var S=e(v,"backgroundColor",0);this.backgroundColor=f(S),this.transparent&&(this.backgroundColor=f(0),this.backgroundColor.alpha=0),this.preBoot=e(v,"callbacks.preBoot",l),this.postBoot=e(v,"callbacks.postBoot",l),this.physics=e(v,"physics",{}),this.defaultPhysicsSystem=e(this.physics,"default",!1),this.loaderBaseURL=e(v,"loader.baseURL",""),this.loaderPath=e(v,"loader.path",""),this.loaderMaxParallelDownloads=e(v,"loader.maxParallelDownloads",s.os.android?6:32),this.loaderCrossOrigin=e(v,"loader.crossOrigin",void 0),this.loaderResponseType=e(v,"loader.responseType",""),this.loaderAsync=e(v,"loader.async",!0),this.loaderUser=e(v,"loader.user",""),this.loaderPassword=e(v,"loader.password",""),this.loaderTimeout=e(v,"loader.timeout",0),this.loaderMaxRetries=e(v,"loader.maxRetries",2),this.loaderWithCredentials=e(v,"loader.withCredentials",!1),this.loaderImageLoadType=e(v,"loader.imageLoadType","XHR"),this.loaderLocalScheme=e(v,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=e(v,"fx.glow.quality",.1),this.glowFXDistance=e(v,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var A=e(v,"plugins",null),P=o.DefaultScene;A&&(Array.isArray(A)?this.defaultPlugins=A:n(A)&&(this.installGlobalPlugins=r(A,"global",[]),this.installScenePlugins=r(A,"scene",[]),Array.isArray(A.default)?P=A.default:Array.isArray(A.defaultMerge)&&(P=P.concat(A.defaultMerge)))),this.defaultPlugins=P;var D="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=e(v,"images.default",D+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=e(v,"images.missing",D+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=e(v,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=p.WEBGL:window.FORCE_CANVAS&&(this.renderType=p.CANVAS))}});u.exports=c},86054:(u,m,t)=>{var a=t(20623),p=t(27919),o=t(8054),s=t(89357),r=function(e){var n=e.config;if((n.customEnvironment||n.canvas)&&n.renderType===o.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!n.customEnvironment&&!n.canvas&&n.renderType!==o.HEADLESS)if(n.renderType===o.AUTO&&(n.renderType=s.webGL?o.WEBGL:o.CANVAS),n.renderType===o.WEBGL){if(!s.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(n.renderType===o.CANVAS){if(!s.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+n.renderType);n.antialias||p.disableSmoothing();var l=e.scale.baseSize,i=l.width,h=l.height;if(n.canvas?(e.canvas=n.canvas,e.canvas.width=i,e.canvas.height=h):e.canvas=p.create(e,i,h,n.renderType),n.canvasStyle&&(e.canvas.style=n.canvasStyle),n.antialias||a.setCrisp(e.canvas),n.renderType!==o.HEADLESS){var f,c;f=t(68627),c=t(74797),n.renderType===o.WEBGL?e.renderer=new c(e):(e.renderer=new f(e),e.context=e.renderer.gameContext)}};u.exports=r},96391:(u,m,t)=>{var a=t(8054),p=function(o){var s=o.config;if(!s.hideBanner){var r="WebGL";s.renderType===a.CANVAS?r="Canvas":s.renderType===a.HEADLESS&&(r="Headless");var e=s.audio,n=o.device.audio,l;if(n.webAudio&&!e.disableWebAudio?l="Web Audio":e.noAudio||!n.webAudio&&!n.audioData?l="No Audio":l="HTML5 Audio",o.device.browser.ie)window.console&&console.log("Phaser v"+a.VERSION+" / https://phaser.io");else{var i="",h=[i];if(Array.isArray(s.bannerBackgroundColor)){var f;s.bannerBackgroundColor.forEach(function(d){i=i.concat("%c "),h.push("background: "+d),f=d}),h[h.length-1]="color: "+s.bannerTextColor+"; background: "+f}else i=i.concat("%c "),h.push("color: "+s.bannerTextColor+"; background: "+s.bannerBackgroundColor);h.push("background: transparent"),s.gameTitle&&(i=i.concat(s.gameTitle),s.gameVersion&&(i=i.concat(" v"+s.gameVersion)),s.hidePhaser||(i=i.concat(" / ")));var c="";s.hidePhaser||(i=i.concat("Phaser v"+a.VERSION+c+" ("+r+" | "+l+")")),i=i.concat(" %c "+s.gameURL),h[0]=i,console.log.apply(console,h)}}};u.exports=p},50127:(u,m,t)=>{var a=t(40366),p=t(60848),o=t(24047),s=t(27919),r=t(83419),e=t(69547),n=t(83719),l=t(86054),i=t(45893),h=t(96391),f=t(82264),c=t(57264),d=t(50792),v=t(8443),g=t(7003),y=t(37277),x=t(77332),T=t(76531),S=t(60903),A=t(69442),P=t(17130),D=t(65898),R=t(51085),L=t(14747);if(0)var I;var w=new r({initialize:function(b){this.config=new e(b),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new d,this.anims=new p(this),this.textures=new P(this),this.cache=new o(this),this.registry=new i(this,new d),this.input=new g(this,this.config),this.scene=new S(this,this.config.sceneConfig),this.device=f,this.scale=new T(this,this.config),this.sound=null,this.sound=L.create(this),this.loop=new D(this,this.config.fps),this.plugins=new x(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,c(this.boot.bind(this))},boot:function(){if(!y.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),l(this),n(this),h(this),a(this.canvas,this.config.parent),this.textures.once(A.READY,this.texturesReady,this),this.events.emit(v.BOOT)},texturesReady:function(){this.events.emit(v.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),R(this);var B=this.events;B.on(v.HIDDEN,this.onHidden,this),B.on(v.VISIBLE,this.onVisible,this),B.on(v.BLUR,this.onBlur,this),B.on(v.FOCUS,this.onFocus,this)},step:function(B,b){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var V=this.events;V.emit(v.PRE_STEP,B,b),V.emit(v.STEP,B,b),this.scene.update(B,b),V.emit(v.POST_STEP,B,b);var X=this.renderer;X.preRender(),V.emit(v.PRE_RENDER,X,B,b),this.scene.render(X),X.postRender(),V.emit(v.POST_RENDER,X,B,b)}},headlessStep:function(B,b){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var V=this.events;V.emit(v.PRE_STEP,B,b),V.emit(v.STEP,B,b),this.scene.update(B,b),V.emit(v.POST_STEP,B,b),this.scene.isProcessing=!1,V.emit(v.PRE_RENDER,null,B,b),V.emit(v.POST_RENDER,null,B,b)}},onHidden:function(){this.loop.pause(),this.events.emit(v.PAUSE)},pause:function(){var B=this.isPaused;this.isPaused=!0,B||this.events.emit(v.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(v.RESUME,this.loop.pauseDuration)},resume:function(){var B=this.isPaused;this.isPaused=!1,B&&this.events.emit(v.RESUME,0)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(B,b){b===void 0&&(b=!1),this.pendingDestroy=!0,this.removeCanvas=B,this.noReturn=b},runDestroy:function(){this.scene.destroy(),this.events.emit(v.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(s.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});u.exports=w},65898:(u,m,t)=>{var a=t(83419),p=t(35154),o=t(29747),s=t(43092),r=new a({initialize:function(n,l){this.game=n,this.raf=new s,this.started=!1,this.running=!1,this.minFps=p(l,"min",5),this.targetFps=p(l,"target",60),this.fpsLimit=p(l,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=o,this.forceSetTimeOut=p(l,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this.pauseDuration=0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=p(l,"deltaHistory",10),this.panicMax=p(l,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=p(l,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.pauseDuration=this.time-this._pauseTime,this.startTime+=this.pauseDuration},resetDelta:function(){var e=window.performance.now();this.time=e,this.lastTime=e,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0;for(var n=0;n<this.deltaSmoothingMax;n++)this.deltaHistory[n]=Math.min(this._target,this.deltaHistory[n]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(e){if(this.started)return this;this.started=!0,this.running=!0;for(var n=0;n<this.deltaSmoothingMax;n++)this.deltaHistory[n]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=e;var l=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(l,this.forceSetTimeOut,this._target)},smoothDelta:function(e){var n=this.deltaIndex,l=this.deltaHistory,i=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,e=Math.min(e,this._target)),e>this._min&&(e=l[n],e=Math.min(e,this._min)),l[n]=e,this.deltaIndex++,this.deltaIndex>=i&&(this.deltaIndex=0);for(var h=0,f=0;f<i;f++)h+=l[f];return h/=i,h},updateFPS:function(e){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0},stepLimitFPS:function(e){this.now=e;var n=Math.max(0,e-this.lastTime);this.rawDelta=n,this.time+=this.rawDelta,this.smoothStep&&(n=this.smoothDelta(n)),this.delta+=n,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(e,this.delta),this.delta=0),this.lastTime=e,this.frame++},step:function(e){this.now=e;var n=Math.max(0,e-this.lastTime);this.rawDelta=n,this.time+=this.rawDelta,this.smoothStep&&(n=this.smoothDelta(n)),this.delta=n,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.callback(e,n),this.lastTime=e,this.frame++},tick:function(){var e=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(e):this.step(e)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(e){e===void 0&&(e=!1);var n=window.performance.now();if(!this.running){e&&(this.startTime+=-this.lastTime+(this.lastTime+n));var l=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(l,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=n+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});u.exports=r},51085:(u,m,t)=>{var a=t(8443),p=function(o){var s,r=o.events;if(document.hidden!==void 0)s="visibilitychange";else{var e=["webkit","moz","ms"];e.forEach(function(l){document[l+"Hidden"]!==void 0&&(document.hidden=function(){return document[l+"Hidden"]},s=l+"visibilitychange")})}var n=function(l){document.hidden||l.type==="pause"?r.emit(a.HIDDEN):r.emit(a.VISIBLE)};s&&document.addEventListener(s,n,!1),window.onblur=function(){r.emit(a.BLUR)},window.onfocus=function(){r.emit(a.FOCUS)},window.focus&&o.config.autoFocus&&window.focus()};u.exports=p},97217:u=>{u.exports="blur"},47548:u=>{u.exports="boot"},19814:u=>{u.exports="contextlost"},68446:u=>{u.exports="destroy"},41700:u=>{u.exports="focus"},25432:u=>{u.exports="hidden"},65942:u=>{u.exports="pause"},59211:u=>{u.exports="postrender"},47789:u=>{u.exports="poststep"},39066:u=>{u.exports="prerender"},460:u=>{u.exports="prestep"},16175:u=>{u.exports="ready"},42331:u=>{u.exports="resume"},11966:u=>{u.exports="step"},32969:u=>{u.exports="systemready"},94830:u=>{u.exports="visible"},8443:(u,m,t)=>{u.exports={BLUR:t(97217),BOOT:t(47548),CONTEXT_LOST:t(19814),DESTROY:t(68446),FOCUS:t(41700),HIDDEN:t(25432),PAUSE:t(65942),POST_RENDER:t(59211),POST_STEP:t(47789),PRE_RENDER:t(39066),PRE_STEP:t(460),READY:t(16175),RESUME:t(42331),STEP:t(11966),SYSTEM_READY:t(32969),VISIBLE:t(94830)}},42857:(u,m,t)=>{u.exports={Config:t(69547),CreateRenderer:t(86054),DebugHeader:t(96391),Events:t(8443),TimeStep:t(65898),VisibilityHandler:t(51085)}},99584:(u,m,t)=>{var a=t(5290),p=t(27919),o=t(35154),s=function(r){var e=o(r,"data",[]),n=o(r,"canvas",null),l=o(r,"palette",a),i=o(r,"pixelWidth",1),h=o(r,"pixelHeight",i),f=o(r,"resizeCanvas",!0),c=o(r,"clearCanvas",!0),d=o(r,"preRender",null),v=o(r,"postRender",null),g=Math.floor(Math.abs(e[0].length*i)),y=Math.floor(Math.abs(e.length*h));n||(n=p.create2D(this,g,y),f=!1,c=!1),f&&(n.width=g,n.height=y);var x=n.getContext("2d",{willReadFrequently:!0});c&&x.clearRect(0,0,g,y),d&&d(n,x);for(var T=0;T<e.length;T++)for(var S=e[T],A=0;A<S.length;A++){var P=S[A];P!=="."&&P!==" "&&(x.fillStyle=l[P],x.fillRect(A*i,T*h,i,h))}return v&&v(n,x),n};u.exports=s},15822:(u,m,t)=>{u.exports={GenerateTexture:t(99584),Palettes:t(57763)}},5290:u=>{u.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:u=>{u.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:u=>{u.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:u=>{u.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:u=>{u.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(u,m,t)=>{u.exports={ARNE16:t(5290),C64:t(23816),CGA:t(9866),JMP:t(77552),MSX:t(92259)}},46728:(u,m,t)=>{var a=t(83419),p=t(36316),o=t(80021),s=t(26099),r=new a({Extends:o,initialize:function(n,l,i,h){o.call(this,"CubicBezierCurve"),Array.isArray(n)&&(h=new s(n[6],n[7]),i=new s(n[4],n[5]),l=new s(n[2],n[3]),n=new s(n[0],n[1])),this.p0=n,this.p1=l,this.p2=i,this.p3=h},getStartPoint:function(e){return e===void 0&&(e=new s),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,n){n===void 0&&(n=new s);var l=this.p0,i=this.p1,h=this.p2,f=this.p3;return n.set(p(e,l.x,i.x,h.x,f.x),p(e,l.y,i.y,h.y,f.y))},draw:function(e,n){n===void 0&&(n=32);var l=this.getPoints(n);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var i=1;i<l.length;i++)e.lineTo(l[i].x,l[i].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});r.fromJSON=function(e){var n=e.points,l=new s(n[0],n[1]),i=new s(n[2],n[3]),h=new s(n[4],n[5]),f=new s(n[6],n[7]);return new r(l,i,h,f)},u.exports=r},80021:(u,m,t)=>{var a=t(83419),p=t(19217),o=t(87841),s=t(26099),r=new a({initialize:function(n){this.type=n,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new s,this._tmpVec2B=new s},draw:function(e,n){return n===void 0&&(n=32),e.strokePoints(this.getPoints(n))},getBounds:function(e,n){e||(e=new o),n===void 0&&(n=16);var l=this.getLength();n>l&&(n=l/2);var i=Math.max(1,Math.round(l/n));return p(this.getSpacedPoints(i),e)},getDistancePoints:function(e){var n=this.getLength(),l=Math.max(1,n/e);return this.getSpacedPoints(l)},getEndPoint:function(e){return e===void 0&&(e=new s),this.getPointAt(1,e)},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e===void 0&&(e=this.arcLengthDivisions),this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var n=[],l,i=this.getPoint(0,this._tmpVec2A),h=0;n.push(0);for(var f=1;f<=e;f++)l=this.getPoint(f/e,this._tmpVec2B),h+=l.distance(i),n.push(h),i.copy(l);return this.cacheArcLengths=n,n},getPointAt:function(e,n){var l=this.getUtoTmapping(e);return this.getPoint(l,n)},getPoints:function(e,n,l){l===void 0&&(l=[]),e||(n?e=this.getLength()/n:e=this.defaultDivisions);for(var i=0;i<=e;i++)l.push(this.getPoint(i/e));return l},getRandomPoint:function(e){return e===void 0&&(e=new s),this.getPoint(Math.random(),e)},getSpacedPoints:function(e,n,l){l===void 0&&(l=[]),e||(n?e=this.getLength()/n:e=this.defaultDivisions);for(var i=0;i<=e;i++){var h=this.getUtoTmapping(i/e,null,e);l.push(this.getPoint(h))}return l},getStartPoint:function(e){return e===void 0&&(e=new s),this.getPointAt(0,e)},getTangent:function(e,n){n===void 0&&(n=new s);var l=1e-4,i=e-l,h=e+l;return i<0&&(i=0),h>1&&(h=1),this.getPoint(i,this._tmpVec2A),this.getPoint(h,n),n.subtract(this._tmpVec2A).normalize()},getTangentAt:function(e,n){var l=this.getUtoTmapping(e);return this.getTangent(l,n)},getTFromDistance:function(e,n){return e<=0?0:this.getUtoTmapping(0,e,n)},getUtoTmapping:function(e,n,l){var i=this.getLengths(l),h=0,f=i.length,c;n?c=Math.min(n,i[f-1]):c=e*i[f-1];for(var d=0,v=f-1,g;d<=v;)if(h=Math.floor(d+(v-d)/2),g=i[h]-c,g<0)d=h+1;else if(g>0)v=h-1;else{v=h;break}if(h=v,i[h]===c)return h/(f-1);var y=i[h],x=i[h+1],T=x-y,S=(c-y)/T;return(h+S)/(f-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});u.exports=r},73825:(u,m,t)=>{var a=t(83419),p=t(80021),o=t(39506),s=t(35154),r=t(43396),e=t(26099),n=new a({Extends:p,initialize:function(i,h,f,c,d,v,g,y){if(typeof i=="object"){var x=i;i=s(x,"x",0),h=s(x,"y",0),f=s(x,"xRadius",0),c=s(x,"yRadius",f),d=s(x,"startAngle",0),v=s(x,"endAngle",360),g=s(x,"clockwise",!1),y=s(x,"rotation",0)}else c===void 0&&(c=f),d===void 0&&(d=0),v===void 0&&(v=360),g===void 0&&(g=!1),y===void 0&&(y=0);p.call(this,"EllipseCurve"),this.p0=new e(i,h),this._xRadius=f,this._yRadius=c,this._startAngle=o(d),this._endAngle=o(v),this._clockwise=g,this._rotation=o(y)},getStartPoint:function(l){return l===void 0&&(l=new e),this.getPoint(0,l)},getResolution:function(l){return l*2},getPoint:function(l,i){i===void 0&&(i=new e);for(var h=Math.PI*2,f=this._endAngle-this._startAngle,c=Math.abs(f)<Number.EPSILON;f<0;)f+=h;for(;f>h;)f-=h;f<Number.EPSILON&&(c?f=0:f=h),this._clockwise&&!c&&(f===h?f=-h:f=f-h);var d=this._startAngle+l*f,v=this.p0.x+this._xRadius*Math.cos(d),g=this.p0.y+this._yRadius*Math.sin(d);if(this._rotation!==0){var y=Math.cos(this._rotation),x=Math.sin(this._rotation),T=v-this.p0.x,S=g-this.p0.y;v=T*y-S*x+this.p0.x,g=T*x+S*y+this.p0.y}return i.set(v,g)},setXRadius:function(l){return this.xRadius=l,this},setYRadius:function(l){return this.yRadius=l,this},setWidth:function(l){return this.xRadius=l/2,this},setHeight:function(l){return this.yRadius=l/2,this},setStartAngle:function(l){return this.startAngle=l,this},setEndAngle:function(l){return this.endAngle=l,this},setClockwise:function(l){return this.clockwise=l,this},setRotation:function(l){return this.rotation=l,this},x:{get:function(){return this.p0.x},set:function(l){this.p0.x=l}},y:{get:function(){return this.p0.y},set:function(l){this.p0.y=l}},xRadius:{get:function(){return this._xRadius},set:function(l){this._xRadius=l}},yRadius:{get:function(){return this._yRadius},set:function(l){this._yRadius=l}},startAngle:{get:function(){return r(this._startAngle)},set:function(l){this._startAngle=o(l)}},endAngle:{get:function(){return r(this._endAngle)},set:function(l){this._endAngle=o(l)}},clockwise:{get:function(){return this._clockwise},set:function(l){this._clockwise=l}},angle:{get:function(){return r(this._rotation)},set:function(l){this._rotation=o(l)}},rotation:{get:function(){return this._rotation},set:function(l){this._rotation=l}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:r(this._startAngle),endAngle:r(this._endAngle),clockwise:this._clockwise,rotation:r(this._rotation)}}});n.fromJSON=function(l){return new n(l)},u.exports=n},33951:(u,m,t)=>{var a=t(83419),p=t(80021),o=t(19217),s=t(87841),r=t(26099),e=new a({Extends:p,initialize:function(l,i){p.call(this,"LineCurve"),Array.isArray(l)&&(i=new r(l[2],l[3]),l=new r(l[0],l[1])),this.p0=l,this.p1=i,this.arcLengthDivisions=1},getBounds:function(n){return n===void 0&&(n=new s),o([this.p0,this.p1],n)},getStartPoint:function(n){return n===void 0&&(n=new r),n.copy(this.p0)},getResolution:function(n){return n===void 0&&(n=1),n},getPoint:function(n,l){return l===void 0&&(l=new r),n===1?l.copy(this.p1):(l.copy(this.p1).subtract(this.p0).scale(n).add(this.p0),l)},getPointAt:function(n,l){return this.getPoint(n,l)},getTangent:function(n,l){return l===void 0&&(l=new r),l.copy(this.p1).subtract(this.p0).normalize(),l},getUtoTmapping:function(n,l,i){var h;if(l){var f=this.getLengths(i),c=f[f.length-1],d=Math.min(l,c);h=d/c}else h=n;return h},draw:function(n){return n.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),n},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});e.fromJSON=function(n){var l=n.points,i=new r(l[0],l[1]),h=new r(l[2],l[3]);return new e(i,h)},u.exports=e},14744:(u,m,t)=>{var a=t(83419),p=t(80021),o=t(32112),s=t(26099),r=new a({Extends:p,initialize:function(n,l,i){p.call(this,"QuadraticBezierCurve"),Array.isArray(n)&&(i=new s(n[4],n[5]),l=new s(n[2],n[3]),n=new s(n[0],n[1])),this.p0=n,this.p1=l,this.p2=i},getStartPoint:function(e){return e===void 0&&(e=new s),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,n){n===void 0&&(n=new s);var l=this.p0,i=this.p1,h=this.p2;return n.set(o(e,l.x,i.x,h.x),o(e,l.y,i.y,h.y))},draw:function(e,n){n===void 0&&(n=32);var l=this.getPoints(n);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var i=1;i<l.length;i++)e.lineTo(l[i].x,l[i].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});r.fromJSON=function(e){var n=e.points,l=new s(n[0],n[1]),i=new s(n[2],n[3]),h=new s(n[4],n[5]);return new r(l,i,h)},u.exports=r},42534:(u,m,t)=>{var a=t(87842),p=t(83419),o=t(80021),s=t(26099),r=new p({Extends:o,initialize:function(n){n===void 0&&(n=[]),o.call(this,"SplineCurve"),this.points=[],this.addPoints(n)},addPoints:function(e){for(var n=0;n<e.length;n++){var l=new s;typeof e[n]=="number"?(l.x=e[n],l.y=e[n+1],n++):Array.isArray(e[n])?(l.x=e[n][0],l.y=e[n][1]):(l.x=e[n].x,l.y=e[n].y),this.points.push(l)}return this},addPoint:function(e,n){var l=new s(e,n);return this.points.push(l),l},getStartPoint:function(e){return e===void 0&&(e=new s),e.copy(this.points[0])},getResolution:function(e){return e*this.points.length},getPoint:function(e,n){n===void 0&&(n=new s);var l=this.points,i=(l.length-1)*e,h=Math.floor(i),f=i-h,c=l[h===0?h:h-1],d=l[h],v=l[h>l.length-2?l.length-1:h+1],g=l[h>l.length-3?l.length-1:h+2];return n.set(a(f,c.x,d.x,v.x,g.x),a(f,c.y,d.y,v.y,g.y))},toJSON:function(){for(var e=[],n=0;n<this.points.length;n++)e.push(this.points[n].x),e.push(this.points[n].y);return{type:this.type,points:e}}});r.fromJSON=function(e){return new r(e.points)},u.exports=r},25410:(u,m,t)=>{u.exports={Path:t(46669),MoveTo:t(68618),CubicBezier:t(46728),Curve:t(80021),Ellipse:t(73825),Line:t(33951),QuadraticBezier:t(14744),Spline:t(42534)}},68618:(u,m,t)=>{var a=t(83419),p=t(26099),o=new a({initialize:function(r,e){this.active=!1,this.p0=new p(r,e)},getPoint:function(s,r){return r===void 0&&(r=new p),r.copy(this.p0)},getPointAt:function(s,r){return this.getPoint(s,r)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});u.exports=o},46669:(u,m,t)=>{var a=t(83419),p=t(46728),o=t(73825),s=t(39429),r=t(33951),e=t(68618),n=t(14744),l=t(87841),i=t(42534),h=t(26099),f=t(36383),c=new a({initialize:function(v,g){v===void 0&&(v=0),g===void 0&&(g=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new h,this._tmpVec2A=new h,this._tmpVec2B=new h,typeof v=="object"?this.fromJSON(v):this.startPoint.set(v,g)},add:function(d){return this.curves.push(d),this},circleTo:function(d,v,g){return v===void 0&&(v=!1),this.ellipseTo(d,d,0,360,v,g)},closePath:function(){var d=this.curves[0].getPoint(0),v=this.curves[this.curves.length-1].getPoint(1);return d.equals(v)||this.curves.push(new r(v,d)),this},cubicBezierTo:function(d,v,g,y,x,T){var S=this.getEndPoint(),A,P,D;return d instanceof h?(A=d,P=v,D=g):(A=new h(g,y),P=new h(x,T),D=new h(d,v)),this.add(new p(S,A,P,D))},quadraticBezierTo:function(d,v,g,y){var x=this.getEndPoint(),T,S;return d instanceof h?(T=d,S=v):(T=new h(g,y),S=new h(d,v)),this.add(new n(x,T,S))},draw:function(d,v){for(var g=0;g<this.curves.length;g++){var y=this.curves[g];y.active&&y.draw(d,v)}return d},ellipseTo:function(d,v,g,y,x,T){var S=new o(0,0,d,v,g,y,x,T),A=this.getEndPoint(this._tmpVec2A),P=S.getStartPoint(this._tmpVec2B);return A.subtract(P),S.x=A.x,S.y=A.y,this.add(S)},fromJSON:function(d){this.curves=[],this.cacheLengths=[],this.startPoint.set(d.x,d.y),this.autoClose=d.autoClose;for(var v=0;v<d.curves.length;v++){var g=d.curves[v];switch(g.type){case"LineCurve":this.add(r.fromJSON(g));break;case"EllipseCurve":this.add(o.fromJSON(g));break;case"SplineCurve":this.add(i.fromJSON(g));break;case"CubicBezierCurve":this.add(p.fromJSON(g));break;case"QuadraticBezierCurve":this.add(n.fromJSON(g));break}}return this},getBounds:function(d,v){d===void 0&&(d=new l),v===void 0&&(v=16),d.x=Number.MAX_VALUE,d.y=Number.MAX_VALUE;for(var g=new l,y=f.MIN_SAFE_INTEGER,x=f.MIN_SAFE_INTEGER,T=0;T<this.curves.length;T++){var S=this.curves[T];S.active&&(S.getBounds(g,v),d.x=Math.min(d.x,g.x),d.y=Math.min(d.y,g.y),y=Math.max(y,g.right),x=Math.max(x,g.bottom))}return d.right=y,d.bottom=x,d},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var d=[],v=0,g=0;g<this.curves.length;g++)v+=this.curves[g].getLength(),d.push(v);return this.cacheLengths=d,d},getCurveAt:function(d){for(var v=d*this.getLength(),g=this.getCurveLengths(),y=0;y<g.length;){if(g[y]>=v)return this.curves[y];y++}return null},getEndPoint:function(d){return d===void 0&&(d=new h),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,d):d.copy(this.startPoint),d},getLength:function(){var d=this.getCurveLengths();return d[d.length-1]},getPoint:function(d,v){v===void 0&&(v=new h);for(var g=d*this.getLength(),y=this.getCurveLengths(),x=0;x<y.length;){if(y[x]>=g){var T=y[x]-g,S=this.curves[x],A=S.getLength(),P=A===0?0:1-T/A;return S.getPointAt(P,v)}x++}return null},getPoints:function(d,v){!d&&!v&&(d=this.defaultDivisions);for(var g=[],y,x=0;x<this.curves.length;x++){var T=this.curves[x];if(T.active)for(var S=T.getResolution(d),A=T.getPoints(S,v),P=0;P<A.length;P++){var D=A[P];y&&y.equals(D)||(g.push(D),y=D)}}return this.autoClose&&g.length>1&&!g[g.length-1].equals(g[0])&&g.push(g[0]),g},getRandomPoint:function(d){return d===void 0&&(d=new h),this.getPoint(Math.random(),d)},getSpacedPoints:function(d){d===void 0&&(d=40);for(var v=[],g=0;g<=d;g++)v.push(this.getPoint(g/d));return this.autoClose&&v.push(v[0]),v},getStartPoint:function(d){return d===void 0&&(d=new h),d.copy(this.startPoint)},getTangent:function(d,v){v===void 0&&(v=new h);for(var g=d*this.getLength(),y=this.getCurveLengths(),x=0;x<y.length;){if(y[x]>=g){var T=y[x]-g,S=this.curves[x],A=S.getLength(),P=A===0?0:1-T/A;return S.getTangentAt(P,v)}x++}return null},lineTo:function(d,v){d instanceof h?this._tmpVec2B.copy(d):typeof d=="object"?this._tmpVec2B.setFromObject(d):this._tmpVec2B.set(d,v);var g=this.getEndPoint(this._tmpVec2A);return this.add(new r([g.x,g.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(d){return d.unshift(this.getEndPoint()),this.add(new i(d))},moveTo:function(d,v){return d instanceof h?this.add(new e(d.x,d.y)):this.add(new e(d,v))},toJSON:function(){for(var d=[],v=0;v<this.curves.length;v++)d.push(this.curves[v].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:d}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});s.register("path",function(d,v){return new c(d,v)}),u.exports=c},45893:(u,m,t)=>{var a=t(83419),p=t(24882),o=new a({initialize:function(r,e){this.parent=r,this.events=e,e||(this.events=r.events?r.events:r),this.list={},this.values={},this._frozen=!1,!r.hasOwnProperty("sys")&&this.events&&this.events.once(p.DESTROY,this.destroy,this)},get:function(s){var r=this.list;if(Array.isArray(s)){for(var e=[],n=0;n<s.length;n++)e.push(r[s[n]]);return e}else return r[s]},getAll:function(){var s={};for(var r in this.list)this.list.hasOwnProperty(r)&&(s[r]=this.list[r]);return s},query:function(s){var r={};for(var e in this.list)this.list.hasOwnProperty(e)&&e.match(s)&&(r[e]=this.list[e]);return r},set:function(s,r){if(this._frozen)return this;if(typeof s=="string")return this.setValue(s,r);for(var e in s)this.setValue(e,s[e]);return this},inc:function(s,r){if(this._frozen)return this;r===void 0&&(r=1);var e=this.get(s);return e===void 0&&(e=0),this.set(s,e+r),this},toggle:function(s){return this._frozen?this:(this.set(s,!this.get(s)),this)},setValue:function(s,r){if(this._frozen)return this;if(this.has(s))this.values[s]=r;else{var e=this,n=this.list,l=this.events,i=this.parent;Object.defineProperty(this.values,s,{enumerable:!0,configurable:!0,get:function(){return n[s]},set:function(h){if(!e._frozen){var f=n[s];n[s]=h,l.emit(p.CHANGE_DATA,i,s,h,f),l.emit(p.CHANGE_DATA_KEY+s,i,h,f)}}}),n[s]=r,l.emit(p.SET_DATA,i,s,r)}return this},each:function(s,r){for(var e=[this.parent,null,void 0],n=1;n<arguments.length;n++)e.push(arguments[n]);for(var l in this.list)e[1]=l,e[2]=this.list[l],s.apply(r,e);return this},merge:function(s,r){r===void 0&&(r=!0);for(var e in s)s.hasOwnProperty(e)&&(r||!r&&!this.has(e))&&this.setValue(e,s[e]);return this},remove:function(s){if(this._frozen)return this;if(Array.isArray(s))for(var r=0;r<s.length;r++)this.removeValue(s[r]);else return this.removeValue(s);return this},removeValue:function(s){if(this.has(s)){var r=this.list[s];delete this.list[s],delete this.values[s],this.events.emit(p.REMOVE_DATA,this.parent,s,r)}return this},pop:function(s){var r=void 0;return!this._frozen&&this.has(s)&&(r=this.list[s],delete this.list[s],delete this.values[s],this.events.emit(p.REMOVE_DATA,this.parent,s,r)),r},has:function(s){return this.list.hasOwnProperty(s)},setFreeze:function(s){return this._frozen=s,this},reset:function(){for(var s in this.list)delete this.list[s],delete this.values[s];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(p.CHANGE_DATA),this.events.off(p.SET_DATA),this.events.off(p.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(s){this._frozen=!!s}},count:{get:function(){var s=0;for(var r in this.list)this.list[r]!==void 0&&s++;return s}}});u.exports=o},63646:(u,m,t)=>{var a=t(83419),p=t(45893),o=t(37277),s=t(44594),r=new a({Extends:p,initialize:function(n){p.call(this,n,n.sys.events),this.scene=n,this.systems=n.sys,n.sys.events.once(s.BOOT,this.boot,this),n.sys.events.on(s.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(s.DESTROY,this.destroy,this)},start:function(){this.events.once(s.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){p.prototype.destroy.call(this),this.events.off(s.START,this.start,this),this.scene=null,this.systems=null}});o.register("DataManagerPlugin",r,"data"),u.exports=r},10700:u=>{u.exports="changedata"},93608:u=>{u.exports="changedata-"},60883:u=>{u.exports="destroy"},69780:u=>{u.exports="removedata"},22166:u=>{u.exports="setdata"},24882:(u,m,t)=>{u.exports={CHANGE_DATA:t(10700),CHANGE_DATA_KEY:t(93608),DESTROY:t(60883),REMOVE_DATA:t(69780),SET_DATA:t(22166)}},44965:(u,m,t)=>{u.exports={DataManager:t(45893),DataManagerPlugin:t(63646),Events:t(24882)}},7098:(u,m,t)=>{var a=t(84148),p={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function o(){if(typeof importScripts=="function")return p;p.audioData=!!window.Audio,p.webAudio=!!(window.AudioContext||window.webkitAudioContext);var s=document.createElement("audio"),r=!!s.canPlayType;try{if(r){var e=function(i,h){var f=s.canPlayType("audio/"+i).replace(/^no$/,"");return h?!!(f||s.canPlayType("audio/"+h).replace(/^no$/,"")):!!f};if(p.ogg=e('ogg; codecs="vorbis"'),p.opus=e('ogg; codecs="opus"',"opus"),p.mp3=e("mpeg"),p.wav=e("wav"),p.m4a=e("x-m4a"),p.aac=e("aac"),p.flac=e("flac","x-flac"),p.webm=e('webm; codecs="vorbis"'),s.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(a.edge)p.dolby=!0;else if(a.safari&&a.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var n=parseInt(RegExp.$1,10),l=parseInt(RegExp.$2,10);(n===10&&l>=11||n>10)&&(p.dolby=!0)}}}}catch{}return p}u.exports=o()},84148:(u,m,t)=>{var a=t(25892),p={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function o(){var s=navigator.userAgent;return/Edg\/\d+/.test(s)?(p.edge=!0,p.es2019=!0):/OPR/.test(s)?(p.opera=!0,p.es2019=!0):/Chrome\/(\d+)/.test(s)&&!a.windowsPhone?(p.chrome=!0,p.chromeVersion=parseInt(RegExp.$1,10),p.es2019=p.chromeVersion>69):/Firefox\D+(\d+)/.test(s)?(p.firefox=!0,p.firefoxVersion=parseInt(RegExp.$1,10),p.es2019=p.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(s)&&a.iOS?(p.mobileSafari=!0,p.es2019=!0):/MSIE (\d+\.\d+);/.test(s)?(p.ie=!0,p.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(s)&&!a.windowsPhone?(p.safari=!0,p.safariVersion=parseInt(RegExp.$1,10),p.es2019=p.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(s)&&(p.ie=!0,p.trident=!0,p.tridentVersion=parseInt(RegExp.$1,10),p.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(s)&&(p.silk=!0),p}u.exports=o()},89289:(u,m,t)=>{var a=t(27919),p={supportInverseAlpha:!1,supportNewBlendModes:!1};function o(){var e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",n="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",l=new Image;return l.onload=function(){var i=new Image;i.onload=function(){var h=a.create2D(i,6),f=h.getContext("2d",{willReadFrequently:!0});if(f.globalCompositeOperation="multiply",f.drawImage(l,0,0),f.drawImage(i,2,0),!f.getImageData(2,0,1,1))return!1;var c=f.getImageData(2,0,1,1).data;a.remove(i),p.supportNewBlendModes=c[0]===255&&c[1]===0&&c[2]===0},i.src=e+"/wCKxvRF"+n},l.src=e+"AP804Oa6"+n,!1}function s(){var e=a.create2D(this,2),n=e.getContext("2d",{willReadFrequently:!0});n.fillStyle="rgba(10, 20, 30, 0.5)",n.fillRect(0,0,1,1);var l=n.getImageData(0,0,1,1);if(l===null)return!1;n.putImageData(l,1,0);var i=n.getImageData(1,0,1,1),h=i.data[0]===l.data[0]&&i.data[1]===l.data[1]&&i.data[2]===l.data[2]&&i.data[3]===l.data[3];return a.remove(this),h}function r(){return typeof importScripts!="function"&&document!==void 0&&(p.supportNewBlendModes=o(),p.supportInverseAlpha=s()),p}u.exports=r()},89357:(u,m,t)=>{var a=t(25892),p=t(84148),o=t(27919),s={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function r(){var n=new ArrayBuffer(4),l=new Uint8Array(n),i=new Uint32Array(n);return l[0]=161,l[1]=178,l[2]=195,l[3]=212,i[0]===3569595041?!0:i[0]===2712847316?!1:null}function e(){if(typeof importScripts=="function")return s;s.canvas=!!window.CanvasRenderingContext2D;try{s.localStorage=!!localStorage.getItem}catch{s.localStorage=!1}s.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,s.fileSystem=!!window.requestFileSystem;var n=!1,l=function(){if(window.WebGLRenderingContext)try{var i=o.createWebGL(this),h=i.getContext("webgl")||i.getContext("experimental-webgl"),f=o.create2D(this),c=f.getContext("2d",{willReadFrequently:!0}),d=c.createImageData(1,1);return n=d.data instanceof Uint8ClampedArray,o.remove(i),o.remove(f),!!h}catch{return!1}return!1};return s.webGL=l(),s.worker=!!window.Worker,s.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,s.getUserMedia=s.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,p.firefox&&p.firefoxVersion<21&&(s.getUserMedia=!1),!a.iOS&&(p.ie||p.firefox||p.chrome)&&(s.canvasBitBltShift=!0),(p.safari||p.mobileSafari)&&(s.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(s.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(s.littleEndian=r()),s.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&s.littleEndian!==null&&n,s}u.exports=e()},91639:u=>{var m={available:!1,cancel:"",keyboard:!1,request:""};function t(){if(typeof importScripts=="function")return m;var a,p="Fullscreen",o="FullScreen",s=["request"+p,"request"+o,"webkitRequest"+p,"webkitRequest"+o,"msRequest"+p,"msRequest"+o,"mozRequest"+o,"mozRequest"+p];for(a=0;a<s.length;a++)if(document.documentElement[s[a]]){m.available=!0,m.request=s[a];break}var r=["cancel"+o,"exit"+p,"webkitCancel"+o,"webkitExit"+p,"msCancel"+o,"msExit"+p,"mozCancel"+o,"mozExit"+p];if(m.available){for(a=0;a<r.length;a++)if(document[r[a]]){m.cancel=r[a];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(m.keyboard=!0),Object.defineProperty(m,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),m}u.exports=t()},31784:(u,m,t)=>{var a=t(84148),p={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function o(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(p.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(p.mspointer=!0),navigator.getGamepads&&(p.gamepads=!0),"onwheel"in window||a.ie&&"WheelEvent"in window?p.wheelEvent="wheel":"onmousewheel"in window?p.wheelEvent="mousewheel":a.firefox&&"MouseScrollEvent"in window&&(p.wheelEvent="DOMMouseScroll")),p}u.exports=o()},25892:u=>{var m={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function t(){if(typeof importScripts=="function")return m;var a=navigator.userAgent;/Windows/.test(a)?m.windows=!0:/Mac OS/.test(a)&&!/like Mac OS/.test(a)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(m.iOS=!0,m.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),m.iOSVersion=parseInt(RegExp.$1,10)):m.macOS=!0:/Android/.test(a)?m.android=!0:/Linux/.test(a)?m.linux=!0:/iP[ao]d|iPhone/i.test(a)?(m.iOS=!0,navigator.appVersion.match(/OS (\d+)/),m.iOSVersion=parseInt(RegExp.$1,10),m.iPhone=a.toLowerCase().indexOf("iphone")!==-1,m.iPad=a.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(a)||/\bKF[A-Z][A-Z]+/.test(a)||/Silk.*Mobile Safari/.test(a)?m.kindle=!0:/CrOS/.test(a)&&(m.chromeOS=!0),(/Windows Phone/i.test(a)||/IEMobile/i.test(a))&&(m.android=!1,m.iOS=!1,m.macOS=!1,m.windows=!0,m.windowsPhone=!0);var p=/Silk/.test(a);return(m.windows||m.macOS||m.linux&&!p||m.chromeOS)&&(m.desktop=!0),(m.windowsPhone||/Windows NT/i.test(a)&&/Touch/i.test(a))&&(m.desktop=!1),navigator.standalone&&(m.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(m.cordova=!0),window.ejecta!==void 0&&(m.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(m.node=!0),m.node&&typeof process.versions=="object"&&(m.nodeWebkit=!!process.versions["node-webkit"],m.electron=!!process.versions.electron),/Crosswalk/.test(a)&&(m.crosswalk=!0),m.pixelRatio=window.devicePixelRatio||1,m}u.exports=t()},43267:(u,m,t)=>{var a=t(95540),p={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function o(){if(typeof importScripts=="function")return p;var s=document.createElement("video"),r=!!s.canPlayType,e=/^no$/;try{r&&(s.canPlayType('video/ogg; codecs="theora"').replace(e,"")&&(p.ogg=!0),s.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(e,"")&&(p.h264=!0,p.mp4=!0),s.canPlayType("video/x-m4v").replace(e,"")&&(p.m4v=!0),s.canPlayType('video/webm; codecs="vp8, vorbis"').replace(e,"")&&(p.webm=!0),s.canPlayType('video/webm; codecs="vp9"').replace(e,"")&&(p.vp9=!0),s.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(e,"")&&(p.hls=!0))}catch{}return s.parentNode&&s.parentNode.removeChild(s),p.getVideoURL=function(n){Array.isArray(n)||(n=[n]);for(var l=0;l<n.length;l++){var i=a(n[l],"url",n[l]);if(i.indexOf("blob:")===0)return{url:i,type:""};var h;if(i.indexOf("data:")===0?h=i.split(",")[0].match(/\/(.*?);/):h=i.match(/\.([a-zA-Z0-9]+)($|\?)/),h=a(n[l],"type",h?h[1]:"").toLowerCase(),p[h])return{url:i,type:h}}return null},p}u.exports=o()},82264:(u,m,t)=>{u.exports={os:t(25892),browser:t(84148),features:t(89357),input:t(31784),audio:t(7098),video:t(43267),fullscreen:t(91639),canvasFeatures:t(89289)}},89422:(u,m,t)=>{var a=t(83419),p=new Float32Array(20),o=new a({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(s){return this._matrix.set(s),this._dirty=!0,this},reset:function(){var s=this._matrix;return s.fill(0),s[0]=1,s[6]=1,s[12]=1,s[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var s=this._data;return this._dirty&&(s.set(this._matrix),s[4]/=255,s[9]/=255,s[14]/=255,s[19]/=255,this._dirty=!1),s},brightness:function(s,r){s===void 0&&(s=0),r===void 0&&(r=!1);var e=s;return this.multiply([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],r)},saturate:function(s,r){s===void 0&&(s=0),r===void 0&&(r=!1);var e=s*2/3+1,n=(e-1)*-.5;return this.multiply([e,n,n,0,0,n,e,n,0,0,n,n,e,0,0,0,0,0,1,0],r)},desaturate:function(s){return s===void 0&&(s=!1),this.saturate(-1,s)},hue:function(s,r){s===void 0&&(s=0),r===void 0&&(r=!1),s=s/180*Math.PI;var e=Math.cos(s),n=Math.sin(s),l=.213,i=.715,h=.072;return this.multiply([l+e*(1-l)+n*-l,i+e*-i+n*-i,h+e*-h+n*(1-h),0,0,l+e*-l+n*.143,i+e*(1-i)+n*.14,h+e*-h+n*-.283,0,0,l+e*-l+n*-(1-l),i+e*-i+n*i,h+e*(1-h)+n*h,0,0,0,0,0,1,0],r)},grayscale:function(s,r){return s===void 0&&(s=1),r===void 0&&(r=!1),this.saturate(-s,r)},blackWhite:function(s){return s===void 0&&(s=!1),this.multiply(o.BLACK_WHITE,s)},contrast:function(s,r){s===void 0&&(s=0),r===void 0&&(r=!1);var e=s+1,n=-.5*(e-1);return this.multiply([e,0,0,0,n,0,e,0,0,n,0,0,e,0,n,0,0,0,1,0],r)},negative:function(s){return s===void 0&&(s=!1),this.multiply(o.NEGATIVE,s)},desaturateLuminance:function(s){return s===void 0&&(s=!1),this.multiply(o.DESATURATE_LUMINANCE,s)},sepia:function(s){return s===void 0&&(s=!1),this.multiply(o.SEPIA,s)},night:function(s,r){return s===void 0&&(s=.1),r===void 0&&(r=!1),this.multiply([s*-2,-s,0,0,0,-s,0,s,0,0,0,s,s*2,0,0,0,0,0,1,0],r)},lsd:function(s){return s===void 0&&(s=!1),this.multiply(o.LSD,s)},brown:function(s){return s===void 0&&(s=!1),this.multiply(o.BROWN,s)},vintagePinhole:function(s){return s===void 0&&(s=!1),this.multiply(o.VINTAGE,s)},kodachrome:function(s){return s===void 0&&(s=!1),this.multiply(o.KODACHROME,s)},technicolor:function(s){return s===void 0&&(s=!1),this.multiply(o.TECHNICOLOR,s)},polaroid:function(s){return s===void 0&&(s=!1),this.multiply(o.POLAROID,s)},shiftToBGR:function(s){return s===void 0&&(s=!1),this.multiply(o.SHIFT_BGR,s)},multiply:function(s,r){r===void 0&&(r=!1),r||this.reset();var e=this._matrix,n=p;return n.set(e),e.set([n[0]*s[0]+n[1]*s[5]+n[2]*s[10]+n[3]*s[15],n[0]*s[1]+n[1]*s[6]+n[2]*s[11]+n[3]*s[16],n[0]*s[2]+n[1]*s[7]+n[2]*s[12]+n[3]*s[17],n[0]*s[3]+n[1]*s[8]+n[2]*s[13]+n[3]*s[18],n[0]*s[4]+n[1]*s[9]+n[2]*s[14]+n[3]*s[19]+n[4],n[5]*s[0]+n[6]*s[5]+n[7]*s[10]+n[8]*s[15],n[5]*s[1]+n[6]*s[6]+n[7]*s[11]+n[8]*s[16],n[5]*s[2]+n[6]*s[7]+n[7]*s[12]+n[8]*s[17],n[5]*s[3]+n[6]*s[8]+n[7]*s[13]+n[8]*s[18],n[5]*s[4]+n[6]*s[9]+n[7]*s[14]+n[8]*s[19]+n[9],n[10]*s[0]+n[11]*s[5]+n[12]*s[10]+n[13]*s[15],n[10]*s[1]+n[11]*s[6]+n[12]*s[11]+n[13]*s[16],n[10]*s[2]+n[11]*s[7]+n[12]*s[12]+n[13]*s[17],n[10]*s[3]+n[11]*s[8]+n[12]*s[13]+n[13]*s[18],n[10]*s[4]+n[11]*s[9]+n[12]*s[14]+n[13]*s[19]+n[14],n[15]*s[0]+n[16]*s[5]+n[17]*s[10]+n[18]*s[15],n[15]*s[1]+n[16]*s[6]+n[17]*s[11]+n[18]*s[16],n[15]*s[2]+n[16]*s[7]+n[17]*s[12]+n[18]*s[17],n[15]*s[3]+n[16]*s[8]+n[17]*s[13]+n[18]*s[18],n[15]*s[4]+n[16]*s[9]+n[17]*s[14]+n[18]*s[19]+n[19]]),this._dirty=!0,this}});o.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],o.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],o.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],o.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],o.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],o.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],o.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],o.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],o.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],o.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],o.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],u.exports=o},51767:(u,m,t)=>{var a=t(83419),p=t(29747),o=new a({initialize:function(r,e,n){this._rgb=[0,0,0],this.onChangeCallback=p,this.dirty=!1,this.set(r,e,n)},set:function(s,r,e){return s===void 0&&(s=0),r===void 0&&(r=0),e===void 0&&(e=0),this._rgb=[s,r,e],this.onChange(),this},equals:function(s,r,e){var n=this._rgb;return n[0]===s&&n[1]===r&&n[2]===e},onChange:function(){this.dirty=!0;var s=this._rgb;this.onChangeCallback.call(this,s[0],s[1],s[2])},r:{get:function(){return this._rgb[0]},set:function(s){this._rgb[0]=s,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(s){this._rgb[1]=s,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(s){this._rgb[2]=s,this.onChange()}},destroy:function(){this.onChangeCallback=null}});u.exports=o},60461:u=>{var m={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};u.exports=m},54312:(u,m,t)=>{var a=t(62235),p=t(35893),o=t(86327),s=t(88417),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,p(n)+l),o(e,a(n)+i),e};u.exports=r},46768:(u,m,t)=>{var a=t(62235),p=t(26541),o=t(86327),s=t(385),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,p(n)-l),o(e,a(n)+i),e};u.exports=r},35827:(u,m,t)=>{var a=t(62235),p=t(54380),o=t(86327),s=t(40136),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,p(n)+l),o(e,a(n)+i),e};u.exports=r},46871:(u,m,t)=>{var a=t(66786),p=t(35893),o=t(7702),s=function(r,e,n,l){return n===void 0&&(n=0),l===void 0&&(l=0),a(r,p(e)+n,o(e)+l),r};u.exports=s},5198:(u,m,t)=>{var a=t(7702),p=t(26541),o=t(20786),s=t(385),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,p(n)-l),o(e,a(n)+i),e};u.exports=r},11879:(u,m,t)=>{var a=t(60461),p=[];p[a.BOTTOM_CENTER]=t(54312),p[a.BOTTOM_LEFT]=t(46768),p[a.BOTTOM_RIGHT]=t(35827),p[a.CENTER]=t(46871),p[a.LEFT_CENTER]=t(5198),p[a.RIGHT_CENTER]=t(80503),p[a.TOP_CENTER]=t(89698),p[a.TOP_LEFT]=t(922),p[a.TOP_RIGHT]=t(21373),p[a.LEFT_BOTTOM]=p[a.BOTTOM_LEFT],p[a.LEFT_TOP]=p[a.TOP_LEFT],p[a.RIGHT_BOTTOM]=p[a.BOTTOM_RIGHT],p[a.RIGHT_TOP]=p[a.TOP_RIGHT];var o=function(s,r,e,n,l){return p[e](s,r,n,l)};u.exports=o},80503:(u,m,t)=>{var a=t(7702),p=t(54380),o=t(20786),s=t(40136),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,p(n)+l),o(e,a(n)+i),e};u.exports=r},89698:(u,m,t)=>{var a=t(35893),p=t(17717),o=t(88417),s=t(66737),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),o(e,a(n)+l),s(e,p(n)-i),e};u.exports=r},922:(u,m,t)=>{var a=t(26541),p=t(17717),o=t(385),s=t(66737),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),o(e,a(n)-l),s(e,p(n)-i),e};u.exports=r},21373:(u,m,t)=>{var a=t(54380),p=t(17717),o=t(40136),s=t(66737),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),o(e,a(n)+l),s(e,p(n)-i),e};u.exports=r},91660:(u,m,t)=>{u.exports={BottomCenter:t(54312),BottomLeft:t(46768),BottomRight:t(35827),Center:t(46871),LeftCenter:t(5198),QuickSet:t(11879),RightCenter:t(80503),TopCenter:t(89698),TopLeft:t(922),TopRight:t(21373)}},71926:(u,m,t)=>{var a=t(60461),p=t(79291),o={In:t(91660),To:t(16694)};o=p(!1,o,a),u.exports=o},21578:(u,m,t)=>{var a=t(62235),p=t(35893),o=t(88417),s=t(66737),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),o(e,p(n)+l),s(e,a(n)+i),e};u.exports=r},10210:(u,m,t)=>{var a=t(62235),p=t(26541),o=t(385),s=t(66737),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),o(e,p(n)-l),s(e,a(n)+i),e};u.exports=r},82341:(u,m,t)=>{var a=t(62235),p=t(54380),o=t(40136),s=t(66737),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),o(e,p(n)+l),s(e,a(n)+i),e};u.exports=r},87958:(u,m,t)=>{var a=t(62235),p=t(26541),o=t(86327),s=t(40136),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,p(n)-l),o(e,a(n)+i),e};u.exports=r},40080:(u,m,t)=>{var a=t(7702),p=t(26541),o=t(20786),s=t(40136),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,p(n)-l),o(e,a(n)+i),e};u.exports=r},88466:(u,m,t)=>{var a=t(26541),p=t(17717),o=t(40136),s=t(66737),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),o(e,a(n)-l),s(e,p(n)-i),e};u.exports=r},38829:(u,m,t)=>{var a=t(60461),p=[];p[a.BOTTOM_CENTER]=t(21578),p[a.BOTTOM_LEFT]=t(10210),p[a.BOTTOM_RIGHT]=t(82341),p[a.LEFT_BOTTOM]=t(87958),p[a.LEFT_CENTER]=t(40080),p[a.LEFT_TOP]=t(88466),p[a.RIGHT_BOTTOM]=t(19211),p[a.RIGHT_CENTER]=t(34609),p[a.RIGHT_TOP]=t(48741),p[a.TOP_CENTER]=t(49440),p[a.TOP_LEFT]=t(81288),p[a.TOP_RIGHT]=t(61323);var o=function(s,r,e,n,l){return p[e](s,r,n,l)};u.exports=o},19211:(u,m,t)=>{var a=t(62235),p=t(54380),o=t(86327),s=t(385),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,p(n)+l),o(e,a(n)+i),e};u.exports=r},34609:(u,m,t)=>{var a=t(7702),p=t(54380),o=t(20786),s=t(385),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,p(n)+l),o(e,a(n)+i),e};u.exports=r},48741:(u,m,t)=>{var a=t(54380),p=t(17717),o=t(385),s=t(66737),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),o(e,a(n)+l),s(e,p(n)-i),e};u.exports=r},49440:(u,m,t)=>{var a=t(35893),p=t(17717),o=t(86327),s=t(88417),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,a(n)+l),o(e,p(n)-i),e};u.exports=r},81288:(u,m,t)=>{var a=t(26541),p=t(17717),o=t(86327),s=t(385),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,a(n)-l),o(e,p(n)-i),e};u.exports=r},61323:(u,m,t)=>{var a=t(54380),p=t(17717),o=t(86327),s=t(40136),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,a(n)+l),o(e,p(n)-i),e};u.exports=r},16694:(u,m,t)=>{u.exports={BottomCenter:t(21578),BottomLeft:t(10210),BottomRight:t(82341),LeftBottom:t(87958),LeftCenter:t(40080),LeftTop:t(88466),QuickSet:t(38829),RightBottom:t(19211),RightCenter:t(34609),RightTop:t(48741),TopCenter:t(49440),TopLeft:t(81288),TopRight:t(61323)}},66786:(u,m,t)=>{var a=t(88417),p=t(20786),o=function(s,r,e){return a(s,r),p(s,e)};u.exports=o},62235:u=>{var m=function(t){return t.y+t.height-t.height*t.originY};u.exports=m},72873:(u,m,t)=>{var a=t(62235),p=t(26541),o=t(54380),s=t(17717),r=t(87841),e=function(n,l){l===void 0&&(l=new r);var i=p(n),h=s(n);return l.x=i,l.y=h,l.width=o(n)-i,l.height=a(n)-h,l};u.exports=e},35893:u=>{var m=function(t){return t.x-t.width*t.originX+t.width*.5};u.exports=m},7702:u=>{var m=function(t){return t.y-t.height*t.originY+t.height*.5};u.exports=m},26541:u=>{var m=function(t){return t.x-t.width*t.originX};u.exports=m},87431:u=>{var m=function(t){return t.width*t.originX};u.exports=m},46928:u=>{var m=function(t){return t.height*t.originY};u.exports=m},54380:u=>{var m=function(t){return t.x+t.width-t.width*t.originX};u.exports=m},17717:u=>{var m=function(t){return t.y-t.height*t.originY};u.exports=m},86327:u=>{var m=function(t,a){return t.y=a-t.height+t.height*t.originY,t};u.exports=m},88417:u=>{var m=function(t,a){var p=t.width*t.originX;return t.x=a+p-t.width*.5,t};u.exports=m},20786:u=>{var m=function(t,a){var p=t.height*t.originY;return t.y=a+p-t.height*.5,t};u.exports=m},385:u=>{var m=function(t,a){return t.x=a+t.width*t.originX,t};u.exports=m},40136:u=>{var m=function(t,a){return t.x=a-t.width+t.width*t.originX,t};u.exports=m},66737:u=>{var m=function(t,a){return t.y=a+t.height*t.originY,t};u.exports=m},58724:(u,m,t)=>{u.exports={CenterOn:t(66786),GetBottom:t(62235),GetBounds:t(72873),GetCenterX:t(35893),GetCenterY:t(7702),GetLeft:t(26541),GetOffsetX:t(87431),GetOffsetY:t(46928),GetRight:t(54380),GetTop:t(17717),SetBottom:t(86327),SetCenterX:t(88417),SetCenterY:t(20786),SetLeft:t(385),SetRight:t(40136),SetTop:t(66737)}},20623:u=>{var m={setCrisp:function(t){var a=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return a.forEach(function(p){t.style["image-rendering"]=p}),t.style.msInterpolationMode="nearest-neighbor",t},setBicubic:function(t){return t.style["image-rendering"]="auto",t.style.msInterpolationMode="bicubic",t}};u.exports=m},27919:(u,m,t)=>{var a=t(8054),p=t(68703),o=[],s=!1,r=function(){var e=function(g,y,x,T,S){y===void 0&&(y=1),x===void 0&&(x=1),T===void 0&&(T=a.CANVAS),S===void 0&&(S=!1);var A,P=i(T);return P===null?(P={parent:g,canvas:document.createElement("canvas"),type:T},T===a.CANVAS&&o.push(P),A=P.canvas):(P.parent=g,A=P.canvas),S&&(P.parent=A),A.width=y,A.height=x,s&&T===a.CANVAS&&p.disable(A.getContext("2d",{willReadFrequently:!1})),A},n=function(g,y,x){return e(g,y,x,a.CANVAS)},l=function(g,y,x){return e(g,y,x,a.WEBGL)},i=function(g){if(g===void 0&&(g=a.CANVAS),g===a.WEBGL)return null;for(var y=0;y<o.length;y++){var x=o[y];if(!x.parent&&x.type===g)return x}return null},h=function(g){var y=g instanceof HTMLCanvasElement;o.forEach(function(x){(y&&x.canvas===g||!y&&x.parent===g)&&(x.parent=null,x.canvas.width=1,x.canvas.height=1)})},f=function(){var g=0;return o.forEach(function(y){y.parent&&g++}),g},c=function(){return o.length-f()},d=function(){s=!0},v=function(){s=!1};return{create2D:n,create:e,createWebGL:l,disableSmoothing:d,enableSmoothing:v,first:i,free:c,pool:o,remove:h,total:f}};u.exports=r()},68703:u=>{var m="",t=function(){var a=function(r){for(var e=["i","webkitI","msI","mozI","oI"],n=0;n<e.length;n++){var l=e[n]+"mageSmoothingEnabled";if(l in r)return l}return null},p=function(r){return m===""&&(m=a(r)),m&&(r[m]=!0),r},o=function(r){return m===""&&(m=a(r)),m&&(r[m]=!1),r},s=function(r){return m!==null?r[m]:null};return{disable:o,enable:p,getPrefix:a,isEnabled:s}};u.exports=t()},65208:u=>{var m=function(t,a){return a===void 0&&(a="none"),t.style.msTouchAction=a,t.style["ms-touch-action"]=a,t.style["touch-action"]=a,t};u.exports=m},91610:u=>{var m=function(t,a){a===void 0&&(a="none");var p=["-webkit-","-khtml-","-moz-","-ms-",""];return p.forEach(function(o){t.style[o+"user-select"]=a}),t.style["-webkit-touch-callout"]=a,t.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",t};u.exports=m},26253:(u,m,t)=>{u.exports={CanvasInterpolation:t(20623),CanvasPool:t(27919),Smoothing:t(68703),TouchAction:t(65208),UserSelect:t(91610)}},40987:(u,m,t)=>{var a=t(83419),p=t(37589),o=t(1e3),s=t(7537),r=t(87837),e=new a({initialize:function(l,i,h,f){l===void 0&&(l=0),i===void 0&&(i=0),h===void 0&&(h=0),f===void 0&&(f=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(l,i,h,f)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(n,l,i,h,f){return h===void 0&&(h=255),f===void 0&&(f=!0),this._locked=!0,this.red=n,this.green=l,this.blue=i,this.alpha=h,this._locked=!1,this.update(f)},setGLTo:function(n,l,i,h){return h===void 0&&(h=1),this._locked=!0,this.redGL=n,this.greenGL=l,this.blueGL=i,this.alphaGL=h,this._locked=!1,this.update(!0)},setFromRGB:function(n){return this._locked=!0,this.red=n.r,this.green=n.g,this.blue=n.b,n.hasOwnProperty("a")&&(this.alpha=n.a),this._locked=!1,this.update(!0)},setFromHSV:function(n,l,i){return s(n,l,i,this)},update:function(n){if(n===void 0&&(n=!1),this._locked)return this;var l=this.r,i=this.g,h=this.b,f=this.a;return this._color=p(l,i,h),this._color32=o(l,i,h,f),this._rgba="rgba("+l+","+i+","+h+","+f/255+")",n&&r(l,i,h,this),this},updateHSV:function(){var n=this.r,l=this.g,i=this.b;return r(n,l,i,this),this},clone:function(){return new e(this.r,this.g,this.b,this.a)},gray:function(n){return this.setTo(n,n,n)},random:function(n,l){n===void 0&&(n=0),l===void 0&&(l=255);var i=Math.floor(n+Math.random()*(l-n)),h=Math.floor(n+Math.random()*(l-n)),f=Math.floor(n+Math.random()*(l-n));return this.setTo(i,h,f)},randomGray:function(n,l){n===void 0&&(n=0),l===void 0&&(l=255);var i=Math.floor(n+Math.random()*(l-n));return this.setTo(i,i,i)},saturate:function(n){return this.s+=n/100,this},desaturate:function(n){return this.s-=n/100,this},lighten:function(n){return this.v+=n/100,this},darken:function(n){return this.v-=n/100,this},brighten:function(n){var l=this.r,i=this.g,h=this.b;return l=Math.max(0,Math.min(255,l-Math.round(255*-(n/100)))),i=Math.max(0,Math.min(255,i-Math.round(255*-(n/100)))),h=Math.max(0,Math.min(255,h-Math.round(255*-(n/100)))),this.setTo(l,i,h)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(n){this.gl[0]=Math.min(Math.abs(n),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(n){this.gl[1]=Math.min(Math.abs(n),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(n){this.gl[2]=Math.min(Math.abs(n),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(n){this.gl[3]=Math.min(Math.abs(n),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(n){n=Math.floor(Math.abs(n)),this.r=Math.min(n,255),this.gl[0]=n/255,this.update(!0)}},green:{get:function(){return this.g},set:function(n){n=Math.floor(Math.abs(n)),this.g=Math.min(n,255),this.gl[1]=n/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(n){n=Math.floor(Math.abs(n)),this.b=Math.min(n,255),this.gl[2]=n/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(n){n=Math.floor(Math.abs(n)),this.a=Math.min(n,255),this.gl[3]=n/255,this.update()}},h:{get:function(){return this._h},set:function(n){this._h=n,s(n,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(n){this._s=n,s(this._h,n,this._v,this)}},v:{get:function(){return this._v},set:function(n){this._v=n,s(this._h,this._s,n,this)}}});u.exports=e},92728:(u,m,t)=>{var a=t(37589),p=function(o){o===void 0&&(o=1024);var s=[],r=255,e,n=255,l=0,i=0;for(e=0;e<=r;e++)s.push({r:n,g:e,b:i,color:a(n,e,i)});for(l=255,e=r;e>=0;e--)s.push({r:e,g:l,b:i,color:a(e,l,i)});for(n=0,e=0;e<=r;e++,l--)s.push({r:n,g:l,b:e,color:a(n,l,e)});for(l=0,i=255,e=0;e<=r;e++,i--,n++)s.push({r:n,g:l,b:i,color:a(n,l,i)});if(o===1024)return s;var h=[],f=0,c=1024/o;for(e=0;e<o;e++)h.push(s[Math.floor(f)]),f+=c;return h};u.exports=p},91588:u=>{var m=function(t){var a={r:t>>16&255,g:t>>8&255,b:t&255,a:255};return t>16777215&&(a.a=t>>>24),a};u.exports=m},62957:u=>{var m=function(t){var a=t.toString(16);return a.length===1?"0"+a:a};u.exports=m},37589:u=>{var m=function(t,a,p){return t<<16|a<<8|p};u.exports=m},1e3:u=>{var m=function(t,a,p,o){return o<<24|t<<16|a<<8|p};u.exports=m},62183:(u,m,t)=>{var a=t(40987),p=t(89528),o=function(s,r,e){var n=e,l=e,i=e;if(r!==0){var h=e<.5?e*(1+r):e+r-e*r,f=2*e-h;n=p(f,h,s+1/3),l=p(f,h,s),i=p(f,h,s-1/3)}var c=new a;return c.setGLTo(n,l,i,1)};u.exports=o},27939:(u,m,t)=>{var a=t(7537),p=function(o,s){o===void 0&&(o=1),s===void 0&&(s=1);for(var r=[],e=0;e<=359;e++)r.push(a(e/359,o,s));return r};u.exports=p},7537:(u,m,t)=>{var a=t(37589);function p(s,r,e,n){var l=(s+r*6)%6,i=Math.min(l,4-l,1);return Math.round(255*(n-n*e*Math.max(0,i)))}var o=function(s,r,e,n){r===void 0&&(r=1),e===void 0&&(e=1);var l=p(5,s,r,e),i=p(3,s,r,e),h=p(1,s,r,e);return n?n.setTo?n.setTo(l,i,h,n.alpha,!0):(n.r=l,n.g=i,n.b=h,n.color=a(l,i,h),n):{r:l,g:i,b:h,color:a(l,i,h)}};u.exports=o},70238:(u,m,t)=>{var a=t(40987),p=function(o){var s=new a;o=o.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(i,h,f,c){return h+h+f+f+c+c});var r=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(o);if(r){var e=parseInt(r[1],16),n=parseInt(r[2],16),l=parseInt(r[3],16);s.setTo(e,n,l)}return s};u.exports=p},89528:u=>{var m=function(t,a,p){return p<0&&(p+=1),p>1&&(p-=1),p<.16666666666666666?t+(a-t)*6*p:p<.5?a:p<.6666666666666666?t+(a-t)*(.6666666666666666-p)*6:t};u.exports=m},30100:(u,m,t)=>{var a=t(40987),p=t(90664),o=function(s){var r=p(s);return new a(r.r,r.g,r.b,r.a)};u.exports=o},90664:u=>{var m=function(t){return t>16777215?{a:t>>>24,r:t>>16&255,g:t>>8&255,b:t&255}:{a:255,r:t>>16&255,g:t>>8&255,b:t&255}};u.exports=m},13699:(u,m,t)=>{var a=t(28915),p=t(37589),o=function(e,n,l,i,h,f,c,d){c===void 0&&(c=100),d===void 0&&(d=0);var v=d/c,g=a(e,i,v),y=a(n,h,v),x=a(l,f,v);return{r:g,g:y,b:x,a:255,color:p(g,y,x)}},s=function(e,n,l,i){return l===void 0&&(l=100),i===void 0&&(i=0),o(e.r,e.g,e.b,n.r,n.g,n.b,l,i)},r=function(e,n,l,i,h,f){return h===void 0&&(h=100),f===void 0&&(f=0),o(e.r,e.g,e.b,n,l,i,h,f)};u.exports={RGBWithRGB:o,ColorWithRGB:r,ColorWithColor:s}},68957:(u,m,t)=>{var a=t(40987),p=function(o){return new a(o.r,o.g,o.b,o.a)};u.exports=p},87388:(u,m,t)=>{var a=t(40987),p=function(o){var s=new a,r=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(o.toLowerCase());if(r){var e=parseInt(r[1],10),n=parseInt(r[2],10),l=parseInt(r[3],10),i=r[4]!==void 0?parseFloat(r[4]):1;s.setTo(e,n,l,i*255)}return s};u.exports=p},87837:u=>{var m=function(t,a,p,o){o===void 0&&(o={h:0,s:0,v:0}),t/=255,a/=255,p/=255;var s=Math.min(t,a,p),r=Math.max(t,a,p),e=r-s,n=0,l=r===0?0:e/r,i=r;return r!==s&&(r===t?n=(a-p)/e+(a<p?6:0):r===a?n=(p-t)/e+2:r===p&&(n=(t-a)/e+4),n/=6),o.hasOwnProperty("_h")?(o._h=n,o._s=l,o._v=i):(o.h=n,o.s=l,o.v=i),o};u.exports=m},75723:(u,m,t)=>{var a=t(62957),p=function(o,s,r,e,n){return e===void 0&&(e=255),n===void 0&&(n="#"),n==="#"?"#"+((1<<24)+(o<<16)+(s<<8)+r).toString(16).slice(1,7):"0x"+a(e)+a(o)+a(s)+a(r)};u.exports=p},85386:(u,m,t)=>{var a=t(30976),p=t(40987),o=function(s,r){return s===void 0&&(s=0),r===void 0&&(r=255),new p(a(s,r),a(s,r),a(s,r))};u.exports=o},80333:(u,m,t)=>{var a=t(70238),p=t(30100),o=t(68957),s=t(87388),r=function(e){var n=typeof e;switch(n){case"string":return e.substr(0,3).toLowerCase()==="rgb"?s(e):a(e);case"number":return p(e);case"object":return o(e)}};u.exports=r},3956:(u,m,t)=>{var a=t(40987);a.ColorSpectrum=t(92728),a.ColorToRGBA=t(91588),a.ComponentToHex=t(62957),a.GetColor=t(37589),a.GetColor32=t(1e3),a.HexStringToColor=t(70238),a.HSLToColor=t(62183),a.HSVColorWheel=t(27939),a.HSVToRGB=t(7537),a.HueToComponent=t(89528),a.IntegerToColor=t(30100),a.IntegerToRGB=t(90664),a.Interpolate=t(13699),a.ObjectToColor=t(68957),a.RandomRGB=t(85386),a.RGBStringToColor=t(87388),a.RGBToHSV=t(87837),a.RGBToString=t(75723),a.ValueToColor=t(80333),u.exports=a},27460:(u,m,t)=>{u.exports={Align:t(71926),BaseShader:t(73894),Bounds:t(58724),Canvas:t(26253),Color:t(3956),ColorMatrix:t(89422),Masks:t(69781),RGB:t(51767)}},6858:(u,m,t)=>{var a=t(83419),p=t(39429),o=new a({initialize:function(r,e,n,l,i,h){e||(e=r.sys.make.image({x:n,y:l,key:i,frame:h,add:!1})),this.bitmapMask=e,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(s){this.bitmapMask=s},preRenderWebGL:function(s,r,e){s.pipelines.BITMAPMASK_PIPELINE.beginMask(this,r,e)},postRenderWebGL:function(s,r,e){s.pipelines.BITMAPMASK_PIPELINE.endMask(this,r,e)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});p.register("bitmapMask",function(s,r,e,n,l){return new o(this.scene,s,r,e,n,l)}),u.exports=o},80661:(u,m,t)=>{var a=t(83419),p=new a({initialize:function(s,r){this.geometryMask=r,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(o){return this.geometryMask=o,this},setInvertAlpha:function(o){return o===void 0&&(o=!0),this.invertAlpha=o,this},preRenderWebGL:function(o,s,r){var e=o.gl;o.flush(),o.maskStack.length===0&&(e.enable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),o.maskCount=0),o.currentCameraMask.mask!==this&&(o.currentMask.mask=this),o.maskStack.push({mask:this,camera:r}),this.applyStencil(o,r,!0),o.maskCount++},applyStencil:function(o,s,r){var e=o.gl,n=this.geometryMask,l=o.maskCount,i=255;e.colorMask(!1,!1,!1,!1),r?(e.stencilFunc(e.EQUAL,l,i),e.stencilOp(e.KEEP,e.KEEP,e.INCR),l++):(e.stencilFunc(e.EQUAL,l+1,i),e.stencilOp(e.KEEP,e.KEEP,e.DECR)),this.level=l,n.renderWebGL(o,n,s),o.flush(),e.colorMask(!0,!0,!0,!0),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),this.invertAlpha?e.stencilFunc(e.NOTEQUAL,l,i):e.stencilFunc(e.EQUAL,l,i)},postRenderWebGL:function(o){var s=o.gl;o.maskStack.pop(),o.maskCount--,o.flush();var r=o.currentMask;if(o.maskStack.length===0)r.mask=null,s.disable(s.STENCIL_TEST);else{var e=o.maskStack[o.maskStack.length-1];e.mask.applyStencil(o,e.camera,!1),o.currentCameraMask.mask!==e.mask?(r.mask=e.mask,r.camera=e.camera):r.mask=null}},preRenderCanvas:function(o,s,r){var e=this.geometryMask;o.currentContext.save(),e.renderCanvas(o,e,r,null,null,!0),o.currentContext.clip()},postRenderCanvas:function(o){o.currentContext.restore()},destroy:function(){this.geometryMask=null}});u.exports=p},69781:(u,m,t)=>{u.exports={BitmapMask:t(6858),GeometryMask:t(80661)}},73894:(u,m,t)=>{var a=t(83419),p=new a({initialize:function(s,r,e,n){(!r||r==="")&&(r=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!e||e==="")&&(e=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),n===void 0&&(n=null),this.key=s,this.fragmentSrc=r,this.vertexSrc=e,this.uniforms=n}});u.exports=p},40366:u=>{var m=function(t,a){var p;if(a)typeof a=="string"?p=document.getElementById(a):typeof a=="object"&&a.nodeType===1&&(p=a);else if(t.parentElement||a===null)return t;return p||(p=document.body),p.appendChild(t),t};u.exports=m},83719:(u,m,t)=>{var a=t(40366),p=function(o){var s=o.config;if(!(!s.parent||!s.domCreateContainer)){var r=document.createElement("div");r.style.cssText=["display: block;","width: "+o.scale.width+"px;","height: "+o.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+s.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),o.domContainer=r,a(r,s.parent)}};u.exports=p},57264:(u,m,t)=>{var a=t(25892),p=function(o){if(document.readyState==="complete"||document.readyState==="interactive"){o();return}var s=function(){document.removeEventListener("deviceready",s,!0),document.removeEventListener("DOMContentLoaded",s,!0),window.removeEventListener("load",s,!0),o()};document.body?a.cordova?document.addEventListener("deviceready",s,!1):(document.addEventListener("DOMContentLoaded",s,!0),window.addEventListener("load",s,!0)):window.setTimeout(s,20)};u.exports=p},57811:u=>{var m=function(t){if(!t)return window.innerHeight;var a=Math.abs(window.orientation),p={w:0,h:0},o=document.createElement("div");return o.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(o),p.w=a===90?o.offsetHeight:window.innerWidth,p.h=a===90?window.innerWidth:o.offsetHeight,document.documentElement.removeChild(o),o=null,Math.abs(window.orientation)!==90?p.h:p.w};u.exports=m},45818:(u,m,t)=>{var a=t(13560),p=function(o,s){var r=window.screen,e=r?r.orientation||r.mozOrientation||r.msOrientation:!1;if(e&&typeof e.type=="string")return e.type;if(typeof e=="string")return e;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?a.ORIENTATION.PORTRAIT:a.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return a.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return a.ORIENTATION.LANDSCAPE}else return s>o?a.ORIENTATION.PORTRAIT:a.ORIENTATION.LANDSCAPE};u.exports=p},74403:u=>{var m=function(t){var a;return t!==""&&(typeof t=="string"?a=document.getElementById(t):t&&t.nodeType===1&&(a=t)),a||(a=document.body),a};u.exports=m},56836:u=>{var m=function(t){var a="";try{if(window.DOMParser){var p=new DOMParser;a=p.parseFromString(t,"text/xml")}else a=new ActiveXObject("Microsoft.XMLDOM"),a.loadXML(t)}catch{a=null}return!a||!a.documentElement||a.getElementsByTagName("parsererror").length?null:a};u.exports=m},35846:u=>{var m=function(t){t.parentNode&&t.parentNode.removeChild(t)};u.exports=m},43092:(u,m,t)=>{var a=t(83419),p=t(29747),o=new a({initialize:function(){this.isRunning=!1,this.callback=p,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var r=this;this.step=function e(n){r.callback(n),r.isRunning&&(r.timeOutID=window.requestAnimationFrame(e))},this.stepTimeout=function e(){r.isRunning&&(r.timeOutID=window.setTimeout(e,r.delay)),r.callback(window.performance.now())}},start:function(s,r,e){this.isRunning||(this.callback=s,this.isSetTimeOut=r,this.delay=e,this.isRunning=!0,this.timeOutID=r?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=p}});u.exports=o},84902:(u,m,t)=>{var a={AddToDOM:t(40366),DOMContentLoaded:t(57264),GetInnerHeight:t(57811),GetScreenOrientation:t(45818),GetTarget:t(74403),ParseXML:t(56836),RemoveFromDOM:t(35846),RequestAnimationFrame:t(43092)};u.exports=a},47565:(u,m,t)=>{var a=t(83419),p=t(50792),o=t(37277),s=new a({Extends:p,initialize:function(){p.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});o.register("EventEmitter",s,"events"),u.exports=s},93055:(u,m,t)=>{u.exports={EventEmitter:t(47565)}},20122:(u,m,t)=>{var a=t(83419),p=t(72898),o=t(14811),s=new a({Extends:p,initialize:function(e,n){n===void 0&&(n=1),p.call(this,o.BARREL,e),this.amount=n}});u.exports=s},32251:(u,m,t)=>{var a=t(83419),p=t(72898),o=t(14811),s=new a({Extends:p,initialize:function(e,n,l,i,h,f,c){l===void 0&&(l=1),i===void 0&&(i=1),h===void 0&&(h=1),f===void 0&&(f=1),c===void 0&&(c=4),p.call(this,o.BLOOM,e),this.steps=c,this.offsetX=l,this.offsetY=i,this.blurStrength=h,this.strength=f,this.glcolor=[1,1,1],n!=null&&(this.color=n)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var e=this.glcolor;e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255}}});u.exports=s},9047:(u,m,t)=>{var a=t(83419),p=t(72898),o=t(14811),s=new a({Extends:p,initialize:function(e,n,l,i,h,f,c){n===void 0&&(n=0),l===void 0&&(l=2),i===void 0&&(i=2),h===void 0&&(h=1),c===void 0&&(c=4),p.call(this,o.BLUR,e),this.quality=n,this.x=l,this.y=i,this.steps=c,this.strength=h,this.glcolor=[1,1,1],f!=null&&(this.color=f)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var e=this.glcolor;e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255}}});u.exports=s},27885:(u,m,t)=>{var a=t(83419),p=t(72898),o=t(14811),s=new a({Extends:p,initialize:function(e,n,l,i,h,f,c,d){n===void 0&&(n=.5),l===void 0&&(l=1),i===void 0&&(i=.2),h===void 0&&(h=!1),f===void 0&&(f=1),c===void 0&&(c=1),d===void 0&&(d=1),p.call(this,o.BOKEH,e),this.radius=n,this.amount=l,this.contrast=i,this.isTiltShift=h,this.strength=d,this.blurX=f,this.blurY=c}});u.exports=s},12578:(u,m,t)=>{var a=t(83419),p=t(72898),o=t(14811),s=new a({Extends:p,initialize:function(e,n,l,i,h,f){n===void 0&&(n=8),h===void 0&&(h=1),f===void 0&&(f=.005),p.call(this,o.CIRCLE,e),this.scale=h,this.feather=f,this.thickness=n,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],l!=null&&(this.color=l),i!=null&&(this.backgroundColor=i)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var e=this.glcolor;e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255}},backgroundColor:{get:function(){var r=this.glcolor2;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var e=this.glcolor2;e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(r){this.glcolor2[3]=r}}});u.exports=s},15802:(u,m,t)=>{var a=t(83419),p=t(89422),o=t(14811),s=new a({Extends:p,initialize:function(e){p.call(this),this.type=o.COLOR_MATRIX,this.gameObject=e,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});u.exports=s},72898:(u,m,t)=>{var a=t(83419),p=new a({initialize:function(s,r){this.type=s,this.gameObject=r,this.active=!0},setActive:function(o){return this.active=o,this},destroy:function(){this.gameObject=null,this.active=!1}});u.exports=p},44553:(u,m,t)=>{var a=t(83419),p=t(72898),o=t(14811),s=new a({Extends:p,initialize:function(e,n,l,i){n===void 0&&(n="__WHITE"),l===void 0&&(l=.005),i===void 0&&(i=.005),p.call(this,o.DISPLACEMENT,e),this.x=l,this.y=i,this.glTexture,this.setTexture(n)},setTexture:function(r){var e=this.gameObject.scene.sys.textures.getFrame(r);return e&&(this.glTexture=e.glTexture),this}});u.exports=s},68531:(u,m,t)=>{var a=t(83419),p=t(72898),o=t(14811),s=new a({Extends:p,initialize:function(e,n,l,i,h){l===void 0&&(l=4),i===void 0&&(i=0),h===void 0&&(h=!1),p.call(this,o.GLOW,e),this.outerStrength=l,this.innerStrength=i,this.knockout=h,this.glcolor=[1,1,1,1],n!==void 0&&(this.color=n)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var e=this.glcolor;e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255}}});u.exports=s},37102:(u,m,t)=>{var a=t(83419),p=t(72898),o=t(14811),s=new a({Extends:p,initialize:function(e,n,l,i,h,f,c,d,v){i===void 0&&(i=.2),h===void 0&&(h=0),f===void 0&&(f=0),c===void 0&&(c=0),d===void 0&&(d=1),v===void 0&&(v=0),p.call(this,o.GRADIENT,e),this.alpha=i,this.size=v,this.fromX=h,this.fromY=f,this.toX=c,this.toY=d,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],n!=null&&(this.color1=n),l!=null&&(this.color2=l)},color1:{get:function(){var r=this.glcolor1;return(r[0]<<16)+(r[1]<<8)+(r[2]|0)},set:function(r){var e=this.glcolor1;e[0]=r>>16&255,e[1]=r>>8&255,e[2]=r&255}},color2:{get:function(){var r=this.glcolor2;return(r[0]<<16)+(r[1]<<8)+(r[2]|0)},set:function(r){var e=this.glcolor2;e[0]=r>>16&255,e[1]=r>>8&255,e[2]=r&255}}});u.exports=s},86886:(u,m,t)=>{var a=t(83419),p=t(72898),o=t(14811),s=new a({Extends:p,initialize:function(e,n){n===void 0&&(n=1),p.call(this,o.PIXELATE,e),this.amount=n}});u.exports=s},92322:(u,m,t)=>{var a=t(83419),p=t(72898),o=t(14811),s=new a({Extends:p,initialize:function(e,n,l,i,h,f,c,d){n===void 0&&(n=0),l===void 0&&(l=0),i===void 0&&(i=.1),h===void 0&&(h=1),c===void 0&&(c=6),d===void 0&&(d=1),p.call(this,o.SHADOW,e),this.x=n,this.y=l,this.decay=i,this.power=h,this.glcolor=[0,0,0,1],this.samples=c,this.intensity=d,f!==void 0&&(this.color=f)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var e=this.glcolor;e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255}}});u.exports=s},39563:(u,m,t)=>{var a=t(83419),p=t(72898),o=t(14811),s=new a({Extends:p,initialize:function(e,n,l,i,h){n===void 0&&(n=.5),l===void 0&&(l=.5),i===void 0&&(i=3),h===void 0&&(h=!1),p.call(this,o.SHINE,e),this.speed=n,this.lineWidth=l,this.gradient=i,this.reveal=h}});u.exports=s},56448:(u,m,t)=>{var a=t(83419),p=t(72898),o=t(14811),s=new a({Extends:p,initialize:function(e,n,l,i,h){n===void 0&&(n=.5),l===void 0&&(l=.5),i===void 0&&(i=.5),h===void 0&&(h=.5),p.call(this,o.VIGNETTE,e),this.x=n,this.y=l,this.radius=i,this.strength=h}});u.exports=s},38433:(u,m,t)=>{var a=t(83419),p=t(72898),o=t(14811),s=new a({Extends:p,initialize:function(e,n,l,i,h){n===void 0&&(n=.1),l===void 0&&(l=0),i===void 0&&(i=0),h===void 0&&(h=!1),p.call(this,o.WIPE,e),this.progress=0,this.wipeWidth=n,this.direction=l,this.axis=i,this.reveal=h}});u.exports=s},14811:u=>{var m={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};u.exports=m},66064:(u,m,t)=>{var a=t(79291),p=t(14811),o={Barrel:t(20122),Controller:t(72898),Bloom:t(32251),Blur:t(9047),Bokeh:t(27885),Circle:t(12578),ColorMatrix:t(15802),Displacement:t(44553),Glow:t(68531),Gradient:t(37102),Pixelate:t(86886),Shadow:t(92322),Shine:t(39563),Vignette:t(56448),Wipe:t(38433)};o=a(!1,o,p),u.exports=o},25305:(u,m,t)=>{var a=t(10312),p=t(23568),o=function(s,r,e){r.x=p(e,"x",0),r.y=p(e,"y",0),r.depth=p(e,"depth",0),r.flipX=p(e,"flipX",!1),r.flipY=p(e,"flipY",!1);var n=p(e,"scale",null);typeof n=="number"?r.setScale(n):n!==null&&(r.scaleX=p(n,"x",1),r.scaleY=p(n,"y",1));var l=p(e,"scrollFactor",null);typeof l=="number"?r.setScrollFactor(l):l!==null&&(r.scrollFactorX=p(l,"x",1),r.scrollFactorY=p(l,"y",1)),r.rotation=p(e,"rotation",0);var i=p(e,"angle",null);i!==null&&(r.angle=i),r.alpha=p(e,"alpha",1);var h=p(e,"origin",null);if(typeof h=="number")r.setOrigin(h);else if(h!==null){var f=p(h,"x",.5),c=p(h,"y",.5);r.setOrigin(f,c)}r.blendMode=p(e,"blendMode",a.NORMAL),r.visible=p(e,"visible",!0);var d=p(e,"add",!0);return d&&s.sys.displayList.add(r),r.preUpdate&&s.sys.updateList.add(r),r};u.exports=o},13059:(u,m,t)=>{var a=t(23568),p=function(o,s){var r=a(s,"anims",null);if(r===null)return o;if(typeof r=="string")o.anims.play(r);else if(typeof r=="object"){var e=o.anims,n=a(r,"key",void 0);if(n){var l=a(r,"startFrame",void 0),i=a(r,"delay",0),h=a(r,"repeat",0),f=a(r,"repeatDelay",0),c=a(r,"yoyo",!1),d=a(r,"play",!1),v=a(r,"delayedPlay",0),g={key:n,delay:i,repeat:h,repeatDelay:f,yoyo:c,startFrame:l};d?e.play(g):v>0?e.playAfterDelay(g,v):e.load(g)}}return o};u.exports=p},8050:(u,m,t)=>{var a=t(83419),p=t(73162),o=t(37277),s=t(51708),r=t(44594),e=t(19186),n=new a({Extends:p,initialize:function(i){p.call(this,i),this.sortChildrenFlag=!1,this.scene=i,this.systems=i.sys,this.events=i.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(r.BOOT,this.boot,this),this.events.on(r.START,this.start,this)},boot:function(){this.events.once(r.DESTROY,this.destroy,this)},addChildCallback:function(l){l.displayList&&l.displayList!==this&&l.removeFromDisplayList(),l.parentContainer&&l.parentContainer.remove(l),l.displayList||(this.queueDepthSort(),l.displayList=this,l.emit(s.ADDED_TO_SCENE,l,this.scene),this.events.emit(r.ADDED_TO_SCENE,l,this.scene))},removeChildCallback:function(l){this.queueDepthSort(),l.displayList=null,l.emit(s.REMOVED_FROM_SCENE,l,this.scene),this.events.emit(r.REMOVED_FROM_SCENE,l,this.scene)},start:function(){this.events.once(r.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(e(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(l,i){return l._depth-i._depth},getChildren:function(){return this.list},shutdown:function(){for(var l=this.list,i=l.length;i--;)l[i]&&l[i].destroy(!0);l.length=0,this.events.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(r.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});o.register("DisplayList",n,"displayList"),u.exports=n},95643:(u,m,t)=>{var a=t(83419),p=t(53774),o=t(45893),s=t(50792),r=t(51708),e=t(44594),n=new a({Extends:s,initialize:function(i,h){s.call(this),this.scene=i,this.displayList=null,this.type=h,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(r.ADDED_TO_SCENE,this.addedToScene,this),this.on(r.REMOVED_FROM_SCENE,this.removedFromScene,this),i.sys.queueDepthSort()},setActive:function(l){return this.active=l,this},setName:function(l){return this.name=l,this},setState:function(l){return this.state=l,this},setDataEnabled:function(){return this.data||(this.data=new o(this)),this},setData:function(l,i){return this.data||(this.data=new o(this)),this.data.set(l,i),this},incData:function(l,i){return this.data||(this.data=new o(this)),this.data.inc(l,i),this},toggleData:function(l){return this.data||(this.data=new o(this)),this.data.toggle(l),this},getData:function(l){return this.data||(this.data=new o(this)),this.data.get(l)},setInteractive:function(l,i,h){return this.scene.sys.input.enable(this,l,i,h),this},disableInteractive:function(l){return l===void 0&&(l=!1),this.scene.sys.input.disable(this,l),this},removeInteractive:function(l){return l===void 0&&(l=!1),this.scene.sys.input.clear(this),l&&this.scene.sys.input.resetCursor(),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return p(this)},willRender:function(l){var i=this.displayList&&this.displayList.active?this.displayList.willRender(l):!0;return!(!i||n.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&l.id)},getIndexList:function(){for(var l=this,i=this.parentContainer,h=[];i&&(h.unshift(i.getIndex(l)),l=i,i.parentContainer);)i=i.parentContainer;return this.displayList?h.unshift(this.displayList.getIndex(l)):h.unshift(this.scene.sys.displayList.getIndex(l)),h},addToDisplayList:function(l){return l===void 0&&(l=this.scene.sys.displayList),this.displayList&&this.displayList!==l&&this.removeFromDisplayList(),l.exists(this)||(this.displayList=l,l.add(this,!0),l.queueDepthSort(),this.emit(r.ADDED_TO_SCENE,this,this.scene),l.events.emit(e.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var l=this.displayList||this.scene.sys.displayList;return l&&l.exists(this)&&(l.remove(this,!0),l.queueDepthSort(),this.displayList=null,this.emit(r.REMOVED_FROM_SCENE,this,this.scene),l.events.emit(e.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},getDisplayList:function(){var l=null;return this.parentContainer?l=this.parentContainer.list:this.displayList&&(l=this.displayList.list),l},destroy:function(l){!this.scene||this.ignoreDestroy||(l===void 0&&(l=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(r.DESTROY,this,l),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});n.RENDER_MASK=15,u.exports=n},44603:(u,m,t)=>{var a=t(83419),p=t(37277),o=t(44594),s=new a({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(o.BOOT,this.boot,this),this.events.on(o.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(o.DESTROY,this.destroy,this)},start:function(){this.events.once(o.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(o.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});s.register=function(r,e){s.prototype.hasOwnProperty(r)||(s.prototype[r]=e)},s.remove=function(r){s.prototype.hasOwnProperty(r)&&delete s.prototype[r]},p.register("GameObjectCreator",s,"make"),u.exports=s},39429:(u,m,t)=>{var a=t(83419),p=t(37277),o=t(44594),s=new a({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(o.BOOT,this.boot,this),this.events.on(o.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(o.DESTROY,this.destroy,this)},start:function(){this.events.once(o.SHUTDOWN,this.shutdown,this)},existing:function(r){return(r.renderCanvas||r.renderWebGL)&&this.displayList.add(r),r.preUpdate&&this.updateList.add(r),r},shutdown:function(){this.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(o.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});s.register=function(r,e){s.prototype.hasOwnProperty(r)||(s.prototype[r]=e)},s.remove=function(r){s.prototype.hasOwnProperty(r)&&delete s.prototype[r]},p.register("GameObjectFactory",s,"add"),u.exports=s},91296:(u,m,t)=>{var a=t(61340),p=new a,o=new a,s=new a,r={camera:p,sprite:o,calc:s},e=function(n,l,i){var h=p,f=o,c=s;return f.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY),h.copyFrom(l.matrix),i?(h.multiplyWithOffset(i,-l.scrollX*n.scrollFactorX,-l.scrollY*n.scrollFactorY),f.e=n.x,f.f=n.y):(f.e-=l.scrollX*n.scrollFactorX,f.f-=l.scrollY*n.scrollFactorY),h.multiply(f,c),r};u.exports=e},45027:(u,m,t)=>{var a=t(83419),p=t(25774),o=t(37277),s=t(44594),r=new a({Extends:p,initialize:function(n){p.call(this),this.checkQueue=!0,this.scene=n,this.systems=n.sys,n.sys.events.once(s.BOOT,this.boot,this),n.sys.events.on(s.START,this.start,this)},boot:function(){this.systems.events.once(s.DESTROY,this.destroy,this)},start:function(){var e=this.systems.events;e.on(s.PRE_UPDATE,this.update,this),e.on(s.UPDATE,this.sceneUpdate,this),e.once(s.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(e,n){for(var l=this._active,i=l.length,h=0;h<i;h++){var f=l[h];f.active&&f.preUpdate.call(f,e,n)}},shutdown:function(){for(var e=this._active.length;e--;)this._active[e].destroy(!0);for(e=this._pending.length;e--;)this._pending[e].destroy(!0);for(e=this._destroy.length;e--;)this._destroy[e].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var n=this.systems.events;n.off(s.PRE_UPDATE,this.update,this),n.off(s.UPDATE,this.sceneUpdate,this),n.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(s.START,this.start,this),this.scene=null,this.systems=null}});o.register("UpdateList",r,"updateList"),u.exports=r},3217:u=>{var m=function(t,a,p,o,s,r,e,n,l,i,h,f,c,d,v){var g=p.x-a.displayOriginX+s,y=p.y-a.displayOriginY+r,x=g+p.w,T=y+p.h,S=e.a,A=e.b,P=e.c,D=e.d,R=e.e,L=e.f,I=g*S+y*P+R,w=g*A+y*D+L,B=g*S+T*P+R,b=g*A+T*D+L,V=x*S+T*P+R,X=x*A+T*D+L,G=x*S+y*P+R,U=x*A+y*D+L;n&&(I=Math.round(I),w=Math.round(w),B=Math.round(B),b=Math.round(b),V=Math.round(V),X=Math.round(X),G=Math.round(G),U=Math.round(U)),t.batchQuad(a,I,w,B,b,V,X,G,U,o.u0,o.v0,o.u1,o.v1,l,i,h,f,c,d,v)};u.exports=m},53048:u=>{var m=function(t,a,p,o){if(p===void 0&&(p=!1),o===void 0)return o={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},o;var s=t.text,r=s.length,e=t.maxWidth,n=t.wordWrapCharCode,l=Number.MAX_VALUE,i=Number.MAX_VALUE,h=0,f=0,c=t.fontData.chars,d=t.fontData.lineHeight,v=t.letterSpacing,g=t.lineSpacing,y=0,x=0,T=0,S=null,A=t._align,P=0,D=0,R=t.fontSize/t.fontData.size,L=R*t.scaleX,I=R*t.scaleY,w=null,B=0,b=[],V=Number.MAX_VALUE,X=0,G=0,U=0,O,z,N,Y=[],W=[],H=null,$=function(Mt,zt){for(var mt=0,Pt=0;Pt<Mt.length;Pt++){var Lt=Mt.charCodeAt(Pt),jt=zt.chars[Lt];jt&&(mt+=jt.xAdvance)}return mt*L};if(e>0){N=s.split(`
`);var K=[];for(O=0;O<N.length;O++){var Z=N[O],J="",j="",Q="",_="";for(z=0;z<Z.length;z++)if(T=Z.charCodeAt(z),J+=Z[z],T===n||z===Z.length-1){_=Q+J;var k=$(_,t.fontData);k<=e?Q=_:(j=j.slice(0,-1),j+=(j?`
`:"")+Q,Q=J),J=""}j=j.slice(0,-1),j+=(j?`
`:"")+Q,K.push(j)}s=K.join(`
`),o.wrappedText=s,r=s.length}var it=0;for(O=0;O<r;O++){if(T=s.charCodeAt(O),T===10){H!==null&&(Y.push({word:H.word,i:H.i,x:H.x*L,y:H.y*I,w:H.w*L,h:H.h*I}),H=null),w=null,b[G]=U,U>X&&(X=U),U<V&&(V=U),G++,U=0,y=0,x=(d+g)*G;continue}if(S=c[T],!!S){if(P=y,D=x,w!==null){var nt=S.kerning[B];P+=nt!==void 0?nt:0}l>P&&(l=P),i>D&&(i=D);var st=P+S.xAdvance,q=D+d;h<st&&(h=st),f<q&&(f=q);var tt=S.xOffset+S.xAdvance+(nt!==void 0?nt:0);T===n?H!==null&&(Y.push({word:H.word,i:H.i,x:H.x*L,y:H.y*I,w:H.w*L,h:H.h*I}),H=null):(H===null&&(H={word:"",i:it,x:y,y:x,w:0,h:d}),H.word=H.word.concat(s[O]),H.w+=tt),W.push({i:it,idx:O,char:s[O],code:T,x:(S.xOffset+P)*R,y:(S.yOffset+x)*R,w:S.width*R,h:S.height*R,t:x*R,r:st*R,b:d*R,line:G,glyph:S}),y+=S.xAdvance+v+(nt!==void 0?nt:0),w=S,B=T,U=st*R,it++}}if(H!==null&&Y.push({word:H.word,i:H.i,x:H.x*L,y:H.y*I,w:H.w*L,h:H.h*I}),b[G]=U,U>X&&(X=U),U<V&&(V=U),A>0)for(var et=0;et<W.length;et++){var ot=W[et];if(A===1){var dt=(X-b[ot.line])/2;ot.x+=dt,ot.r+=dt}else if(A===2){var Ct=X-b[ot.line];ot.x+=Ct,ot.r+=Ct}}var ut=o.local,ft=o.global;return N=o.lines,ut.x=l*R,ut.y=i*R,ut.width=h*R,ut.height=f*R,ft.x=t.x-t._displayOriginX+l*L,ft.y=t.y-t._displayOriginY+i*I,ft.width=h*L,ft.height=f*I,N.shortest=V,N.longest=X,N.lengths=b,a&&(ut.x=Math.ceil(ut.x),ut.y=Math.ceil(ut.y),ut.width=Math.ceil(ut.width),ut.height=Math.ceil(ut.height),ft.x=Math.ceil(ft.x),ft.y=Math.ceil(ft.y),ft.width=Math.ceil(ft.width),ft.height=Math.ceil(ft.height),N.shortest=Math.ceil(V),N.longest=Math.ceil(X)),p&&(t._displayOriginX=t.originX*ut.width,t._displayOriginY=t.originY*ut.height,ft.x=t.x-t._displayOriginX*t.scaleX,ft.y=t.y-t._displayOriginY*t.scaleY,a&&(ft.x=Math.ceil(ft.x),ft.y=Math.ceil(ft.y))),o.words=Y,o.characters=W,o.lines.height=d,o.scale=R,o.scaleX=t.scaleX,o.scaleY=t.scaleY,o};u.exports=m},61327:(u,m,t)=>{var a=t(21859),p=function(o,s,r,e,n,l,i){var h=o.sys.textures.get(r),f=h.get(e),c=o.sys.cache.xml.get(n);if(f&&c){var d=a(c,f,l,i,h);return o.sys.cache.bitmapFont.add(s,{data:d,texture:r,frame:e,fromAtlas:!0}),!0}else return!1};u.exports=p},6925:(u,m,t)=>{var a=t(35154),p=function(o,s){var r=s.width,e=s.height,n=Math.floor(r/2),l=Math.floor(e/2),i=a(s,"chars","");if(i!==""){var h=a(s,"image",""),f=o.sys.textures.getFrame(h),c=f.cutX,d=f.cutY,v=f.source.width,g=f.source.height,y=a(s,"offset.x",0),x=a(s,"offset.y",0),T=a(s,"spacing.x",0),S=a(s,"spacing.y",0),A=a(s,"lineSpacing",0),P=a(s,"charsPerRow",null);P===null&&(P=v/r,P>i.length&&(P=i.length));for(var D=y,R=x,L={retroFont:!0,font:h,size:r,lineHeight:e+A,chars:{}},I=0,w=0;w<i.length;w++){var B=i.charCodeAt(w),b=(c+D)/v,V=(d+R)/g,X=(c+D+r)/v,G=(d+R+e)/g;L.chars[B]={x:D,y:R,width:r,height:e,centerX:n,centerY:l,xOffset:0,yOffset:0,xAdvance:r,data:{},kerning:{},u0:b,v0:V,u1:X,v1:G},I++,I===P?(I=0,D=y,R+=e+S):D+=r+T}var U={data:L,frame:null,texture:h};return U}};u.exports=p},21859:u=>{function m(a,p){return parseInt(a.getAttribute(p),10)}var t=function(a,p,o,s,r){o===void 0&&(o=0),s===void 0&&(s=0);var e=p.cutX,n=p.cutY,l=p.source.width,i=p.source.height,h=p.sourceIndex,f={},c=a.getElementsByTagName("info")[0],d=a.getElementsByTagName("common")[0];f.font=c.getAttribute("face"),f.size=m(c,"size"),f.lineHeight=m(d,"lineHeight")+s,f.chars={};var v=a.getElementsByTagName("char"),g=p!==void 0&&p.trimmed;if(g)var y=p.height,x=p.width;for(var T=0;T<v.length;T++){var S=v[T],A=m(S,"id"),P=String.fromCharCode(A),D=m(S,"x"),R=m(S,"y"),L=m(S,"width"),I=m(S,"height");g&&(D<x&&(x=D),R<y&&(y=R)),g&&y!==0&&x!==0&&(D-=p.x,R-=p.y);var w=(e+D)/l,B=(n+R)/i,b=(e+D+L)/l,V=(n+R+I)/i;if(f.chars[A]={x:D,y:R,width:L,height:I,centerX:Math.floor(L/2),centerY:Math.floor(I/2),xOffset:m(S,"xoffset"),yOffset:m(S,"yoffset"),xAdvance:m(S,"xadvance")+o,data:{},kerning:{},u0:w,v0:B,u1:b,v1:V},r&&L!==0&&I!==0){var X=r.add(P,h,D,R,L,I);X&&X.setUVs(L,I,w,B,b,V)}}var G=a.getElementsByTagName("kerning");for(T=0;T<G.length;T++){var U=G[T],O=m(U,"first"),z=m(U,"second"),N=m(U,"amount");f.chars[z].kerning[O]=N}return f};u.exports=t},196:(u,m,t)=>{var a=t(87662),p=t(79291),o={Parse:t(6925)};o=p(!1,o,a),u.exports=o},87662:u=>{var m={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};u.exports=m},2638:(u,m,t)=>{var a=t(22186),p=t(83419),o=t(12310),s=new p({Extends:a,Mixins:[o],initialize:function(e,n,l,i,h,f,c){a.call(this,e,n,l,i,h,f,c),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(r,e){return this.cropWidth=r,this.cropHeight=e,this},setDisplayCallback:function(r){return this.displayCallback=r,this},setScrollX:function(r){return this.scrollX=r,this},setScrollY:function(r){return this.scrollY=r,this}});u.exports=s},86741:(u,m,t)=>{var a=t(20926),p=function(o,s,r,e){var n=s._text,l=n.length,i=o.currentContext;if(!(l===0||!a(o,i,s,r,e))){r.addToRenderList(s);var h=s.fromAtlas?s.frame:s.texture.frames.__BASE,f=s.displayCallback,c=s.callbackData,d=s.fontData.chars,v=s.fontData.lineHeight,g=s._letterSpacing,y=0,x=0,T=0,S=null,A=0,P=0,D=0,R=0,L=0,I=0,w=null,B=0,b=s.frame.source.image,V=h.cutX,X=h.cutY,G=0,U=0,O=s._fontSize/s.fontData.size,z=s._align,N=0,Y=0;s.getTextBounds(!1);var W=s._bounds.lines;z===1?Y=(W.longest-W.lengths[0])/2:z===2&&(Y=W.longest-W.lengths[0]),i.translate(-s.displayOriginX,-s.displayOriginY);var H=r.roundPixels;s.cropWidth>0&&s.cropHeight>0&&(i.beginPath(),i.rect(0,0,s.cropWidth,s.cropHeight),i.clip());for(var $=0;$<l;$++){if(U=O,G=0,T=n.charCodeAt($),T===10){N++,z===1?Y=(W.longest-W.lengths[N])/2:z===2&&(Y=W.longest-W.lengths[N]),y=0,x+=v,w=null;continue}if(S=d[T],!!S){if(A=V+S.x,P=X+S.y,D=S.width,R=S.height,L=S.xOffset+y-s.scrollX,I=S.yOffset+x-s.scrollY,w!==null){var K=S.kerning[B];L+=K!==void 0?K:0}if(f){c.index=$,c.charCode=T,c.x=L,c.y=I,c.scale=U,c.rotation=G,c.data=S.data;var Z=f(c);L=Z.x,I=Z.y,U=Z.scale,G=Z.rotation}L*=U,I*=U,L+=Y,y+=S.xAdvance+g+(K!==void 0?K:0),w=S,B=T,!(D===0||R===0||T===32)&&(H&&(L=Math.round(L),I=Math.round(I)),i.save(),i.translate(L,I),i.rotate(G),i.scale(U,U),i.drawImage(b,A,P,D,R,0,0,D,R),i.restore())}}i.restore()}};u.exports=p},11164:(u,m,t)=>{var a=t(2638),p=t(25305),o=t(44603),s=t(23568);o.register("dynamicBitmapText",function(r,e){r===void 0&&(r={});var n=s(r,"font",""),l=s(r,"text",""),i=s(r,"size",!1),h=new a(this.scene,0,0,n,l,i);return e!==void 0&&(r.add=e),p(this.scene,h,r),h})},72566:(u,m,t)=>{var a=t(2638),p=t(39429);p.register("dynamicBitmapText",function(o,s,r,e,n){return this.displayList.add(new a(this.scene,o,s,r,e,n))})},12310:(u,m,t)=>{var a=t(29747),p=a,o=a;p=t(73482),o=t(86741),u.exports={renderWebGL:p,renderCanvas:o}},73482:(u,m,t)=>{var a=t(91296),p=t(61340),o=t(70554),s=new p,r=function(e,n,l,i){var h=n.text,f=h.length;if(f!==0){l.addToRenderList(n);var c=e.pipelines.set(n.pipeline,n),d=a(n,l,i);e.pipelines.preBatch(n);var v=d.sprite,g=d.calc,y=s,x=n.cropWidth>0||n.cropHeight>0;x&&(c.flush(),e.pushScissor(g.tx,g.ty,n.cropWidth*g.scaleX,n.cropHeight*g.scaleY));var T=n.frame,S=T.glTexture,A=n.tintFill,P=o.getTintAppendFloatAlpha(n.tintTopLeft,l.alpha*n._alphaTL),D=o.getTintAppendFloatAlpha(n.tintTopRight,l.alpha*n._alphaTR),R=o.getTintAppendFloatAlpha(n.tintBottomLeft,l.alpha*n._alphaBL),L=o.getTintAppendFloatAlpha(n.tintBottomRight,l.alpha*n._alphaBR),I=c.setGameObject(n),w=0,B=0,b=0,V=0,X=n.letterSpacing,G,U=0,O=0,z,N=n.scrollX,Y=n.scrollY,W=n.fontData,H=W.chars,$=W.lineHeight,K=n.fontSize/W.size,Z=0,J=n._align,j=0,Q=0,_=n.getTextBounds(!1);n.maxWidth>0&&(h=_.wrappedText,f=h.length);var k=n._bounds.lines;J===1?Q=(k.longest-k.lengths[0])/2:J===2&&(Q=k.longest-k.lengths[0]);for(var it=l.roundPixels,nt=n.displayCallback,st=n.callbackData,q=0;q<f;q++){if(b=h.charCodeAt(q),b===10){j++,J===1?Q=(k.longest-k.lengths[j])/2:J===2&&(Q=k.longest-k.lengths[j]),w=0,B+=$,z=null;continue}if(G=H[b],!!G){U=G.width,O=G.height;var tt=G.xOffset+w-N,et=G.yOffset+B-Y;if(z!==null){var ot=G.kerning[V]||0;tt+=ot,w+=ot}if(w+=G.xAdvance+X,z=G,V=b,!(U===0||O===0||b===32)){if(K=n.fontSize/n.fontData.size,Z=0,nt){st.color=0,st.tint.topLeft=P,st.tint.topRight=D,st.tint.bottomLeft=R,st.tint.bottomRight=L,st.index=q,st.charCode=b,st.x=tt,st.y=et,st.scale=K,st.rotation=Z,st.data=G.data;var dt=nt(st);tt=dt.x,et=dt.y,K=dt.scale,Z=dt.rotation,dt.color?(P=dt.color,D=dt.color,R=dt.color,L=dt.color):(P=dt.tint.topLeft,D=dt.tint.topRight,R=dt.tint.bottomLeft,L=dt.tint.bottomRight),P=o.getTintAppendFloatAlpha(P,l.alpha*n._alphaTL),D=o.getTintAppendFloatAlpha(D,l.alpha*n._alphaTR),R=o.getTintAppendFloatAlpha(R,l.alpha*n._alphaBL),L=o.getTintAppendFloatAlpha(L,l.alpha*n._alphaBR)}tt*=K,et*=K,tt-=n.displayOriginX,et-=n.displayOriginY,tt+=Q,y.applyITRS(tt,et,Z,K,K),g.multiply(y,v);var Ct=G.u0,ut=G.v0,ft=G.u1,Mt=G.v1,zt=U,mt=O,Pt=v.e,Lt=v.f,jt=mt*v.c+v.e,oi=mt*v.d+v.f,hi=zt*v.a+mt*v.c+v.e,li=zt*v.b+mt*v.d+v.f,ui=zt*v.a+v.e,fi=zt*v.b+v.f;it&&(Pt=Math.round(Pt),Lt=Math.round(Lt),jt=Math.round(jt),oi=Math.round(oi),hi=Math.round(hi),li=Math.round(li),ui=Math.round(ui),fi=Math.round(fi)),c.shouldFlush(6)&&(c.flush(),I=c.setGameObject(n)),c.batchQuad(n,Pt,Lt,jt,oi,hi,li,ui,fi,Ct,ut,ft,Mt,P,D,R,L,A,S,I)}}}x&&(c.flush(),e.popScissor()),e.pipelines.postBatch(n)}};u.exports=r},22186:(u,m,t)=>{var a=t(83419),p=t(45319),o=t(31401),s=t(95643),r=t(53048),e=t(61327),n=t(21859),l=t(87841),i=t(18658),h=new a({Extends:s,Mixins:[o.Alpha,o.BlendMode,o.Depth,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.Texture,o.Tint,o.Transform,o.Visible,i],initialize:function(c,d,v,g,y,x,T){y===void 0&&(y=""),T===void 0&&(T=0),s.call(this,c,"BitmapText"),this.font=g;var S=this.scene.sys.cache.bitmapFont.get(g);if(!S)throw new Error("Invalid BitmapText key: "+g);this.fontData=S.data,this._text="",this._fontSize=x||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=T,this._bounds=r(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=S.fromAtlas,this.setTexture(S.texture,S.frame),this.setPosition(d,v),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(y)},setLeftAlign:function(){return this._align=h.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=h.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=h.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(f){return this._fontSize=f,this._dirty=!0,this},setLetterSpacing:function(f){return f===void 0&&(f=0),this._letterSpacing=f,this._dirty=!0,this},setLineSpacing:function(f){return f===void 0&&(f=0),this.lineSpacing=f,this},setText:function(f){return!f&&f!==0&&(f=""),Array.isArray(f)&&(f=f.join(`
`)),f!==this.text&&(this._text=f.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(f,c,d,v){return f===void 0&&(f=0),c===void 0&&(c=0),d===void 0&&(d=0),v===void 0&&(v=.5),this.dropShadowX=f,this.dropShadowY=c,this.dropShadowColor=d,this.dropShadowAlpha=v,this},setCharacterTint:function(f,c,d,v,g,y,x){f===void 0&&(f=0),c===void 0&&(c=1),d===void 0&&(d=!1),v===void 0&&(v=-1),g===void 0&&(g=v,y=v,x=v);var T=this.text.length;c===-1&&(c=T),f<0&&(f=T+f),f=p(f,0,T-1);for(var S=p(f+c,f,T),A=this.charColors,P=f;P<S;P++){var D=A[P];if(v===-1)A[P]=null;else{var R=d?1:0;D?(D.tintEffect=R,D.tintTL=v,D.tintTR=g,D.tintBL=y,D.tintBR=x):A[P]={tintEffect:R,tintTL:v,tintTR:g,tintBL:y,tintBR:x}}}return this},setWordTint:function(f,c,d,v,g,y,x){c===void 0&&(c=1);for(var T=this.getTextBounds(),S=T.words,A=typeof f=="number",P=0,D=0;D<S.length;D++){var R=S[D];if((A&&D===f||!A&&R.word===f)&&(this.setCharacterTint(R.i,R.word.length,d,v,g,y,x),P++,P===c))return this}return this},getTextBounds:function(f){var c=this._bounds;return(this._dirty||f||this.scaleX!==c.scaleX||this.scaleY!==c.scaleY)&&(r(this,f,!0,c),this._dirty=!1),c},getCharacterAt:function(f,c,d){for(var v=this.getLocalPoint(f,c,null,d),g=this.getTextBounds(),y=g.characters,x=new l,T=0;T<y.length;T++){var S=y[T];if(x.setTo(S.x,S.t,S.r-S.x,S.b),x.contains(v.x,v.y))return S}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(f,c,d){c===void 0&&(c=this._fontSize),d===void 0&&(d=this._align);var v=this.scene.sys.cache.bitmapFont.get(f);return v&&(this.font=f,this.fontData=v.data,this._fontSize=c,this._align=d,this.fromAtlas=v.fromAtlas===!0,this.setTexture(v.texture,v.frame),r(this,!1,!0,this._bounds)),this},setMaxWidth:function(f,c){return this._maxWidth=f,this._dirty=!0,c!==void 0&&(this.wordWrapCharCode=c),this},setDisplaySize:function(f,c){this.setScale(1,1),this.getTextBounds(!1);var d=f/this.width,v=c/this.height;return this.setScale(d,v),this},align:{set:function(f){this._align=f,this._dirty=!0},get:function(){return this._align}},text:{set:function(f){this.setText(f)},get:function(){return this._text}},fontSize:{set:function(f){this._fontSize=f,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(f){this._letterSpacing=f,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(f){this._lineSpacing=f,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(f){this._maxWidth=f,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{set:function(f){this.setScaleX(1),this.getTextBounds(!1);var c=f/this.width;this.setScaleX(c)},get:function(){return this.width}},displayHeight:{set:function(f){this.setScaleY(1),this.getTextBounds(!1);var c=f/this.height;this.setScaleY(c)},get:function(){return this.height}},toJSON:function(){var f=o.ToJSON(this),c={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return f.data=c,f},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});h.ALIGN_LEFT=0,h.ALIGN_CENTER=1,h.ALIGN_RIGHT=2,h.ParseFromAtlas=e,h.ParseXMLBitmapFont=n,u.exports=h},37289:(u,m,t)=>{var a=t(20926),p=function(o,s,r,e){var n=s._text,l=n.length,i=o.currentContext;if(!(l===0||!a(o,i,s,r,e))){r.addToRenderList(s);var h=s.fromAtlas?s.frame:s.texture.frames.__BASE,f=s.fontData.chars,c=s.fontData.lineHeight,d=s._letterSpacing,v=s._lineSpacing,g=0,y=0,x=0,T=null,S=0,A=0,P=0,D=0,R=0,L=0,I=null,w=0,B=h.source.image,b=h.cutX,V=h.cutY,X=s._fontSize/s.fontData.size,G=s._align,U=0,O=0,z=s.getTextBounds(!1);s.maxWidth>0&&(n=z.wrappedText,l=n.length);var N=s._bounds.lines;G===1?O=(N.longest-N.lengths[0])/2:G===2&&(O=N.longest-N.lengths[0]),i.translate(-s.displayOriginX,-s.displayOriginY);for(var Y=r.roundPixels,W=0;W<l;W++){if(x=n.charCodeAt(W),x===10){U++,G===1?O=(N.longest-N.lengths[U])/2:G===2&&(O=N.longest-N.lengths[U]),g=0,y+=c+v,I=null;continue}if(T=f[x],!!T){if(S=b+T.x,A=V+T.y,P=T.width,D=T.height,R=T.xOffset+g,L=T.yOffset+y,I!==null){var H=T.kerning[w];R+=H!==void 0?H:0}R*=X,L*=X,R+=O,g+=T.xAdvance+d+(H!==void 0?H:0),I=T,w=x,!(P===0||D===0||x===32)&&(Y&&(R=Math.round(R),L=Math.round(L)),i.save(),i.translate(R,L),i.scale(X,X),i.drawImage(B,S,A,P,D,0,0,P,D),i.restore())}}i.restore()}};u.exports=p},57336:(u,m,t)=>{var a=t(22186),p=t(25305),o=t(44603),s=t(23568),r=t(35154);o.register("bitmapText",function(e,n){e===void 0&&(e={});var l=r(e,"font",""),i=s(e,"text",""),h=s(e,"size",!1),f=r(e,"align",0),c=new a(this.scene,0,0,l,i,h,f);return n!==void 0&&(e.add=n),p(this.scene,c,e),c})},34914:(u,m,t)=>{var a=t(22186),p=t(39429);p.register("bitmapText",function(o,s,r,e,n,l){return this.displayList.add(new a(this.scene,o,s,r,e,n,l))})},18658:(u,m,t)=>{var a=t(29747),p=a,o=a;p=t(33590),o=t(37289),u.exports={renderWebGL:p,renderCanvas:o}},33590:(u,m,t)=>{var a=t(3217),p=t(91296),o=t(70554),s=function(r,e,n,l){var i=e._text,h=i.length;if(h!==0){n.addToRenderList(e);var f=r.pipelines.set(e.pipeline,e),c=p(e,n,l).calc;r.pipelines.preBatch(e);var d=n.roundPixels,v=n.alpha,g=e.charColors,y=e.tintFill,x=o.getTintAppendFloatAlpha,T=x(e.tintTopLeft,v*e._alphaTL),S=x(e.tintTopRight,v*e._alphaTR),A=x(e.tintBottomLeft,v*e._alphaBL),P=x(e.tintBottomRight,v*e._alphaBR),D=e.frame.glTexture,R=f.setGameObject(e),L=e.getTextBounds(!1),I,w,B,b=L.characters,V=e.dropShadowX,X=e.dropShadowY,G=V!==0||X!==0;if(G){var U=e.dropShadowColor,O=e.dropShadowAlpha,z=x(U,v*O*e._alphaTL),N=x(U,v*O*e._alphaTR),Y=x(U,v*O*e._alphaBL),W=x(U,v*O*e._alphaBR);for(I=0;I<b.length;I++)w=b[I],B=w.glyph,!(w.code===32||B.width===0||B.height===0)&&a(f,e,w,B,V,X,c,d,z,N,Y,W,1,D,R)}for(I=0;I<b.length;I++)if(w=b[I],B=w.glyph,!(w.code===32||B.width===0||B.height===0))if(f.shouldFlush(6)&&(f.flush(),R=f.setGameObject(e)),g[w.i]){var H=g[w.i],$=H.tintEffect,K=x(H.tintTL,v*e._alphaTL),Z=x(H.tintTR,v*e._alphaTR),J=x(H.tintBL,v*e._alphaBL),j=x(H.tintBR,v*e._alphaBR);a(f,e,w,B,0,0,c,d,K,Z,J,j,$,D,R)}else a(f,e,w,B,0,0,c,d,T,S,A,P,y,D,R);r.pipelines.postBatch(e)}};u.exports=s},6107:(u,m,t)=>{var a=t(48011),p=t(46590),o=t(83419),s=t(31401),r=t(4327),e=t(95643),n=t(73162),l=new o({Extends:e,Mixins:[s.Alpha,s.BlendMode,s.Depth,s.Mask,s.Pipeline,s.PostPipeline,s.ScrollFactor,s.Size,s.Texture,s.Transform,s.Visible,a],initialize:function(h,f,c,d,v){e.call(this,h,"Blitter"),this.setTexture(d,v),this.setPosition(f,c),this.initPipeline(),this.initPostPipeline(),this.children=new n,this.renderList=[],this.dirty=!1},create:function(i,h,f,c,d){c===void 0&&(c=!0),d===void 0&&(d=this.children.length),f===void 0?f=this.frame:f instanceof r||(f=this.texture.get(f));var v=new p(this,i,h,f,c);return this.children.addAt(v,d,!1),this.dirty=!0,v},createFromCallback:function(i,h,f,c){for(var d=this.createMultiple(h,f,c),v=0;v<d.length;v++){var g=d[v];i.call(this,g,v)}return d},createMultiple:function(i,h,f){h===void 0&&(h=this.frame.name),f===void 0&&(f=!0),Array.isArray(h)||(h=[h]);var c=[],d=this;return h.forEach(function(v){for(var g=0;g<i;g++)c.push(d.create(0,0,v,f))}),c},childCanRender:function(i){return i.visible&&i.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});u.exports=l},72396:u=>{var m=function(t,a,p,o){var s=a.getRenderList();if(s.length!==0){var r=t.currentContext,e=p.alpha*a.alpha;if(e!==0){p.addToRenderList(a),r.globalCompositeOperation=t.blendModes[a.blendMode],r.imageSmoothingEnabled=!a.frame.source.scaleMode;var n=a.x-p.scrollX*a.scrollFactorX,l=a.y-p.scrollY*a.scrollFactorY;r.save(),o&&o.copyToContext(r);for(var i=p.roundPixels,h=0;h<s.length;h++){var f=s[h],c=f.flipX||f.flipY,d=f.frame,v=d.canvasData,g=d.x,y=d.y,x=1,T=1,S=f.alpha*e;S!==0&&(r.globalAlpha=S,c?(f.flipX&&(x=-1,g-=v.width),f.flipY&&(T=-1,y-=v.height),v.width>0&&v.height>0&&(r.save(),r.translate(f.x+n,f.y+l),r.scale(x,T),r.drawImage(d.source.image,v.x,v.y,v.width,v.height,g,y,v.width,v.height),r.restore())):(i&&(g=Math.round(g),y=Math.round(y)),v.width>0&&v.height>0&&r.drawImage(d.source.image,v.x,v.y,v.width,v.height,g+f.x+n,y+f.y+l,v.width,v.height)))}r.restore()}}};u.exports=m},9403:(u,m,t)=>{var a=t(6107),p=t(25305),o=t(44603),s=t(23568);o.register("blitter",function(r,e){r===void 0&&(r={});var n=s(r,"key",null),l=s(r,"frame",null),i=new a(this.scene,0,0,n,l);return e!==void 0&&(r.add=e),p(this.scene,i,r),i})},12709:(u,m,t)=>{var a=t(6107),p=t(39429);p.register("blitter",function(o,s,r,e){return this.displayList.add(new a(this.scene,o,s,r,e))})},48011:(u,m,t)=>{var a=t(29747),p=a,o=a;p=t(99485),o=t(72396),u.exports={renderWebGL:p,renderCanvas:o}},99485:(u,m,t)=>{var a=t(61340),p=t(70554),o=new a,s=function(r,e,n,l){var i=e.getRenderList(),h=n.alpha*e.alpha;if(!(i.length===0||h===0)){n.addToRenderList(e);var f=r.pipelines.set(this.pipeline,e),c=n.scrollX*e.scrollFactorX,d=n.scrollY*e.scrollFactorY,v=o.copyFrom(n.matrix);l&&(v.multiplyWithOffset(l,-c,-d),c=0,d=0);var g=e.x-c,y=e.y-d,x=-1,T=!1,S=n.roundPixels;r.pipelines.preBatch(e);for(var A=0;A<i.length;A++){var P=i[A],D=P.frame,R=P.alpha*h;if(R!==0){var L=D.width,I=D.height,w=g+P.x+D.x,B=y+P.y+D.y;P.flipX&&(L*=-1,w+=D.width),P.flipY&&(I*=-1,B+=D.height);var b=v.setQuad(w,B,w+L,B+I,S),V=p.getTintAppendFloatAlpha(P.tint,R);if(D.sourceIndex!==x){var X=f.setGameObject(e,D);x=D.sourceIndex}f.batchQuad(e,b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],D.u0,D.v0,D.u1,D.v1,V,V,V,V,T,D.glTexture,X)&&(x=-1)}}r.pipelines.postBatch(e)}};u.exports=s},46590:(u,m,t)=>{var a=t(83419),p=t(4327),o=new a({initialize:function(r,e,n,l,i){this.parent=r,this.x=e,this.y=n,this.frame=l,this.data={},this.tint=16777215,this._visible=i,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(s){return s===void 0?this.frame=this.parent.frame:s instanceof p&&s.texture===this.parent.texture?this.frame=s:this.frame=this.parent.texture.get(s),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(s,r,e){return this.x=s,this.y=r,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,e&&this.setFrame(e),this},setPosition:function(s,r){return this.x=s,this.y=r,this},setFlipX:function(s){return this.flipX=s,this},setFlipY:function(s){return this.flipY=s,this},setFlip:function(s,r){return this.flipX=s,this.flipY=r,this},setVisible:function(s){return this.visible=s,this},setAlpha:function(s){return this.alpha=s,this},setTint:function(s){return this.tint=s,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(s){this.parent.dirty|=this._visible!==s,this._visible=s}},alpha:{get:function(){return this._alpha},set:function(s){this.parent.dirty|=this._alpha>0!=s>0,this._alpha=s}}});u.exports=o},16005:(u,m,t)=>{var a=t(45319),p=2,o={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(s,r,e,n){return s===void 0&&(s=1),r===void 0?this.alpha=s:(this._alphaTL=a(s,0,1),this._alphaTR=a(r,0,1),this._alphaBL=a(e,0,1),this._alphaBR=a(n,0,1)),this},alpha:{get:function(){return this._alpha},set:function(s){var r=a(s,0,1);this._alpha=r,this._alphaTL=r,this._alphaTR=r,this._alphaBL=r,this._alphaBR=r,r===0?this.renderFlags&=~p:this.renderFlags|=p}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(s){var r=a(s,0,1);this._alphaTL=r,r!==0&&(this.renderFlags|=p)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(s){var r=a(s,0,1);this._alphaTR=r,r!==0&&(this.renderFlags|=p)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(s){var r=a(s,0,1);this._alphaBL=r,r!==0&&(this.renderFlags|=p)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(s){var r=a(s,0,1);this._alphaBR=r,r!==0&&(this.renderFlags|=p)}}};u.exports=o},88509:(u,m,t)=>{var a=t(45319),p=2,o={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(s){return s===void 0&&(s=1),this.alpha=s,this},alpha:{get:function(){return this._alpha},set:function(s){var r=a(s,0,1);this._alpha=r,r===0?this.renderFlags&=~p:this.renderFlags|=p}}};u.exports=o},90065:(u,m,t)=>{var a=t(10312),p={_blendMode:a.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(o){typeof o=="string"&&(o=a[o]),o|=0,o>=-1&&(this._blendMode=o)}},setBlendMode:function(o){return this.blendMode=o,this}};u.exports=p},94215:u=>{var m={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,a){return this.width=t,this.height=a,this},setDisplaySize:function(t,a){return this.displayWidth=t,this.displayHeight=a,this}};u.exports=m},61683:u=>{var m={texture:null,frame:null,isCropped:!1,setCrop:function(t,a,p,o){if(t===void 0)this.isCropped=!1;else if(this.frame){if(typeof t=="number")this.frame.setCropUVs(this._crop,t,a,p,o,this.flipX,this.flipY);else{var s=t;this.frame.setCropUVs(this._crop,s.x,s.y,s.width,s.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};u.exports=m},89272:(u,m,t)=>{var a=t(37105),p={_depth:0,depth:{get:function(){return this._depth},set:function(o){this.displayList&&this.displayList.queueDepthSort(),this._depth=o}},setDepth:function(o){return o===void 0&&(o=0),this.depth=o,this},setToTop:function(){var o=this.getDisplayList();return o&&a.BringToTop(o,this),this},setToBack:function(){var o=this.getDisplayList();return o&&a.SendToBack(o,this),this},setAbove:function(o){var s=this.getDisplayList();return s&&o&&a.MoveAbove(s,this,o),this},setBelow:function(o){var s=this.getDisplayList();return s&&o&&a.MoveBelow(s,this,o),this}};u.exports=p},47059:(u,m,t)=>{var a=t(83419),p=t(66064),o=t(19133),s=new a({initialize:function(e,n){this.gameObject=e,this.isPost=n,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(r){return r===void 0&&(r=0),this.padding=r,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(r){if(!this.isPost){var e=this.gameObject.scene.sys.renderer;e&&e.pipelines?(this.gameObject.pipeline=e.pipelines.FX_PIPELINE,r!==void 0&&(this.padding=r),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var r=this.list,e=0;e<r.length;e++)r[e].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(r){var e;if(this.isPost){var n=this.gameObject.getPostPipeline(String(r.type));for(Array.isArray(n)||(n=[n]),e=0;e<n.length;e++){var l=n[e];if(l.controller===r){this.gameObject.removePostPipeline(l),r.destroy();break}}}else{var i=this.list;for(e=0;e<i.length;e++)i[e]===r&&(o(i,e),r.destroy())}return this.gameObject},disable:function(r){return r===void 0&&(r=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,r&&this.clear(),this.gameObject},add:function(r,e){if(this.isPost){var n=String(r.type);this.gameObject.setPostPipeline(n,e);var l=this.gameObject.getPostPipeline(n);if(l)return Array.isArray(l)&&(l=l.pop()),l&&(l.controller=r),r}else return this.enabled||this.enable(),this.list.push(r),r},addGlow:function(r,e,n,l,i,h){return this.add(new p.Glow(this.gameObject,r,e,n,l),{quality:i,distance:h})},addShadow:function(r,e,n,l,i,h,f){return this.add(new p.Shadow(this.gameObject,r,e,n,l,i,h,f))},addPixelate:function(r){return this.add(new p.Pixelate(this.gameObject,r))},addVignette:function(r,e,n,l){return this.add(new p.Vignette(this.gameObject,r,e,n,l))},addShine:function(r,e,n,l){return this.add(new p.Shine(this.gameObject,r,e,n,l))},addBlur:function(r,e,n,l,i,h){return this.add(new p.Blur(this.gameObject,r,e,n,l,i,h))},addGradient:function(r,e,n,l,i,h,f,c){return this.add(new p.Gradient(this.gameObject,r,e,n,l,i,h,f,c))},addBloom:function(r,e,n,l,i,h){return this.add(new p.Bloom(this.gameObject,r,e,n,l,i,h))},addColorMatrix:function(){return this.add(new p.ColorMatrix(this.gameObject))},addCircle:function(r,e,n,l,i){return this.add(new p.Circle(this.gameObject,r,e,n,l,i))},addBarrel:function(r){return this.add(new p.Barrel(this.gameObject,r))},addDisplacement:function(r,e,n){return this.add(new p.Displacement(this.gameObject,r,e,n))},addWipe:function(r,e,n){return this.add(new p.Wipe(this.gameObject,r,e,n))},addReveal:function(r,e,n){return this.add(new p.Wipe(this.gameObject,r,e,n,!0))},addBokeh:function(r,e,n){return this.add(new p.Bokeh(this.gameObject,r,e,n))},addTiltShift:function(r,e,n,l,i,h){return this.add(new p.Bokeh(this.gameObject,r,e,n,!0,l,i,h))},destroy:function(){this.clear(),this.gameObject=null}});u.exports=s},54434:u=>{var m={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(t){return this.flipX=t,this},setFlipY:function(t){return this.flipY=t,this},setFlip:function(t,a){return this.flipX=t,this.flipY=a,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};u.exports=m},8004:(u,m,t)=>{var a=t(87841),p=t(11520),o=t(26099),s={prepareBoundsOutput:function(r,e){if(e===void 0&&(e=!1),this.rotation!==0&&p(r,this.x,this.y,this.rotation),e&&this.parentContainer){var n=this.parentContainer.getBoundsTransformMatrix();n.transformPoint(r.x,r.y,r)}return r},getCenter:function(r,e){return r===void 0&&(r=new o),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,e)},getTopLeft:function(r,e){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,e)},getTopCenter:function(r,e){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,e)},getTopRight:function(r,e){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,e)},getLeftCenter:function(r,e){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,e)},getRightCenter:function(r,e){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,e)},getBottomLeft:function(r,e){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,e)},getBottomCenter:function(r,e){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,e)},getBottomRight:function(r,e){return r||(r=new o),r.x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,e)},getBounds:function(r){r===void 0&&(r=new a);var e,n,l,i,h,f,c,d;if(this.parentContainer){var v=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(r),v.transformPoint(r.x,r.y,r),e=r.x,n=r.y,this.getTopRight(r),v.transformPoint(r.x,r.y,r),l=r.x,i=r.y,this.getBottomLeft(r),v.transformPoint(r.x,r.y,r),h=r.x,f=r.y,this.getBottomRight(r),v.transformPoint(r.x,r.y,r),c=r.x,d=r.y}else this.getTopLeft(r),e=r.x,n=r.y,this.getTopRight(r),l=r.x,i=r.y,this.getBottomLeft(r),h=r.x,f=r.y,this.getBottomRight(r),c=r.x,d=r.y;return r.x=Math.min(e,l,h,c),r.y=Math.min(n,i,f,d),r.width=Math.max(e,l,h,c)-r.x,r.height=Math.max(n,i,f,d)-r.y,r}};u.exports=s},8573:(u,m,t)=>{var a=t(6858),p=t(80661),o={mask:null,setMask:function(s){return this.mask=s,this},clearMask:function(s){return s===void 0&&(s=!1),s&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(s,r,e,n,l){return s===void 0&&(this.texture||this.shader||this.geom)&&(s=this),new a(this.scene,s,r,e,n,l)},createGeometryMask:function(s){return s===void 0&&(this.type==="Graphics"||this.geom)&&(s=this),new p(this.scene,s)}};u.exports=o},27387:u=>{var m={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(t){this._displayOriginX=t,this.originX=t/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(t){this._displayOriginY=t,this.originY=t/this.height}},setOrigin:function(t,a){return t===void 0&&(t=.5),a===void 0&&(a=t),this.originX=t,this.originY=a,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(t,a){return t===void 0&&(t=0),a===void 0&&(a=t),this.displayOriginX=t,this.displayOriginY=a,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};u.exports=m},37640:(u,m,t)=>{var a=t(39506),p=t(57355),o=t(35154),s=t(86353),r=t(26099),e={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:s.PLAYING_FORWARD,setPath:function(n,l){l===void 0&&(l=this.pathConfig);var i=this.pathTween;return i&&i.isPlaying()&&i.stop(),this.path=n,l&&this.startFollow(l),this},setRotateToPath:function(n,l){return l===void 0&&(l=0),this.rotateToPath=n,this.pathRotationOffset=l,this},isFollowing:function(){var n=this.pathTween;return n&&n.isPlaying()},startFollow:function(n,l){n===void 0&&(n={}),l===void 0&&(l=0);var i=this.pathTween;i&&i.isPlaying()&&i.stop(),typeof n=="number"&&(n={duration:n}),n.from=o(n,"from",0),n.to=o(n,"to",1);var h=p(n,"positionOnPath",!1);this.rotateToPath=p(n,"rotateToPath",!1),this.pathRotationOffset=o(n,"rotationOffset",0);var f=o(n,"startAt",l);if(f&&(n.onStart=function(d){var v=d.data[0];v.progress=f,v.elapsed=v.duration*f;var g=v.ease(v.progress);v.current=v.start+(v.end-v.start)*g,v.setTargetValue()}),this.pathOffset||(this.pathOffset=new r(this.x,this.y)),this.pathVector||(this.pathVector=new r),this.pathDelta||(this.pathDelta=new r),this.pathDelta.reset(),n.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(n),this.path.getStartPoint(this.pathOffset),h&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=s.PLAYING_FORWARD,this.rotateToPath){var c=this.path.getPoint(.1);this.rotation=Math.atan2(c.y-this.y,c.x-this.x)+a(this.pathRotationOffset)}return this.pathConfig=n,this},pauseFollow:function(){var n=this.pathTween;return n&&n.isPlaying()&&n.pause(),this},resumeFollow:function(){var n=this.pathTween;return n&&n.isPaused()&&n.resume(),this},stopFollow:function(){var n=this.pathTween;return n&&n.isPlaying()&&n.stop(),this},pathUpdate:function(){var n=this.pathTween;if(n&&n.data){var l=n.data[0],i=this.pathDelta,h=this.pathVector;if(i.copy(h).negate(),l.state===s.COMPLETE){this.path.getPoint(l.end,h),i.add(h),h.add(this.pathOffset),this.setPosition(h.x,h.y);return}else if(l.state!==s.PLAYING_FORWARD&&l.state!==s.PLAYING_BACKWARD)return;this.path.getPoint(n.getValue(),h),i.add(h),h.add(this.pathOffset);var f=this.x,c=this.y;this.setPosition(h.x,h.y);var d=this.x-f,v=this.y-c;if(d===0&&v===0)return;if(l.state!==this._prevDirection){this._prevDirection=l.state;return}this.rotateToPath&&(this.rotation=Math.atan2(v,d)+a(this.pathRotationOffset))}}};u.exports=e},72699:(u,m,t)=>{var a=t(62644),p={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(o){this.pipelineData={};var s=this.scene.sys.renderer;if(!s)return!1;var r=s.pipelines;if(r){o===void 0&&(o=r.default);var e=r.get(o);if(e)return this.defaultPipeline=e,this.pipeline=e,!0}return!1},setPipeline:function(o,s,r){var e=this.scene.sys.renderer;if(!e)return this;var n=e.pipelines;if(n){var l=n.get(o);l&&(this.pipeline=l),s&&(this.pipelineData=r?a(s):s)}return this},setPipelineData:function(o,s){var r=this.pipelineData;return s===void 0?delete r[o]:r[o]=s,this},resetPipeline:function(o){return o===void 0&&(o=!1),this.pipeline=this.defaultPipeline,o&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline===null?null:this.pipeline.name}};u.exports=p},17581:(u,m,t)=>{var a=t(62644),p=t(47059),o=t(19133),s={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(r){this.postPipelines=[],this.postPipelineData={},this.postFX=new p(this,!0),r&&(this.preFX=new p(this,!1))},setPostPipeline:function(r,e,n){var l=this.scene.sys.renderer;if(!l)return this;var i=l.pipelines;if(i){Array.isArray(r)||(r=[r]);for(var h=0;h<r.length;h++){var f=i.getPostPipeline(r[h],this,e);f&&this.postPipelines.push(f)}e&&(this.postPipelineData=n?a(e):e)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(r,e){var n=this.postPipelineData;return e===void 0?delete n[r]:n[r]=e,this},getPostPipeline:function(r){for(var e=typeof r=="string",n=this.postPipelines,l=[],i=0;i<n.length;i++){var h=n[i];(e&&h.name===r||!e&&h instanceof r)&&l.push(h)}return l.length===1?l[0]:l},resetPostPipeline:function(r){r===void 0&&(r=!1);for(var e=this.postPipelines,n=0;n<e.length;n++)e[n].destroy();this.postPipelines=[],this.hasPostPipeline=!1,r&&(this.postPipelineData={})},removePostPipeline:function(r){for(var e=typeof r=="string",n=this.postPipelines,l=n.length-1;l>=0;l--){var i=n[l];(e&&i.name===r||!e&&i===r)&&(i.destroy(),o(n,l))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};u.exports=s},80227:u=>{var m={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(t,a){return a===void 0&&(a=t),this.scrollFactorX=t,this.scrollFactorY=a,this}};u.exports=m},16736:u=>{var m={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(t){this.scaleX=t/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(t){this.scaleY=t/this.frame.realHeight}},setSizeToFrame:function(t){t||(t=this.frame),this.width=t.realWidth,this.height=t.realHeight;var a=this.input;return a&&!a.customHitArea&&(a.hitArea.width=this.width,a.hitArea.height=this.height),this},setSize:function(t,a){return this.width=t,this.height=a,this},setDisplaySize:function(t,a){return this.displayWidth=t,this.displayHeight=a,this}};u.exports=m},37726:(u,m,t)=>{var a=t(4327),p=8,o={texture:null,frame:null,isCropped:!1,setTexture:function(s,r,e,n){return this.texture=this.scene.sys.textures.get(s),this.setFrame(r,e,n)},setFrame:function(s,r,e){return r===void 0&&(r=!0),e===void 0&&(e=!0),s instanceof a?(this.texture=this.scene.sys.textures.get(s.texture.key),this.frame=s):this.frame=this.texture.get(s),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~p:this.renderFlags|=p,this._sizeComponent&&r&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};u.exports=o},79812:(u,m,t)=>{var a=t(4327),p=8,o={texture:null,frame:null,isCropped:!1,setCrop:function(s,r,e,n){if(s===void 0)this.isCropped=!1;else if(this.frame){if(typeof s=="number")this.frame.setCropUVs(this._crop,s,r,e,n,this.flipX,this.flipY);else{var l=s;this.frame.setCropUVs(this._crop,l.x,l.y,l.width,l.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(s,r){return this.texture=this.scene.sys.textures.get(s),this.setFrame(r)},setFrame:function(s,r,e){return r===void 0&&(r=!0),e===void 0&&(e=!0),s instanceof a?(this.texture=this.scene.sys.textures.get(s.texture.key),this.frame=s):this.frame=this.texture.get(s),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~p:this.renderFlags|=p,this._sizeComponent&&r&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};u.exports=o},27472:u=>{var m={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(t,a,p,o){return t===void 0&&(t=16777215),a===void 0&&(a=t,p=t,o=t),this.tintTopLeft=t,this.tintTopRight=a,this.tintBottomLeft=p,this.tintBottomRight=o,this.tintFill=!1,this},setTintFill:function(t,a,p,o){return this.setTint(t,a,p,o),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(t){this.setTint(t,t,t,t)}},isTinted:{get:function(){var t=16777215;return this.tintFill||this.tintTopLeft!==t||this.tintTopRight!==t||this.tintBottomLeft!==t||this.tintBottomRight!==t}}};u.exports=m},53774:u=>{var m=function(t){var a={name:t.name,type:t.type,x:t.x,y:t.y,depth:t.depth,scale:{x:t.scaleX,y:t.scaleY},origin:{x:t.originX,y:t.originY},flipX:t.flipX,flipY:t.flipY,rotation:t.rotation,alpha:t.alpha,visible:t.visible,blendMode:t.blendMode,textureKey:"",frameKey:"",data:{}};return t.texture&&(a.textureKey=t.texture.key,a.frameKey=t.frame.name),a};u.exports=m},16901:(u,m,t)=>{var a=t(36383),p=t(61340),o=t(85955),s=t(86554),r=t(30954),e=t(26099),n=4,l={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(i){this._scaleX=i,this._scaleY=i,i===0?this.renderFlags&=~n:this.renderFlags|=n}},scaleX:{get:function(){return this._scaleX},set:function(i){this._scaleX=i,i===0?this.renderFlags&=~n:this._scaleY!==0&&(this.renderFlags|=n)}},scaleY:{get:function(){return this._scaleY},set:function(i){this._scaleY=i,i===0?this.renderFlags&=~n:this._scaleX!==0&&(this.renderFlags|=n)}},angle:{get:function(){return r(this._rotation*a.RAD_TO_DEG)},set:function(i){this.rotation=r(i)*a.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(i){this._rotation=s(i)}},setPosition:function(i,h,f,c){return i===void 0&&(i=0),h===void 0&&(h=i),f===void 0&&(f=0),c===void 0&&(c=0),this.x=i,this.y=h,this.z=f,this.w=c,this},copyPosition:function(i){return i.x!==void 0&&(this.x=i.x),i.y!==void 0&&(this.y=i.y),i.z!==void 0&&(this.z=i.z),i.w!==void 0&&(this.w=i.w),this},setRandomPosition:function(i,h,f,c){return i===void 0&&(i=0),h===void 0&&(h=0),f===void 0&&(f=this.scene.sys.scale.width),c===void 0&&(c=this.scene.sys.scale.height),this.x=i+Math.random()*f,this.y=h+Math.random()*c,this},setRotation:function(i){return i===void 0&&(i=0),this.rotation=i,this},setAngle:function(i){return i===void 0&&(i=0),this.angle=i,this},setScale:function(i,h){return i===void 0&&(i=1),h===void 0&&(h=i),this.scaleX=i,this.scaleY=h,this},setX:function(i){return i===void 0&&(i=0),this.x=i,this},setY:function(i){return i===void 0&&(i=0),this.y=i,this},setZ:function(i){return i===void 0&&(i=0),this.z=i,this},setW:function(i){return i===void 0&&(i=0),this.w=i,this},getLocalTransformMatrix:function(i){return i===void 0&&(i=new p),i.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(i,h){i===void 0&&(i=new p);var f=this.parentContainer;if(!f)return this.getLocalTransformMatrix(i);var c=!1;for(h||(h=new p,c=!0),i.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);f;)h.applyITRS(f.x,f.y,f._rotation,f._scaleX,f._scaleY),h.multiply(i,i),f=f.parentContainer;return c&&h.destroy(),i},getLocalPoint:function(i,h,f,c){f||(f=new e),c||(c=this.scene.sys.cameras.main);var d=c.scrollX,v=c.scrollY,g=i+d*this.scrollFactorX-d,y=h+v*this.scrollFactorY-v;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(g,y,f):o(g,y,this.x,this.y,this.rotation,this.scaleX,this.scaleY,f),this._originComponent&&(f.x+=this._displayOriginX,f.y+=this._displayOriginY),f},getWorldPoint:function(i,h,f){i===void 0&&(i=new e);var c=this.parentContainer;if(!c)return i.x=this.x,i.y=this.y,i;var d=this.getWorldTransformMatrix(h,f);return i.x=d.tx,i.y=d.ty,i},getParentRotation:function(){for(var i=0,h=this.parentContainer;h;)i+=h.rotation,h=h.parentContainer;return i}};u.exports=l},61340:(u,m,t)=>{var a=t(83419),p=t(36383),o=t(26099),s=new a({initialize:function(e,n,l,i,h,f){e===void 0&&(e=1),n===void 0&&(n=0),l===void 0&&(l=0),i===void 0&&(i=1),h===void 0&&(h=0),f===void 0&&(f=0),this.matrix=new Float32Array([e,n,l,i,h,f,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(r){this.matrix[0]=r}},b:{get:function(){return this.matrix[1]},set:function(r){this.matrix[1]=r}},c:{get:function(){return this.matrix[2]},set:function(r){this.matrix[2]=r}},d:{get:function(){return this.matrix[3]},set:function(r){this.matrix[3]=r}},e:{get:function(){return this.matrix[4]},set:function(r){this.matrix[4]=r}},f:{get:function(){return this.matrix[5]},set:function(r){this.matrix[5]=r}},tx:{get:function(){return this.matrix[4]},set:function(r){this.matrix[4]=r}},ty:{get:function(){return this.matrix[5]},set:function(r){this.matrix[5]=r}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var r=this.matrix,e=r[0],n=r[1],l=r[2],i=r[3];return e||n?n>0?Math.acos(e/this.scaleX):-Math.acos(e/this.scaleX):l||i?p.TAU-(i>0?Math.acos(-l/this.scaleY):-Math.acos(l/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var r=this.matrix;return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r[4]=0,r[5]=0,this},translate:function(r,e){var n=this.matrix;return n[4]=n[0]*r+n[2]*e+n[4],n[5]=n[1]*r+n[3]*e+n[5],this},scale:function(r,e){var n=this.matrix;return n[0]*=r,n[1]*=r,n[2]*=e,n[3]*=e,this},rotate:function(r){var e=Math.sin(r),n=Math.cos(r),l=this.matrix,i=l[0],h=l[1],f=l[2],c=l[3];return l[0]=i*n+f*e,l[1]=h*n+c*e,l[2]=i*-e+f*n,l[3]=h*-e+c*n,this},multiply:function(r,e){var n=this.matrix,l=r.matrix,i=n[0],h=n[1],f=n[2],c=n[3],d=n[4],v=n[5],g=l[0],y=l[1],x=l[2],T=l[3],S=l[4],A=l[5],P=e===void 0?n:e.matrix;return P[0]=g*i+y*f,P[1]=g*h+y*c,P[2]=x*i+T*f,P[3]=x*h+T*c,P[4]=S*i+A*f+d,P[5]=S*h+A*c+v,P},multiplyWithOffset:function(r,e,n){var l=this.matrix,i=r.matrix,h=l[0],f=l[1],c=l[2],d=l[3],v=l[4],g=l[5],y=e*h+n*c+v,x=e*f+n*d+g,T=i[0],S=i[1],A=i[2],P=i[3],D=i[4],R=i[5];return l[0]=T*h+S*c,l[1]=T*f+S*d,l[2]=A*h+P*c,l[3]=A*f+P*d,l[4]=D*h+R*c+y,l[5]=D*f+R*d+x,this},transform:function(r,e,n,l,i,h){var f=this.matrix,c=f[0],d=f[1],v=f[2],g=f[3],y=f[4],x=f[5];return f[0]=r*c+e*v,f[1]=r*d+e*g,f[2]=n*c+l*v,f[3]=n*d+l*g,f[4]=i*c+h*v+y,f[5]=i*d+h*g+x,this},transformPoint:function(r,e,n){n===void 0&&(n={x:0,y:0});var l=this.matrix,i=l[0],h=l[1],f=l[2],c=l[3],d=l[4],v=l[5];return n.x=r*i+e*f+d,n.y=r*h+e*c+v,n},invert:function(){var r=this.matrix,e=r[0],n=r[1],l=r[2],i=r[3],h=r[4],f=r[5],c=e*i-n*l;return r[0]=i/c,r[1]=-n/c,r[2]=-l/c,r[3]=e/c,r[4]=(l*f-i*h)/c,r[5]=-(e*f-n*h)/c,this},copyFrom:function(r){var e=this.matrix;return e[0]=r.a,e[1]=r.b,e[2]=r.c,e[3]=r.d,e[4]=r.e,e[5]=r.f,this},copyFromArray:function(r){var e=this.matrix;return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],this},copyToContext:function(r){var e=this.matrix;return r.transform(e[0],e[1],e[2],e[3],e[4],e[5]),r},setToContext:function(r){return r.setTransform(this.a,this.b,this.c,this.d,this.e,this.f),r},copyToArray:function(r){var e=this.matrix;return r===void 0?r=[e[0],e[1],e[2],e[3],e[4],e[5]]:(r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5]),r},setTransform:function(r,e,n,l,i,h){var f=this.matrix;return f[0]=r,f[1]=e,f[2]=n,f[3]=l,f[4]=i,f[5]=h,this},decomposeMatrix:function(){var r=this.decomposedMatrix,e=this.matrix,n=e[0],l=e[1],i=e[2],h=e[3],f=n*h-l*i;if(r.translateX=e[4],r.translateY=e[5],n||l){var c=Math.sqrt(n*n+l*l);r.rotation=l>0?Math.acos(n/c):-Math.acos(n/c),r.scaleX=c,r.scaleY=f/c}else if(i||h){var d=Math.sqrt(i*i+h*h);r.rotation=Math.PI*.5-(h>0?Math.acos(-i/d):-Math.acos(i/d)),r.scaleX=f/d,r.scaleY=d}else r.rotation=0,r.scaleX=0,r.scaleY=0;return r},applyITRS:function(r,e,n,l,i){var h=this.matrix,f=Math.sin(n),c=Math.cos(n);return h[4]=r,h[5]=e,h[0]=c*l,h[1]=f*l,h[2]=-f*i,h[3]=c*i,this},applyInverse:function(r,e,n){n===void 0&&(n=new o);var l=this.matrix,i=l[0],h=l[1],f=l[2],c=l[3],d=l[4],v=l[5],g=1/(i*c+f*-h);return n.x=c*g*r+-f*g*e+(v*f-d*c)*g,n.y=i*g*e+-h*g*r+(-v*i+d*h)*g,n},setQuad:function(r,e,n,l,i,h){i===void 0&&(i=!1),h===void 0&&(h=this.quad);var f=this.matrix,c=f[0],d=f[1],v=f[2],g=f[3],y=f[4],x=f[5],T=r*c+e*v+y,S=r*d+e*g+x,A=r*c+l*v+y,P=r*d+l*g+x,D=n*c+l*v+y,R=n*d+l*g+x,L=n*c+e*v+y,I=n*d+e*g+x;if(i){var w=Math.floor(T+.5),B=Math.floor(S+.5),b=w-T,V=B-S;h[0]=w,h[1]=B,h[2]=A+b,h[3]=P+V,h[4]=D+b,h[5]=R+V,h[6]=L+b,h[7]=I+V}else h[0]=T,h[1]=S,h[2]=A,h[3]=P,h[4]=D,h[5]=R,h[6]=L,h[7]=I;return h},getX:function(r,e){return r*this.a+e*this.c+this.e},getY:function(r,e){return r*this.b+e*this.d+this.f},getXRound:function(r,e,n){var l=this.getX(r,e);return n&&(l=Math.floor(l+.5)),l},getYRound:function(r,e,n){var l=this.getY(r,e);return n&&(l=Math.floor(l+.5)),l},getCSSMatrix:function(){var r=this.matrix;return"matrix("+r[0]+","+r[1]+","+r[2]+","+r[3]+","+r[4]+","+r[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});u.exports=s},59715:u=>{var m=1,t={_visible:!0,visible:{get:function(){return this._visible},set:function(a){a?(this._visible=!0,this.renderFlags|=m):(this._visible=!1,this.renderFlags&=~m)}},setVisible:function(a){return this.visible=a,this}};u.exports=t},31401:(u,m,t)=>{u.exports={Alpha:t(16005),AlphaSingle:t(88509),BlendMode:t(90065),ComputedSize:t(94215),Crop:t(61683),Depth:t(89272),Flip:t(54434),FX:t(47059),GetBounds:t(8004),Mask:t(8573),Origin:t(27387),PathFollower:t(37640),Pipeline:t(72699),PostPipeline:t(17581),ScrollFactor:t(80227),Size:t(16736),Texture:t(37726),TextureCrop:t(79812),Tint:t(27472),ToJSON:t(53774),Transform:t(16901),TransformMatrix:t(61340),Visible:t(59715)}},31559:(u,m,t)=>{var a=t(37105),p=t(10312),o=t(83419),s=t(31401),r=t(51708),e=t(95643),n=t(87841),l=t(29959),i=t(36899),h=t(26099),f=new s.TransformMatrix,c=new o({Extends:e,Mixins:[s.AlphaSingle,s.BlendMode,s.ComputedSize,s.Depth,s.Mask,s.PostPipeline,s.Transform,s.Visible,l],initialize:function(v,g,y,x){e.call(this,v,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new s.TransformMatrix,this._sortKey="",this._sysEvents=v.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(g,y),this.setBlendMode(p.SKIP_CHECK),x&&this.add(x)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(d){return d===void 0&&(d=!0),this.exclusive=d,this},getBounds:function(d){if(d===void 0&&(d=new n),d.setTo(this.x,this.y,0,0),this.parentContainer){var v=this.parentContainer.getBoundsTransformMatrix(),g=v.transformPoint(this.x,this.y);d.setTo(g.x,g.y,0,0)}if(this.list.length>0){var y=this.list,x=new n,T=!1;d.setEmpty();for(var S=0;S<y.length;S++){var A=y[S];A.getBounds&&(A.getBounds(x),T?i(x,d,d):(d.setTo(x.x,x.y,x.width,x.height),T=!0))}}return d},addHandler:function(d){d.once(r.DESTROY,this.onChildDestroyed,this),this.exclusive&&(d.parentContainer&&d.parentContainer.remove(d),d.parentContainer=this,d.removeFromDisplayList(),d.addedToScene())},removeHandler:function(d){d.off(r.DESTROY,this.remove,this),this.exclusive&&(d.parentContainer=null,d.removedFromScene(),d.addToDisplayList())},pointToContainer:function(d,v){v===void 0&&(v=new h),this.parentContainer?this.parentContainer.pointToContainer(d,v):(v.x=d.x,v.y=d.y);var g=f;return g.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),g.invert(),g.transformPoint(d.x,d.y,v),v},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(f,this.localTransform)},add:function(d){return a.Add(this.list,d,this.maxSize,this.addHandler,this),this},addAt:function(d,v){return a.AddAt(this.list,d,v,this.maxSize,this.addHandler,this),this},getAt:function(d){return this.list[d]},getIndex:function(d){return this.list.indexOf(d)},sort:function(d,v){return d?(v===void 0&&(v=function(g,y){return g[d]-y[d]}),a.StableSort(this.list,v),this):this},getByName:function(d){return a.GetFirst(this.list,"name",d)},getRandom:function(d,v){return a.GetRandom(this.list,d,v)},getFirst:function(d,v,g,y){return a.GetFirst(this.list,d,v,g,y)},getAll:function(d,v,g,y){return a.GetAll(this.list,d,v,g,y)},count:function(d,v,g,y){return a.CountAllMatching(this.list,d,v,g,y)},swap:function(d,v){return a.Swap(this.list,d,v),this},moveTo:function(d,v){return a.MoveTo(this.list,d,v),this},moveAbove:function(d,v){return a.MoveAbove(this.list,d,v),this},moveBelow:function(d,v){return a.MoveBelow(this.list,d,v),this},remove:function(d,v){var g=a.Remove(this.list,d,this.removeHandler,this);if(v&&g){Array.isArray(g)||(g=[g]);for(var y=0;y<g.length;y++)g[y].destroy()}return this},removeAt:function(d,v){var g=a.RemoveAt(this.list,d,this.removeHandler,this);return v&&g&&g.destroy(),this},removeBetween:function(d,v,g){var y=a.RemoveBetween(this.list,d,v,this.removeHandler,this);if(g)for(var x=0;x<y.length;x++)y[x].destroy();return this},removeAll:function(d){var v=this.list;if(d){for(var g=0;g<v.length;g++)v[g]&&v[g].scene&&(v[g].off(r.DESTROY,this.onChildDestroyed,this),v[g].destroy());this.list=[]}else a.RemoveBetween(v,0,v.length,this.removeHandler,this);return this},bringToTop:function(d){return a.BringToTop(this.list,d),this},sendToBack:function(d){return a.SendToBack(this.list,d),this},moveUp:function(d){return a.MoveUp(this.list,d),this},moveDown:function(d){return a.MoveDown(this.list,d),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return a.Shuffle(this.list),this},replace:function(d,v,g){var y=a.Replace(this.list,d,v);return y&&(this.addHandler(v),this.removeHandler(d),g&&d.destroy()),this},exists:function(d){return this.list.indexOf(d)>-1},setAll:function(d,v,g,y){return a.SetAll(this.list,d,v,g,y),this},each:function(d,v){var g=[null],y,x=this.list.slice(),T=x.length;for(y=2;y<arguments.length;y++)g.push(arguments[y]);for(y=0;y<T;y++)g[0]=x[y],d.apply(v,g);return this},iterate:function(d,v){var g=[null],y;for(y=2;y<arguments.length;y++)g.push(arguments[y]);for(y=0;y<this.list.length;y++)g[0]=this.list[y],d.apply(v,g);return this},setScrollFactor:function(d,v,g){return v===void 0&&(v=d),g===void 0&&(g=!1),this.scrollFactorX=d,this.scrollFactorY=v,g&&(a.SetAll(this.list,"scrollFactorX",d),a.SetAll(this.list,"scrollFactorY",v)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.list=[]},onChildDestroyed:function(d){a.Remove(this.list,d),this.exclusive&&(d.parentContainer=null,d.removedFromScene())}});u.exports=c},53584:u=>{var m=function(t,a,p,o){p.addToRenderList(a);var s=a.list;if(s.length!==0){var r=a.localTransform;o?(r.loadIdentity(),r.multiply(o),r.translate(a.x,a.y),r.rotate(a.rotation),r.scale(a.scaleX,a.scaleY)):r.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY);var e=a.blendMode!==-1;e||t.setBlendMode(0);var n=a._alpha,l=a.scrollFactorX,i=a.scrollFactorY;a.mask&&a.mask.preRenderCanvas(t,null,p);for(var h=0;h<s.length;h++){var f=s[h];if(f.willRender(p)){var c=f.alpha,d=f.scrollFactorX,v=f.scrollFactorY;!e&&f.blendMode!==t.currentBlendMode&&t.setBlendMode(f.blendMode),f.setScrollFactor(d*l,v*i),f.setAlpha(c*n),f.renderCanvas(t,f,p,r),f.setAlpha(c),f.setScrollFactor(d,v)}}a.mask&&a.mask.postRenderCanvas(t)}};u.exports=m},77143:(u,m,t)=>{var a=t(25305),p=t(31559),o=t(44603),s=t(23568),r=t(95540);o.register("container",function(e,n){e===void 0&&(e={});var l=s(e,"x",0),i=s(e,"y",0),h=r(e,"children",null),f=new p(this.scene,l,i,h);return n!==void 0&&(e.add=n),a(this.scene,f,e),f})},24961:(u,m,t)=>{var a=t(31559),p=t(39429);p.register("container",function(o,s,r){return this.displayList.add(new a(this.scene,o,s,r))})},29959:(u,m,t)=>{var a=t(29747),p=a,o=a;p=t(72249),o=t(53584),u.exports={renderWebGL:p,renderCanvas:o}},72249:u=>{var m=function(t,a,p,o){p.addToRenderList(a);var s=a.list,r=s.length;if(r!==0){var e=a.localTransform;o?(e.loadIdentity(),e.multiply(o),e.translate(a.x,a.y),e.rotate(a.rotation),e.scale(a.scaleX,a.scaleY)):e.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY),t.pipelines.preBatch(a);var n=a.blendMode!==-1;n||t.setBlendMode(0);for(var l=a.alpha,i=a.scrollFactorX,h=a.scrollFactorY,f=0;f<r;f++){var c=s[f];if(c.willRender(p)){var d,v,g,y;if(c.alphaTopLeft!==void 0)d=c.alphaTopLeft,v=c.alphaTopRight,g=c.alphaBottomLeft,y=c.alphaBottomRight;else{var x=c.alpha;d=x,v=x,g=x,y=x}var T=c.scrollFactorX,S=c.scrollFactorY;!n&&c.blendMode!==t.currentBlendMode&&t.setBlendMode(c.blendMode);var A=c.mask;A&&A.preRenderWebGL(t,c,p);var P=c.type;P!==t.currentType&&(t.newType=!0,t.currentType=P),t.nextTypeMatch=f<r-1?s[f+1].type===t.currentType:!1,c.setScrollFactor(T*i,S*h),c.setAlpha(d*l,v*l,g*l,y*l),c.renderWebGL(t,c,p,e,a),c.setAlpha(d,v,g,y),c.setScrollFactor(T,S),A&&A.postRenderWebGL(t,p),t.newType=!1}}t.pipelines.postBatch(a)}};u.exports=m},47407:u=>{u.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(u,m,t)=>{var a=t(83419),p=t(31401),o=t(441),s=t(95643),r=t(41212),e=t(35846),n=t(44594),l=t(61369),i=new a({Extends:s,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.Origin,p.ScrollFactor,p.Transform,p.Visible,o],initialize:function(f,c,d,v,g,y){if(s.call(this,f,"DOMElement"),this.parent=f.sys.game.domContainer,!this.parent)throw new Error("No DOM Container set in game config");this.cache=f.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new l,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(c,d),typeof v=="string"?v[0]==="#"?this.setElement(v.substr(1),g,y):this.createElement(v,g,y):v&&this.setElement(v,g,y),f.sys.events.on(n.SLEEP,this.handleSceneEvent,this),f.sys.events.on(n.WAKE,this.handleSceneEvent,this),f.sys.events.on(n.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(h){var f=this.node,c=f.style;f&&(c.display=h.settings.visible?"block":"none")},setSkew:function(h,f){return h===void 0&&(h=0),f===void 0&&(f=h),this.skewX=h,this.skewY=f,this},setPerspective:function(h){return this.parent.style.perspective=h+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(h){this.parent.style.perspective=h+"px"}},addListener:function(h){if(this.node){h=h.split(" ");for(var f=0;f<h.length;f++)this.node.addEventListener(h[f],this.handler,!1)}return this},removeListener:function(h){if(this.node){h=h.split(" ");for(var f=0;f<h.length;f++)this.node.removeEventListener(h[f],this.handler)}return this},dispatchNativeEvent:function(h){this.emit(h.type,h)},createElement:function(h,f,c){return this.setElement(document.createElement(h),f,c)},setElement:function(h,f,c){this.removeElement();var d;if(typeof h=="string"?(h[0]==="#"&&(h=h.substr(1)),d=document.getElementById(h)):typeof h=="object"&&h.nodeType===1&&(d=h),!d)return this;if(this.node=d,f&&r(f))for(var v in f)d.style[v]=f[v];else typeof f=="string"&&(d.style=f);return d.style.zIndex="0",d.style.display="inline",d.style.position="absolute",d.phaser=this,this.parent.appendChild(d),c&&(d.innerText=c),this.updateSize()},createFromCache:function(h,f){var c=this.cache.get(h);return c&&this.createFromHTML(c,f),this},createFromHTML:function(h,f){f===void 0&&(f="div"),this.removeElement();var c=document.createElement(f);return this.node=c,c.style.zIndex="0",c.style.display="inline",c.style.position="absolute",c.phaser=this,this.parent.appendChild(c),c.innerHTML=h,this.updateSize()},removeElement:function(){return this.node&&(e(this.node),this.node=null),this},updateSize:function(){var h=this.node;return this.width=h.clientWidth,this.height=h.clientHeight,this.displayWidth=this.width*this.scaleX,this.displayHeight=this.height*this.scaleY,this},getChildByProperty:function(h,f){if(this.node){for(var c=this.node.querySelectorAll("*"),d=0;d<c.length;d++)if(c[d][h]===f)return c[d]}return null},getChildByID:function(h){return this.getChildByProperty("id",h)},getChildByName:function(h){return this.getChildByProperty("name",h)},setClassName:function(h){return this.node&&(this.node.className=h,this.updateSize()),this},setText:function(h){return this.node&&(this.node.innerText=h,this.updateSize()),this},setHTML:function(h){return this.node&&(this.node.innerHTML=h,this.updateSize()),this},preRender:function(){var h=this.parentContainer,f=this.node;f&&h&&!h.willRender()&&(f.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(n.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(n.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(n.PRE_RENDER,this.preRender,this)}});u.exports=i},49381:(u,m,t)=>{var a=t(47407),p=t(95643),o=t(61340),s=new o,r=new o,e=new o,n=function(l,i,h,f){if(i.node){var c=i.node.style,d=i.scene.sys.settings;if(!c||!d.visible||p.RENDER_MASK!==i.renderFlags||i.cameraFilter!==0&&i.cameraFilter&h.id||i.parentContainer&&!i.parentContainer.willRender()){c.display="none";return}var v=i.parentContainer,g=h.alpha*i.alpha;v&&(g*=v.alpha);var y=s,x=r,T=e,S=0,A=0,P="0%",D="0%";f?(S=i.width*i.scaleX*i.originX,A=i.height*i.scaleY*i.originY,x.applyITRS(i.x-S,i.y-A,i.rotation,i.scaleX,i.scaleY),y.copyFrom(h.matrix),y.multiplyWithOffset(f,-h.scrollX*i.scrollFactorX,-h.scrollY*i.scrollFactorY),x.e=i.x-S,x.f=i.y-A,y.multiply(x,T)):(S=i.width*i.originX,A=i.height*i.originY,x.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY),y.copyFrom(h.matrix),P=100*i.originX+"%",D=100*i.originY+"%",x.e-=h.scrollX*i.scrollFactorX,x.f-=h.scrollY*i.scrollFactorY,y.multiply(x,T),T.e-=S,T.f-=A),i.transformOnly||(c.display="block",c.opacity=g,c.zIndex=i._depth,c.pointerEvents=i.pointerEvents,c.mixBlendMode=a[i._blendMode]),c.transform=T.getCSSMatrix()+" skew("+i.skewX+"rad, "+i.skewY+"rad) rotate3d("+i.rotate3d.x+","+i.rotate3d.y+","+i.rotate3d.z+","+i.rotate3d.w+i.rotate3dAngle+")",c.transformOrigin=P+" "+D}};u.exports=n},2611:(u,m,t)=>{var a=t(3069),p=t(39429);p.register("dom",function(o,s,r,e,n){var l=new a(this.scene,o,s,r,e,n);return this.displayList.add(l),l})},441:(u,m,t)=>{var a=t(29747),p=a,o=a;p=t(49381),o=t(49381),u.exports={renderWebGL:p,renderCanvas:o}},62980:u=>{u.exports="addedtoscene"},41337:u=>{u.exports="destroy"},44947:u=>{u.exports="removedfromscene"},49358:u=>{u.exports="complete"},35163:u=>{u.exports="created"},97249:u=>{u.exports="error"},19483:u=>{u.exports="locked"},56059:u=>{u.exports="loop"},26772:u=>{u.exports="metadata"},64437:u=>{u.exports="playing"},83411:u=>{u.exports="play"},75780:u=>{u.exports="seeked"},67799:u=>{u.exports="seeking"},63500:u=>{u.exports="stalled"},55541:u=>{u.exports="stop"},53208:u=>{u.exports="textureready"},4992:u=>{u.exports="unlocked"},12:u=>{u.exports="unsupported"},51708:(u,m,t)=>{u.exports={ADDED_TO_SCENE:t(62980),DESTROY:t(41337),REMOVED_FROM_SCENE:t(44947),VIDEO_COMPLETE:t(49358),VIDEO_CREATED:t(35163),VIDEO_ERROR:t(97249),VIDEO_LOCKED:t(19483),VIDEO_LOOP:t(56059),VIDEO_METADATA:t(26772),VIDEO_PLAY:t(83411),VIDEO_PLAYING:t(64437),VIDEO_SEEKED:t(75780),VIDEO_SEEKING:t(67799),VIDEO_STALLED:t(63500),VIDEO_STOP:t(55541),VIDEO_TEXTURE:t(53208),VIDEO_UNLOCKED:t(4992),VIDEO_UNSUPPORTED:t(12)}},42421:(u,m,t)=>{var a=t(83419),p=t(31401),o=t(95643),s=t(64993),r=new a({Extends:o,Mixins:[p.Alpha,p.BlendMode,p.Depth,p.Flip,p.Origin,p.ScrollFactor,p.Size,p.Texture,p.Tint,p.Transform,p.Visible,s],initialize:function(n){o.call(this,n,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});u.exports=r},70217:()=>{},56315:(u,m,t)=>{var a=t(42421),p=t(39429);p.register("extern",function(){var o=new a(this.scene);return this.displayList.add(o),o})},64993:(u,m,t)=>{var a=t(29747),p=a,o=a;p=t(80287),o=t(70217),u.exports={renderWebGL:p,renderCanvas:o}},80287:(u,m,t)=>{var a=t(91296),p=function(o,s,r,e){o.pipelines.clear();var n=a(s,r,e).calc;s.render.call(s,o,r,n),o.pipelines.rebind()};u.exports=p},85592:u=>{u.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(u,m,t)=>{var a=t(71911),p=t(83419),o=t(85592),s=t(31401),r=t(8497),e=t(95643),n=t(95540),l=t(35154),i=t(36383),h=t(84503),f=new p({Extends:e,Mixins:[s.AlphaSingle,s.BlendMode,s.Depth,s.Mask,s.Pipeline,s.PostPipeline,s.Transform,s.Visible,s.ScrollFactor,h],initialize:function(d,v){var g=l(v,"x",0),y=l(v,"y",0);e.call(this,d,"Graphics"),this.setPosition(g,y),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(v)},setDefaultStyles:function(c){return l(c,"lineStyle",null)&&(this.defaultStrokeWidth=l(c,"lineStyle.width",1),this.defaultStrokeColor=l(c,"lineStyle.color",16777215),this.defaultStrokeAlpha=l(c,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),l(c,"fillStyle",null)&&(this.defaultFillColor=l(c,"fillStyle.color",16777215),this.defaultFillAlpha=l(c,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(c,d,v){return v===void 0&&(v=1),this.commandBuffer.push(o.LINE_STYLE,c,d,v),this._lineWidth=c,this},fillStyle:function(c,d){return d===void 0&&(d=1),this.commandBuffer.push(o.FILL_STYLE,c,d),this},fillGradientStyle:function(c,d,v,g,y,x,T,S){return y===void 0&&(y=1),x===void 0&&(x=y),T===void 0&&(T=y),S===void 0&&(S=y),this.commandBuffer.push(o.GRADIENT_FILL_STYLE,y,x,T,S,c,d,v,g),this},lineGradientStyle:function(c,d,v,g,y,x){return x===void 0&&(x=1),this.commandBuffer.push(o.GRADIENT_LINE_STYLE,c,x,d,v,g,y),this},beginPath:function(){return this.commandBuffer.push(o.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(o.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(o.FILL_PATH),this},fill:function(){return this.commandBuffer.push(o.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(o.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(o.STROKE_PATH),this},fillCircleShape:function(c){return this.fillCircle(c.x,c.y,c.radius)},strokeCircleShape:function(c){return this.strokeCircle(c.x,c.y,c.radius)},fillCircle:function(c,d,v){return this.beginPath(),this.arc(c,d,v,0,i.PI2),this.fillPath(),this},strokeCircle:function(c,d,v){return this.beginPath(),this.arc(c,d,v,0,i.PI2),this.strokePath(),this},fillRectShape:function(c){return this.fillRect(c.x,c.y,c.width,c.height)},strokeRectShape:function(c){return this.strokeRect(c.x,c.y,c.width,c.height)},fillRect:function(c,d,v,g){return this.commandBuffer.push(o.FILL_RECT,c,d,v,g),this},strokeRect:function(c,d,v,g){var y=this._lineWidth/2,x=c-y,T=c+y;return this.beginPath(),this.moveTo(c,d),this.lineTo(c,d+g),this.strokePath(),this.beginPath(),this.moveTo(c+v,d),this.lineTo(c+v,d+g),this.strokePath(),this.beginPath(),this.moveTo(x,d),this.lineTo(T+v,d),this.strokePath(),this.beginPath(),this.moveTo(x,d+g),this.lineTo(T+v,d+g),this.strokePath(),this},fillRoundedRect:function(c,d,v,g,y){y===void 0&&(y=20);var x=y,T=y,S=y,A=y;typeof y!="number"&&(x=n(y,"tl",20),T=n(y,"tr",20),S=n(y,"bl",20),A=n(y,"br",20));var P=x>=0,D=T>=0,R=S>=0,L=A>=0;return x=Math.abs(x),T=Math.abs(T),S=Math.abs(S),A=Math.abs(A),this.beginPath(),this.moveTo(c+x,d),this.lineTo(c+v-T,d),D?this.arc(c+v-T,d+T,T,-i.TAU,0):this.arc(c+v,d,T,Math.PI,i.TAU,!0),this.lineTo(c+v,d+g-A),L?this.arc(c+v-A,d+g-A,A,0,i.TAU):this.arc(c+v,d+g,A,-i.TAU,Math.PI,!0),this.lineTo(c+S,d+g),R?this.arc(c+S,d+g-S,S,i.TAU,Math.PI):this.arc(c,d+g,S,0,-i.TAU,!0),this.lineTo(c,d+x),P?this.arc(c+x,d+x,x,-Math.PI,-i.TAU):this.arc(c,d,x,i.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(c,d,v,g,y){y===void 0&&(y=20);var x=y,T=y,S=y,A=y,P=Math.min(v,g)/2;typeof y!="number"&&(x=n(y,"tl",20),T=n(y,"tr",20),S=n(y,"bl",20),A=n(y,"br",20));var D=x>=0,R=T>=0,L=S>=0,I=A>=0;return x=Math.min(Math.abs(x),P),T=Math.min(Math.abs(T),P),S=Math.min(Math.abs(S),P),A=Math.min(Math.abs(A),P),this.beginPath(),this.moveTo(c+x,d),this.lineTo(c+v-T,d),this.moveTo(c+v-T,d),R?this.arc(c+v-T,d+T,T,-i.TAU,0):this.arc(c+v,d,T,Math.PI,i.TAU,!0),this.lineTo(c+v,d+g-A),this.moveTo(c+v,d+g-A),I?this.arc(c+v-A,d+g-A,A,0,i.TAU):this.arc(c+v,d+g,A,-i.TAU,Math.PI,!0),this.lineTo(c+S,d+g),this.moveTo(c+S,d+g),L?this.arc(c+S,d+g-S,S,i.TAU,Math.PI):this.arc(c,d+g,S,0,-i.TAU,!0),this.lineTo(c,d+x),this.moveTo(c,d+x),D?this.arc(c+x,d+x,x,-Math.PI,-i.TAU):this.arc(c,d,x,i.TAU,0,!0),this.strokePath(),this},fillPointShape:function(c,d){return this.fillPoint(c.x,c.y,d)},fillPoint:function(c,d,v){return!v||v<1?v=1:(c-=v/2,d-=v/2),this.commandBuffer.push(o.FILL_RECT,c,d,v,v),this},fillTriangleShape:function(c){return this.fillTriangle(c.x1,c.y1,c.x2,c.y2,c.x3,c.y3)},strokeTriangleShape:function(c){return this.strokeTriangle(c.x1,c.y1,c.x2,c.y2,c.x3,c.y3)},fillTriangle:function(c,d,v,g,y,x){return this.commandBuffer.push(o.FILL_TRIANGLE,c,d,v,g,y,x),this},strokeTriangle:function(c,d,v,g,y,x){return this.commandBuffer.push(o.STROKE_TRIANGLE,c,d,v,g,y,x),this},strokeLineShape:function(c){return this.lineBetween(c.x1,c.y1,c.x2,c.y2)},lineBetween:function(c,d,v,g){return this.beginPath(),this.moveTo(c,d),this.lineTo(v,g),this.strokePath(),this},lineTo:function(c,d){return this.commandBuffer.push(o.LINE_TO,c,d),this},moveTo:function(c,d){return this.commandBuffer.push(o.MOVE_TO,c,d),this},strokePoints:function(c,d,v,g){d===void 0&&(d=!1),v===void 0&&(v=!1),g===void 0&&(g=c.length),this.beginPath(),this.moveTo(c[0].x,c[0].y);for(var y=1;y<g;y++)this.lineTo(c[y].x,c[y].y);return d&&this.lineTo(c[0].x,c[0].y),v&&this.closePath(),this.strokePath(),this},fillPoints:function(c,d,v,g){d===void 0&&(d=!1),v===void 0&&(v=!1),g===void 0&&(g=c.length),this.beginPath(),this.moveTo(c[0].x,c[0].y);for(var y=1;y<g;y++)this.lineTo(c[y].x,c[y].y);return d&&this.lineTo(c[0].x,c[0].y),v&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(c,d){d===void 0&&(d=32);var v=c.getPoints(d);return this.strokePoints(v,!0)},strokeEllipse:function(c,d,v,g,y){y===void 0&&(y=32);var x=new r(c,d,v,g),T=x.getPoints(y);return this.strokePoints(T,!0)},fillEllipseShape:function(c,d){d===void 0&&(d=32);var v=c.getPoints(d);return this.fillPoints(v,!0)},fillEllipse:function(c,d,v,g,y){y===void 0&&(y=32);var x=new r(c,d,v,g),T=x.getPoints(y);return this.fillPoints(T,!0)},arc:function(c,d,v,g,y,x,T){return x===void 0&&(x=!1),T===void 0&&(T=0),this.commandBuffer.push(o.ARC,c,d,v,g,y,x,T),this},slice:function(c,d,v,g,y,x,T){return x===void 0&&(x=!1),T===void 0&&(T=0),this.commandBuffer.push(o.BEGIN_PATH),this.commandBuffer.push(o.MOVE_TO,c,d),this.commandBuffer.push(o.ARC,c,d,v,g,y,x,T),this.commandBuffer.push(o.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(o.SAVE),this},restore:function(){return this.commandBuffer.push(o.RESTORE),this},translateCanvas:function(c,d){return this.commandBuffer.push(o.TRANSLATE,c,d),this},scaleCanvas:function(c,d){return this.commandBuffer.push(o.SCALE,c,d),this},rotateCanvas:function(c){return this.commandBuffer.push(o.ROTATE,c),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(c,d,v){var g=this.scene.sys,y=g.game.renderer;d===void 0&&(d=g.scale.width),v===void 0&&(v=g.scale.height),f.TargetCamera.setScene(this.scene),f.TargetCamera.setViewport(0,0,d,v),f.TargetCamera.scrollX=this.x,f.TargetCamera.scrollY=this.y;var x,T,S={willReadFrequently:!0};if(typeof c=="string")if(g.textures.exists(c)){x=g.textures.get(c);var A=x.getSourceImage();A instanceof HTMLCanvasElement&&(T=A.getContext("2d",S))}else x=g.textures.createCanvas(c,d,v),T=x.getSourceImage().getContext("2d",S);else c instanceof HTMLCanvasElement&&(T=c.getContext("2d",S));return T&&(this.renderCanvas(y,this,f.TargetCamera,null,T,!1),x&&x.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});f.TargetCamera=new a,u.exports=f},32768:(u,m,t)=>{var a=t(85592),p=t(20926),o=function(s,r,e,n,l,i){var h=r.commandBuffer,f=h.length,c=l||s.currentContext;if(!(f===0||!p(s,c,r,e,n))){e.addToRenderList(r);var d=1,v=1,g=0,y=0,x=1,T=0,S=0,A=0;c.beginPath();for(var P=0;P<f;++P){var D=h[P];switch(D){case a.ARC:c.arc(h[P+1],h[P+2],h[P+3],h[P+4],h[P+5],h[P+6]),P+=7;break;case a.LINE_STYLE:x=h[P+1],g=h[P+2],d=h[P+3],T=(g&16711680)>>>16,S=(g&65280)>>>8,A=g&255,c.strokeStyle="rgba("+T+","+S+","+A+","+d+")",c.lineWidth=x,P+=3;break;case a.FILL_STYLE:y=h[P+1],v=h[P+2],T=(y&16711680)>>>16,S=(y&65280)>>>8,A=y&255,c.fillStyle="rgba("+T+","+S+","+A+","+v+")",P+=2;break;case a.BEGIN_PATH:c.beginPath();break;case a.CLOSE_PATH:c.closePath();break;case a.FILL_PATH:i||c.fill();break;case a.STROKE_PATH:i||c.stroke();break;case a.FILL_RECT:i?c.rect(h[P+1],h[P+2],h[P+3],h[P+4]):c.fillRect(h[P+1],h[P+2],h[P+3],h[P+4]),P+=4;break;case a.FILL_TRIANGLE:c.beginPath(),c.moveTo(h[P+1],h[P+2]),c.lineTo(h[P+3],h[P+4]),c.lineTo(h[P+5],h[P+6]),c.closePath(),i||c.fill(),P+=6;break;case a.STROKE_TRIANGLE:c.beginPath(),c.moveTo(h[P+1],h[P+2]),c.lineTo(h[P+3],h[P+4]),c.lineTo(h[P+5],h[P+6]),c.closePath(),i||c.stroke(),P+=6;break;case a.LINE_TO:c.lineTo(h[P+1],h[P+2]),P+=2;break;case a.MOVE_TO:c.moveTo(h[P+1],h[P+2]),P+=2;break;case a.LINE_FX_TO:c.lineTo(h[P+1],h[P+2]),P+=5;break;case a.MOVE_FX_TO:c.moveTo(h[P+1],h[P+2]),P+=5;break;case a.SAVE:c.save();break;case a.RESTORE:c.restore();break;case a.TRANSLATE:c.translate(h[P+1],h[P+2]),P+=2;break;case a.SCALE:c.scale(h[P+1],h[P+2]),P+=2;break;case a.ROTATE:c.rotate(h[P+1]),P+=1;break;case a.GRADIENT_FILL_STYLE:P+=5;break;case a.GRADIENT_LINE_STYLE:P+=6;break}}c.restore()}};u.exports=o},87079:(u,m,t)=>{var a=t(44603),p=t(43831);a.register("graphics",function(o,s){o===void 0&&(o={}),s!==void 0&&(o.add=s);var r=new p(this.scene,o);return o.add&&this.scene.sys.displayList.add(r),r})},1201:(u,m,t)=>{var a=t(43831),p=t(39429);p.register("graphics",function(o){return this.displayList.add(new a(this.scene,o))})},84503:(u,m,t)=>{var a=t(29747),p=a,o=a;p=t(77545),o=t(32768),o=t(32768),u.exports={renderWebGL:p,renderCanvas:o}},77545:(u,m,t)=>{var a=t(85592),p=t(91296),o=t(61340),s=t(70554),r=function(h,f,c){this.x=h,this.y=f,this.width=c},e=function(h,f,c){this.points=[],this.pointsLength=1,this.points[0]=new r(h,f,c)},n=[],l=new o,i=function(h,f,c,d){if(f.commandBuffer.length!==0){c.addToRenderList(f);var v=h.pipelines.set(f.pipeline,f);h.pipelines.preBatch(f);for(var g=p(f,c,d).calc,y=l.loadIdentity(),x=f.commandBuffer,T=c.alpha*f.alpha,S=1,A=v.fillTint,P=v.strokeTint,D=0,R=0,L=0,I=.01,w=Math.PI*2,B,b=[],V=0,X=!0,G=null,U=s.getTintAppendFloatAlpha,O=0;O<x.length;O++)switch(B=x[O],B){case a.BEGIN_PATH:{b.length=0,G=null,X=!0;break}case a.CLOSE_PATH:{X=!1,G&&G.points.length&&G.points.push(G.points[0]);break}case a.FILL_PATH:{for(V=0;V<b.length;V++)v.batchFillPath(b[V].points,y,g);break}case a.STROKE_PATH:{for(V=0;V<b.length;V++)v.batchStrokePath(b[V].points,S,X,y,g);break}case a.LINE_STYLE:{S=x[++O];var z=x[++O],N=x[++O]*T,Y=U(z,N);P.TL=Y,P.TR=Y,P.BL=Y,P.BR=Y;break}case a.FILL_STYLE:{var W=x[++O],H=x[++O]*T,$=U(W,H);A.TL=$,A.TR=$,A.BL=$,A.BR=$;break}case a.GRADIENT_FILL_STYLE:{var K=x[++O]*T,Z=x[++O]*T,J=x[++O]*T,j=x[++O]*T;A.TL=U(x[++O],K),A.TR=U(x[++O],Z),A.BL=U(x[++O],J),A.BR=U(x[++O],j);break}case a.GRADIENT_LINE_STYLE:{S=x[++O];var Q=x[++O]*T;P.TL=U(x[++O],Q),P.TR=U(x[++O],Q),P.BL=U(x[++O],Q),P.BR=U(x[++O],Q);break}case a.ARC:{var _=0,k=x[++O],it=x[++O],nt=x[++O],st=x[++O],q=x[++O],tt=x[++O],et=x[++O];for(q-=st,tt?q<-w?q=-w:q>0&&(q=-w+q%w):q>w?q=w:q<0&&(q=w+q%w),G===null&&(G=new e(k+Math.cos(st)*nt,it+Math.sin(st)*nt,S),b.push(G),_+=I);_<1+et;)L=q*_+st,D=k+Math.cos(L)*nt,R=it+Math.sin(L)*nt,G.points.push(new r(D,R,S)),_+=I;L=q+st,D=k+Math.cos(L)*nt,R=it+Math.sin(L)*nt,G.points.push(new r(D,R,S));break}case a.FILL_RECT:{v.batchFillRect(x[++O],x[++O],x[++O],x[++O],y,g);break}case a.FILL_TRIANGLE:{v.batchFillTriangle(x[++O],x[++O],x[++O],x[++O],x[++O],x[++O],y,g);break}case a.STROKE_TRIANGLE:{v.batchStrokeTriangle(x[++O],x[++O],x[++O],x[++O],x[++O],x[++O],S,y,g);break}case a.LINE_TO:{G!==null?G.points.push(new r(x[++O],x[++O],S)):(G=new e(x[++O],x[++O],S),b.push(G));break}case a.MOVE_TO:{G=new e(x[++O],x[++O],S),b.push(G);break}case a.SAVE:{n.push(y.copyToArray());break}case a.RESTORE:{y.copyFromArray(n.pop());break}case a.TRANSLATE:{k=x[++O],it=x[++O],y.translate(k,it);break}case a.SCALE:{k=x[++O],it=x[++O],y.scale(k,it);break}case a.ROTATE:{y.rotate(x[++O]);break}}h.pipelines.postBatch(f)}};u.exports=i},26479:(u,m,t)=>{var a=t(61061),p=t(83419),o=t(51708),s=t(50792),r=t(46710),e=t(95540),n=t(35154),l=t(97022),i=t(41212),h=t(88492),f=t(35072),c=t(68287),d=new p({Extends:s,initialize:function(g,y,x){s.call(this),x?y&&!Array.isArray(y)&&(y=[y]):Array.isArray(y)?i(y[0])&&(x=y,y=null):i(y)&&(x=y,y=null),this.scene=g,this.children=new f,this.isParent=!0,this.type="Group",this.classType=e(x,"classType",c),this.name=e(x,"name",""),this.active=e(x,"active",!0),this.maxSize=e(x,"maxSize",-1),this.defaultKey=e(x,"defaultKey",null),this.defaultFrame=e(x,"defaultFrame",null),this.runChildUpdate=e(x,"runChildUpdate",!1),this.createCallback=e(x,"createCallback",null),this.removeCallback=e(x,"removeCallback",null),this.createMultipleCallback=e(x,"createMultipleCallback",null),this.internalCreateCallback=e(x,"internalCreateCallback",null),this.internalRemoveCallback=e(x,"internalRemoveCallback",null),y&&this.addMultiple(y),x&&this.createMultiple(x),this.on(o.ADDED_TO_SCENE,this.addedToScene,this),this.on(o.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(v,g,y,x,T,S){if(v===void 0&&(v=0),g===void 0&&(g=0),y===void 0&&(y=this.defaultKey),x===void 0&&(x=this.defaultFrame),T===void 0&&(T=!0),S===void 0&&(S=!0),this.isFull())return null;var A=new this.classType(this.scene,v,g,y,x);return A.addToDisplayList(this.scene.sys.displayList),A.addToUpdateList(),A.visible=T,A.setActive(S),this.add(A),A},createMultiple:function(v){if(this.isFull())return[];Array.isArray(v)||(v=[v]);var g=[];if(v[0].key)for(var y=0;y<v.length;y++){var x=this.createFromConfig(v[y]);g=g.concat(x)}return g},createFromConfig:function(v){if(this.isFull())return[];this.classType=e(v,"classType",this.classType);var g=e(v,"key",void 0),y=e(v,"frame",null),x=e(v,"visible",!0),T=e(v,"active",!0),S=[];if(g===void 0)return S;Array.isArray(g)||(g=[g]),Array.isArray(y)||(y=[y]);var A=e(v,"repeat",0),P=e(v,"randomKey",!1),D=e(v,"randomFrame",!1),R=e(v,"yoyo",!1),L=e(v,"quantity",!1),I=e(v,"frameQuantity",1),w=e(v,"max",0),B=h(g,y,{max:w,qty:L||I,random:P,randomB:D,repeat:A,yoyo:R});v.createCallback&&(this.createCallback=v.createCallback),v.removeCallback&&(this.removeCallback=v.removeCallback),v.internalCreateCallback&&(this.internalCreateCallback=v.internalCreateCallback),v.internalRemoveCallback&&(this.internalRemoveCallback=v.internalRemoveCallback);for(var b=0;b<B.length;b++){var V=this.create(0,0,B[b].a,B[b].b,x,T);if(!V)break;S.push(V)}if(l(v,"setXY")){var X=n(v,"setXY.x",0),G=n(v,"setXY.y",0),U=n(v,"setXY.stepX",0),O=n(v,"setXY.stepY",0);a.SetXY(S,X,G,U,O)}if(l(v,"setRotation")){var z=n(v,"setRotation.value",0),N=n(v,"setRotation.step",0);a.SetRotation(S,z,N)}if(l(v,"setScale")){var Y=n(v,"setScale.x",1),W=n(v,"setScale.y",Y),H=n(v,"setScale.stepX",0),$=n(v,"setScale.stepY",0);a.SetScale(S,Y,W,H,$)}if(l(v,"setOrigin")){var K=n(v,"setOrigin.x",.5),Z=n(v,"setOrigin.y",K),J=n(v,"setOrigin.stepX",0),j=n(v,"setOrigin.stepY",0);a.SetOrigin(S,K,Z,J,j)}if(l(v,"setAlpha")){var Q=n(v,"setAlpha.value",1),_=n(v,"setAlpha.step",0);a.SetAlpha(S,Q,_)}if(l(v,"setDepth")){var k=n(v,"setDepth.value",0),it=n(v,"setDepth.step",0);a.SetDepth(S,k,it)}if(l(v,"setScrollFactor")){var nt=n(v,"setScrollFactor.x",1),st=n(v,"setScrollFactor.y",nt),q=n(v,"setScrollFactor.stepX",0),tt=n(v,"setScrollFactor.stepY",0);a.SetScrollFactor(S,nt,st,q,tt)}var et=e(v,"hitArea",null),ot=e(v,"hitAreaCallback",null);et&&a.SetHitArea(S,et,ot);var dt=e(v,"gridAlign",!1);return dt&&a.GridAlign(S,dt),this.createMultipleCallback&&this.createMultipleCallback.call(this,S),S},preUpdate:function(v,g){if(!(!this.runChildUpdate||this.children.size===0))for(var y=this.children.entries.slice(),x=0;x<y.length;x++){var T=y[x];T.active&&T.update(v,g)}},add:function(v,g){return g===void 0&&(g=!1),this.isFull()?this:(this.children.set(v),this.internalCreateCallback&&this.internalCreateCallback.call(this,v),this.createCallback&&this.createCallback.call(this,v),g&&(v.addToDisplayList(this.scene.sys.displayList),v.addToUpdateList()),v.on(o.DESTROY,this.remove,this),this)},addMultiple:function(v,g){if(g===void 0&&(g=!1),Array.isArray(v))for(var y=0;y<v.length;y++)this.add(v[y],g);return this},remove:function(v,g,y){return g===void 0&&(g=!1),y===void 0&&(y=!1),this.children.contains(v)?(this.children.delete(v),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,v),this.removeCallback&&this.removeCallback.call(this,v),v.off(o.DESTROY,this.remove,this),y?v.destroy():g&&(v.removeFromDisplayList(),v.removeFromUpdateList()),this):this},clear:function(v,g){v===void 0&&(v=!1),g===void 0&&(g=!1);for(var y=this.children,x=0;x<y.size;x++){var T=y.entries[x];T.off(o.DESTROY,this.remove,this),g?T.destroy():v&&(T.removeFromDisplayList(),T.removeFromUpdateList())}return this.children.clear(),this},contains:function(v){return this.children.contains(v)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(v,g,y,x){return r(this.children.entries,v,g,y,x)},getFirst:function(v,g,y,x,T,S,A){return this.getHandler(!0,1,v,g,y,x,T,S,A)},getFirstNth:function(v,g,y,x,T,S,A,P){return this.getHandler(!0,v,g,y,x,T,S,A,P)},getLast:function(v,g,y,x,T,S,A){return this.getHandler(!1,1,v,g,y,x,T,S,A)},getLastNth:function(v,g,y,x,T,S,A,P){return this.getHandler(!1,v,g,y,x,T,S,A,P)},getHandler:function(v,g,y,x,T,S,A,P,D){y===void 0&&(y=!1),x===void 0&&(x=!1);var R,L,I=0,w=this.children.entries;if(v)for(L=0;L<w.length;L++)if(R=w[L],R.active===y){if(I++,I===g)break}else R=null;else for(L=w.length-1;L>=0;L--)if(R=w[L],R.active===y){if(I++,I===g)break}else R=null;return R?(typeof T=="number"&&(R.x=T),typeof S=="number"&&(R.y=S),R):x?this.create(T,S,A,P,D):null},get:function(v,g,y,x,T){return this.getFirst(!1,!0,v,g,y,x,T)},getFirstAlive:function(v,g,y,x,T,S){return this.getFirst(!0,v,g,y,x,T,S)},getFirstDead:function(v,g,y,x,T,S){return this.getFirst(!1,v,g,y,x,T,S)},playAnimation:function(v,g){return a.PlayAnimation(this.children.entries,v,g),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(v){v===void 0&&(v=!0);for(var g=0,y=0;y<this.children.size;y++)this.children.entries[y].active===v&&g++;return g},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var v=this.getTotalUsed(),g=this.maxSize===-1?999999999999:this.maxSize;return g-v},setActive:function(v){return this.active=v,this},setName:function(v){return this.name=v,this},propertyValueSet:function(v,g,y,x,T){return a.PropertyValueSet(this.children.entries,v,g,y,x,T),this},propertyValueInc:function(v,g,y,x,T){return a.PropertyValueInc(this.children.entries,v,g,y,x,T),this},setX:function(v,g){return a.SetX(this.children.entries,v,g),this},setY:function(v,g){return a.SetY(this.children.entries,v,g),this},setXY:function(v,g,y,x){return a.SetXY(this.children.entries,v,g,y,x),this},incX:function(v,g){return a.IncX(this.children.entries,v,g),this},incY:function(v,g){return a.IncY(this.children.entries,v,g),this},incXY:function(v,g,y,x){return a.IncXY(this.children.entries,v,g,y,x),this},shiftPosition:function(v,g,y){return a.ShiftPosition(this.children.entries,v,g,y),this},angle:function(v,g){return a.Angle(this.children.entries,v,g),this},rotate:function(v,g){return a.Rotate(this.children.entries,v,g),this},rotateAround:function(v,g){return a.RotateAround(this.children.entries,v,g),this},rotateAroundDistance:function(v,g,y){return a.RotateAroundDistance(this.children.entries,v,g,y),this},setAlpha:function(v,g){return a.SetAlpha(this.children.entries,v,g),this},setTint:function(v,g,y,x){return a.SetTint(this.children.entries,v,g,y,x),this},setOrigin:function(v,g,y,x){return a.SetOrigin(this.children.entries,v,g,y,x),this},scaleX:function(v,g){return a.ScaleX(this.children.entries,v,g),this},scaleY:function(v,g){return a.ScaleY(this.children.entries,v,g),this},scaleXY:function(v,g,y,x){return a.ScaleXY(this.children.entries,v,g,y,x),this},setDepth:function(v,g){return a.SetDepth(this.children.entries,v,g),this},setBlendMode:function(v){return a.SetBlendMode(this.children.entries,v),this},setHitArea:function(v,g){return a.SetHitArea(this.children.entries,v,g),this},shuffle:function(){return a.Shuffle(this.children.entries),this},kill:function(v){this.children.contains(v)&&v.setActive(!1)},killAndHide:function(v){this.children.contains(v)&&(v.setActive(!1),v.setVisible(!1))},setVisible:function(v,g,y){return a.SetVisible(this.children.entries,v,g,y),this},toggleVisible:function(){return a.ToggleVisible(this.children.entries),this},destroy:function(v,g){v===void 0&&(v=!1),g===void 0&&(g=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(o.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(g,v),this.scene=void 0,this.children=void 0)}});u.exports=d},94975:(u,m,t)=>{var a=t(44603),p=t(26479);a.register("group",function(o){return new p(this.scene,null,o)})},3385:(u,m,t)=>{var a=t(26479),p=t(39429);p.register("group",function(o,s){return this.updateList.add(new a(this.scene,o,s))})},88571:(u,m,t)=>{var a=t(83419),p=t(31401),o=t(95643),s=t(59819),r=new a({Extends:o,Mixins:[p.Alpha,p.BlendMode,p.Depth,p.Flip,p.GetBounds,p.Mask,p.Origin,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Size,p.TextureCrop,p.Tint,p.Transform,p.Visible,s],initialize:function(n,l,i,h,f){o.call(this,n,"Image"),this._crop=this.resetCropObject(),this.setTexture(h,f),this.setPosition(l,i),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});u.exports=r},40652:u=>{var m=function(t,a,p,o){p.addToRenderList(a),t.batchSprite(a,a.frame,p,o)};u.exports=m},82459:(u,m,t)=>{var a=t(25305),p=t(44603),o=t(23568),s=t(88571);p.register("image",function(r,e){r===void 0&&(r={});var n=o(r,"key",null),l=o(r,"frame",null),i=new s(this.scene,0,0,n,l);return e!==void 0&&(r.add=e),a(this.scene,i,r),i})},2117:(u,m,t)=>{var a=t(88571),p=t(39429);p.register("image",function(o,s,r,e){return this.displayList.add(new a(this.scene,o,s,r,e))})},59819:(u,m,t)=>{var a=t(29747),p=a,o=a;p=t(99517),o=t(40652),u.exports={renderWebGL:p,renderCanvas:o}},99517:u=>{var m=function(t,a,p,o){p.addToRenderList(a),this.pipeline.batchSprite(a,p,o)};u.exports=m},77856:(u,m,t)=>{var a={Events:t(51708),DisplayList:t(8050),GameObjectCreator:t(44603),GameObjectFactory:t(39429),UpdateList:t(45027),Components:t(31401),GetCalcMatrix:t(91296),BuildGameObject:t(25305),BuildGameObjectAnimation:t(13059),GameObject:t(95643),BitmapText:t(22186),Blitter:t(6107),Bob:t(46590),Container:t(31559),DOMElement:t(3069),DynamicBitmapText:t(2638),Extern:t(42421),Graphics:t(43831),Group:t(26479),Image:t(88571),Layer:t(93595),Particles:t(18404),PathFollower:t(1159),RenderTexture:t(591),RetroFont:t(196),Rope:t(77757),Sprite:t(68287),Text:t(50171),GetTextSize:t(14220),MeasureText:t(79557),TextStyle:t(35762),TileSprite:t(20839),Zone:t(41481),Video:t(18471),Shape:t(17803),Arc:t(23629),Curve:t(89),Ellipse:t(19921),Grid:t(30479),IsoBox:t(61475),IsoTriangle:t(16933),Line:t(57847),Polygon:t(24949),Rectangle:t(74561),Star:t(55911),Triangle:t(36931),Factories:{Blitter:t(12709),Container:t(24961),DOMElement:t(2611),DynamicBitmapText:t(72566),Extern:t(56315),Graphics:t(1201),Group:t(3385),Image:t(2117),Layer:t(20005),Particles:t(676),PathFollower:t(90145),RenderTexture:t(60505),Rope:t(96819),Sprite:t(46409),StaticBitmapText:t(34914),Text:t(68005),TileSprite:t(91681),Zone:t(84175),Video:t(89025),Arc:t(42563),Curve:t(40511),Ellipse:t(1543),Grid:t(34137),IsoBox:t(3933),IsoTriangle:t(49803),Line:t(2481),Polygon:t(64827),Rectangle:t(87959),Star:t(93697),Triangle:t(45245)},Creators:{Blitter:t(9403),Container:t(77143),DynamicBitmapText:t(11164),Graphics:t(87079),Group:t(94975),Image:t(82459),Layer:t(25179),Particles:t(92730),RenderTexture:t(34495),Rope:t(26209),Sprite:t(15567),StaticBitmapText:t(57336),Text:t(71259),TileSprite:t(14167),Zone:t(95261),Video:t(11511)}};a.Shader=t(20071),a.Mesh=t(4703),a.NineSlice=t(28103),a.PointLight=t(80321),a.Plane=t(33663),a.Factories.Shader=t(74177),a.Factories.Mesh=t(9225),a.Factories.NineSlice=t(47521),a.Factories.PointLight=t(71255),a.Factories.Plane=t(30985),a.Creators.Shader=t(54935),a.Creators.Mesh=t(20527),a.Creators.NineSlice=t(28279),a.Creators.PointLight=t(39829),a.Creators.Plane=t(56015),a.Light=t(41432),a.LightsManager=t(61356),a.LightsPlugin=t(88992),u.exports=a},93595:(u,m,t)=>{var a=t(10312),p=t(83419),o=t(31401),s=t(53774),r=t(45893),e=t(50792),n=t(51708),l=t(73162),i=t(33963),h=t(44594),f=t(19186),c=new p({Extends:l,Mixins:[o.AlphaSingle,o.BlendMode,o.Depth,o.Mask,o.PostPipeline,o.Visible,e,i],initialize:function(v,g){l.call(this,v),e.call(this),this.scene=v,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=v.sys,this.events=v.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(a.SKIP_CHECK),g&&this.add(g),v.sys.queueDepthSort()},setActive:function(d){return this.active=d,this},setName:function(d){return this.name=d,this},setState:function(d){return this.state=d,this},setDataEnabled:function(){return this.data||(this.data=new r(this)),this},setData:function(d,v){return this.data||(this.data=new r(this)),this.data.set(d,v),this},incData:function(d,v){return this.data||(this.data=new r(this)),this.data.inc(d,v),this},toggleData:function(d){return this.data||(this.data=new r(this)),this.data.toggle(d),this},getData:function(d){return this.data||(this.data=new r(this)),this.data.get(d)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return s(this)},willRender:function(d){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&d.id)},getIndexList:function(){for(var d=this,v=this.parentContainer,g=[];v&&(g.unshift(v.getIndex(d)),d=v,v.parentContainer);)v=v.parentContainer;return g.unshift(this.displayList.getIndex(d)),g},addChildCallback:function(d){var v=d.displayList;v&&v!==this&&d.removeFromDisplayList(),d.displayList||(this.queueDepthSort(),d.displayList=this,d.emit(n.ADDED_TO_SCENE,d,this.scene),this.events.emit(h.ADDED_TO_SCENE,d,this.scene))},removeChildCallback:function(d){this.queueDepthSort(),d.displayList=null,d.emit(n.REMOVED_FROM_SCENE,d,this.scene),this.events.emit(h.REMOVED_FROM_SCENE,d,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(f(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(d,v){return d._depth-v._depth},getChildren:function(){return this.list},addToDisplayList:function(d){return d===void 0&&(d=this.scene.sys.displayList),this.displayList&&this.displayList!==d&&this.removeFromDisplayList(),d.exists(this)||(this.displayList=d,d.add(this,!0),d.queueDepthSort(),this.emit(n.ADDED_TO_SCENE,this,this.scene),d.events.emit(h.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var d=this.displayList||this.scene.sys.displayList;return d.exists(this)&&(d.remove(this,!0),d.queueDepthSort(),this.displayList=null,this.emit(n.REMOVED_FROM_SCENE,this,this.scene),d.events.emit(h.REMOVED_FROM_SCENE,this,this.scene)),this},getDisplayList:function(){var d=null;return this.parentContainer?d=this.parentContainer.list:this.displayList&&(d=this.displayList.list),d},destroy:function(d){if(!(!this.scene||this.ignoreDestroy)){this.emit(n.DESTROY,this);for(var v=this.list;v.length;)v[0].destroy(d);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});u.exports=c},2956:u=>{var m=function(t,a,p){var o=a.list;if(o.length!==0){a.depthSort();var s=a.blendMode!==-1;s||t.setBlendMode(0);var r=a._alpha;a.mask&&a.mask.preRenderCanvas(t,null,p);for(var e=0;e<o.length;e++){var n=o[e];if(n.willRender(p)){var l=n.alpha;!s&&n.blendMode!==t.currentBlendMode&&t.setBlendMode(n.blendMode),n.setAlpha(l*r),n.renderCanvas(t,n,p),n.setAlpha(l)}}a.mask&&a.mask.postRenderCanvas(t)}};u.exports=m},25179:(u,m,t)=>{var a=t(25305),p=t(93595),o=t(44603),s=t(23568);o.register("layer",function(r,e){r===void 0&&(r={});var n=s(r,"children",null),l=new p(this.scene,n);return e!==void 0&&(r.add=e),a(this.scene,l,r),l})},20005:(u,m,t)=>{var a=t(93595),p=t(39429);p.register("layer",function(o){return this.displayList.add(new a(this.scene,o))})},33963:(u,m,t)=>{var a=t(29747),p=a,o=a;p=t(15869),o=t(2956),u.exports={renderWebGL:p,renderCanvas:o}},15869:u=>{var m=function(t,a,p){var o=a.list,s=o.length;if(s!==0){a.depthSort(),t.pipelines.preBatch(a);var r=a.blendMode!==-1;r||t.setBlendMode(0);for(var e=a.alpha,n=0;n<s;n++){var l=o[n];if(l.willRender(p)){var i,h,f,c;if(l.alphaTopLeft!==void 0)i=l.alphaTopLeft,h=l.alphaTopRight,f=l.alphaBottomLeft,c=l.alphaBottomRight;else{var d=l.alpha;i=d,h=d,f=d,c=d}!r&&l.blendMode!==t.currentBlendMode&&t.setBlendMode(l.blendMode);var v=l.mask;v&&v.preRenderWebGL(t,l,p);var g=l.type;g!==t.currentType&&(t.newType=!0,t.currentType=g),t.nextTypeMatch=n<s-1?o[n+1].type===t.currentType:!1,l.setAlpha(i*e,h*e,f*e,c*e),l.renderWebGL(t,l,p),l.setAlpha(i,h,f,c),v&&v.postRenderWebGL(t,p),t.newType=!1}}t.pipelines.postBatch(a)}};u.exports=m},41432:(u,m,t)=>{var a=t(96503),p=t(83419),o=t(31401),s=t(51767),r=t(70554),e=new p({Extends:a,Mixins:[o.Origin,o.ScrollFactor,o.Visible],initialize:function(l,i,h,f,c,d,v){a.call(this,l,i,h),this.color=new s(f,c,d),this.intensity=v,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(h)},displayWidth:{get:function(){return this.diameter},set:function(n){this.diameter=n}},displayHeight:{get:function(){return this.diameter},set:function(n){this.diameter=n}},width:{get:function(){return this.diameter},set:function(n){this.diameter=n}},height:{get:function(){return this.diameter},set:function(n){this.diameter=n}},willRender:function(n){return!(e.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&n.id)},setColor:function(n){var l=r.getFloatsFromUintRGB(n);return this.color.set(l[0],l[1],l[2]),this},setIntensity:function(n){return this.intensity=n,this},setRadius:function(n){return this.radius=n,this}});e.RENDER_MASK=15,u.exports=e},61356:(u,m,t)=>{var a=t(81491),p=t(83419),o=t(20339),s=t(41432),r=t(80321),e=t(51767),n=t(19133),l=t(19186),i=t(70554),h=new p({initialize:function(){this.lights=[],this.ambientColor=new e(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(f,c,d,v,g,y){return this.systems.displayList.add(new r(this.scene,f,c,d,v,g,y))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(f){for(var c=this.lights,d=f.worldView,v=[],g=0;g<c.length;g++){var y=c[g];y.willRender(f)&&a(y,d)&&v.push({light:y,distance:o(y.x,y.y,d.centerX,d.centerY)})}return v.length>this.maxLights&&(l(v,this.sortByDistance),v=v.slice(0,this.maxLights)),this.visibleLights=v.length,v},sortByDistance:function(f,c){return f.distance>=c.distance},setAmbientColor:function(f){var c=i.getFloatsFromUintRGB(f);return this.ambientColor.set(c[0],c[1],c[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(f,c,d,v,g){f===void 0&&(f=0),c===void 0&&(c=0),d===void 0&&(d=128),v===void 0&&(v=16777215),g===void 0&&(g=1);var y=i.getFloatsFromUintRGB(v),x=new s(f,c,d,y[0],y[1],y[2],g);return this.lights.push(x),x},removeLight:function(f){var c=this.lights.indexOf(f);return c>=0&&n(this.lights,c),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});u.exports=h},88992:(u,m,t)=>{var a=t(83419),p=t(61356),o=t(37277),s=t(44594),r=new a({Extends:p,initialize:function(n){this.scene=n,this.systems=n.sys,n.sys.settings.isBooted||n.sys.events.once(s.BOOT,this.boot,this),p.call(this)},boot:function(){var e=this.systems.events;e.on(s.SHUTDOWN,this.shutdown,this),e.on(s.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});o.register("LightsPlugin",r,"lights"),u.exports=r},4703:(u,m,t)=>{var a=t(83419),p=t(31401),o=t(39506),s=t(83997),r=t(95643),e=t(34684),n=t(92515),l=t(91296),i=t(37867),h=t(29807),f=t(43396),c=t(19186),d=t(25836),v=t(39318),g=new a({Extends:r,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.Mask,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Size,p.Texture,p.Transform,p.Visible,h],initialize:function(x,T,S,A,P,D,R,L,I,w,B,b){T===void 0&&(T=0),S===void 0&&(S=0),A===void 0&&(A="__WHITE"),r.call(this,x,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new d,this.modelScale=new d(1,1,1),this.modelRotation=new d,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new i,this.viewPosition=new d,this.viewMatrix=new i,this.projectionMatrix=new i,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var V=x.sys.renderer;this.setPosition(T,S),this.setTexture(A,P),this.setSize(V.width,V.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(V.width,V.height),D&&this.addVertices(D,R,L,I,w,B,b)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(y){return this.viewPosition.addScale(d.LEFT,y),this.dirtyCache[10]=1,this},panY:function(y){return this.viewPosition.y+=d.DOWN.y*y,this.dirtyCache[10]=1,this},panZ:function(y){return this.viewPosition.z+=y,this.dirtyCache[10]=1,this},setPerspective:function(y,x,T,S,A){return T===void 0&&(T=45),S===void 0&&(S=.01),A===void 0&&(A=1e3),this.fov=T,this.projectionMatrix.perspective(o(T),y/x,S,A),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(y,x,T,S){return y===void 0&&(y=this.scene.sys.renderer.getAspectRatio()),x===void 0&&(x=1),T===void 0&&(T=-1e3),S===void 0&&(S=1e3),this.fov=0,this.projectionMatrix.ortho(-y,y,-x,x,T,S),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(y){y.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(y,x,T,S,A,P,D,R,L){var I=this.scene.sys.cache.obj.get(y),w;return I&&(w=e(I,this,x,T,S,A,P,D,R,L)),(!w||w.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",y),this},sortByDepth:function(y,x){return y.depth-x.depth},depthSort:function(){return c(this.faces,this.sortByDepth),this},addVertex:function(y,x,T,S,A,P,D){var R=new v(y,x,T,S,A,P,D);return this.vertices.push(R),R},addFace:function(y,x,T){var S=new s(y,x,T);return this.faces.push(S),this.dirtyCache[9]=-1,S},addVertices:function(y,x,T,S,A,P,D){var R=n(y,x,T,S,A,P,D);return R?(this.faces=this.faces.concat(R.faces),this.vertices=this.vertices.concat(R.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(y){return this.faces[y]},hasFaceAt:function(y,x,T){T===void 0&&(T=this.scene.sys.cameras.main);for(var S=l(this,T).calc,A=this.faces,P=0;P<A.length;P++){var D=A[P];if(D.contains(y,x,S))return!0}return!1},getFaceAt:function(y,x,T){T===void 0&&(T=this.scene.sys.cameras.main);for(var S=l(this,T).calc,A=this.faces,P=[],D=0;D<A.length;D++){var R=A[D];R.contains(y,x,S)&&P.push(R)}return c(P,this.sortByDepth)},setDebug:function(y,x){return this.debugGraphic=y,!y&&!x?this.debugCallback=null:x?this.debugCallback=x:this.debugCallback=this.renderDebug,this},isDirty:function(){var y=this.modelPosition,x=this.modelRotation,T=this.modelScale,S=this.dirtyCache,A=y.x,P=y.y,D=y.z,R=x.x,L=x.y,I=x.z,w=T.x,B=T.y,b=T.z,V=this.getFaceCount(),X=S[0],G=S[1],U=S[2],O=S[3],z=S[4],N=S[5],Y=S[6],W=S[7],H=S[8],$=S[9];return S[0]=A,S[1]=P,S[2]=D,S[3]=R,S[4]=L,S[5]=I,S[6]=w,S[7]=B,S[8]=b,S[9]=V,X!==A||G!==P||U!==D||O!==R||z!==L||N!==I||Y!==w||W!==B||H!==b||$!==V},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var y=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!y[10]&&!this.isDirty())){var x=this.width,T=this.height,S=this.viewMatrix,A=this.viewPosition;y[10]&&(S.identity(),S.translate(A),S.invert(),y[10]=0);var P=this.transformMatrix;P.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var D=A.z,R=this.faces,L=0;L<R.length;L++)R[L].transformCoordinatesLocal(P,x,T,D);this.depthSort()}},renderDebug:function(y,x){for(var T=y.debugGraphic,S=0;S<x.length;S++){var A=x[S],P=A.vertex1.tx,D=A.vertex1.ty,R=A.vertex2.tx,L=A.vertex2.ty,I=A.vertex3.tx,w=A.vertex3.ty;T.strokeTriangle(P,D,R,L,I,w)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(y){y===void 0&&(y={});var x=(function(T,S,A){for(var P=this.faces,D=0;D<P.length;D++){var R=P[D];if(R.contains(S,A))return!0}return!1}).bind(this);return this.scene.sys.input.enable(this,y,x),this},setTint:function(y){y===void 0&&(y=16777215);for(var x=this.vertices,T=0;T<x.length;T++)x[T].color=y;return this},uvScroll:function(y,x){for(var T=this.faces,S=0;S<T.length;S++)T[S].scrollUV(y,x);return this},uvScale:function(y,x){for(var T=this.faces,S=0;S<T.length;S++)T[S].scaleUV(y,x);return this},tint:{set:function(y){this.setTint(y)}},rotateX:{get:function(){return f(this.modelRotation.x)},set:function(y){this.modelRotation.x=o(y)}},rotateY:{get:function(){return f(this.modelRotation.y)},set:function(y){this.modelRotation.y=o(y)}},rotateZ:{get:function(){return f(this.modelRotation.z)},set:function(y){this.modelRotation.z=o(y)}}});u.exports=g},36488:u=>{var m=function(){};u.exports=m},20527:(u,m,t)=>{var a=t(25305),p=t(44603),o=t(23568),s=t(35154),r=t(4703);p.register("mesh",function(e,n){e===void 0&&(e={});var l=o(e,"key",null),i=o(e,"frame",null),h=s(e,"vertices",[]),f=s(e,"uvs",[]),c=s(e,"indicies",[]),d=s(e,"containsZ",!1),v=s(e,"normals",[]),g=s(e,"colors",16777215),y=s(e,"alphas",1),x=new r(this.scene,0,0,l,i,h,f,c,d,v,g,y);return n!==void 0&&(e.add=n),a(this.scene,x,e),x})},9225:(u,m,t)=>{var a=t(4703),p=t(39429);p.register("mesh",function(o,s,r,e,n,l,i,h,f,c,d){return this.displayList.add(new a(this.scene,o,s,r,e,n,l,i,h,f,c,d))})},29807:(u,m,t)=>{var a=t(29747),p=a,o=a;p=t(48833),o=t(36488),u.exports={renderWebGL:p,renderCanvas:o}},48833:(u,m,t)=>{var a=t(91296),p=function(o,s,r,e){var n=s.faces,l=n.length;if(l!==0){r.addToRenderList(s);var i=o.pipelines.set(s.pipeline,s),h=a(s,r,e).calc;o.pipelines.preBatch(s);for(var f=i.setGameObject(s),c=i.vertexViewF32,d=i.vertexViewU32,v=i.vertexCount*i.currentShader.vertexComponentCount-1,g=s.tintFill,y=[],x=s.debugCallback,T=h.a,S=h.b,A=h.c,P=h.d,D=h.e,R=h.f,L=s.viewPosition.z,I=s.hideCCW,w=r.roundPixels,B=r.alpha*s.alpha,b=0,V=0;V<l;V++){var X=n[V];X.isInView(r,I,L,B,T,S,A,P,D,R,w)&&(i.shouldFlush(3)&&(i.flush(),f=i.setGameObject(s),v=i.vertexCount*i.currentShader.vertexComponentCount-1),v=X.load(c,d,v,f,g),b++,i.vertexCount+=3,i.currentBatch.count=i.vertexCount-i.currentBatch.start,x&&y.push(X))}s.totalFrame+=b,x&&x.call(s,s,y),o.pipelines.postBatch(s)}};u.exports=p},28103:(u,m,t)=>{var a=t(83419),p=t(31401),o=t(95643),s=t(78023),r=t(39318),e=new a({Extends:o,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.GetBounds,p.Mask,p.Origin,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Texture,p.Transform,p.Visible,s],initialize:function(l,i,h,f,c,d,v,g,y,x,T){o.call(this,l,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var S=l.textures.getFrame(f,c);this.is3Slice=!x&&!T,S&&S.scale9&&(this.is3Slice=S.is3Slice);for(var A=this.is3Slice?18:54,P=0;P<A;P++)this.vertices.push(new r);this.setPosition(i,h),this.setTexture(f,c),this.setSlices(d,v,g,y,x,T,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(n,l,i,h,f,c,d){i===void 0&&(i=10),h===void 0&&(h=10),f===void 0&&(f=0),c===void 0&&(c=0),d===void 0&&(d=!1);var v=this.frame,g=!1;if(this.is3Slice&&d&&f!==0&&c!==0&&(g=!0),g)console.warn("Cannot change 9 slice to 3 slice");else{if(v&&v.scale9&&!d){var y=v.data.scale9Borders,x=y.x,T=y.y;i=x,h=v.width-y.w-x,f=T,c=v.height-y.h-T,n===void 0&&(n=v.width),l===void 0&&(l=v.height)}else n===void 0&&(n=256),l===void 0&&(l=256);this._width=n,this._height=l,this.leftWidth=i,this.rightWidth=h,this.topHeight=f,this.bottomHeight=c,this.is3Slice&&(l=v.height,this._height=l,this.topHeight=l,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var n=this.leftWidth,l=this.rightWidth,i=this.topHeight,h=this.bottomHeight,f=this.frame.width,c=this.frame.height;this.updateQuadUVs(0,0,0,n/f,i/c),this.updateQuadUVs(6,n/f,0,1-l/f,i/c),this.updateQuadUVs(12,1-l/f,0,1,i/c),this.is3Slice||(this.updateQuadUVs(18,0,i/c,n/f,1-h/c),this.updateQuadUVs(24,n/f,i/c,1-l/f,1-h/c),this.updateQuadUVs(30,1-l/f,i/c,1,1-h/c),this.updateQuadUVs(36,0,1-h/c,n/f,1),this.updateQuadUVs(42,n/f,1-h/c,1-l/f,1),this.updateQuadUVs(48,1-l/f,1-h/c,1,1))},updateVertices:function(){var n=this.leftWidth,l=this.rightWidth,i=this.topHeight,h=this.bottomHeight,f=this.width,c=this.height;this.updateQuad(0,-.5,.5,-.5+n/f,.5-i/c),this.updateQuad(6,-.5+n/f,.5,.5-l/f,.5-i/c),this.updateQuad(12,.5-l/f,.5,.5,.5-i/c),this.is3Slice||(this.updateQuad(18,-.5,.5-i/c,-.5+n/f,-.5+h/c),this.updateQuad(24,-.5+n/f,.5-i/c,.5-l/f,-.5+h/c),this.updateQuad(30,.5-l/f,.5-i/c,.5,-.5+h/c),this.updateQuad(36,-.5,-.5+h/c,-.5+n/f,-.5),this.updateQuad(42,-.5+n/f,-.5+h/c,.5-l/f,-.5),this.updateQuad(48,.5-l/f,-.5+h/c,.5,-.5))},updateQuad:function(n,l,i,h,f){var c=this.width,d=this.height,v=this.originX,g=this.originY,y=this.vertices;y[n+0].resize(l,i,c,d,v,g),y[n+1].resize(l,f,c,d,v,g),y[n+2].resize(h,i,c,d,v,g),y[n+3].resize(l,f,c,d,v,g),y[n+4].resize(h,f,c,d,v,g),y[n+5].resize(h,i,c,d,v,g)},updateQuadUVs:function(n,l,i,h,f){var c=this.vertices,d=this.frame,v=d.u0,g=d.v0,y=d.u1,x=d.v1;if(v!==0||y!==1){var T=y-v;l=v+l*T,h=v+h*T}if(g!==0||x!==1){var S=x-g;i=g+i*S,f=g+f*S}c[n+0].setUVs(l,i),c[n+1].setUVs(l,f),c[n+2].setUVs(h,i),c[n+3].setUVs(l,f),c[n+4].setUVs(h,f),c[n+5].setUVs(h,i)},clearTint:function(){return this.setTint(16777215),this},setTint:function(n){return n===void 0&&(n=16777215),this.tint=n,this.tintFill=!1,this},setTintFill:function(n){return this.setTint(n),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(n){this._width=Math.max(n,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(n){this.is3Slice||(this._height=Math.max(n,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(n){this.scaleX=n/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(n){this.scaleY=n/this.height}},setSize:function(n,l){this.width=n,this.height=l,this.updateDisplayOrigin();var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=this.width,i.hitArea.height=this.height),this},setDisplaySize:function(n,l){return this.displayWidth=n,this.displayHeight=l,this},originX:{get:function(){return this._originX},set:function(n){this._originX=n,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(n){this._originY=n,this.updateVertices()}},setOrigin:function(n,l){return n===void 0&&(n=.5),l===void 0&&(l=n),this._originX=n,this._originY=l,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var n=this.frame.height;this._height=n,this.topHeight=n,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});u.exports=e},28279:(u,m,t)=>{var a=t(25305),p=t(44603),o=t(23568),s=t(35154),r=t(28103);p.register("nineslice",function(e,n){e===void 0&&(e={});var l=o(e,"key",null),i=o(e,"frame",null),h=s(e,"width",256),f=s(e,"height",256),c=s(e,"leftWidth",10),d=s(e,"rightWidth",10),v=s(e,"topHeight",0),g=s(e,"bottomHeight",0),y=new r(this.scene,0,0,l,i,h,f,c,d,v,g);return n!==void 0&&(e.add=n),a(this.scene,y,e),y})},47521:(u,m,t)=>{var a=t(28103),p=t(39429);p.register("nineslice",function(o,s,r,e,n,l,i,h,f,c){return this.displayList.add(new a(this.scene,o,s,r,e,n,l,i,h,f,c))})},78023:(u,m,t)=>{var a=t(29747),p=a,o=a;p=t(52230),u.exports={renderWebGL:p,renderCanvas:o}},52230:(u,m,t)=>{var a=t(91296),p=t(70554),o=function(s,r,e,n){var l=r.vertices,i=l.length;if(i!==0){e.addToRenderList(r);var h=s.pipelines.set(r.pipeline,r),f=a(r,e,n,!1).calc;s.pipelines.preBatch(r);var c=h.setGameObject(r),d=h.vertexViewF32,v=h.vertexViewU32,g=h.vertexCount*h.currentShader.vertexComponentCount-1,y=e.roundPixels,x=r.tintFill,T=e.alpha*r.alpha,S=p.getTintAppendFloatAlpha(r.tint,T),A=h.vertexAvailable(),P=-1;A<i&&(P=A);for(var D=0;D<i;D++){var R=l[D];D===P&&(h.flush(),c=h.setGameObject(r),g=0),d[++g]=f.getXRound(R.vx,R.vy,y),d[++g]=f.getYRound(R.vx,R.vy,y),d[++g]=R.u,d[++g]=R.v,d[++g]=c,d[++g]=x,v[++g]=S,h.vertexCount++,h.currentBatch.count=h.vertexCount-h.currentBatch.start}s.pipelines.postBatch(r)}};u.exports=o},76472:(u,m,t)=>{var a=t(83419),p=t(44777),o=t(37589),s=t(6113),r=t(91389),e=t(90664),n=new a({Extends:p,initialize:function(i){p.call(this,i,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var l=this.propertyValue,i=l,h=this.defaultEmit,f=this.defaultUpdate;if(this.method===9){this.start=l[0],this.ease=s("Linear"),this.interpolation=r("linear"),h=this.easedValueEmit,f=this.easeValueUpdate,i=l[0],this.active=!0,this.r.length=0,this.g.length=0,this.b.length=0;for(var c=0;c<l.length;c++){var d=e(l[c]);this.r.push(d.r),this.g.push(d.g),this.b.push(d.b)}}return this.onEmit=h,this.onUpdate=f,this.current=i,this},setEase:function(l){this.easeName=l,this.ease=s(l)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(l,i,h){var f=this.ease(h),c=this.interpolation(this.r,f),d=this.interpolation(this.g,f),v=this.interpolation(this.b,f),g=o(c,d,v);return this.current=g,g}});u.exports=n},44777:(u,m,t)=>{var a=t(30976),p=t(45319),o=t(83419),s=t(99472),r=t(6113),e=t(95540),n=t(91389),l=t(77720),i=t(15994),h=new o({initialize:function(c,d,v){v===void 0&&(v=!1),this.propertyKey=c,this.propertyValue=d,this.defaultValue=d,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=v,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(f,c){f===void 0&&(f={}),c&&(this.propertyKey=c),this.propertyValue=e(f,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(f){var c;switch(this.method){case 1:case 3:case 8:c=f;break;case 2:this.propertyValue.indexOf(f)>=0&&(c=f);break;case 4:var d=(this.end-this.start)/this.steps;c=l(f,d),this.counter=c;break;case 5:case 6:case 7:c=p(f,this.start,this.end);break;case 9:c=this.start[0];break}return this.current=c,this},getMethod:function(){var f=this.propertyValue;if(f===null)return 0;var c=typeof f;if(c==="number")return 1;if(Array.isArray(f))return 2;if(c==="function")return 3;if(c==="object"){if(this.hasBoth(f,"start","end"))return this.has(f,"steps")?4:5;if(this.hasBoth(f,"min","max"))return 6;if(this.has(f,"random"))return 7;if(this.hasEither(f,"onEmit","onUpdate"))return 8;if(this.hasEither(f,"values","interpolation"))return 9}return 0},setMethods:function(){var f=this.propertyValue,c=f,d=this.defaultEmit,v=this.defaultUpdate;switch(this.method){case 1:d=this.staticValueEmit;break;case 2:d=this.randomStaticValueEmit,c=f[0];break;case 3:this._onEmit=f,d=this.proxyEmit,c=this.defaultValue;break;case 4:this.start=f.start,this.end=f.end,this.steps=f.steps,this.counter=this.start,this.yoyo=this.has(f,"yoyo")?f.yoyo:!1,this.direction=0,d=this.steppedEmit,c=this.start;break;case 5:this.start=f.start,this.end=f.end;var g=this.has(f,"ease")?f.ease:"Linear";this.ease=r(g,f.easeParams),d=this.has(f,"random")&&f.random?this.randomRangedValueEmit:this.easedValueEmit,v=this.easeValueUpdate,c=this.start;break;case 6:this.start=f.min,this.end=f.max,d=this.has(f,"int")&&f.int?this.randomRangedIntEmit:this.randomRangedValueEmit,c=this.start;break;case 7:var y=f.random;Array.isArray(y)&&(this.start=y[0],this.end=y[1]),d=this.randomRangedIntEmit,c=this.start;break;case 8:this._onEmit=this.has(f,"onEmit")?f.onEmit:this.defaultEmit,this._onUpdate=this.has(f,"onUpdate")?f.onUpdate:this.defaultUpdate,d=this.proxyEmit,v=this.proxyUpdate,c=this.defaultValue;break;case 9:this.start=f.values;var x=this.has(f,"ease")?f.ease:"Linear";this.ease=r(x,f.easeParams),this.interpolation=n(f.interpolation),d=this.easedValueEmit,v=this.easeValueUpdate,c=this.start[0];break}return this.onEmit=d,this.onUpdate=v,this.current=c,this},has:function(f,c){return f.hasOwnProperty(c)},hasBoth:function(f,c,d){return f.hasOwnProperty(c)&&f.hasOwnProperty(d)},hasEither:function(f,c,d){return f.hasOwnProperty(c)||f.hasOwnProperty(d)},defaultEmit:function(){return this.defaultValue},defaultUpdate:function(f,c,d,v){return v},proxyEmit:function(f,c,d){var v=this._onEmit(f,c,d);return this.current=v,v},proxyUpdate:function(f,c,d,v){var g=this._onUpdate(f,c,d,v);return this.current=g,g},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var f=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[f],this.current},randomRangedValueEmit:function(f,c){var d=s(this.start,this.end);return f&&f.data[c]&&(f.data[c].min=d,f.data[c].max=this.end),this.current=d,d},randomRangedIntEmit:function(f,c){var d=a(this.start,this.end);return f&&f.data[c]&&(f.data[c].min=d,f.data[c].max=this.end),this.current=d,d},steppedEmit:function(){var f=this.counter,c=f,d=(this.end-this.start)/this.steps;if(this.yoyo){var v;this.direction===0?(c+=d,c>=this.end&&(v=c-this.end,c=this.end-v,this.direction=1)):(c-=d,c<=this.start&&(v=this.start-c,c=this.start+v,this.direction=0)),this.counter=c}else this.counter=i(c+d,this.start,this.end);return this.current=f,f},easedValueEmit:function(f,c){if(f&&f.data[c]){var d=f.data[c];d.min=this.start,d.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(f,c,d){var v=f.data[c],g,y=this.ease(d);return this.interpolation?g=this.interpolation(this.start,y):g=(v.max-v.min)*y+v.min,this.current=g,g},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});u.exports=h},24502:(u,m,t)=>{var a=t(83419),p=t(95540),o=t(20286),s=new a({Extends:o,initialize:function(e,n,l,i,h){if(typeof e=="object"){var f=e;e=p(f,"x",0),n=p(f,"y",0),l=p(f,"power",0),i=p(f,"epsilon",100),h=p(f,"gravity",50)}else e===void 0&&(e=0),n===void 0&&(n=0),l===void 0&&(l=0),i===void 0&&(i=100),h===void 0&&(h=50);o.call(this,e,n,!0),this._gravity=h,this._power=l*h,this._epsilon=i*i},update:function(r,e){var n=this.x-r.x,l=this.y-r.y,i=n*n+l*l;if(i!==0){var h=Math.sqrt(i);i<this._epsilon&&(i=this._epsilon);var f=this._power*e/(i*h)*100;r.velocityX+=n*f,r.velocityY+=l*f}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(r){this._epsilon=r*r}},power:{get:function(){return this._power/this._gravity},set:function(r){this._power=r*this._gravity}},gravity:{get:function(){return this._gravity},set:function(r){var e=this.power;this._gravity=r,this.power=e}}});u.exports=s},56480:(u,m,t)=>{var a=t(9674),p=t(45319),o=t(83419),s=t(39506),r=t(87841),e=t(11520),n=t(26099),l=new o({initialize:function(h){this.emitter=h,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new n,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=h.scene,this.anims=null,this.emitter.anims.length>0&&(this.anims=new a(this)),this.bounds=new r},emit:function(i,h,f,c,d,v){return this.emitter.emit(i,h,f,c,d,v)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(i,h){i===void 0&&(i=0),h===void 0&&(h=0),this.x=i,this.y=h},fire:function(i,h){var f=this.emitter,c=f.ops,d=f.getAnim();if(d?this.anims.play(d):(this.frame=f.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(f.getEmitZone(this),i===void 0?this.x+=c.x.onEmit(this,"x"):c.x.steps>0?this.x+=i+c.x.onEmit(this,"x"):this.x+=i,h===void 0?this.y+=c.y.onEmit(this,"y"):c.y.steps>0?this.y+=h+c.y.onEmit(this,"y"):this.y+=h,this.life=c.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=c.delay.onEmit(this,"delay"),this.holdCurrent=c.hold.onEmit(this,"hold"),this.scaleX=c.scaleX.onEmit(this,"scaleX"),this.scaleY=c.scaleY.active?c.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=c.rotate.onEmit(this,"rotate"),this.rotation=s(this.angle),f.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&f.getDeathZone(this))return this.lifeCurrent=0,!1;var v=c.speedX.onEmit(this,"speedX"),g=c.speedY.active?c.speedY.onEmit(this,"speedY"):v;if(f.radial){var y=s(c.angle.onEmit(this,"angle"));this.velocityX=Math.cos(y)*Math.abs(v),this.velocityY=Math.sin(y)*Math.abs(g)}else if(f.moveTo){var x=c.moveToX.onEmit(this,"moveToX"),T=c.moveToY.onEmit(this,"moveToY"),S=this.life/1e3;this.velocityX=(x-this.x)/S,this.velocityY=(T-this.y)/S}else this.velocityX=v,this.velocityY=g;return f.acceleration&&(this.accelerationX=c.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=c.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=c.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=c.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=c.bounce.onEmit(this,"bounce"),this.alpha=c.alpha.onEmit(this,"alpha"),c.color.active?this.tint=c.color.onEmit(this,"tint"):this.tint=c.tint.onEmit(this,"tint"),!0},update:function(i,h,f){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=i,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=i,!1;this.anims&&this.anims.update(0,i);var c=this.emitter,d=c.ops,v=1-this.lifeCurrent/this.life;if(this.lifeT=v,this.x=d.x.onUpdate(this,"x",v,this.x),this.y=d.y.onUpdate(this,"y",v,this.y),c.moveTo){var g=d.moveToX.onUpdate(this,"moveToX",v,c.moveToX),y=d.moveToY.onUpdate(this,"moveToY",v,c.moveToY),x=this.lifeCurrent/1e3;this.velocityX=(g-this.x)/x,this.velocityY=(y-this.y)/x}return this.computeVelocity(c,i,h,f,v),this.scaleX=d.scaleX.onUpdate(this,"scaleX",v,this.scaleX),d.scaleY.active?this.scaleY=d.scaleY.onUpdate(this,"scaleY",v,this.scaleY):this.scaleY=this.scaleX,this.angle=d.rotate.onUpdate(this,"rotate",v,this.angle),this.rotation=s(this.angle),c.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=p(d.alpha.onUpdate(this,"alpha",v,this.alpha),0,1),d.color.active?this.tint=d.color.onUpdate(this,"color",v,this.tint):this.tint=d.tint.onUpdate(this,"tint",v,this.tint),this.lifeCurrent-=i,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(i,h,f,c,d){var v=i.ops,g=this.velocityX,y=this.velocityY,x=v.accelerationX.onUpdate(this,"accelerationX",d,this.accelerationX),T=v.accelerationY.onUpdate(this,"accelerationY",d,this.accelerationY),S=v.maxVelocityX.onUpdate(this,"maxVelocityX",d,this.maxVelocityX),A=v.maxVelocityY.onUpdate(this,"maxVelocityY",d,this.maxVelocityY);this.bounce=v.bounce.onUpdate(this,"bounce",d,this.bounce),g+=i.gravityX*f+x*f,y+=i.gravityY*f+T*f,g=p(g,-S,S),y=p(y,-A,A),this.velocityX=g,this.velocityY=y,this.x+=g*f,this.y+=y*f,i.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var P=0;P<c.length;P++){var D=c[P];D.active&&D.update(this,h,f,d)}},setSizeToFrame:function(){},getBounds:function(i){i===void 0&&(i=this.emitter.getWorldTransformMatrix());var h=Math.abs(i.scaleX)*this.scaleX,f=Math.abs(i.scaleY)*this.scaleY,c=this.x,d=this.y,v=this.rotation,g=this.frame.width*h/2,y=this.frame.height*f/2,x=this.bounds,T=new n(c-g,d-y),S=new n(c+g,d-y),A=new n(c-g,d+y),P=new n(c+g,d+y);return v!==0&&(e(T,c,d,v),e(S,c,d,v),e(A,c,d,v),e(P,c,d,v)),i.transformPoint(T.x,T.y,T),i.transformPoint(S.x,S.y,S),i.transformPoint(A.x,A.y,A),i.transformPoint(P.x,P.y,P),x.x=Math.min(T.x,S.x,A.x,P.x),x.y=Math.min(T.y,S.y,A.y,P.y),x.width=Math.max(T.x,S.x,A.x,P.x)-x.x,x.height=Math.max(T.y,S.y,A.y,P.y)-x.y,x},destroy:function(){this.anims&&this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});u.exports=l},69601:(u,m,t)=>{var a=t(83419),p=t(20286),o=t(87841),s=new a({Extends:p,initialize:function(e,n,l,i,h,f,c,d){h===void 0&&(h=!0),f===void 0&&(f=!0),c===void 0&&(c=!0),d===void 0&&(d=!0),p.call(this,e,n,!0),this.bounds=new o(e,n,l,i),this.collideLeft=h,this.collideRight=f,this.collideTop=c,this.collideBottom=d},update:function(r){var e=this.bounds,n=-r.bounce,l=r.worldPosition;l.x<e.x&&this.collideLeft?(r.x+=e.x-l.x,r.velocityX*=n):l.x>e.right&&this.collideRight&&(r.x-=l.x-e.right,r.velocityX*=n),l.y<e.y&&this.collideTop?(r.y+=e.y-l.y,r.velocityY*=n):l.y>e.bottom&&this.collideBottom&&(r.y-=l.y-e.bottom,r.velocityY*=n)}});u.exports=s},31600:(u,m,t)=>{var a=t(83419),p=t(31401),o=t(53774),s=t(43459),r=t(26388),e=t(19909),n=t(76472),l=t(44777),i=t(20696),h=t(95643),f=t(95540),c=t(26546),d=t(24502),v=t(69036),g=t(1985),y=t(97022),x=t(86091),T=t(73162),S=t(20074),A=t(269),P=t(56480),D=t(69601),R=t(68875),L=t(87841),I=t(59996),w=t(72905),B=t(90668),b=t(19186),V=t(61340),X=t(26099),G=t(15994),U=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],O=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],z=new a({Extends:h,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.Mask,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Texture,p.Transform,p.Visible,B],initialize:function(Y,W,H,$,K){h.call(this,Y,"ParticleEmitter"),this.particleClass=P,this.config=null,this.ops={accelerationX:new l("accelerationX",0),accelerationY:new l("accelerationY",0),alpha:new l("alpha",1),angle:new l("angle",{min:0,max:360},!0),bounce:new l("bounce",0),color:new n("color"),delay:new l("delay",0,!0),hold:new l("hold",0,!0),lifespan:new l("lifespan",1e3,!0),maxVelocityX:new l("maxVelocityX",1e4),maxVelocityY:new l("maxVelocityY",1e4),moveToX:new l("moveToX",0),moveToY:new l("moveToY",0),quantity:new l("quantity",1,!0),rotate:new l("rotate",0),scaleX:new l("scaleX",1),scaleY:new l("scaleY",1),speedX:new l("speedX",0,!0),speedY:new l("speedY",0,!0),tint:new l("tint",16777215),x:new l("x",0),y:new l("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new X,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new V,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new T(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(W,H),this.setTexture($),K&&this.setConfig(K)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(N){if(!N)return this;this.config=N;var Y=0,W="",H=this.ops;for(Y=0;Y<O.length;Y++)W=O[Y],H[W].loadConfig(N);for(Y=0;Y<U.length;Y++)W=U[Y],y(N,W)&&(this[W]=f(N,W));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=v(N,["moveToX","moveToY"]),y(N,"speed")&&(H.speedX.loadConfig(N,"speed"),H.speedY.active=!1),(g(N,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),y(N,"scale")&&(H.scaleX.loadConfig(N,"scale"),H.scaleY.active=!1),y(N,"callbackScope")){var $=f(N,"callbackScope",null);this.emitCallbackScope=$,this.deathCallbackScope=$}if(y(N,"emitZone")&&this.addEmitZone(N.emitZone),y(N,"deathZone")&&this.addDeathZone(N.deathZone),y(N,"bounds")){var K=this.addParticleBounds(N.bounds);K.collideLeft=f(N,"collideLeft",!0),K.collideRight=f(N,"collideRight",!0),K.collideTop=f(N,"collideTop",!0),K.collideBottom=f(N,"collideBottom",!0)}return y(N,"followOffset")&&this.followOffset.setFromObject(f(N,"followOffset",0)),y(N,"texture")&&this.setTexture(N.texture),y(N,"frame")?this.setEmitterFrame(N.frame):y(N,"anim")&&this.setAnim(N.anim),y(N,"reserve")&&this.reserve(N.reserve),y(N,"advance")&&this.fastForward(N.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(i.START,this),this},updateConfig:function(N){return N&&(this.config?this.setConfig(A(this.config,N)):this.setConfig(N)),this},toJSON:function(){var N=o(this),Y=0,W="";for(Y=0;Y<U.length;Y++)W=U[Y],N[W]=this[W];var H=this.ops;for(Y=0;Y<O.length;Y++)W=O[Y],H[W]&&(N[W]=H[W].toJSON());return H.speedY.active||(delete N.speedX,N.speed=H.speedX.toJSON()),this.scaleX===this.scaleY&&(delete N.scaleX,delete N.scaleY,N.scale=H.scaleX.toJSON()),N},resetCounters:function(N,Y){var W=this.counters;W.fill(0),W[0]=N,Y&&(W[5]=1)},startFollow:function(N,Y,W,H){return Y===void 0&&(Y=0),W===void 0&&(W=0),H===void 0&&(H=!1),this.follow=N,this.followOffset.set(Y,W),this.trackVisible=H,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var N=this.frames,Y=N.length,W;return Y===1?W=N[0]:this.randomFrame?W=c(N):(W=N[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===Y&&(this.currentFrame=0))),this.texture.get(W)},setEmitterFrame:function(N,Y,W){Y===void 0&&(Y=!0),W===void 0&&(W=1),this.randomFrame=Y,this.frameQuantity=W,this.currentFrame=0;var H=typeof N;if(this.frames.length=0,Array.isArray(N))this.frames=this.frames.concat(N);else if(H==="string"||H==="number")this.frames.push(N);else if(H==="object"){var $=N;N=f($,"frames",null),N&&(this.frames=this.frames.concat(N));var K=f($,"cycle",!1);this.randomFrame=!K,this.frameQuantity=f($,"quantity",W)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var N=this.anims,Y=N.length;if(Y===0)return null;if(Y===1)return N[0];if(this.randomAnim)return c(N);var W=N[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=G(this.currentAnim+1,0,Y)),W},setAnim:function(N,Y,W){Y===void 0&&(Y=!0),W===void 0&&(W=1),this.randomAnim=Y,this.animQuantity=W,this.currentAnim=0;var H=typeof N;if(this.anims.length=0,Array.isArray(N))this.anims=this.anims.concat(N);else if(H==="string")this.anims.push(N);else if(H==="object"){var $=N;N=f($,"anims",null),N&&(this.anims=this.anims.concat(N));var K=f($,"cycle",!1);this.randomAnim=!K,this.animQuantity=f($,"quantity",W)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(N){return N===void 0&&(N=!0),this.radial=N,this},addParticleBounds:function(N,Y,W,H,$,K,Z,J){if(typeof N=="object"){var j=N;N=j.x,Y=j.y,W=y(j,"w")?j.w:j.width,H=y(j,"h")?j.h:j.height}return this.addParticleProcessor(new D(N,Y,W,H,$,K,Z,J))},setParticleSpeed:function(N,Y){return Y===void 0&&(Y=N),this.ops.speedX.onChange(N),N===Y?this.ops.speedY.active=!1:this.ops.speedY.onChange(Y),this.radial=!0,this},setParticleScale:function(N,Y){return N===void 0&&(N=1),Y===void 0&&(Y=N),this.ops.scaleX.onChange(N),this.ops.scaleY.onChange(Y),this},setParticleGravity:function(N,Y){return this.gravityX=N,this.gravityY=Y,this},setParticleAlpha:function(N){return this.ops.alpha.onChange(N),this},setParticleTint:function(N){return this.ops.tint.onChange(N),this},setEmitterAngle:function(N){return this.ops.angle.onChange(N),this},setParticleLifespan:function(N){return this.ops.lifespan.onChange(N),this},setQuantity:function(N){return this.quantity=N,this},setFrequency:function(N,Y){return this.frequency=N,this.flowCounter=N>0?N:0,Y&&(this.quantity=Y),this},addDeathZone:function(N){Array.isArray(N)||(N=[N]);for(var Y,W=[],H=0;H<N.length;H++)if(Y=N[H],Y instanceof r)W.push(Y);else if(typeof Y.contains=="function")Y=new r(Y,!0),W.push(Y);else{var $=f(Y,"type","onEnter"),K=f(Y,"source",null);if(K&&typeof K.contains=="function"){var Z=$==="onEnter";Y=new r(K,Z),W.push(Y)}}return this.deathZones=this.deathZones.concat(W),W},removeDeathZone:function(N){return w(this.deathZones,N),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(N){Array.isArray(N)||(N=[N]);for(var Y,W=[],H=0;H<N.length;H++)if(Y=N[H],Y instanceof R||Y instanceof e)W.push(Y);else{var $=f(Y,"source",null);if($){var K=f(Y,"type","random");if(K==="random"&&typeof $.getRandomPoint=="function")Y=new R($),W.push(Y);else if(K==="edge"&&typeof $.getPoints=="function"){var Z=f(Y,"quantity",1),J=f(Y,"stepRate",0),j=f(Y,"yoyo",!1),Q=f(Y,"seamless",!0),_=f(Y,"total",-1);Y=new e($,Z,J,j,Q,_),W.push(Y)}}}return this.emitZones=this.emitZones.concat(W),W},removeEmitZone:function(N){return w(this.emitZones,N),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(N){var Y=this.emitZones,W=Y.length;if(W!==0){var H=Y[this.zoneIndex];H.getPoint(N),H.total>-1&&(this.zoneTotal++,this.zoneTotal===H.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===W&&(this.zoneIndex=0)))}},getDeathZone:function(N){for(var Y=this.deathZones,W=0;W<Y.length;W++){var H=Y[W];if(H.willKill(N))return this.emit(i.DEATH_ZONE,this,N,H),!0}return!1},setEmitZone:function(N){var Y;return isFinite(N)?Y=N:Y=this.emitZones.indexOf(N),Y>=0&&(this.zoneIndex=Y),this},addParticleProcessor:function(N){return this.processors.exists(N)||(N.emitter&&N.emitter.removeParticleProcessor(N),this.processors.add(N),N.emitter=this),N},removeParticleProcessor:function(N){return this.processors.exists(N)&&(this.processors.remove(N,!0),N.emitter=null),N},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(N){return this.addParticleProcessor(new d(N))},reserve:function(N){var Y=this.dead;if(this.maxParticles>0){var W=this.getParticleCount();W+N>this.maxParticles&&(N=this.maxParticles-(W+N))}for(var H=0;H<N;H++)Y.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(N,Y){return N===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof N=="function"&&(this.emitCallback=N,Y&&(this.emitCallbackScope=Y)),this},onParticleDeath:function(N,Y){return N===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof N=="function"&&(this.deathCallback=N,Y&&(this.deathCallbackScope=Y)),this},killAll:function(){for(var N=this.dead,Y=this.alive;Y.length>0;)N.push(Y.pop());return this},forEachAlive:function(N,Y){for(var W=this.alive,H=W.length,$=0;$<H;$++)N.call(Y,W[$],this);return this},forEachDead:function(N,Y){for(var W=this.dead,H=W.length,$=0;$<H;$++)N.call(Y,W[$],this);return this},start:function(N,Y){return N===void 0&&(N=0),this.emitting||(N>0&&this.fastForward(N),this.emitting=!0,this.resetCounters(this.frequency,!0),Y!==void 0&&(this.duration=Math.abs(Y)),this.emit(i.START,this)),this},stop:function(N){return N===void 0&&(N=!1),this.emitting&&(this.emitting=!1,N&&this.killAll(),this.emit(i.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(N,Y){return N===void 0&&(N=""),Y===void 0&&(Y=this.true),this.sortProperty=N,this.sortOrderAsc=Y,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(N){return this.sortProperty!==""?N=this.depthSortCallback:N=null,this.sortCallback=N,this},depthSort:function(){return b(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(N,Y){var W=this.sortProperty;return this.sortOrderAsc?N[W]-Y[W]:Y[W]-N[W]},flow:function(N,Y,W){return Y===void 0&&(Y=1),this.emitting=!1,this.frequency=N,this.quantity=Y,W!==void 0&&(this.stopAfter=W),this.start()},explode:function(N,Y,W){this.frequency=-1,this.resetCounters(-1,!0);var H=this.emitParticle(N,Y,W);return this.emit(i.EXPLODE,this,H),H},emitParticleAt:function(N,Y,W){return this.emitParticle(W,N,Y)},emitParticle:function(N,Y,W){if(!this.atLimit()){N===void 0&&(N=this.ops.quantity.onEmit());for(var H=this.dead,$=this.stopAfter,K=this.follow?this.follow.x+this.followOffset.x:Y,Z=this.follow?this.follow.y+this.followOffset.y:W,J=0;J<N;J++){var j=H.pop();if(j||(j=new this.particleClass(this)),j.fire(K,Z)?(this.particleBringToTop?this.alive.push(j):this.alive.unshift(j),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,j,this)):this.dead.push(j),$>0&&(this.stopCounter++,this.stopCounter>=$)||this.atLimit())break}return j}},fastForward:function(N,Y){Y===void 0&&(Y=1e3/60);var W=0;for(this.skipping=!0;W<Math.abs(N);)this.preUpdate(0,Y),W+=Y;return this.skipping=!1,this},preUpdate:function(N,Y){Y*=this.timeScale;var W=Y/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var H=this.getProcessors(),$=this.alive,K=this.dead,Z=0,J=[],j=$.length;for(Z=0;Z<j;Z++){var Q=$[Z];Q.update(Y,W,H)&&J.push({index:Z,particle:Q})}if(j=J.length,j>0){var _=this.deathCallback,k=this.deathCallbackScope;for(Z=j-1;Z>=0;Z--){var it=J[Z];$.splice(it.index,1),K.push(it.particle),_&&_.call(k,it.particle),it.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&$.length===0&&(this.completeFlag=0,this.emit(i.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=Y;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=Y,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(N){for(var Y=this.getWorldTransformMatrix(),W=this.alive,H=W.length,$=[],K=0;K<H;K++){var Z=W[K];I(N,Z.getBounds(Y))&&$.push(Z)}return $},getBounds:function(N,Y,W,H){N===void 0&&(N=0),Y===void 0&&(Y=0),W===void 0&&(W=1e3/60),H===void 0&&(H=new L);var $=this.getWorldTransformMatrix(),K,Z,J=this.alive,j=!1;if(H.setTo(0,0,0,0),Y>0){var Q=0;for(this.skipping=!0;Q<Math.abs(Y);){for(this.preUpdate(0,W),K=0;K<J.length;K++)Z=J[K].getBounds($),j?S(H,Z):(j=!0,s(Z,H));Q+=W}this.skipping=!1}else for(K=0;K<J.length;K++)Z=J[K].getBounds($),j?S(H,Z):(j=!0,s(Z,H));return N>0&&x(H,N,N),H},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(N){this.ops.x.onChange(N)}},particleY:{get:function(){return this.ops.y.current},set:function(N){this.ops.y.onChange(N)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(N){this.ops.accelerationX.onChange(N)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(N){this.ops.accelerationY.onChange(N)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(N){this.ops.maxVelocityX.onChange(N)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(N){this.ops.maxVelocityY.onChange(N)}},speed:{get:function(){return this.ops.speedX.current},set:function(N){this.ops.speedX.onChange(N),this.ops.speedY.onChange(N)}},speedX:{get:function(){return this.ops.speedX.current},set:function(N){this.ops.speedX.onChange(N)}},speedY:{get:function(){return this.ops.speedY.current},set:function(N){this.ops.speedY.onChange(N)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(N){this.ops.moveToX.onChange(N)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(N){this.ops.moveToY.onChange(N)}},bounce:{get:function(){return this.ops.bounce.current},set:function(N){this.ops.bounce.onChange(N)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(N){this.ops.scaleX.onChange(N)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(N){this.ops.scaleY.onChange(N)}},particleColor:{get:function(){return this.ops.color.current},set:function(N){this.ops.color.onChange(N)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(N){this.ops.color.setEase(N)}},particleTint:{get:function(){return this.ops.tint.current},set:function(N){this.ops.tint.onChange(N)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(N){this.ops.alpha.onChange(N)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(N){this.ops.lifespan.onChange(N)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(N){this.ops.angle.onChange(N)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(N){this.ops.rotate.onChange(N)}},quantity:{get:function(){return this.ops.quantity.current},set:function(N){this.ops.quantity.onChange(N)}},delay:{get:function(){return this.ops.delay.current},set:function(N){this.ops.delay.onChange(N)}},hold:{get:function(){return this.ops.hold.current},set:function(N){this.ops.hold.onChange(N)}},flowCounter:{get:function(){return this.counters[0]},set:function(N){this.counters[0]=N}},frameCounter:{get:function(){return this.counters[1]},set:function(N){this.counters[1]=N}},animCounter:{get:function(){return this.counters[2]},set:function(N){this.counters[2]=N}},elapsed:{get:function(){return this.counters[3]},set:function(N){this.counters[3]=N}},stopCounter:{get:function(){return this.counters[4]},set:function(N){this.counters[4]=N}},completeFlag:{get:function(){return this.counters[5]},set:function(N){this.counters[5]=N}},zoneIndex:{get:function(){return this.counters[6]},set:function(N){this.counters[6]=N}},zoneTotal:{get:function(){return this.counters[7]},set:function(N){this.counters[7]=N}},currentFrame:{get:function(){return this.counters[8]},set:function(N){this.counters[8]=N}},currentAnim:{get:function(){return this.counters[9]},set:function(N){this.counters[9]=N}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var N,Y=this.ops;for(N=0;N<O.length;N++){var W=O[N];Y[W].destroy()}for(N=0;N<this.alive.length;N++)this.alive[N].destroy();for(N=0;N<this.dead.length;N++)this.dead[N].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});u.exports=z},9871:(u,m,t)=>{var a=t(59996),p=t(61340),o=new p,s=new p,r=new p,e=new p,n=function(l,i,h,f){var c=o,d=s,v=r,g=e;f?(g.loadIdentity(),g.multiply(f),g.translate(i.x,i.y),g.rotate(i.rotation),g.scale(i.scaleX,i.scaleY)):g.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY);var y=l.currentContext,x=h.roundPixels,T=h.alpha,S=i.alpha,A=i.alive,P=A.length,D=i.viewBounds;if(!(!i.visible||P===0||D&&!a(D,h.worldView))){i.sortCallback&&i.depthSort(),h.addToRenderList(i);var R=i.scrollFactorX,L=i.scrollFactorY;y.save(),y.globalCompositeOperation=l.blendModes[i.blendMode];for(var I=0;I<P;I++){var w=A[I],B=w.alpha*S*T;if(!(B<=0||w.scaleX===0||w.scaleY===0)){v.applyITRS(w.x,w.y,w.rotation,w.scaleX,w.scaleY),c.copyFrom(h.matrix),c.multiplyWithOffset(g,-h.scrollX*R,-h.scrollY*L),v.e=w.x,v.f=w.y,c.multiply(v,d);var b=w.frame,V=b.canvasData;if(V.width>0&&V.height>0){var X=-b.halfWidth,G=-b.halfHeight;y.globalAlpha=B,y.save(),d.setToContext(y),x&&(X=Math.round(X),G=Math.round(G)),y.imageSmoothingEnabled=!b.source.scaleMode,y.drawImage(b.source.image,V.x,V.y,V.width,V.height,X,G,V.width,V.height),y.restore()}}}y.restore()}};u.exports=n},92730:(u,m,t)=>{var a=t(25305),p=t(44603),o=t(23568),s=t(95540),r=t(31600);p.register("particles",function(e,n){e===void 0&&(e={});var l=o(e,"key",null),i=s(e,"config",null),h=new r(this.scene,0,0,l);return n!==void 0&&(e.add=n),a(this.scene,h,e),i&&h.setConfig(i),h})},676:(u,m,t)=>{var a=t(39429),p=t(31600);a.register("particles",function(o,s,r,e){return o!==void 0&&typeof o=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new p(this.scene,o,s,r,e))})},90668:(u,m,t)=>{var a=t(29747),p=a,o=a;p=t(21188),o=t(9871),u.exports={renderWebGL:p,renderCanvas:o}},21188:(u,m,t)=>{var a=t(59996),p=t(61340),o=t(70554),s=new p,r=new p,e=new p,n=new p,l=function(i,h,f,c){var d=i.pipelines.set(h.pipeline),v=s,g=r,y=e,x=n;c?(x.loadIdentity(),x.multiply(c),x.translate(h.x,h.y),x.rotate(h.rotation),x.scale(h.scaleX,h.scaleY)):x.applyITRS(h.x,h.y,h.rotation,h.scaleX,h.scaleY);var T=o.getTintAppendFloatAlpha,S=f.alpha,A=h.alpha;i.pipelines.preBatch(h);var P=h.alive,D=P.length,R=h.viewBounds;if(!(D===0||R&&!a(R,f.worldView))){h.sortCallback&&h.depthSort(),f.addToRenderList(h),v.copyFrom(f.matrix),v.multiplyWithOffset(x,-f.scrollX*h.scrollFactorX,-f.scrollY*h.scrollFactorY),i.setBlendMode(h.blendMode),h.mask&&(h.mask.preRenderWebGL(i,h,f),i.pipelines.set(h.pipeline));for(var L=h.tintFill,I,w,B=0;B<D;B++){var b=P[B],V=b.alpha*A*S;if(!(V<=0||b.scaleX===0||b.scaleY===0)){y.applyITRS(b.x,b.y,b.rotation,b.scaleX,b.scaleY),y.e=b.x,y.f=b.y,v.multiply(y,g);var X=b.frame;X.glTexture!==w&&(w=X.glTexture,I=d.setGameObject(h,X));var G=-X.halfWidth,U=-X.halfHeight,O=g.setQuad(G,U,G+X.width,U+X.height),z=T(b.tint,V);d.shouldFlush(6)&&(d.flush(),I=d.setGameObject(h,X)),d.batchQuad(h,O[0],O[1],O[2],O[3],O[4],O[5],O[6],O[7],X.u0,X.v0,X.u1,X.v1,z,z,z,z,L,w,I)}}h.mask&&h.mask.postRenderWebGL(i,f),i.pipelines.postBatch(h)}};u.exports=l},20286:(u,m,t)=>{var a=t(83419),p=new a({initialize:function(s,r,e){s===void 0&&(s=0),r===void 0&&(r=0),e===void 0&&(e=!0),this.emitter,this.x=s,this.y=r,this.active=e},update:function(){},destroy:function(){this.emitter=null}});u.exports=p},9774:u=>{u.exports="complete"},812:u=>{u.exports="deathzone"},30522:u=>{u.exports="explode"},96695:u=>{u.exports="start"},18677:u=>{u.exports="stop"},20696:(u,m,t)=>{u.exports={COMPLETE:t(9774),DEATH_ZONE:t(812),EXPLODE:t(30522),START:t(96695),STOP:t(18677)}},18404:(u,m,t)=>{u.exports={EmitterColorOp:t(76472),EmitterOp:t(44777),Events:t(20696),GravityWell:t(24502),Particle:t(56480),ParticleBounds:t(69601),ParticleEmitter:t(31600),ParticleProcessor:t(20286),Zones:t(21024)}},26388:(u,m,t)=>{var a=t(83419),p=new a({initialize:function(s,r){this.source=s,this.killOnEnter=r},willKill:function(o){var s=o.worldPosition,r=this.source.contains(s.x,s.y);return r&&this.killOnEnter||!r&&!this.killOnEnter}});u.exports=p},19909:(u,m,t)=>{var a=t(83419),p=new a({initialize:function(s,r,e,n,l,i){n===void 0&&(n=!1),l===void 0&&(l=!0),i===void 0&&(i=-1),this.source=s,this.points=[],this.quantity=r,this.stepRate=e,this.yoyo=n,this.counter=-1,this.seamless=l,this._length=0,this._direction=0,this.total=i,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var o=this.points[0],s=this.points[this.points.length-1];o.x===s.x&&o.y===s.y&&this.points.pop()}var r=this._length;return this._length=this.points.length,this._length<r&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(o){return this.source=o,this.updateSource()},getPoint:function(o){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var s=this.points[this.counter];s&&(o.x=s.x,o.y=s.y)}});u.exports=p},68875:(u,m,t)=>{var a=t(83419),p=t(26099),o=new a({initialize:function(r){this.source=r,this._tempVec=new p,this.total=-1},getPoint:function(s){var r=this._tempVec;this.source.getRandomPoint(r),s.x=r.x,s.y=r.y}});u.exports=o},21024:(u,m,t)=>{u.exports={DeathZone:t(26388),EdgeZone:t(19909),RandomZone:t(68875)}},1159:(u,m,t)=>{var a=t(83419),p=t(31401),o=t(68287),s=new a({Extends:o,Mixins:[p.PathFollower],initialize:function(e,n,l,i,h,f){o.call(this,e,l,i,h,f),this.path=n},preUpdate:function(r,e){this.anims.update(r,e),this.pathUpdate(r)}});u.exports=s},90145:(u,m,t)=>{var a=t(39429),p=t(1159);a.register("follower",function(o,s,r,e,n){var l=new p(this.scene,o,s,r,e,n);return this.displayList.add(l),this.updateList.add(l),l})},33663:(u,m,t)=>{var a=t(9674),p=t(83419),o=t(48803),s=t(90664),r=t(4703),e=t(45650),n=new p({Extends:r,initialize:function(i,h,f,c,d,v,g,y){c||(c="__DEFAULT"),r.call(this,i,h,f,c,d),this.type="Plane",this.anims=new a(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(v,g,y),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(l,i,h){l===void 0&&(l=8),i===void 0&&(i=8),h===void 0&&(h=!1);var f=!1;return h&&(f=!0),this.gridWidth=l,this.gridHeight=i,this.isTiled=h,this.clear(),o({mesh:this,widthSegments:l,heightSegments:i,isOrtho:!1,tile:h,flipY:f}),this},setSizeToFrame:function(l){l===void 0&&(l=!0);var i=this.frame;if(this.setPerspective(this.width/i.width,this.height/i.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!l)return this;var h=this.gridWidth,f=this.gridHeight,c=this.vertices,d=i.u0,v=i.u1,g=i.v0,y=i.v1,x,T,S=0;if(this.isTiled)for(g=i.v1,y=i.v0,T=0;T<f;T++)for(x=0;x<h;x++)c[S++].setUVs(d,y),c[S++].setUVs(d,g),c[S++].setUVs(v,y),c[S++].setUVs(d,g),c[S++].setUVs(v,g),c[S++].setUVs(v,y);else{var A=h+1,P=f+1,D=v-d,R=y-g,L=[];for(T=0;T<P;T++)for(x=0;x<A;x++){var I=d+D*(x/h),w=g+R*(T/f);L.push(I,w)}for(T=0;T<f;T++)for(x=0;x<h;x++){var B=(x+A*T)*2,b=(x+A*(T+1))*2,V=(x+1+A*(T+1))*2,X=(x+1+A*T)*2;c[S++].setUVs(L[B],L[B+1]),c[S++].setUVs(L[b],L[b+1]),c[S++].setUVs(L[X],L[X+1]),c[S++].setUVs(L[b],L[b+1]),c[S++].setUVs(L[V],L[V+1]),c[S++].setUVs(L[X],L[X+1])}}return this},setViewHeight:function(l){l===void 0&&(l=this.frame.height);var i=this.fov*(Math.PI/180);this.viewPosition.z=this.height/l/Math.tan(i/2),this.dirtyCache[10]=1},createCheckerboard:function(l,i,h,f,c){l===void 0&&(l=16777215),i===void 0&&(i=255),h===void 0&&(h=255),f===void 0&&(f=255),c===void 0&&(c=128);for(var d=s(l),v=s(i),g=[],y=0;y<16;y++)for(var x=0;x<16;x++)y<8&&x<8||y>7&&x>7?g.push(d.r,d.g,d.b,h):g.push(v.r,v.g,v.b,f);var T=this.scene.sys.textures.addUint8Array(e(),new Uint8Array(g),16,16);return this.removeCheckerboard(),this.setTexture(T),this.setSizeToFrame(),this.setViewHeight(c),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(l,i){return this.anims.play(l,i)},playReverse:function(l,i){return this.anims.playReverse(l,i)},playAfterDelay:function(l,i){return this.anims.playAfterDelay(l,i)},playAfterRepeat:function(l,i){return this.anims.playAfterRepeat(l,i)},stop:function(){return this.anims.stop()},stopAfterDelay:function(l){return this.anims.stopAfterDelay(l)},stopAfterRepeat:function(l){return this.anims.stopAfterRepeat(l)},stopOnFrame:function(l){return this.anims.stopOnFrame(l)},preUpdate:function(l,i){r.prototype.preUpdate.call(this,l,i),this.anims.update(l,i)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});u.exports=n},56015:(u,m,t)=>{var a=t(25305),p=t(13059),o=t(44603),s=t(23568),r=t(35154),e=t(33663);o.register("plane",function(n,l){n===void 0&&(n={});var i=s(n,"key",null),h=s(n,"frame",null),f=r(n,"width",8),c=r(n,"height",8),d=r(n,"tile",!1),v=new e(this.scene,0,0,i,h,f,c,d);l!==void 0&&(n.add=l);var g=r(n,"checkerboard",null);if(g){var y=r(g,"color1",16777215),x=r(g,"color2",255),T=r(g,"alpha1",255),S=r(g,"alpha2",255),A=r(g,"height",128);v.createCheckerboard(y,x,T,S,A)}return a(this.scene,v,n),p(v,n),v})},30985:(u,m,t)=>{var a=t(33663),p=t(39429);p.register("plane",function(o,s,r,e,n,l,i){return this.displayList.add(new a(this.scene,o,s,r,e,n,l,i))})},80321:(u,m,t)=>{var a=t(83419),p=t(31401),o=t(95643),s=t(30100),r=t(36060),e=t(67277),n=new a({Extends:o,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.Mask,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Transform,p.Visible,e],initialize:function(i,h,f,c,d,v,g){c===void 0&&(c=16777215),d===void 0&&(d=128),v===void 0&&(v=1),g===void 0&&(g=.1),o.call(this,i,"PointLight"),this.initPipeline(r.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(h,f),this.color=s(c),this.intensity=v,this.attenuation=g,this.width=d*2,this.height=d*2,this._radius=d},radius:{get:function(){return this._radius},set:function(l){this._radius=l,this.width=l*2,this.height=l*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});u.exports=n},39829:(u,m,t)=>{var a=t(25305),p=t(44603),o=t(23568),s=t(80321);p.register("pointlight",function(r,e){r===void 0&&(r={});var n=o(r,"color",16777215),l=o(r,"radius",128),i=o(r,"intensity",1),h=o(r,"attenuation",.1),f=new s(this.scene,0,0,n,l,i,h);return e!==void 0&&(r.add=e),a(this.scene,f,r),f})},71255:(u,m,t)=>{var a=t(39429),p=t(80321);a.register("pointlight",function(o,s,r,e,n,l){return this.displayList.add(new p(this.scene,o,s,r,e,n,l))})},67277:(u,m,t)=>{var a=t(29747),p=a,o=a;p=t(57787),u.exports={renderWebGL:p,renderCanvas:o}},57787:(u,m,t)=>{var a=t(91296),p=function(o,s,r,e){r.addToRenderList(s);var n=o.pipelines.set(s.pipeline),l=a(s,r,e).calc,i=s.width,h=s.height,f=-s._radius,c=-s._radius,d=f+i,v=c+h,g=l.getX(0,0),y=l.getY(0,0),x=l.getX(f,c),T=l.getY(f,c),S=l.getX(f,v),A=l.getY(f,v),P=l.getX(d,v),D=l.getY(d,v),R=l.getX(d,c),L=l.getY(d,c);o.pipelines.preBatch(s),n.batchPointLight(s,r,x,T,S,A,P,D,R,L,g,y),o.pipelines.postBatch(s)};u.exports=p},591:(u,m,t)=>{var a=t(83419),p=t(81320),o=t(88571),s=new a({Extends:o,initialize:function(e,n,l,i,h,f){n===void 0&&(n=0),l===void 0&&(l=0),i===void 0&&(i=32),h===void 0&&(h=32),f===void 0&&(f=!0);var c=new p(e.sys.textures,"",i,h,f);o.call(this,e,n,l,c),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(r,e){this.width=r,this.height=e,this.updateDisplayOrigin();var n=this.input;return n&&!n.customHitArea&&(n.hitArea.width=r,n.hitArea.height=e),this},resize:function(r,e,n){return this.texture.setSize(r,e,n),this.setSize(this.texture.width,this.texture.height),this},saveTexture:function(r){var e=this.texture;return e.key=r,e.manager.addDynamicTexture(e)&&(this._saved=!0),e},fill:function(r,e,n,l,i,h){return this.texture.fill(r,e,n,l,i,h),this},clear:function(){return this.texture.clear(),this},stamp:function(r,e,n,l,i){return this.texture.stamp(r,e,n,l,i),this},erase:function(r,e,n){return this.texture.erase(r,e,n),this},draw:function(r,e,n,l,i){return this.texture.draw(r,e,n,l,i),this},drawFrame:function(r,e,n,l,i,h){return this.texture.drawFrame(r,e,n,l,i,h),this},repeat:function(r,e,n,l,i,h,f,c,d){return this.texture.repeat(r,e,n,l,i,h,f,c,d),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(r,e,n,l,i){return this.texture.batchDraw(r,e,n,l,i),this},batchDrawFrame:function(r,e,n,l,i,h){return this.texture.batchDrawFrame(r,e,n,l,i,h),this},endDraw:function(r){return this.texture.endDraw(r),this},snapshotArea:function(r,e,n,l,i,h,f){return this.texture.snapshotArea(r,e,n,l,i,h,f),this},snapshot:function(r,e,n){return this.snapshotArea(0,0,this.width,this.height,r,e,n)},snapshotPixel:function(r,e,n){return this.snapshotArea(r,e,1,1,n,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});u.exports=s},34495:(u,m,t)=>{var a=t(25305),p=t(44603),o=t(23568),s=t(591);p.register("renderTexture",function(r,e){r===void 0&&(r={});var n=o(r,"x",0),l=o(r,"y",0),i=o(r,"width",32),h=o(r,"height",32),f=new s(this.scene,n,l,i,h);return e!==void 0&&(r.add=e),a(this.scene,f,r),f})},60505:(u,m,t)=>{var a=t(39429),p=t(591);a.register("renderTexture",function(o,s,r,e){return this.displayList.add(new p(this.scene,o,s,r,e))})},77757:(u,m,t)=>{var a=t(9674),p=t(83419),o=t(31401),s=t(95643),r=t(36060),e=t(38745),n=t(26099),l=new p({Extends:s,Mixins:[o.AlphaSingle,o.BlendMode,o.Depth,o.Flip,o.Mask,o.Pipeline,o.PostPipeline,o.Size,o.Texture,o.Transform,o.Visible,o.ScrollFactor,e],initialize:function(h,f,c,d,v,g,y,x,T){d===void 0&&(d="__DEFAULT"),g===void 0&&(g=2),y===void 0&&(y=!0),s.call(this,h,"Rope"),this.anims=new a(this),this.points=g,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=d==="__DEFAULT",this.dirty=!1,this.horizontal=y,this._flipX=!1,this._flipY=!1,this._perp=new n,this.debugCallback=null,this.debugGraphic=null,this.setTexture(d,v),this.setPosition(f,c),this.setSizeToFrame(),this.initPipeline(r.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(g)&&this.resizeArrays(g.length),this.setPoints(g,x,T),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(i,h){var f=this.anims.currentFrame;this.anims.update(i,h),this.anims.currentFrame!==f&&(this.updateUVs(),this.updateVertices())},play:function(i,h,f){return this.anims.play(i,h,f),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(i,h,f){return i===void 0&&(i=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(i,h,f))},setVertical:function(i,h,f){return i===void 0&&(i=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(i,h,f)):this},setTintFill:function(i){return i===void 0&&(i=!1),this.tintFill=i,this},setAlphas:function(i,h){var f=this.points.length;if(f<1)return this;var c=this.alphas;i===void 0?i=[1]:!Array.isArray(i)&&h===void 0&&(i=[i]);var d,v=0;if(h!==void 0)for(d=0;d<f;d++)v=d*2,c[v]=i,c[v+1]=h;else if(i.length===f)for(d=0;d<f;d++)v=d*2,c[v]=i[d],c[v+1]=i[d];else{var g=i[0];for(d=0;d<f;d++)v=d*2,i.length>v&&(g=i[v]),c[v]=g,i.length>v+1&&(g=i[v+1]),c[v+1]=g}return this},setColors:function(i){var h=this.points.length;if(h<1)return this;var f=this.colors;i===void 0?i=[16777215]:Array.isArray(i)||(i=[i]);var c,d=0;if(i.length===h)for(c=0;c<h;c++)d=c*2,f[d]=i[c],f[d+1]=i[c];else{var v=i[0];for(c=0;c<h;c++)d=c*2,i.length>d&&(v=i[d]),f[d]=v,i.length>d+1&&(v=i[d+1]),f[d+1]=v}return this},setPoints:function(i,h,f){if(i===void 0&&(i=2),typeof i=="number"){var c=i;c<2&&(c=2),i=[];var d,v,g;if(this.horizontal)for(g=-this.frame.halfWidth,v=this.frame.width/(c-1),d=0;d<c;d++)i.push({x:g+d*v,y:0});else for(g=-this.frame.halfHeight,v=this.frame.height/(c-1),d=0;d<c;d++)i.push({x:0,y:g+d*v})}var y=i.length,x=this.points.length;return y<1?(console.warn("Rope: Not enough points given"),this):(y===1&&(i.unshift({x:0,y:0}),y++),x!==y&&this.resizeArrays(y),this.dirty=!0,this.points=i,this.updateUVs(),h!=null&&this.setColors(h),f!=null&&this.setAlphas(f),this)},updateUVs:function(){for(var i=this.uv,h=this.points.length,f=this.frame.u0,c=this.frame.v0,d=this.frame.u1,v=this.frame.v1,g=(d-f)/(h-1),y=(v-c)/(h-1),x=0;x<h;x++){var T=x*4,S,A,P,D;this.horizontal?(this._flipX?(S=d-x*g,P=d-x*g):(S=f+x*g,P=f+x*g),this._flipY?(A=v,D=c):(A=c,D=v)):(this._flipX?(S=f,P=d):(S=d,P=f),this._flipY?(A=v-x*y,D=v-x*y):(A=c+x*y,D=c+x*y)),i[T+0]=S,i[T+1]=A,i[T+2]=P,i[T+3]=D}return this},resizeArrays:function(i){var h=this.colors,f=this.alphas;this.vertices=new Float32Array(i*4),this.uv=new Float32Array(i*4),h=new Uint32Array(i*2),f=new Float32Array(i*2);for(var c=0;c<i*2;c++)h[c]=16777215,f[c]=1;return this.colors=h,this.alphas=f,this.dirty=!0,this},updateVertices:function(){var i=this._perp,h=this.points,f=this.vertices,c=h.length;if(this.dirty=!1,!(c<1)){for(var d,v=h[0],g=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,y=0;y<c;y++){var x=h[y],T=y*4;y<c-1?d=h[y+1]:d=x,i.x=d.y-v.y,i.y=-(d.x-v.x);var S=i.length();i.x/=S,i.y/=S,i.x*=g,i.y*=g,f[T]=x.x+i.x,f[T+1]=x.y+i.y,f[T+2]=x.x-i.x,f[T+3]=x.y-i.y,v=x}return this}},setDebug:function(i,h){return this.debugGraphic=i,!i&&!h?this.debugCallback=null:h?this.debugCallback=h:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(i,h,f){var c=i.debugGraphic,d=f[0],v=f[1],g=f[2],y=f[3];c.lineBetween(d,v,g,y);for(var x=4;x<h;x+=4){var T=f[x+0],S=f[x+1],A=f[x+2],P=f[x+3];c.lineBetween(d,v,T,S),c.lineBetween(g,y,A,P),c.lineBetween(g,y,T,S),c.lineBetween(T,S,A,P),d=T,v=S,g=A,y=P}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(i){return this._flipX=i,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(i){return this._flipY=i,this.updateUVs()}}});u.exports=l},95262:u=>{var m=function(){};u.exports=m},26209:(u,m,t)=>{var a=t(25305),p=t(44603),o=t(23568),s=t(35154),r=t(77757);p.register("rope",function(e,n){e===void 0&&(e={});var l=o(e,"key",null),i=o(e,"frame",null),h=o(e,"horizontal",!0),f=s(e,"points",void 0),c=s(e,"colors",void 0),d=s(e,"alphas",void 0),v=new r(this.scene,0,0,l,i,f,h,c,d);return n!==void 0&&(e.add=n),a(this.scene,v,e),v})},96819:(u,m,t)=>{var a=t(77757),p=t(39429);p.register("rope",function(o,s,r,e,n,l,i,h){return this.displayList.add(new a(this.scene,o,s,r,e,n,l,i,h))})},38745:(u,m,t)=>{var a=t(29747),p=a,o=a;p=t(20439),o=t(95262),u.exports={renderWebGL:p,renderCanvas:o}},20439:(u,m,t)=>{var a=t(91296),p=t(70554),o=function(s,r,e,n){e.addToRenderList(r);var l=s.pipelines.set(r.pipeline,r),i=a(r,e,n).calc,h=r.vertices,f=r.uv,c=r.colors,d=r.alphas,v=r.alpha,g=p.getTintAppendFloatAlpha,y=e.roundPixels,x=h.length,T=Math.floor(x*.5);l.flush(),s.pipelines.preBatch(r);var S=l.setGameObject(r),A=l.vertexViewF32,P=l.vertexViewU32,D=l.vertexCount*l.currentShader.vertexComponentCount-1,R=0,L=r.tintFill;r.dirty&&r.updateVertices();for(var I=r.debugCallback,w=[],B=0;B<x;B+=2){var b=h[B+0],V=h[B+1],X=b*i.a+V*i.c+i.e,G=b*i.b+V*i.d+i.f;y&&(X=Math.round(X),G=Math.round(G)),A[++D]=X,A[++D]=G,A[++D]=f[B+0],A[++D]=f[B+1],A[++D]=S,A[++D]=L,P[++D]=g(c[R],e.alpha*(d[R]*v)),R++,I&&(w[B+0]=X,w[B+1]=G)}I&&I.call(r,r,x,w),l.vertexCount+=T,l.currentBatch.count=l.vertexCount-l.currentBatch.start,s.pipelines.postBatch(r)};u.exports=o},20071:(u,m,t)=>{var a=t(83419),p=t(31401),o=t(95643),s=t(95540),r=t(79291),e=t(61622),n=t(25479),l=t(61340),i=t(95428),h=t(92503),f=new a({Extends:o,Mixins:[p.ComputedSize,p.Depth,p.GetBounds,p.Mask,p.Origin,p.ScrollFactor,p.Transform,p.Visible,n],initialize:function(d,v,g,y,x,T,S,A){g===void 0&&(g=0),y===void 0&&(y=0),x===void 0&&(x=128),T===void 0&&(T=128),o.call(this,d,"Shader"),this.blendMode=-1,this.shader;var P=d.sys.renderer;this.renderer=P,this.gl=P.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=P.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new l,this._tempMatrix2=new l,this._tempMatrix3=new l,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=P.width,this._rendererHeight=P.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(g,y),this.setSize(x,T),this.setOrigin(.5,.5),this.setShader(v,S,A),this.renderer.on(h.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(c){return this.renderToTexture?!0:!(o.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&c.id)},setRenderToTexture:function(c,d){if(d===void 0&&(d=!1),!this.renderToTexture){var v=this.width,g=this.height,y=this.renderer;this.glTexture=y.createTextureFromSource(null,v,g,0),this.framebuffer=y.createFramebuffer(v,g,this.glTexture,!1),this._rendererWidth=v,this._rendererHeight=g,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),c&&(this.texture=this.scene.sys.textures.addGLTexture(c,this.glTexture))}return this.shader&&(y.pipelines.clear(),this.load(),this.flush(),y.pipelines.rebind()),this},setShader:function(c,d,v){if(this.renderer.contextLost)return this._deferSetShader={key:c,textures:d,textureData:v},this;if(d===void 0&&(d=[]),typeof c=="string"){var g=this.scene.sys.cache.shader;if(!g.has(c))return console.warn("Shader missing: "+c),this;this.shader=g.get(c)}else this.shader=c;var y=this.gl,x=this.renderer;this.program&&x.deleteProgram(this.program);var T=x.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);y.uniformMatrix4fv(y.getUniformLocation(T.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),y.uniformMatrix4fv(y.getUniformLocation(T.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),y.uniform2f(y.getUniformLocation(T.webGLProgram,"uResolution"),this.width,this.height),this.program=T;var S=new Date,A={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[S.getFullYear(),S.getMonth(),S.getDate(),S.getHours()*60*60+S.getMinutes()*60+S.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=r(!0,{},this.shader.uniforms,A):this.uniforms=A;for(var P=0;P<4;P++)d[P]&&this.setSampler2D("iChannel"+P,d[P],P,v);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(c){return this.pointer=c,this},projOrtho:function(c,d,v,g){if(this.renderer.contextLost){this._deferProjOrtho={left:c,right:d,bottom:v,top:g};return}var y=-1e3,x=1e3,T=1/(c-d),S=1/(v-g),A=1/(y-x),P=this.projectionMatrix;P[0]=-2*T,P[5]=-2*S,P[10]=2*A,P[12]=(c+d)*T,P[13]=(g+v)*S,P[14]=(x+y)*A;var D=this.program,R=this.gl,L=this.renderer;L.setProgram(D),R.uniformMatrix4fv(R.getUniformLocation(D.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=d,this._rendererHeight=v},initUniforms:function(){var c=this.renderer.glFuncMap,d=this.program;this._textureCount=0;for(var v in this.uniforms){var g=this.uniforms[v],y=g.type,x=c[y];g.uniformLocation=this.renderer.createUniformLocation(d,v),y!=="sampler2D"&&(g.glMatrix=x.matrix,g.glValueLength=x.length,g.glFunc=x.func)}},setSampler2DBuffer:function(c,d,v,g,y,x){y===void 0&&(y=0),x===void 0&&(x={});var T=this.uniforms[c];return T.value=d,x.width=v,x.height=g,T.textureData=x,this._textureCount=y,this.initSampler2D(T),this},setSampler2D:function(c,d,v,g){v===void 0&&(v=0);var y=this.scene.sys.textures;if(y.exists(d)){var x=y.getFrame(d);if(x.glTexture&&x.glTexture.isRenderTexture)return this.setSampler2DBuffer(c,x.glTexture,x.width,x.height,v,g);var T=this.uniforms[c],S=x.source;T.textureKey=d,T.source=S.image,T.value=x.glTexture,S.isGLTexture&&(g||(g={}),g.width=S.width,g.height=S.height),g&&(T.textureData=g),this._textureCount=v,this.initSampler2D(T)}return this},setUniform:function(c,d){return e(this.uniforms,c,d),this},getUniform:function(c){return s(this.uniforms,c,null)},setChannel0:function(c,d){return this.setSampler2D("iChannel0",c,0,d)},setChannel1:function(c,d){return this.setSampler2D("iChannel1",c,1,d)},setChannel2:function(c,d){return this.setSampler2D("iChannel2",c,2,d)},setChannel3:function(c,d){return this.setSampler2D("iChannel3",c,3,d)},initSampler2D:function(c){if(c.value){var d=c.textureData;if(d&&!c.value.isRenderTexture){var v=this.gl,g=c.value,y=v[s(d,"magFilter","linear").toUpperCase()],x=v[s(d,"minFilter","linear").toUpperCase()],T=v[s(d,"wrapS","repeat").toUpperCase()],S=v[s(d,"wrapT","repeat").toUpperCase()],A=v[s(d,"format","rgba").toUpperCase()],P=s(d,"flipY",!1),D=s(d,"width",g.width),R=s(d,"height",g.height),L=s(d,"source",g.pixels);d.repeat&&(T=v.REPEAT,S=v.REPEAT),d.width&&(L=null),g.update(L,D,R,P,T,S,x,y,A)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var c=this.gl,d=this.uniforms,v,g,y,x,T,S=0;for(var A in d)v=d[A],y=v.glFunc,g=v.glValueLength,x=v.uniformLocation,T=v.value,T!==null&&(g===1?v.glMatrix?y.call(c,x.webGLUniformLocation,v.transpose,T):y.call(c,x.webGLUniformLocation,T):g===2?y.call(c,x.webGLUniformLocation,T.x,T.y):g===3?y.call(c,x.webGLUniformLocation,T.x,T.y,T.z):g===4?y.call(c,x.webGLUniformLocation,T.x,T.y,T.z,T.w):v.type==="sampler2D"&&(c.activeTexture(c.TEXTURE0+S),c.bindTexture(c.TEXTURE_2D,T.webGLTexture),c.uniform1i(x.webGLUniformLocation,S),S++))},load:function(c){var d=this.gl,v=this.width,g=this.height,y=this.renderer,x=this.program,T=this.viewMatrix;if(!this.renderToTexture){var S=-this._displayOriginX,A=-this._displayOriginY;T[0]=c[0],T[1]=c[1],T[4]=c[2],T[5]=c[3],T[8]=c[4],T[9]=c[5],T[12]=T[0]*S+T[4]*A,T[13]=T[1]*S+T[5]*A}d.useProgram(x.webGLProgram),d.uniformMatrix4fv(d.getUniformLocation(x.webGLProgram,"uViewMatrix"),!1,T),d.uniformMatrix4fv(d.getUniformLocation(x.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),d.uniform2f(d.getUniformLocation(x.webGLProgram,"uResolution"),this.width,this.height);var P=this.uniforms,D=P.resolution;D.value.x=v,D.value.y=g,P.time.value=y.game.loop.getDuration();var R=this.pointer;if(R){var L=P.mouse,I=R.x/v,w=1-R.y/g;L.value.x=I.toFixed(2),L.value.y=w.toFixed(2)}this.syncUniforms()},flush:function(){var c=this.width,d=this.height,v=this.program,g=this.gl,y=this.vertexBuffer,x=this.renderer,T=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(x.setFramebuffer(this.framebuffer),g.clearColor(0,0,0,0),g.clear(g.COLOR_BUFFER_BIT)),g.bindBuffer(g.ARRAY_BUFFER,y.webGLBuffer);var S=g.getAttribLocation(v.webGLProgram,"inPosition");S!==-1&&(g.enableVertexAttribArray(S),g.vertexAttribPointer(S,2,g.FLOAT,!1,T,0));var A=this.vertexViewF32;A[3]=d,A[4]=c,A[5]=d,A[8]=c,A[9]=d,A[10]=c;var P=6;g.bufferSubData(g.ARRAY_BUFFER,0,this.bytes.subarray(0,P*T)),g.drawArrays(g.TRIANGLES,0,P),this.renderToTexture&&x.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(this._deferSetShader!==null){var c=this._deferSetShader.key,d=this._deferSetShader.textures,v=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(c,d,v)}if(this._deferProjOrtho!==null){var g=this._deferProjOrtho.left,y=this._deferProjOrtho.right,x=this._deferProjOrtho.bottom,T=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(g,y,x,T)}},preDestroy:function(){var c=this.renderer;c.off(h.RESTORE_WEBGL,this.onContextRestored,this),c.deleteProgram(this.program),c.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(c.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),i(this.uniforms,function(d){c.deleteUniformLocation(d.uniformLocation),d.uniformLocation=null})}});u.exports=f},80464:u=>{var m=function(){};u.exports=m},54935:(u,m,t)=>{var a=t(25305),p=t(44603),o=t(23568),s=t(20071);p.register("shader",function(r,e){r===void 0&&(r={});var n=o(r,"key",null),l=o(r,"x",0),i=o(r,"y",0),h=o(r,"width",128),f=o(r,"height",128),c=new s(this.scene,n,l,i,h,f);return e!==void 0&&(r.add=e),a(this.scene,c,r),c})},74177:(u,m,t)=>{var a=t(20071),p=t(39429);p.register("shader",function(o,s,r,e,n,l,i){return this.displayList.add(new a(this.scene,o,s,r,e,n,l,i))})},25479:(u,m,t)=>{var a=t(29747),p=a,o=a;p=t(19257),o=t(80464),u.exports={renderWebGL:p,renderCanvas:o}},19257:(u,m,t)=>{var a=t(91296),p=function(o,s,r,e){if(s.shader){if(r.addToRenderList(s),o.pipelines.clear(),s.renderToTexture)s.load(),s.flush();else{var n=a(s,r,e).calc;(o.width!==s._rendererWidth||o.height!==s._rendererHeight)&&s.projOrtho(0,o.width,o.height,0),s.load(n.matrix),s.flush()}o.pipelines.rebind()}};u.exports=p},10441:(u,m,t)=>{var a=t(70554),p=function(o,s,r,e,n,l){for(var i=a.getTintAppendFloatAlpha(r.fillColor,r.fillAlpha*e),h=r.pathData,f=r.pathIndexes,c=0;c<f.length;c+=3){var d=f[c]*2,v=f[c+1]*2,g=f[c+2]*2,y=h[d+0]-n,x=h[d+1]-l,T=h[v+0]-n,S=h[v+1]-l,A=h[g+0]-n,P=h[g+1]-l,D=s.getX(y,x),R=s.getY(y,x),L=s.getX(T,S),I=s.getY(T,S),w=s.getX(A,P),B=s.getY(A,P);o.batchTri(r,D,R,L,I,w,B,0,0,1,1,i,i,i,2)}};u.exports=p},65960:u=>{var m=function(t,a,p,o){var s=p||a.fillColor,r=o||a.fillAlpha,e=(s&16711680)>>>16,n=(s&65280)>>>8,l=s&255;t.fillStyle="rgba("+e+","+n+","+l+","+r+")"};u.exports=m},75177:u=>{var m=function(t,a,p,o){var s=p||a.strokeColor,r=o||a.strokeAlpha,e=(s&16711680)>>>16,n=(s&65280)>>>8,l=s&255;t.strokeStyle="rgba("+e+","+n+","+l+","+r+")",t.lineWidth=a.lineWidth};u.exports=m},17803:(u,m,t)=>{var a=t(83419),p=t(31401),o=t(95643),s=t(23031),r=new a({Extends:o,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.GetBounds,p.Mask,p.Origin,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Transform,p.Visible],initialize:function(n,l,i){l===void 0&&(l="Shape"),o.call(this,n,l),this.geom=i,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new s,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(e,n){return n===void 0&&(n=1),e===void 0?this.isFilled=!1:(this.fillColor=e,this.fillAlpha=n,this.isFilled=!0),this},setStrokeStyle:function(e,n,l){return l===void 0&&(l=1),e===void 0?this.isStroked=!1:(this.lineWidth=e,this.strokeColor=n,this.strokeAlpha=l,this.isStroked=!0),this},setClosePath:function(e){return this.closePath=e,this},setSize:function(e,n){return this.width=e,this.height=n,this},setDisplaySize:function(e,n){return this.displayWidth=e,this.displayHeight=n,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}}});u.exports=r},34682:(u,m,t)=>{var a=t(70554),p=function(o,s,r,e,n){var l=o.strokeTint,i=a.getTintAppendFloatAlpha(s.strokeColor,s.strokeAlpha*r);l.TL=i,l.TR=i,l.BL=i,l.BR=i;var h=s.pathData,f=h.length-1,c=s.lineWidth,d=c/2,v=h[0]-e,g=h[1]-n;s.closePath||(f-=2);for(var y=2;y<f;y+=2){var x=h[y]-e,T=h[y+1]-n;o.batchLine(v,g,x,T,d,d,c,y-2,s.closePath?y===f-1:!1),v=x,g=T}};u.exports=p},23629:(u,m,t)=>{var a=t(13609),p=t(83419),o=t(39506),s=t(94811),r=t(96503),e=t(36383),n=t(17803),l=new p({Extends:n,Mixins:[a],initialize:function(h,f,c,d,v,g,y,x,T){f===void 0&&(f=0),c===void 0&&(c=0),d===void 0&&(d=128),v===void 0&&(v=0),g===void 0&&(g=360),y===void 0&&(y=!1),n.call(this,h,"Arc",new r(0,0,d)),this._startAngle=v,this._endAngle=g,this._anticlockwise=y,this._iterations=.01,this.setPosition(f,c);var S=this.geom.radius*2;this.setSize(S,S),x!==void 0&&this.setFillStyle(x,T),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(i){this._iterations=i,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(i){this.geom.radius=i;var h=i*2;this.setSize(h,h),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(i){this._startAngle=i,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(i){this._endAngle=i,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(i){this._anticlockwise=i,this.updateData()}},setRadius:function(i){return this.radius=i,this},setIterations:function(i){return i===void 0&&(i=.01),this.iterations=i,this},setStartAngle:function(i,h){return this._startAngle=i,h!==void 0&&(this._anticlockwise=h),this.updateData()},setEndAngle:function(i,h){return this._endAngle=i,h!==void 0&&(this._anticlockwise=h),this.updateData()},updateData:function(){var i=this._iterations,h=i,f=this.geom.radius,c=o(this._startAngle),d=o(this._endAngle),v=this._anticlockwise,g=f,y=f;d-=c,v?d<-e.PI2?d=-e.PI2:d>0&&(d=-e.PI2+d%e.PI2):d>e.PI2?d=e.PI2:d<0&&(d=e.PI2+d%e.PI2);for(var x=[g+Math.cos(c)*f,y+Math.sin(c)*f],T;h<1;)T=d*h+c,x.push(g+Math.cos(T)*f,y+Math.sin(T)*f),h+=i;return T=d+c,x.push(g+Math.cos(T)*f,y+Math.sin(T)*f),x.push(g+Math.cos(c)*f,y+Math.sin(c)*f),this.pathIndexes=s(x),this.pathData=x,this}});u.exports=l},42542:(u,m,t)=>{var a=t(39506),p=t(65960),o=t(75177),s=t(20926),r=function(e,n,l,i){l.addToRenderList(n);var h=e.currentContext;if(s(e,h,n,l,i)){var f=n.radius;h.beginPath(),h.arc(f-n.originX*(f*2),f-n.originY*(f*2),f,a(n._startAngle),a(n._endAngle),n.anticlockwise),n.closePath&&h.closePath(),n.isFilled&&(p(h,n),h.fill()),n.isStroked&&(o(h,n),h.stroke()),h.restore()}};u.exports=r},42563:(u,m,t)=>{var a=t(23629),p=t(39429);p.register("arc",function(o,s,r,e,n,l,i,h){return this.displayList.add(new a(this.scene,o,s,r,e,n,l,i,h))}),p.register("circle",function(o,s,r,e,n){return this.displayList.add(new a(this.scene,o,s,r,0,360,!1,e,n))})},13609:(u,m,t)=>{var a=t(29747),p=a,o=a;p=t(41447),o=t(42542),u.exports={renderWebGL:p,renderCanvas:o}},41447:(u,m,t)=>{var a=t(91296),p=t(10441),o=t(34682),s=function(r,e,n,l){n.addToRenderList(e);var i=r.pipelines.set(e.pipeline),h=a(e,n,l),f=i.calcMatrix.copyFrom(h.calc),c=e._displayOriginX,d=e._displayOriginY,v=n.alpha*e.alpha;r.pipelines.preBatch(e),e.isFilled&&p(i,f,e,v,c,d),e.isStroked&&o(i,e,v,c,d),r.pipelines.postBatch(e)};u.exports=s},89:(u,m,t)=>{var a=t(83419),p=t(33141),o=t(94811),s=t(87841),r=t(17803),e=new a({Extends:r,Mixins:[p],initialize:function(l,i,h,f,c,d){i===void 0&&(i=0),h===void 0&&(h=0),r.call(this,l,"Curve",f),this._smoothness=32,this._curveBounds=new s,this.closePath=!1,this.setPosition(i,h),c!==void 0&&this.setFillStyle(c,d),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(n){this._smoothness=n,this.updateData()}},setSmoothness:function(n){return this._smoothness=n,this.updateData()},updateData:function(){var n=this._curveBounds,l=this._smoothness;this.geom.getBounds(n,l),this.setSize(n.width,n.height),this.updateDisplayOrigin();for(var i=[],h=this.geom.getPoints(l),f=0;f<h.length;f++)i.push(h[f].x,h[f].y);return i.push(h[0].x,h[0].y),this.pathIndexes=o(i),this.pathData=i,this}});u.exports=e},3170:(u,m,t)=>{var a=t(65960),p=t(75177),o=t(20926),s=function(r,e,n,l){n.addToRenderList(e);var i=r.currentContext;if(o(r,i,e,n,l)){var h=e._displayOriginX+e._curveBounds.x,f=e._displayOriginY+e._curveBounds.y,c=e.pathData,d=c.length-1,v=c[0]-h,g=c[1]-f;i.beginPath(),i.moveTo(v,g),e.closePath||(d-=2);for(var y=2;y<d;y+=2){var x=c[y]-h,T=c[y+1]-f;i.lineTo(x,T)}e.closePath&&i.closePath(),e.isFilled&&(a(i,e),i.fill()),e.isStroked&&(p(i,e),i.stroke()),i.restore()}};u.exports=s},40511:(u,m,t)=>{var a=t(39429),p=t(89);a.register("curve",function(o,s,r,e,n){return this.displayList.add(new p(this.scene,o,s,r,e,n))})},33141:(u,m,t)=>{var a=t(29747),p=a,o=a;p=t(53987),o=t(3170),u.exports={renderWebGL:p,renderCanvas:o}},53987:(u,m,t)=>{var a=t(10441),p=t(91296),o=t(34682),s=function(r,e,n,l){n.addToRenderList(e);var i=r.pipelines.set(e.pipeline),h=p(e,n,l),f=i.calcMatrix.copyFrom(h.calc),c=e._displayOriginX+e._curveBounds.x,d=e._displayOriginY+e._curveBounds.y,v=n.alpha*e.alpha;r.pipelines.preBatch(e),e.isFilled&&a(i,f,e,v,c,d),e.isStroked&&o(i,e,v,c,d),r.pipelines.postBatch(e)};u.exports=s},19921:(u,m,t)=>{var a=t(83419),p=t(94811),o=t(54205),s=t(8497),r=t(17803),e=new a({Extends:r,Mixins:[o],initialize:function(l,i,h,f,c,d,v){i===void 0&&(i=0),h===void 0&&(h=0),f===void 0&&(f=128),c===void 0&&(c=128),r.call(this,l,"Ellipse",new s(f/2,c/2,f,c)),this._smoothness=64,this.setPosition(i,h),this.width=f,this.height=c,d!==void 0&&this.setFillStyle(d,v),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(n){this._smoothness=n,this.updateData()}},setSize:function(n,l){return this.width=n,this.height=l,this.geom.setPosition(n/2,l/2),this.geom.setSize(n,l),this.updateDisplayOrigin(),this.updateData()},setSmoothness:function(n){return this._smoothness=n,this.updateData()},updateData:function(){for(var n=[],l=this.geom.getPoints(this._smoothness),i=0;i<l.length;i++)n.push(l[i].x,l[i].y);return n.push(l[0].x,l[0].y),this.pathIndexes=p(n),this.pathData=n,this}});u.exports=e},7930:(u,m,t)=>{var a=t(65960),p=t(75177),o=t(20926),s=function(r,e,n,l){n.addToRenderList(e);var i=r.currentContext;if(o(r,i,e,n,l)){var h=e._displayOriginX,f=e._displayOriginY,c=e.pathData,d=c.length-1,v=c[0]-h,g=c[1]-f;i.beginPath(),i.moveTo(v,g),e.closePath||(d-=2);for(var y=2;y<d;y+=2){var x=c[y]-h,T=c[y+1]-f;i.lineTo(x,T)}i.closePath(),e.isFilled&&(a(i,e),i.fill()),e.isStroked&&(p(i,e),i.stroke()),i.restore()}};u.exports=s},1543:(u,m,t)=>{var a=t(19921),p=t(39429);p.register("ellipse",function(o,s,r,e,n,l){return this.displayList.add(new a(this.scene,o,s,r,e,n,l))})},54205:(u,m,t)=>{var a=t(29747),p=a,o=a;p=t(19467),o=t(7930),u.exports={renderWebGL:p,renderCanvas:o}},19467:(u,m,t)=>{var a=t(10441),p=t(91296),o=t(34682),s=function(r,e,n,l){n.addToRenderList(e);var i=r.pipelines.set(e.pipeline),h=p(e,n,l),f=i.calcMatrix.copyFrom(h.calc),c=e._displayOriginX,d=e._displayOriginY,v=n.alpha*e.alpha;r.pipelines.preBatch(e),e.isFilled&&a(i,f,e,v,c,d),e.isStroked&&o(i,e,v,c,d),r.pipelines.postBatch(e)};u.exports=s},30479:(u,m,t)=>{var a=t(83419),p=t(17803),o=t(26015),s=new a({Extends:p,Mixins:[o],initialize:function(e,n,l,i,h,f,c,d,v,g,y){n===void 0&&(n=0),l===void 0&&(l=0),i===void 0&&(i=128),h===void 0&&(h=128),f===void 0&&(f=32),c===void 0&&(c=32),p.call(this,e,"Grid",null),this.cellWidth=f,this.cellHeight=c,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(n,l),this.setSize(i,h),this.setFillStyle(d,v),g!==void 0&&this.setOutlineStyle(g,y),this.updateDisplayOrigin()},setFillStyle:function(r,e){return e===void 0&&(e=1),r===void 0?this.showCells=!1:(this.fillColor=r,this.fillAlpha=e,this.showCells=!0),this},setAltFillStyle:function(r,e){return e===void 0&&(e=1),r===void 0?this.showAltCells=!1:(this.altFillColor=r,this.altFillAlpha=e,this.showAltCells=!0),this},setOutlineStyle:function(r,e){return e===void 0&&(e=1),r===void 0?this.showOutline=!1:(this.outlineFillColor=r,this.outlineFillAlpha=e,this.showOutline=!0),this}});u.exports=s},49912:(u,m,t)=>{var a=t(65960),p=t(75177),o=t(20926),s=function(r,e,n,l){n.addToRenderList(e);var i=r.currentContext;if(o(r,i,e,n,l)){var h=-e._displayOriginX,f=-e._displayOriginY,c=n.alpha*e.alpha,d=e.width,v=e.height,g=e.cellWidth,y=e.cellHeight,x=Math.ceil(d/g),T=Math.ceil(v/y),S=g,A=y,P=g-(x*g-d),D=y-(T*y-v),R=e.showCells,L=e.showAltCells,I=e.showOutline,w=0,B=0,b=0,V=0,X=0;if(I&&(S--,A--,P===g&&P--,D===y&&D--),R&&e.fillAlpha>0)for(a(i,e),B=0;B<T;B++)for(L&&(b=B%2),w=0;w<x;w++){if(L&&b){b=0;continue}b++,V=w<x-1?S:P,X=B<T-1?A:D,i.fillRect(h+w*g,f+B*y,V,X)}if(L&&e.altFillAlpha>0)for(a(i,e,e.altFillColor,e.altFillAlpha*c),B=0;B<T;B++)for(L&&(b=B%2),w=0;w<x;w++){if(L&&!b){b=1;continue}b=0,V=w<x-1?S:P,X=B<T-1?A:D,i.fillRect(h+w*g,f+B*y,V,X)}if(I&&e.outlineFillAlpha>0){for(p(i,e,e.outlineFillColor,e.outlineFillAlpha*c),w=1;w<x;w++){var G=w*g;i.beginPath(),i.moveTo(G+h,f),i.lineTo(G+h,v+f),i.stroke()}for(B=1;B<T;B++){var U=B*y;i.beginPath(),i.moveTo(h,U+f),i.lineTo(h+d,U+f),i.stroke()}}i.restore()}};u.exports=s},34137:(u,m,t)=>{var a=t(39429),p=t(30479);a.register("grid",function(o,s,r,e,n,l,i,h,f,c){return this.displayList.add(new p(this.scene,o,s,r,e,n,l,i,h,f,c))})},26015:(u,m,t)=>{var a=t(29747),p=a,o=a;p=t(46161),o=t(49912),u.exports={renderWebGL:p,renderCanvas:o}},46161:(u,m,t)=>{var a=t(91296),p=t(70554),o=function(s,r,e,n){e.addToRenderList(r);var l=s.pipelines.set(r.pipeline),i=a(r,e,n),h=l.calcMatrix.copyFrom(i.calc);h.translate(-r._displayOriginX,-r._displayOriginY);var f=e.alpha*r.alpha,c=r.width,d=r.height,v=r.cellWidth,g=r.cellHeight,y=Math.ceil(c/v),x=Math.ceil(d/g),T=v,S=g,A=v-(y*v-c),P=g-(x*g-d),D,R,L=r.showCells,I=r.showAltCells,w=r.showOutline,B=0,b=0,V=0,X=0,G=0;if(w&&(T--,S--,A===v&&A--,P===g&&P--),s.pipelines.preBatch(r),L&&r.fillAlpha>0)for(D=l.fillTint,R=p.getTintAppendFloatAlpha(r.fillColor,r.fillAlpha*f),D.TL=R,D.TR=R,D.BL=R,D.BR=R,b=0;b<x;b++)for(I&&(V=b%2),B=0;B<y;B++){if(I&&V){V=0;continue}V++,X=B<y-1?T:A,G=b<x-1?S:P,l.batchFillRect(B*v,b*g,X,G)}if(I&&r.altFillAlpha>0)for(D=l.fillTint,R=p.getTintAppendFloatAlpha(r.altFillColor,r.altFillAlpha*f),D.TL=R,D.TR=R,D.BL=R,D.BR=R,b=0;b<x;b++)for(I&&(V=b%2),B=0;B<y;B++){if(I&&!V){V=1;continue}V=0,X=B<y-1?T:A,G=b<x-1?S:P,l.batchFillRect(B*v,b*g,X,G)}if(w&&r.outlineFillAlpha>0){var U=l.strokeTint,O=p.getTintAppendFloatAlpha(r.outlineFillColor,r.outlineFillAlpha*f);for(U.TL=O,U.TR=O,U.BL=O,U.BR=O,B=1;B<y;B++){var z=B*v;l.batchLine(z,0,z,d,r.lineWidth,r.lineWidth,1,0,!1)}for(b=1;b<x;b++){var N=b*g;l.batchLine(0,N,c,N,r.lineWidth,r.lineWidth,1,0,!1)}}s.pipelines.postBatch(r)};u.exports=o},61475:(u,m,t)=>{var a=t(99651),p=t(83419),o=t(17803),s=new p({Extends:o,Mixins:[a],initialize:function(e,n,l,i,h,f,c,d){n===void 0&&(n=0),l===void 0&&(l=0),i===void 0&&(i=48),h===void 0&&(h=32),f===void 0&&(f=15658734),c===void 0&&(c=10066329),d===void 0&&(d=13421772),o.call(this,e,"IsoBox",null),this.projection=4,this.fillTop=f,this.fillLeft=c,this.fillRight=d,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(n,l),this.setSize(i,h),this.updateDisplayOrigin()},setProjection:function(r){return this.projection=r,this},setFaces:function(r,e,n){return r===void 0&&(r=!0),e===void 0&&(e=!0),n===void 0&&(n=!0),this.showTop=r,this.showLeft=e,this.showRight=n,this},setFillStyle:function(r,e,n){return this.fillTop=r,this.fillLeft=e,this.fillRight=n,this.isFilled=!0,this}});u.exports=s},11508:(u,m,t)=>{var a=t(65960),p=t(20926),o=function(s,r,e,n){e.addToRenderList(r);var l=s.currentContext;if(p(s,l,r,e,n)&&r.isFilled){var i=r.width,h=r.height,f=i/2,c=i/r.projection;r.showTop&&(a(l,r,r.fillTop),l.beginPath(),l.moveTo(-f,-h),l.lineTo(0,-c-h),l.lineTo(f,-h),l.lineTo(f,-1),l.lineTo(0,c-1),l.lineTo(-f,-1),l.lineTo(-f,-h),l.fill()),r.showLeft&&(a(l,r,r.fillLeft),l.beginPath(),l.moveTo(-f,0),l.lineTo(0,c),l.lineTo(0,c-h),l.lineTo(-f,-h),l.lineTo(-f,0),l.fill()),r.showRight&&(a(l,r,r.fillRight),l.beginPath(),l.moveTo(f,0),l.lineTo(0,c),l.lineTo(0,c-h),l.lineTo(f,-h),l.lineTo(f,0),l.fill()),l.restore()}};u.exports=o},3933:(u,m,t)=>{var a=t(39429),p=t(61475);a.register("isobox",function(o,s,r,e,n,l,i){return this.displayList.add(new p(this.scene,o,s,r,e,n,l,i))})},99651:(u,m,t)=>{var a=t(29747),p=a,o=a;p=t(68149),o=t(11508),u.exports={renderWebGL:p,renderCanvas:o}},68149:(u,m,t)=>{var a=t(91296),p=t(70554),o=function(s,r,e,n){e.addToRenderList(r);var l=s.pipelines.set(r.pipeline),i=a(r,e,n),h=l.calcMatrix.copyFrom(i.calc),f=r.width,c=r.height,d=f/2,v=f/r.projection,g=e.alpha*r.alpha;if(r.isFilled){var y,x,T,S,A,P,D,R,L;s.pipelines.preBatch(r),r.showTop&&(y=p.getTintAppendFloatAlpha(r.fillTop,g),x=h.getX(-d,-c),T=h.getY(-d,-c),S=h.getX(0,-v-c),A=h.getY(0,-v-c),P=h.getX(d,-c),D=h.getY(d,-c),R=h.getX(0,v-c),L=h.getY(0,v-c),l.batchQuad(r,x,T,S,A,P,D,R,L,0,0,1,1,y,y,y,y,2)),r.showLeft&&(y=p.getTintAppendFloatAlpha(r.fillLeft,g),x=h.getX(-d,0),T=h.getY(-d,0),S=h.getX(0,v),A=h.getY(0,v),P=h.getX(0,v-c),D=h.getY(0,v-c),R=h.getX(-d,-c),L=h.getY(-d,-c),l.batchQuad(r,x,T,S,A,P,D,R,L,0,0,1,1,y,y,y,y,2)),r.showRight&&(y=p.getTintAppendFloatAlpha(r.fillRight,g),x=h.getX(d,0),T=h.getY(d,0),S=h.getX(0,v),A=h.getY(0,v),P=h.getX(0,v-c),D=h.getY(0,v-c),R=h.getX(d,-c),L=h.getY(d,-c),l.batchQuad(r,x,T,S,A,P,D,R,L,0,0,1,1,y,y,y,y,2)),s.pipelines.postBatch(r)}};u.exports=o},16933:(u,m,t)=>{var a=t(83419),p=t(60561),o=t(17803),s=new a({Extends:o,Mixins:[p],initialize:function(e,n,l,i,h,f,c,d,v){n===void 0&&(n=0),l===void 0&&(l=0),i===void 0&&(i=48),h===void 0&&(h=32),f===void 0&&(f=!1),c===void 0&&(c=15658734),d===void 0&&(d=10066329),v===void 0&&(v=13421772),o.call(this,e,"IsoTriangle",null),this.projection=4,this.fillTop=c,this.fillLeft=d,this.fillRight=v,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=f,this.isFilled=!0,this.setPosition(n,l),this.setSize(i,h),this.updateDisplayOrigin()},setProjection:function(r){return this.projection=r,this},setReversed:function(r){return this.isReversed=r,this},setFaces:function(r,e,n){return r===void 0&&(r=!0),e===void 0&&(e=!0),n===void 0&&(n=!0),this.showTop=r,this.showLeft=e,this.showRight=n,this},setFillStyle:function(r,e,n){return this.fillTop=r,this.fillLeft=e,this.fillRight=n,this.isFilled=!0,this}});u.exports=s},79590:(u,m,t)=>{var a=t(65960),p=t(20926),o=function(s,r,e,n){e.addToRenderList(r);var l=s.currentContext;if(p(s,l,r,e,n)&&r.isFilled){var i=r.width,h=r.height,f=i/2,c=i/r.projection,d=r.isReversed;r.showTop&&d&&(a(l,r,r.fillTop),l.beginPath(),l.moveTo(-f,-h),l.lineTo(0,-c-h),l.lineTo(f,-h),l.lineTo(0,c-h),l.fill()),r.showLeft&&(a(l,r,r.fillLeft),l.beginPath(),d?(l.moveTo(-f,-h),l.lineTo(0,c),l.lineTo(0,c-h)):(l.moveTo(-f,0),l.lineTo(0,c),l.lineTo(0,c-h)),l.fill()),r.showRight&&(a(l,r,r.fillRight),l.beginPath(),d?(l.moveTo(f,-h),l.lineTo(0,c),l.lineTo(0,c-h)):(l.moveTo(f,0),l.lineTo(0,c),l.lineTo(0,c-h)),l.fill()),l.restore()}};u.exports=o},49803:(u,m,t)=>{var a=t(39429),p=t(16933);a.register("isotriangle",function(o,s,r,e,n,l,i,h){return this.displayList.add(new p(this.scene,o,s,r,e,n,l,i,h))})},60561:(u,m,t)=>{var a=t(29747),p=a,o=a;p=t(51503),o=t(79590),u.exports={renderWebGL:p,renderCanvas:o}},51503:(u,m,t)=>{var a=t(91296),p=t(70554),o=function(s,r,e,n){e.addToRenderList(r);var l=s.pipelines.set(r.pipeline),i=a(r,e,n),h=l.calcMatrix.copyFrom(i.calc),f=r.width,c=r.height,d=f/2,v=f/r.projection,g=r.isReversed,y=e.alpha*r.alpha;if(r.isFilled){s.pipelines.preBatch(r);var x,T,S,A,P,D,R;if(r.showTop&&g){x=p.getTintAppendFloatAlpha(r.fillTop,y),T=h.getX(-d,-c),S=h.getY(-d,-c),A=h.getX(0,-v-c),P=h.getY(0,-v-c),D=h.getX(d,-c),R=h.getY(d,-c);var L=h.getX(0,v-c),I=h.getY(0,v-c);l.batchQuad(r,T,S,A,P,D,R,L,I,0,0,1,1,x,x,x,x,2)}r.showLeft&&(x=p.getTintAppendFloatAlpha(r.fillLeft,y),g?(T=h.getX(-d,-c),S=h.getY(-d,-c),A=h.getX(0,v),P=h.getY(0,v),D=h.getX(0,v-c),R=h.getY(0,v-c)):(T=h.getX(-d,0),S=h.getY(-d,0),A=h.getX(0,v),P=h.getY(0,v),D=h.getX(0,v-c),R=h.getY(0,v-c)),l.batchTri(r,T,S,A,P,D,R,0,0,1,1,x,x,x,2)),r.showRight&&(x=p.getTintAppendFloatAlpha(r.fillRight,y),g?(T=h.getX(d,-c),S=h.getY(d,-c),A=h.getX(0,v),P=h.getY(0,v),D=h.getX(0,v-c),R=h.getY(0,v-c)):(T=h.getX(d,0),S=h.getY(d,0),A=h.getX(0,v),P=h.getY(0,v),D=h.getX(0,v-c),R=h.getY(0,v-c)),l.batchTri(r,T,S,A,P,D,R,0,0,1,1,x,x,x,2)),s.pipelines.postBatch(r)}};u.exports=o},57847:(u,m,t)=>{var a=t(83419),p=t(17803),o=t(23031),s=t(36823),r=new a({Extends:p,Mixins:[s],initialize:function(n,l,i,h,f,c,d,v,g){l===void 0&&(l=0),i===void 0&&(i=0),h===void 0&&(h=0),f===void 0&&(f=0),c===void 0&&(c=128),d===void 0&&(d=0),p.call(this,n,"Line",new o(h,f,c,d));var y=Math.max(1,this.geom.right-this.geom.left),x=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(l,i),this.setSize(y,x),v!==void 0&&this.setStrokeStyle(1,v,g),this.updateDisplayOrigin()},setLineWidth:function(e,n){return n===void 0&&(n=e),this._startWidth=e,this._endWidth=n,this.lineWidth=e,this},setTo:function(e,n,l,i){return this.geom.setTo(e,n,l,i),this}});u.exports=r},17440:(u,m,t)=>{var a=t(75177),p=t(20926),o=function(s,r,e,n){e.addToRenderList(r);var l=s.currentContext;if(p(s,l,r,e,n)){var i=r._displayOriginX,h=r._displayOriginY;r.isStroked&&(a(l,r),l.beginPath(),l.moveTo(r.geom.x1-i,r.geom.y1-h),l.lineTo(r.geom.x2-i,r.geom.y2-h),l.stroke()),l.restore()}};u.exports=o},2481:(u,m,t)=>{var a=t(39429),p=t(57847);a.register("line",function(o,s,r,e,n,l,i,h){return this.displayList.add(new p(this.scene,o,s,r,e,n,l,i,h))})},36823:(u,m,t)=>{var a=t(29747),p=a,o=a;p=t(77385),o=t(17440),u.exports={renderWebGL:p,renderCanvas:o}},77385:(u,m,t)=>{var a=t(91296),p=t(70554),o=function(s,r,e,n){e.addToRenderList(r);var l=s.pipelines.set(r.pipeline),i=a(r,e,n);l.calcMatrix.copyFrom(i.calc);var h=r._displayOriginX,f=r._displayOriginY,c=e.alpha*r.alpha;if(s.pipelines.preBatch(r),r.isStroked){var d=l.strokeTint,v=p.getTintAppendFloatAlpha(r.strokeColor,r.strokeAlpha*c);d.TL=v,d.TR=v,d.BL=v,d.BR=v,l.batchLine(r.geom.x1-h,r.geom.y1-f,r.geom.x2-h,r.geom.y2-f,r._startWidth/2,r._endWidth/2,1,0,!1,i.sprite,i.camera)}s.pipelines.postBatch(r)};u.exports=o},24949:(u,m,t)=>{var a=t(90273),p=t(83419),o=t(94811),s=t(13829),r=t(25717),e=t(17803),n=t(5469),l=new p({Extends:e,Mixins:[a],initialize:function(h,f,c,d,v,g){f===void 0&&(f=0),c===void 0&&(c=0),e.call(this,h,"Polygon",new r(d));var y=s(this.geom);this.setPosition(f,c),this.setSize(y.width,y.height),v!==void 0&&this.setFillStyle(v,g),this.updateDisplayOrigin(),this.updateData()},smooth:function(i){i===void 0&&(i=1);for(var h=0;h<i;h++)n(this.geom);return this.updateData()},setTo:function(i){this.geom.setTo(i);var h=s(this.geom);return this.setSize(h.width,h.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var i=[],h=this.geom.points,f=0;f<h.length;f++)i.push(h[f].x,h[f].y);return i.push(h[0].x,h[0].y),this.pathIndexes=o(i),this.pathData=i,this}});u.exports=l},38710:(u,m,t)=>{var a=t(65960),p=t(75177),o=t(20926),s=function(r,e,n,l){n.addToRenderList(e);var i=r.currentContext;if(o(r,i,e,n,l)){var h=e._displayOriginX,f=e._displayOriginY,c=e.pathData,d=c.length-1,v=c[0]-h,g=c[1]-f;i.beginPath(),i.moveTo(v,g),e.closePath||(d-=2);for(var y=2;y<d;y+=2){var x=c[y]-h,T=c[y+1]-f;i.lineTo(x,T)}e.closePath&&i.closePath(),e.isFilled&&(a(i,e),i.fill()),e.isStroked&&(p(i,e),i.stroke()),i.restore()}};u.exports=s},64827:(u,m,t)=>{var a=t(39429),p=t(24949);a.register("polygon",function(o,s,r,e,n){return this.displayList.add(new p(this.scene,o,s,r,e,n))})},90273:(u,m,t)=>{var a=t(29747),p=a,o=a;p=t(73695),o=t(38710),u.exports={renderWebGL:p,renderCanvas:o}},73695:(u,m,t)=>{var a=t(10441),p=t(91296),o=t(34682),s=function(r,e,n,l){n.addToRenderList(e);var i=r.pipelines.set(e.pipeline),h=p(e,n,l),f=i.calcMatrix.copyFrom(h.calc),c=e._displayOriginX,d=e._displayOriginY,v=n.alpha*e.alpha;r.pipelines.preBatch(e),e.isFilled&&a(i,f,e,v,c,d),e.isStroked&&o(i,e,v,c,d),r.pipelines.postBatch(e)};u.exports=s},74561:(u,m,t)=>{var a=t(83419),p=t(94811),o=t(87841),s=t(17803),r=t(95597),e=new a({Extends:s,Mixins:[r],initialize:function(l,i,h,f,c,d,v){i===void 0&&(i=0),h===void 0&&(h=0),f===void 0&&(f=128),c===void 0&&(c=128),s.call(this,l,"Rectangle",new o(0,0,f,c)),this.radius=20,this.isRounded=!1,this.setPosition(i,h),this.setSize(f,c),d!==void 0&&this.setFillStyle(d,v),this.updateDisplayOrigin(),this.updateData()},setRounded:function(n){return n===void 0&&(n=16),this.radius=n,this.isRounded=n>0,this.updateRoundedData()},setSize:function(n,l){this.width=n,this.height=l,this.geom.setSize(n,l),this.updateData(),this.updateDisplayOrigin();var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=n,i.hitArea.height=l),this},updateData:function(){if(this.isRounded)return this.updateRoundedData();var n=[],l=this.geom,i=this._tempLine;return l.getLineA(i),n.push(i.x1,i.y1,i.x2,i.y2),l.getLineB(i),n.push(i.x2,i.y2),l.getLineC(i),n.push(i.x2,i.y2),l.getLineD(i),n.push(i.x2,i.y2),this.pathData=n,this},updateRoundedData:function(){var n=[],l=this.width/2,i=this.height/2,h=Math.min(l,i),f=Math.min(this.radius,h),c=l,d=i,v=Math.max(1,Math.floor(f/5));return this.arcTo(n,c-l+f,d-i+f,f,Math.PI,Math.PI*1.5,v),n.push(c+l-f,d-i),this.arcTo(n,c+l-f,d-i+f,f,Math.PI*1.5,Math.PI*2,v),n.push(c+l,d+i-f),this.arcTo(n,c+l-f,d+i-f,f,0,Math.PI*.5,v),n.push(c-l+f,d+i),this.arcTo(n,c-l+f,d+i-f,f,Math.PI*.5,Math.PI,v),n.push(c-l,d-i+f),this.pathIndexes=p(n),this.pathData=n,this},arcTo:function(n,l,i,h,f,c,d){for(var v=(c-f)/d,g=0;g<=d;g++){var y=f+v*g;n.push(l+Math.cos(y)*h,i+Math.sin(y)*h)}}});u.exports=e},48682:(u,m,t)=>{var a=t(65960),p=t(75177),o=t(20926),s=function(e,n,l,i,h,f){var c=Math.min(i/2,h/2),d=Math.min(f,c);if(d===0){e.rect(n,l,i,h);return}e.moveTo(n+d,l),e.lineTo(n+i-d,l),e.arcTo(n+i,l,n+i,l+d,d),e.lineTo(n+i,l+h-d),e.arcTo(n+i,l+h,n+i-d,l+h,d),e.lineTo(n+d,l+h),e.arcTo(n,l+h,n,l+h-d,d),e.lineTo(n,l+d),e.arcTo(n,l,n+d,l,d),e.closePath()},r=function(e,n,l,i){l.addToRenderList(n);var h=e.currentContext;if(o(e,h,n,l,i)){var f=n._displayOriginX,c=n._displayOriginY;n.isFilled&&(a(h,n),n.isRounded?(h.beginPath(),s(h,-f,-c,n.width,n.height,n.radius),h.fill()):h.fillRect(-f,-c,n.width,n.height)),n.isStroked&&(p(h,n),h.beginPath(),n.isRounded?s(h,-f,-c,n.width,n.height,n.radius):h.rect(-f,-c,n.width,n.height),h.stroke()),h.restore()}};u.exports=r},87959:(u,m,t)=>{var a=t(39429),p=t(74561);a.register("rectangle",function(o,s,r,e,n,l){return this.displayList.add(new p(this.scene,o,s,r,e,n,l))})},95597:(u,m,t)=>{var a=t(29747),p=a,o=a;p=t(52059),o=t(48682),u.exports={renderWebGL:p,renderCanvas:o}},52059:(u,m,t)=>{var a=t(10441),p=t(91296),o=t(34682),s=t(70554),r=function(e,n,l,i){l.addToRenderList(n);var h=e.pipelines.set(n.pipeline),f=p(n,l,i);h.calcMatrix.copyFrom(f.calc);var c=n._displayOriginX,d=n._displayOriginY,v=l.alpha*n.alpha;if(e.pipelines.preBatch(n),n.isRounded&&n.isFilled)a(h,f.calc,n,v,c,d);else if(n.isFilled){var g=h.fillTint,y=s.getTintAppendFloatAlpha(n.fillColor,n.fillAlpha*v);g.TL=y,g.TR=y,g.BL=y,g.BR=y,h.batchFillRect(-c,-d,n.width,n.height)}n.isStroked&&o(h,n,v,c,d),e.pipelines.postBatch(n)};u.exports=r},55911:(u,m,t)=>{var a=t(81991),p=t(83419),o=t(94811),s=t(17803),r=new p({Extends:s,Mixins:[a],initialize:function(n,l,i,h,f,c,d,v){l===void 0&&(l=0),i===void 0&&(i=0),h===void 0&&(h=5),f===void 0&&(f=32),c===void 0&&(c=64),s.call(this,n,"Star",null),this._points=h,this._innerRadius=f,this._outerRadius=c,this.setPosition(l,i),this.setSize(c*2,c*2),d!==void 0&&this.setFillStyle(d,v),this.updateDisplayOrigin(),this.updateData()},setPoints:function(e){return this._points=e,this.updateData()},setInnerRadius:function(e){return this._innerRadius=e,this.updateData()},setOuterRadius:function(e){return this._outerRadius=e,this.updateData()},points:{get:function(){return this._points},set:function(e){this._points=e,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(e){this._innerRadius=e,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(e){this._outerRadius=e,this.updateData()}},updateData:function(){var e=[],n=this._points,l=this._innerRadius,i=this._outerRadius,h=Math.PI/2*3,f=Math.PI/n,c=i,d=i;e.push(c,d+-i);for(var v=0;v<n;v++)e.push(c+Math.cos(h)*i,d+Math.sin(h)*i),h+=f,e.push(c+Math.cos(h)*l,d+Math.sin(h)*l),h+=f;return e.push(c,d+-i),this.pathIndexes=o(e),this.pathData=e,this}});u.exports=r},64272:(u,m,t)=>{var a=t(65960),p=t(75177),o=t(20926),s=function(r,e,n,l){n.addToRenderList(e);var i=r.currentContext;if(o(r,i,e,n,l)){var h=e._displayOriginX,f=e._displayOriginY,c=e.pathData,d=c.length-1,v=c[0]-h,g=c[1]-f;i.beginPath(),i.moveTo(v,g),e.closePath||(d-=2);for(var y=2;y<d;y+=2){var x=c[y]-h,T=c[y+1]-f;i.lineTo(x,T)}i.closePath(),e.isFilled&&(a(i,e),i.fill()),e.isStroked&&(p(i,e),i.stroke()),i.restore()}};u.exports=s},93697:(u,m,t)=>{var a=t(55911),p=t(39429);p.register("star",function(o,s,r,e,n,l,i){return this.displayList.add(new a(this.scene,o,s,r,e,n,l,i))})},81991:(u,m,t)=>{var a=t(29747),p=a,o=a;p=t(57017),o=t(64272),u.exports={renderWebGL:p,renderCanvas:o}},57017:(u,m,t)=>{var a=t(10441),p=t(91296),o=t(34682),s=function(r,e,n,l){n.addToRenderList(e);var i=r.pipelines.set(e.pipeline),h=p(e,n,l),f=i.calcMatrix.copyFrom(h.calc),c=e._displayOriginX,d=e._displayOriginY,v=n.alpha*e.alpha;r.pipelines.preBatch(e),e.isFilled&&a(i,f,e,v,c,d),e.isStroked&&o(i,e,v,c,d),r.pipelines.postBatch(e)};u.exports=s},36931:(u,m,t)=>{var a=t(83419),p=t(17803),o=t(16483),s=t(96195),r=new a({Extends:p,Mixins:[s],initialize:function(n,l,i,h,f,c,d,v,g,y,x){l===void 0&&(l=0),i===void 0&&(i=0),h===void 0&&(h=0),f===void 0&&(f=128),c===void 0&&(c=64),d===void 0&&(d=0),v===void 0&&(v=128),g===void 0&&(g=128),p.call(this,n,"Triangle",new o(h,f,c,d,v,g));var T=this.geom.right-this.geom.left,S=this.geom.bottom-this.geom.top;this.setPosition(l,i),this.setSize(T,S),y!==void 0&&this.setFillStyle(y,x),this.updateDisplayOrigin(),this.updateData()},setTo:function(e,n,l,i,h,f){return this.geom.setTo(e,n,l,i,h,f),this.updateData()},updateData:function(){var e=[],n=this.geom,l=this._tempLine;return n.getLineA(l),e.push(l.x1,l.y1,l.x2,l.y2),n.getLineB(l),e.push(l.x2,l.y2),n.getLineC(l),e.push(l.x2,l.y2),this.pathData=e,this}});u.exports=r},85172:(u,m,t)=>{var a=t(65960),p=t(75177),o=t(20926),s=function(r,e,n,l){n.addToRenderList(e);var i=r.currentContext;if(o(r,i,e,n,l)){var h=e._displayOriginX,f=e._displayOriginY,c=e.geom.x1-h,d=e.geom.y1-f,v=e.geom.x2-h,g=e.geom.y2-f,y=e.geom.x3-h,x=e.geom.y3-f;i.beginPath(),i.moveTo(c,d),i.lineTo(v,g),i.lineTo(y,x),i.closePath(),e.isFilled&&(a(i,e),i.fill()),e.isStroked&&(p(i,e),i.stroke()),i.restore()}};u.exports=s},45245:(u,m,t)=>{var a=t(39429),p=t(36931);a.register("triangle",function(o,s,r,e,n,l,i,h,f,c){return this.displayList.add(new p(this.scene,o,s,r,e,n,l,i,h,f,c))})},96195:(u,m,t)=>{var a=t(29747),p=a,o=a;p=t(83253),o=t(85172),u.exports={renderWebGL:p,renderCanvas:o}},83253:(u,m,t)=>{var a=t(91296),p=t(34682),o=t(70554),s=function(r,e,n,l){n.addToRenderList(e);var i=r.pipelines.set(e.pipeline),h=a(e,n,l);i.calcMatrix.copyFrom(h.calc);var f=e._displayOriginX,c=e._displayOriginY,d=n.alpha*e.alpha;if(r.pipelines.preBatch(e),e.isFilled){var v=i.fillTint,g=o.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*d);v.TL=g,v.TR=g,v.BL=g,v.BR=g;var y=e.geom.x1-f,x=e.geom.y1-c,T=e.geom.x2-f,S=e.geom.y2-c,A=e.geom.x3-f,P=e.geom.y3-c;i.batchFillTriangle(y,x,T,S,A,P,h.sprite,h.camera)}e.isStroked&&p(i,e,d,f,c),r.pipelines.postBatch(e)};u.exports=s},68287:(u,m,t)=>{var a=t(9674),p=t(83419),o=t(31401),s=t(95643),r=t(92751),e=new p({Extends:s,Mixins:[o.Alpha,o.BlendMode,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.Size,o.TextureCrop,o.Tint,o.Transform,o.Visible,r],initialize:function(l,i,h,f,c){s.call(this,l,"Sprite"),this._crop=this.resetCropObject(),this.anims=new a(this),this.setTexture(f,c),this.setPosition(i,h),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(n,l){this.anims.update(n,l)},play:function(n,l){return this.anims.play(n,l)},playReverse:function(n,l){return this.anims.playReverse(n,l)},playAfterDelay:function(n,l){return this.anims.playAfterDelay(n,l)},playAfterRepeat:function(n,l){return this.anims.playAfterRepeat(n,l)},chain:function(n){return this.anims.chain(n)},stop:function(){return this.anims.stop()},stopAfterDelay:function(n){return this.anims.stopAfterDelay(n)},stopAfterRepeat:function(n){return this.anims.stopAfterRepeat(n)},stopOnFrame:function(n){return this.anims.stopOnFrame(n)},toJSON:function(){return o.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});u.exports=e},76552:u=>{var m=function(t,a,p,o){p.addToRenderList(a),t.batchSprite(a,a.frame,p,o)};u.exports=m},15567:(u,m,t)=>{var a=t(25305),p=t(13059),o=t(44603),s=t(23568),r=t(68287);o.register("sprite",function(e,n){e===void 0&&(e={});var l=s(e,"key",null),i=s(e,"frame",null),h=new r(this.scene,0,0,l,i);return n!==void 0&&(e.add=n),a(this.scene,h,e),p(h,e),h})},46409:(u,m,t)=>{var a=t(39429),p=t(68287);a.register("sprite",function(o,s,r,e){return this.displayList.add(new p(this.scene,o,s,r,e))})},92751:(u,m,t)=>{var a=t(29747),p=a,o=a;p=t(9409),o=t(76552),u.exports={renderWebGL:p,renderCanvas:o}},9409:u=>{var m=function(t,a,p,o){p.addToRenderList(a),a.pipeline.batchSprite(a,p,o)};u.exports=m},14220:u=>{var m=function(t,a,p){var o=t.canvas,s=t.context,r=t.style,e=[],n=0,l=p.length;r.maxLines>0&&r.maxLines<p.length&&(l=r.maxLines),r.syncFont(o,s);for(var i=t.letterSpacing,h=0;h<l;h++){var f=r.strokeThickness;if(i===0)f+=s.measureText(p[h]).width;else{for(var c=p[h],d=0;d<c.length;d++)f+=s.measureText(c[d]).width;c.length>1&&(f+=i*(c.length-1))}r.wordWrap&&(f-=s.measureText(" ").width),e[h]=Math.ceil(f),n=Math.max(n,e[h])}var v=a.fontSize+r.strokeThickness,g=v*l,y=t.lineSpacing;return l>1&&(g+=y*(l-1)),{width:n,height:g,lines:l,lineWidths:e,lineSpacing:y,lineHeight:v}};u.exports=m},79557:(u,m,t)=>{var a=t(27919),p=function(o){var s=a.create(this),r=s.getContext("2d",{willReadFrequently:!0});o.syncFont(s,r);var e=r.measureText(o.testString);if("actualBoundingBoxAscent"in e){var n=e.actualBoundingBoxAscent,l=e.actualBoundingBoxDescent;return a.remove(s),{ascent:n,descent:l,fontSize:n+l}}var i=Math.ceil(e.width*o.baselineX),h=i,f=2*h;h=h*o.baselineY|0,s.width=i,s.height=f,r.fillStyle="#f00",r.fillRect(0,0,i,f),r.font=o._font,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(o.testString,0,h);var c={ascent:0,descent:0,fontSize:0},d=r.getImageData(0,0,i,f);if(!d)return c.ascent=h,c.descent=h+6,c.fontSize=c.ascent+c.descent,a.remove(s),c;var v=d.data,g=v.length,y=i*4,x,T,S=0,A=!1;for(x=0;x<h;x++){for(T=0;T<y;T+=4)if(v[S+T]!==255){A=!0;break}if(!A)S+=y;else break}for(c.ascent=h-x,S=g-y,A=!1,x=f;x>h;x--){for(T=0;T<y;T+=4)if(v[S+T]!==255){A=!0;break}if(!A)S-=y;else break}return c.descent=x-h,c.fontSize=c.ascent+c.descent,a.remove(s),c};u.exports=p},50171:(u,m,t)=>{var a=t(40366),p=t(27919),o=t(83419),s=t(31401),r=t(95643),e=t(14220),n=t(35154),l=t(35846),i=t(61771),h=t(35762),f=t(45650),c=new o({Extends:r,Mixins:[s.Alpha,s.BlendMode,s.ComputedSize,s.Crop,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.PostPipeline,s.ScrollFactor,s.Tint,s.Transform,s.Visible,i],initialize:function(v,g,y,x,T){g===void 0&&(g=0),y===void 0&&(y=0),r.call(this,v,"Text"),this.renderer=v.sys.renderer,this.setPosition(g,y),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=p.create(this),this.context,this.style=new h(this,T),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=f(),this.texture=v.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(x),T&&T.padding&&this.setPadding(T.padding),T&&T.lineSpacing&&this.setLineSpacing(T.lineSpacing),T&&T.letterSpacing&&this.setLetterSpacing(T.letterSpacing)},initRTL:function(){if(!this.style.rtl){this.canvas.dir="ltr",this.context.direction="ltr";return}this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",a(this.canvas,this.scene.sys.canvas),this.originX=1},runWordWrap:function(d){var v=this.style;if(v.wordWrapCallback){var g=v.wordWrapCallback.call(v.wordWrapCallbackScope,d,this);return Array.isArray(g)&&(g=g.join(`
`)),g}else return v.wordWrapWidth?v.wordWrapUseAdvanced?this.advancedWordWrap(d,this.context,this.style.wordWrapWidth):this.basicWordWrap(d,this.context,this.style.wordWrapWidth):d},advancedWordWrap:function(d,v,g){for(var y="",x=d.replace(/ +/gi," ").split(this.splitRegExp),T=x.length,S=0;S<T;S++){var A=x[S],P="";A=A.replace(/^ *|\s*$/gi,"");var D=A.length*this.letterSpacing,R=v.measureText(A).width+D;if(R<g){y+=A+`
`;continue}for(var L=g,I=A.split(" "),w=0;w<I.length;w++){var B=I[w],b=B+" ",V=b.length*this.letterSpacing,X=v.measureText(b).width+V;if(X>L){if(w===0){for(var G=b;G.length;){G=G.slice(0,-1);var U=G.length*this.letterSpacing;if(X=v.measureText(G).width+U,X<=L)break}if(!G.length)throw new Error("wordWrapWidth < a single character");var O=B.substr(G.length);I[w]=O,P+=G}var z=I[w].length?w:w+1,N=I.slice(z).join(" ").replace(/[ \n]*$/gi,"");x.splice(S+1,0,N),T=x.length;break}else P+=b,L-=X}y+=P.replace(/[ \n]*$/gi,"")+`
`}return y=y.replace(/[\s|\n]*$/gi,""),y},basicWordWrap:function(d,v,g){for(var y="",x=d.split(this.splitRegExp),T=x.length-1,S=v.measureText(" ").width,A=0;A<=T;A++){for(var P=g,D=x[A].split(" "),R=D.length-1,L=0;L<=R;L++){var I=D[L],w=I.length*this.letterSpacing,B=v.measureText(I).width+w,b=B;L<R&&(b+=S),b>P&&L>0&&(y+=`
`,P=g),y+=I,L<R?(y+=" ",P-=b):P-=B}A<T&&(y+=`
`)}return y},getWrappedText:function(d){d===void 0&&(d=this._text),this.style.syncFont(this.canvas,this.context);var v=this.runWordWrap(d);return v.split(this.splitRegExp)},setText:function(d){return!d&&d!==0&&(d=""),Array.isArray(d)&&(d=d.join(`
`)),d!==this._text&&(this._text=d.toString(),this.updateText()),this},appendText:function(d,v){v===void 0&&(v=!0),!d&&d!==0&&(d=""),Array.isArray(d)&&(d=d.join(`
`)),d=d.toString();var g=this._text.concat(v?`
`+d:d);return g!==this._text&&(this._text=g,this.updateText()),this},setStyle:function(d){return this.style.setStyle(d)},setFont:function(d){return this.style.setFont(d)},setFontFamily:function(d){return this.style.setFontFamily(d)},setFontSize:function(d){return this.style.setFontSize(d)},setFontStyle:function(d){return this.style.setFontStyle(d)},setFixedSize:function(d,v){return this.style.setFixedSize(d,v)},setBackgroundColor:function(d){return this.style.setBackgroundColor(d)},setFill:function(d){return this.style.setFill(d)},setColor:function(d){return this.style.setColor(d)},setStroke:function(d,v){return this.style.setStroke(d,v)},setShadow:function(d,v,g,y,x,T){return this.style.setShadow(d,v,g,y,x,T)},setShadowOffset:function(d,v){return this.style.setShadowOffset(d,v)},setShadowColor:function(d){return this.style.setShadowColor(d)},setShadowBlur:function(d){return this.style.setShadowBlur(d)},setShadowStroke:function(d){return this.style.setShadowStroke(d)},setShadowFill:function(d){return this.style.setShadowFill(d)},setWordWrapWidth:function(d,v){return this.style.setWordWrapWidth(d,v)},setWordWrapCallback:function(d,v){return this.style.setWordWrapCallback(d,v)},setAlign:function(d){return this.style.setAlign(d)},setResolution:function(d){return this.style.setResolution(d)},setLineSpacing:function(d){return this.lineSpacing=d,this.updateText()},setLetterSpacing:function(d){return this.letterSpacing=d,this.updateText()},setPadding:function(d,v,g,y){if(typeof d=="object"){var x=d,T=n(x,"x",null);T!==null?(d=T,g=T):(d=n(x,"left",0),g=n(x,"right",d));var S=n(x,"y",null);S!==null?(v=S,y=S):(v=n(x,"top",0),y=n(x,"bottom",v))}else d===void 0&&(d=0),v===void 0&&(v=d),g===void 0&&(g=d),y===void 0&&(y=v);return this.padding.left=d,this.padding.top=v,this.padding.right=g,this.padding.bottom=y,this.updateText()},setMaxLines:function(d){return this.style.setMaxLines(d)},setRTL:function(d){d===void 0&&(d=!0);var v=this.style;return v.rtl===d?this:(v.rtl=d,d?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",a(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),v.align==="left"?v.align="right":v.align==="right"&&(v.align="left"),this)},updateText:function(){var d=this.canvas,v=this.context,g=this.style,y=g.resolution,x=g.metrics;g.syncFont(d,v);var T=this._text;(g.wordWrapWidth||g.wordWrapCallback)&&(T=this.runWordWrap(this._text));var S=T.split(this.splitRegExp),A=e(this,x,S),P=this.padding,D;g.fixedWidth===0?(this.width=A.width+P.left+P.right,D=A.width):(this.width=g.fixedWidth,D=this.width-P.left-P.right,D<A.width&&(D=A.width)),g.fixedHeight===0?this.height=A.height+P.top+P.bottom:this.height=g.fixedHeight;var R=this.width,L=this.height;this.updateDisplayOrigin(),R*=y,L*=y,R=Math.max(R,1),L=Math.max(L,1),d.width!==R||d.height!==L?(d.width=R,d.height=L,this.frame.setSize(R,L),g.syncFont(d,v),g.rtl&&(v.direction="rtl")):v.clearRect(0,0,R,L),v.save(),v.scale(y,y),g.backgroundColor&&(v.fillStyle=g.backgroundColor,v.fillRect(0,0,R,L)),g.syncStyle(d,v),v.translate(P.left,P.top);for(var I,w,B=0;B<A.lines;B++){if(I=g.strokeThickness/2,w=g.strokeThickness/2+B*A.lineHeight+x.ascent,B>0&&(w+=A.lineSpacing*B),g.rtl)I=R-I-P.left-P.right;else if(g.align==="right")I+=D-A.lineWidths[B];else if(g.align==="center")I+=(D-A.lineWidths[B])/2;else if(g.align==="justify"){var b=.85;if(A.lineWidths[B]/A.width>=b){var V=A.width-A.lineWidths[B],X=v.measureText(" ").width,G=S[B].trim(),U=G.split(" ");V+=(S[B].length-G.length)*X;for(var O=Math.floor(V/X),z=0;O>0;)U[z]+=" ",z=(z+1)%(U.length-1||1),--O;S[B]=U.join(" ")}}this.autoRound&&(I=Math.round(I),w=Math.round(w));var N=this.letterSpacing;if(g.strokeThickness&&N===0&&(g.syncShadow(v,g.shadowStroke),v.strokeText(S[B],I,w)),g.color)if(g.syncShadow(v,g.shadowFill),N!==0)for(var Y=0,W=S[B].split(""),H=0;H<W.length;H++)g.strokeThickness&&(g.syncShadow(v,g.shadowStroke),v.strokeText(W[H],I+Y,w),g.syncShadow(v,g.shadowFill)),v.fillText(W[H],I+Y,w),Y+=v.measureText(W[H]).width+N;else v.fillText(S[B],I,w)}v.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(d,this.frame.source.glTexture,!0));var $=this.input;return $&&!$.customHitArea&&($.hitArea.width=this.width,$.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(d){this.setText(d)}},toJSON:function(){var d=s.ToJSON(this),v={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return d.data=v,d},preDestroy:function(){l(this.canvas),p.remove(this.canvas);var d=this.texture;d&&d.destroy()}});u.exports=c},79724:u=>{var m=function(t,a,p,o){a.width===0||a.height===0||(p.addToRenderList(a),t.batchSprite(a,a.frame,p,o))};u.exports=m},71259:(u,m,t)=>{var a=t(25305),p=t(44603),o=t(23568),s=t(50171);p.register("text",function(r,e){r===void 0&&(r={});var n=o(r,"text",""),l=o(r,"style",null),i=o(r,"padding",null);i!==null&&(l.padding=i);var h=new s(this.scene,0,0,n,l);return e!==void 0&&(r.add=e),a(this.scene,h,r),h.autoRound=o(r,"autoRound",!0),h.resolution=o(r,"resolution",1),h})},68005:(u,m,t)=>{var a=t(50171),p=t(39429);p.register("text",function(o,s,r,e){return this.displayList.add(new a(this.scene,o,s,r,e))})},61771:(u,m,t)=>{var a=t(29747),p=a,o=a;p=t(34397),o=t(79724),u.exports={renderWebGL:p,renderCanvas:o}},35762:(u,m,t)=>{var a=t(83419),p=t(23568),o=t(35154),s=t(79557),r={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|M\xC3\u2030qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},e=new a({initialize:function(l,i){this.parent=l,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(i,!1,!0)},setStyle:function(n,l,i){l===void 0&&(l=!0),i===void 0&&(i=!1);for(var h in r){var f=i?r[h][1]:this[h];h==="wordWrapCallback"||h==="wordWrapCallbackScope"?this[h]=o(n,r[h][0],f):n&&h==="fontSize"&&typeof n.fontSize=="number"?this[h]=n.fontSize.toString()+"px":this[h]=p(n,r[h][0],f)}var c=o(n,"font",null);c!==null&&this.setFont(c,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var d=o(n,"fill",null);d!==null&&(this.color=d);var v=o(n,"metrics",!1);return v?this.metrics={ascent:o(v,"ascent",0),descent:o(v,"descent",0),fontSize:o(v,"fontSize",0)}:(l||!this.metrics)&&(this.metrics=s(this)),l?this.parent.updateText():this.parent},syncFont:function(n,l){l.font=this._font},syncStyle:function(n,l){l.textBaseline="alphabetic",l.fillStyle=this.color,l.strokeStyle=this.stroke,l.lineWidth=this.strokeThickness,l.lineCap="round",l.lineJoin="round"},syncShadow:function(n,l){l?(n.shadowOffsetX=this.shadowOffsetX,n.shadowOffsetY=this.shadowOffsetY,n.shadowColor=this.shadowColor,n.shadowBlur=this.shadowBlur):(n.shadowOffsetX=0,n.shadowOffsetY=0,n.shadowColor=0,n.shadowBlur=0)},update:function(n){return n&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=s(this)),this.parent.updateText()},setFont:function(n,l){l===void 0&&(l=!0);var i=n,h="",f="";if(typeof n!="string")i=o(n,"fontFamily","Courier"),h=o(n,"fontSize","16px"),f=o(n,"fontStyle","");else{var c=n.split(" "),d=0;f=c.length>2?c[d++]:"",h=c[d++]||"16px",i=c[d++]||"Courier"}return(i!==this.fontFamily||h!==this.fontSize||f!==this.fontStyle)&&(this.fontFamily=i,this.fontSize=h,this.fontStyle=f,l&&this.update(!0)),this.parent},setFontFamily:function(n){return this.fontFamily!==n&&(this.fontFamily=n,this.update(!0)),this.parent},setFontStyle:function(n){return this.fontStyle!==n&&(this.fontStyle=n,this.update(!0)),this.parent},setFontSize:function(n){return typeof n=="number"&&(n=n.toString()+"px"),this.fontSize!==n&&(this.fontSize=n,this.update(!0)),this.parent},setTestString:function(n){return this.testString=n,this.update(!0)},setFixedSize:function(n,l){return this.fixedWidth=n,this.fixedHeight=l,n&&(this.parent.width=n),l&&(this.parent.height=l),this.update(!1)},setBackgroundColor:function(n){return this.backgroundColor=n,this.update(!1)},setFill:function(n){return this.color=n,this.update(!1)},setColor:function(n){return this.color=n,this.update(!1)},setResolution:function(n){return this.resolution=n,this.update(!1)},setStroke:function(n,l){return l===void 0&&(l=this.strokeThickness),n===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==n||this.strokeThickness!==l)&&(this.stroke=n,this.strokeThickness=l,this.update(!0)),this.parent},setShadow:function(n,l,i,h,f,c){return n===void 0&&(n=0),l===void 0&&(l=0),i===void 0&&(i="#000"),h===void 0&&(h=0),f===void 0&&(f=!1),c===void 0&&(c=!0),this.shadowOffsetX=n,this.shadowOffsetY=l,this.shadowColor=i,this.shadowBlur=h,this.shadowStroke=f,this.shadowFill=c,this.update(!1)},setShadowOffset:function(n,l){return n===void 0&&(n=0),l===void 0&&(l=n),this.shadowOffsetX=n,this.shadowOffsetY=l,this.update(!1)},setShadowColor:function(n){return n===void 0&&(n="#000"),this.shadowColor=n,this.update(!1)},setShadowBlur:function(n){return n===void 0&&(n=0),this.shadowBlur=n,this.update(!1)},setShadowStroke:function(n){return this.shadowStroke=n,this.update(!1)},setShadowFill:function(n){return this.shadowFill=n,this.update(!1)},setWordWrapWidth:function(n,l){return l===void 0&&(l=!1),this.wordWrapWidth=n,this.wordWrapUseAdvanced=l,this.update(!1)},setWordWrapCallback:function(n,l){return l===void 0&&(l=null),this.wordWrapCallback=n,this.wordWrapCallbackScope=l,this.update(!1)},setAlign:function(n){return n===void 0&&(n="left"),this.align=n,this.update(!1)},setMaxLines:function(n){return n===void 0&&(n=0),this.maxLines=n,this.update(!1)},getTextMetrics:function(){var n=this.metrics;return{ascent:n.ascent,descent:n.descent,fontSize:n.fontSize}},toJSON:function(){var n={};for(var l in r)n[l]=this[l];return n.metrics=this.getTextMetrics(),n},destroy:function(){this.parent=void 0}});u.exports=e},34397:(u,m,t)=>{var a=t(70554),p=function(o,s,r,e){if(!(s.width===0||s.height===0)){r.addToRenderList(s);var n=s.frame,l=n.width,i=n.height,h=a.getTintAppendFloatAlpha,f=o.pipelines.set(s.pipeline,s),c=f.setTexture2D(n.glTexture,s);f.batchTexture(s,n.glTexture,l,i,s.x,s.y,l/s.style.resolution,i/s.style.resolution,s.scaleX,s.scaleY,s.rotation,s.flipX,s.flipY,s.scrollFactorX,s.scrollFactorY,s.displayOriginX,s.displayOriginY,0,0,l,i,h(s.tintTopLeft,r.alpha*s._alphaTL),h(s.tintTopRight,r.alpha*s._alphaTR),h(s.tintBottomLeft,r.alpha*s._alphaBL),h(s.tintBottomRight,r.alpha*s._alphaBR),s.tintFill,0,0,r,e,!1,c)}};u.exports=p},20839:(u,m,t)=>{var a=t(27919),p=t(83419),o=t(31401),s=t(95643),r=t(98439),e=t(68703),n=t(56295),l=t(45650),i=t(26099),h=8,f=new p({Extends:s,Mixins:[o.Alpha,o.BlendMode,o.ComputedSize,o.Crop,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.Tint,o.Transform,o.Visible,n],initialize:function(d,v,g,y,x,T,S){var A=d.sys.renderer;s.call(this,d,"TileSprite");var P=d.sys.textures.get(T),D=P.get(S);D.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),P=d.sys.textures.get("__MISSING"),D=P.get()),P.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),P=d.sys.textures.get("__MISSING"),D=P.get()),!y||!x?(y=y||D.width,x=x||D.height):(y=Math.floor(y),x=Math.floor(x)),this._tilePosition=new i,this._tileScale=new i(1,1),this.dirty=!1,this.renderer=A,this.canvas=a.create(this,y,x),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=P,this.displayFrame=D,this._crop=this.resetCropObject(),this._textureKey=l(),this.texture=d.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=r(D.width),this.potHeight=r(D.height),this.fillCanvas=a.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(v,g),this.setSize(y,x),this.setFrame(S),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(c,d){return this.displayTexture=this.scene.sys.textures.get(c),this.setFrame(d)},setFrame:function(c){var d=this.displayTexture.get(c);return this.potWidth=r(d.width),this.potHeight=r(d.height),this.canvas.width=0,!d.cutWidth||!d.cutHeight?this.renderFlags&=~h:this.renderFlags|=h,this.displayFrame=d,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(c,d){return c!==void 0&&(this.tilePositionX=c),d!==void 0&&(this.tilePositionY=d),this},setTileScale:function(c,d){return c===void 0&&(c=this.tileScaleX),d===void 0&&(d=c),this.tileScaleX=c,this.tileScaleY=d,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var c=this.displayFrame;if(c.source.isRenderTexture||c.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var d=this.fillContext,v=this.fillCanvas,g=this.potWidth,y=this.potHeight;(!this.renderer||!this.renderer.gl)&&(g=c.cutWidth,y=c.cutHeight),d.clearRect(0,0,g,y),v.width=g,v.height=y,d.drawImage(c.source.image,c.cutX,c.cutY,c.cutWidth,c.cutHeight,0,0,g,y),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(v,this.fillPattern):this.fillPattern=d.createPattern(v,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var c=this.canvas;if((c.width!==this.width||c.height!==this.height)&&(c.width=this.width,c.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var d=this.context;this.scene.sys.game.config.antialias||e.disable(d);var v=this._tileScale.x,g=this._tileScale.y,y=this._tilePosition.x,x=this._tilePosition.y;d.clearRect(0,0,this.width,this.height),d.save(),d.scale(v,g),d.translate(-y,-x),d.fillStyle=this.fillPattern,d.fillRect(y,x,this.width/v,this.height/g),d.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),a.remove(this.canvas),a.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var c=this.texture;c&&c.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(c){this._tilePosition.x=c,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(c){this._tilePosition.y=c,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(c){this._tileScale.x=c,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(c){this._tileScale.y=c,this.dirty=!0}}});u.exports=f},46992:u=>{var m=function(t,a,p,o){a.updateCanvas(),p.addToRenderList(a),t.batchSprite(a,a.frame,p,o)};u.exports=m},14167:(u,m,t)=>{var a=t(25305),p=t(44603),o=t(23568),s=t(20839);p.register("tileSprite",function(r,e){r===void 0&&(r={});var n=o(r,"x",0),l=o(r,"y",0),i=o(r,"width",512),h=o(r,"height",512),f=o(r,"key",""),c=o(r,"frame",""),d=new s(this.scene,n,l,i,h,f,c);return e!==void 0&&(r.add=e),a(this.scene,d,r),d})},91681:(u,m,t)=>{var a=t(20839),p=t(39429);p.register("tileSprite",function(o,s,r,e,n,l){return this.displayList.add(new a(this.scene,o,s,r,e,n,l))})},56295:(u,m,t)=>{var a=t(29747),p=a,o=a;p=t(18553),o=t(46992),u.exports={renderWebGL:p,renderCanvas:o}},18553:(u,m,t)=>{var a=t(70554),p=function(o,s,r,e){s.updateCanvas();var n=s.width,l=s.height;if(!(n===0||l===0)){r.addToRenderList(s);var i=a.getTintAppendFloatAlpha,h=o.pipelines.set(s.pipeline,s),f=h.setTexture2D(s.fillPattern,s);h.batchTexture(s,s.fillPattern,s.displayFrame.width*s.tileScaleX,s.displayFrame.height*s.tileScaleY,s.x,s.y,n,l,s.scaleX,s.scaleY,s.rotation,s.flipX,s.flipY,s.scrollFactorX,s.scrollFactorY,s.originX*n,s.originY*l,0,0,n,l,i(s.tintTopLeft,r.alpha*s._alphaTL),i(s.tintTopRight,r.alpha*s._alphaTR),i(s.tintBottomLeft,r.alpha*s._alphaBL),i(s.tintBottomRight,r.alpha*s._alphaBR),s.tintFill,s.tilePositionX%s.displayFrame.width/s.displayFrame.width,s.tilePositionY%s.displayFrame.height/s.displayFrame.height,r,e,!1,f)}};u.exports=p},18471:(u,m,t)=>{var a=t(45319),p=t(83419),o=t(31401),s=t(51708),r=t(8443),e=t(95643),n=t(36383),l=t(14463),i=t(45650),h=t(10247),f=new p({Extends:e,Mixins:[o.Alpha,o.BlendMode,o.ComputedSize,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.TextureCrop,o.Tint,o.Transform,o.Visible,h],initialize:function(d,v,g,y){e.call(this,d,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=i(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._getFrame=!1,this._rfvCallbackId=0;var x=d.sys.game;this._device=x.device.video,this.setPosition(v,g),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),x.events.on(r.PAUSE,this.globalPause,this),x.events.on(r.RESUME,this.globalResume,this);var T=d.sys.sound;T&&T.on(l.GLOBAL_MUTE,this.globalMute,this),y&&this.load(y)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(c){var d=this.scene.sys.cache.video.get(c);return d?(this.cacheKey=c,this.loadHandler(d.url,d.noAudio,d.crossOrigin)):console.warn("No video in cache for key: "+c),this},changeSource:function(c,d,v,g,y){d===void 0&&(d=!0),v===void 0&&(v=!1),this.cacheKey!==c&&(this.load(c),d&&this.play(v,g,y))},getVideoKey:function(){return this.cacheKey},loadURL:function(c,d,v){d===void 0&&(d=!1);var g=this._device.getVideoURL(c);return g?(this.cacheKey="",this.loadHandler(g.url,d,v)):console.warn("No supported video format found for "+c),this},loadMediaStream:function(c,d,v){return this.loadHandler(null,d,v,c)},loadHandler:function(c,d,v,g){d||(d=!1);var y=this.video;if(y?(this.removeLoadEventHandlers(),this.stop()):(y=document.createElement("video"),y.controls=!1,y.setAttribute("playsinline","playsinline"),y.setAttribute("preload","auto"),y.setAttribute("disablePictureInPicture","true")),d?(y.muted=!0,y.defaultMuted=!0,y.setAttribute("autoplay","autoplay")):(y.muted=!1,y.defaultMuted=!1,y.removeAttribute("autoplay")),v?y.setAttribute("crossorigin",v):y.removeAttribute("crossorigin"),g)if("srcObject"in y)try{y.srcObject=g}catch(T){if(T.name!=="TypeError")throw T;y.src=URL.createObjectURL(g)}else y.src=URL.createObjectURL(g);else y.src=c;this.retry=0,this.video=y,this._playCalled=!1,y.load(),this.addLoadEventHandlers();var x=this.scene.sys.textures.get(this._key);return this.setTexture(x),this},requestVideoFrame:function(c,d){var v=this.video;if(v){var g=d.width,y=d.height,x=this.videoTexture,T=this.videoTextureSource,S=!x||T.source!==v;S?(this._codePaused=v.paused,this._codeMuted=v.muted,x?(T.source=v,T.width=g,T.height=y,x.get().setSize(g,y)):(x=this.scene.sys.textures.create(this._key,v,g,y),x.add("__BASE",0,0,0,g,y),this.setTexture(x),this.videoTexture=x,this.videoTextureSource=x.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(s.VIDEO_TEXTURE,this,x)),this.setSizeToFrame(),this.updateDisplayOrigin()):T.update(),this.isStalled=!1,this.metadata=d;var A=d.mediaTime;S&&(this._lastUpdate=A,this.emit(s.VIDEO_CREATED,this,g,y),this.frameReady||(this.frameReady=!0,this.emit(s.VIDEO_PLAY,this))),this._playingMarker?A>=this._markerOut&&(v.loop?(v.currentTime=this._markerIn,this.emit(s.VIDEO_LOOP,this)):(this.stop(!1),this.emit(s.VIDEO_COMPLETE,this))):A<this._lastUpdate&&this.emit(s.VIDEO_LOOP,this),this._lastUpdate=A,this._getFrame?(this.removeEventHandlers(),v.pause(),this._getFrame=!1):this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(c,d,v){d===void 0&&(d=-1),v===void 0&&(v=n.MAX_SAFE_INTEGER);var g=this.video;return!g||this.isPlaying()?(g||console.warn("Video not loaded"),this):(c===void 0&&(c=g.loop),g.loop=c,this._markerIn=d,this._markerOut=v,this._playingMarker=d>-1&&v>d&&v<n.MAX_SAFE_INTEGER,this._playCalled||(this._getFrame=!1,this._rfvCallbackId=g.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},getFirstFrame:function(){var c=this.video;return!c||this.isPlaying()?(c||console.warn("Video not loaded"),this):(this._playCalled||(this._getFrame=!0,this._rfvCallbackId=c.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this.createPlayPromise()),this)},addLoadEventHandlers:function(){var c=this.video;c&&(c.addEventListener("error",this._loadCallbackHandler),c.addEventListener("abort",this._loadCallbackHandler),c.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var c=this.video;c&&(c.removeEventListener("error",this._loadCallbackHandler),c.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var c=this.video;if(c){var d=this._callbacks;for(var v in d)c.addEventListener(v,d[v])}},removeEventHandlers:function(){var c=this.video;if(c){var d=this._callbacks;for(var v in d)c.removeEventListener(v,d[v])}},createPlayPromise:function(c){c===void 0&&(c=!0);var d=this.video,v=d.play();if(v!==void 0){var g=this.playSuccess.bind(this),y=this.playError.bind(this);if(!c){var x=this;y=function(){x.failedPlayAttempts++}}v.then(g).catch(y)}else d.addEventListener("playing",this._callbacks.legacy),c||this.failedPlayAttempts++},addMarker:function(c,d,v){return!isNaN(d)&&d>=0&&!isNaN(v)&&v>d&&(this.markers[c]=[d,v]),this},playMarker:function(c,d){var v=this.markers[c];return v&&this.play(d,v[0],v[1]),this},removeMarker:function(c){return delete this.markers[c],this},snapshot:function(c,d){return c===void 0&&(c=this.width),d===void 0&&(d=this.height),this.snapshotArea(0,0,this.width,this.height,c,d)},snapshotArea:function(c,d,v,g,y,x){c===void 0&&(c=0),d===void 0&&(d=0),v===void 0&&(v=this.width),g===void 0&&(g=this.height),y===void 0&&(y=v),x===void 0&&(x=g);var T=this.video,S=this.snapshotTexture;return S?(S.setSize(y,x),T&&S.context.drawImage(T,c,d,v,g,0,0,y,x)):(S=this.scene.sys.textures.createCanvas(i(),y,x),this.snapshotTexture=S,T&&S.context.drawImage(T,c,d,v,g,0,0,y,x)),S.update()},saveSnapshotTexture:function(c){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,c):this.snapshotTexture=this.scene.sys.textures.createCanvas(c,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(s.VIDEO_UNLOCKED,this));var c=this.scene.sys.sound;c&&c.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(c){var d=c.name;d==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(s.VIDEO_LOCKED,this)):d==="NotSupportedError"?(this.stop(!1),this.emit(s.VIDEO_UNSUPPORTED,this,c)):(this.stop(!1),this.emit(s.VIDEO_ERROR,this,c))},legacyPlayHandler:function(){var c=this.video;c&&(this.playSuccess(),c.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(s.VIDEO_PLAYING,this)},loadErrorHandler:function(c){this.stop(!1),this.emit(s.VIDEO_ERROR,this,c)},metadataHandler:function(c){this.emit(s.VIDEO_METADATA,this,c)},setSizeToFrame:function(c){c||(c=this.frame),this.width=c.realWidth,this.height=c.realHeight,this.scaleX!==1&&(this.scaleX=this.displayWidth/this.width),this.scaleY!==1&&(this.scaleY=this.displayHeight/this.height);var d=this.input;return d&&!d.customHitArea&&(d.hitArea.width=this.width,d.hitArea.height=this.height),this},stalledHandler:function(c){this.isStalled=!0,this.emit(s.VIDEO_STALLED,this,c)},completeHandler:function(){this._playCalled=!1,this.emit(s.VIDEO_COMPLETE,this)},preUpdate:function(c,d){var v=this.video;!v||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=d,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(c){var d=this.video;if(d){var v=d.duration;if(v!==1/0&&!isNaN(v)){var g=v*c;this.setCurrentTime(g)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(c){var d=this.video;if(d){if(typeof c=="string"){var v=c[0],g=parseFloat(c.substr(1));v==="+"?c=d.currentTime+g:v==="-"&&(c=d.currentTime-g)}d.currentTime=c}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(s.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(s.VIDEO_SEEKED,this)},getProgress:function(){var c=this.video;if(c){var d=c.duration;if(d!==1/0&&!isNaN(d))return c.currentTime/d}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(c){c===void 0&&(c=!0),this._codeMuted=c;var d=this.video;return d&&(d.muted=this._systemMuted?!0:c),this},isMuted:function(){return this._codeMuted},globalMute:function(c,d){this._systemMuted=d;var v=this.video;v&&(v.muted=this._codeMuted?!0:d)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(c){c===void 0&&(c=!0);var d=this.video;return this._codePaused=c,d&&!d.ended&&(c?d.paused||(this.removeEventHandlers(),d.pause()):c||(this._playCalled?d.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(c){return c===void 0&&(c=1),this.video&&(this.video.volume=a(c,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(c){return this.video&&(this.video.playbackRate=c),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(c){return c===void 0&&(c=!0),this.video&&(this.video.loop=c),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(c,d){return d===void 0&&(d=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,c),this.videoTextureSource.setFlipY(d)),this._key=c,this.flipY=d,!!this.videoTexture},stop:function(c){c===void 0&&(c=!0);var d=this.video;return d&&(this.removeEventHandlers(),d.cancelVideoFrameCallback(this._rfvCallbackId),d.pause()),this.retry=0,this._playCalled=!1,c&&this.emit(s.VIDEO_STOP,this),this},removeVideoElement:function(){var c=this.video;if(c){for(c.parentNode&&c.parentNode.removeChild(c);c.hasChildNodes();)c.removeChild(c.firstChild);c.removeAttribute("autoplay"),c.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var c=this.scene.sys.game.events;c.off(r.PAUSE,this.globalPause,this),c.off(r.RESUME,this.globalResume,this);var d=this.scene.sys.sound;d&&d.off(l.GLOBAL_MUTE,this.globalMute,this)}});u.exports=f},58352:u=>{var m=function(t,a,p,o){a.videoTexture&&(p.addToRenderList(a),t.batchSprite(a,a.frame,p,o))};u.exports=m},11511:(u,m,t)=>{var a=t(25305),p=t(44603),o=t(23568),s=t(18471);p.register("video",function(r,e){r===void 0&&(r={});var n=o(r,"key",null),l=new s(this.scene,0,0,n);return e!==void 0&&(r.add=e),a(this.scene,l,r),l})},89025:(u,m,t)=>{var a=t(18471),p=t(39429);p.register("video",function(o,s,r){return this.displayList.add(new a(this.scene,o,s,r))})},10247:(u,m,t)=>{var a=t(29747),p=a,o=a;p=t(29849),o=t(58352),u.exports={renderWebGL:p,renderCanvas:o}},29849:u=>{var m=function(t,a,p,o){a.videoTexture&&(p.addToRenderList(a),a.pipeline.batchSprite(a,p,o))};u.exports=m},41481:(u,m,t)=>{var a=t(10312),p=t(96503),o=t(87902),s=t(83419),r=t(31401),e=t(95643),n=t(87841),l=t(37303),i=new s({Extends:e,Mixins:[r.Depth,r.GetBounds,r.Origin,r.Transform,r.ScrollFactor,r.Visible],initialize:function(f,c,d,v,g){v===void 0&&(v=1),g===void 0&&(g=v),e.call(this,f,"Zone"),this.setPosition(c,d),this.width=v,this.height=g,this.blendMode=a.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(h){this.scaleX=h/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(h){this.scaleY=h/this.height}},setSize:function(h,f,c){c===void 0&&(c=!0),this.width=h,this.height=f,this.updateDisplayOrigin();var d=this.input;return c&&d&&!d.customHitArea&&(d.hitArea.width=h,d.hitArea.height=f),this},setDisplaySize:function(h,f){return this.displayWidth=h,this.displayHeight=f,this},setCircleDropZone:function(h){return this.setDropZone(new p(0,0,h),o)},setRectangleDropZone:function(h,f){return this.setDropZone(new n(0,0,h,f),l)},setDropZone:function(h,f){return this.input||this.setInteractive(h,f,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(h,f,c){c.addToRenderList(f)},renderWebGL:function(h,f,c){c.addToRenderList(f)}});u.exports=i},95261:(u,m,t)=>{var a=t(44603),p=t(23568),o=t(41481);a.register("zone",function(s){var r=p(s,"x",0),e=p(s,"y",0),n=p(s,"width",1),l=p(s,"height",n);return new o(this.scene,r,e,n,l)})},84175:(u,m,t)=>{var a=t(41481),p=t(39429);p.register("zone",function(o,s,r,e){return this.displayList.add(new a(this.scene,o,s,r,e))})},95166:u=>{var m=function(t){return t.radius>0?Math.PI*t.radius*t.radius:0};u.exports=m},96503:(u,m,t)=>{var a=t(83419),p=t(87902),o=t(26241),s=t(79124),r=t(23777),e=t(28176),n=new a({initialize:function(i,h,f){i===void 0&&(i=0),h===void 0&&(h=0),f===void 0&&(f=0),this.type=r.CIRCLE,this.x=i,this.y=h,this._radius=f,this._diameter=f*2},contains:function(l,i){return p(this,l,i)},getPoint:function(l,i){return o(this,l,i)},getPoints:function(l,i,h){return s(this,l,i,h)},getRandomPoint:function(l){return e(this,l)},setTo:function(l,i,h){return this.x=l,this.y=i,this._radius=h,this._diameter=h*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(l,i){return i===void 0&&(i=l),this.x=l,this.y=i,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(l){this._radius=l,this._diameter=l*2}},diameter:{get:function(){return this._diameter},set:function(l){this._diameter=l,this._radius=l*.5}},left:{get:function(){return this.x-this._radius},set:function(l){this.x=l+this._radius}},right:{get:function(){return this.x+this._radius},set:function(l){this.x=l-this._radius}},top:{get:function(){return this.y-this._radius},set:function(l){this.y=l+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(l){this.y=l-this._radius}}});u.exports=n},71562:u=>{var m=function(t){return 2*(Math.PI*t.radius)};u.exports=m},92110:(u,m,t)=>{var a=t(2141),p=function(o,s,r){return r===void 0&&(r=new a),r.x=o.x+o.radius*Math.cos(s),r.y=o.y+o.radius*Math.sin(s),r};u.exports=p},42250:(u,m,t)=>{var a=t(96503),p=function(o){return new a(o.x,o.y,o.radius)};u.exports=p},87902:u=>{var m=function(t,a,p){if(t.radius>0&&a>=t.left&&a<=t.right&&p>=t.top&&p<=t.bottom){var o=(t.x-a)*(t.x-a),s=(t.y-p)*(t.y-p);return o+s<=t.radius*t.radius}else return!1};u.exports=m},5698:(u,m,t)=>{var a=t(87902),p=function(o,s){return a(o,s.x,s.y)};u.exports=p},70588:(u,m,t)=>{var a=t(87902),p=function(o,s){return a(o,s.x,s.y)&&a(o,s.right,s.y)&&a(o,s.x,s.bottom)&&a(o,s.right,s.bottom)};u.exports=p},26394:u=>{var m=function(t,a){return a.setTo(t.x,t.y,t.radius)};u.exports=m},76278:u=>{var m=function(t,a){return t.x===a.x&&t.y===a.y&&t.radius===a.radius};u.exports=m},2074:(u,m,t)=>{var a=t(87841),p=function(o,s){return s===void 0&&(s=new a),s.x=o.left,s.y=o.top,s.width=o.diameter,s.height=o.diameter,s};u.exports=p},26241:(u,m,t)=>{var a=t(92110),p=t(62945),o=t(36383),s=t(2141),r=function(e,n,l){l===void 0&&(l=new s);var i=p(n,0,o.PI2);return a(e,i,l)};u.exports=r},79124:(u,m,t)=>{var a=t(71562),p=t(92110),o=t(62945),s=t(36383),r=function(e,n,l,i){i===void 0&&(i=[]),!n&&l>0&&(n=a(e)/l);for(var h=0;h<n;h++){var f=o(h/n,0,s.PI2);i.push(p(e,f))}return i};u.exports=r},50884:u=>{var m=function(t,a,p){return t.x+=a,t.y+=p,t};u.exports=m},39212:u=>{var m=function(t,a){return t.x+=a.x,t.y+=a.y,t};u.exports=m},28176:(u,m,t)=>{var a=t(2141),p=function(o,s){s===void 0&&(s=new a);var r=2*Math.PI*Math.random(),e=Math.random()+Math.random(),n=e>1?2-e:e,l=n*Math.cos(r),i=n*Math.sin(r);return s.x=o.x+l*o.radius,s.y=o.y+i*o.radius,s};u.exports=p},88911:(u,m,t)=>{var a=t(96503);a.Area=t(95166),a.Circumference=t(71562),a.CircumferencePoint=t(92110),a.Clone=t(42250),a.Contains=t(87902),a.ContainsPoint=t(5698),a.ContainsRect=t(70588),a.CopyFrom=t(26394),a.Equals=t(76278),a.GetBounds=t(2074),a.GetPoint=t(26241),a.GetPoints=t(79124),a.Offset=t(50884),a.OffsetPoint=t(39212),a.Random=t(28176),u.exports=a},23777:u=>{var m={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};u.exports=m},78874:u=>{var m=function(t){return t.isEmpty()?0:t.getMajorRadius()*t.getMinorRadius()*Math.PI};u.exports=m},92990:u=>{var m=function(t){var a=t.width/2,p=t.height/2,o=Math.pow(a-p,2)/Math.pow(a+p,2);return Math.PI*(a+p)*(1+3*o/(10+Math.sqrt(4-3*o)))};u.exports=m},79522:(u,m,t)=>{var a=t(2141),p=function(o,s,r){r===void 0&&(r=new a);var e=o.width/2,n=o.height/2;return r.x=o.x+e*Math.cos(s),r.y=o.y+n*Math.sin(s),r};u.exports=p},58102:(u,m,t)=>{var a=t(8497),p=function(o){return new a(o.x,o.y,o.width,o.height)};u.exports=p},81154:u=>{var m=function(t,a,p){if(t.width<=0||t.height<=0)return!1;var o=(a-t.x)/t.width,s=(p-t.y)/t.height;return o*=o,s*=s,o+s<.25};u.exports=m},46662:(u,m,t)=>{var a=t(81154),p=function(o,s){return a(o,s.x,s.y)};u.exports=p},1632:(u,m,t)=>{var a=t(81154),p=function(o,s){return a(o,s.x,s.y)&&a(o,s.right,s.y)&&a(o,s.x,s.bottom)&&a(o,s.right,s.bottom)};u.exports=p},65534:u=>{var m=function(t,a){return a.setTo(t.x,t.y,t.width,t.height)};u.exports=m},8497:(u,m,t)=>{var a=t(83419),p=t(81154),o=t(90549),s=t(48320),r=t(23777),e=t(24820),n=new a({initialize:function(i,h,f,c){i===void 0&&(i=0),h===void 0&&(h=0),f===void 0&&(f=0),c===void 0&&(c=0),this.type=r.ELLIPSE,this.x=i,this.y=h,this.width=f,this.height=c},contains:function(l,i){return p(this,l,i)},getPoint:function(l,i){return o(this,l,i)},getPoints:function(l,i,h){return s(this,l,i,h)},getRandomPoint:function(l){return e(this,l)},setTo:function(l,i,h,f){return this.x=l,this.y=i,this.width=h,this.height=f,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(l,i){return i===void 0&&(i=l),this.x=l,this.y=i,this},setSize:function(l,i){return i===void 0&&(i=l),this.width=l,this.height=i,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(l){this.x=l+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(l){this.x=l-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(l){this.y=l+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(l){this.y=l-this.height/2}}});u.exports=n},36146:u=>{var m=function(t,a){return t.x===a.x&&t.y===a.y&&t.width===a.width&&t.height===a.height};u.exports=m},23694:(u,m,t)=>{var a=t(87841),p=function(o,s){return s===void 0&&(s=new a),s.x=o.left,s.y=o.top,s.width=o.width,s.height=o.height,s};u.exports=p},90549:(u,m,t)=>{var a=t(79522),p=t(62945),o=t(36383),s=t(2141),r=function(e,n,l){l===void 0&&(l=new s);var i=p(n,0,o.PI2);return a(e,i,l)};u.exports=r},48320:(u,m,t)=>{var a=t(92990),p=t(79522),o=t(62945),s=t(36383),r=function(e,n,l,i){i===void 0&&(i=[]),!n&&l>0&&(n=a(e)/l);for(var h=0;h<n;h++){var f=o(h/n,0,s.PI2);i.push(p(e,f))}return i};u.exports=r},73424:u=>{var m=function(t,a,p){return t.x+=a,t.y+=p,t};u.exports=m},44808:u=>{var m=function(t,a){return t.x+=a.x,t.y+=a.y,t};u.exports=m},24820:(u,m,t)=>{var a=t(2141),p=function(o,s){s===void 0&&(s=new a);var r=Math.random()*Math.PI*2,e=Math.sqrt(Math.random());return s.x=o.x+e*Math.cos(r)*o.width/2,s.y=o.y+e*Math.sin(r)*o.height/2,s};u.exports=p},49203:(u,m,t)=>{var a=t(8497);a.Area=t(78874),a.Circumference=t(92990),a.CircumferencePoint=t(79522),a.Clone=t(58102),a.Contains=t(81154),a.ContainsPoint=t(46662),a.ContainsRect=t(1632),a.CopyFrom=t(65534),a.Equals=t(36146),a.GetBounds=t(23694),a.GetPoint=t(90549),a.GetPoints=t(48320),a.Offset=t(73424),a.OffsetPoint=t(44808),a.Random=t(24820),u.exports=a},55738:(u,m,t)=>{var a=t(23777),p=t(79291),o={Circle:t(88911),Ellipse:t(49203),Intersects:t(91865),Line:t(2529),Mesh:t(73090),Point:t(43711),Polygon:t(58423),Rectangle:t(93232),Triangle:t(84435)};o=p(!1,o,a),u.exports=o},2044:(u,m,t)=>{var a=t(20339),p=function(o,s){return a(o.x,o.y,s.x,s.y)<=o.radius+s.radius};u.exports=p},81491:u=>{var m=function(t,a){var p=a.width/2,o=a.height/2,s=Math.abs(t.x-a.x-p),r=Math.abs(t.y-a.y-o),e=p+t.radius,n=o+t.radius;if(s>e||r>n)return!1;if(s<=p||r<=o)return!0;var l=s-p,i=r-o,h=l*l,f=i*i,c=t.radius*t.radius;return h+f<=c};u.exports=m},63376:(u,m,t)=>{var a=t(2141),p=t(2044),o=function(s,r,e){if(e===void 0&&(e=[]),p(s,r)){var n=s.x,l=s.y,i=s.radius,h=r.x,f=r.y,c=r.radius,d,v,g,y,x;if(l===f)x=(c*c-i*i-h*h+n*n)/(2*(n-h)),d=1,v=-2*f,g=h*h+x*x-2*h*x+f*f-c*c,y=v*v-4*d*g,y===0?e.push(new a(x,-v/(2*d))):y>0&&(e.push(new a(x,(-v+Math.sqrt(y))/(2*d))),e.push(new a(x,(-v-Math.sqrt(y))/(2*d))));else{var T=(n-h)/(l-f),S=(c*c-i*i-h*h+n*n-f*f+l*l)/(2*(l-f));d=T*T+1,v=2*l*T-2*S*T-2*n,g=n*n+l*l+S*S-i*i-2*l*S,y=v*v-4*d*g,y===0?(x=-v/(2*d),e.push(new a(x,S-x*T))):y>0&&(x=(-v+Math.sqrt(y))/(2*d),e.push(new a(x,S-x*T)),x=(-v-Math.sqrt(y))/(2*d),e.push(new a(x,S-x*T)))}}return e};u.exports=o},97439:(u,m,t)=>{var a=t(4042),p=t(81491),o=function(s,r,e){if(e===void 0&&(e=[]),p(s,r)){var n=r.getLineA(),l=r.getLineB(),i=r.getLineC(),h=r.getLineD();a(n,s,e),a(l,s,e),a(i,s,e),a(h,s,e)}return e};u.exports=o},4042:(u,m,t)=>{var a=t(2141),p=t(80462),o=function(s,r,e){if(e===void 0&&(e=[]),p(s,r)){var n=s.x1,l=s.y1,i=s.x2,h=s.y2,f=r.x,c=r.y,d=r.radius,v=i-n,g=h-l,y=n-f,x=l-c,T=v*v+g*g,S=2*(v*y+g*x),A=y*y+x*x-d*d,P=S*S-4*T*A,D,R;if(P===0){var L=-S/(2*T);D=n+L*v,R=l+L*g,L>=0&&L<=1&&e.push(new a(D,R))}else if(P>0){var I=(-S-Math.sqrt(P))/(2*T);D=n+I*v,R=l+I*g,I>=0&&I<=1&&e.push(new a(D,R));var w=(-S+Math.sqrt(P))/(2*T);D=n+w*v,R=l+w*g,w>=0&&w<=1&&e.push(new a(D,R))}}return e};u.exports=o},36100:(u,m,t)=>{var a=t(25836),p=function(o,s,r,e){r===void 0&&(r=!1);var n=o.x1,l=o.y1,i=o.x2,h=o.y2,f=s.x1,c=s.y1,d=s.x2,v=s.y2,g=i-n,y=h-l,x=d-f,T=v-c,S=g*T-y*x;if(S===0)return null;var A,P,D;if(r){if(A=(g*(c-l)+y*(n-f))/(x*y-T*g),g!==0)P=(f+x*A-n)/g;else if(y!==0)P=(c+T*A-l)/y;else return null;if(P<0||A<0||A>1)return null;D=P}else{if(A=((f-n)*T-(c-l)*x)/S,P=((l-c)*g-(n-f)*y)/S,A<0||A>1||P<0||P>1)return null;D=A}return e===void 0&&(e=new a),e.set(n+g*D,l+y*D,D)};u.exports=p},3073:(u,m,t)=>{var a=t(36100),p=t(23031),o=t(25836),s=new p,r=new o,e=function(n,l,i,h){i===void 0&&(i=!1),h===void 0&&(h=new o);var f=!1;h.set(),r.set();for(var c=l[l.length-1],d=0;d<l.length;d++){var v=l[d];s.setTo(c.x,c.y,v.x,v.y),c=v,a(n,s,i,r)&&(!f||r.z<h.z)&&(h.copy(r),f=!0)}return f?h:null};u.exports=e},56362:(u,m,t)=>{var a=t(25836),p=t(61369),o=t(3073),s=new a,r=function(e,n,l,i){i===void 0&&(i=new p),Array.isArray(n)||(n=[n]);var h=!1;i.set(),s.set();for(var f=0;f<n.length;f++)o(e,n[f].points,l,s)&&(!h||s.z<i.z)&&(i.set(s.x,s.y,s.z,f),h=!0);return h?i:null};u.exports=r},60646:(u,m,t)=>{var a=t(2141),p=t(76112),o=t(92773),s=function(r,e,n){if(n===void 0&&(n=[]),o(r,e))for(var l=e.getLineA(),i=e.getLineB(),h=e.getLineC(),f=e.getLineD(),c=[new a,new a,new a,new a],d=[p(l,r,c[0]),p(i,r,c[1]),p(h,r,c[2]),p(f,r,c[3])],v=0;v<4;v++)d[v]&&n.push(c[v]);return n};u.exports=s},71147:(u,m,t)=>{var a=t(61369),p=t(56362),o=t(23031),s=new o;function r(l,i,h,f,c){var d=Math.cos(l),v=Math.sin(l);s.setTo(i,h,i+d,h+v);var g=p(s,f,!0);g&&c.push(new a(g.x,g.y,l,g.w))}function e(l,i){return l.z-i.z}var n=function(l,i,h){Array.isArray(h)||(h=[h]);for(var f=[],c=[],d=0;d<h.length;d++)for(var v=h[d].points,g=0;g<v.length;g++){var y=Math.atan2(v[g].y-i,v[g].x-l);c.indexOf(y)===-1&&(r(y,l,i,h,f),r(y-1e-5,l,i,h,f),r(y+1e-5,l,i,h,f),c.push(y))}return f.sort(e)};u.exports=n},68389:(u,m,t)=>{var a=t(87841),p=t(59996),o=function(s,r,e){return e===void 0&&(e=new a),p(s,r)&&(e.x=Math.max(s.x,r.x),e.y=Math.max(s.y,r.y),e.width=Math.min(s.right,r.right)-e.x,e.height=Math.min(s.bottom,r.bottom)-e.y),e};u.exports=o},52784:(u,m,t)=>{var a=t(60646),p=t(59996),o=function(s,r,e){if(e===void 0&&(e=[]),p(s,r)){var n=s.getLineA(),l=s.getLineB(),i=s.getLineC(),h=s.getLineD();a(n,r,e),a(l,r,e),a(i,r,e),a(h,r,e)}return e};u.exports=o},26341:(u,m,t)=>{var a=t(89265),p=t(60646),o=function(s,r,e){if(e===void 0&&(e=[]),a(s,r)){var n=r.getLineA(),l=r.getLineB(),i=r.getLineC();p(n,s,e),p(l,s,e),p(i,s,e)}return e};u.exports=o},38720:(u,m,t)=>{var a=t(4042),p=t(67636),o=function(s,r,e){if(e===void 0&&(e=[]),p(s,r)){var n=s.getLineA(),l=s.getLineB(),i=s.getLineC();a(n,r,e),a(l,r,e),a(i,r,e)}return e};u.exports=o},13882:(u,m,t)=>{var a=t(2141),p=t(2822),o=t(76112),s=function(r,e,n){if(n===void 0&&(n=[]),p(r,e))for(var l=r.getLineA(),i=r.getLineB(),h=r.getLineC(),f=[new a,new a,new a],c=[o(l,e,f[0]),o(i,e,f[1]),o(h,e,f[2])],d=0;d<3;d++)c[d]&&n.push(f[d]);return n};u.exports=s},75636:(u,m,t)=>{var a=t(82944),p=t(13882),o=function(s,r,e){if(e===void 0&&(e=[]),a(s,r)){var n=r.getLineA(),l=r.getLineB(),i=r.getLineC();p(s,n,e),p(s,l,e),p(s,i,e)}return e};u.exports=o},80462:(u,m,t)=>{var a=t(87902),p=t(2141),o=new p,s=function(r,e,n){if(n===void 0&&(n=o),a(e,r.x1,r.y1))return n.x=r.x1,n.y=r.y1,!0;if(a(e,r.x2,r.y2))return n.x=r.x2,n.y=r.y2,!0;var l=r.x2-r.x1,i=r.y2-r.y1,h=e.x-r.x1,f=e.y-r.y1,c=l*l+i*i,d=l,v=i;if(c>0){var g=(h*l+f*i)/c;d*=g,v*=g}n.x=r.x1+d,n.y=r.y1+v;var y=d*d+v*v;return y<=c&&d*l+v*i>=0&&a(e,n.x,n.y)};u.exports=s},76112:u=>{var m=function(t,a,p){var o=t.x1,s=t.y1,r=t.x2,e=t.y2,n=a.x1,l=a.y1,i=a.x2,h=a.y2;if(o===r&&s===e||n===i&&l===h)return!1;var f=(h-l)*(r-o)-(i-n)*(e-s);if(f===0)return!1;var c=((i-n)*(s-l)-(h-l)*(o-n))/f,d=((r-o)*(s-l)-(e-s)*(o-n))/f;return c<0||c>1||d<0||d>1?!1:(p&&(p.x=o+c*(r-o),p.y=s+c*(e-s)),!0)};u.exports=m},92773:u=>{var m=function(t,a){var p=t.x1,o=t.y1,s=t.x2,r=t.y2,e=a.x,n=a.y,l=a.right,i=a.bottom,h=0;if(p>=e&&p<=l&&o>=n&&o<=i||s>=e&&s<=l&&r>=n&&r<=i)return!0;if(p<e&&s>=e){if(h=o+(r-o)*(e-p)/(s-p),h>n&&h<=i)return!0}else if(p>l&&s<=l&&(h=o+(r-o)*(l-p)/(s-p),h>=n&&h<=i))return!0;if(o<n&&r>=n){if(h=p+(s-p)*(n-o)/(r-o),h>=e&&h<=l)return!0}else if(o>i&&r<=i&&(h=p+(s-p)*(i-o)/(r-o),h>=e&&h<=l))return!0;return!1};u.exports=m},16204:u=>{var m=function(t,a,p){p===void 0&&(p=1);var o=a.x1,s=a.y1,r=a.x2,e=a.y2,n=t.x,l=t.y,i=(r-o)*(r-o)+(e-s)*(e-s);if(i===0)return!1;var h=((n-o)*(r-o)+(l-s)*(e-s))/i;if(h<0)return Math.sqrt((o-n)*(o-n)+(s-l)*(s-l))<=p;if(h>=0&&h<=1){var f=((s-l)*(r-o)-(o-n)*(e-s))/i;return Math.abs(f)*Math.sqrt(i)<=p}else return Math.sqrt((r-n)*(r-n)+(e-l)*(e-l))<=p};u.exports=m},14199:(u,m,t)=>{var a=t(16204),p=function(o,s){if(!a(o,s))return!1;var r=Math.min(s.x1,s.x2),e=Math.max(s.x1,s.x2),n=Math.min(s.y1,s.y2),l=Math.max(s.y1,s.y2);return o.x>=r&&o.x<=e&&o.y>=n&&o.y<=l};u.exports=p},59996:u=>{var m=function(t,a){return t.width<=0||t.height<=0||a.width<=0||a.height<=0?!1:!(t.right<a.x||t.bottom<a.y||t.x>a.right||t.y>a.bottom)};u.exports=m},89265:(u,m,t)=>{var a=t(76112),p=t(37303),o=t(48653),s=t(77493),r=function(e,n){if(n.left>e.right||n.right<e.left||n.top>e.bottom||n.bottom<e.top)return!1;var l=n.getLineA(),i=n.getLineB(),h=n.getLineC();if(p(e,l.x1,l.y1)||p(e,l.x2,l.y2)||p(e,i.x1,i.y1)||p(e,i.x2,i.y2)||p(e,h.x1,h.y1)||p(e,h.x2,h.y2))return!0;var f=e.getLineA(),c=e.getLineB(),d=e.getLineC(),v=e.getLineD();if(a(l,f)||a(l,c)||a(l,d)||a(l,v)||a(i,f)||a(i,c)||a(i,d)||a(i,v)||a(h,f)||a(h,c)||a(h,d)||a(h,v))return!0;var g=s(e),y=o(n,g,!0);return y.length>0};u.exports=r},84411:u=>{var m=function(t,a,p,o,s,r){return r===void 0&&(r=0),!(a>t.right+r||p<t.left-r||o>t.bottom+r||s<t.top-r)};u.exports=m},67636:(u,m,t)=>{var a=t(80462),p=t(10690),o=function(s,r){return s.left>r.right||s.right<r.left||s.top>r.bottom||s.bottom<r.top?!1:!!(p(s,r.x,r.y)||a(s.getLineA(),r)||a(s.getLineB(),r)||a(s.getLineC(),r))};u.exports=o},2822:(u,m,t)=>{var a=t(76112),p=function(o,s){return!!(o.contains(s.x1,s.y1)||o.contains(s.x2,s.y2)||a(o.getLineA(),s)||a(o.getLineB(),s)||a(o.getLineC(),s))};u.exports=p},82944:(u,m,t)=>{var a=t(48653),p=t(71694),o=t(76112),s=function(r,e){if(r.left>e.right||r.right<e.left||r.top>e.bottom||r.bottom<e.top)return!1;var n=r.getLineA(),l=r.getLineB(),i=r.getLineC(),h=e.getLineA(),f=e.getLineB(),c=e.getLineC();if(o(n,h)||o(n,f)||o(n,c)||o(l,h)||o(l,f)||o(l,c)||o(i,h)||o(i,f)||o(i,c))return!0;var d=p(r),v=a(e,d,!0);return v.length>0||(d=p(e),v=a(r,d,!0),v.length>0)};u.exports=s},91865:(u,m,t)=>{u.exports={CircleToCircle:t(2044),CircleToRectangle:t(81491),GetCircleToCircle:t(63376),GetCircleToRectangle:t(97439),GetLineToCircle:t(4042),GetLineToLine:t(36100),GetLineToPoints:t(3073),GetLineToPolygon:t(56362),GetLineToRectangle:t(60646),GetRaysFromPointToPolygon:t(71147),GetRectangleIntersection:t(68389),GetRectangleToRectangle:t(52784),GetRectangleToTriangle:t(26341),GetTriangleToCircle:t(38720),GetTriangleToLine:t(13882),GetTriangleToTriangle:t(75636),LineToCircle:t(80462),LineToLine:t(76112),LineToRectangle:t(92773),PointToLine:t(16204),PointToLineSegment:t(14199),RectangleToRectangle:t(59996),RectangleToTriangle:t(89265),RectangleToValues:t(84411),TriangleToCircle:t(67636),TriangleToLine:t(2822),TriangleToTriangle:t(82944)}},91938:u=>{var m=function(t){return Math.atan2(t.y2-t.y1,t.x2-t.x1)};u.exports=m},84993:u=>{var m=function(t,a,p){a===void 0&&(a=1),p===void 0&&(p=[]);var o=Math.round(t.x1),s=Math.round(t.y1),r=Math.round(t.x2),e=Math.round(t.y2),n=Math.abs(r-o),l=Math.abs(e-s),i=o<r?1:-1,h=s<e?1:-1,f=n-l;p.push({x:o,y:s});for(var c=1;!(o===r&&s===e);){var d=f<<1;d>-l&&(f-=l,o+=i),d<n&&(f+=n,s+=h),c%a===0&&p.push({x:o,y:s}),c++}return p};u.exports=m},36469:u=>{var m=function(t,a,p){var o=a-(t.x1+t.x2)/2,s=p-(t.y1+t.y2)/2;return t.x1+=o,t.y1+=s,t.x2+=o,t.y2+=s,t};u.exports=m},31116:(u,m,t)=>{var a=t(23031),p=function(o){return new a(o.x1,o.y1,o.x2,o.y2)};u.exports=p},59944:u=>{var m=function(t,a){return a.setTo(t.x1,t.y1,t.x2,t.y2)};u.exports=m},59220:u=>{var m=function(t,a){return t.x1===a.x1&&t.y1===a.y1&&t.x2===a.x2&&t.y2===a.y2};u.exports=m},78177:(u,m,t)=>{var a=t(35001),p=function(o,s,r){r===void 0&&(r=s);var e=a(o),n=o.x2-o.x1,l=o.y2-o.y1;return s&&(o.x1=o.x1-n/e*s,o.y1=o.y1-l/e*s),r&&(o.x2=o.x2+n/e*r,o.y2=o.y2+l/e*r),o};u.exports=p},26708:(u,m,t)=>{var a=t(52816),p=t(6113),o=t(2141),s=function(r,e,n,l,i){l===void 0&&(l=0),i===void 0&&(i=[]);var h=[],f=r.x1,c=r.y1,d=r.x2-f,v=r.y2-c,g=p(e,i),y,x,T=n-1;for(y=0;y<T;y++)x=g(y/T),h.push(new o(f+d*x,c+v*x));if(x=g(1),h.push(new o(f+d*x,c+v*x)),l>0){var S=h[0],A=[S];for(y=1;y<h.length-1;y++){var P=h[y];a(S,P)>=l&&(A.push(P),S=P)}var D=h[h.length-1];return a(S,D)<l&&A.pop(),A.push(D),A}else return h};u.exports=s},32125:(u,m,t)=>{var a=t(2141),p=function(o,s){return s===void 0&&(s=new a),s.x=(o.x1+o.x2)/2,s.y=(o.y1+o.y2)/2,s};u.exports=p},99569:(u,m,t)=>{var a=t(2141),p=function(o,s,r){r===void 0&&(r=new a);var e=o.x1,n=o.y1,l=o.x2,i=o.y2,h=(l-e)*(l-e)+(i-n)*(i-n);if(h===0)return r;var f=((s.x-e)*(l-e)+(s.y-n)*(i-n))/h;return r.x=e+f*(l-e),r.y=n+f*(i-n),r};u.exports=p},34638:(u,m,t)=>{var a=t(36383),p=t(91938),o=t(2141),s=function(r,e){e===void 0&&(e=new o);var n=p(r)-a.TAU;return e.x=Math.cos(n),e.y=Math.sin(n),e};u.exports=s},13151:(u,m,t)=>{var a=t(2141),p=function(o,s,r){return r===void 0&&(r=new a),r.x=o.x1+(o.x2-o.x1)*s,r.y=o.y1+(o.y2-o.y1)*s,r};u.exports=p},15258:(u,m,t)=>{var a=t(35001),p=t(2141),o=function(s,r,e,n){n===void 0&&(n=[]),!r&&e>0&&(r=a(s)/e);for(var l=s.x1,i=s.y1,h=s.x2,f=s.y2,c=0;c<r;c++){var d=c/r,v=l+(h-l)*d,g=i+(f-i)*d;n.push(new p(v,g))}return n};u.exports=o},26408:u=>{var m=function(t,a){var p=t.x1,o=t.y1,s=t.x2,r=t.y2,e=(s-p)*(s-p)+(r-o)*(r-o);if(e===0)return!1;var n=((o-a.y)*(s-p)-(p-a.x)*(r-o))/e;return Math.abs(n)*Math.sqrt(e)};u.exports=m},98770:u=>{var m=function(t){return Math.abs(t.y1-t.y2)};u.exports=m},35001:u=>{var m=function(t){return Math.sqrt((t.x2-t.x1)*(t.x2-t.x1)+(t.y2-t.y1)*(t.y2-t.y1))};u.exports=m},23031:(u,m,t)=>{var a=t(83419),p=t(13151),o=t(15258),s=t(23777),r=t(65822),e=t(26099),n=new a({initialize:function(i,h,f,c){i===void 0&&(i=0),h===void 0&&(h=0),f===void 0&&(f=0),c===void 0&&(c=0),this.type=s.LINE,this.x1=i,this.y1=h,this.x2=f,this.y2=c},getPoint:function(l,i){return p(this,l,i)},getPoints:function(l,i,h){return o(this,l,i,h)},getRandomPoint:function(l){return r(this,l)},setTo:function(l,i,h,f){return l===void 0&&(l=0),i===void 0&&(i=0),h===void 0&&(h=0),f===void 0&&(f=0),this.x1=l,this.y1=i,this.x2=h,this.y2=f,this},setFromObjects:function(l,i){return this.x1=l.x,this.y1=l.y,this.x2=i.x,this.y2=i.y,this},getPointA:function(l){return l===void 0&&(l=new e),l.set(this.x1,this.y1),l},getPointB:function(l){return l===void 0&&(l=new e),l.set(this.x2,this.y2),l},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(l){this.x1<=this.x2?this.x1=l:this.x2=l}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(l){this.x1>this.x2?this.x1=l:this.x2=l}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(l){this.y1<=this.y2?this.y1=l:this.y2=l}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(l){this.y1>this.y2?this.y1=l:this.y2=l}}});u.exports=n},64795:(u,m,t)=>{var a=t(36383),p=t(15994),o=t(91938),s=function(r){var e=o(r)-a.TAU;return p(e,-Math.PI,Math.PI)};u.exports=s},52616:(u,m,t)=>{var a=t(36383),p=t(91938),o=function(s){return Math.cos(p(s)-a.TAU)};u.exports=o},87231:(u,m,t)=>{var a=t(36383),p=t(91938),o=function(s){return Math.sin(p(s)-a.TAU)};u.exports=o},89662:u=>{var m=function(t,a,p){return t.x1+=a,t.y1+=p,t.x2+=a,t.y2+=p,t};u.exports=m},71165:u=>{var m=function(t){return-((t.x2-t.x1)/(t.y2-t.y1))};u.exports=m},65822:(u,m,t)=>{var a=t(2141),p=function(o,s){s===void 0&&(s=new a);var r=Math.random();return s.x=o.x1+r*(o.x2-o.x1),s.y=o.y1+r*(o.y2-o.y1),s};u.exports=p},69777:(u,m,t)=>{var a=t(91938),p=t(64795),o=function(s,r){return 2*p(r)-Math.PI-a(s)};u.exports=o},39706:(u,m,t)=>{var a=t(64400),p=function(o,s){var r=(o.x1+o.x2)/2,e=(o.y1+o.y2)/2;return a(o,r,e,s)};u.exports=p},82585:(u,m,t)=>{var a=t(64400),p=function(o,s,r){return a(o,s.x,s.y,r)};u.exports=p},64400:u=>{var m=function(t,a,p,o){var s=Math.cos(o),r=Math.sin(o),e=t.x1-a,n=t.y1-p;return t.x1=e*s-n*r+a,t.y1=e*r+n*s+p,e=t.x2-a,n=t.y2-p,t.x2=e*s-n*r+a,t.y2=e*r+n*s+p,t};u.exports=m},62377:u=>{var m=function(t,a,p,o,s){return t.x1=a,t.y1=p,t.x2=a+Math.cos(o)*s,t.y2=p+Math.sin(o)*s,t};u.exports=m},71366:u=>{var m=function(t){return(t.y2-t.y1)/(t.x2-t.x1)};u.exports=m},10809:u=>{var m=function(t){return Math.abs(t.x1-t.x2)};u.exports=m},2529:(u,m,t)=>{var a=t(23031);a.Angle=t(91938),a.BresenhamPoints=t(84993),a.CenterOn=t(36469),a.Clone=t(31116),a.CopyFrom=t(59944),a.Equals=t(59220),a.Extend=t(78177),a.GetEasedPoints=t(26708),a.GetMidPoint=t(32125),a.GetNearestPoint=t(99569),a.GetNormal=t(34638),a.GetPoint=t(13151),a.GetPoints=t(15258),a.GetShortestDistance=t(26408),a.Height=t(98770),a.Length=t(35001),a.NormalAngle=t(64795),a.NormalX=t(52616),a.NormalY=t(87231),a.Offset=t(89662),a.PerpSlope=t(71165),a.Random=t(65822),a.ReflectAngle=t(69777),a.Rotate=t(39706),a.RotateAroundPoint=t(82585),a.RotateAroundXY=t(64400),a.SetToAngle=t(62377),a.Slope=t(71366),a.Width=t(10809),u.exports=a},83997:(u,m,t)=>{var a=t(83419),p=t(87841),o=t(26099);function s(e,n,l,i){var h=e-l,f=n-i,c=h*h+f*f;return Math.sqrt(c)}var r=new a({initialize:function(n,l,i){this.vertex1=n,this.vertex2=l,this.vertex3=i,this.bounds=new p,this._inCenter=new o},getInCenter:function(e){e===void 0&&(e=!0);var n=this.vertex1,l=this.vertex2,i=this.vertex3,h,f,c,d,v,g;e?(h=n.x,f=n.y,c=l.x,d=l.y,v=i.x,g=i.y):(h=n.vx,f=n.vy,c=l.vx,d=l.vy,v=i.vx,g=i.vy);var y=s(v,g,c,d),x=s(h,f,v,g),T=s(c,d,h,f),S=y+x+T;return this._inCenter.set((h*y+c*x+v*T)/S,(f*y+d*x+g*T)/S)},contains:function(e,n,l){var i=this.vertex1,h=this.vertex2,f=this.vertex3,c=i.vx,d=i.vy,v=h.vx,g=h.vy,y=f.vx,x=f.vy;if(l){var T=l.a,S=l.b,A=l.c,P=l.d,D=l.e,R=l.f;c=i.vx*T+i.vy*A+D,d=i.vx*S+i.vy*P+R,v=h.vx*T+h.vy*A+D,g=h.vx*S+h.vy*P+R,y=f.vx*T+f.vy*A+D,x=f.vx*S+f.vy*P+R}var L=y-c,I=x-d,w=v-c,B=g-d,b=e-c,V=n-d,X=L*L+I*I,G=L*w+I*B,U=L*b+I*V,O=w*w+B*B,z=w*b+B*V,N=X*O-G*G,Y=N===0?0:1/N,W=(O*U-G*z)*Y,H=(X*z-G*U)*Y;return W>=0&&H>=0&&W+H<1},isCounterClockwise:function(e){var n=this.vertex1,l=this.vertex2,i=this.vertex3,h=(l.vx-n.vx)*(i.vy-n.vy)-(l.vy-n.vy)*(i.vx-n.vx);return e<=0?h>=0:h<0},load:function(e,n,l,i,h){return l=this.vertex1.load(e,n,l,i,h),l=this.vertex2.load(e,n,l,i,h),l=this.vertex3.load(e,n,l,i,h),l},transformCoordinatesLocal:function(e,n,l,i){return this.vertex1.transformCoordinatesLocal(e,n,l,i),this.vertex2.transformCoordinatesLocal(e,n,l,i),this.vertex3.transformCoordinatesLocal(e,n,l,i),this},updateBounds:function(){var e=this.vertex1,n=this.vertex2,l=this.vertex3,i=this.bounds;return i.x=Math.min(e.vx,n.vx,l.vx),i.y=Math.min(e.vy,n.vy,l.vy),i.width=Math.max(e.vx,n.vx,l.vx)-i.x,i.height=Math.max(e.vy,n.vy,l.vy)-i.y,this},isInView:function(e,n,l,i,h,f,c,d,v,g,y){this.update(i,h,f,c,d,v,g,y);var x=this.vertex1,T=this.vertex2,S=this.vertex3;if(x.ta<=0&&T.ta<=0&&S.ta<=0||n&&!this.isCounterClockwise(l))return!1;var A=this.bounds;A.x=Math.min(x.tx,T.tx,S.tx),A.y=Math.min(x.ty,T.ty,S.ty),A.width=Math.max(x.tx,T.tx,S.tx)-A.x,A.height=Math.max(x.ty,T.ty,S.ty)-A.y;var P=e.x+e.width,D=e.y+e.height;return A.width<=0||A.height<=0||e.width<=0||e.height<=0?!1:!(A.right<e.x||A.bottom<e.y||A.x>P||A.y>D)},scrollUV:function(e,n){return this.vertex1.scrollUV(e,n),this.vertex2.scrollUV(e,n),this.vertex3.scrollUV(e,n),this},scaleUV:function(e,n){return this.vertex1.scaleUV(e,n),this.vertex2.scaleUV(e,n),this.vertex3.scaleUV(e,n),this},setColor:function(e){return this.vertex1.color=e,this.vertex2.color=e,this.vertex3.color=e,this},update:function(e,n,l,i,h,f,c,d){return this.vertex1.update(n,l,i,h,f,c,d,e),this.vertex2.update(n,l,i,h,f,c,d,e),this.vertex3.update(n,l,i,h,f,c,d,e),this},translate:function(e,n){n===void 0&&(n=0);var l=this.vertex1,i=this.vertex2,h=this.vertex3;return l.x+=e,l.y+=n,i.x+=e,i.y+=n,h.x+=e,h.y+=n,this},x:{get:function(){return this.getInCenter().x},set:function(e){var n=this.getInCenter();this.translate(e-n.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(e){var n=this.getInCenter();this.translate(0,e-n.y)}},alpha:{get:function(){var e=this.vertex1,n=this.vertex2,l=this.vertex3;return(e.alpha+n.alpha+l.alpha)/3},set:function(e){this.vertex1.alpha=e,this.vertex2.alpha=e,this.vertex3.alpha=e}},depth:{get:function(){var e=this.vertex1,n=this.vertex2,l=this.vertex3;return(e.vz+n.vz+l.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});u.exports=r},48803:(u,m,t)=>{var a=t(83997),p=t(95540),o=t(37867),s=t(25836),r=t(39318),e=new s,n=new s,l=new o,i=function(h){var f=p(h,"mesh"),c=p(h,"texture",null),d=p(h,"frame"),v=p(h,"width",1),g=p(h,"height",v),y=p(h,"widthSegments",1),x=p(h,"heightSegments",y),T=p(h,"x",0),S=p(h,"y",0),A=p(h,"z",0),P=p(h,"rotateX",0),D=p(h,"rotateY",0),R=p(h,"rotateZ",0),L=p(h,"zIsUp",!0),I=p(h,"isOrtho",f?f.dirtyCache[11]:!1),w=p(h,"colors",[16777215]),B=p(h,"alphas",[1]),b=p(h,"tile",!1),V=p(h,"flipY",!1),X=p(h,"width",null),G={faces:[],verts:[]};e.set(T,S,A),n.set(P,D,R),l.fromRotationXYTranslation(n,e,L);var U;if(!c&&f)c=f.texture,d||(U=f.frame);else if(f&&typeof c=="string")c=f.scene.sys.textures.get(c);else if(!c)return G;U||(U=c.get(d)),!X&&I&&c&&f&&(v=U.width/f.height,g=U.height/f.height);var O=v/2,z=g/2,N=Math.floor(y),Y=Math.floor(x),W=N+1,H=Y+1,$=v/N,K=g/Y,Z=[],J=[],j,Q,_=0,k=1,it=0,nt=1;U&&(_=U.u0,k=U.u1,V?(it=U.v1,nt=U.v0):(it=U.v0,nt=U.v1));var st=k-_,q=nt-it;for(Q=0;Q<H;Q++){var tt=Q*K-z;for(j=0;j<W;j++){var et=j*$-O;J.push(et,-tt);var ot=_+st*(j/N),dt=it+q*(Q/Y);Z.push(ot,dt)}}Array.isArray(w)||(w=[w]),Array.isArray(B)||(B=[B]);var Ct=0,ut=0;for(Q=0;Q<Y;Q++)for(j=0;j<N;j++){var ft=(j+W*Q)*2,Mt=(j+W*(Q+1))*2,zt=(j+1+W*(Q+1))*2,mt=(j+1+W*Q)*2,Pt=w[ut],Lt=B[Ct],jt=new r(J[ft],J[ft+1],0,Z[ft],Z[ft+1],Pt,Lt).transformMat4(l),oi=new r(J[Mt],J[Mt+1],0,Z[Mt],Z[Mt+1],Pt,Lt).transformMat4(l),hi=new r(J[mt],J[mt+1],0,Z[mt],Z[mt+1],Pt,Lt).transformMat4(l),li=new r(J[Mt],J[Mt+1],0,Z[Mt],Z[Mt+1],Pt,Lt).transformMat4(l),ui=new r(J[zt],J[zt+1],0,Z[zt],Z[zt+1],Pt,Lt).transformMat4(l),fi=new r(J[mt],J[mt+1],0,Z[mt],Z[mt+1],Pt,Lt).transformMat4(l);b&&(jt.setUVs(_,nt),oi.setUVs(_,it),hi.setUVs(k,nt),li.setUVs(_,it),ui.setUVs(k,it),fi.setUVs(k,nt)),ut++,ut===w.length&&(ut=0),Ct++,Ct===B.length&&(Ct=0),G.verts.push(jt,oi,hi,li,ui,fi),G.faces.push(new a(jt,oi,hi),new a(li,ui,fi))}return f&&(f.faces=f.faces.concat(G.faces),f.vertices=f.vertices.concat(G.verts)),G};u.exports=i},34684:(u,m,t)=>{var a=t(83997),p=t(37867),o=t(25836),s=t(39318),r=new o,e=new o,n=new p,l=function(i,h,f,c,d,v,g,y,x,T){f===void 0&&(f=1),c===void 0&&(c=0),d===void 0&&(d=0),v===void 0&&(v=0),g===void 0&&(g=0),y===void 0&&(y=0),x===void 0&&(x=0),T===void 0&&(T=!0);var S={faces:[],verts:[]},A=i.materials;r.set(c,d,v),e.set(g,y,x),n.fromRotationXYTranslation(e,r,T);for(var P=0;P<i.models.length;P++)for(var D=i.models[P],R=D.vertices,L=D.textureCoords,I=D.faces,w=0;w<I.length;w++){var B=I[w],b=B.vertices[0],V=B.vertices[1],X=B.vertices[2],G=R[b.vertexIndex],U=R[V.vertexIndex],O=R[X.vertexIndex],z=b.textureCoordsIndex,N=V.textureCoordsIndex,Y=X.textureCoordsIndex,W=z===-1?{u:0,v:1}:L[z],H=N===-1?{u:0,v:0}:L[N],$=Y===-1?{u:1,v:1}:L[Y],K=16777215;B.material!==""&&A[B.material]&&(K=A[B.material]);var Z=new s(G.x*f,G.y*f,G.z*f,W.u,W.v,K).transformMat4(n),J=new s(U.x*f,U.y*f,U.z*f,H.u,H.v,K).transformMat4(n),j=new s(O.x*f,O.y*f,O.z*f,$.u,$.v,K).transformMat4(n);S.verts.push(Z,J,j),S.faces.push(new a(Z,J,j))}return h&&(h.faces=h.faces.concat(S.faces),h.vertices=h.vertices.concat(S.verts)),S};u.exports=l},92515:(u,m,t)=>{var a=t(83997),p=t(39318),o=function(s,r,e,n,l,i,h,f){if(n===void 0&&(n=!1),i===void 0&&(i=16777215),h===void 0&&(h=1),f===void 0&&(f=!1),s.length!==r.length&&!n){console.warn("GenerateVerts: vertices and uvs count not equal");return}var c={faces:[],vertices:[]},d,v,g,y,x,T,S,A,P,D,R,L=n?3:2,I=Array.isArray(i),w=Array.isArray(h);if(Array.isArray(e)&&e.length>0)for(d=0;d<e.length;d++){var B=e[d],b=e[d]*2,V=e[d]*L;v=s[V],g=s[V+1],y=n?s[V+2]:0,x=r[b],T=r[b+1],f&&(T=1-T),S=I?i[B]:i,A=w?h[B]:h,P=0,D=0,R=0,l&&(P=l[V],D=l[V+1],R=n?l[V+2]:0),c.vertices.push(new p(v,g,y,x,T,S,A,P,D,R))}else{var X=0,G=0;for(d=0;d<s.length;d+=L)v=s[d],g=s[d+1],y=n?s[d+2]:0,x=r[X],T=r[X+1],S=I?i[G]:i,A=w?h[G]:h,P=0,D=0,R=0,l&&(P=l[d],D=l[d+1],R=n?l[d+2]:0),c.vertices.push(new p(v,g,y,x,T,S,A,P,D,R)),X+=2,G++}for(d=0;d<c.vertices.length;d+=3){var U=c.vertices[d],O=c.vertices[d+1],z=c.vertices[d+2];c.faces.push(new a(U,O,z))}return c};u.exports=o},85048:u=>{var m=!0,t="untitled",a="",p="";function o(v){var g=v.indexOf("#");return g>-1?v.substring(0,g):v}function s(v){return v.models.length===0&&v.models.push({faces:[],name:t,textureCoords:[],vertexNormals:[],vertices:[]}),a="",v.models[v.models.length-1]}function r(v,g){var y=v.length>=2?v[1]:t;g.models.push({faces:[],name:y,textureCoords:[],vertexNormals:[],vertices:[]}),a=""}function e(v){v.length===2&&(a=v[1])}function n(v,g){var y=v.length,x=y>=2?parseFloat(v[1]):0,T=y>=3?parseFloat(v[2]):0,S=y>=4?parseFloat(v[3]):0;s(g).vertices.push({x,y:T,z:S})}function l(v,g){var y=v.length,x=y>=2?parseFloat(v[1]):0,T=y>=3?parseFloat(v[2]):0,S=y>=4?parseFloat(v[3]):0;isNaN(x)&&(x=0),isNaN(T)&&(T=0),isNaN(S)&&(S=0),m&&(T=1-T),s(g).textureCoords.push({u:x,v:T,w:S})}function i(v,g){var y=v.length,x=y>=2?parseFloat(v[1]):0,T=y>=3?parseFloat(v[2]):0,S=y>=4?parseFloat(v[3]):0;s(g).vertexNormals.push({x,y:T,z:S})}function h(v,g){var y=v.length-1;if(!(y<3)){for(var x={group:a,material:p,vertices:[]},T=0;T<y;T++){var S=v[T+1],A=S.split("/"),P=A.length;if(!(P<1||P>3)){var D=0,R=0,L=0;D=parseInt(A[0],10),P>1&&A[1]!==""&&(R=parseInt(A[1],10)),P>2&&(L=parseInt(A[2],10)),D!==0&&(D<0&&(D=s(g).vertices.length+1+D),R-=1,D-=1,L-=1,x.vertices.push({textureCoordsIndex:R,vertexIndex:D,vertexNormalIndex:L}))}}s(g).faces.push(x)}}function f(v,g){v.length>=2&&g.materialLibraries.push(v[1])}function c(v){v.length>=2&&(p=v[1])}var d=function(v,g){g===void 0&&(g=!0),m=g;var y={materials:{},materialLibraries:[],models:[]};a="",p="";for(var x=v.split(`
`),T=0;T<x.length;T++){var S=o(x[T]),A=S.replace(/\s\s+/g," ").trim().split(" ");switch(A[0].toLowerCase()){case"o":r(A,y);break;case"g":e(A);break;case"v":n(A,y);break;case"vt":l(A,y);break;case"vn":i(A,y);break;case"f":h(A,y);break;case"mtllib":f(A,y);break;case"usemtl":c(A);break}}return y};u.exports=d},61485:(u,m,t)=>{var a=t(37589),p=function(o){for(var s={},r=o.split(`
`),e="",n=0;n<r.length;n++){var l=r[n].trim();if(!(l.indexOf("#")===0||l==="")){var i=l.replace(/\s\s+/g," ").trim().split(" ");switch(i[0].toLowerCase()){case"newmtl":{e=i[1];break}case"kd":{var h=Math.floor(i[1]*255),f=i.length>=2?Math.floor(i[2]*255):h,c=i.length>=3?Math.floor(i[3]*255):h;s[e]=a(h,f,c);break}}}}return s};u.exports=p},92570:u=>{var m=function(t,a,p,o){var s,r;if(p===void 0&&o===void 0){var e=t.getInCenter();s=e.x,r=e.y}var n=Math.cos(a),l=Math.sin(a),i=t.vertex1,h=t.vertex2,f=t.vertex3,c=i.x-s,d=i.y-r;i.set(c*n-d*l+s,c*l+d*n+r),c=h.x-s,d=h.y-r,h.set(c*n-d*l+s,c*l+d*n+r),c=f.x-s,d=f.y-r,f.set(c*n-d*l+s,c*l+d*n+r)};u.exports=m},39318:(u,m,t)=>{var a=t(83419),p=t(70554),o=t(25836),s=new a({Extends:o,initialize:function(e,n,l,i,h,f,c,d,v,g){f===void 0&&(f=16777215),c===void 0&&(c=1),d===void 0&&(d=0),v===void 0&&(v=0),g===void 0&&(g=0),o.call(this,e,n,l),this.vx=0,this.vy=0,this.vz=0,this.nx=d,this.ny=v,this.nz=g,this.u=i,this.v=h,this.color=f,this.alpha=c,this.tx=0,this.ty=0,this.ta=0,this.tu=i,this.tv=h},setUVs:function(r,e){return this.u=r,this.v=e,this.tu=r,this.tv=e,this},scrollUV:function(r,e){return this.tu+=r,this.tv+=e,this},scaleUV:function(r,e){return this.tu=this.u*r,this.tv=this.v*e,this},transformCoordinatesLocal:function(r,e,n,l){var i=this.x,h=this.y,f=this.z,c=r.val,d=i*c[0]+h*c[4]+f*c[8]+c[12],v=i*c[1]+h*c[5]+f*c[9]+c[13],g=i*c[2]+h*c[6]+f*c[10]+c[14],y=i*c[3]+h*c[7]+f*c[11]+c[15];this.vx=d/y*e,this.vy=-(v/y)*n,l<=0?this.vz=g/y:this.vz=-(g/y)},resize:function(r,e,n,l,i,h){return this.x=r,this.y=e,this.vx=this.x*n,this.vy=-this.y*l,this.vz=0,i<.5?this.vx+=n*(.5-i):i>.5&&(this.vx-=n*(i-.5)),h<.5?this.vy+=l*(.5-h):h>.5&&(this.vy-=l*(h-.5)),this},update:function(r,e,n,l,i,h,f,c){var d=this.vx*r+this.vy*n+i,v=this.vx*e+this.vy*l+h;return f&&(d=Math.round(d),v=Math.round(v)),this.tx=d,this.ty=v,this.ta=this.alpha*c,this},load:function(r,e,n,l,i){return r[++n]=this.tx,r[++n]=this.ty,r[++n]=this.tu,r[++n]=this.tv,r[++n]=l,r[++n]=i,e[++n]=p.getTintAppendFloatAlpha(this.color,this.ta),n}});u.exports=s},73090:(u,m,t)=>{var a={Face:t(83997),GenerateGridVerts:t(48803),GenerateObjVerts:t(34684),GenerateVerts:t(92515),ParseObj:t(85048),ParseObjMaterial:t(61485),RotateFace:t(92570),Vertex:t(39318)};u.exports=a},96550:u=>{var m=function(t){return t.setTo(Math.ceil(t.x),Math.ceil(t.y))};u.exports=m},99706:(u,m,t)=>{var a=t(2141),p=function(o){return new a(o.x,o.y)};u.exports=p},68010:u=>{var m=function(t,a){return a.setTo(t.x,t.y)};u.exports=m},27814:u=>{var m=function(t,a){return t.x===a.x&&t.y===a.y};u.exports=m},73565:u=>{var m=function(t){return t.setTo(Math.floor(t.x),Math.floor(t.y))};u.exports=m},87555:(u,m,t)=>{var a=t(2141),p=function(o,s){if(s===void 0&&(s=new a),!Array.isArray(o))throw new Error("GetCentroid points argument must be an array");var r=o.length;if(r<1)throw new Error("GetCentroid points array must not be empty");if(r===1)s.x=o[0].x,s.y=o[0].y;else{for(var e=0;e<r;e++)s.x+=o[e].x,s.y+=o[e].y;s.x/=r,s.y/=r}return s};u.exports=p},28793:u=>{var m=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)};u.exports=m},44405:u=>{var m=function(t){return t.x*t.x+t.y*t.y};u.exports=m},20873:(u,m,t)=>{var a=t(87841),p=function(o,s){s===void 0&&(s=new a);for(var r=Number.NEGATIVE_INFINITY,e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY,i=0;i<o.length;i++){var h=o[i];h.x>r&&(r=h.x),h.x<e&&(e=h.x),h.y>n&&(n=h.y),h.y<l&&(l=h.y)}return s.x=e,s.y=l,s.width=r-e,s.height=n-l,s};u.exports=p},26152:(u,m,t)=>{var a=t(2141),p=function(o,s,r,e){return r===void 0&&(r=0),e===void 0&&(e=new a),e.x=o.x+(s.x-o.x)*r,e.y=o.y+(s.y-o.y)*r,e};u.exports=p},55767:u=>{var m=function(t){return t.setTo(t.y,t.x)};u.exports=m},79432:(u,m,t)=>{var a=t(2141),p=function(o,s){return s===void 0&&(s=new a),s.setTo(-o.x,-o.y)};u.exports=p},2141:(u,m,t)=>{var a=t(83419),p=t(23777),o=new a({initialize:function(r,e){r===void 0&&(r=0),e===void 0&&(e=r),this.type=p.POINT,this.x=r,this.y=e},setTo:function(s,r){return s===void 0&&(s=0),r===void 0&&(r=s),this.x=s,this.y=r,this}});u.exports=o},72930:(u,m,t)=>{var a=t(2141),p=t(44405),o=function(s,r,e){e===void 0&&(e=new a);var n=s.x*r.x+s.y*r.y,l=n/p(r);return l!==0&&(e.x=l*r.x,e.y=l*r.y),e};u.exports=o},62880:(u,m,t)=>{var a=t(2141),p=function(o,s,r){r===void 0&&(r=new a);var e=o.x*s.x+o.y*s.y;return e!==0&&(r.x=e*s.x,r.y=e*s.y),r};u.exports=p},15093:(u,m,t)=>{var a=t(28793),p=function(o,s){if(o.x!==0||o.y!==0){var r=a(o);o.x/=r,o.y/=r}return o.x*=s,o.y*=s,o};u.exports=p},43711:(u,m,t)=>{var a=t(2141);a.Ceil=t(96550),a.Clone=t(99706),a.CopyFrom=t(68010),a.Equals=t(27814),a.Floor=t(73565),a.GetCentroid=t(87555),a.GetMagnitude=t(28793),a.GetMagnitudeSq=t(44405),a.GetRectangleFromPoints=t(20873),a.Interpolate=t(26152),a.Invert=t(55767),a.Negative=t(79432),a.Project=t(72930),a.ProjectUnit=t(62880),a.SetMagnitude=t(15093),u.exports=a},12306:(u,m,t)=>{var a=t(25717),p=function(o){return new a(o.points)};u.exports=p},63814:u=>{var m=function(t,a,p){for(var o=!1,s=-1,r=t.points.length-1;++s<t.points.length;r=s){var e=t.points[s].x,n=t.points[s].y,l=t.points[r].x,i=t.points[r].y;(n<=p&&p<i||i<=p&&p<n)&&a<(l-e)*(p-n)/(i-n)+e&&(o=!o)}return o};u.exports=m},99338:(u,m,t)=>{var a=t(63814),p=function(o,s){return a(o,s.x,s.y)};u.exports=p},94811:u=>{"use strict";function m(G,U,O){O=O||2;var z=U&&U.length,N=z?U[0]*O:G.length,Y=t(G,0,N,O,!0),W=[];if(!Y||Y.next===Y.prev)return W;var H,$,K,Z,J,j,Q;if(z&&(Y=n(G,U,Y,O)),G.length>80*O){H=K=G[0],$=Z=G[1];for(var _=O;_<N;_+=O)J=G[_],j=G[_+1],J<H&&(H=J),j<$&&($=j),J>K&&(K=J),j>Z&&(Z=j);Q=Math.max(K-H,Z-$),Q=Q!==0?32767/Q:0}return p(Y,W,O,H,$,Q,0),W}function t(G,U,O,z,N){var Y,W;if(N===X(G,U,O,z)>0)for(Y=U;Y<O;Y+=z)W=B(Y,G[Y],G[Y+1],W);else for(Y=O-z;Y>=U;Y-=z)W=B(Y,G[Y],G[Y+1],W);return W&&S(W,W.next)&&(b(W),W=W.next),W}function a(G,U){if(!G)return G;U||(U=G);var O=G,z;do if(z=!1,!O.steiner&&(S(O,O.next)||T(O.prev,O,O.next)===0)){if(b(O),O=U=O.prev,O===O.next)break;z=!0}else O=O.next;while(z||O!==U);return U}function p(G,U,O,z,N,Y,W){if(G){!W&&Y&&c(G,z,N,Y);for(var H=G,$,K;G.prev!==G.next;){if($=G.prev,K=G.next,Y?s(G,z,N,Y):o(G)){U.push($.i/O|0),U.push(G.i/O|0),U.push(K.i/O|0),b(G),G=K.next,H=K.next;continue}if(G=K,G===H){W?W===1?(G=r(a(G),U,O),p(G,U,O,z,N,Y,2)):W===2&&e(G,U,O,z,N,Y):p(a(G),U,O,z,N,Y,1);break}}}}function o(G){var U=G.prev,O=G,z=G.next;if(T(U,O,z)>=0)return!1;for(var N=U.x,Y=O.x,W=z.x,H=U.y,$=O.y,K=z.y,Z=N<Y?N<W?N:W:Y<W?Y:W,J=H<$?H<K?H:K:$<K?$:K,j=N>Y?N>W?N:W:Y>W?Y:W,Q=H>$?H>K?H:K:$>K?$:K,_=z.next;_!==U;){if(_.x>=Z&&_.x<=j&&_.y>=J&&_.y<=Q&&y(N,H,Y,$,W,K,_.x,_.y)&&T(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function s(G,U,O,z){var N=G.prev,Y=G,W=G.next;if(T(N,Y,W)>=0)return!1;for(var H=N.x,$=Y.x,K=W.x,Z=N.y,J=Y.y,j=W.y,Q=H<$?H<K?H:K:$<K?$:K,_=Z<J?Z<j?Z:j:J<j?J:j,k=H>$?H>K?H:K:$>K?$:K,it=Z>J?Z>j?Z:j:J>j?J:j,nt=v(Q,_,U,O,z),st=v(k,it,U,O,z),q=G.prevZ,tt=G.nextZ;q&&q.z>=nt&&tt&&tt.z<=st;){if(q.x>=Q&&q.x<=k&&q.y>=_&&q.y<=it&&q!==N&&q!==W&&y(H,Z,$,J,K,j,q.x,q.y)&&T(q.prev,q,q.next)>=0||(q=q.prevZ,tt.x>=Q&&tt.x<=k&&tt.y>=_&&tt.y<=it&&tt!==N&&tt!==W&&y(H,Z,$,J,K,j,tt.x,tt.y)&&T(tt.prev,tt,tt.next)>=0))return!1;tt=tt.nextZ}for(;q&&q.z>=nt;){if(q.x>=Q&&q.x<=k&&q.y>=_&&q.y<=it&&q!==N&&q!==W&&y(H,Z,$,J,K,j,q.x,q.y)&&T(q.prev,q,q.next)>=0)return!1;q=q.prevZ}for(;tt&&tt.z<=st;){if(tt.x>=Q&&tt.x<=k&&tt.y>=_&&tt.y<=it&&tt!==N&&tt!==W&&y(H,Z,$,J,K,j,tt.x,tt.y)&&T(tt.prev,tt,tt.next)>=0)return!1;tt=tt.nextZ}return!0}function r(G,U,O){var z=G;do{var N=z.prev,Y=z.next.next;!S(N,Y)&&A(N,z,z.next,Y)&&L(N,Y)&&L(Y,N)&&(U.push(N.i/O|0),U.push(z.i/O|0),U.push(Y.i/O|0),b(z),b(z.next),z=G=Y),z=z.next}while(z!==G);return a(z)}function e(G,U,O,z,N,Y){var W=G;do{for(var H=W.next.next;H!==W.prev;){if(W.i!==H.i&&x(W,H)){var $=w(W,H);W=a(W,W.next),$=a($,$.next),p(W,U,O,z,N,Y,0),p($,U,O,z,N,Y,0);return}H=H.next}W=W.next}while(W!==G)}function n(G,U,O,z){var N=[],Y,W,H,$,K;for(Y=0,W=U.length;Y<W;Y++)H=U[Y]*z,$=Y<W-1?U[Y+1]*z:G.length,K=t(G,H,$,z,!1),K===K.next&&(K.steiner=!0),N.push(g(K));for(N.sort(l),Y=0;Y<N.length;Y++)O=i(N[Y],O);return O}function l(G,U){return G.x-U.x}function i(G,U){var O=h(G,U);if(!O)return U;var z=w(O,G);return a(z,z.next),a(O,O.next)}function h(G,U){var O=U,z=G.x,N=G.y,Y=-1/0,W;do{if(N<=O.y&&N>=O.next.y&&O.next.y!==O.y){var H=O.x+(N-O.y)*(O.next.x-O.x)/(O.next.y-O.y);if(H<=z&&H>Y&&(Y=H,W=O.x<O.next.x?O:O.next,H===z))return W}O=O.next}while(O!==U);if(!W)return null;var $=W,K=W.x,Z=W.y,J=1/0,j;O=W;do z>=O.x&&O.x>=K&&z!==O.x&&y(N<Z?z:Y,N,K,Z,N<Z?Y:z,N,O.x,O.y)&&(j=Math.abs(N-O.y)/(z-O.x),L(O,G)&&(j<J||j===J&&(O.x>W.x||O.x===W.x&&f(W,O)))&&(W=O,J=j)),O=O.next;while(O!==$);return W}function f(G,U){return T(G.prev,G,U.prev)<0&&T(U.next,G,G.next)<0}function c(G,U,O,z){var N=G;do N.z===0&&(N.z=v(N.x,N.y,U,O,z)),N.prevZ=N.prev,N.nextZ=N.next,N=N.next;while(N!==G);N.prevZ.nextZ=null,N.prevZ=null,d(N)}function d(G){var U,O,z,N,Y,W,H,$,K=1;do{for(O=G,G=null,Y=null,W=0;O;){for(W++,z=O,H=0,U=0;U<K&&(H++,z=z.nextZ,!!z);U++);for($=K;H>0||$>0&&z;)H!==0&&($===0||!z||O.z<=z.z)?(N=O,O=O.nextZ,H--):(N=z,z=z.nextZ,$--),Y?Y.nextZ=N:G=N,N.prevZ=Y,Y=N;O=z}Y.nextZ=null,K*=2}while(W>1);return G}function v(G,U,O,z,N){return G=(G-O)*N|0,U=(U-z)*N|0,G=(G|G<<8)&16711935,G=(G|G<<4)&252645135,G=(G|G<<2)&858993459,G=(G|G<<1)&1431655765,U=(U|U<<8)&16711935,U=(U|U<<4)&252645135,U=(U|U<<2)&858993459,U=(U|U<<1)&1431655765,G|U<<1}function g(G){var U=G,O=G;do(U.x<O.x||U.x===O.x&&U.y<O.y)&&(O=U),U=U.next;while(U!==G);return O}function y(G,U,O,z,N,Y,W,H){return(N-W)*(U-H)>=(G-W)*(Y-H)&&(G-W)*(z-H)>=(O-W)*(U-H)&&(O-W)*(Y-H)>=(N-W)*(z-H)}function x(G,U){return G.next.i!==U.i&&G.prev.i!==U.i&&!R(G,U)&&(L(G,U)&&L(U,G)&&I(G,U)&&(T(G.prev,G,U.prev)||T(G,U.prev,U))||S(G,U)&&T(G.prev,G,G.next)>0&&T(U.prev,U,U.next)>0)}function T(G,U,O){return(U.y-G.y)*(O.x-U.x)-(U.x-G.x)*(O.y-U.y)}function S(G,U){return G.x===U.x&&G.y===U.y}function A(G,U,O,z){var N=D(T(G,U,O)),Y=D(T(G,U,z)),W=D(T(O,z,G)),H=D(T(O,z,U));return!!(N!==Y&&W!==H||N===0&&P(G,O,U)||Y===0&&P(G,z,U)||W===0&&P(O,G,z)||H===0&&P(O,U,z))}function P(G,U,O){return U.x<=Math.max(G.x,O.x)&&U.x>=Math.min(G.x,O.x)&&U.y<=Math.max(G.y,O.y)&&U.y>=Math.min(G.y,O.y)}function D(G){return G>0?1:G<0?-1:0}function R(G,U){var O=G;do{if(O.i!==G.i&&O.next.i!==G.i&&O.i!==U.i&&O.next.i!==U.i&&A(O,O.next,G,U))return!0;O=O.next}while(O!==G);return!1}function L(G,U){return T(G.prev,G,G.next)<0?T(G,U,G.next)>=0&&T(G,G.prev,U)>=0:T(G,U,G.prev)<0||T(G,G.next,U)<0}function I(G,U){var O=G,z=!1,N=(G.x+U.x)/2,Y=(G.y+U.y)/2;do O.y>Y!=O.next.y>Y&&O.next.y!==O.y&&N<(O.next.x-O.x)*(Y-O.y)/(O.next.y-O.y)+O.x&&(z=!z),O=O.next;while(O!==G);return z}function w(G,U){var O=new V(G.i,G.x,G.y),z=new V(U.i,U.x,U.y),N=G.next,Y=U.prev;return G.next=U,U.prev=G,O.next=N,N.prev=O,z.next=O,O.prev=z,Y.next=z,z.prev=Y,z}function B(G,U,O,z){var N=new V(G,U,O);return z?(N.next=z.next,N.prev=z,z.next.prev=N,z.next=N):(N.prev=N,N.next=N),N}function b(G){G.next.prev=G.prev,G.prev.next=G.next,G.prevZ&&(G.prevZ.nextZ=G.nextZ),G.nextZ&&(G.nextZ.prevZ=G.prevZ)}function V(G,U,O){this.i=G,this.x=U,this.y=O,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}m.deviation=function(G,U,O,z){var N=U&&U.length,Y=N?U[0]*O:G.length,W=Math.abs(X(G,0,Y,O));if(N)for(var H=0,$=U.length;H<$;H++){var K=U[H]*O,Z=H<$-1?U[H+1]*O:G.length;W-=Math.abs(X(G,K,Z,O))}var J=0;for(H=0;H<z.length;H+=3){var j=z[H]*O,Q=z[H+1]*O,_=z[H+2]*O;J+=Math.abs((G[j]-G[_])*(G[Q+1]-G[j+1])-(G[j]-G[Q])*(G[_+1]-G[j+1]))}return W===0&&J===0?0:Math.abs((J-W)/W)};function X(G,U,O,z){for(var N=0,Y=U,W=O-z;Y<O;Y+=z)N+=(G[W]-G[Y])*(G[Y+1]+G[W+1]),W=Y;return N}m.flatten=function(G){for(var U=G[0][0].length,O={vertices:[],holes:[],dimensions:U},z=0,N=0;N<G.length;N++){for(var Y=0;Y<G[N].length;Y++)for(var W=0;W<U;W++)O.vertices.push(G[N][Y][W]);N>0&&(z+=G[N-1].length,O.holes.push(z))}return O},u.exports=m},13829:(u,m,t)=>{var a=t(87841),p=function(o,s){s===void 0&&(s=new a);for(var r=1/0,e=1/0,n=-r,l=-e,i,h=0;h<o.points.length;h++)i=o.points[h],r=Math.min(r,i.x),e=Math.min(e,i.y),n=Math.max(n,i.x),l=Math.max(l,i.y);return s.x=r,s.y=e,s.width=n-r,s.height=l-e,s};u.exports=p},26173:u=>{var m=function(t,a){a===void 0&&(a=[]);for(var p=0;p<t.points.length;p++)a.push(t.points[p].x),a.push(t.points[p].y);return a};u.exports=m},9564:(u,m,t)=>{var a=t(35001),p=t(23031),o=t(30052),s=function(r,e,n,l){l===void 0&&(l=[]);var i=r.points,h=o(r);!e&&n>0&&(e=h/n);for(var f=0;f<e;f++)for(var c=h*(f/e),d=0,v=0;v<i.length;v++){var g=i[v],y=i[(v+1)%i.length],x=new p(g.x,g.y,y.x,y.y),T=a(x);if(c<d||c>d+T){d+=T;continue}var S=x.getPoint((c-d)/T);l.push(S);break}return l};u.exports=s},30052:(u,m,t)=>{var a=t(35001),p=t(23031),o=function(s){for(var r=s.points,e=0,n=0;n<r.length;n++){var l=r[n],i=r[(n+1)%r.length],h=new p(l.x,l.y,i.x,i.y);e+=a(h)}return e};u.exports=o},25717:(u,m,t)=>{var a=t(83419),p=t(63814),o=t(9564),s=t(23777),r=new a({initialize:function(n){this.type=s.POLYGON,this.area=0,this.points=[],n&&this.setTo(n)},contains:function(e,n){return p(this,e,n)},setTo:function(e){if(this.area=0,this.points=[],typeof e=="string"&&(e=e.split(" ")),!Array.isArray(e))return this;for(var n,l=0;l<e.length;l++)n={x:0,y:0},typeof e[l]=="number"||typeof e[l]=="string"?(n.x=parseFloat(e[l]),n.y=parseFloat(e[l+1]),l++):Array.isArray(e[l])?(n.x=e[l][0],n.y=e[l][1]):(n.x=e[l].x,n.y=e[l].y),this.points.push(n);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var e=0,n,l,i=0;i<this.points.length-1;i++)n=this.points[i],l=this.points[i+1],e+=(l.x-n.x)*(n.y+l.y);return n=this.points[0],l=this.points[this.points.length-1],e+=(n.x-l.x)*(l.y+n.y),this.area=-e*.5,this.area},getPoints:function(e,n,l){return o(this,e,n,l)}});u.exports=r},8133:u=>{var m=function(t){return t.points.reverse(),t};u.exports=m},29524:u=>{function m(r,e){var n=r.x-e.x,l=r.y-e.y;return n*n+l*l}function t(r,e,n){var l=e.x,i=e.y,h=n.x-l,f=n.y-i;if(h!==0||f!==0){var c=((r.x-l)*h+(r.y-i)*f)/(h*h+f*f);c>1?(l=n.x,i=n.y):c>0&&(l+=h*c,i+=f*c)}return h=r.x-l,f=r.y-i,h*h+f*f}function a(r,e){for(var n=r[0],l=[n],i,h=1,f=r.length;h<f;h++)i=r[h],m(i,n)>e&&(l.push(i),n=i);return n!==i&&l.push(i),l}function p(r,e,n,l,i){for(var h=l,f,c=e+1;c<n;c++){var d=t(r[c],r[e],r[n]);d>h&&(f=c,h=d)}h>l&&(f-e>1&&p(r,e,f,l,i),i.push(r[f]),n-f>1&&p(r,f,n,l,i))}function o(r,e){var n=r.length-1,l=[r[0]];return p(r,0,n,e,l),l.push(r[n]),l}var s=function(r,e,n){e===void 0&&(e=1),n===void 0&&(n=!1);var l=r.points;if(l.length>2){var i=e*e;n||(l=a(l,i)),r.setTo(o(l,i))}return r};u.exports=s},5469:u=>{var m=function(a,p){return a[0]=p[0],a[1]=p[1],a},t=function(a){var p,o=[],s=a.points;for(p=0;p<s.length;p++)o.push([s[p].x,s[p].y]);var r=[];for(o.length>0&&r.push(m([0,0],o[0])),p=0;p<o.length-1;p++){var e=o[p],n=o[p+1],l=e[0],i=e[1],h=n[0],f=n[1];r.push([.85*l+.15*h,.85*i+.15*f]),r.push([.15*l+.85*h,.15*i+.85*f])}return o.length>1&&r.push(m([0,0],o[o.length-1])),a.setTo(r)};u.exports=t},24709:u=>{var m=function(t,a,p){for(var o=t.points,s=0;s<o.length;s++)o[s].x+=a,o[s].y+=p;return t};u.exports=m},58423:(u,m,t)=>{var a=t(25717);a.Clone=t(12306),a.Contains=t(63814),a.ContainsPoint=t(99338),a.Earcut=t(94811),a.GetAABB=t(13829),a.GetNumberArray=t(26173),a.GetPoints=t(9564),a.Perimeter=t(30052),a.Reverse=t(8133),a.Simplify=t(29524),a.Smooth=t(5469),a.Translate=t(24709),u.exports=a},62224:u=>{var m=function(t){return t.width*t.height};u.exports=m},98615:u=>{var m=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t};u.exports=m},31688:u=>{var m=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t.width=Math.ceil(t.width),t.height=Math.ceil(t.height),t};u.exports=m},67502:u=>{var m=function(t,a,p){return t.x=a-t.width/2,t.y=p-t.height/2,t};u.exports=m},65085:(u,m,t)=>{var a=t(87841),p=function(o){return new a(o.x,o.y,o.width,o.height)};u.exports=p},37303:u=>{var m=function(t,a,p){return t.width<=0||t.height<=0?!1:t.x<=a&&t.x+t.width>=a&&t.y<=p&&t.y+t.height>=p};u.exports=m},96553:(u,m,t)=>{var a=t(37303),p=function(o,s){return a(o,s.x,s.y)};u.exports=p},70273:u=>{var m=function(t,a){return a.width*a.height>t.width*t.height?!1:a.x>t.x&&a.x<t.right&&a.right>t.x&&a.right<t.right&&a.y>t.y&&a.y<t.bottom&&a.bottom>t.y&&a.bottom<t.bottom};u.exports=m},43459:u=>{var m=function(t,a){return a.setTo(t.x,t.y,t.width,t.height)};u.exports=m},77493:u=>{var m=function(t,a){return a===void 0&&(a=[]),a.push({x:t.x,y:t.y}),a.push({x:t.right,y:t.y}),a.push({x:t.right,y:t.bottom}),a.push({x:t.x,y:t.bottom}),a};u.exports=m},9219:u=>{var m=function(t,a){return t.x===a.x&&t.y===a.y&&t.width===a.width&&t.height===a.height};u.exports=m},53751:(u,m,t)=>{var a=t(8249),p=function(o,s){var r=a(o);return r<a(s)?o.setSize(s.height*r,s.height):o.setSize(s.width,s.width/r),o.setPosition(s.centerX-o.width/2,s.centerY-o.height/2)};u.exports=p},16088:(u,m,t)=>{var a=t(8249),p=function(o,s){var r=a(o);return r>a(s)?o.setSize(s.height*r,s.height):o.setSize(s.width,s.width/r),o.setPosition(s.centerX-o.width/2,s.centerY-o.height/2)};u.exports=p},80774:u=>{var m=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t};u.exports=m},83859:u=>{var m=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t.width=Math.floor(t.width),t.height=Math.floor(t.height),t};u.exports=m},19217:(u,m,t)=>{var a=t(87841),p=t(36383),o=function(s,r){if(r===void 0&&(r=new a),s.length===0)return r;for(var e=Number.MAX_VALUE,n=Number.MAX_VALUE,l=p.MIN_SAFE_INTEGER,i=p.MIN_SAFE_INTEGER,h,f,c,d=0;d<s.length;d++)h=s[d],Array.isArray(h)?(f=h[0],c=h[1]):(f=h.x,c=h.y),e=Math.min(e,f),n=Math.min(n,c),l=Math.max(l,f),i=Math.max(i,c);return r.x=e,r.y=n,r.width=l-e,r.height=i-n,r};u.exports=o},9477:(u,m,t)=>{var a=t(87841),p=function(o,s,r,e,n){return n===void 0&&(n=new a),n.setTo(Math.min(o,r),Math.min(s,e),Math.abs(o-r),Math.abs(s-e))};u.exports=p},8249:u=>{var m=function(t){return t.height===0?NaN:t.width/t.height};u.exports=m},27165:(u,m,t)=>{var a=t(2141),p=function(o,s){return s===void 0&&(s=new a),s.x=o.centerX,s.y=o.centerY,s};u.exports=p},20812:(u,m,t)=>{var a=t(13019),p=t(2141),o=function(s,r,e){if(e===void 0&&(e=new p),r<=0||r>=1)return e.x=s.x,e.y=s.y,e;var n=a(s)*r;return r>.5?(n-=s.width+s.height,n<=s.width?(e.x=s.right-n,e.y=s.bottom):(e.x=s.x,e.y=s.bottom-(n-s.width))):n<=s.width?(e.x=s.x+n,e.y=s.y):(e.x=s.right,e.y=s.y+(n-s.width)),e};u.exports=o},34819:(u,m,t)=>{var a=t(20812),p=t(13019),o=function(s,r,e,n){n===void 0&&(n=[]),!r&&e>0&&(r=p(s)/e);for(var l=0;l<r;l++){var i=l/r;n.push(a(s,i))}return n};u.exports=o},51313:(u,m,t)=>{var a=t(2141),p=function(o,s){return s===void 0&&(s=new a),s.x=o.width,s.y=o.height,s};u.exports=p},86091:(u,m,t)=>{var a=t(67502),p=function(o,s,r){var e=o.centerX,n=o.centerY;return o.setSize(o.width+s*2,o.height+r*2),a(o,e,n)};u.exports=p},53951:(u,m,t)=>{var a=t(87841),p=t(59996),o=function(s,r,e){return e===void 0&&(e=new a),p(s,r)?(e.x=Math.max(s.x,r.x),e.y=Math.max(s.y,r.y),e.width=Math.min(s.right,r.right)-e.x,e.height=Math.min(s.bottom,r.bottom)-e.y):e.setEmpty(),e};u.exports=o},14649:(u,m,t)=>{var a=t(13019),p=t(2141),o=function(s,r,e,n){if(n===void 0&&(n=[]),!r&&!e)return n;r?e=Math.round(a(s)/r):r=a(s)/e;for(var l=s.x,i=s.y,h=0,f=0;f<e;f++)switch(n.push(new p(l,i)),h){case 0:l+=r,l>=s.right&&(h=1,i+=l-s.right,l=s.right);break;case 1:i+=r,i>=s.bottom&&(h=2,l-=i-s.bottom,i=s.bottom);break;case 2:l-=r,l<=s.left&&(h=3,i-=s.left-l,l=s.left);break;case 3:i-=r,i<=s.top&&(h=0,i=s.top);break}return n};u.exports=o},33595:u=>{var m=function(t,a){for(var p=t.x,o=t.right,s=t.y,r=t.bottom,e=0;e<a.length;e++)p=Math.min(p,a[e].x),o=Math.max(o,a[e].x),s=Math.min(s,a[e].y),r=Math.max(r,a[e].y);return t.x=p,t.y=s,t.width=o-p,t.height=r-s,t};u.exports=m},20074:u=>{var m=function(t,a){var p=Math.min(t.x,a.x),o=Math.max(t.right,a.right);t.x=p,t.width=o-p;var s=Math.min(t.y,a.y),r=Math.max(t.bottom,a.bottom);return t.y=s,t.height=r-s,t};u.exports=m},92171:u=>{var m=function(t,a,p){var o=Math.min(t.x,a),s=Math.max(t.right,a);t.x=o,t.width=s-o;var r=Math.min(t.y,p),e=Math.max(t.bottom,p);return t.y=r,t.height=e-r,t};u.exports=m},42981:u=>{var m=function(t,a,p){return t.x+=a,t.y+=p,t};u.exports=m},46907:u=>{var m=function(t,a){return t.x+=a.x,t.y+=a.y,t};u.exports=m},60170:u=>{var m=function(t,a){return t.x<a.right&&t.right>a.x&&t.y<a.bottom&&t.bottom>a.y};u.exports=m},13019:u=>{var m=function(t){return 2*(t.width+t.height)};u.exports=m},85133:(u,m,t)=>{var a=t(2141),p=t(39506),o=function(s,r,e){e===void 0&&(e=new a),r=p(r);var n=Math.sin(r),l=Math.cos(r),i=l>0?s.width/2:s.width/-2,h=n>0?s.height/2:s.height/-2;return Math.abs(i*n)<Math.abs(h*l)?h=i*n/l:i=h*l/n,e.x=i+s.centerX,e.y=h+s.centerY,e};u.exports=o},26597:(u,m,t)=>{var a=t(2141),p=function(o,s){return s===void 0&&(s=new a),s.x=o.x+Math.random()*o.width,s.y=o.y+Math.random()*o.height,s};u.exports=p},86470:(u,m,t)=>{var a=t(30976),p=t(70273),o=t(2141),s=function(r,e,n){if(n===void 0&&(n=new o),p(r,e))switch(a(0,3)){case 0:n.x=r.x+Math.random()*(e.right-r.x),n.y=r.y+Math.random()*(e.top-r.y);break;case 1:n.x=e.x+Math.random()*(r.right-e.x),n.y=e.bottom+Math.random()*(r.bottom-e.bottom);break;case 2:n.x=r.x+Math.random()*(e.x-r.x),n.y=e.y+Math.random()*(r.bottom-e.y);break;case 3:n.x=e.right+Math.random()*(r.right-e.right),n.y=r.y+Math.random()*(e.bottom-r.y);break}return n};u.exports=s},87841:(u,m,t)=>{var a=t(83419),p=t(37303),o=t(20812),s=t(34819),r=t(23777),e=t(23031),n=t(26597),l=new a({initialize:function(h,f,c,d){h===void 0&&(h=0),f===void 0&&(f=0),c===void 0&&(c=0),d===void 0&&(d=0),this.type=r.RECTANGLE,this.x=h,this.y=f,this.width=c,this.height=d},contains:function(i,h){return p(this,i,h)},getPoint:function(i,h){return o(this,i,h)},getPoints:function(i,h,f){return s(this,i,h,f)},getRandomPoint:function(i){return n(this,i)},setTo:function(i,h,f,c){return this.x=i,this.y=h,this.width=f,this.height=c,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(i,h){return h===void 0&&(h=i),this.x=i,this.y=h,this},setSize:function(i,h){return h===void 0&&(h=i),this.width=i,this.height=h,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(i){return i===void 0&&(i=new e),i.setTo(this.x,this.y,this.right,this.y),i},getLineB:function(i){return i===void 0&&(i=new e),i.setTo(this.right,this.y,this.right,this.bottom),i},getLineC:function(i){return i===void 0&&(i=new e),i.setTo(this.right,this.bottom,this.x,this.bottom),i},getLineD:function(i){return i===void 0&&(i=new e),i.setTo(this.x,this.bottom,this.x,this.y),i},left:{get:function(){return this.x},set:function(i){i>=this.right?this.width=0:this.width=this.right-i,this.x=i}},right:{get:function(){return this.x+this.width},set:function(i){i<=this.x?this.width=0:this.width=i-this.x}},top:{get:function(){return this.y},set:function(i){i>=this.bottom?this.height=0:this.height=this.bottom-i,this.y=i}},bottom:{get:function(){return this.y+this.height},set:function(i){i<=this.y?this.height=0:this.height=i-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(i){this.x=i-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(i){this.y=i-this.height/2}}});u.exports=l},94845:u=>{var m=function(t,a){return t.width===a.width&&t.height===a.height};u.exports=m},31730:u=>{var m=function(t,a,p){return p===void 0&&(p=a),t.width*=a,t.height*=p,t};u.exports=m},36899:(u,m,t)=>{var a=t(87841),p=function(o,s,r){r===void 0&&(r=new a);var e=Math.min(o.x,s.x),n=Math.min(o.y,s.y),l=Math.max(o.right,s.right)-e,i=Math.max(o.bottom,s.bottom)-n;return r.setTo(e,n,l,i)};u.exports=p},93232:(u,m,t)=>{var a=t(87841);a.Area=t(62224),a.Ceil=t(98615),a.CeilAll=t(31688),a.CenterOn=t(67502),a.Clone=t(65085),a.Contains=t(37303),a.ContainsPoint=t(96553),a.ContainsRect=t(70273),a.CopyFrom=t(43459),a.Decompose=t(77493),a.Equals=t(9219),a.FitInside=t(53751),a.FitOutside=t(16088),a.Floor=t(80774),a.FloorAll=t(83859),a.FromPoints=t(19217),a.FromXY=t(9477),a.GetAspectRatio=t(8249),a.GetCenter=t(27165),a.GetPoint=t(20812),a.GetPoints=t(34819),a.GetSize=t(51313),a.Inflate=t(86091),a.Intersection=t(53951),a.MarchingAnts=t(14649),a.MergePoints=t(33595),a.MergeRect=t(20074),a.MergeXY=t(92171),a.Offset=t(42981),a.OffsetPoint=t(46907),a.Overlaps=t(60170),a.Perimeter=t(13019),a.PerimeterPoint=t(85133),a.Random=t(26597),a.RandomOutside=t(86470),a.SameDimensions=t(94845),a.Scale=t(31730),a.Union=t(36899),u.exports=a},41658:u=>{var m=function(t){var a=t.x1,p=t.y1,o=t.x2,s=t.y2,r=t.x3,e=t.y3;return Math.abs(((r-a)*(s-p)-(o-a)*(e-p))/2)};u.exports=m},39208:(u,m,t)=>{var a=t(16483),p=function(o,s,r){var e=r*(Math.sqrt(3)/2),n=o,l=s,i=o+r/2,h=s+e,f=o-r/2,c=s+e;return new a(n,l,i,h,f,c)};u.exports=p},39545:(u,m,t)=>{var a=t(94811),p=t(16483),o=function(s,r,e,n,l){r===void 0&&(r=null),e===void 0&&(e=1),n===void 0&&(n=1),l===void 0&&(l=[]);for(var i=a(s,r),h,f,c,d,v,g,y,x,T,S=0;S<i.length;S+=3)h=i[S],f=i[S+1],c=i[S+2],d=s[h*2]*e,v=s[h*2+1]*n,g=s[f*2]*e,y=s[f*2+1]*n,x=s[c*2]*e,T=s[c*2+1]*n,l.push(new p(d,v,g,y,x,T));return l};u.exports=o},90301:(u,m,t)=>{var a=t(16483),p=function(o,s,r,e){e===void 0&&(e=r);var n=o,l=s,i=o,h=s-e,f=o+r,c=s;return new a(n,l,i,h,f,c)};u.exports=p},23707:(u,m,t)=>{var a=t(97523),p=t(13584),o=function(s,r,e,n){n===void 0&&(n=a);var l=n(s),i=r-l.x,h=e-l.y;return p(s,i,h)};u.exports=o},97523:(u,m,t)=>{var a=t(2141),p=function(o,s){return s===void 0&&(s=new a),s.x=(o.x1+o.x2+o.x3)/3,s.y=(o.y1+o.y2+o.y3)/3,s};u.exports=p},24951:(u,m,t)=>{var a=t(26099);function p(s,r,e,n){return s*n-r*e}var o=function(s,r){r===void 0&&(r=new a);var e=s.x3,n=s.y3,l=s.x1-e,i=s.y1-n,h=s.x2-e,f=s.y2-n,c=2*p(l,i,h,f),d=p(i,l*l+i*i,f,h*h+f*f),v=p(l,l*l+i*i,h,h*h+f*f);return r.x=e-d/c,r.y=n+v/c,r};u.exports=o},85614:(u,m,t)=>{var a=t(96503),p=function(o,s){s===void 0&&(s=new a);var r=o.x1,e=o.y1,n=o.x2,l=o.y2,i=o.x3,h=o.y3,f=n-r,c=l-e,d=i-r,v=h-e,g=f*(r+n)+c*(e+l),y=d*(r+i)+v*(e+h),x=2*(f*(h-l)-c*(i-n)),T,S;if(Math.abs(x)<1e-6){var A=Math.min(r,n,i),P=Math.min(e,l,h);T=(Math.max(r,n,i)-A)*.5,S=(Math.max(e,l,h)-P)*.5,s.x=A+T,s.y=P+S,s.radius=Math.sqrt(T*T+S*S)}else s.x=(v*g-c*y)/x,s.y=(f*y-d*g)/x,T=s.x-r,S=s.y-e,s.radius=Math.sqrt(T*T+S*S);return s};u.exports=p},74422:(u,m,t)=>{var a=t(16483),p=function(o){return new a(o.x1,o.y1,o.x2,o.y2,o.x3,o.y3)};u.exports=p},10690:u=>{var m=function(t,a,p){var o=t.x3-t.x1,s=t.y3-t.y1,r=t.x2-t.x1,e=t.y2-t.y1,n=a-t.x1,l=p-t.y1,i=o*o+s*s,h=o*r+s*e,f=o*n+s*l,c=r*r+e*e,d=r*n+e*l,v=i*c-h*h,g=v===0?0:1/v,y=(c*f-h*d)*g,x=(i*d-h*f)*g;return y>=0&&x>=0&&y+x<1};u.exports=m},48653:u=>{var m=function(t,a,p,o){p===void 0&&(p=!1),o===void 0&&(o=[]);for(var s=t.x3-t.x1,r=t.y3-t.y1,e=t.x2-t.x1,n=t.y2-t.y1,l=s*s+r*r,i=s*e+r*n,h=e*e+n*n,f=l*h-i*i,c=f===0?0:1/f,d,v,g,y,x,T,S=t.x1,A=t.y1,P=0;P<a.length&&(g=a[P].x-S,y=a[P].y-A,x=s*g+r*y,T=e*g+n*y,d=(h*x-i*T)*c,v=(l*T-i*x)*c,!(d>=0&&v>=0&&d+v<1&&(o.push({x:a[P].x,y:a[P].y}),p)));P++);return o};u.exports=m},96006:(u,m,t)=>{var a=t(10690),p=function(o,s){return a(o,s.x,s.y)};u.exports=p},71326:u=>{var m=function(t,a){return a.setTo(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)};u.exports=m},71694:u=>{var m=function(t,a){return a===void 0&&(a=[]),a.push({x:t.x1,y:t.y1}),a.push({x:t.x2,y:t.y2}),a.push({x:t.x3,y:t.y3}),a};u.exports=m},33522:u=>{var m=function(t,a){return t.x1===a.x1&&t.y1===a.y1&&t.x2===a.x2&&t.y2===a.y2&&t.x3===a.x3&&t.y3===a.y3};u.exports=m},20437:(u,m,t)=>{var a=t(2141),p=t(35001),o=function(s,r,e){e===void 0&&(e=new a);var n=s.getLineA(),l=s.getLineB(),i=s.getLineC();if(r<=0||r>=1)return e.x=n.x1,e.y=n.y1,e;var h=p(n),f=p(l),c=p(i),d=h+f+c,v=d*r,g=0;return v<h?(g=v/h,e.x=n.x1+(n.x2-n.x1)*g,e.y=n.y1+(n.y2-n.y1)*g):v>h+f?(v-=h+f,g=v/c,e.x=i.x1+(i.x2-i.x1)*g,e.y=i.y1+(i.y2-i.y1)*g):(v-=h,g=v/f,e.x=l.x1+(l.x2-l.x1)*g,e.y=l.y1+(l.y2-l.y1)*g),e};u.exports=o},80672:(u,m,t)=>{var a=t(35001),p=t(2141),o=function(s,r,e,n){n===void 0&&(n=[]);var l=s.getLineA(),i=s.getLineB(),h=s.getLineC(),f=a(l),c=a(i),d=a(h),v=f+c+d;!r&&e>0&&(r=v/e);for(var g=0;g<r;g++){var y=v*(g/r),x=0,T=new p;y<f?(x=y/f,T.x=l.x1+(l.x2-l.x1)*x,T.y=l.y1+(l.y2-l.y1)*x):y>f+c?(y-=f+c,x=y/d,T.x=h.x1+(h.x2-h.x1)*x,T.y=h.y1+(h.y2-h.y1)*x):(y-=f,x=y/c,T.x=i.x1+(i.x2-i.x1)*x,T.y=i.y1+(i.y2-i.y1)*x),n.push(T)}return n};u.exports=o},39757:(u,m,t)=>{var a=t(2141);function p(s,r,e,n){var l=s-e,i=r-n,h=l*l+i*i;return Math.sqrt(h)}var o=function(s,r){r===void 0&&(r=new a);var e=s.x1,n=s.y1,l=s.x2,i=s.y2,h=s.x3,f=s.y3,c=p(h,f,l,i),d=p(e,n,h,f),v=p(l,i,e,n),g=c+d+v;return r.x=(e*c+l*d+h*v)/g,r.y=(n*c+i*d+f*v)/g,r};u.exports=o},13584:u=>{var m=function(t,a,p){return t.x1+=a,t.y1+=p,t.x2+=a,t.y2+=p,t.x3+=a,t.y3+=p,t};u.exports=m},1376:(u,m,t)=>{var a=t(35001),p=function(o){var s=o.getLineA(),r=o.getLineB(),e=o.getLineC();return a(s)+a(r)+a(e)};u.exports=p},90260:(u,m,t)=>{var a=t(2141),p=function(o,s){s===void 0&&(s=new a);var r=o.x2-o.x1,e=o.y2-o.y1,n=o.x3-o.x1,l=o.y3-o.y1,i=Math.random(),h=Math.random();return i+h>=1&&(i=1-i,h=1-h),s.x=o.x1+(r*i+n*h),s.y=o.y1+(e*i+l*h),s};u.exports=p},52172:(u,m,t)=>{var a=t(99614),p=t(39757),o=function(s,r){var e=p(s);return a(s,e.x,e.y,r)};u.exports=o},49907:(u,m,t)=>{var a=t(99614),p=function(o,s,r){return a(o,s.x,s.y,r)};u.exports=p},99614:u=>{var m=function(t,a,p,o){var s=Math.cos(o),r=Math.sin(o),e=t.x1-a,n=t.y1-p;return t.x1=e*s-n*r+a,t.y1=e*r+n*s+p,e=t.x2-a,n=t.y2-p,t.x2=e*s-n*r+a,t.y2=e*r+n*s+p,e=t.x3-a,n=t.y3-p,t.x3=e*s-n*r+a,t.y3=e*r+n*s+p,t};u.exports=m},16483:(u,m,t)=>{var a=t(83419),p=t(10690),o=t(20437),s=t(80672),r=t(23777),e=t(23031),n=t(90260),l=new a({initialize:function(h,f,c,d,v,g){h===void 0&&(h=0),f===void 0&&(f=0),c===void 0&&(c=0),d===void 0&&(d=0),v===void 0&&(v=0),g===void 0&&(g=0),this.type=r.TRIANGLE,this.x1=h,this.y1=f,this.x2=c,this.y2=d,this.x3=v,this.y3=g},contains:function(i,h){return p(this,i,h)},getPoint:function(i,h){return o(this,i,h)},getPoints:function(i,h,f){return s(this,i,h,f)},getRandomPoint:function(i){return n(this,i)},setTo:function(i,h,f,c,d,v){return i===void 0&&(i=0),h===void 0&&(h=0),f===void 0&&(f=0),c===void 0&&(c=0),d===void 0&&(d=0),v===void 0&&(v=0),this.x1=i,this.y1=h,this.x2=f,this.y2=c,this.x3=d,this.y3=v,this},getLineA:function(i){return i===void 0&&(i=new e),i.setTo(this.x1,this.y1,this.x2,this.y2),i},getLineB:function(i){return i===void 0&&(i=new e),i.setTo(this.x2,this.y2,this.x3,this.y3),i},getLineC:function(i){return i===void 0&&(i=new e),i.setTo(this.x3,this.y3,this.x1,this.y1),i},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(i){var h=0;this.x1<=this.x2&&this.x1<=this.x3?h=this.x1-i:this.x2<=this.x1&&this.x2<=this.x3?h=this.x2-i:h=this.x3-i,this.x1-=h,this.x2-=h,this.x3-=h}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(i){var h=0;this.x1>=this.x2&&this.x1>=this.x3?h=this.x1-i:this.x2>=this.x1&&this.x2>=this.x3?h=this.x2-i:h=this.x3-i,this.x1-=h,this.x2-=h,this.x3-=h}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(i){var h=0;this.y1<=this.y2&&this.y1<=this.y3?h=this.y1-i:this.y2<=this.y1&&this.y2<=this.y3?h=this.y2-i:h=this.y3-i,this.y1-=h,this.y2-=h,this.y3-=h}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(i){var h=0;this.y1>=this.y2&&this.y1>=this.y3?h=this.y1-i:this.y2>=this.y1&&this.y2>=this.y3?h=this.y2-i:h=this.y3-i,this.y1-=h,this.y2-=h,this.y3-=h}}});u.exports=l},84435:(u,m,t)=>{var a=t(16483);a.Area=t(41658),a.BuildEquilateral=t(39208),a.BuildFromPolygon=t(39545),a.BuildRight=t(90301),a.CenterOn=t(23707),a.Centroid=t(97523),a.CircumCenter=t(24951),a.CircumCircle=t(85614),a.Clone=t(74422),a.Contains=t(10690),a.ContainsArray=t(48653),a.ContainsPoint=t(96006),a.CopyFrom=t(71326),a.Decompose=t(71694),a.Equals=t(33522),a.GetPoint=t(20437),a.GetPoints=t(80672),a.InCenter=t(39757),a.Perimeter=t(1376),a.Offset=t(13584),a.Random=t(90260),a.Rotate=t(52172),a.RotateAroundPoint=t(49907),a.RotateAroundXY=t(99614),u.exports=a},74457:u=>{var m=function(t,a,p){return{gameObject:t,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:a,hitAreaCallback:p,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragStartCamera:null,dragX:0,dragY:0}};u.exports=m},84409:u=>{var m=function(t,a){return function(p,o,s,r){var e=t.getPixelAlpha(o,s,r.texture.key,r.frame.name);return e&&e>=a}};u.exports=m},7003:(u,m,t)=>{var a=t(83419),p=t(93301),o=t(50792),s=t(8214),r=t(8443),e=t(78970),n=t(85098),l=t(42515),i=t(36210),h=t(61340),f=t(85955),c=new a({initialize:function(v,g){this.game=v,this.scaleManager,this.canvas,this.config=g,this.enabled=!0,this.events=new o,this.isOver=!0,this.defaultCursor="",this.keyboard=g.inputKeyboard?new e(this):null,this.mouse=g.inputMouse?new n(this):null,this.touch=g.inputTouch?new i(this):null,this.pointers=[],this.pointersTotal=g.inputActivePointers;for(var y=0;y<=this.pointersTotal;y++){var x=new l(this,y);x.smoothFactor=g.inputSmoothFactor,this.pointers.push(x)}this.mousePointer=g.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new h,this._tempMatrix2=new h,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],v.events.once(r.BOOT,this.boot,this)},boot:function(){var d=this.game,v=d.events;this.canvas=d.canvas,this.scaleManager=d.scale,this.events.emit(s.MANAGER_BOOT),v.on(r.PRE_RENDER,this.preRender,this),v.once(r.DESTROY,this.destroy,this)},setCanvasOver:function(d){this.isOver=!0,this.events.emit(s.GAME_OVER,d)},setCanvasOut:function(d){this.isOver=!1,this.events.emit(s.GAME_OUT,d)},preRender:function(){var d=this.game.loop.now,v=this.game.loop.delta,g=this.game.scene.getScenes(!0,!0);this.time=d,this.events.emit(s.MANAGER_UPDATE);for(var y=0;y<g.length;y++){var x=g[y];if(x.sys.input&&x.sys.input.updatePoll(d,v)&&this.globalTopOnly)return}},setDefaultCursor:function(d){this.defaultCursor=d,this.canvas.style.cursor!==d&&(this.canvas.style.cursor=d)},setCursor:function(d){d.cursor&&(this.canvas.style.cursor=d.cursor)},resetCursor:function(d,v){(v||d&&d.cursor)&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(d){d===void 0&&(d=1);var v=[];this.pointersTotal+d>10&&(d=10-this.pointersTotal);for(var g=0;g<d;g++){var y=this.pointers.length,x=new l(this,y);x.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(x),this.pointersTotal++,v.push(x)}return v},updateInputPlugins:function(d,v){var g=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var y=0;y<g.length;y++){var x=g[y];if(x.sys.input){var T=x.sys.input.update(d,v);if(T&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(d){for(var v=this.pointers,g=[],y=0;y<d.changedTouches.length;y++)for(var x=d.changedTouches[y],T=1;T<v.length;T++){var S=v[T];if(!S.active){S.touchstart(x,d),this.activePointer=S,g.push(S);break}}this.updateInputPlugins(p.TOUCH_START,g)},onTouchMove:function(d){for(var v=this.pointers,g=[],y=0;y<d.changedTouches.length;y++)for(var x=d.changedTouches[y],T=1;T<v.length;T++){var S=v[T];if(S.active&&S.identifier===x.identifier){var A=document.elementFromPoint(x.clientX,x.clientY),P=A===this.canvas;!this.isOver&&P?this.setCanvasOver(d):this.isOver&&!P&&this.setCanvasOut(d),this.isOver&&(S.touchmove(x,d),this.activePointer=S,g.push(S));break}}this.updateInputPlugins(p.TOUCH_MOVE,g)},onTouchEnd:function(d){for(var v=this.pointers,g=[],y=0;y<d.changedTouches.length;y++)for(var x=d.changedTouches[y],T=1;T<v.length;T++){var S=v[T];if(S.active&&S.identifier===x.identifier){S.touchend(x,d),g.push(S);break}}this.updateInputPlugins(p.TOUCH_END,g)},onTouchCancel:function(d){for(var v=this.pointers,g=[],y=0;y<d.changedTouches.length;y++)for(var x=d.changedTouches[y],T=1;T<v.length;T++){var S=v[T];if(S.active&&S.identifier===x.identifier){S.touchcancel(x,d),g.push(S);break}}this.updateInputPlugins(p.TOUCH_CANCEL,g)},onMouseDown:function(d){var v=this.mousePointer;v.down(d),v.updateMotion(),this.activePointer=v,this.updateInputPlugins(p.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(d){var v=this.mousePointer;v.move(d),v.updateMotion(),this.activePointer=v,this.updateInputPlugins(p.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(d){var v=this.mousePointer;v.up(d),v.updateMotion(),this.activePointer=v,this.updateInputPlugins(p.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(d){var v=this.mousePointer;v.wheel(d),this.activePointer=v,this.updateInputPlugins(p.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(d){var v=this.mouse.locked;this.mousePointer.locked=v,this.events.emit(s.POINTERLOCK_CHANGE,d,v)},inputCandidate:function(d,v){var g=d.input;if(!g||!g.enabled||!d.willRender(v))return!1;var y=!0,x=d.parentContainer;if(x)do{if(!x.willRender(v)){y=!1;break}x=x.parentContainer}while(x);return y},hitTest:function(d,v,g,y){y===void 0&&(y=this._tempHitTest);var x=this._tempPoint,T=g.scrollX,S=g.scrollY;y.length=0;var A=d.x,P=d.y;g.getWorldPoint(A,P,x),d.worldX=x.x,d.worldY=x.y;for(var D={x:0,y:0},R=this._tempMatrix,L=this._tempMatrix2,I=0;I<v.length;I++){var w=v[I];if(this.inputCandidate(w,g)){var B=x.x+T*w.scrollFactorX-T,b=x.y+S*w.scrollFactorY-S;w.parentContainer?(w.getWorldTransformMatrix(R,L),R.applyInverse(B,b,D)):f(B,b,w.x,w.y,w.rotation,w.scaleX,w.scaleY,D),this.pointWithinHitArea(w,D.x,D.y)&&y.push(w)}}return y},pointWithinHitArea:function(d,v,g){v+=d.displayOriginX,g+=d.displayOriginY;var y=d.input;return y&&y.hitAreaCallback(y.hitArea,v,g,d)?(y.localX=v,y.localY=g,!0):!1},pointWithinInteractiveObject:function(d,v,g){return d.hitArea?(v+=d.gameObject.displayOriginX,g+=d.gameObject.displayOriginY,d.localX=v,d.localY=g,d.hitAreaCallback(d.hitArea,v,g,d)):!1},transformPointer:function(d,v,g,y){var x=d.position,T=d.prevPosition;T.x=x.x,T.y=x.y;var S=this.scaleManager.transformX(v),A=this.scaleManager.transformY(g),P=d.smoothFactor;!y||P===0?(x.x=S,x.y=A):(x.x=S*P+T.x*(1-P),x.y=A*P+T.y*(1-P))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(r.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var d=0;d<this.pointers.length;d++)this.pointers[d].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});u.exports=c},48205:(u,m,t)=>{var a=t(96503),p=t(87902),o=t(83419),s=t(93301),r=t(74457),e=t(84409),n=t(20339),l=t(8497),i=t(81154),h=t(8214),f=t(50792),c=t(95540),d=t(23777),v=t(89639),g=t(41212),y=t(37277),x=t(87841),T=t(37303),S=t(44594),A=t(16483),P=t(10690),D=new o({Extends:f,initialize:function(L){f.call(this),this.scene=L,this.systems=L.sys,this.settings=L.sys.settings,this.manager=L.sys.game.input,this.pluginEvents=new f,this.enabled=!0,this.displayList,this.cameras,v.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var I={cancelled:!1};this._eventContainer={stopPropagation:function(){I.cancelled=!0}},this._eventData=I,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,L.sys.events.once(S.BOOT,this.boot,this),L.sys.events.on(S.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(S.DESTROY,this.destroy,this),this.pluginEvents.emit(h.BOOT)},start:function(){var R=this.systems.events;R.on(S.TRANSITION_START,this.transitionIn,this),R.on(S.TRANSITION_OUT,this.transitionOut,this),R.on(S.TRANSITION_COMPLETE,this.transitionComplete,this),R.on(S.PRE_UPDATE,this.preUpdate,this),R.once(S.SHUTDOWN,this.shutdown,this),this.manager.events.on(h.GAME_OUT,this.onGameOut,this),this.manager.events.on(h.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(h.START)},onGameOver:function(R){this.isActive()&&this.emit(h.GAME_OVER,R.timeStamp,R)},onGameOut:function(R){this.isActive()&&this.emit(h.GAME_OUT,R.timeStamp,R)},preUpdate:function(){this.pluginEvents.emit(h.PRE_UPDATE);var R=this._pendingRemoval,L=this._pendingInsertion,I=R.length,w=L.length;if(!(I===0&&w===0)){for(var B=this._list,b=0;b<I;b++){var V=R[b],X=B.indexOf(V);X>-1&&(B.splice(X,1),this.clear(V,!0))}this._pendingRemoval.length=0,this._list=B.concat(L.splice(0))}},isActive:function(){return this.manager&&this.manager.enabled&&this.enabled&&this.scene.sys.canInput()},setCursor:function(R){this.manager&&this.manager.setCursor(R)},resetCursor:function(){this.manager&&this.manager.resetCursor(null,!0)},updatePoll:function(R,L){if(!this.isActive())return!1;if(this.pluginEvents.emit(h.UPDATE,R,L),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var I,w=this.manager,B=w.pointers;for(I=0;I<B.length;I++)B[I].updateMotion();if(this._list.length===0)return!1;var b=this.pollRate;if(b===-1)return!1;if(b>0)if(this._pollTimer-=L,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var V=!1;for(I=0;I<B.length;I++){var X=0,G=B[I];this._tempZones=[],this._temp=this.hitTestPointer(G),this.sortGameObjects(this._temp,G),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),X+=this.processOverOutEvents(G),this.getDragState(G)===2&&this.processDragThresholdEvent(G,R),X>0&&(V=!0)}return V},update:function(R,L){if(!this.isActive())return!1;for(var I=!1,w=0;w<L.length;w++){var B=0,b=L[w];switch(this._tempZones=[],this._temp=this.hitTestPointer(b),this.sortGameObjects(this._temp,b),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),R){case s.MOUSE_DOWN:B+=this.processDragDownEvent(b),B+=this.processDownEvents(b),B+=this.processOverOutEvents(b);break;case s.MOUSE_UP:B+=this.processDragUpEvent(b),B+=this.processUpEvents(b),B+=this.processOverOutEvents(b);break;case s.TOUCH_START:B+=this.processDragDownEvent(b),B+=this.processDownEvents(b),B+=this.processOverEvents(b);break;case s.TOUCH_END:case s.TOUCH_CANCEL:B+=this.processDragUpEvent(b),B+=this.processUpEvents(b),B+=this.processOutEvents(b);break;case s.MOUSE_MOVE:case s.TOUCH_MOVE:B+=this.processDragMoveEvent(b),B+=this.processMoveEvents(b),B+=this.processOverOutEvents(b);break;case s.MOUSE_WHEEL:B+=this.processWheelEvent(b);break}B>0&&(I=!0)}return this._updatedThisFrame=!0,I},clear:function(R,L){L===void 0&&(L=!1),this.disable(R);var I=R.input;I&&(this.removeDebug(R),this.manager.resetCursor(I),I.gameObject=void 0,I.target=void 0,I.hitArea=void 0,I.hitAreaCallback=void 0,I.callbackContext=void 0,R.input=null),L||this.queueForRemoval(R);var w=this._draggable.indexOf(R);return w>-1&&this._draggable.splice(w,1),R},disable:function(R,L){L===void 0&&(L=!1);var I=R.input;I&&(I.enabled=!1,I.dragState=0);for(var w=this._drag,B=this._over,b=this.manager,V=0,X;V<b.pointers.length;V++)X=w[V].indexOf(R),X>-1&&w[V].splice(X,1),X=B[V].indexOf(R),X>-1&&B[V].splice(X,1);return L&&this.resetCursor(),this},enable:function(R,L,I,w){return w===void 0&&(w=!1),R.input?R.input.enabled=!0:this.setHitArea(R,L,I),R.input&&w&&!R.input.dropZone&&(R.input.dropZone=w),this},hitTestPointer:function(R){for(var L=this.cameras.getCamerasBelowPointer(R),I=0;I<L.length;I++){for(var w=L[I],B=this.manager.hitTest(R,this._list,w),b=0;b<B.length;b++){var V=B[b];V.input.dropZone&&this._tempZones.push(V)}if(B.length>0)return R.camera=w,B}return R.camera=L[0],[]},processDownEvents:function(R){var L=0,I=this._temp,w=this._eventData,B=this._eventContainer;w.cancelled=!1;for(var b=0;b<I.length;b++){var V=I[b];if(!(!V.input||!V.input.enabled)&&(L++,V.emit(h.GAMEOBJECT_POINTER_DOWN,R,V.input.localX,V.input.localY,B),w.cancelled||!this.isActive()||V.input&&V.input.enabled&&(this.emit(h.GAMEOBJECT_DOWN,R,V,B),w.cancelled||!this.isActive())))break}return!w.cancelled&&this.isActive()&&(R.downElement===this.manager.game.canvas?this.emit(h.POINTER_DOWN,R,I):this.emit(h.POINTER_DOWN_OUTSIDE,R)),L},getDragState:function(R){return this._dragState[R.id]},setDragState:function(R,L){this._dragState[R.id]=L},processDragThresholdEvent:function(R,L){var I=!1,w=this.dragTimeThreshold,B=this.dragDistanceThreshold;if((B>0&&n(R.x,R.y,R.downX,R.downY)>=B||w>0&&L>=R.downTime+w)&&(I=!0),I)return this.setDragState(R,3),this.processDragStartList(R)},processDragStartList:function(R){if(this.getDragState(R)!==3)return 0;var L=this._drag[R.id];L.length>1&&(L=L.slice(0));for(var I=0;I<L.length;I++){var w=L[I],B=w.input;B.dragState=2,B.dragStartX=w.x,B.dragStartY=w.y,B.dragStartXGlobal=R.worldX,B.dragStartYGlobal=R.worldY,B.dragStartCamera=R.camera,B.dragX=B.dragStartXGlobal-B.dragStartX,B.dragY=B.dragStartYGlobal-B.dragStartY,w.emit(h.GAMEOBJECT_DRAG_START,R,B.dragX,B.dragY),this.emit(h.DRAG_START,R,w)}return this.setDragState(R,4),L.length},processDragDownEvent:function(R){var L=this._temp;if(this._draggable.length===0||L.length===0||!R.primaryDown||this.getDragState(R)!==0)return 0;this.setDragState(R,1);for(var I=[],w=0;w<L.length;w++){var B=L[w];B.input.draggable&&B.input.dragState===0&&I.push(B)}return I.length===0?(this.setDragState(R,0),0):(I.length>1&&(this.sortGameObjects(I,R),this.topOnly&&I.splice(1)),this._drag[R.id]=I,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(R,3),this.processDragStartList(R)):(this.setDragState(R,2),0))},processDragMoveEvent:function(R){if(this.getDragState(R)===2&&this.processDragThresholdEvent(R,this.manager.game.loop.now),this.getDragState(R)!==4)return 0;var L=this._tempZones,I=this._drag[R.id];I.length>1&&(I=I.slice(0));for(var w=0;w<I.length;w++){var B=I[w],b=B.input,V=b.target;if(V){var X=L.indexOf(V);X===0?(B.emit(h.GAMEOBJECT_DRAG_OVER,R,V),this.emit(h.DRAG_OVER,R,B,V)):X>0?(B.emit(h.GAMEOBJECT_DRAG_LEAVE,R,V),this.emit(h.DRAG_LEAVE,R,B,V),b.target=L[0],V=b.target,B.emit(h.GAMEOBJECT_DRAG_ENTER,R,V),this.emit(h.DRAG_ENTER,R,B,V)):(B.emit(h.GAMEOBJECT_DRAG_LEAVE,R,V),this.emit(h.DRAG_LEAVE,R,B,V),L[0]?(b.target=L[0],V=b.target,B.emit(h.GAMEOBJECT_DRAG_ENTER,R,V),this.emit(h.DRAG_ENTER,R,B,V)):b.target=null)}else!V&&L[0]&&(b.target=L[0],V=b.target,B.emit(h.GAMEOBJECT_DRAG_ENTER,R,V),this.emit(h.DRAG_ENTER,R,B,V));var G,U,O=R.positionToCamera(b.dragStartCamera);if(!B.parentContainer)G=O.x-b.dragX,U=O.y-b.dragY;else{var z=O.x-b.dragStartXGlobal,N=O.y-b.dragStartYGlobal,Y=B.getParentRotation(),W=z*Math.cos(Y)+N*Math.sin(Y),H=N*Math.cos(Y)-z*Math.sin(Y);W*=1/B.parentContainer.scaleX,H*=1/B.parentContainer.scaleY,G=W+b.dragStartX,U=H+b.dragStartY}B.emit(h.GAMEOBJECT_DRAG,R,G,U),this.emit(h.DRAG,R,B,G,U)}return I.length},processDragUpEvent:function(R){var L=this._drag[R.id];L.length>1&&(L=L.slice(0));for(var I=0;I<L.length;I++){var w=L[I],B=w.input;if(B&&B.dragState===2){B.dragState=0,B.dragX=B.localX-w.displayOriginX,B.dragY=B.localY-w.displayOriginY,B.dragStartCamera=null;var b=!1,V=B.target;V&&(w.emit(h.GAMEOBJECT_DROP,R,V),this.emit(h.DROP,R,w,V),B.target=null,b=!0),w.input&&w.input.enabled&&(w.emit(h.GAMEOBJECT_DRAG_END,R,B.dragX,B.dragY,b),this.emit(h.DRAG_END,R,w,b))}}return this.setDragState(R,0),L.splice(0),0},processMoveEvents:function(R){var L=0,I=this._temp,w=this._eventData,B=this._eventContainer;w.cancelled=!1;for(var b=0;b<I.length;b++){var V=I[b];if(!(!V.input||!V.input.enabled)&&(L++,V.emit(h.GAMEOBJECT_POINTER_MOVE,R,V.input.localX,V.input.localY,B),w.cancelled||!this.isActive()||V.input&&V.input.enabled&&(this.emit(h.GAMEOBJECT_MOVE,R,V,B),w.cancelled||!this.isActive()||this.topOnly)))break}return!w.cancelled&&this.isActive()&&this.emit(h.POINTER_MOVE,R,I),L},processWheelEvent:function(R){var L=0,I=this._temp,w=this._eventData,B=this._eventContainer;w.cancelled=!1;for(var b=R.deltaX,V=R.deltaY,X=R.deltaZ,G=0;G<I.length;G++){var U=I[G];if(!(!U.input||!U.input.enabled)&&(L++,U.emit(h.GAMEOBJECT_POINTER_WHEEL,R,b,V,X,B),w.cancelled||!this.isActive()||U.input&&U.input.enabled&&(this.emit(h.GAMEOBJECT_WHEEL,R,U,b,V,X,B),w.cancelled||!this.isActive())))break}return!w.cancelled&&this.isActive()&&this.emit(h.POINTER_WHEEL,R,I,b,V,X),L},processOverEvents:function(R){var L=this._temp,I=0,w=L.length,B=[];if(w>0){var b=this.manager,V=this._eventData,X=this._eventContainer;V.cancelled=!1;for(var G=0;G<w;G++){var U=L[G];if(!(!U.input||!U.input.enabled)&&(B.push(U),b.setCursor(U.input),U.emit(h.GAMEOBJECT_POINTER_OVER,R,U.input.localX,U.input.localY,X),I++,V.cancelled||!this.isActive()||U.input&&U.input.enabled&&(this.emit(h.GAMEOBJECT_OVER,R,U,X),V.cancelled||!this.isActive())))break}!V.cancelled&&this.isActive()&&this.emit(h.POINTER_OVER,R,B)}return this._over[R.id]=B,I},processOutEvents:function(R){var L=this._over[R.id],I=0,w=L.length;if(w>0){var B=this.manager,b=this._eventData,V=this._eventContainer;b.cancelled=!1,this.sortGameObjects(L,R);for(var X=0;X<w;X++){var G=L[X];if(G=L[X],!(!G.input||!G.input.enabled)&&(B.resetCursor(G.input),G.emit(h.GAMEOBJECT_POINTER_OUT,R,V),I++,b.cancelled||!this.isActive()||G.input&&G.input.enabled&&(this.emit(h.GAMEOBJECT_OUT,R,G,V),b.cancelled||!this.isActive())))break}!b.cancelled&&this.isActive()&&this.emit(h.POINTER_OUT,R,L),this._over[R.id]=[]}return I},processOverOutEvents:function(R){var L=this._temp,I,w,B=[],b=[],V=[],X=this._over[R.id],G=this._drag[R.id],U=this.manager;for(I=0;I<X.length;I++)w=X[I],L.indexOf(w)===-1&&G.indexOf(w)===-1?B.push(w):V.push(w);for(I=0;I<L.length;I++)w=L[I],X.indexOf(w)===-1&&b.push(w);var O=B.length,z=0,N=this._eventData,Y=this._eventContainer;if(N.cancelled=!1,O>0){for(this.sortGameObjects(B,R),I=0;I<O&&(w=B[I],!(!(!w.input||!w.input.enabled)&&(U.resetCursor(w.input),w.emit(h.GAMEOBJECT_POINTER_OUT,R,Y),z++,N.cancelled||!this.isActive()||w.input&&w.input.enabled&&(this.emit(h.GAMEOBJECT_OUT,R,w,Y),N.cancelled||!this.isActive()))));I++);(!N.cancelled||this.isActive())&&this.emit(h.POINTER_OUT,R,B)}if(O=b.length,N.cancelled=!1,O>0){for(this.sortGameObjects(b,R),I=0;I<O&&(w=b[I],!(!(!w.input||!w.input.enabled)&&(U.setCursor(w.input),w.emit(h.GAMEOBJECT_POINTER_OVER,R,w.input.localX,w.input.localY,Y),z++,N.cancelled||!this.isActive()||w.input&&w.input.enabled&&(this.emit(h.GAMEOBJECT_OVER,R,w,Y),N.cancelled||!this.isActive()))));I++);!N.cancelled&&this.isActive()&&this.emit(h.POINTER_OVER,R,b)}return X=V.concat(b),this._over[R.id]=this.sortGameObjects(X,R),z},processUpEvents:function(R){var L=this._temp,I=this._eventData,w=this._eventContainer;I.cancelled=!1;for(var B=0;B<L.length;B++){var b=L[B];if(!(!b.input||!b.input.enabled)&&(b.emit(h.GAMEOBJECT_POINTER_UP,R,b.input.localX,b.input.localY,w),I.cancelled||!this.isActive()||b.input&&b.input.enabled&&(this.emit(h.GAMEOBJECT_UP,R,b,w),I.cancelled||!this.isActive())))break}return!I.cancelled&&this.isActive()&&(R.upElement===this.manager.game.canvas?this.emit(h.POINTER_UP,R,L):this.emit(h.POINTER_UP_OUTSIDE,R)),L.length},forceDownState:function(R,L){this.forceState(R,L,h.GAMEOBJECT_POINTER_DOWN,h.GAMEOBJECT_DOWN,!1)},forceUpState:function(R,L){this.forceState(R,L,h.GAMEOBJECT_POINTER_UP,h.GAMEOBJECT_UP,!1)},forceOverState:function(R,L){this.forceState(R,L,h.GAMEOBJECT_POINTER_OVER,h.GAMEOBJECT_OVER,!0)},forceOutState:function(R,L){this.forceState(R,L,h.GAMEOBJECT_POINTER_OUT,h.GAMEOBJECT_OUT,!1)},forceState:function(R,L,I,w,B){var b=this._eventData,V=this._eventContainer;b.cancelled=!1,L.input&&L.input.enabled&&(L.emit(I,R,L.input.localX,L.input.localY,V),B&&this.setCursor(L.input),!b.cancelled&&this.isActive()&&L.input&&L.input.enabled&&this.emit(w,R,L,V))},queueForInsertion:function(R){return this._pendingInsertion.indexOf(R)===-1&&this._list.indexOf(R)===-1&&this._pendingInsertion.push(R),this},queueForRemoval:function(R){return this._pendingRemoval.push(R),this},setDraggable:function(R,L){L===void 0&&(L=!0),Array.isArray(R)||(R=[R]);for(var I=0;I<R.length;I++){var w=R[I];w.input.draggable=L;var B=this._draggable.indexOf(w);L&&B===-1?this._draggable.push(w):!L&&B>-1&&this._draggable.splice(B,1)}return this},makePixelPerfect:function(R){R===void 0&&(R=1);var L=this.systems.textures;return e(L,R)},setHitArea:function(R,L,I){if(L===void 0)return this.setHitAreaFromTexture(R);Array.isArray(R)||(R=[R]);var w=!1,B=!1,b=!1,V=!1,X=!1,G=!0;if(g(L)&&Object.keys(L).length){var U=L,O=R.some(function(H){return H.hasOwnProperty("faces")});if(!O){L=c(U,"hitArea",null),I=c(U,"hitAreaCallback",null),X=c(U,"pixelPerfect",!1);var z=c(U,"alphaTolerance",1);X&&(L={},I=this.makePixelPerfect(z))}w=c(U,"draggable",!1),B=c(U,"dropZone",!1),b=c(U,"cursor",!1),V=c(U,"useHandCursor",!1),(!L||!I)&&(this.setHitAreaFromTexture(R),G=!1)}else typeof L=="function"&&!I&&(I=L,L={});for(var N=0;N<R.length;N++){var Y=R[N];if(X&&Y.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var W=Y.input?Y.input:r(Y,L,I);W.customHitArea=G,W.dropZone=B,W.cursor=V?"pointer":b,Y.input=W,w&&this.setDraggable(Y),this.queueForInsertion(Y)}return this},setHitAreaCircle:function(R,L,I,w,B){B===void 0&&(B=p);var b=new a(L,I,w);return this.setHitArea(R,b,B)},setHitAreaEllipse:function(R,L,I,w,B,b){b===void 0&&(b=i);var V=new l(L,I,w,B);return this.setHitArea(R,V,b)},setHitAreaFromTexture:function(R,L){L===void 0&&(L=T),Array.isArray(R)||(R=[R]);for(var I=0;I<R.length;I++){var w=R[I],B=w.frame,b=0,V=0;if(w.width?(b=w.width,V=w.height):B&&(b=B.realWidth,V=B.realHeight),w.type==="Container"&&(b===0||V===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}b!==0&&V!==0&&(w.input=r(w,new x(0,0,b,V),L),this.queueForInsertion(w))}return this},setHitAreaRectangle:function(R,L,I,w,B,b){b===void 0&&(b=T);var V=new x(L,I,w,B);return this.setHitArea(R,V,b)},setHitAreaTriangle:function(R,L,I,w,B,b,V,X){X===void 0&&(X=P);var G=new A(L,I,w,B,b,V);return this.setHitArea(R,G,X)},enableDebug:function(R,L){L===void 0&&(L=65280);var I=R.input;if(!I||!I.hitArea)return this;var w=I.hitArea,B=w.type,b=I.hitAreaDebug,V=this.systems.add,X=this.systems.updateList;b&&(X.remove(b),b.destroy(),b=null);var G=0,U=0;switch(B){case d.CIRCLE:b=V.arc(0,0,w.radius),G=w.x-w.radius,U=w.y-w.radius;break;case d.ELLIPSE:b=V.ellipse(0,0,w.width,w.height),G=w.x-w.width/2,U=w.y-w.height/2;break;case d.LINE:b=V.line(0,0,w.x1,w.y1,w.x2,w.y2);break;case d.POLYGON:b=V.polygon(0,0,w.points);break;case d.RECTANGLE:b=V.rectangle(0,0,w.width,w.height),G=w.x,U=w.y;break;case d.TRIANGLE:b=V.triangle(0,0,w.x1,w.y1,w.x2,w.y2,w.x3,w.y3);break}return b&&(b.isFilled=!1,b.strokeColor=L,b.preUpdate=function(){b.setVisible(R.visible),b.setStrokeStyle(1/R.scale,b.strokeColor),b.setDisplayOrigin(R.displayOriginX,R.displayOriginY);var O=R.x,z=R.y,N=R.rotation,Y=R.scaleX,W=R.scaleY;if(R.parentContainer){var H=R.getWorldTransformMatrix();O=H.tx,z=H.ty,N=H.rotation,Y=H.scaleX,W=H.scaleY}b.setRotation(N),b.setScale(Y,W),b.setPosition(O+G*Y,z+U*W),b.setScrollFactor(R.scrollFactorX,R.scrollFactorY),b.setDepth(R.depth)},X.add(b),I.hitAreaDebug=b),this},removeDebug:function(R){var L=R.input;if(L&&L.hitAreaDebug){var I=L.hitAreaDebug;I.destroy(),L.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(R){return this.pollRate=R,this._pollTimer=0,this},setGlobalTopOnly:function(R){return this.manager.globalTopOnly=R,this},setTopOnly:function(R){return this.topOnly=R,this},sortGameObjects:function(R,L){if(R.length<2||!L.camera)return R;var I=L.camera.renderList;return R.sort(function(w,B){var b=Math.max(I.indexOf(w),0),V=Math.max(I.indexOf(B),0);return V-b})},sortDropZones:function(R){return R.length<2?R:(this.scene.sys.depthSort(),R.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(R,L){if(!R.parentContainer&&!L.parentContainer)return this.displayList.getIndex(L)-this.displayList.getIndex(R);if(R.parentContainer===L.parentContainer)return L.parentContainer.getIndex(L)-R.parentContainer.getIndex(R);if(R.parentContainer===L)return-1;if(L.parentContainer===R)return 1;for(var I=R.getIndexList(),w=L.getIndexList(),B=Math.min(I.length,w.length),b=0;b<B;b++){var V=I[b],X=w[b];if(V!==X)return X-V}return w.length-I.length;return 0},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(R){return this.manager.addPointer(R)},setDefaultCursor:function(R){return this.manager.setDefaultCursor(R),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(h.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var R=0;R<10;R++)this._drag[R]=[],this._over[R]=[];this.removeAllListeners();var L=this.manager;L.canvas.style.cursor=L.defaultCursor;var I=this.systems.events;I.off(S.TRANSITION_START,this.transitionIn,this),I.off(S.TRANSITION_OUT,this.transitionOut,this),I.off(S.TRANSITION_COMPLETE,this.transitionComplete,this),I.off(S.PRE_UPDATE,this.preUpdate,this),L.events.off(h.GAME_OUT,this.onGameOut,this),L.events.off(h.GAME_OVER,this.onGameOver,this),I.off(S.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var R=this.manager.pointers,L=0;L<R.length;L++)R[L].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(h.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(S.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});y.register("InputPlugin",D,"input"),u.exports=D},89639:(u,m,t)=>{var a=t(35154),p={},o={};o.register=function(s,r,e,n,l){p[s]={plugin:r,mapping:e,settingsKey:n,configKey:l}},o.getPlugin=function(s){return p[s]},o.install=function(s){var r=s.scene.sys,e=r.settings.input,n=r.game.config;for(var l in p){var i=p[l].plugin,h=p[l].mapping,f=p[l].settingsKey,c=p[l].configKey;a(e,f,n[c])&&(s[h]=new i(s))}},o.remove=function(s){p.hasOwnProperty(s)&&delete p[s]},u.exports=o},42515:(u,m,t)=>{var a=t(31040),p=t(83419),o=t(20339),s=t(43855),r=t(47235),e=t(26099),n=t(25892),l=new p({initialize:function(h,f){this.manager=h,this.id=f,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new e,this.prevPosition=new e,this.midPoint=new e(-1,-1),this.velocity=new e,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=f===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(i){var h=i.getWorldPoint(this.x,this.y);return this.worldX=h.x,this.worldY=h.y,this},positionToCamera:function(i,h){return i.getWorldPoint(this.x,this.y,h)},updateMotion:function(){var i=this.position.x,h=this.position.y,f=this.midPoint.x,c=this.midPoint.y;if(!(i===f&&h===c)){var d=r(this.motionFactor,f,i),v=r(this.motionFactor,c,h);s(d,i,.1)&&(d=i),s(v,h,.1)&&(v=h),this.midPoint.set(d,v);var g=i-d,y=h-v;this.velocity.set(g,y),this.angle=a(d,v,i,h),this.distance=Math.sqrt(g*g+y*y)}},up:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.button=i.button,this.upElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),i.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=i.timeStamp,this.wasTouch=!1)},down:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.button=i.button,this.downElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),i.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),n.macOS&&i.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=i.timeStamp),this.wasTouch=!1},move:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.manager.transformPointer(this,i.pageX,i.pageY,!0),this.locked&&(this.movementX=i.movementX||i.mozMovementX||i.webkitMovementX||0,this.movementY=i.movementY||i.mozMovementY||i.webkitMovementY||0),this.moveTime=i.timeStamp,this.wasTouch=!1},wheel:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.deltaX=i.deltaX,this.deltaY=i.deltaY,this.deltaZ=i.deltaZ,this.wasTouch=!1},touchstart:function(i,h){i.pointerId&&(this.pointerId=i.pointerId),this.identifier=i.identifier,this.target=i.target,this.active=!0,this.buttons=1,this.event=h,this.downElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=h.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(i,h){this.event=h,this.manager.transformPointer(this,i.pageX,i.pageY,!0),this.moveTime=h.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(i,h){this.buttons=0,this.event=h,this.upElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=h.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(i,h){this.buttons=0,this.event=h,this.upElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=h.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.buttons===0?this.button===0&&!this.isDown:this.button===0},rightButtonReleased:function(){return this.buttons===0?this.button===2&&!this.isDown:this.button===2},middleButtonReleased:function(){return this.buttons===0?this.button===1&&!this.isDown:this.button===1},backButtonReleased:function(){return this.buttons===0?this.button===3&&!this.isDown:this.button===3},forwardButtonReleased:function(){return this.buttons===0?this.button===4&&!this.isDown:this.button===4},getDistance:function(){return this.isDown?o(this.downX,this.downY,this.x,this.y):o(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?a(this.downX,this.downY,this.x,this.y):a(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(i,h){i===void 0&&(i=10),h===void 0&&(h=[]);for(var f=this.prevPosition.x,c=this.prevPosition.y,d=this.position.x,v=this.position.y,g=0;g<i;g++){var y=1/i*g;h[g]={x:r(y,f,d),y:r(y,c,v)}}return h},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(i){this.position.x=i}},y:{get:function(){return this.position.y},set:function(i){this.position.y=i}},time:{get:function(){return this.event?this.event.timeStamp:0}}});u.exports=l},93301:u=>{var m={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};u.exports=m},7179:u=>{u.exports="boot"},85375:u=>{u.exports="destroy"},39843:u=>{u.exports="dragend"},23388:u=>{u.exports="dragenter"},16133:u=>{u.exports="drag"},27829:u=>{u.exports="dragleave"},53904:u=>{u.exports="dragover"},56058:u=>{u.exports="dragstart"},2642:u=>{u.exports="drop"},88171:u=>{u.exports="gameobjectdown"},36147:u=>{u.exports="dragend"},71692:u=>{u.exports="dragenter"},96149:u=>{u.exports="drag"},81285:u=>{u.exports="dragleave"},74048:u=>{u.exports="dragover"},21322:u=>{u.exports="dragstart"},49378:u=>{u.exports="drop"},86754:u=>{u.exports="gameobjectmove"},86433:u=>{u.exports="gameobjectout"},60709:u=>{u.exports="gameobjectover"},24081:u=>{u.exports="pointerdown"},11172:u=>{u.exports="pointermove"},18907:u=>{u.exports="pointerout"},95579:u=>{u.exports="pointerover"},35368:u=>{u.exports="pointerup"},26972:u=>{u.exports="wheel"},47078:u=>{u.exports="gameobjectup"},73802:u=>{u.exports="gameobjectwheel"},56718:u=>{u.exports="gameout"},25936:u=>{u.exports="gameover"},27503:u=>{u.exports="boot"},50852:u=>{u.exports="process"},96438:u=>{u.exports="update"},59152:u=>{u.exports="pointerlockchange"},47777:u=>{u.exports="pointerdown"},27957:u=>{u.exports="pointerdownoutside"},19444:u=>{u.exports="pointermove"},54251:u=>{u.exports="pointerout"},18667:u=>{u.exports="pointerover"},27192:u=>{u.exports="pointerup"},24652:u=>{u.exports="pointerupoutside"},45132:u=>{u.exports="wheel"},44512:u=>{u.exports="preupdate"},15757:u=>{u.exports="shutdown"},41637:u=>{u.exports="start"},93802:u=>{u.exports="update"},8214:(u,m,t)=>{u.exports={BOOT:t(7179),DESTROY:t(85375),DRAG_END:t(39843),DRAG_ENTER:t(23388),DRAG:t(16133),DRAG_LEAVE:t(27829),DRAG_OVER:t(53904),DRAG_START:t(56058),DROP:t(2642),GAME_OUT:t(56718),GAME_OVER:t(25936),GAMEOBJECT_DOWN:t(88171),GAMEOBJECT_DRAG_END:t(36147),GAMEOBJECT_DRAG_ENTER:t(71692),GAMEOBJECT_DRAG:t(96149),GAMEOBJECT_DRAG_LEAVE:t(81285),GAMEOBJECT_DRAG_OVER:t(74048),GAMEOBJECT_DRAG_START:t(21322),GAMEOBJECT_DROP:t(49378),GAMEOBJECT_MOVE:t(86754),GAMEOBJECT_OUT:t(86433),GAMEOBJECT_OVER:t(60709),GAMEOBJECT_POINTER_DOWN:t(24081),GAMEOBJECT_POINTER_MOVE:t(11172),GAMEOBJECT_POINTER_OUT:t(18907),GAMEOBJECT_POINTER_OVER:t(95579),GAMEOBJECT_POINTER_UP:t(35368),GAMEOBJECT_POINTER_WHEEL:t(26972),GAMEOBJECT_UP:t(47078),GAMEOBJECT_WHEEL:t(73802),MANAGER_BOOT:t(27503),MANAGER_PROCESS:t(50852),MANAGER_UPDATE:t(96438),POINTER_DOWN:t(47777),POINTER_DOWN_OUTSIDE:t(27957),POINTER_MOVE:t(19444),POINTER_OUT:t(54251),POINTER_OVER:t(18667),POINTER_UP:t(27192),POINTER_UP_OUTSIDE:t(24652),POINTER_WHEEL:t(45132),POINTERLOCK_CHANGE:t(59152),PRE_UPDATE:t(44512),SHUTDOWN:t(15757),START:t(41637),UPDATE:t(93802)}},97421:(u,m,t)=>{var a=t(83419),p=new a({initialize:function(s,r){this.pad=s,this.events=s.events,this.index=r,this.value=0,this.threshold=.1},update:function(o){this.value=o},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});u.exports=p},28884:(u,m,t)=>{var a=t(83419),p=t(92734),o=new a({initialize:function(r,e){this.pad=r,this.events=r.manager,this.index=e,this.value=0,this.threshold=1,this.pressed=!1},update:function(s){this.value=s;var r=this.pad,e=this.index;s>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(p.BUTTON_DOWN,r,this,s),this.pad.emit(p.GAMEPAD_BUTTON_DOWN,e,s,this)):this.pressed&&(this.pressed=!1,this.events.emit(p.BUTTON_UP,r,this,s),this.pad.emit(p.GAMEPAD_BUTTON_UP,e,s,this))},destroy:function(){this.pad=null,this.events=null}});u.exports=o},99125:(u,m,t)=>{var a=t(97421),p=t(28884),o=t(83419),s=t(50792),r=t(26099),e=new o({Extends:s,initialize:function(l,i){s.call(this),this.manager=l,this.pad=i,this.id=i.id,this.index=i.index;for(var h=[],f=0;f<i.buttons.length;f++)h.push(new p(this,f));this.buttons=h;var c=[];for(f=0;f<i.axes.length;f++)c.push(new a(this,f));this.axes=c,this.vibration=i.vibrationActuator;var d={value:0,pressed:!1};this._LCLeft=h[14]?h[14]:d,this._LCRight=h[15]?h[15]:d,this._LCTop=h[12]?h[12]:d,this._LCBottom=h[13]?h[13]:d,this._RCLeft=h[2]?h[2]:d,this._RCRight=h[1]?h[1]:d,this._RCTop=h[3]?h[3]:d,this._RCBottom=h[0]?h[0]:d,this._FBLeftTop=h[4]?h[4]:d,this._FBLeftBottom=h[6]?h[6]:d,this._FBRightTop=h[5]?h[5]:d,this._FBRightBottom=h[7]?h[7]:d;var v={value:0};this._HAxisLeft=c[0]?c[0]:v,this._VAxisLeft=c[1]?c[1]:v,this._HAxisRight=c[2]?c[2]:v,this._VAxisRight=c[3]?c[3]:v,this.leftStick=new r,this.rightStick=new r,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(n){return this.axes[n].getValue()},setAxisThreshold:function(n){for(var l=0;l<this.axes.length;l++)this.axes[l].threshold=n},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(n){return this.buttons[n].value},isButtonDown:function(n){return this.buttons[n].pressed},update:function(n){if(!(n.timestamp<this._created)){var l,i=this.buttons,h=n.buttons,f=i.length;for(l=0;l<f;l++)i[l].update(h[l].value);var c=this.axes,d=n.axes;for(f=c.length,l=0;l<f;l++)c[l].update(d[l]);f>=2&&(this.leftStick.set(c[0].getValue(),c[1].getValue()),f>=4&&this.rightStick.set(c[2].getValue(),c[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var n;for(n=0;n<this.buttons.length;n++)this.buttons[n].destroy();for(n=0;n<this.axes.length;n++)this.axes[n].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});u.exports=e},56654:(u,m,t)=>{var a=t(83419),p=t(50792),o=t(92734),s=t(99125),r=t(35154),e=t(89639),n=t(8214),l=new a({Extends:p,initialize:function(h){p.call(this),this.scene=h.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=h,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,h.pluginEvents.once(n.BOOT,this.boot,this),h.pluginEvents.on(n.START,this.start,this)},boot:function(){var i=this.scene.sys.game,h=this.settings.input,f=i.config;this.enabled=r(h,"gamepad",f.inputGamepad)&&i.device.input.gamepads,this.target=r(h,"gamepad.target",f.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(n.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(n.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var i=this,h=this.target,f=function(c){c.defaultPrevented||!i.isActive()||(i.refreshPads(),i.queue.push(c))};this.onGamepadHandler=f,h.addEventListener("gamepadconnected",f,!1),h.addEventListener("gamepaddisconnected",f,!1),this.sceneInputPlugin.pluginEvents.on(n.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(n.UPDATE,this.update);for(var i=0;i<this.gamepads.length;i++)this.gamepads[i].removeAllListeners()},disconnectAll:function(){for(var i=0;i<this.gamepads.length;i++)this.gamepads[i].pad.connected=!1},refreshPads:function(){var i=navigator.getGamepads();if(!i)this.disconnectAll();else for(var h=this.gamepads,f=0;f<i.length;f++){var c=i[f];if(c){var d=c.id,v=c.index,g=h[v];if(g)g.id!==d?(g.destroy(),h[v]=new s(this,c)):g.update(c);else{var y=new s(this,c);h[v]=y,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=y):this._pad3=y:this._pad2=y:this._pad1=y}}}},getAll:function(){for(var i=[],h=this.gamepads,f=0;f<h.length;f++)h[f]&&i.push(h[f]);return i},getPad:function(i){for(var h=this.gamepads,f=0;f<h.length;f++)if(h[f]&&h[f].index===i)return h[f]},update:function(){if(this.enabled){this.refreshPads();var i=this.queue.length;if(i!==0)for(var h=this.queue.splice(0,i),f=0;f<i;f++){var c=h[f],d=this.getPad(c.gamepad.index);c.type==="gamepadconnected"?this.emit(o.CONNECTED,d,c):c.type==="gamepaddisconnected"&&this.emit(o.DISCONNECTED,d,c)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var i=0;i<this.gamepads.length;i++)this.gamepads[i]&&this.gamepads[i].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});e.register("GamepadPlugin",l,"gamepad","gamepad","inputGamepad"),u.exports=l},89651:u=>{u.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:u=>{u.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:u=>{u.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(u,m,t)=>{u.exports={DUALSHOCK_4:t(65294),SNES_USB:t(89651),XBOX_360:t(90089)}},46008:u=>{u.exports="down"},7629:u=>{u.exports="up"},42206:u=>{u.exports="connected"},86544:u=>{u.exports="disconnected"},94784:u=>{u.exports="down"},14325:u=>{u.exports="up"},92734:(u,m,t)=>{u.exports={BUTTON_DOWN:t(46008),BUTTON_UP:t(7629),CONNECTED:t(42206),DISCONNECTED:t(86544),GAMEPAD_BUTTON_DOWN:t(94784),GAMEPAD_BUTTON_UP:t(14325)}},48646:(u,m,t)=>{u.exports={Axis:t(97421),Button:t(28884),Events:t(92734),Gamepad:t(99125),GamepadPlugin:t(56654),Configs:t(64894)}},14350:(u,m,t)=>{var a=t(93301),p=t(79291),o={CreatePixelPerfectHandler:t(84409),CreateInteractiveObject:t(74457),Events:t(8214),Gamepad:t(48646),InputManager:t(7003),InputPlugin:t(48205),InputPluginCache:t(89639),Keyboard:t(51442),Mouse:t(87078),Pointer:t(42515),Touch:t(95618)};o=p(!1,o,a),u.exports=o},78970:(u,m,t)=>{var a=t(72905),p=t(83419),o=t(8443),s=t(8214),r=t(46032),e=t(29747),n=new p({initialize:function(i){this.manager=i,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=e,this.onKeyUp=e,i.events.once(s.MANAGER_BOOT,this.boot,this)},boot:function(){var l=this.manager.config;this.enabled=l.inputKeyboard,this.target=l.inputKeyboardEventTarget,this.addCapture(l.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(o.POST_STEP,this.postUpdate,this)},startListeners:function(){var l=this;this.onKeyDown=function(h){if(!(h.defaultPrevented||!l.enabled||!l.manager)){l.queue.push(h),l.manager.events.emit(s.MANAGER_PROCESS);var f=h.altKey||h.ctrlKey||h.shiftKey||h.metaKey;l.preventDefault&&!f&&l.captures.indexOf(h.keyCode)>-1&&h.preventDefault()}},this.onKeyUp=function(h){if(!(h.defaultPrevented||!l.enabled||!l.manager)){l.queue.push(h),l.manager.events.emit(s.MANAGER_PROCESS);var f=h.altKey||h.ctrlKey||h.shiftKey||h.metaKey;l.preventDefault&&!f&&l.captures.indexOf(h.keyCode)>-1&&h.preventDefault()}};var i=this.target;i&&(i.addEventListener("keydown",this.onKeyDown,!1),i.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var l=this.target;l.removeEventListener("keydown",this.onKeyDown,!1),l.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(l){typeof l=="string"&&(l=l.split(",")),Array.isArray(l)||(l=[l]);for(var i=this.captures,h=0;h<l.length;h++){var f=l[h];typeof f=="string"&&(f=r[f.trim().toUpperCase()]),i.indexOf(f)===-1&&i.push(f)}this.preventDefault=i.length>0},removeCapture:function(l){typeof l=="string"&&(l=l.split(",")),Array.isArray(l)||(l=[l]);for(var i=this.captures,h=0;h<l.length;h++){var f=l[h];typeof f=="string"&&(f=r[f.toUpperCase()]),a(i,f)}this.preventDefault=i.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(o.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});u.exports=n},28846:(u,m,t)=>{var a=t(83419),p=t(50792),o=t(95922),s=t(8443),r=t(35154),e=t(8214),n=t(89639),l=t(30472),i=t(46032),h=t(87960),f=t(74600),c=t(44594),d=t(56583),v=new a({Extends:p,initialize:function(y){p.call(this),this.game=y.systems.game,this.scene=y.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=y,this.manager=y.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,y.pluginEvents.once(e.BOOT,this.boot,this),y.pluginEvents.on(e.START,this.start,this)},boot:function(){var g=this.settings.input;this.enabled=r(g,"keyboard",!0);var y=r(g,"keyboard.capture",null);y&&this.addCaptures(y),this.sceneInputPlugin.pluginEvents.once(e.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(e.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(e.SHUTDOWN,this.shutdown,this),this.game.events.on(s.BLUR,this.resetKeys,this),this.scene.sys.events.on(c.PAUSE,this.resetKeys,this),this.scene.sys.events.on(c.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(g){return this.manager.addCapture(g),this},removeCapture:function(g){return this.manager.removeCapture(g),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:i.UP,down:i.DOWN,left:i.LEFT,right:i.RIGHT,space:i.SPACE,shift:i.SHIFT})},addKeys:function(g,y,x){y===void 0&&(y=!0),x===void 0&&(x=!1);var T={};if(typeof g=="string"){g=g.split(",");for(var S=0;S<g.length;S++){var A=g[S].trim();A&&(T[A]=this.addKey(A,y,x))}}else for(var P in g)T[P]=this.addKey(g[P],y,x);return T},addKey:function(g,y,x){y===void 0&&(y=!0),x===void 0&&(x=!1);var T=this.keys;if(g instanceof l){var S=T.indexOf(g);return S>-1?T[S]=g:T[g.keyCode]=g,y&&this.addCapture(g.keyCode),g.setEmitOnRepeat(x),g}return typeof g=="string"&&(g=i[g.toUpperCase()]),T[g]||(T[g]=new l(this,g),y&&this.addCapture(g),T[g].setEmitOnRepeat(x)),T[g]},removeKey:function(g,y,x){y===void 0&&(y=!1),x===void 0&&(x=!1);var T=this.keys,S;if(g instanceof l){var A=T.indexOf(g);A>-1&&(S=this.keys[A],this.keys[A]=void 0)}else typeof g=="string"&&(g=i[g.toUpperCase()]);return T[g]&&(S=T[g],T[g]=void 0),S&&(S.plugin=null,x&&this.removeCapture(S.keyCode),y&&S.destroy()),this},removeAllKeys:function(g,y){g===void 0&&(g=!1),y===void 0&&(y=!1);for(var x=this.keys,T=0;T<x.length;T++){var S=x[T];S&&(x[T]=void 0,y&&this.removeCapture(S.keyCode),g&&S.destroy())}return this},createCombo:function(g,y){return new h(this,g,y)},checkDown:function(g,y){if(y===void 0&&(y=0),this.enabled&&g.isDown){var x=d(this.time-g.timeDown,y);if(x>g._tick)return g._tick=x,!0}return!1},update:function(){var g=this.manager.queue,y=g.length;if(!(!this.isActive()||y===0))for(var x=this.keys,T=0;T<y;T++){var S=g[T],A=S.keyCode,P=x[A],D=!1;S.cancelled===void 0&&(S.cancelled=0,S.stopImmediatePropagation=function(){S.cancelled=1},S.stopPropagation=function(){S.cancelled=-1}),S.cancelled!==-1&&(A===this.prevCode&&S.timeStamp===this.prevTime&&S.type===this.prevType||(this.prevCode=A,this.prevTime=S.timeStamp,this.prevType=S.type,S.type==="keydown"?(P&&(D=P.isDown,P.onDown(S)),!S.cancelled&&(!P||!D)&&(f[A]&&this.emit(o.KEY_DOWN+f[A],S),S.cancelled||this.emit(o.ANY_KEY_DOWN,S))):(P&&P.onUp(S),S.cancelled||(f[A]&&this.emit(o.KEY_UP+f[A],S),S.cancelled||this.emit(o.ANY_KEY_UP,S))),S.cancelled===1&&(S.cancelled=0)))}},resetKeys:function(){for(var g=this.keys,y=0;y<g.length;y++)g[y]&&g[y].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(e.MANAGER_PROCESS,this.update,this),this.game.events.off(s.BLUR,this.resetKeys),this.scene.sys.events.off(c.PAUSE,this.resetKeys,this),this.scene.sys.events.off(c.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var g=this.keys,y=0;y<g.length;y++)g[y]&&g[y].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});n.register("KeyboardPlugin",v,"keyboard","keyboard","inputKeyboard"),u.exports=v},66970:u=>{var m=function(t,a){return a.timeLastMatched=t.timeStamp,a.index++,a.index===a.size?!0:(a.current=a.keyCodes[a.index],!1)};u.exports=m},87960:(u,m,t)=>{var a=t(83419),p=t(95922),o=t(95540),s=t(68769),r=t(92803),e=new a({initialize:function(l,i,h){if(h===void 0&&(h={}),i.length<2)return!1;this.manager=l,this.enabled=!0,this.keyCodes=[];for(var f=0;f<i.length;f++){var c=i[f];typeof c=="string"?this.keyCodes.push(c.toUpperCase().charCodeAt(0)):typeof c=="number"?this.keyCodes.push(c):c.hasOwnProperty("keyCode")&&this.keyCodes.push(c.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=o(h,"resetOnWrongKey",!0),this.maxKeyDelay=o(h,"maxKeyDelay",0),this.resetOnMatch=o(h,"resetOnMatch",!1),this.deleteOnMatch=o(h,"deleteOnMatch",!1);var d=this,v=function(g){if(!(d.matched||!d.enabled)){var y=s(g,d);y&&(d.manager.emit(p.COMBO_MATCH,d,g),d.resetOnMatch?r(d):d.deleteOnMatch&&d.destroy())}};this.onKeyDown=v,this.manager.on(p.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(p.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});u.exports=e},68769:(u,m,t)=>{var a=t(66970),p=function(o,s){if(s.matched)return!0;var r=!1,e=!1;if(o.keyCode===s.current)if(s.index>0&&s.maxKeyDelay>0){var n=s.timeLastMatched+s.maxKeyDelay;o.timeStamp<=n&&(e=!0,r=a(o,s))}else e=!0,r=a(o,s);return!e&&s.resetOnWrongKey&&(s.index=0,s.current=s.keyCodes[0]),r&&(s.timeLastMatched=o.timeStamp,s.matched=!0,s.timeMatched=o.timeStamp),r};u.exports=p},92803:u=>{var m=function(t){return t.current=t.keyCodes[0],t.index=0,t.timeLastMatched=0,t.matched=!1,t.timeMatched=0,t};u.exports=m},92612:u=>{u.exports="keydown"},23345:u=>{u.exports="keyup"},21957:u=>{u.exports="keycombomatch"},44743:u=>{u.exports="down"},3771:u=>{u.exports="keydown-"},46358:u=>{u.exports="keyup-"},75674:u=>{u.exports="up"},95922:(u,m,t)=>{u.exports={ANY_KEY_DOWN:t(92612),ANY_KEY_UP:t(23345),COMBO_MATCH:t(21957),DOWN:t(44743),KEY_DOWN:t(3771),KEY_UP:t(46358),UP:t(75674)}},51442:(u,m,t)=>{u.exports={Events:t(95922),KeyboardManager:t(78970),KeyboardPlugin:t(28846),Key:t(30472),KeyCodes:t(46032),KeyCombo:t(87960),AdvanceKeyCombo:t(66970),ProcessKeyCombo:t(68769),ResetKeyCombo:t(92803),JustDown:t(90229),JustUp:t(38796),DownDuration:t(37015),UpDuration:t(41170)}},37015:u=>{var m=function(t,a){a===void 0&&(a=50);var p=t.plugin.game.loop.time-t.timeDown;return t.isDown&&p<a};u.exports=m},90229:u=>{var m=function(t){return t._justDown?(t._justDown=!1,!0):!1};u.exports=m},38796:u=>{var m=function(t){return t._justUp?(t._justUp=!1,!0):!1};u.exports=m},30472:(u,m,t)=>{var a=t(83419),p=t(50792),o=t(95922),s=new a({Extends:p,initialize:function(e,n){p.call(this),this.plugin=e,this.keyCode=n,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(r){return this.emitOnRepeat=r,this},onDown:function(r){this.originalEvent=r,this.enabled&&(this.altKey=r.altKey,this.ctrlKey=r.ctrlKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.location=r.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(o.DOWN,this,r):(this.isDown=!0,this.isUp=!1,this.timeDown=r.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(o.DOWN,this,r)))},onUp:function(r){this.originalEvent=r,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=r.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(o.UP,this,r))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});u.exports=s},46032:u=>{var m={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};u.exports=m},74600:(u,m,t)=>{var a=t(46032),p={};for(var o in a)p[a[o]]=o;u.exports=p},41170:u=>{var m=function(t,a){a===void 0&&(a=50);var p=t.plugin.game.loop.time-t.timeUp;return t.isUp&&p<a};u.exports=m},85098:(u,m,t)=>{var a=t(83419),p=t(89357),o=t(8214),s=t(29747),r=new a({initialize:function(n){this.manager=n,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=s,this.onMouseDown=s,this.onMouseUp=s,this.onMouseDownWindow=s,this.onMouseUpWindow=s,this.onMouseOver=s,this.onMouseOut=s,this.onMouseWheel=s,this.pointerLockChange=s,this.isTop=!0,n.events.once(o.MANAGER_BOOT,this.boot,this)},boot:function(){var e=this.manager.config;this.enabled=e.inputMouse,this.target=e.inputMouseEventTarget,this.passive=e.inputMousePassive,this.preventDefaultDown=e.inputMousePreventDefaultDown,this.preventDefaultUp=e.inputMousePreventDefaultUp,this.preventDefaultMove=e.inputMousePreventDefaultMove,this.preventDefaultWheel=e.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,e.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(e){return e.preventDefault(),!1}),this},requestPointerLock:function(){if(p.pointerLock){var e=this.target;e.requestPointerLock=e.requestPointerLock||e.mozRequestPointerLock||e.webkitRequestPointerLock,e.requestPointerLock()}},releasePointerLock:function(){p.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var e=this.target;if(e){var n=this,l=this.manager,i=l.canvas,h=window&&window.focus&&l.game.config.autoFocus;this.onMouseMove=function(c){!c.defaultPrevented&&n.enabled&&l&&l.enabled&&(l.onMouseMove(c),n.preventDefaultMove&&c.preventDefault())},this.onMouseDown=function(c){h&&window.focus(),!c.defaultPrevented&&n.enabled&&l&&l.enabled&&(l.onMouseDown(c),n.preventDefaultDown&&c.target===i&&c.preventDefault())},this.onMouseDownWindow=function(c){c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents||!c.defaultPrevented&&n.enabled&&l&&l.enabled&&c.target!==i&&l.onMouseDown(c)},this.onMouseUp=function(c){!c.defaultPrevented&&n.enabled&&l&&l.enabled&&(l.onMouseUp(c),n.preventDefaultUp&&c.target===i&&c.preventDefault())},this.onMouseUpWindow=function(c){c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents||!c.defaultPrevented&&n.enabled&&l&&l.enabled&&c.target!==i&&l.onMouseUp(c)},this.onMouseOver=function(c){!c.defaultPrevented&&n.enabled&&l&&l.enabled&&l.setCanvasOver(c)},this.onMouseOut=function(c){!c.defaultPrevented&&n.enabled&&l&&l.enabled&&l.setCanvasOut(c)},this.onMouseWheel=function(c){!c.defaultPrevented&&n.enabled&&l&&l.enabled&&l.onMouseWheel(c),n.preventDefaultWheel&&c.target===i&&c.preventDefault()};var f={passive:!0};if(e.addEventListener("mousemove",this.onMouseMove),e.addEventListener("mousedown",this.onMouseDown),e.addEventListener("mouseup",this.onMouseUp),e.addEventListener("mouseover",this.onMouseOver,f),e.addEventListener("mouseout",this.onMouseOut,f),this.preventDefaultWheel?e.addEventListener("wheel",this.onMouseWheel,{passive:!1}):e.addEventListener("wheel",this.onMouseWheel,f),window&&l.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,f),window.top.addEventListener("mouseup",this.onMouseUpWindow,f)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,f),window.addEventListener("mouseup",this.onMouseUpWindow,f),this.isTop=!1}p.pointerLock&&(this.pointerLockChange=function(c){var d=n.target;n.locked=document.pointerLockElement===d||document.mozPointerLockElement===d||document.webkitPointerLockElement===d,l.onPointerLockChange(c)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var e=this.target;e.removeEventListener("mousemove",this.onMouseMove),e.removeEventListener("mousedown",this.onMouseDown),e.removeEventListener("mouseup",this.onMouseUp),e.removeEventListener("mouseover",this.onMouseOver),e.removeEventListener("mouseout",this.onMouseOut),window&&(e=this.isTop?window.top:window,e.removeEventListener("mousedown",this.onMouseDownWindow),e.removeEventListener("mouseup",this.onMouseUpWindow)),p.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});u.exports=r},87078:(u,m,t)=>{u.exports={MouseManager:t(85098)}},36210:(u,m,t)=>{var a=t(83419),p=t(8214),o=t(29747),s=new a({initialize:function(e){this.manager=e,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=o,this.onTouchStartWindow=o,this.onTouchMove=o,this.onTouchEnd=o,this.onTouchEndWindow=o,this.onTouchCancel=o,this.onTouchCancelWindow=o,this.isTop=!0,e.events.once(p.MANAGER_BOOT,this.boot,this)},boot:function(){var r=this.manager.config;this.enabled=r.inputTouch,this.target=r.inputTouchEventTarget,this.capture=r.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,r.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(r){return r.preventDefault(),!1}),this},startListeners:function(){var r=this.target;if(r){var e=this,n=this.manager,l=n.canvas,i=window&&window.focus&&n.game.config.autoFocus;this.onTouchMove=function(d){!d.defaultPrevented&&e.enabled&&n&&n.enabled&&(n.onTouchMove(d),e.capture&&d.cancelable&&d.preventDefault())},this.onTouchStart=function(d){i&&window.focus(),!d.defaultPrevented&&e.enabled&&n&&n.enabled&&(n.onTouchStart(d),e.capture&&d.cancelable&&d.target===l&&d.preventDefault())},this.onTouchStartWindow=function(d){!d.defaultPrevented&&e.enabled&&n&&n.enabled&&d.target!==l&&n.onTouchStart(d)},this.onTouchEnd=function(d){!d.defaultPrevented&&e.enabled&&n&&n.enabled&&(n.onTouchEnd(d),e.capture&&d.cancelable&&d.target===l&&d.preventDefault())},this.onTouchEndWindow=function(d){!d.defaultPrevented&&e.enabled&&n&&n.enabled&&d.target!==l&&n.onTouchEnd(d)},this.onTouchCancel=function(d){!d.defaultPrevented&&e.enabled&&n&&n.enabled&&(n.onTouchCancel(d),e.capture&&d.preventDefault())},this.onTouchCancelWindow=function(d){!d.defaultPrevented&&e.enabled&&n&&n.enabled&&n.onTouchCancel(d)};var h=this.capture,f={passive:!0},c={passive:!1};if(r.addEventListener("touchstart",this.onTouchStart,h?c:f),r.addEventListener("touchmove",this.onTouchMove,h?c:f),r.addEventListener("touchend",this.onTouchEnd,h?c:f),r.addEventListener("touchcancel",this.onTouchCancel,h?c:f),window&&n.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,c),window.top.addEventListener("touchend",this.onTouchEndWindow,c),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,c)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,c),window.addEventListener("touchend",this.onTouchEndWindow,c),window.addEventListener("touchcancel",this.onTouchCancelWindow,c),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var r=this.target;r.removeEventListener("touchstart",this.onTouchStart),r.removeEventListener("touchmove",this.onTouchMove),r.removeEventListener("touchend",this.onTouchEnd),r.removeEventListener("touchcancel",this.onTouchCancel),window&&(r=this.isTop?window.top:window,r.removeEventListener("touchstart",this.onTouchStartWindow),r.removeEventListener("touchend",this.onTouchEndWindow),r.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});u.exports=s},95618:(u,m,t)=>{u.exports={TouchManager:t(36210)}},41299:(u,m,t)=>{var a=t(83419),p=t(23906),o=t(54899),s=t(95540),r=t(98356),e=t(3374),n=t(84376),l=t(92638),i=new a({initialize:function(f,c){if(this.loader=f,this.cache=s(c,"cache",!1),this.type=s(c,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=s(c,"key",!1);var d=this.key;if(f.prefix&&f.prefix!==""&&(this.key=f.prefix+d),!this.key)throw new Error("Invalid File key: "+this.key);var v=s(c,"url");v===void 0?v=f.path+d+"."+s(c,"extension",""):typeof v=="string"&&!v.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(v=f.path+v),this.url=v,this.src="",this.xhrSettings=l(s(c,"responseType",void 0)),s(c,"xhrSettings",!1)&&(this.xhrSettings=e(this.xhrSettings,s(c,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?p.FILE_POPULATED:p.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=s(c,"config",{}),this.multiFile,this.linkFile,this.base64=typeof v=="string"&&v.indexOf("data:")===0,this.retryAttempts=s(c,"maxRetries",f.maxRetries)},setLink:function(h){this.linkFile=h,h.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){if(this.state===p.FILE_POPULATED)this.loader.nextFile(this,!0);else{if(this.state=p.FILE_LOADING,this.src=r(this,this.loader.baseURL),!this.src)throw new Error("URL Error in File: "+this.key+" from: "+this.url);this.src.indexOf("data:")===0&&(this.base64=!0),this.xhrLoader=n(this,this.loader.xhr)}},onLoad:function(h,f){var c=h.responseURL&&this.loader.localSchemes.some(function(g){return h.responseURL.indexOf(g)===0}),d=c&&f.target.status===0,v=!(f.target&&f.target.status!==200)||d;h.readyState===4&&h.status>=400&&h.status<=599&&(v=!1),this.state=p.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,v)},onBase64Load:function(h){this.xhrLoader=h,this.state=p.FILE_LOADED,this.percentComplete=1,this.loader.emit(o.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.retryAttempts>0?(this.retryAttempts--,this.load()):this.loader.nextFile(this,!1)},onProgress:function(h){h.lengthComputable&&(this.bytesLoaded=h.loaded,this.bytesTotal=h.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(o.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=p.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=p.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=p.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(h){if(this.state!==p.FILE_PENDING_DESTROY){h===void 0&&(h=this.data);var f=this.key,c=this.type;this.loader.emit(o.FILE_COMPLETE,f,c,h),this.loader.emit(o.FILE_KEY_COMPLETE+c+"-"+f,f,c,h),this.loader.flagForRemoval(this),this.state=p.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});i.createObjectURL=function(h,f,c){if(typeof URL=="function")h.src=URL.createObjectURL(f);else{var d=new FileReader;d.onload=function(){h.removeAttribute("crossOrigin"),h.src="data:"+(f.type||c)+";base64,"+d.result.split(",")[1]},d.onerror=h.onerror,d.readAsDataURL(f)}},i.revokeObjectURL=function(h){typeof URL=="function"&&URL.revokeObjectURL(h.src)},u.exports=i},74099:u=>{var m={},t={install:function(a){for(var p in m)a[p]=m[p]},register:function(a,p){m[a]=p},destroy:function(){m={}}};u.exports=t},98356:u=>{var m=function(t,a){return t.url?t.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?t.url:a+t.url:!1};u.exports=m},74261:(u,m,t)=>{var a=t(83419),p=t(23906),o=t(35072),s=t(50792),r=t(54899),e=t(74099),n=t(95540),l=t(35154),i=t(41212),h=t(37277),f=t(44594),c=t(92638),d=new a({Extends:s,initialize:function(g){s.call(this);var y=g.sys.game.config,x=g.sys.settings.loader;this.scene=g,this.systems=g.sys,this.cacheManager=g.sys.cache,this.textureManager=g.sys.textures,this.sceneManager=g.sys.game.scene,e.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(n(x,"baseURL",y.loaderBaseURL)),this.setPath(n(x,"path",y.loaderPath)),this.setPrefix(n(x,"prefix",y.loaderPrefix)),this.maxParallelDownloads=n(x,"maxParallelDownloads",y.loaderMaxParallelDownloads),this.xhr=c(n(x,"responseType",y.loaderResponseType),n(x,"async",y.loaderAsync),n(x,"user",y.loaderUser),n(x,"password",y.loaderPassword),n(x,"timeout",y.loaderTimeout),n(x,"withCredentials",y.loaderWithCredentials)),this.crossOrigin=n(x,"crossOrigin",y.loaderCrossOrigin),this.imageLoadType=n(x,"imageLoadType",y.loaderImageLoadType),this.localSchemes=n(x,"localScheme",y.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new o,this.inflight=new o,this.queue=new o,this._deleteQueue=new o,this.totalFailed=0,this.totalComplete=0,this.state=p.LOADER_IDLE,this.multiKeyIndex=0,this.maxRetries=n(x,"maxRetries",y.loaderMaxRetries),g.sys.events.once(f.BOOT,this.boot,this),g.sys.events.on(f.START,this.pluginStart,this)},boot:function(){this.systems.events.once(f.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(f.SHUTDOWN,this.shutdown,this)},setBaseURL:function(v){return v===void 0&&(v=""),v!==""&&v.substr(-1)!=="/"&&(v=v.concat("/")),this.baseURL=v,this},setPath:function(v){return v===void 0&&(v=""),v!==""&&v.substr(-1)!=="/"&&(v=v.concat("/")),this.path=v,this},setPrefix:function(v){return v===void 0&&(v=""),this.prefix=v,this},setCORS:function(v){return this.crossOrigin=v,this},addFile:function(v){Array.isArray(v)||(v=[v]);for(var g=0;g<v.length;g++){var y=v[g];this.keyExists(y)||(this.list.set(y),this.emit(r.ADD,y.key,y.type,this,y),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(v){var g=v.hasCacheConflict();return g||this.list.iterate(function(y){if(y.type===v.type&&y.key===v.key)return g=!0,!1}),!g&&this.isLoading()&&(this.inflight.iterate(function(y){if(y.type===v.type&&y.key===v.key)return g=!0,!1}),this.queue.iterate(function(y){if(y.type===v.type&&y.key===v.key)return g=!0,!1})),g},addPack:function(v,g){if(typeof g=="string"){var y=l(v,g);y&&(v={packKey:y})}var x=0,T=this.baseURL,S=this.path,A=this.prefix;for(var P in v)if(Object.prototype.hasOwnProperty.call(v,P)){var D=v[P],R=n(D,"baseURL",T),L=n(D,"path",S),I=n(D,"prefix",A),w=n(D,"files",null),B=n(D,"defaultType","void");if(Array.isArray(w)){this.setBaseURL(R),this.setPath(L),this.setPrefix(I);for(var b=0;b<w.length;b++){var V=w[b],X=V.hasOwnProperty("type")?V.type:B;this[X]&&(this[X](V),x++)}}}return this.setBaseURL(T),this.setPath(S),this.setPrefix(A),x>0},removePack:function(v,g){var y=this.systems.anims,x=this.cacheManager,T=this.textureManager,S={animation:"json",aseprite:"json",audio:"audio",audioSprite:"audio",binary:"binary",bitmapFont:"bitmapFont",css:null,glsl:"shader",html:"html",json:"json",obj:"obj",plugin:null,scenePlugin:null,script:null,spine:"json",text:"text",tilemapCSV:"tilemap",tilemapImpact:"tilemap",tilemapTiledJSON:"tilemap",video:"video",xml:"xml"},A;if(i(v))A=v;else if(A=x.json.get(v),!A){console.warn("Asset Pack not found in JSON cache:",v);return}g&&(A={_:A[g]});for(var P in A){var D=A[P],R=n(D,"prefix",""),L=n(D,"files"),I=n(D,"defaultType");if(Array.isArray(L))for(var w=0;w<L.length;w++){var B=L[w],b=B.hasOwnProperty("type")?B.type:I;if(!b){console.warn("No type:",B);continue}var V=R+B.key;if(b==="animation"&&y.remove(V),!((b==="aseprite"||b==="atlas"||b==="atlasXML"||b==="htmlTexture"||b==="image"||b==="multiatlas"||b==="spritesheet"||b==="svg"||b==="texture"||b==="unityAtlas")&&(T.remove(V),!S[b]))){if(b==="pack"){this.removePack(V,B.dataKey);continue}if(b==="spine"){var X=x.custom.spine.get(V);if(!X)continue;var G=X.prefix===void 0?"":X.prefix;x.custom.spine.remove(V);var U=x.custom.spineTextures.get(V);if(!U)continue;x.custom.spineTextures.remove(V);for(var O=0;O<U.pages.length;O++){var z=U.pages[O],N=G+z.name,Y=V+":"+N;T.exists(Y)?T.remove(Y):T.remove(N)}}var W=S[b];if(W!==null){if(!W){console.warn("Unknown type:",b);continue}var H=x[W];H.remove(V)}}}}},isLoading:function(){return this.state===p.LOADER_LOADING||this.state===p.LOADER_PROCESSING},isReady:function(){return this.state===p.LOADER_IDLE||this.state===p.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(r.START,this),this.list.size===0?this.loadComplete():(this.state=p.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(f.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(r.PROGRESS,this.progress)},update:function(){this.state===p.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(v){if((v.state===p.FILE_POPULATED||v.state===p.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(v),this.list.delete(v),v.crossOrigin||(v.crossOrigin=this.crossOrigin),v.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(v,g){this.inflight&&(this.inflight.delete(v),this.updateProgress(),g?(this.totalComplete++,this.queue.set(v),this.emit(r.FILE_LOAD,v),v.onProcess()):(this.totalFailed++,this._deleteQueue.set(v),this.emit(r.FILE_LOAD_ERROR,v),this.fileProcessComplete(v)))},fileProcessComplete:function(v){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(v.state===p.FILE_ERRORED?v.multiFile&&v.multiFile.onFileFailed(v):v.state===p.FILE_COMPLETE&&(v.multiFile?v.multiFile.isReadyToProcess()&&(v.multiFile.addToCache(),v.multiFile.pendingDestroy()):(v.addToCache(),v.pendingDestroy())),this.queue.delete(v),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(r.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=p.LOADER_COMPLETE,this.systems.events.off(f.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(r.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(v){this._deleteQueue.set(v)},saveJSON:function(v,g){return this.save(JSON.stringify(v),g)},save:function(v,g,y){g===void 0&&(g="file.json"),y===void 0&&(y="application/json");var x=new Blob([v],{type:y}),T=URL.createObjectURL(x),S=document.createElement("a");return S.download=g,S.textContent="Download "+g,S.href=T,S.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var v=this.systems.game.config,g=this.systems.settings.loader;this.setBaseURL(n(g,"baseURL",v.loaderBaseURL)),this.setPath(n(g,"path",v.loaderPath)),this.setPrefix(n(g,"prefix",v.loaderPrefix)),this.state=p.LOADER_IDLE},shutdown:function(){this.reset(),this.state=p.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(f.UPDATE,this.update,this),this.systems.events.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=p.LOADER_DESTROYED,this.systems.events.off(f.UPDATE,this.update,this),this.systems.events.off(f.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});h.register("Loader",d,"load"),u.exports=d},3374:(u,m,t)=>{var a=t(79291),p=t(92638),o=function(s,r){var e=s===void 0?p():a({},s);if(r)for(var n in r)r[n]!==void 0&&(e[n]=r[n]);return e};u.exports=o},26430:(u,m,t)=>{var a=t(83419),p=t(23906),o=t(54899),s=new a({initialize:function(e,n,l,i){var h=[];i.forEach(function(d){d&&h.push(d)}),this.loader=e,this.type=n,this.key=l;var f=this.key;e.prefix&&e.prefix!==""&&(this.key=e.prefix+f),this.multiKeyIndex=e.multiKeyIndex++,this.files=h,this.state=p.FILE_PENDING,this.complete=!1,this.pending=h.length,this.failed=0,this.config={},this.baseURL=e.baseURL,this.path=e.path,this.prefix=e.prefix;for(var c=0;c<h.length;c++)h[c].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(r){return this.files.push(r),r.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(r){var e=this.files.indexOf(r);e!==-1&&this.pending--},onFileFailed:function(r){var e=this.files.indexOf(r);e!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,r.type,r.key))},pendingDestroy:function(){if(this.state!==p.FILE_PENDING_DESTROY){var r=this.key,e=this.type;this.loader.emit(o.FILE_COMPLETE,r,e),this.loader.emit(o.FILE_KEY_COMPLETE+e+"-"+r,r,e),this.loader.flagForRemoval(this);for(var n=0;n<this.files.length;n++)this.files[n].pendingDestroy();this.state=p.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});u.exports=s},84376:(u,m,t)=>{var a=t(3374),p=function(o,s){var r=a(s,o.xhrSettings);if(o.base64){var e=o.url.split(";base64,").pop()||o.url.split(",").pop(),n;o.xhrSettings.responseType==="arraybuffer"?n={response:Uint8Array.from(atob(e),function(h){return h.charCodeAt(0)}).buffer}:n={responseText:atob(e)},o.onBase64Load(n);return}var l=new XMLHttpRequest;if(l.open("GET",o.src,r.async,r.user,r.password),l.responseType=o.xhrSettings.responseType,l.timeout=r.timeout,r.headers)for(var i in r.headers)l.setRequestHeader(i,r.headers[i]);return r.header&&r.headerValue&&l.setRequestHeader(r.header,r.headerValue),r.requestedWith&&l.setRequestHeader("X-Requested-With",r.requestedWith),r.overrideMimeType&&l.overrideMimeType(r.overrideMimeType),r.withCredentials&&(l.withCredentials=!0),l.onload=o.onLoad.bind(o,l),l.onerror=o.onError.bind(o,l),l.onprogress=o.onProgress.bind(o),l.ontimeout=o.onError.bind(o,l),l.send(),l};u.exports=p},92638:u=>{var m=function(t,a,p,o,s,r){return t===void 0&&(t=""),a===void 0&&(a=!0),p===void 0&&(p=""),o===void 0&&(o=""),s===void 0&&(s=0),r===void 0&&(r=!1),{responseType:t,async:a,user:p,password:o,timeout:s,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:r}};u.exports=m},23906:u=>{var m={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};u.exports=m},42155:u=>{u.exports="addfile"},38991:u=>{u.exports="complete"},27540:u=>{u.exports="filecomplete"},87464:u=>{u.exports="filecomplete-"},94486:u=>{u.exports="loaderror"},13035:u=>{u.exports="load"},38144:u=>{u.exports="fileprogress"},97520:u=>{u.exports="postprocess"},85595:u=>{u.exports="progress"},55680:u=>{u.exports="start"},54899:(u,m,t)=>{u.exports={ADD:t(42155),COMPLETE:t(38991),FILE_COMPLETE:t(27540),FILE_KEY_COMPLETE:t(87464),FILE_LOAD_ERROR:t(94486),FILE_LOAD:t(13035),FILE_PROGRESS:t(38144),POST_PROCESS:t(97520),PROGRESS:t(85595),START:t(55680)}},14135:(u,m,t)=>{var a=t(83419),p=t(74099),o=t(518),s=t(54899),r=new a({Extends:o,initialize:function(n,l,i,h,f){o.call(this,n,l,i,h,f),this.type="animationJSON"},onProcess:function(){this.loader.once(s.POST_PROCESS,this.onLoadComplete,this),o.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});p.register("animation",function(e,n,l,i){if(Array.isArray(e))for(var h=0;h<e.length;h++)this.addFile(new r(this,e[h]));else this.addFile(new r(this,e,n,i,l));return this}),u.exports=r},76272:(u,m,t)=>{var a=t(83419),p=t(74099),o=t(95540),s=t(19550),r=t(41212),e=t(518),n=t(26430),l=new a({Extends:n,initialize:function(h,f,c,d,v,g){var y,x;if(r(f)){var T=f;f=o(T,"key"),y=new s(h,{key:f,url:o(T,"textureURL"),extension:o(T,"textureExtension","png"),normalMap:o(T,"normalMap"),xhrSettings:o(T,"textureXhrSettings")}),x=new e(h,{key:f,url:o(T,"atlasURL"),extension:o(T,"atlasExtension","json"),xhrSettings:o(T,"atlasXhrSettings")})}else y=new s(h,f,c,v),x=new e(h,f,d,g);y.linkFile?n.call(this,h,"atlasjson",f,[y,x,y.linkFile]):n.call(this,h,"atlasjson",f,[y,x])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],h=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(i.key,i.data,h.data,f),h.addToCache(),this.complete=!0}}});p.register("aseprite",function(i,h,f,c,d){var v;if(Array.isArray(i))for(var g=0;g<i.length;g++)v=new l(this,i[g]),this.addFile(v.files);else v=new l(this,i,h,f,c,d),this.addFile(v.files);return this}),u.exports=l},38734:(u,m,t)=>{var a=t(83419),p=t(74099),o=t(95540),s=t(19550),r=t(41212),e=t(518),n=t(26430),l=new a({Extends:n,initialize:function(h,f,c,d,v,g){var y,x;if(r(f)){var T=f;f=o(T,"key"),y=new s(h,{key:f,url:o(T,"textureURL"),extension:o(T,"textureExtension","png"),normalMap:o(T,"normalMap"),xhrSettings:o(T,"textureXhrSettings")}),x=new e(h,{key:f,url:o(T,"atlasURL"),extension:o(T,"atlasExtension","json"),xhrSettings:o(T,"atlasXhrSettings")})}else y=new s(h,f,c,v),x=new e(h,f,d,g);y.linkFile?n.call(this,h,"atlasjson",f,[y,x,y.linkFile]):n.call(this,h,"atlasjson",f,[y,x])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],h=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(i.key,i.data,h.data,f),this.complete=!0}}});p.register("atlas",function(i,h,f,c,d){var v;if(Array.isArray(i))for(var g=0;g<i.length;g++)v=new l(this,i[g]),this.addFile(v.files);else v=new l(this,i,h,f,c,d),this.addFile(v.files);return this}),u.exports=l},74599:(u,m,t)=>{var a=t(83419),p=t(74099),o=t(95540),s=t(19550),r=t(41212),e=t(26430),n=t(57318),l=new a({Extends:e,initialize:function(h,f,c,d,v,g){var y,x;if(r(f)){var T=f;f=o(T,"key"),y=new s(h,{key:f,url:o(T,"textureURL"),extension:o(T,"textureExtension","png"),normalMap:o(T,"normalMap"),xhrSettings:o(T,"textureXhrSettings")}),x=new n(h,{key:f,url:o(T,"atlasURL"),extension:o(T,"atlasExtension","xml"),xhrSettings:o(T,"atlasXhrSettings")})}else y=new s(h,f,c,v),x=new n(h,f,d,g);y.linkFile?e.call(this,h,"atlasxml",f,[y,x,y.linkFile]):e.call(this,h,"atlasxml",f,[y,x])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],h=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(i.key,i.data,h.data,f),this.complete=!0}}});p.register("atlasXML",function(i,h,f,c,d){var v;if(Array.isArray(i))for(var g=0;g<i.length;g++)v=new l(this,i[g]),this.addFile(v.files);else v=new l(this,i,h,f,c,d),this.addFile(v.files);return this}),u.exports=l},21097:(u,m,t)=>{var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(89749),n=t(41212),l=new a({Extends:o,initialize:function(h,f,c,d,v){if(n(f)){var g=f;f=r(g,"key"),d=r(g,"xhrSettings"),v=r(g,"context",v)}var y={type:"audio",cache:h.cacheManager.audio,extension:c.type,responseType:"arraybuffer",key:f,url:c.url,xhrSettings:d,config:{context:v}};o.call(this,h,y)},onProcess:function(){this.state=p.FILE_PROCESSING;var i=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(h){i.data=h,i.onProcessComplete()},function(h){console.error("Error decoding audio: "+i.key+" - ",h?h.message:null),i.onProcessError()}),this.config.context=null}});l.create=function(i,h,f,c,d){var v=i.systems.game,g=v.config.audio,y=v.device.audio;n(h)&&(f=r(h,"url",[]),c=r(h,"config",{}));var x=l.getAudioURL(v,f);return x?y.webAudio&&!g.disableWebAudio?new l(i,h,x,d,v.sound.context):new e(i,h,x,c):(console.warn('No audio URLs for "%s" can play on this device',h),null)},l.getAudioURL=function(i,h){Array.isArray(h)||(h=[h]);for(var f=0;f<h.length;f++){var c=r(h[f],"url",h[f]);if(c.indexOf("blob:")===0||c.indexOf("data:")===0)return{url:c,type:""};var d=c.match(/\.([a-zA-Z0-9]+)($|\?)/);if(d=r(h[f],"type",d?d[1]:"").toLowerCase(),i.device.audio[d])return{url:c,type:d}}return null},s.register("audio",function(i,h,f,c){var d=this.systems.game,v=d.config.audio,g=d.device.audio;if(v.noAudio||!g.webAudio&&!g.audioData)return this;var y;if(Array.isArray(i))for(var x=0;x<i.length;x++)y=l.create(this,i[x]),y&&this.addFile(y);else y=l.create(this,i,h,f,c),y&&this.addFile(y);return this}),u.exports=l},89524:(u,m,t)=>{var a=t(21097),p=t(83419),o=t(74099),s=t(95540),r=t(41212),e=t(518),n=t(26430),l=new p({Extends:n,initialize:function(h,f,c,d,v,g,y){if(r(f)){var x=f;f=s(x,"key"),c=s(x,"jsonURL"),d=s(x,"audioURL"),v=s(x,"audioConfig"),g=s(x,"audioXhrSettings"),y=s(x,"jsonXhrSettings")}var T;if(!d)T=new e(h,f,c,y),n.call(this,h,"audiosprite",f,[T]),this.config.resourceLoad=!0,this.config.audioConfig=v,this.config.audioXhrSettings=g;else{var S=a.create(h,f,d,v,g);S&&(T=new e(h,f,c,y),n.call(this,h,"audiosprite",f,[S,T]),this.config.resourceLoad=!1)}},onFileComplete:function(i){var h=this.files.indexOf(i);if(h!==-1&&(this.pending--,this.config.resourceLoad&&i.type==="json"&&i.data.hasOwnProperty("resources"))){var f=i.data.resources,c=s(this.config,"audioConfig"),d=s(this.config,"audioXhrSettings"),v=a.create(this.loader,i.key,f,c,d);v&&(this.addToMultiFile(v),this.loader.addFile(v))}},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],h=this.files[1];i.addToCache(),h.addToCache(),this.complete=!0}}});o.register("audioSprite",function(i,h,f,c,d,v){var g=this.systems.game,y=g.config.audio,x=g.device.audio;if(y&&y.noAudio||!x.webAudio&&!x.audioData)return this;var T;if(Array.isArray(i))for(var S=0;S<i.length;S++)T=new l(this,i[S]),T.files&&this.addFile(T.files);else T=new l(this,i,h,f,c,d,v),T.files&&this.addFile(T.files);return this})},85722:(u,m,t)=>{var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=new a({Extends:o,initialize:function(i,h,f,c,d){var v="bin";if(e(h)){var g=h;h=r(g,"key"),f=r(g,"url"),c=r(g,"xhrSettings"),v=r(g,"extension",v),d=r(g,"dataType",d)}var y={type:"binary",cache:i.cacheManager.binary,extension:v,responseType:"arraybuffer",key:h,url:f,xhrSettings:c,config:{dataType:d}};o.call(this,i,y)},onProcess:function(){this.state=p.FILE_PROCESSING;var l=this.config.dataType;this.data=l?new l(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});s.register("binary",function(l,i,h,f){if(Array.isArray(l))for(var c=0;c<l.length;c++)this.addFile(new n(this,l[c]));else this.addFile(new n(this,l,i,f,h));return this}),u.exports=n},97025:(u,m,t)=>{var a=t(83419),p=t(74099),o=t(95540),s=t(19550),r=t(41212),e=t(26430),n=t(21859),l=t(57318),i=new a({Extends:e,initialize:function(f,c,d,v,g,y){var x,T;if(r(c)){var S=c;c=o(S,"key"),x=new s(f,{key:c,url:o(S,"textureURL"),extension:o(S,"textureExtension","png"),normalMap:o(S,"normalMap"),xhrSettings:o(S,"textureXhrSettings")}),T=new l(f,{key:c,url:o(S,"fontDataURL"),extension:o(S,"fontDataExtension","xml"),xhrSettings:o(S,"fontDataXhrSettings")})}else x=new s(f,c,d,g),T=new l(f,c,v,y);x.linkFile?e.call(this,f,"bitmapfont",c,[x,T,x.linkFile]):e.call(this,f,"bitmapfont",c,[x,T])},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],f=this.files[1];h.addToCache();var c=h.cache.get(h.key),d=n(f.data,h.cache.getFrame(h.key),0,0,c);this.loader.cacheManager.bitmapFont.add(h.key,{data:d,texture:h.key,frame:null}),this.complete=!0}}});p.register("bitmapFont",function(h,f,c,d,v){var g;if(Array.isArray(h))for(var y=0;y<h.length;y++)g=new i(this,h[y]),this.addFile(g.files);else g=new i(this,h,f,c,d,v),this.addFile(g.files);return this}),u.exports=i},16024:(u,m,t)=>{var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=new a({Extends:o,initialize:function(i,h,f,c){var d="css";if(e(h)){var v=h;h=r(v,"key"),f=r(v,"url"),c=r(v,"xhrSettings"),d=r(v,"extension",d)}var g={type:"script",cache:!1,extension:d,responseType:"text",key:h,url:f,xhrSettings:c};o.call(this,i,g)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});s.register("css",function(l,i,h){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new n(this,l[f]));else this.addFile(new n(this,l,i,h));return this}),u.exports=n},69559:(u,m,t)=>{var a=t(38734),p=t(85722),o=t(83419),s=t(74099),r=t(95540),e=t(19550),n=t(41212),l=t(518),i=t(31403),h=t(46975),f=t(59327),c=t(26430),d=t(82038),v=t(55222),g=new o({Extends:c,initialize:function(x,T,S,A){if(S.multiAtlasURL){var P=new l(x,{key:T,url:S.multiAtlasURL,xhrSettings:A,config:S});c.call(this,x,"texture",T,[P])}else{var D=S.textureURL.substr(S.textureURL.length-3);S.type||(S.type=D.toLowerCase()==="ktx"?"KTX":"PVR");var R=new p(x,{key:T,url:S.textureURL,extension:D,xhrSettings:A,config:S});if(S.atlasURL){var L=new l(x,{key:T,url:S.atlasURL,xhrSettings:A,config:S});c.call(this,x,"texture",T,[R,L])}else c.call(this,x,"texture",T,[R])}this.config=S},onFileComplete:function(y){var x=this.files.indexOf(y);if(x!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(y.type==="json"&&y.data.hasOwnProperty("textures")){var T=y.data.textures,S=this.config,A=this.loader,P=A.baseURL,D=A.path,R=A.prefix,L=r(S,"multiBaseURL",this.baseURL),I=r(S,"multiPath",this.path),w=r(S,"prefix",this.prefix),B=r(S,"textureXhrSettings");L&&A.setBaseURL(L),I&&A.setPath(I),w&&A.setPrefix(w);for(var b=0;b<T.length;b++){var V=T[b].image,X="CMA"+this.multiKeyIndex+"_"+V,G=new p(A,X,V,B);if(this.addToMultiFile(G),A.addFile(G),T[b].normalMap){var U=new p(A,X,T[b].normalMap,B);U.type="normalMap",G.setLink(U),this.addToMultiFile(U),A.addFile(U)}}A.setBaseURL(P),A.setPath(D),A.setPrefix(R)}}},addToCache:function(){function y(L){console.warn('Compressed Texture Invalid: "'+P.key+'". '+L)}if(this.isReadyToProcess()){var x=this.config;if(x.multiAtlasURL)this.addMultiToCache();else{var T=this.loader.systems.renderer,S=this.loader.textureManager,A,P=this.files[0],D=this.files[1];if(x.type==="PVR"?A=d(P.data):x.type==="KTX"&&(A=i(P.data),A||y("KTX file contains unsupported format.")),A&&!v(A)&&(y("Texture dimensions failed verification. Check the texture format specifications for "+x.format+" 0x"+A.internalFormat.toString(16)+"."),A=null),A&&!T.supportsCompressedTexture(x.format,A.internalFormat)&&(y("Texture format "+x.format+" with internal format "+A.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),A=null),A){A.format=T.getCompressedTextureName(x.format,A.internalFormat);var R=D&&D.data?D.data:null;S.addCompressedTexture(P.key,A,R)}}this.complete=!0}},addMultiToCache:function(){for(var y=this.config,x=this.files[0],T=[],S=[],A=[],P=this.loader.systems.renderer,D=this.loader.textureManager,R,L=1;L<this.files.length;L++){var I=this.files[L];if(I.type!=="normalMap")for(var w=I.key.indexOf("_"),B=I.key.substr(w+1),b=I.data,V=0;V<x.data.textures.length;V++){var X=x.data.textures[V];if(X.image===B){y.type==="PVR"?R=d(b):y.type==="KTX"&&(R=i(b)),R&&P.supportsCompressedTexture(y.format,R.internalFormat)&&(R.format=P.getCompressedTextureName(y.format,R.internalFormat),S.push(R),T.push(X),I.linkFile&&A.push(I.linkFile.data));break}}}A.length===0&&(A=void 0),D.addAtlasJSONArray(this.key,S,T,A),this.complete=!0}});s.register("texture",function(y,x,T){var S=this.systems.renderer,A=function(D,R,L,I){var w={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(n(R)){var B=R;R=r(B,"key"),L=r(B,"url"),I=r(B,"xhrSettings")}var b=!1;for(var V in L)if(S.supportsCompressedTexture(V)){var X=L[V];typeof X=="string"?w.textureURL=X:w=h(X,w),w.format=V.toUpperCase(),b=!0;break}if(!b)console.warn("No supported compressed texture format or IMG fallback",R);else if(w.format==="IMG"){var G,U;w.multiAtlasURL?(U=new f(D,R,w.multiAtlasURL,w.multiPath,w.multiBaseURL,I),G=U.files):w.atlasURL?(U=new a(D,R,w.textureURL,w.atlasURL,I),G=U.files):G=new e(D,R,w.textureURL,I),D.addFile(G)}else{var O=new g(D,R,w,I);D.addFile(O.files)}};if(Array.isArray(y))for(var P=0;P<y.length;P++)A(this,y[P]);else A(this,y,x,T);return this}),u.exports=g},87674:(u,m,t)=>{var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(98356),n=t(41212),l=new a({Extends:o,initialize:function(h,f,c,d,v,g){var y="ttf";if(n(f)){var x=f;f=r(x,"key"),c=r(x,"url"),d=r(x,"format","truetype"),v=r(x,"descriptors",null),g=r(x,"xhrSettings"),y=r(x,"extension",y)}else d===void 0&&(d="truetype");var T={type:"font",cache:!1,extension:y,responseType:"text",key:f,url:c,xhrSettings:g};o.call(this,h,T),this.data={format:d,descriptors:v},this.state=p.FILE_POPULATED},onProcess:function(){this.state=p.FILE_PROCESSING,this.src=e(this,this.loader.baseURL);var i,h=this.key,f="url("+this.src+') format("'+this.data.format+'")';this.data.descriptors?i=new FontFace(h,f,this.data.descriptors):i=new FontFace(h,f);var c=this;i.load().then(function(){document.fonts.add(i),document.body.classList.add("fonts-loaded"),c.onProcessComplete()}).catch(function(){console.warn("Font failed to load",f),c.onProcessComplete()})}});s.register("font",function(i,h,f,c,d){if(Array.isArray(i))for(var v=0;v<i.length;v++)this.addFile(new l(this,i[v]));else this.addFile(new l(this,i,h,f,c,d));return this}),u.exports=l},47931:(u,m,t)=>{var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=t(73894),l=new a({Extends:o,initialize:function(h,f,c,d,v){var g="glsl";if(e(f)){var y=f;f=r(y,"key"),c=r(y,"url"),d=r(y,"shaderType","fragment"),v=r(y,"xhrSettings"),g=r(y,"extension",g)}else d===void 0&&(d="fragment");var x={type:"glsl",cache:h.cacheManager.shader,extension:g,responseType:"text",key:f,url:c,config:{shaderType:d},xhrSettings:v};o.call(this,h,x)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var i=this.data.split(`
`),h=this.extractBlock(i,0);if(h)for(;h;){var f=this.getShaderName(h.header),c=this.getShaderType(h.header),d=this.getShaderUniforms(h.header),v=h.shader;if(this.cache.has(f)){var g=this.cache.get(f);c==="fragment"?g.fragmentSrc=v:g.vertexSrc=v,g.uniforms||(g.uniforms=d)}else c==="fragment"?this.cache.add(f,new n(f,v,"",d)):this.cache.add(f,new n(f,"",v,d));h=this.extractBlock(i,h.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new n(this.key,this.data)):this.cache.add(this.key,new n(this.key,"",this.data))},getShaderName:function(i){for(var h=0;h<i.length;h++){var f=i[h].trim();if(f.substring(0,5)==="name:")return f.substring(5).trim()}return this.key},getShaderType:function(i){for(var h=0;h<i.length;h++){var f=i[h].trim();if(f.substring(0,5)==="type:")return f.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(i){for(var h={},f=0;f<i.length;f++){var c=i[f].trim();if(c.substring(0,8)==="uniform."){var d=c.indexOf(":");if(d){var v=c.substring(8,d);try{h[v]=JSON.parse(c.substring(d+1))}catch{console.warn("Invalid uniform JSON: "+v)}}}}return h},extractBlock:function(i,h){for(var f=-1,c=-1,d=-1,v=!1,g=!1,y=[],x=[],T=h;T<i.length;T++){var S=i[T].trim();if(S==="---")if(f===-1)f=T,v=!0;else if(v)c=T,v=!1,g=!0;else{g=!1;break}else v?y.push(S):g&&(x.push(S),d=T)}return!v&&c!==-1?{header:y,shader:x.join(`
`),offset:d}:null}});s.register("glsl",function(i,h,f,c){if(Array.isArray(i))for(var d=0;d<i.length;d++)this.addFile(new l(this,i[d]));else this.addFile(new l(this,i,h,f,c));return this}),u.exports=l},89749:(u,m,t)=>{var a=t(83419),p=t(54899),o=t(41299),s=t(95540),r=t(98356),e=t(41212),n=new a({Extends:o,initialize:function(i,h,f,c){if(e(h)){var d=h;h=s(d,"key"),c=s(d,"config",c)}var v={type:"audio",cache:i.cacheManager.audio,extension:f.type,key:h,url:f.url,config:c};o.call(this,i,v),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var l=0;l<this.data.length;l++){var i=this.data[l];i.oncanplaythrough=null,i.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(l){var i=l.target;i.oncanplaythrough=null,i.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(p.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var l=this.config&&this.config.instances||1;this.filesTotal=l,this.filesLoaded=0,this.percentComplete=0;for(var i=0;i<l;i++){var h=new Audio;h.dataset||(h.dataset={}),h.dataset.name=this.key+("0"+i).slice(-2),h.dataset.used="false",this.locked?h.dataset.locked="true":(h.dataset.locked="false",h.preload="auto",h.oncanplaythrough=this.onProgress.bind(this),h.onerror=this.onError.bind(this)),this.data.push(h)}for(i=0;i<this.data.length;i++)h=this.data[i],h.src=r(this,this.loader.baseURL),this.locked||h.load();this.locked&&setTimeout(this.onLoad.bind(this))}});u.exports=n},88470:(u,m,t)=>{var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=new a({Extends:o,initialize:function(i,h,f,c){var d="html";if(e(h)){var v=h;h=r(v,"key"),f=r(v,"url"),c=r(v,"xhrSettings"),d=r(v,"extension",d)}var g={type:"text",cache:i.cacheManager.html,extension:d,responseType:"text",key:h,url:f,xhrSettings:c};o.call(this,i,g)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});s.register("html",function(l,i,h){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new n(this,l[f]));else this.addFile(new n(this,l,i,h));return this}),u.exports=n},14643:(u,m,t)=>{var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=new a({Extends:o,initialize:function(i,h,f,c,d,v){c===void 0&&(c=512),d===void 0&&(d=512);var g="html";if(e(h)){var y=h;h=r(y,"key"),f=r(y,"url"),v=r(y,"xhrSettings"),g=r(y,"extension",g),c=r(y,"width",c),d=r(y,"height",d)}var x={type:"html",cache:i.textureManager,extension:g,responseType:"text",key:h,url:f,xhrSettings:v,config:{width:c,height:d}};o.call(this,i,x)},onProcess:function(){this.state=p.FILE_PROCESSING;var l=this.config.width,i=this.config.height,h=[];h.push('<svg width="'+l+'px" height="'+i+'px" viewBox="0 0 '+l+" "+i+'" xmlns="http://www.w3.org/2000/svg">'),h.push('<foreignObject width="100%" height="100%">'),h.push('<body xmlns="http://www.w3.org/1999/xhtml">'),h.push(this.xhrLoader.responseText),h.push("</body>"),h.push("</foreignObject>"),h.push("</svg>");var f=[h.join(`
`)],c=this;try{var d=new window.Blob(f,{type:"image/svg+xml;charset=utf-8"})}catch{c.state=p.FILE_ERRORED,c.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){o.revokeObjectURL(c.data),c.onProcessComplete()},this.data.onerror=function(){o.revokeObjectURL(c.data),c.onProcessError()},o.createObjectURL(this.data,d,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});s.register("htmlTexture",function(l,i,h,f,c){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new n(this,l[d]));else this.addFile(new n(this,l,i,h,f,c));return this}),u.exports=n},19550:(u,m,t)=>{var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=t(98356),l=new a({Extends:o,initialize:function i(h,f,c,d,v){var g="png",y;if(e(f)){var x=f;f=r(x,"key"),c=r(x,"url"),y=r(x,"normalMap"),d=r(x,"xhrSettings"),g=r(x,"extension",g),v=r(x,"frameConfig")}Array.isArray(c)&&(y=c[1],c=c[0]);var T={type:"image",cache:h.textureManager,extension:g,responseType:"blob",key:f,url:c,xhrSettings:d,config:v};if(o.call(this,h,T),y){var S=new i(h,this.key,y,d,v);S.type="normalMap",this.setLink(S),h.addFile(S)}this.useImageElementLoad=h.imageLoadType==="HTMLImageElement"||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var i=this;this.data.onload=function(){o.revokeObjectURL(i.data),i.onProcessComplete()},this.data.onerror=function(){o.revokeObjectURL(i.data),i.onProcessError()},o.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var i=this.state;this.state=p.FILE_PROCESSING,i===p.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=p.FILE_LOADING,this.src=n(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var i=this;this.data.onload=function(){i.state=p.FILE_LOADED,i.loader.nextFile(i,!0)},this.data.onerror=function(){i.loader.nextFile(i,!1)},this.data.src=this.src},addToCache:function(){var i=this.linkFile;i?i.state>=p.FILE_COMPLETE&&(i.type==="spritesheet"?i.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,i.data,this.data):this.cache.addImage(this.key,this.data,i.data)):this.cache.addImage(this.key,this.data)}});s.register("image",function(i,h,f){if(Array.isArray(i))for(var c=0;c<i.length;c++)this.addFile(new l(this,i[c]));else this.addFile(new l(this,i,h,f));return this}),u.exports=l},518:(u,m,t)=>{var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(35154),n=t(41212),l=new a({Extends:o,initialize:function(h,f,c,d,v){var g="json";if(n(f)){var y=f;f=r(y,"key"),c=r(y,"url"),d=r(y,"xhrSettings"),g=r(y,"extension",g),v=r(y,"dataKey",v)}var x={type:"json",cache:h.cacheManager.json,extension:g,responseType:"text",key:f,url:c,xhrSettings:d,config:v};o.call(this,h,x),n(c)&&(v?this.data=e(c,v):this.data=c,this.state=p.FILE_POPULATED)},onProcess:function(){if(this.state!==p.FILE_POPULATED){this.state=p.FILE_PROCESSING;try{var i=JSON.parse(this.xhrLoader.responseText)}catch(f){throw this.onProcessError(),f}var h=this.config;typeof h=="string"?this.data=e(i,h,i):this.data=i}this.onProcessComplete()}});s.register("json",function(i,h,f,c){if(Array.isArray(i))for(var d=0;d<i.length;d++)this.addFile(new l(this,i[d]));else this.addFile(new l(this,i,h,c,f));return this}),u.exports=l},59327:(u,m,t)=>{var a=t(83419),p=t(74099),o=t(95540),s=t(19550),r=t(41212),e=t(518),n=t(26430),l=new a({Extends:n,initialize:function(h,f,c,d,v,g,y){if(r(f)){var x=f;f=o(x,"key"),o(x,"url",!1)?c=o(x,"url"):c=o(x,"atlasURL"),g=o(x,"xhrSettings"),d=o(x,"path"),v=o(x,"baseURL"),y=o(x,"textureXhrSettings")}var T=new e(h,f,c,g);n.call(this,h,"multiatlas",f,[T]),this.config.path=d,this.config.baseURL=v,this.config.textureXhrSettings=y},onFileComplete:function(i){var h=this.files.indexOf(i);if(h!==-1&&(this.pending--,i.type==="json"&&i.data.hasOwnProperty("textures"))){var f=i.data.textures,c=this.config,d=this.loader,v=d.baseURL,g=d.path,y=d.prefix,x=o(c,"baseURL",this.baseURL),T=o(c,"path",this.path),S=o(c,"prefix",this.prefix),A=o(c,"textureXhrSettings");d.setBaseURL(x),d.setPath(T),d.setPrefix(S);for(var P=0;P<f.length;P++){var D=f[P].image,R="MA"+this.multiKeyIndex+"_"+D,L=new s(d,R,D,A);if(this.addToMultiFile(L),d.addFile(L),f[P].normalMap){var I=new s(d,R,f[P].normalMap,A);I.type="normalMap",L.setLink(I),this.addToMultiFile(I),d.addFile(I)}}d.setBaseURL(v),d.setPath(g),d.setPrefix(y)}},addToCache:function(){if(this.isReadyToProcess()){for(var i=this.files[0],h=[],f=[],c=[],d=1;d<this.files.length;d++){var v=this.files[d];if(v.type!=="normalMap")for(var g=v.key.indexOf("_"),y=v.key.substr(g+1),x=v.data,T=0;T<i.data.textures.length;T++){var S=i.data.textures[T];if(S.image===y){f.push(x),h.push(S),v.linkFile&&c.push(v.linkFile.data);break}}}c.length===0&&(c=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,f,h,c),this.complete=!0}}});p.register("multiatlas",function(i,h,f,c,d){var v;if(Array.isArray(i))for(var g=0;g<i.length;g++)v=new l(this,i[g]),this.addFile(v.files);else v=new l(this,i,h,f,c,d),this.addFile(v.files);return this}),u.exports=l},99297:(u,m,t)=>{var a=t(83419),p=t(74099),o=t(95540),s=t(41212),r=t(26430),e=t(34328),n=new a({Extends:r,initialize:function(i,h,f,c){var d="js",v=[];if(s(h)){var g=h;h=o(g,"key"),f=o(g,"url"),c=o(g,"xhrSettings"),d=o(g,"extension",d)}Array.isArray(f)||(f=[f]);for(var y=0;y<f.length;y++){var x=new e(i,{key:h+"_"+y.toString(),url:f[y],extension:d,xhrSettings:c});x.onProcess=function(){this.onProcessComplete()},v.push(x)}r.call(this,i,"scripts",h,v)},addToCache:function(){if(this.isReadyToProcess()){for(var l=0;l<this.files.length;l++){var i=this.files[l];i.data=document.createElement("script"),i.data.language="javascript",i.data.type="text/javascript",i.data.defer=!1,i.data.text=i.xhrLoader.responseText,document.head.appendChild(i.data)}this.complete=!0}}});p.register("scripts",function(l,i,h){var f;if(Array.isArray(l))for(var c=0;c<l.length;c++)f=new n(this,l[c]),this.addFile(f.files);else f=new n(this,l,i,h),this.addFile(f.files);return this}),u.exports=n},41846:(u,m,t)=>{var a=t(83419),p=t(74099),o=t(95540),s=t(41212),r=t(26430),e=t(85048),n=t(61485),l=t(78776),i=new a({Extends:r,initialize:function(f,c,d,v,g,y){var x,T,S=f.cacheManager.obj;if(s(c)){var A=c;c=o(A,"key"),x=new l(f,{key:c,type:"obj",cache:S,url:o(A,"url"),extension:o(A,"extension","obj"),xhrSettings:o(A,"xhrSettings"),config:{flipUV:o(A,"flipUV",g)}}),v=o(A,"matURL"),v&&(T=new l(f,{key:c,type:"mat",cache:S,url:v,extension:o(A,"matExtension","mat"),xhrSettings:o(A,"xhrSettings")}))}else x=new l(f,{key:c,url:d,type:"obj",cache:S,extension:"obj",xhrSettings:y,config:{flipUV:g}}),v&&(T=new l(f,{key:c,url:v,type:"mat",cache:S,extension:"mat",xhrSettings:y}));r.call(this,f,"obj",c,[x,T])},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],f=this.files[1],c=e(h.data,h.config.flipUV);f&&(c.materials=n(f.data)),h.cache.add(h.key,c),this.complete=!0}}});p.register("obj",function(h,f,c,d,v){var g;if(Array.isArray(h))for(var y=0;y<h.length;y++)g=new i(this,h[y]),this.addFile(g.files);else g=new i(this,h,f,c,d,v),this.addFile(g.files);return this}),u.exports=i},58610:(u,m,t)=>{var a=t(83419),p=t(23906),o=t(74099),s=t(518),r=new a({Extends:s,initialize:function(n,l,i,h,f){s.call(this,n,l,i,h,f),this.type="packfile"},onProcess:function(){if(this.state!==p.FILE_POPULATED&&(this.state=p.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var e={};e[this.config]=this.data,this.data=e}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});o.register("pack",function(e,n,l,i){if(Array.isArray(e))for(var h=0;h<e.length;h++)this.addFile(new r(this,e[h]));else this.addFile(new r(this,e,n,i,l));return this}),u.exports=r},48988:(u,m,t)=>{var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=new a({Extends:o,initialize:function(i,h,f,c,d,v){var g="js";if(e(h)){var y=h;h=r(y,"key"),f=r(y,"url"),v=r(y,"xhrSettings"),g=r(y,"extension",g),c=r(y,"start"),d=r(y,"mapping")}var x={type:"plugin",cache:!1,extension:g,responseType:"text",key:h,url:f,xhrSettings:v,config:{start:c,mapping:d}};o.call(this,i,x),typeof f=="function"&&(this.data=f,this.state=p.FILE_POPULATED)},onProcess:function(){var l=this.loader.systems.plugins,i=this.config,h=r(i,"start",!1),f=r(i,"mapping",null);if(this.state===p.FILE_POPULATED)l.install(this.key,this.data,h,f);else{this.state=p.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var c=l.install(this.key,window[this.key],h,f);(h||f)&&(this.loader.systems[f]=c,this.loader.scene[f]=c)}this.onProcessComplete()}});s.register("plugin",function(l,i,h,f,c){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new n(this,l[d]));else this.addFile(new n(this,l,i,h,f,c));return this}),u.exports=n},67397:(u,m,t)=>{var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=new a({Extends:o,initialize:function(i,h,f,c,d){var v="svg";if(e(h)){var g=h;h=r(g,"key"),f=r(g,"url"),c=r(g,"svgConfig",{}),d=r(g,"xhrSettings"),v=r(g,"extension",v)}var y={type:"svg",cache:i.textureManager,extension:v,responseType:"text",key:h,url:f,xhrSettings:d,config:{width:r(c,"width"),height:r(c,"height"),scale:r(c,"scale")}};o.call(this,i,y)},onProcess:function(){this.state=p.FILE_PROCESSING;var l=this.xhrLoader.responseText,i=[l],h=this.config.width,f=this.config.height,c=this.config.scale;t:if(h&&f||c){var d=null,v=new DOMParser;d=v.parseFromString(l,"text/xml");var g=d.getElementsByTagName("svg")[0],y=g.hasAttribute("viewBox"),x=parseFloat(g.getAttribute("width")),T=parseFloat(g.getAttribute("height"));if(!y&&x&&T)g.setAttribute("viewBox","0  0 "+x+" "+T);else if(y&&!x&&!T){var S=g.getAttribute("viewBox").split(/\s+|,/);x=S[2],T=S[3]}if(c)if(x&&T)h=x*c,f=T*c;else break t;g.setAttribute("width",h.toString()+"px"),g.setAttribute("height",f.toString()+"px"),i=[new XMLSerializer().serializeToString(g)]}try{var A=new window.Blob(i,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var P=this,D=!1;this.data.onload=function(){D||o.revokeObjectURL(P.data),P.onProcessComplete()},this.data.onerror=function(){D?P.onProcessError():(D=!0,o.revokeObjectURL(P.data),P.data.src="data:image/svg+xml,"+encodeURIComponent(i.join("")))},o.createObjectURL(this.data,A,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});s.register("svg",function(l,i,h,f){if(Array.isArray(l))for(var c=0;c<l.length;c++)this.addFile(new n(this,l[c]));else this.addFile(new n(this,l,i,h,f));return this}),u.exports=n},88423:(u,m,t)=>{var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=new a({Extends:o,initialize:function(i,h,f,c){var d="js";if(e(h)){var v=h;h=r(v,"key"),f=r(v,"url"),c=r(v,"xhrSettings"),d=r(v,"extension",d)}var g={type:"text",extension:d,responseType:"text",key:h,url:f,xhrSettings:c};o.call(this,i,g)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var l=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),i=eval;this.loader.sceneManager.add(this.key,i(l)),this.complete=!0}});s.register("sceneFile",function(l,i,h){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new n(this,l[f]));else this.addFile(new n(this,l,i,h));return this}),u.exports=n},56812:(u,m,t)=>{var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=new a({Extends:o,initialize:function(i,h,f,c,d,v){var g="js";if(e(h)){var y=h;h=r(y,"key"),f=r(y,"url"),v=r(y,"xhrSettings"),g=r(y,"extension",g),c=r(y,"systemKey"),d=r(y,"sceneKey")}var x={type:"scenePlugin",cache:!1,extension:g,responseType:"text",key:h,url:f,xhrSettings:v,config:{systemKey:c,sceneKey:d}};o.call(this,i,x),typeof f=="function"&&(this.data=f,this.state=p.FILE_POPULATED)},onProcess:function(){var l=this.loader.systems.plugins,i=this.config,h=this.key,f=r(i,"systemKey",h),c=r(i,"sceneKey",h);this.state===p.FILE_POPULATED?l.installScenePlugin(f,this.data,c,this.loader.scene,!0):(this.state=p.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),l.installScenePlugin(f,window[this.key],c,this.loader.scene,!0)),this.onProcessComplete()}});s.register("scenePlugin",function(l,i,h,f,c){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new n(this,l[d]));else this.addFile(new n(this,l,i,h,f,c));return this}),u.exports=n},34328:(u,m,t)=>{var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=new a({Extends:o,initialize:function(i,h,f,c,d){var v="js";if(e(h)){var g=h;h=r(g,"key"),f=r(g,"url"),c=r(g,"type","script"),d=r(g,"xhrSettings"),v=r(g,"extension",v)}else c===void 0&&(c="script");var y={type:c,cache:!1,extension:v,responseType:"text",key:h,url:f,xhrSettings:d};o.call(this,i,y)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});s.register("script",function(l,i,h,f){if(Array.isArray(l))for(var c=0;c<l.length;c++)this.addFile(new n(this,l[c]));else this.addFile(new n(this,l,i,h,f));return this}),u.exports=n},85035:(u,m,t)=>{var a=t(83419),p=t(23906),o=t(74099),s=t(19550),r=new a({Extends:s,initialize:function(n,l,i,h,f){s.call(this,n,l,i,f,h),this.type="spritesheet"},addToCache:function(){var e=this.linkFile;e?e.state>=p.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,e.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,e.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});o.register("spritesheet",function(e,n,l,i){if(Array.isArray(e))for(var h=0;h<e.length;h++)this.addFile(new r(this,e[h]));else this.addFile(new r(this,e,n,l,i));return this}),u.exports=r},78776:(u,m,t)=>{var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=new a({Extends:o,initialize:function(i,h,f,c){var d="text",v="txt",g=i.cacheManager.text;if(e(h)){var y=h;h=r(y,"key"),f=r(y,"url"),c=r(y,"xhrSettings"),v=r(y,"extension",v),d=r(y,"type",d),g=r(y,"cache",g)}var x={type:d,cache:g,extension:v,responseType:"text",key:h,url:f,xhrSettings:c};o.call(this,i,x)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});s.register("text",function(l,i,h){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new n(this,l[f]));else this.addFile(new n(this,l,i,h));return this}),u.exports=n},49477:(u,m,t)=>{var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=t(80341),l=new a({Extends:o,initialize:function(h,f,c,d){var v="csv";if(e(f)){var g=f;f=r(g,"key"),c=r(g,"url"),d=r(g,"xhrSettings"),v=r(g,"extension",v)}var y={type:"tilemapCSV",cache:h.cacheManager.tilemap,extension:v,responseType:"text",key:f,url:c,xhrSettings:d};o.call(this,h,y),this.tilemapFormat=n.CSV},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var i={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,i)}});s.register("tilemapCSV",function(i,h,f){if(Array.isArray(i))for(var c=0;c<i.length;c++)this.addFile(new l(this,i[c]));else this.addFile(new l(this,i,h,f));return this}),u.exports=l},40807:(u,m,t)=>{var a=t(83419),p=t(74099),o=t(518),s=t(80341),r=new a({Extends:o,initialize:function(n,l,i,h){o.call(this,n,l,i,h),this.type="tilemapJSON",this.cache=n.cacheManager.tilemap},addToCache:function(){var e={format:s.WELTMEISTER,data:this.data};this.cache.add(this.key,e)}});p.register("tilemapImpact",function(e,n,l){if(Array.isArray(e))for(var i=0;i<e.length;i++)this.addFile(new r(this,e[i]));else this.addFile(new r(this,e,n,l));return this}),u.exports=r},56775:(u,m,t)=>{var a=t(83419),p=t(74099),o=t(518),s=t(80341),r=new a({Extends:o,initialize:function(n,l,i,h){o.call(this,n,l,i,h),this.type="tilemapJSON",this.cache=n.cacheManager.tilemap},addToCache:function(){var e={format:s.TILED_JSON,data:this.data};this.cache.add(this.key,e)}});p.register("tilemapTiledJSON",function(e,n,l){if(Array.isArray(e))for(var i=0;i<e.length;i++)this.addFile(new r(this,e[i]));else this.addFile(new r(this,e,n,l));return this}),u.exports=r},25771:(u,m,t)=>{var a=t(83419),p=t(74099),o=t(95540),s=t(19550),r=t(41212),e=t(26430),n=t(78776),l=new a({Extends:e,initialize:function(h,f,c,d,v,g){var y,x;if(r(f)){var T=f;f=o(T,"key"),y=new s(h,{key:f,url:o(T,"textureURL"),extension:o(T,"textureExtension","png"),normalMap:o(T,"normalMap"),xhrSettings:o(T,"textureXhrSettings")}),x=new n(h,{key:f,url:o(T,"atlasURL"),extension:o(T,"atlasExtension","txt"),xhrSettings:o(T,"atlasXhrSettings")})}else y=new s(h,f,c,v),x=new n(h,f,d,g);y.linkFile?e.call(this,h,"unityatlas",f,[y,x,y.linkFile]):e.call(this,h,"unityatlas",f,[y,x])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],h=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(i.key,i.data,h.data,f),this.complete=!0}}});p.register("unityAtlas",function(i,h,f,c,d){var v;if(Array.isArray(i))for(var g=0;g<i.length;g++)v=new l(this,i[g]),this.addFile(v.files);else v=new l(this,i,h,f,c,d),this.addFile(v.files);return this}),u.exports=l},33720:(u,m,t)=>{var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(98356),e=t(95540),n=t(41212),l=new a({Extends:o,initialize:function(h,f,c,d){if(d===void 0&&(d=!1),n(f)){var v=f;f=e(v,"key"),c=e(v,"url",[]),d=e(v,"noAudio",!1)}var g=h.systems.game.device.video.getVideoURL(c);g||console.warn("VideoFile: No supported format for "+f);var y={type:"video",cache:h.cacheManager.video,extension:g.type,key:f,url:g.url,config:{noAudio:d}};o.call(this,h,y)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=r(this,this.loader.baseURL),this.state=p.FILE_LOADED,this.loader.nextFile(this,!0)}});s.register("video",function(i,h,f){if(Array.isArray(i))for(var c=0;c<i.length;c++)this.addFile(new l(this,i[c]));else this.addFile(new l(this,i,h,f));return this}),u.exports=l},57318:(u,m,t)=>{var a=t(83419),p=t(23906),o=t(41299),s=t(74099),r=t(95540),e=t(41212),n=t(56836),l=new a({Extends:o,initialize:function(h,f,c,d){var v="xml";if(e(f)){var g=f;f=r(g,"key"),c=r(g,"url"),d=r(g,"xhrSettings"),v=r(g,"extension",v)}var y={type:"xml",cache:h.cacheManager.xml,extension:v,responseType:"text",key:f,url:c,xhrSettings:d};o.call(this,h,y)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=n(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});s.register("xml",function(i,h,f){if(Array.isArray(i))for(var c=0;c<i.length;c++)this.addFile(new l(this,i[c]));else this.addFile(new l(this,i,h,f));return this}),u.exports=l},64589:(u,m,t)=>{u.exports={AnimationJSONFile:t(14135),AsepriteFile:t(76272),AtlasJSONFile:t(38734),AtlasXMLFile:t(74599),AudioFile:t(21097),AudioSpriteFile:t(89524),BinaryFile:t(85722),BitmapFontFile:t(97025),CompressedTextureFile:t(69559),CSSFile:t(16024),FontFile:t(87674),GLSLFile:t(47931),HTML5AudioFile:t(89749),HTMLFile:t(88470),HTMLTextureFile:t(14643),ImageFile:t(19550),JSONFile:t(518),MultiAtlasFile:t(59327),MultiScriptFile:t(99297),OBJFile:t(41846),PackFile:t(58610),PluginFile:t(48988),SceneFile:t(88423),ScenePluginFile:t(56812),ScriptFile:t(34328),SpriteSheetFile:t(85035),SVGFile:t(67397),TextFile:t(78776),TilemapCSVFile:t(49477),TilemapImpactFile:t(40807),TilemapJSONFile:t(56775),UnityAtlasFile:t(25771),VideoFile:t(33720),XMLFile:t(57318)}},57777:(u,m,t)=>{var a=t(23906),p=t(79291),o={Events:t(54899),FileTypes:t(64589),File:t(41299),FileTypesManager:t(74099),GetURL:t(98356),LoaderPlugin:t(74261),MergeXHRSettings:t(3374),MultiFile:t(26430),XHRLoader:t(84376),XHRSettings:t(92638)};o=p(!1,o,a),u.exports=o},53307:u=>{var m=function(t){for(var a=0,p=0;p<t.length;p++)a+=+t[p];return a/t.length};u.exports=m},85710:(u,m,t)=>{var a=t(6411),p=function(o,s){return a(o)/a(s)/a(o-s)};u.exports=p},30976:u=>{var m=function(t,a){return Math.floor(Math.random()*(a-t+1)+t)};u.exports=m},87842:u=>{var m=function(t,a,p,o,s){var r=(o-a)*.5,e=(s-p)*.5,n=t*t,l=t*n;return(2*p-2*o+r+e)*l+(-3*p+3*o-2*r-e)*n+r*t+p};u.exports=m},26302:u=>{var m=function(t,a,p){a===void 0&&(a=0),p===void 0&&(p=10);var o=Math.pow(p,-a);return Math.ceil(t*o)/o};u.exports=m},45319:u=>{var m=function(t,a,p){return Math.max(a,Math.min(p,t))};u.exports=m},39506:(u,m,t)=>{var a=t(36383),p=function(o){return o*a.DEG_TO_RAD};u.exports=p},61241:u=>{var m=function(t,a){return Math.abs(t-a)};u.exports=m},38857:(u,m,t)=>{var a=t(45319),p=t(83419),o=t(37867),s=t(29747),r=new o,e=new p({initialize:function n(l,i,h,f){l===void 0&&(l=0),i===void 0&&(i=0),h===void 0&&(h=0),f===void 0&&(f=n.DefaultOrder),this._x=l,this._y=i,this._z=h,this._order=f,this.onChangeCallback=s},x:{get:function(){return this._x},set:function(n){this._x=n,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(n){this._y=n,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(n){this._z=n,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(n){this._order=n,this.onChangeCallback(this)}},set:function(n,l,i,h){return h===void 0&&(h=this._order),this._x=n,this._y=l,this._z=i,this._order=h,this.onChangeCallback(this),this},copy:function(n){return this.set(n.x,n.y,n.z,n.order)},setFromQuaternion:function(n,l,i){return l===void 0&&(l=this._order),i===void 0&&(i=!1),r.fromQuat(n),this.setFromRotationMatrix(r,l,i)},setFromRotationMatrix:function(n,l,i){l===void 0&&(l=this._order),i===void 0&&(i=!1);var h=n.val,f=h[0],c=h[4],d=h[8],v=h[1],g=h[5],y=h[9],x=h[2],T=h[6],S=h[10],A=0,P=0,D=0,R=.99999;switch(l){case"XYZ":{P=Math.asin(a(d,-1,1)),Math.abs(d)<R?(A=Math.atan2(-y,S),D=Math.atan2(-c,f)):A=Math.atan2(T,g);break}case"YXZ":{A=Math.asin(-a(y,-1,1)),Math.abs(y)<R?(P=Math.atan2(d,S),D=Math.atan2(v,g)):P=Math.atan2(-x,f);break}case"ZXY":{A=Math.asin(a(T,-1,1)),Math.abs(T)<R?(P=Math.atan2(-x,S),D=Math.atan2(-c,g)):D=Math.atan2(v,f);break}case"ZYX":{P=Math.asin(-a(x,-1,1)),Math.abs(x)<R?(A=Math.atan2(T,S),D=Math.atan2(v,f)):D=Math.atan2(-c,g);break}case"YZX":{D=Math.asin(a(v,-1,1)),Math.abs(v)<R?(A=Math.atan2(-y,g),P=Math.atan2(-x,f)):P=Math.atan2(d,S);break}case"XZY":{D=Math.asin(-a(c,-1,1)),Math.abs(c)<R?(A=Math.atan2(T,g),P=Math.atan2(d,f)):A=Math.atan2(-y,S);break}}return this._x=A,this._y=P,this._z=D,this._order=l,i&&this.onChangeCallback(this),this}});e.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],e.DefaultOrder="XYZ",u.exports=e},6411:u=>{var m=function(t){if(t===0)return 1;for(var a=t;--t;)a*=t;return a};u.exports=m},99472:u=>{var m=function(t,a){return Math.random()*(a-t)+t};u.exports=m},77623:u=>{var m=function(t,a,p){a===void 0&&(a=0),p===void 0&&(p=10);var o=Math.pow(p,-a);return Math.floor(t*o)/o};u.exports=m},62945:(u,m,t)=>{var a=t(45319),p=function(o,s,r){return o=a(o,0,1),(r-s)*o+s};u.exports=p},38265:u=>{var m=function(t,a){return t/a/1e3};u.exports=m},78702:u=>{var m=function(t){return t==parseFloat(t)?!(t%2):void 0};u.exports=m},94883:u=>{var m=function(t){return t===parseFloat(t)?!(t%2):void 0};u.exports=m},28915:u=>{var m=function(t,a,p){return(a-t)*p+t};u.exports=m},94908:u=>{var m=function(t,a,p){return p===void 0&&(p=0),t.clone().lerp(a,p)};u.exports=m},94434:(u,m,t)=>{var a=t(83419),p=new a({initialize:function(s){this.val=new Float32Array(9),s?this.copy(s):this.identity()},clone:function(){return new p(this)},set:function(o){return this.copy(o)},copy:function(o){var s=this.val,r=o.val;return s[0]=r[0],s[1]=r[1],s[2]=r[2],s[3]=r[3],s[4]=r[4],s[5]=r[5],s[6]=r[6],s[7]=r[7],s[8]=r[8],this},fromMat4:function(o){var s=o.val,r=this.val;return r[0]=s[0],r[1]=s[1],r[2]=s[2],r[3]=s[4],r[4]=s[5],r[5]=s[6],r[6]=s[8],r[7]=s[9],r[8]=s[10],this},fromArray:function(o){var s=this.val;return s[0]=o[0],s[1]=o[1],s[2]=o[2],s[3]=o[3],s[4]=o[4],s[5]=o[5],s[6]=o[6],s[7]=o[7],s[8]=o[8],this},identity:function(){var o=this.val;return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=1,o[5]=0,o[6]=0,o[7]=0,o[8]=1,this},transpose:function(){var o=this.val,s=o[1],r=o[2],e=o[5];return o[1]=o[3],o[2]=o[6],o[3]=s,o[5]=o[7],o[6]=r,o[7]=e,this},invert:function(){var o=this.val,s=o[0],r=o[1],e=o[2],n=o[3],l=o[4],i=o[5],h=o[6],f=o[7],c=o[8],d=c*l-i*f,v=-c*n+i*h,g=f*n-l*h,y=s*d+r*v+e*g;return y?(y=1/y,o[0]=d*y,o[1]=(-c*r+e*f)*y,o[2]=(i*r-e*l)*y,o[3]=v*y,o[4]=(c*s-e*h)*y,o[5]=(-i*s+e*n)*y,o[6]=g*y,o[7]=(-f*s+r*h)*y,o[8]=(l*s-r*n)*y,this):null},adjoint:function(){var o=this.val,s=o[0],r=o[1],e=o[2],n=o[3],l=o[4],i=o[5],h=o[6],f=o[7],c=o[8];return o[0]=l*c-i*f,o[1]=e*f-r*c,o[2]=r*i-e*l,o[3]=i*h-n*c,o[4]=s*c-e*h,o[5]=e*n-s*i,o[6]=n*f-l*h,o[7]=r*h-s*f,o[8]=s*l-r*n,this},determinant:function(){var o=this.val,s=o[0],r=o[1],e=o[2],n=o[3],l=o[4],i=o[5],h=o[6],f=o[7],c=o[8];return s*(c*l-i*f)+r*(-c*n+i*h)+e*(f*n-l*h)},multiply:function(o){var s=this.val,r=s[0],e=s[1],n=s[2],l=s[3],i=s[4],h=s[5],f=s[6],c=s[7],d=s[8],v=o.val,g=v[0],y=v[1],x=v[2],T=v[3],S=v[4],A=v[5],P=v[6],D=v[7],R=v[8];return s[0]=g*r+y*l+x*f,s[1]=g*e+y*i+x*c,s[2]=g*n+y*h+x*d,s[3]=T*r+S*l+A*f,s[4]=T*e+S*i+A*c,s[5]=T*n+S*h+A*d,s[6]=P*r+D*l+R*f,s[7]=P*e+D*i+R*c,s[8]=P*n+D*h+R*d,this},translate:function(o){var s=this.val,r=o.x,e=o.y;return s[6]=r*s[0]+e*s[3]+s[6],s[7]=r*s[1]+e*s[4]+s[7],s[8]=r*s[2]+e*s[5]+s[8],this},rotate:function(o){var s=this.val,r=s[0],e=s[1],n=s[2],l=s[3],i=s[4],h=s[5],f=Math.sin(o),c=Math.cos(o);return s[0]=c*r+f*l,s[1]=c*e+f*i,s[2]=c*n+f*h,s[3]=c*l-f*r,s[4]=c*i-f*e,s[5]=c*h-f*n,this},scale:function(o){var s=this.val,r=o.x,e=o.y;return s[0]=r*s[0],s[1]=r*s[1],s[2]=r*s[2],s[3]=e*s[3],s[4]=e*s[4],s[5]=e*s[5],this},fromQuat:function(o){var s=o.x,r=o.y,e=o.z,n=o.w,l=s+s,i=r+r,h=e+e,f=s*l,c=s*i,d=s*h,v=r*i,g=r*h,y=e*h,x=n*l,T=n*i,S=n*h,A=this.val;return A[0]=1-(v+y),A[3]=c+S,A[6]=d-T,A[1]=c-S,A[4]=1-(f+y),A[7]=g+x,A[2]=d+T,A[5]=g-x,A[8]=1-(f+v),this},normalFromMat4:function(o){var s=o.val,r=this.val,e=s[0],n=s[1],l=s[2],i=s[3],h=s[4],f=s[5],c=s[6],d=s[7],v=s[8],g=s[9],y=s[10],x=s[11],T=s[12],S=s[13],A=s[14],P=s[15],D=e*f-n*h,R=e*c-l*h,L=e*d-i*h,I=n*c-l*f,w=n*d-i*f,B=l*d-i*c,b=v*S-g*T,V=v*A-y*T,X=v*P-x*T,G=g*A-y*S,U=g*P-x*S,O=y*P-x*A,z=D*O-R*U+L*G+I*X-w*V+B*b;return z?(z=1/z,r[0]=(f*O-c*U+d*G)*z,r[1]=(c*X-h*O-d*V)*z,r[2]=(h*U-f*X+d*b)*z,r[3]=(l*U-n*O-i*G)*z,r[4]=(e*O-l*X+i*V)*z,r[5]=(n*X-e*U-i*b)*z,r[6]=(S*B-A*w+P*I)*z,r[7]=(A*L-T*B-P*R)*z,r[8]=(T*w-S*L+P*D)*z,this):null}});u.exports=p},37867:(u,m,t)=>{var a=t(83419),p=t(25836),o=1e-6,s=new a({initialize:function(f){this.val=new Float32Array(16),f?this.copy(f):this.identity()},clone:function(){return new s(this)},set:function(h){return this.copy(h)},setValues:function(h,f,c,d,v,g,y,x,T,S,A,P,D,R,L,I){var w=this.val;return w[0]=h,w[1]=f,w[2]=c,w[3]=d,w[4]=v,w[5]=g,w[6]=y,w[7]=x,w[8]=T,w[9]=S,w[10]=A,w[11]=P,w[12]=D,w[13]=R,w[14]=L,w[15]=I,this},copy:function(h){var f=h.val;return this.setValues(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15])},fromArray:function(h){return this.setValues(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(h,f,c){var d=r.fromQuat(c),v=d.val,g=f.x,y=f.y,x=f.z;return this.setValues(v[0]*g,v[1]*g,v[2]*g,0,v[4]*y,v[5]*y,v[6]*y,0,v[8]*x,v[9]*x,v[10]*x,0,h.x,h.y,h.z,1)},xyz:function(h,f,c){this.identity();var d=this.val;return d[12]=h,d[13]=f,d[14]=c,this},scaling:function(h,f,c){this.zero();var d=this.val;return d[0]=h,d[5]=f,d[10]=c,d[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var h=this.val,f=h[1],c=h[2],d=h[3],v=h[6],g=h[7],y=h[11];return h[1]=h[4],h[2]=h[8],h[3]=h[12],h[4]=f,h[6]=h[9],h[7]=h[13],h[8]=c,h[9]=v,h[11]=h[14],h[12]=d,h[13]=g,h[14]=y,this},getInverse:function(h){return this.copy(h),this.invert()},invert:function(){var h=this.val,f=h[0],c=h[1],d=h[2],v=h[3],g=h[4],y=h[5],x=h[6],T=h[7],S=h[8],A=h[9],P=h[10],D=h[11],R=h[12],L=h[13],I=h[14],w=h[15],B=f*y-c*g,b=f*x-d*g,V=f*T-v*g,X=c*x-d*y,G=c*T-v*y,U=d*T-v*x,O=S*L-A*R,z=S*I-P*R,N=S*w-D*R,Y=A*I-P*L,W=A*w-D*L,H=P*w-D*I,$=B*H-b*W+V*Y+X*N-G*z+U*O;return $?($=1/$,this.setValues((y*H-x*W+T*Y)*$,(d*W-c*H-v*Y)*$,(L*U-I*G+w*X)*$,(P*G-A*U-D*X)*$,(x*N-g*H-T*z)*$,(f*H-d*N+v*z)*$,(I*V-R*U-w*b)*$,(S*U-P*V+D*b)*$,(g*W-y*N+T*O)*$,(c*N-f*W-v*O)*$,(R*G-L*V+w*B)*$,(A*V-S*G-D*B)*$,(y*z-g*Y-x*O)*$,(f*Y-c*z+d*O)*$,(L*b-R*X-I*B)*$,(S*X-A*b+P*B)*$)):this},adjoint:function(){var h=this.val,f=h[0],c=h[1],d=h[2],v=h[3],g=h[4],y=h[5],x=h[6],T=h[7],S=h[8],A=h[9],P=h[10],D=h[11],R=h[12],L=h[13],I=h[14],w=h[15];return this.setValues(y*(P*w-D*I)-A*(x*w-T*I)+L*(x*D-T*P),-(c*(P*w-D*I)-A*(d*w-v*I)+L*(d*D-v*P)),c*(x*w-T*I)-y*(d*w-v*I)+L*(d*T-v*x),-(c*(x*D-T*P)-y*(d*D-v*P)+A*(d*T-v*x)),-(g*(P*w-D*I)-S*(x*w-T*I)+R*(x*D-T*P)),f*(P*w-D*I)-S*(d*w-v*I)+R*(d*D-v*P),-(f*(x*w-T*I)-g*(d*w-v*I)+R*(d*T-v*x)),f*(x*D-T*P)-g*(d*D-v*P)+S*(d*T-v*x),g*(A*w-D*L)-S*(y*w-T*L)+R*(y*D-T*A),-(f*(A*w-D*L)-S*(c*w-v*L)+R*(c*D-v*A)),f*(y*w-T*L)-g*(c*w-v*L)+R*(c*T-v*y),-(f*(y*D-T*A)-g*(c*D-v*A)+S*(c*T-v*y)),-(g*(A*I-P*L)-S*(y*I-x*L)+R*(y*P-x*A)),f*(A*I-P*L)-S*(c*I-d*L)+R*(c*P-d*A),-(f*(y*I-x*L)-g*(c*I-d*L)+R*(c*x-d*y)),f*(y*P-x*A)-g*(c*P-d*A)+S*(c*x-d*y))},determinant:function(){var h=this.val,f=h[0],c=h[1],d=h[2],v=h[3],g=h[4],y=h[5],x=h[6],T=h[7],S=h[8],A=h[9],P=h[10],D=h[11],R=h[12],L=h[13],I=h[14],w=h[15],B=f*y-c*g,b=f*x-d*g,V=f*T-v*g,X=c*x-d*y,G=c*T-v*y,U=d*T-v*x,O=S*L-A*R,z=S*I-P*R,N=S*w-D*R,Y=A*I-P*L,W=A*w-D*L,H=P*w-D*I;return B*H-b*W+V*Y+X*N-G*z+U*O},multiply:function(h){var f=this.val,c=f[0],d=f[1],v=f[2],g=f[3],y=f[4],x=f[5],T=f[6],S=f[7],A=f[8],P=f[9],D=f[10],R=f[11],L=f[12],I=f[13],w=f[14],B=f[15],b=h.val,V=b[0],X=b[1],G=b[2],U=b[3];return f[0]=V*c+X*y+G*A+U*L,f[1]=V*d+X*x+G*P+U*I,f[2]=V*v+X*T+G*D+U*w,f[3]=V*g+X*S+G*R+U*B,V=b[4],X=b[5],G=b[6],U=b[7],f[4]=V*c+X*y+G*A+U*L,f[5]=V*d+X*x+G*P+U*I,f[6]=V*v+X*T+G*D+U*w,f[7]=V*g+X*S+G*R+U*B,V=b[8],X=b[9],G=b[10],U=b[11],f[8]=V*c+X*y+G*A+U*L,f[9]=V*d+X*x+G*P+U*I,f[10]=V*v+X*T+G*D+U*w,f[11]=V*g+X*S+G*R+U*B,V=b[12],X=b[13],G=b[14],U=b[15],f[12]=V*c+X*y+G*A+U*L,f[13]=V*d+X*x+G*P+U*I,f[14]=V*v+X*T+G*D+U*w,f[15]=V*g+X*S+G*R+U*B,this},multiplyLocal:function(h){var f=this.val,c=h.val;return this.setValues(f[0]*c[0]+f[1]*c[4]+f[2]*c[8]+f[3]*c[12],f[0]*c[1]+f[1]*c[5]+f[2]*c[9]+f[3]*c[13],f[0]*c[2]+f[1]*c[6]+f[2]*c[10]+f[3]*c[14],f[0]*c[3]+f[1]*c[7]+f[2]*c[11]+f[3]*c[15],f[4]*c[0]+f[5]*c[4]+f[6]*c[8]+f[7]*c[12],f[4]*c[1]+f[5]*c[5]+f[6]*c[9]+f[7]*c[13],f[4]*c[2]+f[5]*c[6]+f[6]*c[10]+f[7]*c[14],f[4]*c[3]+f[5]*c[7]+f[6]*c[11]+f[7]*c[15],f[8]*c[0]+f[9]*c[4]+f[10]*c[8]+f[11]*c[12],f[8]*c[1]+f[9]*c[5]+f[10]*c[9]+f[11]*c[13],f[8]*c[2]+f[9]*c[6]+f[10]*c[10]+f[11]*c[14],f[8]*c[3]+f[9]*c[7]+f[10]*c[11]+f[11]*c[15],f[12]*c[0]+f[13]*c[4]+f[14]*c[8]+f[15]*c[12],f[12]*c[1]+f[13]*c[5]+f[14]*c[9]+f[15]*c[13],f[12]*c[2]+f[13]*c[6]+f[14]*c[10]+f[15]*c[14],f[12]*c[3]+f[13]*c[7]+f[14]*c[11]+f[15]*c[15])},premultiply:function(h){return this.multiplyMatrices(h,this)},multiplyMatrices:function(h,f){var c=h.val,d=f.val,v=c[0],g=c[4],y=c[8],x=c[12],T=c[1],S=c[5],A=c[9],P=c[13],D=c[2],R=c[6],L=c[10],I=c[14],w=c[3],B=c[7],b=c[11],V=c[15],X=d[0],G=d[4],U=d[8],O=d[12],z=d[1],N=d[5],Y=d[9],W=d[13],H=d[2],$=d[6],K=d[10],Z=d[14],J=d[3],j=d[7],Q=d[11],_=d[15];return this.setValues(v*X+g*z+y*H+x*J,T*X+S*z+A*H+P*J,D*X+R*z+L*H+I*J,w*X+B*z+b*H+V*J,v*G+g*N+y*$+x*j,T*G+S*N+A*$+P*j,D*G+R*N+L*$+I*j,w*G+B*N+b*$+V*j,v*U+g*Y+y*K+x*Q,T*U+S*Y+A*K+P*Q,D*U+R*Y+L*K+I*Q,w*U+B*Y+b*K+V*Q,v*O+g*W+y*Z+x*_,T*O+S*W+A*Z+P*_,D*O+R*W+L*Z+I*_,w*O+B*W+b*Z+V*_)},translate:function(h){return this.translateXYZ(h.x,h.y,h.z)},translateXYZ:function(h,f,c){var d=this.val;return d[12]=d[0]*h+d[4]*f+d[8]*c+d[12],d[13]=d[1]*h+d[5]*f+d[9]*c+d[13],d[14]=d[2]*h+d[6]*f+d[10]*c+d[14],d[15]=d[3]*h+d[7]*f+d[11]*c+d[15],this},scale:function(h){return this.scaleXYZ(h.x,h.y,h.z)},scaleXYZ:function(h,f,c){var d=this.val;return d[0]=d[0]*h,d[1]=d[1]*h,d[2]=d[2]*h,d[3]=d[3]*h,d[4]=d[4]*f,d[5]=d[5]*f,d[6]=d[6]*f,d[7]=d[7]*f,d[8]=d[8]*c,d[9]=d[9]*c,d[10]=d[10]*c,d[11]=d[11]*c,this},makeRotationAxis:function(h,f){var c=Math.cos(f),d=Math.sin(f),v=1-c,g=h.x,y=h.y,x=h.z,T=v*g,S=v*y;return this.setValues(T*g+c,T*y-d*x,T*x+d*y,0,T*y+d*x,S*y+c,S*x-d*g,0,T*x-d*y,S*x+d*g,v*x*x+c,0,0,0,0,1)},rotate:function(h,f){var c=this.val,d=f.x,v=f.y,g=f.z,y=Math.sqrt(d*d+v*v+g*g);if(Math.abs(y)<o)return this;y=1/y,d*=y,v*=y,g*=y;var x=Math.sin(h),T=Math.cos(h),S=1-T,A=c[0],P=c[1],D=c[2],R=c[3],L=c[4],I=c[5],w=c[6],B=c[7],b=c[8],V=c[9],X=c[10],G=c[11],U=c[12],O=c[13],z=c[14],N=c[15],Y=d*d*S+T,W=v*d*S+g*x,H=g*d*S-v*x,$=d*v*S-g*x,K=v*v*S+T,Z=g*v*S+d*x,J=d*g*S+v*x,j=v*g*S-d*x,Q=g*g*S+T;return this.setValues(A*Y+L*W+b*H,P*Y+I*W+V*H,D*Y+w*W+X*H,R*Y+B*W+G*H,A*$+L*K+b*Z,P*$+I*K+V*Z,D*$+w*K+X*Z,R*$+B*K+G*Z,A*J+L*j+b*Q,P*J+I*j+V*Q,D*J+w*j+X*Q,R*J+B*j+G*Q,U,O,z,N)},rotateX:function(h){var f=this.val,c=Math.sin(h),d=Math.cos(h),v=f[4],g=f[5],y=f[6],x=f[7],T=f[8],S=f[9],A=f[10],P=f[11];return f[4]=v*d+T*c,f[5]=g*d+S*c,f[6]=y*d+A*c,f[7]=x*d+P*c,f[8]=T*d-v*c,f[9]=S*d-g*c,f[10]=A*d-y*c,f[11]=P*d-x*c,this},rotateY:function(h){var f=this.val,c=Math.sin(h),d=Math.cos(h),v=f[0],g=f[1],y=f[2],x=f[3],T=f[8],S=f[9],A=f[10],P=f[11];return f[0]=v*d-T*c,f[1]=g*d-S*c,f[2]=y*d-A*c,f[3]=x*d-P*c,f[8]=v*c+T*d,f[9]=g*c+S*d,f[10]=y*c+A*d,f[11]=x*c+P*d,this},rotateZ:function(h){var f=this.val,c=Math.sin(h),d=Math.cos(h),v=f[0],g=f[1],y=f[2],x=f[3],T=f[4],S=f[5],A=f[6],P=f[7];return f[0]=v*d+T*c,f[1]=g*d+S*c,f[2]=y*d+A*c,f[3]=x*d+P*c,f[4]=T*d-v*c,f[5]=S*d-g*c,f[6]=A*d-y*c,f[7]=P*d-x*c,this},fromRotationTranslation:function(h,f){var c=h.x,d=h.y,v=h.z,g=h.w,y=c+c,x=d+d,T=v+v,S=c*y,A=c*x,P=c*T,D=d*x,R=d*T,L=v*T,I=g*y,w=g*x,B=g*T;return this.setValues(1-(D+L),A+B,P-w,0,A-B,1-(S+L),R+I,0,P+w,R-I,1-(S+D),0,f.x,f.y,f.z,1)},fromQuat:function(h){var f=h.x,c=h.y,d=h.z,v=h.w,g=f+f,y=c+c,x=d+d,T=f*g,S=f*y,A=f*x,P=c*y,D=c*x,R=d*x,L=v*g,I=v*y,w=v*x;return this.setValues(1-(P+R),S+w,A-I,0,S-w,1-(T+R),D+L,0,A+I,D-L,1-(T+P),0,0,0,0,1)},frustum:function(h,f,c,d,v,g){var y=1/(f-h),x=1/(d-c),T=1/(v-g);return this.setValues(v*2*y,0,0,0,0,v*2*x,0,0,(f+h)*y,(d+c)*x,(g+v)*T,-1,0,0,g*v*2*T,0)},perspective:function(h,f,c,d){var v=1/Math.tan(h/2),g=1/(c-d);return this.setValues(v/f,0,0,0,0,v,0,0,0,0,(d+c)*g,-1,0,0,2*d*c*g,0)},perspectiveLH:function(h,f,c,d){return this.setValues(2*c/h,0,0,0,0,2*c/f,0,0,0,0,-d/(c-d),1,0,0,c*d/(c-d),0)},ortho:function(h,f,c,d,v,g){var y=h-f,x=c-d,T=v-g;return y=y===0?y:1/y,x=x===0?x:1/x,T=T===0?T:1/T,this.setValues(-2*y,0,0,0,0,-2*x,0,0,0,0,2*T,0,(h+f)*y,(d+c)*x,(g+v)*T,1)},lookAtRH:function(h,f,c){var d=this.val;return i.subVectors(h,f),i.lengthSq()===0&&(i.z=1),i.normalize(),n.crossVectors(c,i),n.lengthSq()===0&&(Math.abs(c.z)===1?i.x+=1e-4:i.z+=1e-4,i.normalize(),n.crossVectors(c,i)),n.normalize(),l.crossVectors(i,n),d[0]=n.x,d[1]=n.y,d[2]=n.z,d[4]=l.x,d[5]=l.y,d[6]=l.z,d[8]=i.x,d[9]=i.y,d[10]=i.z,this},lookAt:function(h,f,c){var d=h.x,v=h.y,g=h.z,y=c.x,x=c.y,T=c.z,S=f.x,A=f.y,P=f.z;if(Math.abs(d-S)<o&&Math.abs(v-A)<o&&Math.abs(g-P)<o)return this.identity();var D=d-S,R=v-A,L=g-P,I=1/Math.sqrt(D*D+R*R+L*L);D*=I,R*=I,L*=I;var w=x*L-T*R,B=T*D-y*L,b=y*R-x*D;I=Math.sqrt(w*w+B*B+b*b),I?(I=1/I,w*=I,B*=I,b*=I):(w=0,B=0,b=0);var V=R*b-L*B,X=L*w-D*b,G=D*B-R*w;return I=Math.sqrt(V*V+X*X+G*G),I?(I=1/I,V*=I,X*=I,G*=I):(V=0,X=0,G=0),this.setValues(w,V,D,0,B,X,R,0,b,G,L,0,-(w*d+B*v+b*g),-(V*d+X*v+G*g),-(D*d+R*v+L*g),1)},yawPitchRoll:function(h,f,c){this.zero(),r.zero(),e.zero();var d=this.val,v=r.val,g=e.val,y=Math.sin(c),x=Math.cos(c);return d[10]=1,d[15]=1,d[0]=x,d[1]=y,d[4]=-y,d[5]=x,y=Math.sin(f),x=Math.cos(f),v[0]=1,v[15]=1,v[5]=x,v[10]=x,v[9]=-y,v[6]=y,y=Math.sin(h),x=Math.cos(h),g[5]=1,g[15]=1,g[0]=x,g[2]=-y,g[8]=y,g[10]=x,this.multiplyLocal(r),this.multiplyLocal(e),this},setWorldMatrix:function(h,f,c,d,v){return this.yawPitchRoll(h.y,h.x,h.z),r.scaling(c.x,c.y,c.z),e.xyz(f.x,f.y,f.z),this.multiplyLocal(r),this.multiplyLocal(e),d&&this.multiplyLocal(d),v&&this.multiplyLocal(v),this},multiplyToMat4:function(h,f){var c=this.val,d=h.val,v=c[0],g=c[1],y=c[2],x=c[3],T=c[4],S=c[5],A=c[6],P=c[7],D=c[8],R=c[9],L=c[10],I=c[11],w=c[12],B=c[13],b=c[14],V=c[15],X=d[0],G=d[1],U=d[2],O=d[3],z=d[4],N=d[5],Y=d[6],W=d[7],H=d[8],$=d[9],K=d[10],Z=d[11],J=d[12],j=d[13],Q=d[14],_=d[15];return f.setValues(X*v+G*T+U*D+O*w,G*g+G*S+U*R+O*B,U*y+G*A+U*L+O*b,O*x+G*P+U*I+O*V,z*v+N*T+Y*D+W*w,z*g+N*S+Y*R+W*B,z*y+N*A+Y*L+W*b,z*x+N*P+Y*I+W*V,H*v+$*T+K*D+Z*w,H*g+$*S+K*R+Z*B,H*y+$*A+K*L+Z*b,H*x+$*P+K*I+Z*V,J*v+j*T+Q*D+_*w,J*g+j*S+Q*R+_*B,J*y+j*A+Q*L+_*b,J*x+j*P+Q*I+_*V)},fromRotationXYTranslation:function(h,f,c){var d=f.x,v=f.y,g=f.z,y=Math.sin(h.x),x=Math.cos(h.x),T=Math.sin(h.y),S=Math.cos(h.y),A=d,P=v,D=g,R=-y,L=0-R*T,I=0-x*T,w=R*S,B=x*S;return c||(A=S*d+T*g,P=L*d+x*v+w*g,D=I*d+y*v+B*g),this.setValues(S,L,I,0,0,x,y,0,T,w,B,0,A,P,D,1)},getMaxScaleOnAxis:function(){var h=this.val,f=h[0]*h[0]+h[1]*h[1]+h[2]*h[2],c=h[4]*h[4]+h[5]*h[5]+h[6]*h[6],d=h[8]*h[8]+h[9]*h[9]+h[10]*h[10];return Math.sqrt(Math.max(f,c,d))}}),r=new s,e=new s,n=new p,l=new p,i=new p;u.exports=s},86883:u=>{var m=function(t,a,p){return Math.min(t+a,p)};u.exports=m},50040:u=>{var m=function(t){var a=t.length;if(a===0)return 0;t.sort(function(o,s){return o-s});var p=Math.floor(a/2);return a%2===0?(t[p]+t[p-1])/2:t[p]};u.exports=m},37204:u=>{var m=function(t,a,p){return Math.max(t-a,p)};u.exports=m},65201:u=>{var m=function(t,a,p,o){p===void 0&&(p=a+1);var s=(t-a)/(p-a);return s>1?o!==void 0?(s=(o-t)/(o-p),s<0&&(s=0)):s=1:s<0&&(s=0),s};u.exports=m},15746:(u,m,t)=>{var a=t(83419),p=t(94434),o=t(29747),s=t(25836),r=1e-6,e=new Int8Array([1,2,0]),n=new Float32Array([0,0,0]),l=new s(1,0,0),i=new s(0,1,0),h=new s,f=new p,c=new a({initialize:function(v,g,y,x){this.onChangeCallback=o,this.set(v,g,y,x)},x:{get:function(){return this._x},set:function(d){this._x=d,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(d){this._y=d,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(d){this._z=d,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(d){this._w=d,this.onChangeCallback(this)}},copy:function(d){return this.set(d)},set:function(d,v,g,y,x){return x===void 0&&(x=!0),typeof d=="object"?(this._x=d.x||0,this._y=d.y||0,this._z=d.z||0,this._w=d.w||0):(this._x=d||0,this._y=v||0,this._z=g||0,this._w=y||0),x&&this.onChangeCallback(this),this},add:function(d){return this._x+=d.x,this._y+=d.y,this._z+=d.z,this._w+=d.w,this.onChangeCallback(this),this},subtract:function(d){return this._x-=d.x,this._y-=d.y,this._z-=d.z,this._w-=d.w,this.onChangeCallback(this),this},scale:function(d){return this._x*=d,this._y*=d,this._z*=d,this._w*=d,this.onChangeCallback(this),this},length:function(){var d=this.x,v=this.y,g=this.z,y=this.w;return Math.sqrt(d*d+v*v+g*g+y*y)},lengthSq:function(){var d=this.x,v=this.y,g=this.z,y=this.w;return d*d+v*v+g*g+y*y},normalize:function(){var d=this.x,v=this.y,g=this.z,y=this.w,x=d*d+v*v+g*g+y*y;return x>0&&(x=1/Math.sqrt(x),this._x=d*x,this._y=v*x,this._z=g*x,this._w=y*x),this.onChangeCallback(this),this},dot:function(d){return this.x*d.x+this.y*d.y+this.z*d.z+this.w*d.w},lerp:function(d,v){v===void 0&&(v=0);var g=this.x,y=this.y,x=this.z,T=this.w;return this.set(g+v*(d.x-g),y+v*(d.y-y),x+v*(d.z-x),T+v*(d.w-T))},rotationTo:function(d,v){var g=d.x*v.x+d.y*v.y+d.z*v.z;return g<-.999999?(h.copy(l).cross(d).length()<r&&h.copy(i).cross(d),h.normalize(),this.setAxisAngle(h,Math.PI)):g>.999999?this.set(0,0,0,1):(h.copy(d).cross(v),this._x=h.x,this._y=h.y,this._z=h.z,this._w=1+g,this.normalize())},setAxes:function(d,v,g){var y=f.val;return y[0]=v.x,y[3]=v.y,y[6]=v.z,y[1]=g.x,y[4]=g.y,y[7]=g.z,y[2]=-d.x,y[5]=-d.y,y[8]=-d.z,this.fromMat3(f).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(d,v){v=v*.5;var g=Math.sin(v);return this.set(g*d.x,g*d.y,g*d.z,Math.cos(v))},multiply:function(d){var v=this.x,g=this.y,y=this.z,x=this.w,T=d.x,S=d.y,A=d.z,P=d.w;return this.set(v*P+x*T+g*A-y*S,g*P+x*S+y*T-v*A,y*P+x*A+v*S-g*T,x*P-v*T-g*S-y*A)},slerp:function(d,v){var g=this.x,y=this.y,x=this.z,T=this.w,S=d.x,A=d.y,P=d.z,D=d.w,R=g*S+y*A+x*P+T*D;R<0&&(R=-R,S=-S,A=-A,P=-P,D=-D);var L=1-v,I=v;if(1-R>r){var w=Math.acos(R),B=Math.sin(w);L=Math.sin((1-v)*w)/B,I=Math.sin(v*w)/B}return this.set(L*g+I*S,L*y+I*A,L*x+I*P,L*T+I*D)},invert:function(){var d=this.x,v=this.y,g=this.z,y=this.w,x=d*d+v*v+g*g+y*y,T=x?1/x:0;return this.set(-d*T,-v*T,-g*T,y*T)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(d){d*=.5;var v=this.x,g=this.y,y=this.z,x=this.w,T=Math.sin(d),S=Math.cos(d);return this.set(v*S+x*T,g*S+y*T,y*S-g*T,x*S-v*T)},rotateY:function(d){d*=.5;var v=this.x,g=this.y,y=this.z,x=this.w,T=Math.sin(d),S=Math.cos(d);return this.set(v*S-y*T,g*S+x*T,y*S+v*T,x*S-g*T)},rotateZ:function(d){d*=.5;var v=this.x,g=this.y,y=this.z,x=this.w,T=Math.sin(d),S=Math.cos(d);return this.set(v*S+g*T,g*S-v*T,y*S+x*T,x*S-y*T)},calculateW:function(){var d=this.x,v=this.y,g=this.z;return this.w=-Math.sqrt(1-d*d-v*v-g*g),this},setFromEuler:function(d,v){var g=d.x/2,y=d.y/2,x=d.z/2,T=Math.cos(g),S=Math.cos(y),A=Math.cos(x),P=Math.sin(g),D=Math.sin(y),R=Math.sin(x);switch(d.order){case"XYZ":{this.set(P*S*A+T*D*R,T*D*A-P*S*R,T*S*R+P*D*A,T*S*A-P*D*R,v);break}case"YXZ":{this.set(P*S*A+T*D*R,T*D*A-P*S*R,T*S*R-P*D*A,T*S*A+P*D*R,v);break}case"ZXY":{this.set(P*S*A-T*D*R,T*D*A+P*S*R,T*S*R+P*D*A,T*S*A-P*D*R,v);break}case"ZYX":{this.set(P*S*A-T*D*R,T*D*A+P*S*R,T*S*R-P*D*A,T*S*A+P*D*R,v);break}case"YZX":{this.set(P*S*A+T*D*R,T*D*A+P*S*R,T*S*R-P*D*A,T*S*A-P*D*R,v);break}case"XZY":{this.set(P*S*A-T*D*R,T*D*A-P*S*R,T*S*R+P*D*A,T*S*A+P*D*R,v);break}}return this},setFromRotationMatrix:function(d){var v=d.val,g=v[0],y=v[4],x=v[8],T=v[1],S=v[5],A=v[9],P=v[2],D=v[6],R=v[10],L=g+S+R,I;return L>0?(I=.5/Math.sqrt(L+1),this.set((D-A)*I,(x-P)*I,(T-y)*I,.25/I)):g>S&&g>R?(I=2*Math.sqrt(1+g-S-R),this.set(.25*I,(y+T)/I,(x+P)/I,(D-A)/I)):S>R?(I=2*Math.sqrt(1+S-g-R),this.set((y+T)/I,.25*I,(A+D)/I,(x-P)/I)):(I=2*Math.sqrt(1+R-g-S),this.set((x+P)/I,(A+D)/I,.25*I,(T-y)/I)),this},fromMat3:function(d){var v=d.val,g=v[0]+v[4]+v[8],y;if(g>0)y=Math.sqrt(g+1),this.w=.5*y,y=.5/y,this._x=(v[7]-v[5])*y,this._y=(v[2]-v[6])*y,this._z=(v[3]-v[1])*y;else{var x=0;v[4]>v[0]&&(x=1),v[8]>v[x*3+x]&&(x=2);var T=e[x],S=e[T];y=Math.sqrt(v[x*3+x]-v[T*3+T]-v[S*3+S]+1),n[x]=.5*y,y=.5/y,n[T]=(v[T*3+x]+v[x*3+T])*y,n[S]=(v[S*3+x]+v[x*3+S])*y,this._x=n[0],this._y=n[1],this._z=n[2],this._w=(v[S*3+T]-v[T*3+S])*y}return this.onChangeCallback(this),this}});u.exports=c},43396:(u,m,t)=>{var a=t(36383),p=function(o){return o*a.RAD_TO_DEG};u.exports=p},74362:u=>{var m=function(t,a){a===void 0&&(a=1);var p=Math.random()*2*Math.PI;return t.x=Math.cos(p)*a,t.y=Math.sin(p)*a,t};u.exports=m},60706:u=>{var m=function(t,a){a===void 0&&(a=1);var p=Math.random()*2*Math.PI,o=Math.random()*2-1,s=Math.sqrt(1-o*o)*a;return t.x=Math.cos(p)*s,t.y=Math.sin(p)*s,t.z=o*a,t};u.exports=m},67421:u=>{var m=function(t,a){return a===void 0&&(a=1),t.x=(Math.random()*2-1)*a,t.y=(Math.random()*2-1)*a,t.z=(Math.random()*2-1)*a,t.w=(Math.random()*2-1)*a,t};u.exports=m},36305:u=>{var m=function(t,a){var p=t.x,o=t.y;return t.x=p*Math.cos(a)-o*Math.sin(a),t.y=p*Math.sin(a)+o*Math.cos(a),t};u.exports=m},11520:u=>{var m=function(t,a,p,o){var s=Math.cos(o),r=Math.sin(o),e=t.x-a,n=t.y-p;return t.x=e*s-n*r+a,t.y=e*r+n*s+p,t};u.exports=m},1163:u=>{var m=function(t,a,p,o,s){var r=o+Math.atan2(t.y-p,t.x-a);return t.x=a+s*Math.cos(r),t.y=p+s*Math.sin(r),t};u.exports=m},70336:u=>{var m=function(t,a,p,o,s){return t.x=a+s*Math.cos(o),t.y=p+s*Math.sin(o),t};u.exports=m},72678:(u,m,t)=>{var a=t(25836),p=t(37867),o=t(15746),s=new p,r=new o,e=new a,n=function(l,i,h){return r.setAxisAngle(i,h),s.fromRotationTranslation(r,e.set(0,0,0)),l.transformMat4(s)};u.exports=n},2284:u=>{var m=function(t){return t>0?Math.ceil(t):Math.floor(t)};u.exports=m},41013:u=>{var m=function(t,a,p){a===void 0&&(a=0),p===void 0&&(p=10);var o=Math.pow(p,-a);return Math.round(t*o)/o};u.exports=m},16922:u=>{var m=function(t,a,p,o){a===void 0&&(a=1),p===void 0&&(p=1),o===void 0&&(o=1),o*=Math.PI/t;for(var s=[],r=[],e=0;e<t;e++)p-=a*o,a+=p*o,s[e]=p,r[e]=a;return{sin:r,cos:s,length:t}};u.exports=m},7602:u=>{var m=function(t,a,p){return t<=a?0:t>=p?1:(t=(t-a)/(p-a),t*t*(3-2*t))};u.exports=m},54261:u=>{var m=function(t,a,p){return t=Math.max(0,Math.min(1,(t-a)/(p-a))),t*t*t*(t*(t*6-15)+10)};u.exports=m},44408:(u,m,t)=>{var a=t(26099),p=function(o,s,r,e){e===void 0&&(e=new a);var n=0,l=0,i=s*r;return o>0&&o<=i&&(o>s-1?(l=Math.floor(o/s),n=o-l*s):n=o),e.set(n,l)};u.exports=p},85955:(u,m,t)=>{var a=t(26099),p=function(o,s,r,e,n,l,i,h){h===void 0&&(h=new a);var f=Math.sin(n),c=Math.cos(n),d=c*l,v=f*l,g=-f*i,y=c*i,x=1/(d*y+g*-v);return h.x=y*x*o+-g*x*s+(e*g-r*y)*x,h.y=d*x*s+-v*x*o+(-e*d+r*v)*x,h};u.exports=p},26099:(u,m,t)=>{var a=t(83419),p=t(43855),o=new a({initialize:function(r,e){this.x=0,this.y=0,typeof r=="object"?(this.x=r.x||0,this.y=r.y||0):(e===void 0&&(e=r),this.x=r||0,this.y=e||0)},clone:function(){return new o(this.x,this.y)},copy:function(s){return this.x=s.x||0,this.y=s.y||0,this},setFromObject:function(s){return this.x=s.x||0,this.y=s.y||0,this},set:function(s,r){return r===void 0&&(r=s),this.x=s,this.y=r,this},setTo:function(s,r){return this.set(s,r)},setToPolar:function(s,r){return r==null&&(r=1),this.x=Math.cos(s)*r,this.y=Math.sin(s)*r,this},equals:function(s){return this.x===s.x&&this.y===s.y},fuzzyEquals:function(s,r){return p(this.x,s.x,r)&&p(this.y,s.y,r)},angle:function(){var s=Math.atan2(this.y,this.x);return s<0&&(s+=2*Math.PI),s},setAngle:function(s){return this.setToPolar(s,this.length())},add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.x-=s.x,this.y-=s.y,this},multiply:function(s){return this.x*=s.x,this.y*=s.y,this},scale:function(s){return isFinite(s)?(this.x*=s,this.y*=s):(this.x=0,this.y=0),this},divide:function(s){return this.x/=s.x,this.y/=s.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(s){var r=s.x-this.x,e=s.y-this.y;return Math.sqrt(r*r+e*e)},distanceSq:function(s){var r=s.x-this.x,e=s.y-this.y;return r*r+e*e},length:function(){var s=this.x,r=this.y;return Math.sqrt(s*s+r*r)},setLength:function(s){return this.normalize().scale(s)},lengthSq:function(){var s=this.x,r=this.y;return s*s+r*r},normalize:function(){var s=this.x,r=this.y,e=s*s+r*r;return e>0&&(e=1/Math.sqrt(e),this.x=s*e,this.y=r*e),this},normalizeRightHand:function(){var s=this.x;return this.x=this.y*-1,this.y=s,this},normalizeLeftHand:function(){var s=this.x;return this.x=this.y,this.y=s*-1,this},dot:function(s){return this.x*s.x+this.y*s.y},cross:function(s){return this.x*s.y-this.y*s.x},lerp:function(s,r){r===void 0&&(r=0);var e=this.x,n=this.y;return this.x=e+r*(s.x-e),this.y=n+r*(s.y-n),this},transformMat3:function(s){var r=this.x,e=this.y,n=s.val;return this.x=n[0]*r+n[3]*e+n[6],this.y=n[1]*r+n[4]*e+n[7],this},transformMat4:function(s){var r=this.x,e=this.y,n=s.val;return this.x=n[0]*r+n[4]*e+n[12],this.y=n[1]*r+n[5]*e+n[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(s){var r=this.length();return r&&r>s&&this.scale(s/r),this},reflect:function(s){return s=s.clone().normalize(),this.subtract(s.scale(2*this.dot(s)))},mirror:function(s){return this.reflect(s).negate()},rotate:function(s){var r=Math.cos(s),e=Math.sin(s);return this.set(r*this.x-e*this.y,e*this.x+r*this.y)},project:function(s){var r=this.dot(s)/s.dot(s);return this.copy(s).scale(r)}});o.ZERO=new o,o.RIGHT=new o(1,0),o.LEFT=new o(-1,0),o.UP=new o(0,-1),o.DOWN=new o(0,1),o.ONE=new o(1,1),u.exports=o},25836:(u,m,t)=>{var a=t(83419),p=new a({initialize:function(s,r,e){this.x=0,this.y=0,this.z=0,typeof s=="object"?(this.x=s.x||0,this.y=s.y||0,this.z=s.z||0):(this.x=s||0,this.y=r||0,this.z=e||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(o){return this.x=Math.min(this.x,o.x),this.y=Math.min(this.y,o.y),this.z=Math.min(this.z,o.z),this},max:function(o){return this.x=Math.max(this.x,o.x),this.y=Math.max(this.y,o.y),this.z=Math.max(this.z,o.z),this},clone:function(){return new p(this.x,this.y,this.z)},addVectors:function(o,s){return this.x=o.x+s.x,this.y=o.y+s.y,this.z=o.z+s.z,this},subVectors:function(o,s){return this.x=o.x-s.x,this.y=o.y-s.y,this.z=o.z-s.z,this},crossVectors:function(o,s){var r=o.x,e=o.y,n=o.z,l=s.x,i=s.y,h=s.z;return this.x=e*h-n*i,this.y=n*l-r*h,this.z=r*i-e*l,this},equals:function(o){return this.x===o.x&&this.y===o.y&&this.z===o.z},copy:function(o){return this.x=o.x,this.y=o.y,this.z=o.z||0,this},set:function(o,s,r){return typeof o=="object"?(this.x=o.x||0,this.y=o.y||0,this.z=o.z||0):(this.x=o||0,this.y=s||0,this.z=r||0),this},setFromMatrixPosition:function(o){return this.fromArray(o.val,12)},setFromMatrixColumn:function(o,s){return this.fromArray(o.val,s*4)},fromArray:function(o,s){return s===void 0&&(s=0),this.x=o[s],this.y=o[s+1],this.z=o[s+2],this},add:function(o){return this.x+=o.x,this.y+=o.y,this.z+=o.z||0,this},addScalar:function(o){return this.x+=o,this.y+=o,this.z+=o,this},addScale:function(o,s){return this.x+=o.x*s,this.y+=o.y*s,this.z+=o.z*s||0,this},subtract:function(o){return this.x-=o.x,this.y-=o.y,this.z-=o.z||0,this},multiply:function(o){return this.x*=o.x,this.y*=o.y,this.z*=o.z||1,this},scale:function(o){return isFinite(o)?(this.x*=o,this.y*=o,this.z*=o):(this.x=0,this.y=0,this.z=0),this},divide:function(o){return this.x/=o.x,this.y/=o.y,this.z/=o.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(o){var s=o.x-this.x,r=o.y-this.y,e=o.z-this.z||0;return Math.sqrt(s*s+r*r+e*e)},distanceSq:function(o){var s=o.x-this.x,r=o.y-this.y,e=o.z-this.z||0;return s*s+r*r+e*e},length:function(){var o=this.x,s=this.y,r=this.z;return Math.sqrt(o*o+s*s+r*r)},lengthSq:function(){var o=this.x,s=this.y,r=this.z;return o*o+s*s+r*r},normalize:function(){var o=this.x,s=this.y,r=this.z,e=o*o+s*s+r*r;return e>0&&(e=1/Math.sqrt(e),this.x=o*e,this.y=s*e,this.z=r*e),this},dot:function(o){return this.x*o.x+this.y*o.y+this.z*o.z},cross:function(o){var s=this.x,r=this.y,e=this.z,n=o.x,l=o.y,i=o.z;return this.x=r*i-e*l,this.y=e*n-s*i,this.z=s*l-r*n,this},lerp:function(o,s){s===void 0&&(s=0);var r=this.x,e=this.y,n=this.z;return this.x=r+s*(o.x-r),this.y=e+s*(o.y-e),this.z=n+s*(o.z-n),this},applyMatrix3:function(o){var s=this.x,r=this.y,e=this.z,n=o.val;return this.x=n[0]*s+n[3]*r+n[6]*e,this.y=n[1]*s+n[4]*r+n[7]*e,this.z=n[2]*s+n[5]*r+n[8]*e,this},applyMatrix4:function(o){var s=this.x,r=this.y,e=this.z,n=o.val,l=1/(n[3]*s+n[7]*r+n[11]*e+n[15]);return this.x=(n[0]*s+n[4]*r+n[8]*e+n[12])*l,this.y=(n[1]*s+n[5]*r+n[9]*e+n[13])*l,this.z=(n[2]*s+n[6]*r+n[10]*e+n[14])*l,this},transformMat3:function(o){var s=this.x,r=this.y,e=this.z,n=o.val;return this.x=s*n[0]+r*n[3]+e*n[6],this.y=s*n[1]+r*n[4]+e*n[7],this.z=s*n[2]+r*n[5]+e*n[8],this},transformMat4:function(o){var s=this.x,r=this.y,e=this.z,n=o.val;return this.x=n[0]*s+n[4]*r+n[8]*e+n[12],this.y=n[1]*s+n[5]*r+n[9]*e+n[13],this.z=n[2]*s+n[6]*r+n[10]*e+n[14],this},transformCoordinates:function(o){var s=this.x,r=this.y,e=this.z,n=o.val,l=s*n[0]+r*n[4]+e*n[8]+n[12],i=s*n[1]+r*n[5]+e*n[9]+n[13],h=s*n[2]+r*n[6]+e*n[10]+n[14],f=s*n[3]+r*n[7]+e*n[11]+n[15];return this.x=l/f,this.y=i/f,this.z=h/f,this},transformQuat:function(o){var s=this.x,r=this.y,e=this.z,n=o.x,l=o.y,i=o.z,h=o.w,f=h*s+l*e-i*r,c=h*r+i*s-n*e,d=h*e+n*r-l*s,v=-n*s-l*r-i*e;return this.x=f*h+v*-n+c*-i-d*-l,this.y=c*h+v*-l+d*-n-f*-i,this.z=d*h+v*-i+f*-l-c*-n,this},project:function(o){var s=this.x,r=this.y,e=this.z,n=o.val,l=n[0],i=n[1],h=n[2],f=n[3],c=n[4],d=n[5],v=n[6],g=n[7],y=n[8],x=n[9],T=n[10],S=n[11],A=n[12],P=n[13],D=n[14],R=n[15],L=1/(s*f+r*g+e*S+R);return this.x=(s*l+r*c+e*y+A)*L,this.y=(s*i+r*d+e*x+P)*L,this.z=(s*h+r*v+e*T+D)*L,this},projectViewMatrix:function(o,s){return this.applyMatrix4(o).applyMatrix4(s)},unprojectViewMatrix:function(o,s){return this.applyMatrix4(o).applyMatrix4(s)},unproject:function(o,s){var r=o.x,e=o.y,n=o.z,l=o.w,i=this.x-r,h=l-this.y-1-e,f=this.z;return this.x=2*i/n-1,this.y=2*h/l-1,this.z=2*f-1,this.project(s)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});p.ZERO=new p,p.RIGHT=new p(1,0,0),p.LEFT=new p(-1,0,0),p.UP=new p(0,-1,0),p.DOWN=new p(0,1,0),p.FORWARD=new p(0,0,1),p.BACK=new p(0,0,-1),p.ONE=new p(1,1,1),u.exports=p},61369:(u,m,t)=>{var a=t(83419),p=new a({initialize:function(s,r,e,n){this.x=0,this.y=0,this.z=0,this.w=0,typeof s=="object"?(this.x=s.x||0,this.y=s.y||0,this.z=s.z||0,this.w=s.w||0):(this.x=s||0,this.y=r||0,this.z=e||0,this.w=n||0)},clone:function(){return new p(this.x,this.y,this.z,this.w)},copy:function(o){return this.x=o.x,this.y=o.y,this.z=o.z||0,this.w=o.w||0,this},equals:function(o){return this.x===o.x&&this.y===o.y&&this.z===o.z&&this.w===o.w},set:function(o,s,r,e){return typeof o=="object"?(this.x=o.x||0,this.y=o.y||0,this.z=o.z||0,this.w=o.w||0):(this.x=o||0,this.y=s||0,this.z=r||0,this.w=e||0),this},add:function(o){return this.x+=o.x,this.y+=o.y,this.z+=o.z||0,this.w+=o.w||0,this},subtract:function(o){return this.x-=o.x,this.y-=o.y,this.z-=o.z||0,this.w-=o.w||0,this},scale:function(o){return this.x*=o,this.y*=o,this.z*=o,this.w*=o,this},length:function(){var o=this.x,s=this.y,r=this.z,e=this.w;return Math.sqrt(o*o+s*s+r*r+e*e)},lengthSq:function(){var o=this.x,s=this.y,r=this.z,e=this.w;return o*o+s*s+r*r+e*e},normalize:function(){var o=this.x,s=this.y,r=this.z,e=this.w,n=o*o+s*s+r*r+e*e;return n>0&&(n=1/Math.sqrt(n),this.x=o*n,this.y=s*n,this.z=r*n,this.w=e*n),this},dot:function(o){return this.x*o.x+this.y*o.y+this.z*o.z+this.w*o.w},lerp:function(o,s){s===void 0&&(s=0);var r=this.x,e=this.y,n=this.z,l=this.w;return this.x=r+s*(o.x-r),this.y=e+s*(o.y-e),this.z=n+s*(o.z-n),this.w=l+s*(o.w-l),this},multiply:function(o){return this.x*=o.x,this.y*=o.y,this.z*=o.z||1,this.w*=o.w||1,this},divide:function(o){return this.x/=o.x,this.y/=o.y,this.z/=o.z||1,this.w/=o.w||1,this},distance:function(o){var s=o.x-this.x,r=o.y-this.y,e=o.z-this.z||0,n=o.w-this.w||0;return Math.sqrt(s*s+r*r+e*e+n*n)},distanceSq:function(o){var s=o.x-this.x,r=o.y-this.y,e=o.z-this.z||0,n=o.w-this.w||0;return s*s+r*r+e*e+n*n},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(o){var s=this.x,r=this.y,e=this.z,n=this.w,l=o.val;return this.x=l[0]*s+l[4]*r+l[8]*e+l[12]*n,this.y=l[1]*s+l[5]*r+l[9]*e+l[13]*n,this.z=l[2]*s+l[6]*r+l[10]*e+l[14]*n,this.w=l[3]*s+l[7]*r+l[11]*e+l[15]*n,this},transformQuat:function(o){var s=this.x,r=this.y,e=this.z,n=o.x,l=o.y,i=o.z,h=o.w,f=h*s+l*e-i*r,c=h*r+i*s-n*e,d=h*e+n*r-l*s,v=-n*s-l*r-i*e;return this.x=f*h+v*-n+c*-i-d*-l,this.y=c*h+v*-l+d*-n-f*-i,this.z=d*h+v*-i+f*-l-c*-n,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});p.prototype.sub=p.prototype.subtract,p.prototype.mul=p.prototype.multiply,p.prototype.div=p.prototype.divide,p.prototype.dist=p.prototype.distance,p.prototype.distSq=p.prototype.distanceSq,p.prototype.len=p.prototype.length,p.prototype.lenSq=p.prototype.lengthSq,u.exports=p},60417:u=>{var m=function(t,a,p){return Math.abs(t-a)<=p};u.exports=m},15994:u=>{var m=function(t,a,p){var o=p-a;return a+((t-a)%o+o)%o};u.exports=m},31040:u=>{var m=function(t,a,p,o){return Math.atan2(o-a,p-t)};u.exports=m},55495:u=>{var m=function(t,a){return Math.atan2(a.y-t.y,a.x-t.x)};u.exports=m},128:u=>{var m=function(t,a){return Math.atan2(a.x-t.x,a.y-t.y)};u.exports=m},41273:u=>{var m=function(t,a,p,o){return Math.atan2(p-t,o-a)};u.exports=m},1432:(u,m,t)=>{var a=t(36383),p=function(o){return o>Math.PI&&(o-=a.PI2),Math.abs(((o+a.TAU)%a.PI2-a.PI2)%a.PI2)};u.exports=p},49127:(u,m,t)=>{var a=t(12407),p=function(o,s){return a(s-o)};u.exports=p},52285:(u,m,t)=>{var a=t(12407),p=2*Math.PI,o=function(s,r){var e=a(r-s);return e>0&&(e-=p),e};u.exports=o},67317:(u,m,t)=>{var a=t(86554),p=function(o,s){return a(s-o)};u.exports=p},12407:u=>{var m=function(t){return t=t%(2*Math.PI),t>=0?t:t+2*Math.PI};u.exports=m},53993:(u,m,t)=>{var a=t(99472),p=function(){return a(-Math.PI,Math.PI)};u.exports=p},86564:(u,m,t)=>{var a=t(99472),p=function(){return a(-180,180)};u.exports=p},90154:(u,m,t)=>{var a=t(12407),p=function(o){return a(o+Math.PI)};u.exports=p},48736:(u,m,t)=>{var a=t(36383),p=function(o,s,r){return r===void 0&&(r=.05),o===s||(Math.abs(s-o)<=r||Math.abs(s-o)>=a.PI2-r?o=s:(Math.abs(s-o)>Math.PI&&(s<o?s+=a.PI2:s-=a.PI2),s>o?o+=r:s<o&&(o-=r))),o};u.exports=p},61430:u=>{var m=function(t,a){var p=a-t;if(p===0)return 0;var o=Math.floor((p- -180)/360);return p-o*360};u.exports=m},86554:(u,m,t)=>{var a=t(15994),p=function(o){return a(o,-Math.PI,Math.PI)};u.exports=p},30954:(u,m,t)=>{var a=t(15994),p=function(o){return a(o,-180,180)};u.exports=p},25588:(u,m,t)=>{u.exports={Between:t(31040),BetweenPoints:t(55495),BetweenPointsY:t(128),BetweenY:t(41273),CounterClockwise:t(1432),GetClockwiseDistance:t(49127),GetCounterClockwiseDistance:t(52285),GetShortestDistance:t(67317),Normalize:t(12407),Random:t(53993),RandomDegrees:t(86564),Reverse:t(90154),RotateTo:t(48736),ShortestBetween:t(61430),Wrap:t(86554),WrapDegrees:t(30954)}},36383:u=>{var m={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};u.exports=m},20339:u=>{var m=function(t,a,p,o){var s=t-p,r=a-o;return Math.sqrt(s*s+r*r)};u.exports=m},52816:u=>{var m=function(t,a){var p=t.x-a.x,o=t.y-a.y;return Math.sqrt(p*p+o*o)};u.exports=m},64559:u=>{var m=function(t,a){var p=t.x-a.x,o=t.y-a.y;return p*p+o*o};u.exports=m},82340:u=>{var m=function(t,a,p,o){return Math.max(Math.abs(t-p),Math.abs(a-o))};u.exports=m},14390:u=>{var m=function(t,a,p,o,s){return s===void 0&&(s=2),Math.sqrt(Math.pow(p-t,s)+Math.pow(o-a,s))};u.exports=m},2243:u=>{var m=function(t,a,p,o){return Math.abs(t-p)+Math.abs(a-o)};u.exports=m},89774:u=>{var m=function(t,a,p,o){var s=t-p,r=a-o;return s*s+r*r};u.exports=m},50994:(u,m,t)=>{u.exports={Between:t(20339),BetweenPoints:t(52816),BetweenPointsSquared:t(64559),Chebyshev:t(82340),Power:t(14390),Snake:t(2243),Squared:t(89774)}},62640:(u,m,t)=>{var a=t(54178),p=t(41521),o=t(79980),s=t(85433),r=t(99140),e=t(48857),n=t(81596),l=t(59133),i=t(98516),h=t(35248),f=t(82500),c=t(49752);u.exports={Power0:n,Power1:l.Out,Power2:s.Out,Power3:i.Out,Power4:h.Out,Linear:n,Quad:l.Out,Cubic:s.Out,Quart:i.Out,Quint:h.Out,Sine:f.Out,Expo:e.Out,Circ:o.Out,Elastic:r.Out,Back:a.Out,Bounce:p.Out,Stepped:c,"Quad.easeIn":l.In,"Cubic.easeIn":s.In,"Quart.easeIn":i.In,"Quint.easeIn":h.In,"Sine.easeIn":f.In,"Expo.easeIn":e.In,"Circ.easeIn":o.In,"Elastic.easeIn":r.In,"Back.easeIn":a.In,"Bounce.easeIn":p.In,"Quad.easeOut":l.Out,"Cubic.easeOut":s.Out,"Quart.easeOut":i.Out,"Quint.easeOut":h.Out,"Sine.easeOut":f.Out,"Expo.easeOut":e.Out,"Circ.easeOut":o.Out,"Elastic.easeOut":r.Out,"Back.easeOut":a.Out,"Bounce.easeOut":p.Out,"Quad.easeInOut":l.InOut,"Cubic.easeInOut":s.InOut,"Quart.easeInOut":i.InOut,"Quint.easeInOut":h.InOut,"Sine.easeInOut":f.InOut,"Expo.easeInOut":e.InOut,"Circ.easeInOut":o.InOut,"Elastic.easeInOut":r.InOut,"Back.easeInOut":a.InOut,"Bounce.easeInOut":p.InOut}},1639:u=>{var m=function(t,a){return a===void 0&&(a=1.70158),t*t*((a+1)*t-a)};u.exports=m},50099:u=>{var m=function(t,a){a===void 0&&(a=1.70158);var p=a*1.525;return(t*=2)<1?.5*(t*t*((p+1)*t-p)):.5*((t-=2)*t*((p+1)*t+p)+2)};u.exports=m},41286:u=>{var m=function(t,a){return a===void 0&&(a=1.70158),--t*t*((a+1)*t+a)+1};u.exports=m},54178:(u,m,t)=>{u.exports={In:t(1639),Out:t(41286),InOut:t(50099)}},59590:u=>{var m=function(t){return t=1-t,t<.36363636363636365?1-7.5625*t*t:t<.7272727272727273?1-(7.5625*(t-=.5454545454545454)*t+.75):t<.9090909090909091?1-(7.5625*(t-=.8181818181818182)*t+.9375):1-(7.5625*(t-=.9545454545454546)*t+.984375)};u.exports=m},41788:u=>{var m=function(t){var a=!1;return t<.5?(t=1-t*2,a=!0):t=t*2-1,t<.36363636363636365?t=7.5625*t*t:t<.7272727272727273?t=7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?t=7.5625*(t-=.8181818181818182)*t+.9375:t=7.5625*(t-=.9545454545454546)*t+.984375,a?(1-t)*.5:t*.5+.5};u.exports=m},69905:u=>{var m=function(t){return t<.36363636363636365?7.5625*t*t:t<.7272727272727273?7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?7.5625*(t-=.8181818181818182)*t+.9375:7.5625*(t-=.9545454545454546)*t+.984375};u.exports=m},41521:(u,m,t)=>{u.exports={In:t(59590),Out:t(69905),InOut:t(41788)}},91861:u=>{var m=function(t){return 1-Math.sqrt(1-t*t)};u.exports=m},4177:u=>{var m=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)};u.exports=m},57512:u=>{var m=function(t){return Math.sqrt(1- --t*t)};u.exports=m},79980:(u,m,t)=>{u.exports={In:t(91861),Out:t(57512),InOut:t(4177)}},51150:u=>{var m=function(t){return t*t*t};u.exports=m},82820:u=>{var m=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)};u.exports=m},35033:u=>{var m=function(t){return--t*t*t+1};u.exports=m},85433:(u,m,t)=>{u.exports={In:t(51150),Out:t(35033),InOut:t(82820)}},69965:u=>{var m=function(t,a,p){if(a===void 0&&(a=.1),p===void 0&&(p=.1),t===0)return 0;if(t===1)return 1;var o=p/4;return a<1?a=1:o=p*Math.asin(1/a)/(2*Math.PI),-(a*Math.pow(2,10*(t-=1))*Math.sin((t-o)*(2*Math.PI)/p))};u.exports=m},50665:u=>{var m=function(t,a,p){if(a===void 0&&(a=.1),p===void 0&&(p=.1),t===0)return 0;if(t===1)return 1;var o=p/4;return a<1?a=1:o=p*Math.asin(1/a)/(2*Math.PI),(t*=2)<1?-.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t-o)*(2*Math.PI)/p)):a*Math.pow(2,-10*(t-=1))*Math.sin((t-o)*(2*Math.PI)/p)*.5+1};u.exports=m},7744:u=>{var m=function(t,a,p){if(a===void 0&&(a=.1),p===void 0&&(p=.1),t===0)return 0;if(t===1)return 1;var o=p/4;return a<1?a=1:o=p*Math.asin(1/a)/(2*Math.PI),a*Math.pow(2,-10*t)*Math.sin((t-o)*(2*Math.PI)/p)+1};u.exports=m},99140:(u,m,t)=>{u.exports={In:t(69965),Out:t(7744),InOut:t(50665)}},24590:u=>{var m=function(t){return Math.pow(2,10*(t-1))-.001};u.exports=m},87844:u=>{var m=function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))};u.exports=m},89433:u=>{var m=function(t){return 1-Math.pow(2,-10*t)};u.exports=m},48857:(u,m,t)=>{u.exports={In:t(24590),Out:t(89433),InOut:t(87844)}},48820:(u,m,t)=>{u.exports={Back:t(54178),Bounce:t(41521),Circular:t(79980),Cubic:t(85433),Elastic:t(99140),Expo:t(48857),Linear:t(81596),Quadratic:t(59133),Quartic:t(98516),Quintic:t(35248),Sine:t(82500),Stepped:t(49752)}},7147:u=>{var m=function(t){return t};u.exports=m},81596:(u,m,t)=>{u.exports=t(7147)},34826:u=>{var m=function(t){return t*t};u.exports=m},20544:u=>{var m=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)};u.exports=m},92029:u=>{var m=function(t){return t*(2-t)};u.exports=m},59133:(u,m,t)=>{u.exports={In:t(34826),Out:t(92029),InOut:t(20544)}},64413:u=>{var m=function(t){return t*t*t*t};u.exports=m},78137:u=>{var m=function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)};u.exports=m},45840:u=>{var m=function(t){return 1- --t*t*t*t};u.exports=m},98516:(u,m,t)=>{u.exports={In:t(64413),Out:t(45840),InOut:t(78137)}},87745:u=>{var m=function(t){return t*t*t*t*t};u.exports=m},16509:u=>{var m=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)};u.exports=m},17868:u=>{var m=function(t){return--t*t*t*t*t+1};u.exports=m},35248:(u,m,t)=>{u.exports={In:t(87745),Out:t(17868),InOut:t(16509)}},80461:u=>{var m=function(t){return t===0?0:t===1?1:1-Math.cos(t*Math.PI/2)};u.exports=m},34025:u=>{var m=function(t){return t===0?0:t===1?1:.5*(1-Math.cos(Math.PI*t))};u.exports=m},52768:u=>{var m=function(t){return t===0?0:t===1?1:Math.sin(t*Math.PI/2)};u.exports=m},82500:(u,m,t)=>{u.exports={In:t(80461),Out:t(52768),InOut:t(34025)}},72251:u=>{var m=function(t,a){return a===void 0&&(a=1),t<=0?0:t>=1?1:((a*t|0)+1)*(1/a)};u.exports=m},49752:(u,m,t)=>{u.exports=t(72251)},75698:u=>{var m=function(t,a){return a===void 0&&(a=1e-4),Math.ceil(t-a)};u.exports=m},43855:u=>{var m=function(t,a,p){return p===void 0&&(p=1e-4),Math.abs(t-a)<p};u.exports=m},25777:u=>{var m=function(t,a){return a===void 0&&(a=1e-4),Math.floor(t+a)};u.exports=m},5470:u=>{var m=function(t,a,p){return p===void 0&&(p=1e-4),t>a-p};u.exports=m},94977:u=>{var m=function(t,a,p){return p===void 0&&(p=1e-4),t<a+p};u.exports=m},48379:(u,m,t)=>{u.exports={Ceil:t(75698),Equal:t(43855),Floor:t(25777),GreaterThan:t(5470),LessThan:t(94977)}},75508:(u,m,t)=>{var a=t(36383),p=t(79291),o={Angle:t(25588),Distance:t(50994),Easing:t(48820),Fuzzy:t(48379),Interpolation:t(38289),Pow2:t(49001),Snap:t(73697),RandomDataGenerator:t(28453),Average:t(53307),Bernstein:t(85710),Between:t(30976),CatmullRom:t(87842),CeilTo:t(26302),Clamp:t(45319),DegToRad:t(39506),Difference:t(61241),Euler:t(38857),Factorial:t(6411),FloatBetween:t(99472),FloorTo:t(77623),FromPercent:t(62945),GetSpeed:t(38265),IsEven:t(78702),IsEvenStrict:t(94883),Linear:t(28915),LinearXY:t(94908),MaxAdd:t(86883),Median:t(50040),MinSub:t(37204),Percent:t(65201),RadToDeg:t(43396),RandomXY:t(74362),RandomXYZ:t(60706),RandomXYZW:t(67421),Rotate:t(36305),RotateAround:t(11520),RotateAroundDistance:t(1163),RotateTo:t(70336),RoundAwayFromZero:t(2284),RoundTo:t(41013),SinCosTableGenerator:t(16922),SmootherStep:t(54261),SmoothStep:t(7602),ToXY:t(44408),TransformXY:t(85955),Within:t(60417),Wrap:t(15994),Vector2:t(26099),Vector3:t(25836),Vector4:t(61369),Matrix3:t(94434),Matrix4:t(37867),Quaternion:t(15746),RotateVec3:t(72678)};o=p(!1,o,a),u.exports=o},89318:(u,m,t)=>{var a=t(85710),p=function(o,s){for(var r=0,e=o.length-1,n=0;n<=e;n++)r+=Math.pow(1-s,e-n)*Math.pow(s,n)*o[n]*a(e,n);return r};u.exports=p},77259:(u,m,t)=>{var a=t(87842),p=function(o,s){var r=o.length-1,e=r*s,n=Math.floor(e);return o[0]===o[r]?(s<0&&(n=Math.floor(e=r*(1+s))),a(e-n,o[(n-1+r)%r],o[n],o[(n+1)%r],o[(n+2)%r])):s<0?o[0]-(a(-e,o[0],o[0],o[1],o[1])-o[0]):s>1?o[r]-(a(e-r,o[r],o[r],o[r-1],o[r-1])-o[r]):a(e-n,o[n?n-1:0],o[n],o[r<n+1?r:n+1],o[r<n+2?r:n+2])};u.exports=p},36316:u=>{function m(s,r){var e=1-s;return e*e*e*r}function t(s,r){var e=1-s;return 3*e*e*s*r}function a(s,r){return 3*(1-s)*s*s*r}function p(s,r){return s*s*s*r}var o=function(s,r,e,n,l){return m(s,r)+t(s,e)+a(s,n)+p(s,l)};u.exports=o},28392:(u,m,t)=>{var a=t(28915),p=function(o,s){var r=o.length-1,e=r*s,n=Math.floor(e);return s<0?a(o[0],o[1],e):s>1?a(o[r],o[r-1],r-e):a(o[n],o[n+1>r?r:n+1],e-n)};u.exports=p},32112:u=>{function m(o,s){var r=1-o;return r*r*s}function t(o,s){return 2*(1-o)*o*s}function a(o,s){return o*o*s}var p=function(o,s,r,e){return m(o,s)+t(o,r)+a(o,e)};u.exports=p},47235:(u,m,t)=>{var a=t(7602),p=function(o,s,r){return s+(r-s)*a(o,0,1)};u.exports=p},50178:(u,m,t)=>{var a=t(54261),p=function(o,s,r){return s+(r-s)*a(o,0,1)};u.exports=p},38289:(u,m,t)=>{u.exports={Bezier:t(89318),CatmullRom:t(77259),CubicBezier:t(36316),Linear:t(28392),QuadraticBezier:t(32112),SmoothStep:t(47235),SmootherStep:t(50178)}},98439:u=>{var m=function(t){var a=Math.log(t)/.6931471805599453;return 1<<Math.ceil(a)};u.exports=m},50030:u=>{var m=function(t,a){return t>0&&(t&t-1)===0&&a>0&&(a&a-1)===0};u.exports=m},81230:u=>{var m=function(t){return t>0&&(t&t-1)===0};u.exports=m},49001:(u,m,t)=>{u.exports={GetNext:t(98439),IsSize:t(50030),IsValue:t(81230)}},28453:(u,m,t)=>{var a=t(83419),p=new a({initialize:function(s){s===void 0&&(s=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],s&&this.init(s)},rnd:function(){var o=2091639*this.s0+this.c*23283064365386963e-26;return this.c=o|0,this.s0=this.s1,this.s1=this.s2,this.s2=o-this.c,this.s2},hash:function(o){var s,r=this.n;o=o.toString();for(var e=0;e<o.length;e++)r+=o.charCodeAt(e),s=.02519603282416938*r,r=s>>>0,s-=r,s*=r,r=s>>>0,s-=r,r+=s*4294967296;return this.n=r,(r>>>0)*23283064365386963e-26},init:function(o){typeof o=="string"?this.state(o):this.sow(o)},sow:function(o){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!o)for(var s=0;s<o.length&&o[s]!=null;s++){var r=o[s];this.s0-=this.hash(r),this.s0+=~~(this.s0<0),this.s1-=this.hash(r),this.s1+=~~(this.s1<0),this.s2-=this.hash(r),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(o,s){return Math.floor(this.realInRange(0,s-o+1)+o)},between:function(o,s){return Math.floor(this.realInRange(0,s-o+1)+o)},realInRange:function(o,s){return this.frac()*(s-o)+o},normal:function(){return 1-2*this.frac()},uuid:function(){var o="",s="";for(s=o="";o++<36;s+=~o%5|o*3&4?(o^15?8^this.frac()*(o^20?16:4):4).toString(16):"-");return s},pick:function(o){return o[this.integerInRange(0,o.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(o){return o[~~(Math.pow(this.frac(),2)*(o.length-.5)+.5)]},timestamp:function(o,s){return this.realInRange(o||9466848e5,s||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(o){return typeof o=="string"&&o.match(/^!rnd/)&&(o=o.split(","),this.c=parseFloat(o[1]),this.s0=parseFloat(o[2]),this.s1=parseFloat(o[3]),this.s2=parseFloat(o[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(o){for(var s=o.length-1,r=s;r>0;r--){var e=Math.floor(this.frac()*(r+1)),n=o[e];o[e]=o[r],o[r]=n}return o}});u.exports=p},63448:u=>{var m=function(t,a,p,o){return p===void 0&&(p=0),a===0?t:(t-=p,t=a*Math.ceil(t/a),o?(p+t)/a:p+t)};u.exports=m},56583:u=>{var m=function(t,a,p,o){return p===void 0&&(p=0),a===0?t:(t-=p,t=a*Math.floor(t/a),o?(p+t)/a:p+t)};u.exports=m},77720:u=>{var m=function(t,a,p,o){return p===void 0&&(p=0),a===0?t:(t-=p,t=a*Math.round(t/a),o?(p+t)/a:p+t)};u.exports=m},73697:(u,m,t)=>{u.exports={Ceil:t(63448),Floor:t(56583),To:t(77720)}},85454:(u,m,t)=>{t(63595);var a=t(8054),p=t(79291),o={Actions:t(61061),Animations:t(60421),BlendModes:t(10312),Cache:t(83388),Cameras:t(26638),Core:t(42857),Class:t(83419),Create:t(15822),Curves:t(25410),Data:t(44965),Display:t(27460),DOM:t(84902),Events:t(93055),FX:t(66064),Game:t(50127),GameObjects:t(77856),Geom:t(55738),Input:t(14350),Loader:t(57777),Math:t(75508),Physics:t(44563),Plugins:t(18922),Renderer:t(36909),Scale:t(93364),ScaleModes:t(29795),Scene:t(97482),Scenes:t(62194),Structs:t(41392),Textures:t(27458),Tilemaps:t(62501),Time:t(90291),Tweens:t(43066),Utils:t(91799)};o.Sound=t(23717),o=p(!1,o,a),u.exports=o,t.g.Phaser=o},71289:(u,m,t)=>{var a=t(83419),p=t(92209),o=t(88571),s=new a({Extends:o,Mixins:[p.Acceleration,p.Angular,p.Bounce,p.Collision,p.Debug,p.Drag,p.Enable,p.Friction,p.Gravity,p.Immovable,p.Mass,p.Pushable,p.Size,p.Velocity],initialize:function(e,n,l,i,h){o.call(this,e,n,l,i,h),this.body=null}});u.exports=s},86689:(u,m,t)=>{var a=t(83419),p=t(39506),o=t(20339),s=t(89774),r=t(66022),e=t(95540),n=t(46975),l=t(72441),i=t(47956),h=t(37277),f=t(44594),c=t(26099),d=t(82248),v=new a({initialize:function(y){this.scene=y,this.systems=y.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,y.sys.events.once(f.BOOT,this.boot,this),y.sys.events.on(f.START,this.start,this)},boot:function(){this.world=new d(this.scene,this.config),this.add=new r(this.world),this.systems.events.once(f.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new d(this.scene,this.config),this.add=new r(this.world));var g=this.systems.events;e(this.config,"customUpdate",!1)||g.on(f.UPDATE,this.world.update,this.world),g.on(f.POST_UPDATE,this.world.postUpdate,this.world),g.once(f.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(f.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(f.UPDATE,this.world.update,this.world)},getConfig:function(){var g=this.systems.game.config.physics,y=this.systems.settings.physics,x=n(e(y,"arcade",{}),e(g,"arcade",{}));return x},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(g,y,x,T,S){return x===void 0&&(x=null),T===void 0&&(T=null),S===void 0&&(S=x),this.world.collideObjects(g,y,x,T,S,!0)},collide:function(g,y,x,T,S){return x===void 0&&(x=null),T===void 0&&(T=null),S===void 0&&(S=x),this.world.collideObjects(g,y,x,T,S,!1)},collideTiles:function(g,y,x,T,S){return this.world.collideTiles(g,y,x,T,S)},overlapTiles:function(g,y,x,T,S){return this.world.overlapTiles(g,y,x,T,S)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(g,y,x,T,S,A){T===void 0&&(T=60);var P=Math.atan2(x-g.y,y-g.x);return g.body.acceleration.setToPolar(P,T),S!==void 0&&A!==void 0&&g.body.maxVelocity.set(S,A),P},accelerateToObject:function(g,y,x,T,S){return this.accelerateTo(g,y.x,y.y,x,T,S)},closest:function(g,y){y||(y=this.world.bodies.entries);for(var x=Number.MAX_VALUE,T=null,S=g.x,A=g.y,P=y.length,D=0;D<P;D++){var R=y[D],L=R.body||R;if(!(g===R||g===L||g===L.gameObject||g===L.center)){var I=s(S,A,L.center.x,L.center.y);I<x&&(T=R,x=I)}}return T},furthest:function(g,y){y||(y=this.world.bodies.entries);for(var x=-1,T=null,S=g.x,A=g.y,P=y.length,D=0;D<P;D++){var R=y[D],L=R.body||R;if(!(g===R||g===L||g===L.gameObject||g===L.center)){var I=s(S,A,L.center.x,L.center.y);I>x&&(T=R,x=I)}}return T},moveTo:function(g,y,x,T,S){T===void 0&&(T=60),S===void 0&&(S=0);var A=Math.atan2(x-g.y,y-g.x);return S>0&&(T=o(g.x,g.y,y,x)/(S/1e3)),g.body.velocity.setToPolar(A,T),A},moveToObject:function(g,y,x,T){return this.moveTo(g,y.x,y.y,x,T)},velocityFromAngle:function(g,y,x){return y===void 0&&(y=60),x===void 0&&(x=new c),x.setToPolar(p(g),y)},velocityFromRotation:function(g,y,x){return y===void 0&&(y=60),x===void 0&&(x=new c),x.setToPolar(g,y)},overlapRect:function(g,y,x,T,S,A){return i(this.world,g,y,x,T,S,A)},overlapCirc:function(g,y,x,T,S){return l(this.world,g,y,x,T,S)},shutdown:function(){if(this.world){var g=this.systems.events;g.off(f.UPDATE,this.world.update,this.world),g.off(f.POST_UPDATE,this.world.postUpdate,this.world),g.off(f.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(f.START,this.start,this),this.scene=null,this.systems=null}});h.register("ArcadePhysics",v,"arcadePhysics"),u.exports=v},13759:(u,m,t)=>{var a=t(83419),p=t(92209),o=t(68287),s=new a({Extends:o,Mixins:[p.Acceleration,p.Angular,p.Bounce,p.Collision,p.Debug,p.Drag,p.Enable,p.Friction,p.Gravity,p.Immovable,p.Mass,p.Pushable,p.Size,p.Velocity],initialize:function(e,n,l,i,h){o.call(this,e,n,l,i,h),this.body=null}});u.exports=s},37742:(u,m,t)=>{var a=t(83419),p=t(78389),o=t(37747),s=t(63012),r=t(43396),e=t(87841),n=t(37303),l=t(95829),i=t(26099),h=new a({Mixins:[p],initialize:function(c,d){var v=64,g=64,y={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},x=d!==void 0;x&&d.displayWidth&&(v=d.displayWidth,g=d.displayHeight),x||(d=y),this.world=c,this.gameObject=x?d:void 0,this.isBody=!0,this.transform={x:d.x,y:d.y,rotation:d.angle,scaleX:d.scaleX,scaleY:d.scaleY,displayOriginX:d.displayOriginX,displayOriginY:d.displayOriginY},this.debugShowBody=c.defaults.debugShowBody,this.debugShowVelocity=c.defaults.debugShowVelocity,this.debugBodyColor=c.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new i,this.position=new i(d.x-d.scaleX*d.displayOriginX,d.y-d.scaleY*d.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=d.angle,this.preRotation=d.angle,this.width=v,this.height=g,this.sourceWidth=v,this.sourceHeight=g,d.frame&&(this.sourceWidth=d.frame.realWidth,this.sourceHeight=d.frame.realHeight),this.halfWidth=Math.abs(v/2),this.halfHeight=Math.abs(g/2),this.center=new i(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new i,this.newVelocity=new i,this.deltaMax=new i,this.acceleration=new i,this.allowDrag=!0,this.drag=new i,this.allowGravity=!0,this.gravity=new i,this.bounce=new i,this.worldBounce=null,this.customBoundsRectangle=c.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new i(1e4,1e4),this.maxSpeed=-1,this.friction=new i(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=o.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new i(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=l(!1),this.touching=l(!0),this.wasTouching=l(!0),this.blocked=l(!0),this.syncBounds=!1,this.physicsType=o.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=d.scaleX,this._sy=d.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new e,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var f=this.gameObject,c=this.transform;if(f.parentContainer){var d=f.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);c.x=d.tx,c.y=d.ty,c.rotation=r(d.rotation),c.scaleX=d.scaleX,c.scaleY=d.scaleY,c.displayOriginX=f.displayOriginX,c.displayOriginY=f.displayOriginY}else c.x=f.x,c.y=f.y,c.rotation=f.angle,c.scaleX=f.scaleX,c.scaleY=f.scaleY,c.displayOriginX=f.displayOriginX,c.displayOriginY=f.displayOriginY;var v=!1;if(this.syncBounds){var g=f.getBounds(this._bounds);this.width=g.width,this.height=g.height,v=!0}else{var y=Math.abs(c.scaleX),x=Math.abs(c.scaleY);(this._sx!==y||this._sy!==x)&&(this.width=this.sourceWidth*y,this.height=this.sourceHeight*x,this._sx=y,this._sy=x,v=!0)}v&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var f=this.transform;this.position.x=f.x+f.scaleX*(this.offset.x-f.displayOriginX),this.position.y=f.y+f.scaleY*(this.offset.y-f.displayOriginY),this.updateCenter()},resetFlags:function(f){f===void 0&&(f=!1);var c=this.wasTouching,d=this.touching,v=this.blocked;f?l(!0,c):(c.none=d.none,c.up=d.up,c.down=d.down,c.left=d.left,c.right=d.right),l(!0,d),l(!0,v),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(f,c){if(f&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var d=this.position;this.prev.x=d.x,this.prev.y=d.y,this.prevFrame.x=d.x,this.prevFrame.y=d.y}f&&this.update(c)},update:function(f){var c=this.prev,d=this.position,v=this.velocity;if(c.set(d.x,d.y),!this.moves){this._dx=d.x-c.x,this._dy=d.y-c.y;return}if(this.directControl){var g=this.autoFrame;v.set((d.x-g.x)/f,(d.y-g.y)/f),this.world.updateMotion(this,f),this._dx=d.x-g.x,this._dy=d.y-g.y}else this.world.updateMotion(this,f),this.newVelocity.set(v.x*f,v.y*f),d.add(this.newVelocity),this._dx=d.x-c.x,this._dy=d.y-c.y;var y=v.x,x=v.y;if(this.updateCenter(),this.angle=Math.atan2(x,y),this.speed=Math.sqrt(y*y+x*x),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var T=this.blocked;this.world.emit(s.WORLD_BOUNDS,this,T.up,T.down,T.left,T.right)}},postUpdate:function(){var f=this.position,c=f.x-this.prevFrame.x,d=f.y-this.prevFrame.y,v=this.gameObject;if(this.moves){var g=this.deltaMax.x,y=this.deltaMax.y;g!==0&&c!==0&&(c<0&&c<-g?c=-g:c>0&&c>g&&(c=g)),y!==0&&d!==0&&(d<0&&d<-y?d=-y:d>0&&d>y&&(d=y)),v&&(v.x+=c,v.y+=d)}c<0?this.facing=o.FACING_LEFT:c>0&&(this.facing=o.FACING_RIGHT),d<0?this.facing=o.FACING_UP:d>0&&(this.facing=o.FACING_DOWN),this.allowRotation&&v&&(v.angle+=this.deltaZ()),this._tx=c,this._ty=d,this.autoFrame.set(f.x,f.y)},setBoundsRectangle:function(f){return this.customBoundsRectangle=f||this.world.bounds,this},checkWorldBounds:function(){var f=this.position,c=this.velocity,d=this.blocked,v=this.customBoundsRectangle,g=this.world.checkCollision,y=this.worldBounce?-this.worldBounce.x:-this.bounce.x,x=this.worldBounce?-this.worldBounce.y:-this.bounce.y,T=!1;return f.x<v.x&&g.left?(f.x=v.x,c.x*=y,d.left=!0,T=!0):this.right>v.right&&g.right&&(f.x=v.right-this.width,c.x*=y,d.right=!0,T=!0),f.y<v.y&&g.up?(f.y=v.y,c.y*=x,d.up=!0,T=!0):this.bottom>v.bottom&&g.down&&(f.y=v.bottom-this.height,c.y*=x,d.down=!0,T=!0),T&&(this.blocked.none=!1,this.updateCenter()),T},setOffset:function(f,c){return c===void 0&&(c=f),this.offset.set(f,c),this},setGameObject:function(f,c){if(c===void 0&&(c=!0),!f||!f.hasTransformComponent)return this;var d=this.world;return this.gameObject&&this.gameObject.body&&(d.disable(this.gameObject),this.gameObject.body=null),f.body&&d.disable(f),this.gameObject=f,f.body=this,this.setSize(),this.enable=c,this},setSize:function(f,c,d){d===void 0&&(d=!0);var v=this.gameObject;if(v&&(!f&&v.frame&&(f=v.frame.realWidth),!c&&v.frame&&(c=v.frame.realHeight)),this.sourceWidth=f,this.sourceHeight=c,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),d&&v&&v.getCenter){var g=(v.width-f)/2,y=(v.height-c)/2;this.offset.set(g,y)}return this.isCircle=!1,this.radius=0,this},setCircle:function(f,c,d){return c===void 0&&(c=this.offset.x),d===void 0&&(d=this.offset.y),f>0?(this.isCircle=!0,this.radius=f,this.sourceWidth=f*2,this.sourceHeight=f*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(c,d),this.updateCenter()):this.isCircle=!1,this},reset:function(f,c){this.stop();var d=this.gameObject;d&&(d.setPosition(f,c),this.rotation=d.angle,this.preRotation=d.angle);var v=this.position;d&&d.getTopLeft?d.getTopLeft(v):v.set(f,c),this.prev.copy(v),this.prevFrame.copy(v),this.autoFrame.copy(v),d&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(f){return f.x=this.x,f.y=this.y,f.right=this.right,f.bottom=this.bottom,f},hitTest:function(f,c){if(!this.isCircle)return n(this,f,c);if(this.radius>0&&f>=this.left&&f<=this.right&&c>=this.top&&c<=this.bottom){var d=(this.center.x-f)*(this.center.x-f),v=(this.center.y-c)*(this.center.y-c);return d+v<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(f){var c=this.position,d=c.x+this.halfWidth,v=c.y+this.halfHeight;this.debugShowBody&&(f.lineStyle(f.defaultStrokeWidth,this.debugBodyColor),this.isCircle?f.strokeCircle(d,v,this.width/2):(this.checkCollision.up&&f.lineBetween(c.x,c.y,c.x+this.width,c.y),this.checkCollision.right&&f.lineBetween(c.x+this.width,c.y,c.x+this.width,c.y+this.height),this.checkCollision.down&&f.lineBetween(c.x,c.y+this.height,c.x+this.width,c.y+this.height),this.checkCollision.left&&f.lineBetween(c.x,c.y,c.x,c.y+this.height))),this.debugShowVelocity&&(f.lineStyle(f.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),f.lineBetween(d,v,d+this.velocity.x/2,v+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(f){return f===void 0&&(f=!0),this.directControl=f,this},setCollideWorldBounds:function(f,c,d,v){f===void 0&&(f=!0),this.collideWorldBounds=f;var g=c!==void 0,y=d!==void 0;return(g||y)&&(this.worldBounce||(this.worldBounce=new i),g&&(this.worldBounce.x=c),y&&(this.worldBounce.y=d)),v!==void 0&&(this.onWorldBounds=v),this},setVelocity:function(f,c){return this.velocity.set(f,c),f=this.velocity.x,c=this.velocity.y,this.speed=Math.sqrt(f*f+c*c),this},setVelocityX:function(f){return this.setVelocity(f,this.velocity.y)},setVelocityY:function(f){return this.setVelocity(this.velocity.x,f)},setMaxVelocity:function(f,c){return this.maxVelocity.set(f,c),this},setMaxVelocityX:function(f){return this.maxVelocity.x=f,this},setMaxVelocityY:function(f){return this.maxVelocity.y=f,this},setMaxSpeed:function(f){return this.maxSpeed=f,this},setSlideFactor:function(f,c){return this.slideFactor.set(f,c),this},setBounce:function(f,c){return this.bounce.set(f,c),this},setBounceX:function(f){return this.bounce.x=f,this},setBounceY:function(f){return this.bounce.y=f,this},setAcceleration:function(f,c){return this.acceleration.set(f,c),this},setAccelerationX:function(f){return this.acceleration.x=f,this},setAccelerationY:function(f){return this.acceleration.y=f,this},setAllowDrag:function(f){return f===void 0&&(f=!0),this.allowDrag=f,this},setAllowGravity:function(f){return f===void 0&&(f=!0),this.allowGravity=f,this},setAllowRotation:function(f){return f===void 0&&(f=!0),this.allowRotation=f,this},setDrag:function(f,c){return this.drag.set(f,c),this},setDamping:function(f){return this.useDamping=f,this},setDragX:function(f){return this.drag.x=f,this},setDragY:function(f){return this.drag.y=f,this},setGravity:function(f,c){return this.gravity.set(f,c),this},setGravityX:function(f){return this.gravity.x=f,this},setGravityY:function(f){return this.gravity.y=f,this},setFriction:function(f,c){return this.friction.set(f,c),this},setFrictionX:function(f){return this.friction.x=f,this},setFrictionY:function(f){return this.friction.y=f,this},setAngularVelocity:function(f){return this.angularVelocity=f,this},setAngularAcceleration:function(f){return this.angularAcceleration=f,this},setAngularDrag:function(f){return this.angularDrag=f,this},setMass:function(f){return this.mass=f,this},setImmovable:function(f){return f===void 0&&(f=!0),this.immovable=f,this},setEnable:function(f){return f===void 0&&(f=!0),this.enable=f,this},processX:function(f,c,d,v){this.x+=f,this.updateCenter(),c!==null&&(this.velocity.x=c*this.slideFactor.x);var g=this.blocked;d&&(g.left=!0,g.none=!1),v&&(g.right=!0,g.none=!1)},processY:function(f,c,d,v){this.y+=f,this.updateCenter(),c!==null&&(this.velocity.y=c*this.slideFactor.y);var g=this.blocked;d&&(g.up=!0,g.none=!1),v&&(g.down=!0,g.none=!1)},x:{get:function(){return this.position.x},set:function(f){this.position.x=f}},y:{get:function(){return this.position.y},set:function(f){this.position.y=f}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});u.exports=h},79342:(u,m,t)=>{var a=t(83419),p=new a({initialize:function(s,r,e,n,l,i,h){this.world=s,this.name="",this.active=!0,this.overlapOnly=r,this.object1=e,this.object2=n,this.collideCallback=l,this.processCallback=i,this.callbackContext=h},setName:function(o){return this.name=o,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});u.exports=p},66022:(u,m,t)=>{var a=t(71289),p=t(13759),o=t(37742),s=t(83419),r=t(37747),e=t(60758),n=t(72624),l=t(71464),i=new s({initialize:function(f){this.world=f,this.scene=f.scene,this.sys=f.scene.sys},collider:function(h,f,c,d,v){return this.world.addCollider(h,f,c,d,v)},overlap:function(h,f,c,d,v){return this.world.addOverlap(h,f,c,d,v)},existing:function(h,f){var c=f?r.STATIC_BODY:r.DYNAMIC_BODY;return this.world.enableBody(h,c),h},staticImage:function(h,f,c,d){var v=new a(this.scene,h,f,c,d);return this.sys.displayList.add(v),this.world.enableBody(v,r.STATIC_BODY),v},image:function(h,f,c,d){var v=new a(this.scene,h,f,c,d);return this.sys.displayList.add(v),this.world.enableBody(v,r.DYNAMIC_BODY),v},staticSprite:function(h,f,c,d){var v=new p(this.scene,h,f,c,d);return this.sys.displayList.add(v),this.sys.updateList.add(v),this.world.enableBody(v,r.STATIC_BODY),v},sprite:function(h,f,c,d){var v=new p(this.scene,h,f,c,d);return this.sys.displayList.add(v),this.sys.updateList.add(v),this.world.enableBody(v,r.DYNAMIC_BODY),v},staticGroup:function(h,f){return this.sys.updateList.add(new l(this.world,this.world.scene,h,f))},group:function(h,f){return this.sys.updateList.add(new e(this.world,this.world.scene,h,f))},body:function(h,f,c,d){var v=new o(this.world);return v.position.set(h,f),c&&d&&v.setSize(c,d),this.world.add(v,r.DYNAMIC_BODY),v},staticBody:function(h,f,c,d){var v=new n(this.world);return v.position.set(h,f),c&&d&&v.setSize(c,d),this.world.add(v,r.STATIC_BODY),v},destroy:function(){this.world=null,this.scene=null,this.sys=null}});u.exports=i},79599:u=>{var m=function(t){var a=0;if(!Array.isArray(t))a=t;else for(var p=0;p<t.length;p++)a|=t[p];return a};u.exports=m},64897:(u,m,t)=>{var a=t(37747),p=function(o,s,r,e){var n=0,l=o.deltaAbsX()+s.deltaAbsX()+e;return o._dx===0&&s._dx===0?(o.embedded=!0,s.embedded=!0):o._dx>s._dx?(n=o.right-s.x,n>l&&!r||o.checkCollision.right===!1||s.checkCollision.left===!1?n=0:(o.touching.none=!1,o.touching.right=!0,s.touching.none=!1,s.touching.left=!0,s.physicsType===a.STATIC_BODY&&!r&&(o.blocked.none=!1,o.blocked.right=!0),o.physicsType===a.STATIC_BODY&&!r&&(s.blocked.none=!1,s.blocked.left=!0))):o._dx<s._dx&&(n=o.x-s.width-s.x,-n>l&&!r||o.checkCollision.left===!1||s.checkCollision.right===!1?n=0:(o.touching.none=!1,o.touching.left=!0,s.touching.none=!1,s.touching.right=!0,s.physicsType===a.STATIC_BODY&&!r&&(o.blocked.none=!1,o.blocked.left=!0),o.physicsType===a.STATIC_BODY&&!r&&(s.blocked.none=!1,s.blocked.right=!0))),o.overlapX=n,s.overlapX=n,n};u.exports=p},45170:(u,m,t)=>{var a=t(37747),p=function(o,s,r,e){var n=0,l=o.deltaAbsY()+s.deltaAbsY()+e;return o._dy===0&&s._dy===0?(o.embedded=!0,s.embedded=!0):o._dy>s._dy?(n=o.bottom-s.y,n>l&&!r||o.checkCollision.down===!1||s.checkCollision.up===!1?n=0:(o.touching.none=!1,o.touching.down=!0,s.touching.none=!1,s.touching.up=!0,s.physicsType===a.STATIC_BODY&&!r&&(o.blocked.none=!1,o.blocked.down=!0),o.physicsType===a.STATIC_BODY&&!r&&(s.blocked.none=!1,s.blocked.up=!0))):o._dy<s._dy&&(n=o.y-s.bottom,-n>l&&!r||o.checkCollision.up===!1||s.checkCollision.down===!1?n=0:(o.touching.none=!1,o.touching.up=!0,s.touching.none=!1,s.touching.down=!0,s.physicsType===a.STATIC_BODY&&!r&&(o.blocked.none=!1,o.blocked.up=!0),o.physicsType===a.STATIC_BODY&&!r&&(s.blocked.none=!1,s.blocked.down=!0))),o.overlapY=n,s.overlapY=n,n};u.exports=p},60758:(u,m,t)=>{var a=t(13759),p=t(83419),o=t(78389),s=t(37747),r=t(95540),e=t(26479),n=t(41212),l=new p({Extends:e,Mixins:[o],initialize:function(h,f,c,d){if(!c&&!d)d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(n(c))d=c,c=null,d.internalCreateCallback=this.createCallbackHandler,d.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(c)&&n(c[0])){var v=this;c.forEach(function(g){g.internalCreateCallback=v.createCallbackHandler,g.internalRemoveCallback=v.removeCallbackHandler,g.classType=r(g,"classType",a)}),d=null}else d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=h,d&&(d.classType=r(d,"classType",a)),this.physicsType=s.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=2147483647,this.defaults={setCollideWorldBounds:r(d,"collideWorldBounds",!1),setBoundsRectangle:r(d,"customBoundsRectangle",null),setAccelerationX:r(d,"accelerationX",0),setAccelerationY:r(d,"accelerationY",0),setAllowDrag:r(d,"allowDrag",!0),setAllowGravity:r(d,"allowGravity",!0),setAllowRotation:r(d,"allowRotation",!0),setDamping:r(d,"useDamping",!1),setBounceX:r(d,"bounceX",0),setBounceY:r(d,"bounceY",0),setDragX:r(d,"dragX",0),setDragY:r(d,"dragY",0),setEnable:r(d,"enable",!0),setGravityX:r(d,"gravityX",0),setGravityY:r(d,"gravityY",0),setFrictionX:r(d,"frictionX",0),setFrictionY:r(d,"frictionY",0),setMaxSpeed:r(d,"maxSpeed",-1),setMaxVelocityX:r(d,"maxVelocityX",1e4),setMaxVelocityY:r(d,"maxVelocityY",1e4),setVelocityX:r(d,"velocityX",0),setVelocityY:r(d,"velocityY",0),setAngularVelocity:r(d,"angularVelocity",0),setAngularAcceleration:r(d,"angularAcceleration",0),setAngularDrag:r(d,"angularDrag",0),setMass:r(d,"mass",1),setImmovable:r(d,"immovable",!1)},e.call(this,f,c,d),this.type="PhysicsGroup"},createCallbackHandler:function(i){i.body||this.world.enableBody(i,s.DYNAMIC_BODY);var h=i.body;for(var f in this.defaults)h[f](this.defaults[f])},removeCallbackHandler:function(i){i.body&&this.world.disableBody(i)},setVelocity:function(i,h,f){f===void 0&&(f=0);for(var c=this.getChildren(),d=0;d<c.length;d++)c[d].body.velocity.set(i+d*f,h+d*f);return this},setVelocityX:function(i,h){h===void 0&&(h=0);for(var f=this.getChildren(),c=0;c<f.length;c++)f[c].body.velocity.x=i+c*h;return this},setVelocityY:function(i,h){h===void 0&&(h=0);for(var f=this.getChildren(),c=0;c<f.length;c++)f[c].body.velocity.y=i+c*h;return this}});u.exports=l},3017:u=>{var m,t,a,p,o,s,r,e,n,l,i,h,f,c,d,v,g,y=function(D,R,L){m=D,t=R;var I=m.velocity.x,w=t.velocity.x;return a=m.pushable,n=m._dx<0,l=m._dx>0,i=m._dx===0,d=Math.abs(m.right-t.x)<=Math.abs(t.right-m.x),r=w-I*m.bounce.x,p=t.pushable,h=t._dx<0,f=t._dx>0,c=t._dx===0,v=!d,e=I-w*t.bounce.x,g=Math.abs(L),x()},x=function(){return l&&d&&t.blocked.right?(m.processX(-g,r,!1,!0),1):n&&v&&t.blocked.left?(m.processX(g,r,!0),1):f&&v&&m.blocked.right?(t.processX(-g,e,!1,!0),2):h&&d&&m.blocked.left?(t.processX(g,e,!0),2):0},T=function(){var D=m.velocity.x,R=t.velocity.x,L=Math.sqrt(R*R*t.mass/m.mass)*(R>0?1:-1),I=Math.sqrt(D*D*m.mass/t.mass)*(D>0?1:-1),w=(L+I)*.5;return L-=w,I-=w,o=w+L*m.bounce.x,s=w+I*t.bounce.x,n&&v?S(0):h&&d?S(1):l&&d?S(2):f&&v?S(3):!1},S=function(D){if(a&&p)g*=.5,D===0||D===3?(m.processX(g,o),t.processX(-g,s)):(m.processX(-g,o),t.processX(g,s));else if(a&&!p)D===0||D===3?m.processX(g,r,!0):m.processX(-g,r,!1,!0);else if(!a&&p)D===0||D===3?t.processX(-g,e,!1,!0):t.processX(g,e,!0);else{var R=g*.5;D===0?c?(m.processX(g,0,!0),t.processX(0,null,!1,!0)):f?(m.processX(R,0,!0),t.processX(-R,0,!1,!0)):(m.processX(R,t.velocity.x,!0),t.processX(-R,null,!1,!0)):D===1?i?(m.processX(0,null,!1,!0),t.processX(g,0,!0)):l?(m.processX(-R,0,!1,!0),t.processX(R,0,!0)):(m.processX(-R,null,!1,!0),t.processX(R,m.velocity.x,!0)):D===2?c?(m.processX(-g,0,!1,!0),t.processX(0,null,!0)):h?(m.processX(-R,0,!1,!0),t.processX(R,0,!0)):(m.processX(-R,t.velocity.x,!1,!0),t.processX(R,null,!0)):D===3&&(i?(m.processX(0,null,!0),t.processX(-g,0,!1,!0)):n?(m.processX(R,0,!0),t.processX(-R,0,!1,!0)):(m.processX(R,t.velocity.y,!0),t.processX(-R,null,!1,!0)))}return!0},A=function(D){if(D===1?t.velocity.x=0:d?t.processX(g,e,!0):t.processX(-g,e,!1,!0),m.moves){var R=m.directControl?m.y-m.autoFrame.y:m.y-m.prev.y;t.y+=R*m.friction.y,t._dy=t.y-t.prev.y}},P=function(D){if(D===2?m.velocity.x=0:v?m.processX(g,r,!0):m.processX(-g,r,!1,!0),t.moves){var R=t.directControl?t.y-t.autoFrame.y:t.y-t.prev.y;m.y+=R*t.friction.y,m._dy=m.y-m.prev.y}};u.exports={BlockCheck:x,Check:T,Set:y,Run:S,RunImmovableBody1:A,RunImmovableBody2:P}},47962:u=>{var m,t,a,p,o,s,r,e,n,l,i,h,f,c,d,v,g,y=function(D,R,L){m=D,t=R;var I=m.velocity.y,w=t.velocity.y;return a=m.pushable,n=m._dy<0,l=m._dy>0,i=m._dy===0,d=Math.abs(m.bottom-t.y)<=Math.abs(t.bottom-m.y),r=w-I*m.bounce.y,p=t.pushable,h=t._dy<0,f=t._dy>0,c=t._dy===0,v=!d,e=I-w*t.bounce.y,g=Math.abs(L),x()},x=function(){return l&&d&&t.blocked.down?(m.processY(-g,r,!1,!0),1):n&&v&&t.blocked.up?(m.processY(g,r,!0),1):f&&v&&m.blocked.down?(t.processY(-g,e,!1,!0),2):h&&d&&m.blocked.up?(t.processY(g,e,!0),2):0},T=function(){var D=m.velocity.y,R=t.velocity.y,L=Math.sqrt(R*R*t.mass/m.mass)*(R>0?1:-1),I=Math.sqrt(D*D*m.mass/t.mass)*(D>0?1:-1),w=(L+I)*.5;return L-=w,I-=w,o=w+L*m.bounce.y,s=w+I*t.bounce.y,n&&v?S(0):h&&d?S(1):l&&d?S(2):f&&v?S(3):!1},S=function(D){if(a&&p)g*=.5,D===0||D===3?(m.processY(g,o),t.processY(-g,s)):(m.processY(-g,o),t.processY(g,s));else if(a&&!p)D===0||D===3?m.processY(g,r,!0):m.processY(-g,r,!1,!0);else if(!a&&p)D===0||D===3?t.processY(-g,e,!1,!0):t.processY(g,e,!0);else{var R=g*.5;D===0?c?(m.processY(g,0,!0),t.processY(0,null,!1,!0)):f?(m.processY(R,0,!0),t.processY(-R,0,!1,!0)):(m.processY(R,t.velocity.y,!0),t.processY(-R,null,!1,!0)):D===1?i?(m.processY(0,null,!1,!0),t.processY(g,0,!0)):l?(m.processY(-R,0,!1,!0),t.processY(R,0,!0)):(m.processY(-R,null,!1,!0),t.processY(R,m.velocity.y,!0)):D===2?c?(m.processY(-g,0,!1,!0),t.processY(0,null,!0)):h?(m.processY(-R,0,!1,!0),t.processY(R,0,!0)):(m.processY(-R,t.velocity.y,!1,!0),t.processY(R,null,!0)):D===3&&(i?(m.processY(0,null,!0),t.processY(-g,0,!1,!0)):n?(m.processY(R,0,!0),t.processY(-R,0,!1,!0)):(m.processY(R,t.velocity.y,!0),t.processY(-R,null,!1,!0)))}return!0},A=function(D){if(D===1?t.velocity.y=0:d?t.processY(g,e,!0):t.processY(-g,e,!1,!0),m.moves){var R=m.directControl?m.x-m.autoFrame.x:m.x-m.prev.x;t.x+=R*m.friction.x,t._dx=t.x-t.prev.x}},P=function(D){if(D===2?m.velocity.y=0:v?m.processY(g,r,!0):m.processY(-g,r,!1,!0),t.moves){var R=t.directControl?t.x-t.autoFrame.x:t.x-t.prev.x;m.x+=R*t.friction.x,m._dx=m.x-m.prev.x}};u.exports={BlockCheck:x,Check:T,Set:y,Run:S,RunImmovableBody1:A,RunImmovableBody2:P}},14087:(u,m,t)=>{var a=t(64897),p=t(3017),o=function(s,r,e,n,l){l===void 0&&(l=a(s,r,e,n));var i=s.immovable,h=r.immovable;if(e||l===0||i&&h||s.customSeparateX||r.customSeparateX)return l!==0||s.embedded&&r.embedded;var f=p.Set(s,r,l);return!i&&!h?f>0?!0:p.Check():(i?p.RunImmovableBody1(f):h&&p.RunImmovableBody2(f),!0)};u.exports=o},89936:(u,m,t)=>{var a=t(45170),p=t(47962),o=function(s,r,e,n,l){l===void 0&&(l=a(s,r,e,n));var i=s.immovable,h=r.immovable;if(e||l===0||i&&h||s.customSeparateY||r.customSeparateY)return l!==0||s.embedded&&r.embedded;var f=p.Set(s,r,l);return!i&&!h?f>0?!0:p.Check():(i?p.RunImmovableBody1(f):h&&p.RunImmovableBody2(f),!0)};u.exports=o},95829:u=>{var m=function(t,a){return a===void 0&&(a={}),a.none=t,a.up=!1,a.down=!1,a.left=!1,a.right=!1,t||(a.up=!0,a.down=!0,a.left=!0,a.right=!0),a};u.exports=m},72624:(u,m,t)=>{var a=t(87902),p=t(83419),o=t(78389),s=t(37747),r=t(37303),e=t(95829),n=t(26099),l=new p({Mixins:[o],initialize:function(h,f){var c=64,d=64,v={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},g=f!==void 0;g&&f.displayWidth&&(c=f.displayWidth,d=f.displayHeight),g||(f=v),this.world=h,this.gameObject=g?f:void 0,this.isBody=!0,this.debugShowBody=h.defaults.debugShowStaticBody,this.debugBodyColor=h.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new n,this.position=new n(f.x-c*f.originX,f.y-d*f.originY),this.width=c,this.height=d,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new n(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=n.ZERO,this.allowGravity=!1,this.gravity=n.ZERO,this.bounce=n.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=e(!1),this.touching=e(!0),this.wasTouching=e(!0),this.blocked=e(!0),this.physicsType=s.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(i,h,f){if(h===void 0&&(h=!0),f===void 0&&(f=!0),!i||!i.hasTransformComponent)return this;var c=this.world;return this.gameObject&&this.gameObject.body&&(c.disable(this.gameObject),this.gameObject.body=null),i.body&&c.disable(i),this.gameObject=i,i.body=this,this.setSize(),h&&this.updateFromGameObject(),this.enable=f,this},updateFromGameObject:function(){this.world.staticTree.remove(this);var i=this.gameObject;return i.getTopLeft(this.position),this.width=i.displayWidth,this.height=i.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(i,h){return h===void 0&&(h=i),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(i,h),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(i,h,f){f===void 0&&(f=!0);var c=this.gameObject;if(c&&c.frame&&(i||(i=c.frame.realWidth),h||(h=c.frame.realHeight)),this.world.staticTree.remove(this),this.width=i,this.height=h,this.halfWidth=Math.floor(i/2),this.halfHeight=Math.floor(h/2),f&&c&&c.getCenter){var d=c.displayWidth/2,v=c.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(d-this.halfWidth,v-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(i,h,f){return h===void 0&&(h=this.offset.x),f===void 0&&(f=this.offset.y),i>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=i,this.width=i*2,this.height=i*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(h,f),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(i,h){var f=this.gameObject;i===void 0&&(i=f.x),h===void 0&&(h=f.y),this.world.staticTree.remove(this),f.setPosition(i,h),f.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(i){return i.x=this.x,i.y=this.y,i.right=this.right,i.bottom=this.bottom,i},hitTest:function(i,h){return this.isCircle?a(this,i,h):r(this,i,h)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(i){var h=this.position,f=h.x+this.halfWidth,c=h.y+this.halfHeight;this.debugShowBody&&(i.lineStyle(i.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?i.strokeCircle(f,c,this.width/2):i.strokeRect(h.x,h.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(i){return i<=0&&(i=.1),this.mass=i,this},x:{get:function(){return this.position.x},set:function(i){this.world.staticTree.remove(this),this.position.x=i,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(i){this.world.staticTree.remove(this),this.position.y=i,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});u.exports=l},71464:(u,m,t)=>{var a=t(13759),p=t(83419),o=t(78389),s=t(37747),r=t(95540),e=t(26479),n=t(41212),l=new p({Extends:e,Mixins:[o],initialize:function(h,f,c,d){!c&&!d?d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:a}:n(c)?(d=c,c=null,d.internalCreateCallback=this.createCallbackHandler,d.internalRemoveCallback=this.removeCallbackHandler,d.createMultipleCallback=this.createMultipleCallbackHandler,d.classType=r(d,"classType",a)):Array.isArray(c)&&n(c[0])?(d=c,c=null,d.forEach(function(v){v.internalCreateCallback=this.createCallbackHandler,v.internalRemoveCallback=this.removeCallbackHandler,v.createMultipleCallback=this.createMultipleCallbackHandler,v.classType=r(v,"classType",a)})):d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=h,this.physicsType=s.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,e.call(this,f,c,d),this.type="StaticPhysicsGroup"},createCallbackHandler:function(i){i.body||this.world.enableBody(i,s.STATIC_BODY)},removeCallbackHandler:function(i){i.body&&this.world.disableBody(i)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var i=this.children.entries,h=0;h<i.length;h++)i[h].body.reset();return this}});u.exports=l},82248:(u,m,t)=>{var a=t(55495),p=t(37742),o=t(45319),s=t(83419),r=t(79342),e=t(37747),n=t(20339),l=t(52816),i=t(50792),h=t(63012),f=t(43855),c=t(5470),d=t(94977),v=t(64897),g=t(45170),y=t(96523),x=t(35154),T=t(36383),S=t(25774),A=t(96602),P=t(87841),D=t(59542),R=t(40012),L=t(14087),I=t(89936),w=t(35072),B=t(72624),b=t(2483),V=t(61340),X=t(26099),G=t(15994),U=new s({Extends:i,initialize:function(z,N){i.call(this),this.scene=z,this.bodies=new w,this.staticBodies=new w,this.pendingDestroy=new w,this.colliders=new S,this.gravity=new X(x(N,"gravity.x",0),x(N,"gravity.y",0)),this.bounds=new P(x(N,"x",0),x(N,"y",0),x(N,"width",z.sys.scale.width),x(N,"height",z.sys.scale.height)),this.checkCollision={up:x(N,"checkCollision.up",!0),down:x(N,"checkCollision.down",!0),left:x(N,"checkCollision.left",!0),right:x(N,"checkCollision.right",!0)},this.fps=x(N,"fps",60),this.fixedStep=x(N,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=x(N,"timeScale",1),this.OVERLAP_BIAS=x(N,"overlapBias",4),this.TILE_BIAS=x(N,"tileBias",16),this.forceX=x(N,"forceX",!1),this.isPaused=x(N,"isPaused",!1),this._total=0,this.drawDebug=x(N,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:x(N,"debugShowBody",!0),debugShowStaticBody:x(N,"debugShowStaticBody",!0),debugShowVelocity:x(N,"debugShowVelocity",!0),bodyDebugColor:x(N,"debugBodyColor",16711935),staticBodyDebugColor:x(N,"debugStaticBodyColor",255),velocityDebugColor:x(N,"debugVelocityColor",65280)},this.maxEntries=x(N,"maxEntries",16),this.useTree=x(N,"useTree",!0),this.tree=new D(this.maxEntries),this.staticTree=new D(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new V,this._tempMatrix2=new V,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(O,z){z===void 0&&(z=e.DYNAMIC_BODY),Array.isArray(O)||(O=[O]);for(var N=0;N<O.length;N++){var Y=O[N];if(Y.isParent)for(var W=Y.getChildren(),H=0;H<W.length;H++){var $=W[H];$.isParent?this.enable($,z):this.enableBody($,z)}else this.enableBody(Y,z)}},enableBody:function(O,z){return z===void 0&&(z=e.DYNAMIC_BODY),O.hasTransformComponent&&(O.body||(z===e.DYNAMIC_BODY?O.body=new p(this,O):z===e.STATIC_BODY&&(O.body=new B(this,O))),this.add(O.body)),O},add:function(O){return O.physicsType===e.DYNAMIC_BODY?this.bodies.set(O):O.physicsType===e.STATIC_BODY&&(this.staticBodies.set(O),this.staticTree.insert(O)),O.enable=!0,O},disable:function(O){Array.isArray(O)||(O=[O]);for(var z=0;z<O.length;z++){var N=O[z];if(N.isParent)for(var Y=N.getChildren(),W=0;W<Y.length;W++){var H=Y[W];H.isParent?this.disable(H):this.disableBody(H.body)}else this.disableBody(N.body)}},disableBody:function(O){this.remove(O),O.enable=!1},remove:function(O){O.physicsType===e.DYNAMIC_BODY?(this.tree.remove(O),this.bodies.delete(O)):O.physicsType===e.STATIC_BODY&&(this.staticBodies.delete(O),this.staticTree.remove(O))},createDebugGraphic:function(){var O=this.scene.sys.add.graphics({x:0,y:0});return O.setDepth(Number.MAX_VALUE),this.debugGraphic=O,this.drawDebug=!0,O},setBounds:function(O,z,N,Y,W,H,$,K){return this.bounds.setTo(O,z,N,Y),W!==void 0&&this.setBoundsCollision(W,H,$,K),this},setBoundsCollision:function(O,z,N,Y){return O===void 0&&(O=!0),z===void 0&&(z=!0),N===void 0&&(N=!0),Y===void 0&&(Y=!0),this.checkCollision.left=O,this.checkCollision.right=z,this.checkCollision.up=N,this.checkCollision.down=Y,this},pause:function(){return this.isPaused=!0,this.emit(h.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(h.RESUME),this},addCollider:function(O,z,N,Y,W){N===void 0&&(N=null),Y===void 0&&(Y=null),W===void 0&&(W=N);var H=new r(this,!1,O,z,N,Y,W);return this.colliders.add(H),H},addOverlap:function(O,z,N,Y,W){N===void 0&&(N=null),Y===void 0&&(Y=null),W===void 0&&(W=N);var H=new r(this,!0,O,z,N,Y,W);return this.colliders.add(H),H},removeCollider:function(O){return this.colliders.remove(O),this},setFPS:function(O){return this.fps=O,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(O,z){if(!(this.isPaused||this.bodies.size===0)){var N,Y=this._frameTime,W=this._frameTimeMS*this.timeScale;this._elapsed+=z;var H,$=this.bodies.entries,K=this._elapsed>=W;for(this.fixedStep||(Y=z*.001,K=!0,this._elapsed=0),N=0;N<$.length;N++)H=$[N],H.enable&&H.preUpdate(K,Y);if(K){this._elapsed-=W,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load($));var Z=this.colliders.update();for(N=0;N<Z.length;N++){var J=Z[N];J.active&&J.update()}this.emit(h.WORLD_STEP,Y)}for(;this._elapsed>=W;)this._elapsed-=W,this.step(Y)}},step:function(O){var z,N,Y=this.bodies.entries,W=Y.length;for(z=0;z<W;z++)N=Y[z],N.enable&&N.update(O);this.useTree&&(this.tree.clear(),this.tree.load(Y));var H=this.colliders.update();for(z=0;z<H.length;z++){var $=H[z];$.active&&$.update()}this.emit(h.WORLD_STEP,O),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var O,z,N=this.bodies.entries,Y=N.length,W=this.bodies,H=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,O=0;O<Y;O++)z=N[O],z.enable&&z.postUpdate();if(this.drawDebug){var $=this.debugGraphic;for($.clear(),O=0;O<Y;O++)z=N[O],z.willDrawDebug()&&z.drawDebug($);for(N=H.entries,Y=N.length,O=0;O<Y;O++)z=N[O],z.willDrawDebug()&&z.drawDebug($)}var K=this.pendingDestroy;if(K.size>0){var Z=this.tree,J=this.staticTree;for(N=K.entries,Y=N.length,O=0;O<Y;O++)z=N[O],z.physicsType===e.DYNAMIC_BODY?(Z.remove(z),W.delete(z)):z.physicsType===e.STATIC_BODY&&(J.remove(z),H.delete(z)),z.world=void 0,z.gameObject=void 0;K.clear()}},updateMotion:function(O,z){O.allowRotation&&this.computeAngularVelocity(O,z),this.computeVelocity(O,z)},computeAngularVelocity:function(O,z){var N=O.angularVelocity,Y=O.angularAcceleration,W=O.angularDrag,H=O.maxAngular;Y?N+=Y*z:O.allowDrag&&W&&(W*=z,c(N-W,0,.1)?N-=W:d(N+W,0,.1)?N+=W:N=0),N=o(N,-H,H);var $=N-O.angularVelocity;O.angularVelocity+=$,O.rotation+=O.angularVelocity*z},computeVelocity:function(O,z){var N=O.velocity.x,Y=O.acceleration.x,W=O.drag.x,H=O.maxVelocity.x,$=O.velocity.y,K=O.acceleration.y,Z=O.drag.y,J=O.maxVelocity.y,j=O.speed,Q=O.maxSpeed,_=O.allowDrag,k=O.useDamping;O.allowGravity&&(N+=(this.gravity.x+O.gravity.x)*z,$+=(this.gravity.y+O.gravity.y)*z),Y?N+=Y*z:_&&W&&(k?(W=Math.pow(W,z),N*=W,j=Math.sqrt(N*N+$*$),f(j,0,.001)&&(N=0)):(W*=z,c(N-W,0,.01)?N-=W:d(N+W,0,.01)?N+=W:N=0)),K?$+=K*z:_&&Z&&(k?(Z=Math.pow(Z,z),$*=Z,j=Math.sqrt(N*N+$*$),f(j,0,.001)&&($=0)):(Z*=z,c($-Z,0,.01)?$-=Z:d($+Z,0,.01)?$+=Z:$=0)),N=o(N,-H,H),$=o($,-J,J),O.velocity.set(N,$),Q>-1&&O.velocity.length()>Q&&(O.velocity.normalize().scale(Q),j=Q),O.speed=j},separate:function(O,z,N,Y,W){var H,$,K=!1,Z=!0;if(!O.enable||!z.enable||O.checkCollision.none||z.checkCollision.none||!this.intersects(O,z)||(O.collisionMask&z.collisionCategory)===0||(z.collisionMask&O.collisionCategory)===0||N&&N.call(Y,O.gameObject||O,z.gameObject||z)===!1)return K;if(O.isCircle||z.isCircle){var J=this.separateCircle(O,z,W);J.result?(K=!0,Z=!1):(H=J.x,$=J.y,Z=!0)}if(Z){var j=!1,Q=!1,_=this.OVERLAP_BIAS;W?(j=L(O,z,W,_,H),Q=I(O,z,W,_,$)):this.forceX||Math.abs(this.gravity.y+O.gravity.y)<Math.abs(this.gravity.x+O.gravity.x)?(j=L(O,z,W,_,H),this.intersects(O,z)&&(Q=I(O,z,W,_,$))):(Q=I(O,z,W,_,$),this.intersects(O,z)&&(j=L(O,z,W,_,H))),K=j||Q}return K&&(W?(O.onOverlap||z.onOverlap)&&this.emit(h.OVERLAP,O.gameObject,z.gameObject,O,z):(O.onCollide||z.onCollide)&&this.emit(h.COLLIDE,O.gameObject,z.gameObject,O,z)),K},separateCircle:function(O,z,N){v(O,z,!1,0),g(O,z,!1,0);var Y=O.isCircle,W=z.isCircle,H=O.center,$=z.center,K=O.immovable,Z=z.immovable,J=O.velocity,j=z.velocity,Q=0,_=!0;if(Y!==W){_=!1;var k=H.x,it=H.y,nt=O.halfWidth,st=z.position.x,q=z.position.y,tt=z.right,et=z.bottom;W&&(k=$.x,it=$.y,nt=z.halfWidth,st=O.position.x,q=O.position.y,tt=O.right,et=O.bottom),it<q?k<st?Q=n(k,it,st,q)-nt:k>tt&&(Q=n(k,it,tt,q)-nt):it>et&&(k<st?Q=n(k,it,st,et)-nt:k>tt&&(Q=n(k,it,tt,et)-nt)),Q*=-1}else Q=O.halfWidth+z.halfWidth-l(H,$);O.overlapR=Q,z.overlapR=Q;var ot=a(H,$),dt=(Q+T.EPSILON)*Math.cos(ot),Ct=(Q+T.EPSILON)*Math.sin(ot),ut={overlap:Q,result:!1,x:dt,y:Ct};if(N&&(!_||_&&Q!==0))return ut.result=!0,ut;if(!_&&Q===0||K&&Z||O.customSeparateX||z.customSeparateX)return ut.x=void 0,ut.y=void 0,ut;var ft=!O.pushable&&!z.pushable;if(_){var Mt=H.x-$.x,zt=H.y-$.y,mt=Math.sqrt(Math.pow(Mt,2)+Math.pow(zt,2)),Pt=($.x-H.x)/mt||0,Lt=($.y-H.y)/mt||0,jt=2*(J.x*Pt+J.y*Lt-j.x*Pt-j.y*Lt)/(O.mass+z.mass);(K||Z||!O.pushable||!z.pushable)&&(jt*=2),!K&&O.pushable&&(J.x=J.x-jt/O.mass*Pt,J.y=J.y-jt/O.mass*Lt,J.multiply(O.bounce)),!Z&&z.pushable&&(j.x=j.x+jt/z.mass*Pt,j.y=j.y+jt/z.mass*Lt,j.multiply(z.bounce)),!K&&!Z&&(dt*=.5,Ct*=.5),(!K||O.pushable||ft)&&(O.x-=dt,O.y-=Ct,O.updateCenter()),(!Z||z.pushable||ft)&&(z.x+=dt,z.y+=Ct,z.updateCenter()),ut.result=!0}else!K&&(O.pushable||ft)&&(O.x-=dt,O.y-=Ct,O.updateCenter()),!Z&&(z.pushable||ft)&&(z.x+=dt,z.y+=Ct,z.updateCenter()),ut.x=void 0,ut.y=void 0;return ut},intersects:function(O,z){return O===z?!1:!O.isCircle&&!z.isCircle?!(O.right<=z.left||O.bottom<=z.top||O.left>=z.right||O.top>=z.bottom):O.isCircle?z.isCircle?l(O.center,z.center)<=O.halfWidth+z.halfWidth:this.circleBodyIntersects(O,z):this.circleBodyIntersects(z,O)},circleBodyIntersects:function(O,z){var N=o(O.center.x,z.left,z.right),Y=o(O.center.y,z.top,z.bottom),W=(O.center.x-N)*(O.center.x-N),H=(O.center.y-Y)*(O.center.y-Y);return W+H<=O.halfWidth*O.halfWidth},overlap:function(O,z,N,Y,W){return N===void 0&&(N=null),Y===void 0&&(Y=null),W===void 0&&(W=N),this.collideObjects(O,z,N,Y,W,!0)},collide:function(O,z,N,Y,W){return N===void 0&&(N=null),Y===void 0&&(Y=null),W===void 0&&(W=N),this.collideObjects(O,z,N,Y,W,!1)},collideObjects:function(O,z,N,Y,W,H){var $,K;O.isParent&&(O.physicsType===void 0||z===void 0||O===z)&&(O=O.children.entries),z&&z.isParent&&z.physicsType===void 0&&(z=z.children.entries);var Z=Array.isArray(O),J=Array.isArray(z);if(this._total=0,!Z&&!J)this.collideHandler(O,z,N,Y,W,H);else if(!Z&&J)for($=0;$<z.length;$++)this.collideHandler(O,z[$],N,Y,W,H);else if(Z&&!J)if(z)for($=0;$<O.length;$++)this.collideHandler(O[$],z,N,Y,W,H);else for($=0;$<O.length;$++){var j=O[$];for(K=$+1;K<O.length;K++)$!==K&&this.collideHandler(j,O[K],N,Y,W,H)}else for($=0;$<O.length;$++)for(K=0;K<z.length;K++)this.collideHandler(O[$],z[K],N,Y,W,H);return this._total>0},collideHandler:function(O,z,N,Y,W,H){if(z===void 0&&O.isParent)return this.collideGroupVsGroup(O,O,N,Y,W,H);if(!O||!z)return!1;if(O.body||O.isBody){if(z.body||z.isBody)return this.collideSpriteVsSprite(O,z,N,Y,W,H);if(z.isParent)return this.collideSpriteVsGroup(O,z,N,Y,W,H);if(z.isTilemap)return this.collideSpriteVsTilemapLayer(O,z,N,Y,W,H)}else if(O.isParent){if(z.body||z.isBody)return this.collideSpriteVsGroup(z,O,N,Y,W,H);if(z.isParent)return this.collideGroupVsGroup(O,z,N,Y,W,H);if(z.isTilemap)return this.collideGroupVsTilemapLayer(O,z,N,Y,W,H)}else if(O.isTilemap){if(z.body||z.isBody)return this.collideSpriteVsTilemapLayer(z,O,N,Y,W,H);if(z.isParent)return this.collideGroupVsTilemapLayer(z,O,N,Y,W,H)}},canCollide:function(O,z){return O&&z&&(O.collisionMask&z.collisionCategory)!==0&&(z.collisionMask&O.collisionCategory)!==0},collideSpriteVsSprite:function(O,z,N,Y,W,H){var $=O.isBody?O:O.body,K=z.isBody?z:z.body;return this.canCollide($,K)?(this.separate($,K,Y,W,H)&&(N&&N.call(W,O,z),this._total++),!0):!1},collideSpriteVsGroup:function(O,z,N,Y,W,H){var $=O.isBody?O:O.body;if(!(z.getLength()===0||!$||!$.enable||$.checkCollision.none||!this.canCollide($,z))){var K,Z,J;if(this.useTree||z.physicsType===e.STATIC_BODY){var j=this.treeMinMax;j.minX=$.left,j.minY=$.top,j.maxX=$.right,j.maxY=$.bottom;var Q=z.physicsType===e.DYNAMIC_BODY?this.tree.search(j):this.staticTree.search(j);for(Z=Q.length,K=0;K<Z;K++)J=Q[K],!($===J||!J.enable||J.checkCollision.none||!z.contains(J.gameObject))&&this.separate($,J,Y,W,H)&&(N&&N.call(W,$.gameObject,J.gameObject),this._total++)}else{var _=z.getChildren(),k=z.children.entries.indexOf(O);for(Z=_.length,K=0;K<Z;K++)J=_[K].body,!(!J||K===k||!J.enable)&&this.separate($,J,Y,W,H)&&(N&&N.call(W,$.gameObject,J.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(O,z,N,Y,W,H){if(!this.canCollide(O,z))return!1;var $=O.getChildren();if($.length===0)return!1;for(var K=!1,Z=0;Z<$.length;Z++)($[Z].body||$[Z].isBody)&&this.collideSpriteVsTilemapLayer($[Z],z,N,Y,W,H)&&(K=!0);return K},collideTiles:function(O,z,N,Y,W){return z.length===0||O.body&&!O.body.enable||O.isBody&&!O.enable?!1:this.collideSpriteVsTilesHandler(O,z,N,Y,W,!1,!1)},overlapTiles:function(O,z,N,Y,W){return z.length===0||O.body&&!O.body.enable||O.isBody&&!O.enable?!1:this.collideSpriteVsTilesHandler(O,z,N,Y,W,!0,!1)},collideSpriteVsTilemapLayer:function(O,z,N,Y,W,H){var $=O.isBody?O:O.body;if(!$.enable||$.checkCollision.none||!this.canCollide($,z))return!1;var K=z.layer,Z=$.x-K.tileWidth*z.scaleX,J=$.y-K.tileHeight*z.scaleY,j=$.width+K.tileWidth*z.scaleX,Q=$.height+K.tileHeight*z.scaleY,_=H?null:this.tileFilterOptions,k=y(Z,J,j,Q,_,z.scene.cameras.main,z.layer);return k.length===0?!1:this.collideSpriteVsTilesHandler(O,k,N,Y,W,H,!0)},collideSpriteVsTilesHandler:function(O,z,N,Y,W,H,$){for(var K=O.isBody?O:O.body,Z,J={left:0,right:0,top:0,bottom:0},j,Q=!1,_=0;_<z.length;_++){Z=z[_],j=Z.tilemapLayer;var k=j.tileToWorldXY(Z.x,Z.y);J.left=k.x,J.top=k.y,J.right=J.left+Z.width*j.scaleX,J.bottom=J.top+Z.height*j.scaleY,b(J,K)&&(!Y||Y.call(W,O,Z))&&A(Z,O)&&(H||R(_,K,Z,J,j,this.TILE_BIAS,$))&&(this._total++,Q=!0,N&&N.call(W,O,Z),H&&K.onOverlap?this.emit(h.TILE_OVERLAP,O,Z,K):K.onCollide&&this.emit(h.TILE_COLLIDE,O,Z,K))}return Q},collideGroupVsGroup:function(O,z,N,Y,W,H){if(!(O.getLength()===0||z.getLength()===0||!this.canCollide(O,z)))for(var $=O.getChildren(),K=0;K<$.length;K++)this.collideSpriteVsGroup($[K],z,N,Y,W,H)},wrap:function(O,z){O.body?this.wrapObject(O,z):O.getChildren?this.wrapArray(O.getChildren(),z):Array.isArray(O)?this.wrapArray(O,z):this.wrapObject(O,z)},wrapArray:function(O,z){for(var N=0;N<O.length;N++)this.wrapObject(O[N],z)},wrapObject:function(O,z){z===void 0&&(z=0),O.x=G(O.x,this.bounds.left-z,this.bounds.right+z),O.y=G(O.y,this.bounds.top-z,this.bounds.bottom+z)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});u.exports=U},1093:u=>{var m={setAcceleration:function(t,a){return this.body.acceleration.set(t,a),this},setAccelerationX:function(t){return this.body.acceleration.x=t,this},setAccelerationY:function(t){return this.body.acceleration.y=t,this}};u.exports=m},59023:u=>{var m={setAngularVelocity:function(t){return this.body.angularVelocity=t,this},setAngularAcceleration:function(t){return this.body.angularAcceleration=t,this},setAngularDrag:function(t){return this.body.angularDrag=t,this}};u.exports=m},62069:u=>{var m={setBounce:function(t,a){return this.body.bounce.set(t,a),this},setBounceX:function(t){return this.body.bounce.x=t,this},setBounceY:function(t){return this.body.bounce.y=t,this},setCollideWorldBounds:function(t,a,p,o){return this.body.setCollideWorldBounds(t,a,p,o),this}};u.exports=m},78389:(u,m,t)=>{var a=t(79599),p={setCollisionCategory:function(o){var s=this.body?this.body:this;return s.collisionCategory=o,this},willCollideWith:function(o){var s=this.body?this.body:this;return(s.collisionMask&o)!==0},addCollidesWith:function(o){var s=this.body?this.body:this;return s.collisionMask=s.collisionMask|o,this},removeCollidesWith:function(o){var s=this.body?this.body:this;return s.collisionMask=s.collisionMask&~o,this},setCollidesWith:function(o){var s=this.body?this.body:this;return s.collisionMask=a(o),this},resetCollisionCategory:function(){var o=this.body?this.body:this;return o.collisionCategory=1,o.collisionMask=2147483647,this}};u.exports=p},87118:u=>{var m={setDebug:function(t,a,p){return this.debugShowBody=t,this.debugShowVelocity=a,this.debugBodyColor=p,this},setDebugBodyColor:function(t){return this.body.debugBodyColor=t,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(t){this.body.debugShowBody=t}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(t){this.body.debugShowVelocity=t}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(t){this.body.debugBodyColor=t}}};u.exports=m},52819:u=>{var m={setDrag:function(t,a){return this.body.drag.set(t,a),this},setDragX:function(t){return this.body.drag.x=t,this},setDragY:function(t){return this.body.drag.y=t,this},setDamping:function(t){return this.body.useDamping=t,this}};u.exports=m},4074:u=>{var m={setDirectControl:function(t){return this.body.setDirectControl(t),this},enableBody:function(t,a,p,o,s){return t&&this.body.reset(a,p),o&&(this.body.gameObject.active=!0),s&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(t,a){return t===void 0&&(t=!1),a===void 0&&(a=!1),this.body.stop(),this.body.enable=!1,t&&(this.body.gameObject.active=!1),a&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};u.exports=m},40831:u=>{var m={setFriction:function(t,a){return this.body.friction.set(t,a),this},setFrictionX:function(t){return this.body.friction.x=t,this},setFrictionY:function(t){return this.body.friction.y=t,this}};u.exports=m},26775:u=>{var m={setGravity:function(t,a){return this.body.gravity.set(t,a),this},setGravityX:function(t){return this.body.gravity.x=t,this},setGravityY:function(t){return this.body.gravity.y=t,this}};u.exports=m},9437:u=>{var m={setImmovable:function(t){return t===void 0&&(t=!0),this.body.immovable=t,this}};u.exports=m},30621:u=>{var m={setMass:function(t){return this.body.mass=t,this}};u.exports=m},72441:(u,m,t)=>{var a=t(47956),p=t(96503),o=t(2044),s=t(81491),r=function(e,n,l,i,h,f){var c=a(e,n-i,l-i,2*i,2*i,h,f);if(c.length===0)return c;for(var d=new p(n,l,i),v=new p,g=[],y=0;y<c.length;y++){var x=c[y];x.isCircle?(v.setTo(x.center.x,x.center.y,x.halfWidth),o(d,v)&&g.push(x)):s(d,x)&&g.push(x)}return g};u.exports=r},47956:u=>{var m=function(t,a,p,o,s,r,e){r===void 0&&(r=!0),e===void 0&&(e=!1);var n=[],l=[],i=t.treeMinMax;if(i.minX=a,i.minY=p,i.maxX=a+o,i.maxY=p+s,e&&(l=t.staticTree.search(i)),r&&t.useTree)n=t.tree.search(i);else if(r){var h=t.bodies,f={position:{x:a,y:p},left:a,top:p,right:a+o,bottom:p+s,isCircle:!1},c=t.intersects;h.iterate(function(d){c(d,f)&&n.push(d)})}return l.concat(n)};u.exports=m},62121:u=>{var m={setPushable:function(t){return t===void 0&&(t=!0),this.body.pushable=t,this}};u.exports=m},29384:u=>{var m={setOffset:function(t,a){return this.body.setOffset(t,a),this},setSize:function(t,a,p){return this.body.setSize(t,a,p),this},setBodySize:function(t,a,p){return this.body.setSize(t,a,p),this},setCircle:function(t,a,p){return this.body.setCircle(t,a,p),this}};u.exports=m},15098:u=>{var m={setVelocity:function(t,a){return this.body.setVelocity(t,a),this},setVelocityX:function(t){return this.body.setVelocityX(t),this},setVelocityY:function(t){return this.body.setVelocityY(t),this},setMaxVelocity:function(t,a){return this.body.maxVelocity.set(t,a),this}};u.exports=m},92209:(u,m,t)=>{u.exports={Acceleration:t(1093),Angular:t(59023),Bounce:t(62069),Collision:t(78389),Debug:t(87118),Drag:t(52819),Enable:t(4074),Friction:t(40831),Gravity:t(26775),Immovable:t(9437),Mass:t(30621),OverlapCirc:t(72441),OverlapRect:t(47956),Pushable:t(62121),Size:t(29384),Velocity:t(15098)}},37747:u=>{var m={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};u.exports=m},20009:u=>{u.exports="collide"},36768:u=>{u.exports="overlap"},60473:u=>{u.exports="pause"},89954:u=>{u.exports="resume"},61804:u=>{u.exports="tilecollide"},7161:u=>{u.exports="tileoverlap"},34689:u=>{u.exports="worldbounds"},16006:u=>{u.exports="worldstep"},63012:(u,m,t)=>{u.exports={COLLIDE:t(20009),OVERLAP:t(36768),PAUSE:t(60473),RESUME:t(89954),TILE_COLLIDE:t(61804),TILE_OVERLAP:t(7161),WORLD_BOUNDS:t(34689),WORLD_STEP:t(16006)}},27064:(u,m,t)=>{var a=t(37747),p=t(79291),o={ArcadePhysics:t(86689),Body:t(37742),Collider:t(79342),Components:t(92209),Events:t(63012),Factory:t(66022),GetCollidesWith:t(79599),GetOverlapX:t(64897),GetOverlapY:t(45170),SeparateX:t(14087),SeparateY:t(89936),Group:t(60758),Image:t(71289),Sprite:t(13759),StaticBody:t(72624),StaticGroup:t(71464),Tilemap:t(55173),World:t(82248)};o=p(!1,o,a),u.exports=o},96602:u=>{var m=function(t,a){return t.collisionCallback?!t.collisionCallback.call(t.collisionCallbackContext,a,t):t.layer.callbacks[t.index]?!t.layer.callbacks[t.index].callback.call(t.layer.callbacks[t.index].callbackContext,a,t):!0};u.exports=m},36294:u=>{var m=function(t,a){a<0?(t.blocked.none=!1,t.blocked.left=!0):a>0&&(t.blocked.none=!1,t.blocked.right=!0),t.position.x-=a,t.updateCenter(),t.bounce.x===0?t.velocity.x=0:t.velocity.x=-t.velocity.x*t.bounce.x};u.exports=m},67013:u=>{var m=function(t,a){a<0?(t.blocked.none=!1,t.blocked.up=!0):a>0&&(t.blocked.none=!1,t.blocked.down=!0),t.position.y-=a,t.updateCenter(),t.bounce.y===0?t.velocity.y=0:t.velocity.y=-t.velocity.y*t.bounce.y};u.exports=m},40012:(u,m,t)=>{var a=t(21329),p=t(53442),o=t(2483),s=function(r,e,n,l,i,h,f){var c=l.left,d=l.top,v=l.right,g=l.bottom,y=n.faceLeft||n.faceRight,x=n.faceTop||n.faceBottom;if(f||(y=!0,x=!0),!y&&!x)return!1;var T=0,S=0,A=0,P=1;if(e.deltaAbsX()>e.deltaAbsY()?A=-1:e.deltaAbsX()<e.deltaAbsY()&&(P=-1),e.deltaX()!==0&&e.deltaY()!==0&&y&&x&&(A=Math.min(Math.abs(e.position.x-v),Math.abs(e.right-c)),P=Math.min(Math.abs(e.position.y-g),Math.abs(e.bottom-d))),A<P){if(y&&(T=a(e,n,c,v,h,f),T!==0&&!o(l,e)))return!0;x&&(S=p(e,n,d,g,h,f))}else{if(x&&(S=p(e,n,d,g,h,f),S!==0&&!o(l,e)))return!0;y&&(T=a(e,n,c,v,h,f))}return T!==0||S!==0};u.exports=s},21329:(u,m,t)=>{var a=t(36294),p=function(o,s,r,e,n,l){var i=0,h=s.faceLeft,f=s.faceRight,c=s.collideLeft,d=s.collideRight;return l||(h=!0,f=!0,c=!0,d=!0),o.deltaX()<0&&d&&o.checkCollision.left?f&&o.x<e&&(i=o.x-e,i<-n&&(i=0)):o.deltaX()>0&&c&&o.checkCollision.right&&h&&o.right>r&&(i=o.right-r,i>n&&(i=0)),i!==0&&(o.customSeparateX?o.overlapX=i:a(o,i)),i};u.exports=p},53442:(u,m,t)=>{var a=t(67013),p=function(o,s,r,e,n,l){var i=0,h=s.faceTop,f=s.faceBottom,c=s.collideUp,d=s.collideDown;return l||(h=!0,f=!0,c=!0,d=!0),o.deltaY()<0&&d&&o.checkCollision.up?f&&o.y<e&&(i=o.y-e,i<-n&&(i=0)):o.deltaY()>0&&c&&o.checkCollision.down&&h&&o.bottom>r&&(i=o.bottom-r,i>n&&(i=0)),i!==0&&(o.customSeparateY?o.overlapY=i:a(o,i)),i};u.exports=p},2483:u=>{var m=function(t,a){return!(a.right<=t.left||a.bottom<=t.top||a.position.x>=t.right||a.position.y>=t.bottom)};u.exports=m},55173:(u,m,t)=>{var a={ProcessTileCallbacks:t(96602),ProcessTileSeparationX:t(36294),ProcessTileSeparationY:t(67013),SeparateTile:t(40012),TileCheckX:t(21329),TileCheckY:t(53442),TileIntersectsBody:t(2483)};u.exports=a},44563:(u,m,t)=>{u.exports={Arcade:t(27064),Matter:t(3875)}},68174:(u,m,t)=>{var a=t(83419),p=t(26099),o=new a({initialize:function(){this.boundsCenter=new p,this.centerDiff=new p},parseBody:function(s){if(s=s.hasOwnProperty("body")?s.body:s,!s.hasOwnProperty("bounds")||!s.hasOwnProperty("centerOfMass"))return!1;var r=this.boundsCenter,e=this.centerDiff,n=s.bounds.max.x-s.bounds.min.x,l=s.bounds.max.y-s.bounds.min.y,i=n*s.centerOfMass.x,h=l*s.centerOfMass.y;return r.set(n/2,l/2),e.set(i-r.x,h-r.y),!0},getTopLeft:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var n=this.boundsCenter,l=this.centerDiff;return new p(r+n.x+l.x,e+n.y+l.y)}return!1},getTopCenter:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var n=this.boundsCenter,l=this.centerDiff;return new p(r+l.x,e+n.y+l.y)}return!1},getTopRight:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var n=this.boundsCenter,l=this.centerDiff;return new p(r-(n.x-l.x),e+n.y+l.y)}return!1},getLeftCenter:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var n=this.boundsCenter,l=this.centerDiff;return new p(r+n.x+l.x,e+l.y)}return!1},getCenter:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var n=this.centerDiff;return new p(r+n.x,e+n.y)}return!1},getRightCenter:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var n=this.boundsCenter,l=this.centerDiff;return new p(r-(n.x-l.x),e+l.y)}return!1},getBottomLeft:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var n=this.boundsCenter,l=this.centerDiff;return new p(r+n.x+l.x,e-(n.y-l.y))}return!1},getBottomCenter:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var n=this.boundsCenter,l=this.centerDiff;return new p(r+l.x,e-(n.y-l.y))}return!1},getBottomRight:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var n=this.boundsCenter,l=this.centerDiff;return new p(r-(n.x-l.x),e-(n.y-l.y))}return!1}});u.exports=o},19933:(u,m,t)=>{var a=t(6790);a.Body=t(22562),a.Composite=t(69351),a.World=t(4372),a.Collision=t(52284),a.Detector=t(81388),a.Pairs=t(99561),a.Pair=t(4506),a.Query=t(73296),a.Resolver=t(66272),a.Constraint=t(48140),a.Common=t(53402),a.Engine=t(48413),a.Events=t(35810),a.Sleeping=t(53614),a.Plugin=t(73832),a.Bodies=t(66280),a.Composites=t(74116),a.Axes=t(66615),a.Bounds=t(15647),a.Svg=t(74058),a.Vector=t(31725),a.Vertices=t(41598),a.World.add=a.Composite.add,a.World.remove=a.Composite.remove,a.World.addComposite=a.Composite.addComposite,a.World.addBody=a.Composite.addBody,a.World.addConstraint=a.Composite.addConstraint,a.World.clear=a.Composite.clear,u.exports=a},28137:(u,m,t)=>{var a=t(66280),p=t(83419),o=t(74116),s=t(48140),r=t(74058),e=t(75803),n=t(23181),l=t(34803),i=t(73834),h=t(19496),f=t(85791),c=t(98713),d=t(41598),v=new p({initialize:function(y){this.world=y,this.scene=y.scene,this.sys=y.scene.sys},rectangle:function(g,y,x,T,S){var A=a.rectangle(g,y,x,T,S);return this.world.add(A),A},trapezoid:function(g,y,x,T,S,A){var P=a.trapezoid(g,y,x,T,S,A);return this.world.add(P),P},circle:function(g,y,x,T,S){var A=a.circle(g,y,x,T,S);return this.world.add(A),A},polygon:function(g,y,x,T,S){var A=a.polygon(g,y,x,T,S);return this.world.add(A),A},fromVertices:function(g,y,x,T,S,A,P){typeof x=="string"&&(x=d.fromPath(x));var D=a.fromVertices(g,y,x,T,S,A,P);return this.world.add(D),D},fromPhysicsEditor:function(g,y,x,T,S){S===void 0&&(S=!0);var A=h.parseBody(g,y,x,T);return S&&!this.world.has(A)&&this.world.add(A),A},fromSVG:function(g,y,x,T,S,A){T===void 0&&(T=1),S===void 0&&(S={}),A===void 0&&(A=!0);for(var P=x.getElementsByTagName("path"),D=[],R=0;R<P.length;R++){var L=r.pathToVertices(P[R],30);T!==1&&d.scale(L,T,T),D.push(L)}var I=a.fromVertices(g,y,D,S);return A&&this.world.add(I),I},fromJSON:function(g,y,x,T,S){T===void 0&&(T={}),S===void 0&&(S=!0);var A=f.parseBody(g,y,x,T);return A&&S&&this.world.add(A),A},imageStack:function(g,y,x,T,S,A,P,D,R){P===void 0&&(P=0),D===void 0&&(D=0),R===void 0&&(R={});var L=this.world,I=this.sys.displayList;R.addToWorld=!1;var w=o.stack(x,T,S,A,P,D,function(B,b){var V=new n(L,B,b,g,y,R);return I.add(V),V.body});return L.add(w),w},stack:function(g,y,x,T,S,A,P){var D=o.stack(g,y,x,T,S,A,P);return this.world.add(D),D},pyramid:function(g,y,x,T,S,A,P){var D=o.pyramid(g,y,x,T,S,A,P);return this.world.add(D),D},chain:function(g,y,x,T,S,A){return o.chain(g,y,x,T,S,A)},mesh:function(g,y,x,T,S){return o.mesh(g,y,x,T,S)},newtonsCradle:function(g,y,x,T,S){var A=o.newtonsCradle(g,y,x,T,S);return this.world.add(A),A},car:function(g,y,x,T,S){var A=o.car(g,y,x,T,S);return this.world.add(A),A},softBody:function(g,y,x,T,S,A,P,D,R,L){var I=o.softBody(g,y,x,T,S,A,P,D,R,L);return this.world.add(I),I},joint:function(g,y,x,T,S){return this.constraint(g,y,x,T,S)},spring:function(g,y,x,T,S){return this.constraint(g,y,x,T,S)},constraint:function(g,y,x,T,S){T===void 0&&(T=1),S===void 0&&(S={}),S.bodyA=g.type==="body"?g:g.body,S.bodyB=y.type==="body"?y:y.body,isNaN(x)||(S.length=x),S.stiffness=T;var A=s.create(S);return this.world.add(A),A},worldConstraint:function(g,y,x,T){x===void 0&&(x=1),T===void 0&&(T={}),T.bodyB=g.type==="body"?g:g.body,isNaN(y)||(T.length=y),T.stiffness=x;var S=s.create(T);return this.world.add(S),S},mouseSpring:function(g){return this.pointerConstraint(g)},pointerConstraint:function(g){g===void 0&&(g={}),g.hasOwnProperty("render")||(g.render={visible:!1});var y=new c(this.scene,this.world,g);return this.world.add(y.constraint),y},image:function(g,y,x,T,S){var A=new n(this.world,g,y,x,T,S);return this.sys.displayList.add(A),A},tileBody:function(g,y){return new i(this.world,g,y)},sprite:function(g,y,x,T,S){var A=new l(this.world,g,y,x,T,S);return this.sys.displayList.add(A),this.sys.updateList.add(A),A},gameObject:function(g,y,x){return e(this.world,g,y,x)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});u.exports=v},75803:(u,m,t)=>{var a=t(31884),p=t(95540),o=t(26099);function s(e){return!!e.get&&typeof e.get=="function"||!!e.set&&typeof e.set=="function"}var r=function(e,n,l,i){l===void 0&&(l={}),i===void 0&&(i=!0);var h=n.x,f=n.y;n.body={temp:!0,position:{x:h,y:f}};var c=[a.Bounce,a.Collision,a.Force,a.Friction,a.Gravity,a.Mass,a.Sensor,a.SetBody,a.Sleep,a.Static,a.Transform,a.Velocity];if(c.forEach(function(v){for(var g in v)s(v[g])?Object.defineProperty(n,g,{get:v[g].get,set:v[g].set}):Object.defineProperty(n,g,{value:v[g]})}),n.world=e,n._tempVec2=new o(h,f),l.hasOwnProperty("type")&&l.type==="body")n.setExistingBody(l,i);else{var d=p(l,"shape",null);d||(d="rectangle"),l.addToWorld=i,n.setBody(d,l)}return n};u.exports=r},23181:(u,m,t)=>{var a=t(83419),p=t(31884),o=t(95643),s=t(95540),r=t(88571),e=t(72699),n=t(26099),l=new a({Extends:r,Mixins:[p.Bounce,p.Collision,p.Force,p.Friction,p.Gravity,p.Mass,p.Sensor,p.SetBody,p.Sleep,p.Static,p.Transform,p.Velocity,e],initialize:function(h,f,c,d,v,g){o.call(this,h.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(d,v),this.setSizeToFrame(),this.setOrigin(),this.world=h,this._tempVec2=new n(f,c);var y=s(g,"shape",null);y?this.setBody(y,g):this.setRectangle(this.width,this.height,g),this.setPosition(f,c),this.initPipeline(),this.initPostPipeline(!0)}});u.exports=l},42045:(u,m,t)=>{var a=t(60461),p=t(66615),o=t(66280),s=t(22562),r=t(68174),e=t(15647),n=t(83419),l=t(52284),i=t(53402),h=t(69351),f=t(74116),c=t(48140),d=t(81388),v=t(20339),g=t(28137),y=t(95540),x=t(35154),T=t(46975),S=t(4506),A=t(99561),P=t(37277),D=t(73296),R=t(66272),L=t(44594),I=t(74058),w=t(31725),B=t(41598),b=t(68243);i.setDecomp(t(55973));var V=new n({initialize:function(G){this.scene=G,this.systems=G.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=s,this.composite=h,this.collision=l,this.detector=d,this.pair=S,this.pairs=A,this.query=D,this.resolver=R,this.constraint=c,this.bodies=o,this.composites=f,this.axes=p,this.bounds=e,this.svg=I,this.vector=w,this.vertices=B,this.verts=B,this._tempVec2=w.create(),R._restingThresh=x(this.config,"restingThresh",4),R._restingThreshTangent=x(this.config,"restingThreshTangent",6),R._positionDampen=x(this.config,"positionDampen",.9),R._positionWarming=x(this.config,"positionWarming",.8),R._frictionNormalMultiplier=x(this.config,"frictionNormalMultiplier",5),G.sys.events.once(L.BOOT,this.boot,this),G.sys.events.on(L.START,this.start,this)},boot:function(){this.world=new b(this.scene,this.config),this.add=new g(this.world),this.bodyBounds=new r,this.systems.events.once(L.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new b(this.scene,this.config),this.add=new g(this.world));var X=this.systems.events;X.on(L.UPDATE,this.world.update,this.world),X.on(L.POST_UPDATE,this.world.postUpdate,this.world),X.once(L.SHUTDOWN,this.shutdown,this)},getConfig:function(){var X=this.systems.game.config.physics,G=this.systems.settings.physics,U=T(y(G,"matter",{}),y(X,"matter",{}));return U},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(X,G){this.world.step(X,G)},containsPoint:function(X,G,U){X=this.getMatterBodies(X);var O=w.create(G,U),z=D.point(X,O);return z.length>0},intersectPoint:function(X,G,U){U=this.getMatterBodies(U);var O=w.create(X,G),z=[],N=D.point(U,O);return N.forEach(function(Y){z.indexOf(Y)===-1&&z.push(Y)}),z},intersectRect:function(X,G,U,O,z,N){z===void 0&&(z=!1),N=this.getMatterBodies(N);var Y={min:{x:X,y:G},max:{x:X+U,y:G+O}},W=[],H=D.region(N,Y,z);return H.forEach(function($){W.indexOf($)===-1&&W.push($)}),W},intersectRay:function(X,G,U,O,z,N){z===void 0&&(z=1),N=this.getMatterBodies(N);for(var Y=[],W=D.ray(N,w.create(X,G),w.create(U,O),z),H=0;H<W.length;H++)Y.push(W[H].body);return Y},intersectBody:function(X,G){G=this.getMatterBodies(G);for(var U=[],O=D.collides(X,G),z=0;z<O.length;z++){var N=O[z];N.bodyA===X?U.push(N.bodyB):U.push(N.bodyA)}return U},overlap:function(X,G,U,O,z){U===void 0&&(U=null),O===void 0&&(O=null),z===void 0&&(z=U),Array.isArray(X)||(X=[X]),X=this.getMatterBodies(X),G=this.getMatterBodies(G);for(var N=!1,Y=0;Y<X.length;Y++)for(var W=X[Y],H=D.collides(W,G),$=0;$<H.length;$++){var K=H[$],Z=K.bodyA.id===W.id?K.bodyB:K.bodyA;if(!O||O.call(z,W,Z,K)){if(N=!0,U)U.call(z,W,Z,K);else if(!O)return!0}}return N},setCollisionCategory:function(X,G){return X=this.getMatterBodies(X),X.forEach(function(U){U.collisionFilter.category=G}),this},setCollisionGroup:function(X,G){return X=this.getMatterBodies(X),X.forEach(function(U){U.collisionFilter.group=G}),this},setCollidesWith:function(X,G){X=this.getMatterBodies(X);var U=0;if(!Array.isArray(G))U=G;else for(var O=0;O<G.length;O++)U|=G[O];return X.forEach(function(z){z.collisionFilter.mask=U}),this},getMatterBodies:function(X){if(!X)return this.world.getAllBodies();Array.isArray(X)||(X=[X]);for(var G=[],U=0;U<X.length;U++){var O=X[U].hasOwnProperty("body")?X[U].body:X[U];G.push(O)}return G},setVelocity:function(X,G,U){X=this.getMatterBodies(X);var O=this._tempVec2;return O.x=G,O.y=U,X.forEach(function(z){s.setVelocity(z,O)}),this},setVelocityX:function(X,G){X=this.getMatterBodies(X);var U=this._tempVec2;return U.x=G,X.forEach(function(O){U.y=O.velocity.y,s.setVelocity(O,U)}),this},setVelocityY:function(X,G){X=this.getMatterBodies(X);var U=this._tempVec2;return U.y=G,X.forEach(function(O){U.x=O.velocity.x,s.setVelocity(O,U)}),this},setAngularVelocity:function(X,G){return X=this.getMatterBodies(X),X.forEach(function(U){s.setAngularVelocity(U,G)}),this},applyForce:function(X,G){X=this.getMatterBodies(X);var U=this._tempVec2;return X.forEach(function(O){U.x=O.position.x,U.y=O.position.y,s.applyForce(O,U,G)}),this},applyForceFromPosition:function(X,G,U,O){X=this.getMatterBodies(X);var z=this._tempVec2;return X.forEach(function(N){O===void 0&&(O=N.angle),z.x=U*Math.cos(O),z.y=U*Math.sin(O),s.applyForce(N,G,z)}),this},applyForceFromAngle:function(X,G,U){X=this.getMatterBodies(X);var O=this._tempVec2;return X.forEach(function(z){U===void 0&&(U=z.angle),O.x=G*Math.cos(U),O.y=G*Math.sin(U),s.applyForce(z,{x:z.position.x,y:z.position.y},O)}),this},getConstraintLength:function(X){var G=X.pointA.x,U=X.pointA.y,O=X.pointB.x,z=X.pointB.y;return X.bodyA&&(G+=X.bodyA.position.x,U+=X.bodyA.position.y),X.bodyB&&(O+=X.bodyB.position.x,z+=X.bodyB.position.y),v(G,U,O,z)},alignBody:function(X,G,U,O){X=X.hasOwnProperty("body")?X.body:X;var z;switch(O){case a.TOP_LEFT:case a.LEFT_TOP:z=this.bodyBounds.getTopLeft(X,G,U);break;case a.TOP_CENTER:z=this.bodyBounds.getTopCenter(X,G,U);break;case a.TOP_RIGHT:case a.RIGHT_TOP:z=this.bodyBounds.getTopRight(X,G,U);break;case a.LEFT_CENTER:z=this.bodyBounds.getLeftCenter(X,G,U);break;case a.CENTER:z=this.bodyBounds.getCenter(X,G,U);break;case a.RIGHT_CENTER:z=this.bodyBounds.getRightCenter(X,G,U);break;case a.LEFT_BOTTOM:case a.BOTTOM_LEFT:z=this.bodyBounds.getBottomLeft(X,G,U);break;case a.BOTTOM_CENTER:z=this.bodyBounds.getBottomCenter(X,G,U);break;case a.BOTTOM_RIGHT:case a.RIGHT_BOTTOM:z=this.bodyBounds.getBottomRight(X,G,U);break}return z&&s.setPosition(X,z),this},shutdown:function(){var X=this.systems.events;this.world&&(X.off(L.UPDATE,this.world.update,this.world),X.off(L.POST_UPDATE,this.world.postUpdate,this.world)),X.off(L.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(L.START,this.start,this),this.scene=null,this.systems=null}});P.register("MatterPhysics",V,"matterPhysics"),u.exports=V},34803:(u,m,t)=>{var a=t(9674),p=t(83419),o=t(31884),s=t(95643),r=t(95540),e=t(72699),n=t(68287),l=t(26099),i=new p({Extends:n,Mixins:[o.Bounce,o.Collision,o.Force,o.Friction,o.Gravity,o.Mass,o.Sensor,o.SetBody,o.Sleep,o.Static,o.Transform,o.Velocity,e],initialize:function(f,c,d,v,g,y){s.call(this,f.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new a(this),this.setTexture(v,g),this.setSizeToFrame(),this.setOrigin(),this.world=f,this._tempVec2=new l(c,d);var x=r(y,"shape",null);x?this.setBody(x,y):this.setRectangle(this.width,this.height,y),this.setPosition(c,d),this.initPipeline(),this.initPostPipeline(!0)}});u.exports=i},73834:(u,m,t)=>{var a=t(66280),p=t(22562),o=t(83419),s=t(31884),r=t(62644),e=t(50792),n=t(95540),l=t(97022),i=t(41598),h=new o({Extends:e,Mixins:[s.Bounce,s.Collision,s.Friction,s.Gravity,s.Mass,s.Sensor,s.Sleep,s.Static],initialize:function(c,d,v){e.call(this),this.tile=d,this.world=c,d.physics.matterBody&&d.physics.matterBody.destroy(),d.physics.matterBody=this;var g=n(v,"body",null),y=n(v,"addToWorld",!0);if(g)this.setBody(g,y);else{var x=d.getCollisionGroup(),T=n(x,"objects",[]);T.length>0?this.setFromTileCollision(v):this.setFromTileRectangle(v)}if(d.flipX||d.flipY){var S={x:d.getCenterX(),y:d.getCenterY()},A=d.flipX?-1:1,P=d.flipY?-1:1;p.scale(g,A,P,S)}},setFromTileRectangle:function(f){f===void 0&&(f={}),l(f,"isStatic")||(f.isStatic=!0),l(f,"addToWorld")||(f.addToWorld=!0);var c=this.tile.getBounds(),d=c.x+c.width/2,v=c.y+c.height/2,g=a.rectangle(d,v,c.width,c.height,f);return this.setBody(g,f.addToWorld),this},setFromTileCollision:function(f){f===void 0&&(f={}),l(f,"isStatic")||(f.isStatic=!0),l(f,"addToWorld")||(f.addToWorld=!0);for(var c=this.tile.tilemapLayer.scaleX,d=this.tile.tilemapLayer.scaleY,v=this.tile.getLeft(),g=this.tile.getTop(),y=this.tile.getCollisionGroup(),x=n(y,"objects",[]),T=[],S=0;S<x.length;S++){var A=x[S],P=v+A.x*c,D=g+A.y*d,R=A.width*c,L=A.height*d,I=null;if(A.rectangle)I=a.rectangle(P+R/2,D+L/2,R,L,f);else if(A.ellipse)I=a.circle(P+R/2,D+L/2,R/2,f);else if(A.polygon||A.polyline){var w=A.polygon?A.polygon:A.polyline,B=w.map(function(G){return{x:G.x*c,y:G.y*d}}),b=i.create(B),V=i.centre(b);P+=V.x,D+=V.y,I=a.fromVertices(P,D,b,f)}I&&T.push(I)}if(T.length===1)this.setBody(T[0],f.addToWorld);else if(T.length>1){var X=r(f);X.parts=T,this.setBody(p.create(X),X.addToWorld)}return this},setBody:function(f,c){return c===void 0&&(c=!0),this.body&&this.removeBody(),this.body=f,this.body.gameObject=this,c&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});u.exports=h},19496:(u,m,t)=>{var a=t(66280),p=t(22562),o=t(53402),s=t(95540),r=t(41598),e={parseBody:function(n,l,i,h){h===void 0&&(h={});for(var f=s(i,"fixtures",[]),c=[],d=0;d<f.length;d++)for(var v=this.parseFixture(f[d]),g=0;g<v.length;g++)c.push(v[g]);var y=o.clone(i,!0);o.extend(y,h,!0),delete y.fixtures,delete y.type;var x=p.create(y);return p.setParts(x,c),p.setPosition(x,{x:n,y:l}),x},parseFixture:function(n){var l=o.extend({},!1,n);delete l.circle,delete l.vertices;var i;if(n.circle){var h=s(n.circle,"x"),f=s(n.circle,"y"),c=s(n.circle,"radius");i=[a.circle(h,f,c,l)]}else n.vertices&&(i=this.parseVertices(n.vertices,l));return i},parseVertices:function(n,l){l===void 0&&(l={});for(var i=[],h=0;h<n.length;h++)r.clockwiseSort(n[h]),i.push(p.create(o.extend({position:r.centre(n[h]),vertices:n[h]},l)));return a.flagCoincidentParts(i)}};u.exports=e},85791:(u,m,t)=>{var a=t(66280),p=t(22562),o={parseBody:function(s,r,e,n){n===void 0&&(n={});var l,i=e.vertices;if(i.length===1)n.vertices=i[0],l=p.create(n),a.flagCoincidentParts(l.parts);else{for(var h=[],f=0;f<i.length;f++){var c=p.create({vertices:i[f]});h.push(c)}a.flagCoincidentParts(h),n.parts=h,l=p.create(n)}return l.label=e.label,p.setPosition(l,{x:s,y:r}),l}};u.exports=o},98713:(u,m,t)=>{var a=t(15647),p=t(83419),o=t(69351),s=t(48140),r=t(81388),e=t(1121),n=t(8214),l=t(46975),i=t(53614),h=t(26099),f=t(41598),c=new p({initialize:function(v,g,y){y===void 0&&(y={});var x={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=v,this.world=g,this.camera=null,this.pointer=null,this.active=!0,this.position=new h,this.body=null,this.part=null,this.constraint=s.create(l(y,x)),this.world.on(e.BEFORE_UPDATE,this.update,this),v.sys.input.on(n.POINTER_DOWN,this.onDown,this),v.sys.input.on(n.POINTER_UP,this.onUp,this)},onDown:function(d){this.pointer||(this.pointer=d,this.camera=d.camera)},onUp:function(d){d===this.pointer&&(this.pointer=null)},getBody:function(d){var v=this.position,g=this.constraint;this.camera.getWorldPoint(d.x,d.y,v);for(var y=o.allBodies(this.world.localWorld),x=0;x<y.length;x++){var T=y[x];if(!T.ignorePointer&&a.contains(T.bounds,v)&&r.canCollide(T.collisionFilter,g.collisionFilter)&&this.hitTestBody(T,v))return this.world.emit(e.DRAG_START,T,this.part,this),!0}return!1},hitTestBody:function(d,v){for(var g=this.constraint,y=d.parts.length,x=y>1?1:0,T=x;T<y;T++){var S=d.parts[T];if(f.contains(S.vertices,v))return g.pointA=v,g.pointB={x:v.x-d.position.x,y:v.y-d.position.y},g.bodyB=d,g.angleB=d.angle,i.set(d,!1),this.part=S,this.body=d,!0}return!1},update:function(){var d=this.pointer,v=this.body;if(!this.active||!d){v&&this.stopDrag();return}if(!d.isDown&&v){this.stopDrag();return}else if(d.isDown){if(!this.camera||!v&&!this.getBody(d))return;v=this.body;var g=this.position,y=this.constraint;this.camera.getWorldPoint(d.x,d.y,g),y.pointA.x=g.x,y.pointA.y=g.y,i.set(v,!1),this.world.emit(e.DRAG,v,this)}},stopDrag:function(){var d=this.body,v=this.constraint;v.bodyB=null,v.pointB=null,this.pointer=null,this.body=null,this.part=null,d&&this.world.emit(e.DRAG_END,d,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(e.BEFORE_UPDATE,this.update),this.scene.sys.input.off(n.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(n.POINTER_UP,this.onUp,this)}});u.exports=c},68243:(u,m,t)=>{var a=t(66280),p=t(22562),o=t(83419),s=t(53402),r=t(69351),e=t(48413),n=t(50792),l=t(1121),i=t(95540),h=t(35154),f=t(22562),c=t(35810),d=t(73834),v=t(4372),g=t(13037),y=t(31725),x=new o({Extends:n,initialize:function(S,A){n.call(this),this.scene=S,this.engine=e.create(A),this.localWorld=this.engine.world;var P=h(A,"gravity",null);P?this.setGravity(P.x,P.y,P.scale):P===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=h(A,"enabled",!0),this.getDelta=h(A,"getDelta",this.update60Hz);var D=i(A,"runner",{}),R=i(D,"fps",!1);R&&(D.delta=1e3/i(D,"fps",60)),this.runner=g.create(D),this.autoUpdate=h(A,"autoUpdate",!0);var L=h(A,"debug",!1);if(this.drawDebug=typeof L=="object"?!0:L,this.debugGraphic,this.debugConfig={showAxes:i(L,"showAxes",!1),showAngleIndicator:i(L,"showAngleIndicator",!1),angleColor:i(L,"angleColor",15208787),showBroadphase:i(L,"showBroadphase",!1),broadphaseColor:i(L,"broadphaseColor",16757760),showBounds:i(L,"showBounds",!1),boundsColor:i(L,"boundsColor",16777215),showVelocity:i(L,"showVelocity",!1),velocityColor:i(L,"velocityColor",44783),showCollisions:i(L,"showCollisions",!1),collisionColor:i(L,"collisionColor",16094476),showSeparations:i(L,"showSeparations",!1),separationColor:i(L,"separationColor",16753920),showBody:i(L,"showBody",!0),showStaticBody:i(L,"showStaticBody",!0),showInternalEdges:i(L,"showInternalEdges",!1),renderFill:i(L,"renderFill",!1),renderLine:i(L,"renderLine",!0),fillColor:i(L,"fillColor",1075465),fillOpacity:i(L,"fillOpacity",1),lineColor:i(L,"lineColor",2678297),lineOpacity:i(L,"lineOpacity",1),lineThickness:i(L,"lineThickness",1),staticFillColor:i(L,"staticFillColor",857979),staticLineColor:i(L,"staticLineColor",1255396),showSleeping:i(L,"showSleeping",!1),staticBodySleepOpacity:i(L,"staticBodySleepOpacity",.7),sleepFillColor:i(L,"sleepFillColor",4605510),sleepLineColor:i(L,"sleepLineColor",10066585),showSensors:i(L,"showSensors",!0),sensorFillColor:i(L,"sensorFillColor",857979),sensorLineColor:i(L,"sensorLineColor",1255396),showPositions:i(L,"showPositions",!0),positionSize:i(L,"positionSize",4),positionColor:i(L,"positionColor",14697178),showJoint:i(L,"showJoint",!0),jointColor:i(L,"jointColor",14737474),jointLineOpacity:i(L,"jointLineOpacity",1),jointLineThickness:i(L,"jointLineThickness",2),pinSize:i(L,"pinSize",4),pinColor:i(L,"pinColor",4382944),springColor:i(L,"springColor",14697184),anchorColor:i(L,"anchorColor",15724527),anchorSize:i(L,"anchorSize",4),showConvexHulls:i(L,"showConvexHulls",!1),hullColor:i(L,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),i(A,"setBounds",!1)){var I=A.setBounds;if(typeof I=="boolean")this.setBounds();else{var w=i(I,"x",0),B=i(I,"y",0),b=i(I,"width",S.sys.scale.width),V=i(I,"height",S.sys.scale.height),X=i(I,"thickness",64),G=i(I,"left",!0),U=i(I,"right",!0),O=i(I,"top",!0),z=i(I,"bottom",!0);this.setBounds(w,B,b,V,X,G,U,O,z)}}},setCompositeRenderStyle:function(T){var S=T.bodies,A=T.constraints,P=T.composites,D,R,L;for(D=0;D<S.length;D++)R=S[D],L=R.render,this.setBodyRenderStyle(R,L.lineColor,L.lineOpacity,L.lineThickness,L.fillColor,L.fillOpacity);for(D=0;D<A.length;D++)R=A[D],L=R.render,this.setConstraintRenderStyle(R,L.lineColor,L.lineOpacity,L.lineThickness,L.pinSize,L.anchorColor,L.anchorSize);for(D=0;D<P.length;D++)R=P[D],this.setCompositeRenderStyle(R);return this},setBodyRenderStyle:function(T,S,A,P,D,R){var L=T.render,I=this.debugConfig;return L?(S==null&&(S=T.isStatic?I.staticLineColor:I.lineColor),A==null&&(A=I.lineOpacity),P==null&&(P=I.lineThickness),D==null&&(D=T.isStatic?I.staticFillColor:I.fillColor),R==null&&(R=I.fillOpacity),S!==!1&&(L.lineColor=S),A!==!1&&(L.lineOpacity=A),P!==!1&&(L.lineThickness=P),D!==!1&&(L.fillColor=D),R!==!1&&(L.fillOpacity=R),this):this},setConstraintRenderStyle:function(T,S,A,P,D,R,L){var I=T.render,w=this.debugConfig;if(!I)return this;if(S==null){var B=I.type;B==="line"?S=w.jointColor:B==="pin"?S=w.pinColor:B==="spring"&&(S=w.springColor)}return A==null&&(A=w.jointLineOpacity),P==null&&(P=w.jointLineThickness),D==null&&(D=w.pinSize),R==null&&(R=w.anchorColor),L==null&&(L=w.anchorSize),S!==!1&&(I.lineColor=S),A!==!1&&(I.lineOpacity=A),P!==!1&&(I.lineThickness=P),D!==!1&&(I.pinSize=D),R!==!1&&(I.anchorColor=R),L!==!1&&(I.anchorSize=L),this},setEventsProxy:function(){var T=this,S=this.engine,A=this.localWorld;this.drawDebug&&(c.on(A,"compositeModified",function(P){T.setCompositeRenderStyle(P)}),c.on(A,"beforeAdd",function(P){for(var D=[].concat(P.object),R=0;R<D.length;R++){var L=D[R],I=L.render;L.type==="body"?T.setBodyRenderStyle(L,I.lineColor,I.lineOpacity,I.lineThickness,I.fillColor,I.fillOpacity):L.type==="composite"?T.setCompositeRenderStyle(L):L.type==="constraint"&&T.setConstraintRenderStyle(L,I.lineColor,I.lineOpacity,I.lineThickness,I.pinSize,I.anchorColor,I.anchorSize)}})),c.on(A,"beforeAdd",function(P){T.emit(l.BEFORE_ADD,P)}),c.on(A,"afterAdd",function(P){T.emit(l.AFTER_ADD,P)}),c.on(A,"beforeRemove",function(P){T.emit(l.BEFORE_REMOVE,P)}),c.on(A,"afterRemove",function(P){T.emit(l.AFTER_REMOVE,P)}),c.on(S,"beforeUpdate",function(P){T.emit(l.BEFORE_UPDATE,P)}),c.on(S,"afterUpdate",function(P){T.emit(l.AFTER_UPDATE,P)}),c.on(S,"collisionStart",function(P){var D=P.pairs,R,L;D.length>0&&D.map(function(I){R=I.bodyA,L=I.bodyB,R.gameObject&&R.gameObject.emit("collide",R,L,I),L.gameObject&&L.gameObject.emit("collide",L,R,I),c.trigger(R,"onCollide",{pair:I}),c.trigger(L,"onCollide",{pair:I}),R.onCollideCallback&&R.onCollideCallback(I),L.onCollideCallback&&L.onCollideCallback(I),R.onCollideWith[L.id]&&R.onCollideWith[L.id](L,I),L.onCollideWith[R.id]&&L.onCollideWith[R.id](R,I)}),T.emit(l.COLLISION_START,P,R,L)}),c.on(S,"collisionActive",function(P){var D=P.pairs,R,L;D.length>0&&D.map(function(I){R=I.bodyA,L=I.bodyB,R.gameObject&&R.gameObject.emit("collideActive",R,L,I),L.gameObject&&L.gameObject.emit("collideActive",L,R,I),c.trigger(R,"onCollideActive",{pair:I}),c.trigger(L,"onCollideActive",{pair:I}),R.onCollideActiveCallback&&R.onCollideActiveCallback(I),L.onCollideActiveCallback&&L.onCollideActiveCallback(I)}),T.emit(l.COLLISION_ACTIVE,P,R,L)}),c.on(S,"collisionEnd",function(P){var D=P.pairs,R,L;D.length>0&&D.map(function(I){R=I.bodyA,L=I.bodyB,R.gameObject&&R.gameObject.emit("collideEnd",R,L,I),L.gameObject&&L.gameObject.emit("collideEnd",L,R,I),c.trigger(R,"onCollideEnd",{pair:I}),c.trigger(L,"onCollideEnd",{pair:I}),R.onCollideEndCallback&&R.onCollideEndCallback(I),L.onCollideEndCallback&&L.onCollideEndCallback(I)}),T.emit(l.COLLISION_END,P,R,L)})},setBounds:function(T,S,A,P,D,R,L,I,w){return T===void 0&&(T=0),S===void 0&&(S=0),A===void 0&&(A=this.scene.sys.scale.width),P===void 0&&(P=this.scene.sys.scale.height),D===void 0&&(D=64),R===void 0&&(R=!0),L===void 0&&(L=!0),I===void 0&&(I=!0),w===void 0&&(w=!0),this.updateWall(R,"left",T-D,S-D,D,P+D*2),this.updateWall(L,"right",T+A,S-D,D,P+D*2),this.updateWall(I,"top",T,S-D,A,D),this.updateWall(w,"bottom",T,S+P,A,D),this},updateWall:function(T,S,A,P,D,R){var L=this.walls[S];T?(L&&v.remove(this.localWorld,L),A+=D/2,P+=R/2,this.walls[S]=this.create(A,P,D,R,{isStatic:!0,friction:0,frictionStatic:0})):(L&&v.remove(this.localWorld,L),this.walls[S]=null)},createDebugGraphic:function(){var T=this.scene.sys.add.graphics({x:0,y:0});return T.setDepth(Number.MAX_VALUE),this.debugGraphic=T,this.drawDebug=!0,T},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(T,S,A){return T===void 0&&(T=0),S===void 0&&(S=1),A===void 0&&(A=.001),this.localWorld.gravity.x=T,this.localWorld.gravity.y=S,this.localWorld.gravity.scale=A,this},create:function(T,S,A,P,D){var R=a.rectangle(T,S,A,P,D);return v.add(this.localWorld,R),R},add:function(T){return v.add(this.localWorld,T),this},remove:function(T,S){Array.isArray(T)||(T=[T]);for(var A=0;A<T.length;A++){var P=T[A],D=P.body?P.body:P;r.remove(this.localWorld,D,S)}return this},removeConstraint:function(T,S){return r.remove(this.localWorld,T,S),this},convertTilemapLayer:function(T,S){var A=T.layer,P=T.getTilesWithin(0,0,A.width,A.height,{isColliding:!0});return this.convertTiles(P,S),this},convertTiles:function(T,S){if(T.length===0)return this;for(var A=0;A<T.length;A++)new d(this,T[A],S);return this},nextGroup:function(T){return f.nextGroup(T)},nextCategory:function(){return f.nextCategory()},pause:function(){return this.enabled=!1,this.emit(l.PAUSE),this},resume:function(){return this.enabled=!0,this.runner.timeLastTick=s.now(),this.emit(l.RESUME),this},update:function(T){if(!(!this.enabled||!this.autoUpdate)){var S=this.engine,A=this.runner,P=s.now(),D=A.delta,R=0,L=T-A.timeLastTick;if((!L||!A.timeLastTick||L>Math.max(g._maxFrameDelta,A.maxFrameTime))&&(L=A.frameDelta||g._frameDeltaFallback),A.frameDeltaSmoothing){A.frameDeltaHistory.push(L),A.frameDeltaHistory=A.frameDeltaHistory.slice(-A.frameDeltaHistorySize);var I=A.frameDeltaHistory.slice(0).sort(),w=A.frameDeltaHistory.slice(I.length*g._smoothingLowerBound,I.length*g._smoothingUpperBound),B=g._mean(w);L=B||L}A.frameDeltaSnapping&&(L=1e3/Math.round(1e3/L)),A.frameDelta=L,A.timeLastTick=T,A.timeBuffer+=A.frameDelta,A.timeBuffer=s.clamp(A.timeBuffer,0,A.frameDelta+D*g._timeBufferMargin),A.lastUpdatesDeferred=0;for(var b=A.maxUpdates||Math.ceil(A.maxFrameTime/D),V=s.now();D>0&&A.timeBuffer>=D*g._timeBufferMargin;){e.update(S,D),A.timeBuffer-=D,R+=1;var X=s.now()-P,G=s.now()-V,U=X+g._elapsedNextEstimate*G/R;if(R>=b||U>A.maxFrameTime){A.lastUpdatesDeferred=Math.round(Math.max(0,A.timeBuffer/D-g._timeBufferMargin));break}}}},step:function(T){e.update(this.engine,T)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(T){var S=T.hasOwnProperty("body")?T.body:T;return r.get(this.localWorld,S.id,S.type)!==null},getAllBodies:function(){return r.allBodies(this.localWorld)},getAllConstraints:function(){return r.allConstraints(this.localWorld)},getAllComposites:function(){return r.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var T=this.debugConfig,S=this.engine,A=this.debugGraphic,P=r.allBodies(this.localWorld);this.debugGraphic.clear(),T.showBroadphase&&S.broadphase.controller&&this.renderGrid(S.broadphase,A,T.broadphaseColor,.5),T.showBounds&&this.renderBodyBounds(P,A,T.boundsColor,.5),(T.showBody||T.showStaticBody)&&this.renderBodies(P),T.showJoint&&this.renderJoints(),(T.showAxes||T.showAngleIndicator)&&this.renderBodyAxes(P,A,T.showAxes,T.angleColor,.5),T.showVelocity&&this.renderBodyVelocity(P,A,T.velocityColor,1,2),T.showSeparations&&this.renderSeparations(S.pairs.list,A,T.separationColor),T.showCollisions&&this.renderCollisions(S.pairs.list,A,T.collisionColor)}},renderGrid:function(T,S,A,P){S.lineStyle(1,A,P);for(var D=s.keys(T.buckets),R=0;R<D.length;R++){var L=D[R];if(!(T.buckets[L].length<2)){var I=L.split(/C|R/);S.strokeRect(parseInt(I[1],10)*T.bucketWidth,parseInt(I[2],10)*T.bucketHeight,T.bucketWidth,T.bucketHeight)}}return this},renderSeparations:function(T,S,A){S.lineStyle(1,A,1);for(var P=0;P<T.length;P++){var D=T[P];if(D.isActive){var R=D.collision,L=R.bodyA,I=R.bodyB,w=L.position,B=I.position,b=R.penetration,V=!L.isStatic&&!I.isStatic?4:1;I.isStatic&&(V=0),S.lineBetween(B.x,B.y,B.x-b.x*V,B.y-b.y*V),V=!L.isStatic&&!I.isStatic?4:1,L.isStatic&&(V=0),S.lineBetween(w.x,w.y,w.x-b.x*V,w.y-b.y*V)}}return this},renderCollisions:function(T,S,A){S.lineStyle(1,A,.5),S.fillStyle(A,1);var P,D;for(P=0;P<T.length;P++)if(D=T[P],!!D.isActive)for(var R=0;R<D.contactCount;R++){var L=D.contacts[R],I=L.vertex;I&&S.fillRect(I.x-2,I.y-2,5,5)}for(P=0;P<T.length;P++)if(D=T[P],!!D.isActive){var w=D.collision,B=D.contacts;if(D.contactCount>0){var b=B[0].vertex.x,V=B[0].vertex.y;D.contactCount===2&&(b=(B[0].vertex.x+B[1].vertex.x)/2,V=(B[0].vertex.y+B[1].vertex.y)/2),w.bodyB===w.supports[0].body||w.bodyA.isStatic?S.lineBetween(b-w.normal.x*8,V-w.normal.y*8,b,V):S.lineBetween(b+w.normal.x*8,V+w.normal.y*8,b,V)}}return this},renderBodyBounds:function(T,S,A,P){S.lineStyle(1,A,P);for(var D=0;D<T.length;D++){var R=T[D];if(R.render.visible){var L=R.bounds;if(L)S.strokeRect(L.min.x,L.min.y,L.max.x-L.min.x,L.max.y-L.min.y);else for(var I=R.parts,w=I.length>1?1:0;w<I.length;w++){var B=I[w];S.strokeRect(B.bounds.min.x,B.bounds.min.y,B.bounds.max.x-B.bounds.min.x,B.bounds.max.y-B.bounds.min.y)}}}return this},renderBodyAxes:function(T,S,A,P,D){S.lineStyle(1,P,D);for(var R=0;R<T.length;R++){var L=T[R],I=L.parts;if(L.render.visible){var w,B,b;if(A)for(B=I.length>1?1:0;B<I.length;B++)for(w=I[B],b=0;b<w.axes.length;b++){var V=w.axes[b];S.lineBetween(w.position.x,w.position.y,w.position.x+V.x*20,w.position.y+V.y*20)}else for(B=I.length>1?1:0;B<I.length;B++)for(w=I[B],b=0;b<w.axes.length;b++)S.lineBetween(w.position.x,w.position.y,(w.vertices[0].x+w.vertices[w.vertices.length-1].x)/2,(w.vertices[0].y+w.vertices[w.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(T,S,A,P,D){S.lineStyle(D,A,P);for(var R=0;R<T.length;R++){var L=T[R];L.render.visible&&S.lineBetween(L.position.x,L.position.y,L.position.x+(L.position.x-L.positionPrev.x)*2,L.position.y+(L.position.y-L.positionPrev.y)*2)}return this},renderBodies:function(T){for(var S=this.debugGraphic,A=this.debugConfig,P=A.showBody,D=A.showStaticBody,R=A.showSleeping,L=A.showInternalEdges,I=A.showConvexHulls,w=A.renderFill,B=A.renderLine,b=A.staticBodySleepOpacity,V=A.sleepFillColor,X=A.sleepLineColor,G=A.hullColor,U=0;U<T.length;U++){var O=T[U];if(O.render.visible&&!(!D&&O.isStatic||!P&&!O.isStatic)){var z=O.render.lineColor,N=O.render.lineOpacity,Y=O.render.lineThickness,W=O.render.fillColor,H=O.render.fillOpacity;R&&O.isSleeping&&(O.isStatic?(N*=b,H*=b):(z=X,W=V)),w||(W=null),B||(z=null),this.renderBody(O,S,L,z,N,Y,W,H);var $=O.parts.length;I&&$>1&&this.renderConvexHull(O,S,G,Y)}}},renderBody:function(T,S,A,P,D,R,L,I){P===void 0&&(P=null),D===void 0&&(D=null),R===void 0&&(R=1),L===void 0&&(L=null),I===void 0&&(I=null);for(var w=this.debugConfig,B=w.sensorFillColor,b=w.sensorLineColor,V=T.parts,X=V.length,G=X>1?1:0;G<X;G++){var U=V[G],O=U.render,z=O.opacity;if(!(!O.visible||z===0||U.isSensor&&!w.showSensors)){var N=U.circleRadius;if(S.beginPath(),U.isSensor?(L!==null&&S.fillStyle(B,I*z),P!==null&&S.lineStyle(R,b,D*z)):(L!==null&&S.fillStyle(L,I*z),P!==null&&S.lineStyle(R,P,D*z)),N)S.arc(U.position.x,U.position.y,N,0,2*Math.PI);else{var Y=U.vertices,W=Y.length;S.moveTo(Y[0].x,Y[0].y);for(var H=1;H<W;H++){var $=Y[H];if(!Y[H-1].isInternal||A?S.lineTo($.x,$.y):S.moveTo($.x,$.y),H<W&&$.isInternal&&!A){var K=(H+1)%W;S.moveTo(Y[K].x,Y[K].y)}}S.closePath()}L!==null&&S.fillPath(),P!==null&&S.strokePath()}}if(w.showPositions&&!T.isStatic){var Z=T.position.x,J=T.position.y,j=Math.ceil(w.positionSize/2);S.fillStyle(w.positionColor,1),S.fillRect(Z-j,J-j,w.positionSize,w.positionSize)}return this},renderConvexHull:function(T,S,A,P){P===void 0&&(P=1);var D=T.parts,R=D.length;if(R>1){var L=T.vertices;S.lineStyle(P,A),S.beginPath(),S.moveTo(L[0].x,L[0].y);for(var I=1;I<L.length;I++)S.lineTo(L[I].x,L[I].y);S.lineTo(L[0].x,L[0].y),S.strokePath()}return this},renderJoints:function(){for(var T=this.debugGraphic,S=r.allConstraints(this.localWorld),A=0;A<S.length;A++){var P=S[A].render,D=P.lineColor,R=P.lineOpacity,L=P.lineThickness,I=P.pinSize,w=P.anchorColor,B=P.anchorSize;this.renderConstraint(S[A],T,D,R,L,I,w,B)}},renderConstraint:function(T,S,A,P,D,R,L,I){var w=T.render;if(!w.visible||!T.pointA||!T.pointB)return this;S.lineStyle(D,A,P);var B=T.bodyA,b=T.bodyB,V,X;if(B?V=y.add(B.position,T.pointA):V=T.pointA,w.type==="pin")S.strokeCircle(V.x,V.y,R);else{if(b?X=y.add(b.position,T.pointB):X=T.pointB,S.beginPath(),S.moveTo(V.x,V.y),w.type==="spring")for(var G=y.sub(X,V),U=y.perp(y.normalise(G)),O=Math.ceil(s.clamp(T.length/5,12,20)),z,N=1;N<O;N+=1)z=N%2===0?1:-1,S.lineTo(V.x+G.x*(N/O)+U.x*z*4,V.y+G.y*(N/O)+U.y*z*4);S.lineTo(X.x,X.y)}return S.strokePath(),w.anchors&&I>0&&(S.fillStyle(L),S.fillCircle(V.x,V.y,I),S.fillCircle(X.x,X.y,I)),this},resetCollisionIDs:function(){return p._nextCollidingGroupId=1,p._nextNonCollidingGroupId=-1,p._nextCategory=1,this},shutdown:function(){c.off(this.engine),this.removeAllListeners(),v.clear(this.localWorld,!1),e.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});u.exports=x},70410:u=>{var m={setBounce:function(t){return this.body.restitution=t,this}};u.exports=m},66968:u=>{var m={setCollisionCategory:function(t){return this.body.collisionFilter.category=t,this},setCollisionGroup:function(t){return this.body.collisionFilter.group=t,this},setCollidesWith:function(t){var a=0;if(!Array.isArray(t))a=t;else for(var p=0;p<t.length;p++)a|=t[p];return this.body.collisionFilter.mask=a,this},setOnCollide:function(t){return this.body.onCollideCallback=t,this},setOnCollideEnd:function(t){return this.body.onCollideEndCallback=t,this},setOnCollideActive:function(t){return this.body.onCollideActiveCallback=t,this},setOnCollideWith:function(t,a){Array.isArray(t)||(t=[t]);for(var p=0;p<t.length;p++){var o=t[p].hasOwnProperty("body")?t[p].body:t[p];this.body.setOnCollideWith(o,a)}return this}};u.exports=m},51607:(u,m,t)=>{var a=t(22562),p={applyForce:function(o){return this._tempVec2.set(this.body.position.x,this.body.position.y),a.applyForce(this.body,this._tempVec2,o),this},applyForceFrom:function(o,s){return a.applyForce(this.body,o,s),this},thrust:function(o){var s=this.body.angle;return this._tempVec2.set(o*Math.cos(s),o*Math.sin(s)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(o){var s=this.body.angle-Math.PI/2;return this._tempVec2.set(o*Math.cos(s),o*Math.sin(s)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(o){var s=this.body.angle+Math.PI/2;return this._tempVec2.set(o*Math.cos(s),o*Math.sin(s)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(o){var s=this.body.angle-Math.PI;return this._tempVec2.set(o*Math.cos(s),o*Math.sin(s)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};u.exports=p},5436:u=>{var m={setFriction:function(t,a,p){return this.body.friction=t,a!==void 0&&(this.body.frictionAir=a),p!==void 0&&(this.body.frictionStatic=p),this},setFrictionAir:function(t){return this.body.frictionAir=t,this},setFrictionStatic:function(t){return this.body.frictionStatic=t,this}};u.exports=m},39858:u=>{var m={setIgnoreGravity:function(t){return this.body.ignoreGravity=t,this}};u.exports=m},37302:(u,m,t)=>{var a=t(22562),p=t(26099),o={setMass:function(s){return a.setMass(this.body,s),this},setDensity:function(s){return a.setDensity(this.body,s),this},centerOfMass:{get:function(){return new p(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};u.exports=o},39132:u=>{var m={setSensor:function(t){return this.body.isSensor=t,this},isSensor:function(){return this.body.isSensor}};u.exports=m},57772:(u,m,t)=>{var a=t(66280),p=t(22562),o=t(43855),s=t(95540),r=t(19496),e=t(85791),n=t(41598),l={setRectangle:function(i,h,f){return this.setBody({type:"rectangle",width:i,height:h},f)},setCircle:function(i,h){return this.setBody({type:"circle",radius:i},h)},setPolygon:function(i,h,f){return this.setBody({type:"polygon",sides:h,radius:i},f)},setTrapezoid:function(i,h,f,c){return this.setBody({type:"trapezoid",width:i,height:h,slope:f},c)},setExistingBody:function(i,h){h===void 0&&(h=!0),this.body&&this.world.remove(this.body,!0),this.body=i;for(var f=0;f<i.parts.length;f++)i.parts[f].gameObject=this;var c=this;if(i.destroy=function(){c.world.remove(c.body,!0),c.body.gameObject=null},h&&(this.world.has(i)&&this.world.remove(i,!0),this.world.add(i)),this._originComponent){var d=i.render.sprite.xOffset,v=i.render.sprite.yOffset,g=i.centerOfMass.x,y=i.centerOfMass.y;if(o(g,.5)&&o(y,.5))this.setOrigin(d+.5,v+.5);else{var x=i.centerOffset.x,T=i.centerOffset.y;this.setOrigin(d+x/this.displayWidth,v+T/this.displayHeight)}}return this},setBody:function(i,h){if(!i)return this;var f;typeof i=="string"&&(i={type:i});var c=s(i,"type","rectangle"),d=s(i,"x",this._tempVec2.x),v=s(i,"y",this._tempVec2.y),g=s(i,"width",this.width),y=s(i,"height",this.height);switch(c){case"rectangle":f=a.rectangle(d,v,g,y,h);break;case"circle":var x=s(i,"radius",Math.max(g,y)/2),T=s(i,"maxSides",25);f=a.circle(d,v,x,h,T);break;case"trapezoid":var S=s(i,"slope",.5);f=a.trapezoid(d,v,g,y,S,h);break;case"polygon":var A=s(i,"sides",5),P=s(i,"radius",Math.max(g,y)/2);f=a.polygon(d,v,A,P,h);break;case"fromVertices":case"fromVerts":var D=s(i,"verts",null);if(D)if(typeof D=="string"&&(D=n.fromPath(D)),this.body&&!this.body.hasOwnProperty("temp"))p.setVertices(this.body,D),f=this.body;else{var R=s(i,"flagInternal",!1),L=s(i,"removeCollinear",.01),I=s(i,"minimumArea",10);f=a.fromVertices(d,v,D,h,R,L,I)}break;case"fromPhysicsEditor":f=r.parseBody(d,v,i,h);break;case"fromPhysicsTracer":f=e.parseBody(d,v,i,h);break}return f&&this.setExistingBody(f,i.addToWorld),this}};u.exports=l},38083:(u,m,t)=>{var a=t(1121),p=t(53614),o=t(35810),s={setToSleep:function(){return p.set(this.body,!0),this},setAwake:function(){return p.set(this.body,!1),this},setSleepThreshold:function(r){return r===void 0&&(r=60),this.body.sleepThreshold=r,this},setSleepEvents:function(r,e){return this.setSleepStartEvent(r),this.setSleepEndEvent(e),this},setSleepStartEvent:function(r){if(r){var e=this.world;o.on(this.body,"sleepStart",function(n){e.emit(a.SLEEP_START,n,this)})}else o.off(this.body,"sleepStart");return this},setSleepEndEvent:function(r){if(r){var e=this.world;o.on(this.body,"sleepEnd",function(n){e.emit(a.SLEEP_END,n,this)})}else o.off(this.body,"sleepEnd");return this}};u.exports=s},90556:(u,m,t)=>{var a=t(22562),p={setStatic:function(o){return a.setStatic(this.body,o),this},isStatic:function(){return this.body.isStatic}};u.exports=p},85436:(u,m,t)=>{var a=t(22562),p=t(36383),o=t(86554),s=t(30954),r=4,e={x:{get:function(){return this.body.position.x},set:function(n){this._tempVec2.set(n,this.y),a.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(n){this._tempVec2.set(this.x,n),a.setPosition(this.body,this._tempVec2)}},scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(n){this.setScale(n,n)}},scaleX:{get:function(){return this._scaleX},set:function(n){var l=1/this._scaleX,i=1/this._scaleY;this._scaleX=n,this._scaleX===0?this.renderFlags&=~r:this.renderFlags|=r,a.scale(this.body,l,i),a.scale(this.body,n,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(n){var l=1/this._scaleX,i=1/this._scaleY;this._scaleY=n,this._scaleY===0?this.renderFlags&=~r:this.renderFlags|=r,a.scale(this.body,l,i),a.scale(this.body,this._scaleX,n)}},angle:{get:function(){return s(this.body.angle*p.RAD_TO_DEG)},set:function(n){this.rotation=s(n)*p.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(n){this._rotation=o(n),a.setAngle(this.body,this._rotation)}},setPosition:function(n,l){return n===void 0&&(n=0),l===void 0&&(l=n),this._tempVec2.set(n,l),a.setPosition(this.body,this._tempVec2),this},setRotation:function(n){return n===void 0&&(n=0),this._rotation=o(n),a.setAngle(this.body,n),this},setFixedRotation:function(){return a.setInertia(this.body,1/0),this},setAngle:function(n){return n===void 0&&(n=0),this.angle=n,a.setAngle(this.body,this.rotation),this},setScale:function(n,l,i){n===void 0&&(n=1),l===void 0&&(l=n);var h=1/this._scaleX,f=1/this._scaleY;return this._scaleX=n,this._scaleY=l,a.scale(this.body,h,f,i),a.scale(this.body,n,l,i),this}};u.exports=e},42081:(u,m,t)=>{var a=t(22562),p={setVelocityX:function(o){return this._tempVec2.set(o,this.body.velocity.y),a.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(o){return this._tempVec2.set(this.body.velocity.x,o),a.setVelocity(this.body,this._tempVec2),this},setVelocity:function(o,s){return this._tempVec2.set(o,s),a.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return a.getVelocity(this.body)},setAngularVelocity:function(o){return a.setAngularVelocity(this.body,o),this},getAngularVelocity:function(){return a.getAngularVelocity(this.body)},setAngularSpeed:function(o){return a.setAngularSpeed(this.body,o),this},getAngularSpeed:function(){return a.getAngularSpeed(this.body)}};u.exports=p},31884:(u,m,t)=>{u.exports={Bounce:t(70410),Collision:t(66968),Force:t(51607),Friction:t(5436),Gravity:t(39858),Mass:t(37302),Sensor:t(39132),SetBody:t(57772),Sleep:t(38083),Static:t(90556),Transform:t(85436),Velocity:t(42081)}},85608:u=>{u.exports="afteradd"},1213:u=>{u.exports="afterremove"},25968:u=>{u.exports="afterupdate"},67205:u=>{u.exports="beforeadd"},39438:u=>{u.exports="beforeremove"},44823:u=>{u.exports="beforeupdate"},92593:u=>{u.exports="collisionactive"},60128:u=>{u.exports="collisionend"},76861:u=>{u.exports="collisionstart"},92362:u=>{u.exports="dragend"},76408:u=>{u.exports="drag"},93971:u=>{u.exports="dragstart"},5656:u=>{u.exports="pause"},47861:u=>{u.exports="resume"},79099:u=>{u.exports="sleepend"},35906:u=>{u.exports="sleepstart"},1121:(u,m,t)=>{u.exports={AFTER_ADD:t(85608),AFTER_REMOVE:t(1213),AFTER_UPDATE:t(25968),BEFORE_ADD:t(67205),BEFORE_REMOVE:t(39438),BEFORE_UPDATE:t(44823),COLLISION_ACTIVE:t(92593),COLLISION_END:t(60128),COLLISION_START:t(76861),DRAG_END:t(92362),DRAG:t(76408),DRAG_START:t(93971),PAUSE:t(5656),RESUME:t(47861),SLEEP_END:t(79099),SLEEP_START:t(35906)}},3875:(u,m,t)=>{u.exports={BodyBounds:t(68174),Components:t(31884),Events:t(1121),Factory:t(28137),MatterGameObject:t(75803),Image:t(23181),Matter:t(19933),MatterPhysics:t(42045),PolyDecomp:t(55973),Sprite:t(34803),TileBody:t(73834),PhysicsEditorParser:t(19496),PhysicsJSONParser:t(85791),PointerConstraint:t(98713),World:t(68243)}},22562:(u,m,t)=>{var a={};u.exports=a;var p=t(41598),o=t(31725),s=t(53614),r=t(53402),e=t(15647),n=t(66615);(function(){a._timeCorrection=!0,a._inertiaScale=4,a._nextCollidingGroupId=1,a._nextNonCollidingGroupId=-1,a._nextCategory=1,a._baseDelta=16.666666666666668,a.create=function(i){var h={id:r.nextId(),type:"body",label:"Body",parts:[],plugin:{},attractors:i.attractors||[],wrapBounds:null,angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!i.hasOwnProperty("position")&&i.hasOwnProperty("vertices")?i.position=p.centre(i.vertices):i.hasOwnProperty("vertices")||(h.vertices=p.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var f=r.extend(h,i);return l(f,i),f.setOnCollideWith=function(c,d){return d?this.onCollideWith[c.id]=d:delete this.onCollideWith[c.id],this},f},a.nextGroup=function(i){return i?a._nextNonCollidingGroupId--:a._nextCollidingGroupId++},a.nextCategory=function(){return a._nextCategory=a._nextCategory<<1,a._nextCategory};var l=function(i,h){if(h=h||{},a.set(i,{bounds:i.bounds||e.create(i.vertices),positionPrev:i.positionPrev||o.clone(i.position),anglePrev:i.anglePrev||i.angle,vertices:i.vertices,parts:i.parts||[i],isStatic:i.isStatic,isSleeping:i.isSleeping,parent:i.parent||i}),p.rotate(i.vertices,i.angle,i.position),n.rotate(i.axes,i.angle),e.update(i.bounds,i.vertices,i.velocity),a.set(i,{axes:h.axes||i.axes,area:h.area||i.area,mass:h.mass||i.mass,inertia:h.inertia||i.inertia}),i.parts.length===1){var f=i.bounds,c=i.centerOfMass,d=i.centerOffset,v=f.max.x-f.min.x,g=f.max.y-f.min.y;c.x=-(f.min.x-i.position.x)/v,c.y=-(f.min.y-i.position.y)/g,d.x=v*c.x,d.y=g*c.y}};a.set=function(i,h,f){var c;typeof h=="string"&&(c=h,h={},h[c]=f);for(c in h)if(Object.prototype.hasOwnProperty.call(h,c))switch(f=h[c],c){case"isStatic":a.setStatic(i,f);break;case"isSleeping":s.set(i,f);break;case"mass":a.setMass(i,f);break;case"density":a.setDensity(i,f);break;case"inertia":a.setInertia(i,f);break;case"vertices":a.setVertices(i,f);break;case"position":a.setPosition(i,f);break;case"angle":a.setAngle(i,f);break;case"velocity":a.setVelocity(i,f);break;case"angularVelocity":a.setAngularVelocity(i,f);break;case"speed":a.setSpeed(i,f);break;case"angularSpeed":a.setAngularSpeed(i,f);break;case"parts":a.setParts(i,f);break;case"centre":a.setCentre(i,f);break;default:i[c]=f}},a.setStatic=function(i,h){for(var f=0;f<i.parts.length;f++){var c=i.parts[f];h?(c.isStatic||(c._original={restitution:c.restitution,friction:c.friction,mass:c.mass,inertia:c.inertia,density:c.density,inverseMass:c.inverseMass,inverseInertia:c.inverseInertia}),c.restitution=0,c.friction=1,c.mass=c.inertia=c.density=1/0,c.inverseMass=c.inverseInertia=0,c.positionPrev.x=c.position.x,c.positionPrev.y=c.position.y,c.anglePrev=c.angle,c.angularVelocity=0,c.speed=0,c.angularSpeed=0,c.motion=0):c._original&&(c.restitution=c._original.restitution,c.friction=c._original.friction,c.mass=c._original.mass,c.inertia=c._original.inertia,c.density=c._original.density,c.inverseMass=c._original.inverseMass,c.inverseInertia=c._original.inverseInertia,c._original=null),c.isStatic=h}},a.setMass=function(i,h){var f=i.inertia/(i.mass/6);i.inertia=f*(h/6),i.inverseInertia=1/i.inertia,i.mass=h,i.inverseMass=1/i.mass,i.density=i.mass/i.area},a.setDensity=function(i,h){a.setMass(i,h*i.area),i.density=h},a.setInertia=function(i,h){i.inertia=h,i.inverseInertia=1/i.inertia},a.setVertices=function(i,h){h[0].body===i?i.vertices=h:i.vertices=p.create(h,i),i.axes=n.fromVertices(i.vertices),i.area=p.area(i.vertices),a.setMass(i,i.density*i.area);var f=p.centre(i.vertices);p.translate(i.vertices,f,-1),a.setInertia(i,a._inertiaScale*p.inertia(i.vertices,i.mass)),p.translate(i.vertices,i.position),e.update(i.bounds,i.vertices,i.velocity)},a.setParts=function(i,h,f){var c;for(h=h.slice(0),i.parts.length=0,i.parts.push(i),i.parent=i,c=0;c<h.length;c++){var d=h[c];d!==i&&(d.parent=i,i.parts.push(d))}if(i.parts.length!==1){if(f=typeof f<"u"?f:!0,f){var v=[];for(c=0;c<h.length;c++)v=v.concat(h[c].vertices);p.clockwiseSort(v);var g=p.hull(v),y=p.centre(g);a.setVertices(i,g),p.translate(i.vertices,y)}var x=a._totalProperties(i),T=x.centre.x,S=x.centre.y,A=i.bounds,P=i.centerOfMass,D=i.centerOffset;e.update(A,i.vertices,i.velocity),P.x=-(A.min.x-T)/(A.max.x-A.min.x),P.y=-(A.min.y-S)/(A.max.y-A.min.y),D.x=T,D.y=S,i.area=x.area,i.parent=i,i.position.x=T,i.position.y=S,i.positionPrev.x=T,i.positionPrev.y=S,a.setMass(i,x.mass),a.setInertia(i,x.inertia),a.setPosition(i,x.centre)}},a.setCentre=function(i,h,f){f?(i.positionPrev.x+=h.x,i.positionPrev.y+=h.y,i.position.x+=h.x,i.position.y+=h.y):(i.positionPrev.x=h.x-(i.position.x-i.positionPrev.x),i.positionPrev.y=h.y-(i.position.y-i.positionPrev.y),i.position.x=h.x,i.position.y=h.y)},a.setPosition=function(i,h,f){var c=o.sub(h,i.position);f?(i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.velocity.x=c.x,i.velocity.y=c.y,i.speed=o.magnitude(c)):(i.positionPrev.x+=c.x,i.positionPrev.y+=c.y);for(var d=0;d<i.parts.length;d++){var v=i.parts[d];v.position.x+=c.x,v.position.y+=c.y,p.translate(v.vertices,c),e.update(v.bounds,v.vertices,i.velocity)}},a.setAngle=function(i,h,f){var c=h-i.angle;f?(i.anglePrev=i.angle,i.angularVelocity=c,i.angularSpeed=Math.abs(c)):i.anglePrev+=c;for(var d=0;d<i.parts.length;d++){var v=i.parts[d];v.angle+=c,p.rotate(v.vertices,c,i.position),n.rotate(v.axes,c),e.update(v.bounds,v.vertices,i.velocity),d>0&&o.rotateAbout(v.position,c,i.position,v.position)}},a.setVelocity=function(i,h){var f=i.deltaTime/a._baseDelta;i.positionPrev.x=i.position.x-h.x*f,i.positionPrev.y=i.position.y-h.y*f,i.velocity.x=(i.position.x-i.positionPrev.x)/f,i.velocity.y=(i.position.y-i.positionPrev.y)/f,i.speed=o.magnitude(i.velocity)},a.getVelocity=function(i){var h=a._baseDelta/i.deltaTime;return{x:(i.position.x-i.positionPrev.x)*h,y:(i.position.y-i.positionPrev.y)*h}},a.getSpeed=function(i){return o.magnitude(a.getVelocity(i))},a.setSpeed=function(i,h){a.setVelocity(i,o.mult(o.normalise(a.getVelocity(i)),h))},a.setAngularVelocity=function(i,h){var f=i.deltaTime/a._baseDelta;i.anglePrev=i.angle-h*f,i.angularVelocity=(i.angle-i.anglePrev)/f,i.angularSpeed=Math.abs(i.angularVelocity)},a.getAngularVelocity=function(i){return(i.angle-i.anglePrev)*a._baseDelta/i.deltaTime},a.getAngularSpeed=function(i){return Math.abs(a.getAngularVelocity(i))},a.setAngularSpeed=function(i,h){a.setAngularVelocity(i,r.sign(a.getAngularVelocity(i))*h)},a.translate=function(i,h,f){a.setPosition(i,o.add(i.position,h),f)},a.rotate=function(i,h,f,c){if(!f)a.setAngle(i,i.angle+h,c);else{var d=Math.cos(h),v=Math.sin(h),g=i.position.x-f.x,y=i.position.y-f.y;a.setPosition(i,{x:f.x+(g*d-y*v),y:f.y+(g*v+y*d)},c),a.setAngle(i,i.angle+h,c)}},a.scale=function(i,h,f,c){var d=0,v=0;c=c||i.position;for(var g=i.inertia===1/0,y=0;y<i.parts.length;y++){var x=i.parts[y];x.scale.x=h,x.scale.y=f,p.scale(x.vertices,h,f,c),x.axes=n.fromVertices(x.vertices),x.area=p.area(x.vertices),a.setMass(x,i.density*x.area),p.translate(x.vertices,{x:-x.position.x,y:-x.position.y}),a.setInertia(x,a._inertiaScale*p.inertia(x.vertices,x.mass)),p.translate(x.vertices,{x:x.position.x,y:x.position.y}),y>0&&(d+=x.area,v+=x.inertia),x.position.x=c.x+(x.position.x-c.x)*h,x.position.y=c.y+(x.position.y-c.y)*f,e.update(x.bounds,x.vertices,i.velocity)}i.parts.length>1&&(i.area=d,i.isStatic||(a.setMass(i,i.density*d),a.setInertia(i,v))),i.circleRadius&&(h===f?i.circleRadius*=h:i.circleRadius=null),g&&a.setInertia(i,1/0)},a.update=function(i,h){h=(typeof h<"u"?h:16.666666666666668)*i.timeScale;var f=h*h,c=a._timeCorrection?h/(i.deltaTime||h):1,d=1-i.frictionAir*(h/r._baseDelta),v=(i.position.x-i.positionPrev.x)*c,g=(i.position.y-i.positionPrev.y)*c;i.velocity.x=v*d+i.force.x/i.mass*f,i.velocity.y=g*d+i.force.y/i.mass*f,i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.position.x+=i.velocity.x,i.position.y+=i.velocity.y,i.deltaTime=h,i.angularVelocity=(i.angle-i.anglePrev)*d*c+i.torque/i.inertia*f,i.anglePrev=i.angle,i.angle+=i.angularVelocity,i.speed=o.magnitude(i.velocity),i.angularSpeed=Math.abs(i.angularVelocity);for(var y=0;y<i.parts.length;y++){var x=i.parts[y];p.translate(x.vertices,i.velocity),y>0&&(x.position.x+=i.velocity.x,x.position.y+=i.velocity.y),i.angularVelocity!==0&&(p.rotate(x.vertices,i.angularVelocity,i.position),n.rotate(x.axes,i.angularVelocity),y>0&&o.rotateAbout(x.position,i.angularVelocity,i.position,x.position)),e.update(x.bounds,x.vertices,i.velocity)}},a.updateVelocities=function(i){var h=a._baseDelta/i.deltaTime,f=i.velocity;f.x=(i.position.x-i.positionPrev.x)*h,f.y=(i.position.y-i.positionPrev.y)*h,i.speed=Math.sqrt(f.x*f.x+f.y*f.y),i.angularVelocity=(i.angle-i.anglePrev)*h,i.angularSpeed=Math.abs(i.angularVelocity)},a.applyForce=function(i,h,f){var c={x:h.x-i.position.x,y:h.y-i.position.y};i.force.x+=f.x,i.force.y+=f.y,i.torque+=c.x*f.y-c.y*f.x},a._totalProperties=function(i){for(var h={mass:0,area:0,inertia:0,centre:{x:0,y:0}},f=i.parts.length===1?0:1;f<i.parts.length;f++){var c=i.parts[f],d=c.mass!==1/0?c.mass:1;h.mass+=d,h.area+=c.area,h.inertia+=c.inertia,h.centre=o.add(h.centre,o.mult(c.position,d))}return h.centre=o.div(h.centre,h.mass),h},a.wrap=function(i,h){var f=e.wrap(i.bounds,h);return f&&a.translate(i,f),f}})()},69351:(u,m,t)=>{var a={};u.exports=a;var p=t(35810),o=t(53402),s=t(15647),r=t(22562);(function(){a.create=function(e){return o.extend({id:o.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},wrapBounds:null,cache:{allBodies:null,allConstraints:null,allComposites:null}},e)},a.setModified=function(e,n,l,i){if(p.trigger(e,"compositeModified",e),e.isModified=n,n&&e.cache&&(e.cache.allBodies=null,e.cache.allConstraints=null,e.cache.allComposites=null),l&&e.parent&&a.setModified(e.parent,n,l,i),i)for(var h=0;h<e.composites.length;h++){var f=e.composites[h];a.setModified(f,n,l,i)}},a.add=function(e,n){var l=[].concat(n);p.trigger(e,"beforeAdd",{object:n});for(var i=0;i<l.length;i++){var h=l[i];switch(h.type){case"body":if(h.parent!==h){o.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}a.addBody(e,h);break;case"constraint":a.addConstraint(e,h);break;case"composite":a.addComposite(e,h);break;case"mouseConstraint":a.addConstraint(e,h.constraint);break}}return p.trigger(e,"afterAdd",{object:n}),e},a.remove=function(e,n,l){var i=[].concat(n);p.trigger(e,"beforeRemove",{object:n});for(var h=0;h<i.length;h++){var f=i[h];switch(f.type){case"body":a.removeBody(e,f,l);break;case"constraint":a.removeConstraint(e,f,l);break;case"composite":a.removeComposite(e,f,l);break;case"mouseConstraint":a.removeConstraint(e,f.constraint);break}}return p.trigger(e,"afterRemove",{object:n}),e},a.addComposite=function(e,n){return e.composites.push(n),n.parent=e,a.setModified(e,!0,!0,!1),e},a.removeComposite=function(e,n,l){var i=o.indexOf(e.composites,n);if(i!==-1){var h=a.allBodies(n);a.removeCompositeAt(e,i);for(var f=0;f<h.length;f++)h[f].sleepCounter=0}if(l)for(var f=0;f<e.composites.length;f++)a.removeComposite(e.composites[f],n,!0);return e},a.removeCompositeAt=function(e,n){return e.composites.splice(n,1),a.setModified(e,!0,!0,!1),e},a.addBody=function(e,n){return e.bodies.push(n),a.setModified(e,!0,!0,!1),e},a.removeBody=function(e,n,l){var i=o.indexOf(e.bodies,n);if(i!==-1&&(a.removeBodyAt(e,i),n.sleepCounter=0),l)for(var h=0;h<e.composites.length;h++)a.removeBody(e.composites[h],n,!0);return e},a.removeBodyAt=function(e,n){return e.bodies.splice(n,1),a.setModified(e,!0,!0,!1),e},a.addConstraint=function(e,n){return e.constraints.push(n),a.setModified(e,!0,!0,!1),e},a.removeConstraint=function(e,n,l){var i=o.indexOf(e.constraints,n);if(i!==-1&&a.removeConstraintAt(e,i),l)for(var h=0;h<e.composites.length;h++)a.removeConstraint(e.composites[h],n,!0);return e},a.removeConstraintAt=function(e,n){return e.constraints.splice(n,1),a.setModified(e,!0,!0,!1),e},a.clear=function(e,n,l){if(l)for(var i=0;i<e.composites.length;i++)a.clear(e.composites[i],n,!0);return n?e.bodies=e.bodies.filter(function(h){return h.isStatic}):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,a.setModified(e,!0,!0,!1),e},a.allBodies=function(e){if(e.cache&&e.cache.allBodies)return e.cache.allBodies;for(var n=[].concat(e.bodies),l=0;l<e.composites.length;l++)n=n.concat(a.allBodies(e.composites[l]));return e.cache&&(e.cache.allBodies=n),n},a.allConstraints=function(e){if(e.cache&&e.cache.allConstraints)return e.cache.allConstraints;for(var n=[].concat(e.constraints),l=0;l<e.composites.length;l++)n=n.concat(a.allConstraints(e.composites[l]));return e.cache&&(e.cache.allConstraints=n),n},a.allComposites=function(e){if(e.cache&&e.cache.allComposites)return e.cache.allComposites;for(var n=[].concat(e.composites),l=0;l<e.composites.length;l++)n=n.concat(a.allComposites(e.composites[l]));return e.cache&&(e.cache.allComposites=n),n},a.get=function(e,n,l){var i,h;switch(l){case"body":i=a.allBodies(e);break;case"constraint":i=a.allConstraints(e);break;case"composite":i=a.allComposites(e).concat(e);break}return i?(h=i.filter(function(f){return f.id.toString()===n.toString()}),h.length===0?null:h[0]):null},a.move=function(e,n,l){return a.remove(e,n),a.add(l,n),e},a.rebase=function(e){for(var n=a.allBodies(e).concat(a.allConstraints(e)).concat(a.allComposites(e)),l=0;l<n.length;l++)n[l].id=o.nextId();return e},a.translate=function(e,n,l){for(var i=l?a.allBodies(e):e.bodies,h=0;h<i.length;h++)r.translate(i[h],n);return e},a.rotate=function(e,n,l,i){for(var h=Math.cos(n),f=Math.sin(n),c=i?a.allBodies(e):e.bodies,d=0;d<c.length;d++){var v=c[d],g=v.position.x-l.x,y=v.position.y-l.y;r.setPosition(v,{x:l.x+(g*h-y*f),y:l.y+(g*f+y*h)}),r.rotate(v,n)}return e},a.scale=function(e,n,l,i,h){for(var f=h?a.allBodies(e):e.bodies,c=0;c<f.length;c++){var d=f[c],v=d.position.x-i.x,g=d.position.y-i.y;r.setPosition(d,{x:i.x+v*n,y:i.y+g*l}),r.scale(d,n,l)}return e},a.bounds=function(e){for(var n=a.allBodies(e),l=[],i=0;i<n.length;i+=1){var h=n[i];l.push(h.bounds.min,h.bounds.max)}return s.create(l)},a.wrap=function(e,n){var l=s.wrap(a.bounds(e),n);return l&&a.translate(e,l),l}})()},4372:(u,m,t)=>{var a={};u.exports=a;var p=t(69351);(function(){a.create=p.create,a.add=p.add,a.remove=p.remove,a.clear=p.clear,a.addComposite=p.addComposite,a.addBody=p.addBody,a.addConstraint=p.addConstraint})()},52284:(u,m,t)=>{var a={};u.exports=a;var p=t(41598),o=t(4506);(function(){var s=[],r={overlap:0,axis:null},e={overlap:0,axis:null};a.create=function(n,l){return{pair:null,collided:!1,bodyA:n,bodyB:l,parentA:n.parent,parentB:l.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},a.collides=function(n,l,i){if(a._overlapAxes(r,n.vertices,l.vertices,n.axes),r.overlap<=0||(a._overlapAxes(e,l.vertices,n.vertices,l.axes),e.overlap<=0))return null;var h=i&&i.table[o.id(n,l)],f;h?f=h.collision:(f=a.create(n,l),f.collided=!0,f.bodyA=n.id<l.id?n:l,f.bodyB=n.id<l.id?l:n,f.parentA=f.bodyA.parent,f.parentB=f.bodyB.parent),n=f.bodyA,l=f.bodyB;var c;r.overlap<e.overlap?c=r:c=e;var d=f.normal,v=f.tangent,g=f.penetration,y=f.supports,x=c.overlap,T=c.axis,S=T.x,A=T.y,P=l.position.x-n.position.x,D=l.position.y-n.position.y;S*P+A*D>=0&&(S=-S,A=-A),d.x=S,d.y=A,v.x=-A,v.y=S,g.x=S*x,g.y=A*x,f.depth=x;var R=a._findSupports(n,l,d,1),L=0;if(p.contains(n.vertices,R[0])&&(y[L++]=R[0]),p.contains(n.vertices,R[1])&&(y[L++]=R[1]),L<2){var I=a._findSupports(l,n,d,-1);p.contains(l.vertices,I[0])&&(y[L++]=I[0]),L<2&&p.contains(l.vertices,I[1])&&(y[L++]=I[1])}return L===0&&(y[L++]=R[0]),f.supportCount=L,f},a._overlapAxes=function(n,l,i,h){var f=l.length,c=i.length,d=l[0].x,v=l[0].y,g=i[0].x,y=i[0].y,x=h.length,T=Number.MAX_VALUE,S=0,A,P,D,R,L,I;for(L=0;L<x;L++){var w=h[L],B=w.x,b=w.y,V=d*B+v*b,X=g*B+y*b,G=V,U=X;for(I=1;I<f;I+=1)R=l[I].x*B+l[I].y*b,R>G?G=R:R<V&&(V=R);for(I=1;I<c;I+=1)R=i[I].x*B+i[I].y*b,R>U?U=R:R<X&&(X=R);if(P=G-X,D=U-V,A=P<D?P:D,A<T&&(T=A,S=L,A<=0))break}n.axis=h[S],n.overlap=T},a._findSupports=function(n,l,i,h){var f=l.vertices,c=f.length,d=n.position.x,v=n.position.y,g=i.x*h,y=i.y*h,x=f[0],T=x,S=g*(d-T.x)+y*(v-T.y),A,P,D;for(D=1;D<c;D+=1)T=f[D],P=g*(d-T.x)+y*(v-T.y),P<S&&(S=P,x=T);return A=f[(c+x.index-1)%c],S=g*(d-A.x)+y*(v-A.y),T=f[(x.index+1)%c],g*(d-T.x)+y*(v-T.y)<S?(s[0]=x,s[1]=T,s):(s[0]=x,s[1]=A,s)}})()},43424:u=>{var m={};u.exports=m,function(){m.create=function(t){return{vertex:t,normalImpulse:0,tangentImpulse:0}}}()},81388:(u,m,t)=>{var a={};u.exports=a;var p=t(53402),o=t(52284);(function(){a.create=function(s){var r={bodies:[],collisions:[],pairs:null};return p.extend(r,s)},a.setBodies=function(s,r){s.bodies=r.slice(0)},a.clear=function(s){s.bodies=[],s.collisions=[]},a.collisions=function(s){var r=s.pairs,e=s.bodies,n=e.length,l=a.canCollide,i=o.collides,h=s.collisions,f=0,c,d;for(e.sort(a._compareBoundsX),c=0;c<n;c++){var v=e[c],g=v.bounds,y=v.bounds.max.x,x=v.bounds.max.y,T=v.bounds.min.y,S=v.isStatic||v.isSleeping,A=v.parts.length,P=A===1;for(d=c+1;d<n;d++){var D=e[d],R=D.bounds;if(R.min.x>y)break;if(!(x<R.min.y||T>R.max.y)&&!(S&&(D.isStatic||D.isSleeping))&&l(v.collisionFilter,D.collisionFilter)){var L=D.parts.length;if(P&&L===1){var I=i(v,D,r);I&&(h[f++]=I)}else for(var w=A>1?1:0,B=L>1?1:0,b=w;b<A;b++)for(var V=v.parts[b],g=V.bounds,X=B;X<L;X++){var G=D.parts[X],R=G.bounds;if(!(g.min.x>R.max.x||g.max.x<R.min.x||g.max.y<R.min.y||g.min.y>R.max.y)){var I=i(V,G,r);I&&(h[f++]=I)}}}}}return h.length!==f&&(h.length=f),h},a.canCollide=function(s,r){return s.group===r.group&&s.group!==0?s.group>0:(s.mask&r.category)!==0&&(r.mask&s.category)!==0},a._compareBoundsX=function(s,r){return s.bounds.min.x-r.bounds.min.x}})()},4506:(u,m,t)=>{var a={};u.exports=a;var p=t(43424);(function(){a.create=function(o,s){var r=o.bodyA,e=o.bodyB,n={id:a.id(r,e),bodyA:r,bodyB:e,collision:o,contacts:[p.create(),p.create()],contactCount:0,separation:0,isActive:!0,isSensor:r.isSensor||e.isSensor,timeCreated:s,timeUpdated:s,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return a.update(n,o,s),n},a.update=function(o,s,r){var e=s.supports,n=s.supportCount,l=o.contacts,i=s.parentA,h=s.parentB;o.isActive=!0,o.timeUpdated=r,o.collision=s,o.separation=s.depth,o.inverseMass=i.inverseMass+h.inverseMass,o.friction=i.friction<h.friction?i.friction:h.friction,o.frictionStatic=i.frictionStatic>h.frictionStatic?i.frictionStatic:h.frictionStatic,o.restitution=i.restitution>h.restitution?i.restitution:h.restitution,o.slop=i.slop>h.slop?i.slop:h.slop,o.contactCount=n,s.pair=o;var f=e[0],c=l[0],d=e[1],v=l[1];(v.vertex===f||c.vertex===d)&&(l[1]=c,l[0]=c=v,v=l[1]),c.vertex=f,v.vertex=d},a.setActive=function(o,s,r){s?(o.isActive=!0,o.timeUpdated=r):(o.isActive=!1,o.contactCount=0)},a.id=function(o,s){return o.id<s.id?o.id.toString(36)+":"+s.id.toString(36):s.id.toString(36)+":"+o.id.toString(36)}})()},99561:(u,m,t)=>{var a={};u.exports=a;var p=t(4506),o=t(53402);(function(){a.create=function(s){return o.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},s)},a.update=function(s,r,e){var n=p.update,l=p.create,i=p.setActive,h=s.table,f=s.list,c=f.length,d=c,v=s.collisionStart,g=s.collisionEnd,y=s.collisionActive,x=r.length,T=0,S=0,A=0,P,D,R;for(R=0;R<x;R++)P=r[R],D=P.pair,D?(D.isActive&&(y[A++]=D),n(D,P,e)):(D=l(P,e),h[D.id]=D,v[T++]=D,f[d++]=D);for(d=0,c=f.length,R=0;R<c;R++)D=f[R],D.timeUpdated>=e?f[d++]=D:(i(D,!1,e),D.collision.bodyA.sleepCounter>0&&D.collision.bodyB.sleepCounter>0?f[d++]=D:(g[S++]=D,delete h[D.id]));f.length!==d&&(f.length=d),v.length!==T&&(v.length=T),g.length!==S&&(g.length=S),y.length!==A&&(y.length=A)},a.clear=function(s){return s.table={},s.list.length=0,s.collisionStart.length=0,s.collisionActive.length=0,s.collisionEnd.length=0,s}})()},73296:(u,m,t)=>{var a={};u.exports=a;var p=t(31725),o=t(52284),s=t(15647),r=t(66280),e=t(41598);(function(){a.collides=function(n,l){for(var i=[],h=l.length,f=n.bounds,c=o.collides,d=s.overlaps,v=0;v<h;v++){var g=l[v],y=g.parts.length,x=y===1?0:1;if(n!==g&&d(g.bounds,f))for(var T=x;T<y;T++){var S=g.parts[T];if(d(S.bounds,f)){var A=c(S,n);if(A){i.push(A);break}}}}return i},a.ray=function(n,l,i,h){h=h||1e-100;for(var f=p.angle(l,i),c=p.magnitude(p.sub(l,i)),d=(i.x+l.x)*.5,v=(i.y+l.y)*.5,g=r.rectangle(d,v,c,h,{angle:f}),y=a.collides(g,n),x=0;x<y.length;x+=1){var T=y[x];T.body=T.bodyB=T.bodyA}return y},a.region=function(n,l,i){for(var h=[],f=0;f<n.length;f++){var c=n[f],d=s.overlaps(c.bounds,l);(d&&!i||!d&&i)&&h.push(c)}return h},a.point=function(n,l){for(var i=[],h=0;h<n.length;h++){var f=n[h];if(s.contains(f.bounds,l))for(var c=f.parts.length===1?0:1;c<f.parts.length;c++){var d=f.parts[c];if(s.contains(d.bounds,l)&&e.contains(d.vertices,l)){i.push(f);break}}}return i}})()},66272:(u,m,t)=>{var a={};u.exports=a;var p=t(41598),o=t(53402),s=t(15647);(function(){a._restingThresh=2,a._restingThreshTangent=Math.sqrt(6),a._positionDampen=.9,a._positionWarming=.8,a._frictionNormalMultiplier=5,a._frictionMaxStatic=Number.MAX_VALUE,a.preSolvePosition=function(r){var e,n,l,i=r.length;for(e=0;e<i;e++)n=r[e],n.isActive&&(l=n.contactCount,n.collision.parentA.totalContacts+=l,n.collision.parentB.totalContacts+=l)},a.solvePosition=function(r,e,n){var l,i,h,f,c,d,v,g,y=a._positionDampen*(n||1),x=o.clamp(e/o._baseDelta,0,1),T=r.length;for(l=0;l<T;l++)i=r[l],!(!i.isActive||i.isSensor)&&(h=i.collision,f=h.parentA,c=h.parentB,d=h.normal,i.separation=h.depth+d.x*(c.positionImpulse.x-f.positionImpulse.x)+d.y*(c.positionImpulse.y-f.positionImpulse.y));for(l=0;l<T;l++)i=r[l],!(!i.isActive||i.isSensor)&&(h=i.collision,f=h.parentA,c=h.parentB,d=h.normal,g=i.separation-i.slop*x,(f.isStatic||c.isStatic)&&(g*=2),f.isStatic||f.isSleeping||(v=y/f.totalContacts,f.positionImpulse.x+=d.x*g*v,f.positionImpulse.y+=d.y*g*v),c.isStatic||c.isSleeping||(v=y/c.totalContacts,c.positionImpulse.x-=d.x*g*v,c.positionImpulse.y-=d.y*g*v))},a.postSolvePosition=function(r){for(var e=a._positionWarming,n=r.length,l=p.translate,i=s.update,h=0;h<n;h++){var f=r[h],c=f.positionImpulse,d=c.x,v=c.y,g=f.velocity;if(f.totalContacts=0,d!==0||v!==0){for(var y=0;y<f.parts.length;y++){var x=f.parts[y];l(x.vertices,c),i(x.bounds,x.vertices,g),x.position.x+=d,x.position.y+=v}f.positionPrev.x+=d,f.positionPrev.y+=v,d*g.x+v*g.y<0?(c.x=0,c.y=0):(c.x*=e,c.y*=e)}}},a.preSolveVelocity=function(r){var e=r.length,n,l;for(n=0;n<e;n++){var i=r[n];if(!(!i.isActive||i.isSensor)){var h=i.contacts,f=i.contactCount,c=i.collision,d=c.parentA,v=c.parentB,g=c.normal,y=c.tangent;for(l=0;l<f;l++){var x=h[l],T=x.vertex,S=x.normalImpulse,A=x.tangentImpulse;if(S!==0||A!==0){var P=g.x*S+y.x*A,D=g.y*S+y.y*A;d.isStatic||d.isSleeping||(d.positionPrev.x+=P*d.inverseMass,d.positionPrev.y+=D*d.inverseMass,d.anglePrev+=d.inverseInertia*((T.x-d.position.x)*D-(T.y-d.position.y)*P)),v.isStatic||v.isSleeping||(v.positionPrev.x-=P*v.inverseMass,v.positionPrev.y-=D*v.inverseMass,v.anglePrev-=v.inverseInertia*((T.x-v.position.x)*D-(T.y-v.position.y)*P))}}}}},a.solveVelocity=function(r,e){var n=e/o._baseDelta,l=n*n,i=l*n,h=-a._restingThresh*n,f=a._restingThreshTangent,c=a._frictionNormalMultiplier*n,d=a._frictionMaxStatic,v=r.length,g,y,x,T;for(x=0;x<v;x++){var S=r[x];if(!(!S.isActive||S.isSensor)){var A=S.collision,P=A.parentA,D=A.parentB,R=A.normal.x,L=A.normal.y,I=A.tangent.x,w=A.tangent.y,B=S.inverseMass,b=S.friction*S.frictionStatic*c,V=S.contacts,X=S.contactCount,G=1/X,U=P.position.x-P.positionPrev.x,O=P.position.y-P.positionPrev.y,z=P.angle-P.anglePrev,N=D.position.x-D.positionPrev.x,Y=D.position.y-D.positionPrev.y,W=D.angle-D.anglePrev;for(T=0;T<X;T++){var H=V[T],$=H.vertex,K=$.x-P.position.x,Z=$.y-P.position.y,J=$.x-D.position.x,j=$.y-D.position.y,Q=U-Z*z,_=O+K*z,k=N-j*W,it=Y+J*W,nt=Q-k,st=_-it,q=R*nt+L*st,tt=I*nt+w*st,et=S.separation+q,ot=Math.min(et,1);ot=et<0?0:ot;var dt=ot*b;tt<-dt||tt>dt?(y=tt>0?tt:-tt,g=S.friction*(tt>0?1:-1)*i,g<-y?g=-y:g>y&&(g=y)):(g=tt,y=d);var Ct=K*L-Z*R,ut=J*L-j*R,ft=G/(B+P.inverseInertia*Ct*Ct+D.inverseInertia*ut*ut),Mt=(1+S.restitution)*q*ft;if(g*=ft,q<h)H.normalImpulse=0;else{var zt=H.normalImpulse;H.normalImpulse+=Mt,H.normalImpulse>0&&(H.normalImpulse=0),Mt=H.normalImpulse-zt}if(tt<-f||tt>f)H.tangentImpulse=0;else{var mt=H.tangentImpulse;H.tangentImpulse+=g,H.tangentImpulse<-y&&(H.tangentImpulse=-y),H.tangentImpulse>y&&(H.tangentImpulse=y),g=H.tangentImpulse-mt}var Pt=R*Mt+I*g,Lt=L*Mt+w*g;P.isStatic||P.isSleeping||(P.positionPrev.x+=Pt*P.inverseMass,P.positionPrev.y+=Lt*P.inverseMass,P.anglePrev+=(K*Lt-Z*Pt)*P.inverseInertia),D.isStatic||D.isSleeping||(D.positionPrev.x-=Pt*D.inverseMass,D.positionPrev.y-=Lt*D.inverseMass,D.anglePrev-=(J*Lt-j*Pt)*D.inverseInertia)}}}}})()},48140:(u,m,t)=>{var a={};u.exports=a;var p=t(41598),o=t(31725),s=t(53614),r=t(15647),e=t(66615),n=t(53402);(function(){a._warming=.4,a._torqueDampen=1,a._minLength=1e-6,a.create=function(l){var i=l;i.bodyA&&!i.pointA&&(i.pointA={x:0,y:0}),i.bodyB&&!i.pointB&&(i.pointB={x:0,y:0});var h=i.bodyA?o.add(i.bodyA.position,i.pointA):i.pointA,f=i.bodyB?o.add(i.bodyB.position,i.pointB):i.pointB,c=o.magnitude(o.sub(h,f));i.length=typeof i.length<"u"?i.length:c,i.id=i.id||n.nextId(),i.label=i.label||"Constraint",i.type="constraint",i.stiffness=i.stiffness||(i.length>0?1:.7),i.damping=i.damping||0,i.angularStiffness=i.angularStiffness||0,i.angleA=i.bodyA?i.bodyA.angle:i.angleA,i.angleB=i.bodyB?i.bodyB.angle:i.angleB,i.plugin={};var d={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return i.length===0&&i.stiffness>.1?(d.type="pin",d.anchors=!1):i.stiffness<.9&&(d.type="spring"),i.render=n.extend(d,i.render),i},a.preSolveAll=function(l){for(var i=0;i<l.length;i+=1){var h=l[i],f=h.constraintImpulse;h.isStatic||f.x===0&&f.y===0&&f.angle===0||(h.position.x+=f.x,h.position.y+=f.y,h.angle+=f.angle)}},a.solveAll=function(l,i){for(var h=n.clamp(i/n._baseDelta,0,1),f=0;f<l.length;f+=1){var c=l[f],d=!c.bodyA||c.bodyA&&c.bodyA.isStatic,v=!c.bodyB||c.bodyB&&c.bodyB.isStatic;(d||v)&&a.solve(l[f],h)}for(f=0;f<l.length;f+=1)c=l[f],d=!c.bodyA||c.bodyA&&c.bodyA.isStatic,v=!c.bodyB||c.bodyB&&c.bodyB.isStatic,!d&&!v&&a.solve(l[f],h)},a.solve=function(l,i){var h=l.bodyA,f=l.bodyB,c=l.pointA,d=l.pointB;if(!(!h&&!f)){h&&!h.isStatic&&(o.rotate(c,h.angle-l.angleA,c),l.angleA=h.angle),f&&!f.isStatic&&(o.rotate(d,f.angle-l.angleB,d),l.angleB=f.angle);var v=c,g=d;if(h&&(v=o.add(h.position,c)),f&&(g=o.add(f.position,d)),!(!v||!g)){var y=o.sub(v,g),x=o.magnitude(y);x<a._minLength&&(x=a._minLength);var T=(x-l.length)/x,S=l.stiffness>=1||l.length===0,A=S?l.stiffness*i:l.stiffness*i*i,P=l.damping*i,D=o.mult(y,T*A),R=(h?h.inverseMass:0)+(f?f.inverseMass:0),L=(h?h.inverseInertia:0)+(f?f.inverseInertia:0),I=R+L,w,B,b,V,X;if(P>0){var G=o.create();b=o.div(y,x),X=o.sub(f&&o.sub(f.position,f.positionPrev)||G,h&&o.sub(h.position,h.positionPrev)||G),V=o.dot(b,X)}h&&!h.isStatic&&(B=h.inverseMass/R,h.constraintImpulse.x-=D.x*B,h.constraintImpulse.y-=D.y*B,h.position.x-=D.x*B,h.position.y-=D.y*B,P>0&&(h.positionPrev.x-=P*b.x*V*B,h.positionPrev.y-=P*b.y*V*B),w=o.cross(c,D)/I*a._torqueDampen*h.inverseInertia*(1-l.angularStiffness),h.constraintImpulse.angle-=w,h.angle-=w),f&&!f.isStatic&&(B=f.inverseMass/R,f.constraintImpulse.x+=D.x*B,f.constraintImpulse.y+=D.y*B,f.position.x+=D.x*B,f.position.y+=D.y*B,P>0&&(f.positionPrev.x+=P*b.x*V*B,f.positionPrev.y+=P*b.y*V*B),w=o.cross(d,D)/I*a._torqueDampen*f.inverseInertia*(1-l.angularStiffness),f.constraintImpulse.angle+=w,f.angle+=w)}}},a.postSolveAll=function(l){for(var i=0;i<l.length;i++){var h=l[i],f=h.constraintImpulse;if(!(h.isStatic||f.x===0&&f.y===0&&f.angle===0)){s.set(h,!1);for(var c=0;c<h.parts.length;c++){var d=h.parts[c];p.translate(d.vertices,f),c>0&&(d.position.x+=f.x,d.position.y+=f.y),f.angle!==0&&(p.rotate(d.vertices,f.angle,h.position),e.rotate(d.axes,f.angle),c>0&&o.rotateAbout(d.position,f.angle,h.position,d.position)),r.update(d.bounds,d.vertices,h.velocity)}f.angle*=a._warming,f.x*=a._warming,f.y*=a._warming}}},a.pointAWorld=function(l){return{x:(l.bodyA?l.bodyA.position.x:0)+(l.pointA?l.pointA.x:0),y:(l.bodyA?l.bodyA.position.y:0)+(l.pointA?l.pointA.y:0)}},a.pointBWorld=function(l){return{x:(l.bodyB?l.bodyB.position.x:0)+(l.pointB?l.pointB.x:0),y:(l.bodyB?l.bodyB.position.y:0)+(l.pointB?l.pointB.y:0)}},a.currentLength=function(l){var i=(l.bodyA?l.bodyA.position.x:0)+(l.pointA?l.pointA.x:0),h=(l.bodyA?l.bodyA.position.y:0)+(l.pointA?l.pointA.y:0),f=(l.bodyB?l.bodyB.position.x:0)+(l.pointB?l.pointB.x:0),c=(l.bodyB?l.bodyB.position.y:0)+(l.pointB?l.pointB.y:0),d=i-f,v=h-c;return Math.sqrt(d*d+v*v)}})()},53402:(u,m,t)=>{var a={};u.exports=a,function(){a._baseDelta=16.666666666666668,a._nextId=0,a._seed=0,a._nowStartTime=+new Date,a._warnedOnce={},a._decomp=null,a.extend=function(o,s){var r,e,n;typeof s=="boolean"?(r=2,n=s):(r=1,n=!0);for(var l=r;l<arguments.length;l++){var i=arguments[l];if(i)for(var h in i)n&&i[h]&&i[h].constructor===Object&&(!o[h]||o[h].constructor===Object)?(o[h]=o[h]||{},a.extend(o[h],n,i[h])):o[h]=i[h]}return o},a.clone=function(o,s){return a.extend({},s,o)},a.keys=function(o){if(Object.keys)return Object.keys(o);var s=[];for(var r in o)s.push(r);return s},a.values=function(o){var s=[];if(Object.keys){for(var r=Object.keys(o),e=0;e<r.length;e++)s.push(o[r[e]]);return s}for(var n in o)s.push(o[n]);return s},a.get=function(o,s,r,e){s=s.split(".").slice(r,e);for(var n=0;n<s.length;n+=1)o=o[s[n]];return o},a.set=function(o,s,r,e,n){var l=s.split(".").slice(e,n);return a.get(o,s,0,-1)[l[l.length-1]]=r,r},a.shuffle=function(o){for(var s=o.length-1;s>0;s--){var r=Math.floor(a.random()*(s+1)),e=o[s];o[s]=o[r],o[r]=e}return o},a.choose=function(o){return o[Math.floor(a.random()*o.length)]},a.isElement=function(o){return typeof HTMLElement<"u"?o instanceof HTMLElement:!!(o&&o.nodeType&&o.nodeName)},a.isArray=function(o){return Object.prototype.toString.call(o)==="[object Array]"},a.isFunction=function(o){return typeof o=="function"},a.isPlainObject=function(o){return typeof o=="object"&&o.constructor===Object},a.isString=function(o){return toString.call(o)==="[object String]"},a.clamp=function(o,s,r){return o<s?s:o>r?r:o},a.sign=function(o){return o<0?-1:1},a.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-a._nowStartTime},a.random=function(o,s){return o=typeof o<"u"?o:0,s=typeof s<"u"?s:1,o+p()*(s-o)};var p=function(){return a._seed=(a._seed*9301+49297)%233280,a._seed/233280};a.colorToNumber=function(o){return o=o.replace("#",""),o.length==3&&(o=o.charAt(0)+o.charAt(0)+o.charAt(1)+o.charAt(1)+o.charAt(2)+o.charAt(2)),parseInt(o,16)},a.logLevel=1,a.log=function(){console&&a.logLevel>0&&a.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.info=function(){console&&a.logLevel>0&&a.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.warn=function(){console&&a.logLevel>0&&a.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.warnOnce=function(){var o=Array.prototype.slice.call(arguments).join(" ");a._warnedOnce[o]||(a.warn(o),a._warnedOnce[o]=!0)},a.deprecated=function(o,s,r){o[s]=a.chain(function(){a.warnOnce("\u{1F505} deprecated \u{1F505}",r)},o[s])},a.nextId=function(){return a._nextId++},a.indexOf=function(o,s){if(o.indexOf)return o.indexOf(s);for(var r=0;r<o.length;r++)if(o[r]===s)return r;return-1},a.map=function(o,s){if(o.map)return o.map(s);for(var r=[],e=0;e<o.length;e+=1)r.push(s(o[e]));return r},a.topologicalSort=function(o){var s=[],r=[],e=[];for(var n in o)!r[n]&&!e[n]&&a._topologicalSort(n,r,e,o,s);return s},a._topologicalSort=function(o,s,r,e,n){var l=e[o]||[];r[o]=!0;for(var i=0;i<l.length;i+=1){var h=l[i];r[h]||s[h]||a._topologicalSort(h,s,r,e,n)}r[o]=!1,s[o]=!0,n.push(o)},a.chain=function(){for(var o=[],s=0;s<arguments.length;s+=1){var r=arguments[s];r._chained?o.push.apply(o,r._chained):o.push(r)}var e=function(){for(var n,l=new Array(arguments.length),i=0,h=arguments.length;i<h;i++)l[i]=arguments[i];for(i=0;i<o.length;i+=1){var f=o[i].apply(n,l);typeof f<"u"&&(n=f)}return n};return e._chained=o,e},a.chainPathBefore=function(o,s,r){return a.set(o,s,a.chain(r,a.get(o,s)))},a.chainPathAfter=function(o,s,r){return a.set(o,s,a.chain(a.get(o,s),r))},a.setDecomp=function(o){a._decomp=o},a.getDecomp=function(){var o=a._decomp;try{!o&&typeof window<"u"&&(o=window.decomp),!o&&typeof t.g<"u"&&(o=t.g.decomp)}catch{o=null}return o}}()},48413:(u,m,t)=>{var a={};u.exports=a;var p=t(53614),o=t(66272),s=t(81388),r=t(99561),e=t(35810),n=t(69351),l=t(48140),i=t(53402),h=t(22562);(function(){a._deltaMax=16.666666666666668,a.create=function(f){f=f||{};var c={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},d=i.extend(c,f);return d.world=f.world||n.create({label:"World"}),d.pairs=f.pairs||r.create(),d.detector=f.detector||s.create(),d.detector.pairs=d.pairs,d.grid={buckets:[]},d.world.gravity=d.gravity,d.broadphase=d.grid,d.metrics={},d},a.update=function(f,c){var d=i.now(),v=f.world,g=f.detector,y=f.pairs,x=f.timing,T=x.timestamp,S;c>a._deltaMax&&i.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",a._deltaMax.toFixed(3),"ms."),c=typeof c<"u"?c:i._baseDelta,c*=x.timeScale,x.timestamp+=c,x.lastDelta=c;var A={timestamp:x.timestamp,delta:c};e.trigger(f,"beforeUpdate",A);var P=n.allBodies(v),D=n.allConstraints(v),R=n.allComposites(v);for(v.isModified&&(s.setBodies(g,P),n.setModified(v,!1,!1,!0)),f.enableSleeping&&p.update(P,c),a._bodiesApplyGravity(P,f.gravity),a.wrap(P,R),a.attractors(P),c>0&&a._bodiesUpdate(P,c),e.trigger(f,"beforeSolve",A),l.preSolveAll(P),S=0;S<f.constraintIterations;S++)l.solveAll(D,c);l.postSolveAll(P);var L=s.collisions(g);r.update(y,L,T),f.enableSleeping&&p.afterCollisions(y.list),y.collisionStart.length>0&&e.trigger(f,"collisionStart",{pairs:y.collisionStart,timestamp:x.timestamp,delta:c});var I=i.clamp(20/f.positionIterations,0,1);for(o.preSolvePosition(y.list),S=0;S<f.positionIterations;S++)o.solvePosition(y.list,c,I);for(o.postSolvePosition(P),l.preSolveAll(P),S=0;S<f.constraintIterations;S++)l.solveAll(D,c);for(l.postSolveAll(P),o.preSolveVelocity(y.list),S=0;S<f.velocityIterations;S++)o.solveVelocity(y.list,c);return a._bodiesUpdateVelocities(P),y.collisionActive.length>0&&e.trigger(f,"collisionActive",{pairs:y.collisionActive,timestamp:x.timestamp,delta:c}),y.collisionEnd.length>0&&e.trigger(f,"collisionEnd",{pairs:y.collisionEnd,timestamp:x.timestamp,delta:c}),a._bodiesClearForces(P),e.trigger(f,"afterUpdate",A),f.timing.lastElapsed=i.now()-d,f},a.merge=function(f,c){if(i.extend(f,c),c.world){f.world=c.world,a.clear(f);for(var d=n.allBodies(f.world),v=0;v<d.length;v++){var g=d[v];p.set(g,!1),g.id=i.nextId()}}},a.clear=function(f){r.clear(f.pairs),s.clear(f.detector)},a._bodiesClearForces=function(f){for(var c=f.length,d=0;d<c;d++){var v=f[d];v.force.x=0,v.force.y=0,v.torque=0}},a._bodiesApplyGravity=function(f,c){var d=typeof c.scale<"u"?c.scale:.001,v=f.length;if(!(c.x===0&&c.y===0||d===0))for(var g=0;g<v;g++){var y=f[g];y.ignoreGravity||y.isStatic||y.isSleeping||(y.force.y+=y.mass*c.y*d,y.force.x+=y.mass*c.x*d)}},a._bodiesUpdate=function(f,c){for(var d=f.length,v=0;v<d;v++){var g=f[v];g.isStatic||g.isSleeping||h.update(g,c)}},a._bodiesUpdateVelocities=function(f){for(var c=f.length,d=0;d<c;d++)h.updateVelocities(f[d])},a.wrap=function(f,c){for(var d=0;d<f.length;d+=1){var v=f[d];v.wrapBounds!==null&&h.wrap(v,v.wrapBounds)}for(d=0;d<c.length;d+=1){var g=c[d];g.wrapBounds!==null&&n.wrap(g,g.wrapBounds)}},a.attractors=function(f){for(var c=0;c<f.length;c++){var d=f[c],v=d.attractors;if(v&&v.length>0)for(var g=0;g<f.length;g++){var y=f[g];if(c!==g)for(var x=0;x<v.length;x++){var T=v[x],S=T;i.isFunction(T)&&(S=T(d,y)),S&&h.applyForce(y,y.position,S)}}}}})()},35810:(u,m,t)=>{var a={};u.exports=a;var p=t(53402);(function(){a.on=function(o,s,r){for(var e=s.split(" "),n,l=0;l<e.length;l++)n=e[l],o.events=o.events||{},o.events[n]=o.events[n]||[],o.events[n].push(r);return r},a.off=function(o,s,r){if(!s){o.events={};return}typeof s=="function"&&(r=s,s=p.keys(o.events).join(" "));for(var e=s.split(" "),n=0;n<e.length;n++){var l=o.events[e[n]],i=[];if(r&&l)for(var h=0;h<l.length;h++)l[h]!==r&&i.push(l[h]);o.events[e[n]]=i}},a.trigger=function(o,s,r){var e,n,l,i,h=o.events;if(h&&p.keys(h).length>0){r||(r={}),e=s.split(" ");for(var f=0;f<e.length;f++)if(n=e[f],l=h[n],l){i=p.clone(r,!1),i.name=n,i.source=o;for(var c=0;c<l.length;c++)l[c].apply(o,[i])}}}})()},6790:(u,m,t)=>{var a={};u.exports=a;var p=t(73832),o=t(53402);(function(){a.name="matter-js",a.version="0.20.0",a.uses=[],a.used=[],a.use=function(){p.use(a,Array.prototype.slice.call(arguments))},a.before=function(s,r){return s=s.replace(/^Matter./,""),o.chainPathBefore(a,s,r)},a.after=function(s,r){return s=s.replace(/^Matter./,""),o.chainPathAfter(a,s,r)}})()},73832:(u,m,t)=>{var a={};u.exports=a;var p=t(53402);(function(){a._registry={},a.register=function(o){if(a.isPlugin(o)||p.warn("Plugin.register:",a.toString(o),"does not implement all required fields."),o.name in a._registry){var s=a._registry[o.name],r=a.versionParse(o.version).number,e=a.versionParse(s.version).number;r>e?(p.warn("Plugin.register:",a.toString(s),"was upgraded to",a.toString(o)),a._registry[o.name]=o):r<e?p.warn("Plugin.register:",a.toString(s),"can not be downgraded to",a.toString(o)):o!==s&&p.warn("Plugin.register:",a.toString(o),"is already registered to different plugin object")}else a._registry[o.name]=o;return o},a.resolve=function(o){return a._registry[a.dependencyParse(o).name]},a.toString=function(o){return typeof o=="string"?o:(o.name||"anonymous")+"@"+(o.version||o.range||"0.0.0")},a.isPlugin=function(o){return o&&o.name&&o.version&&o.install},a.isUsed=function(o,s){return o.used.indexOf(s)>-1},a.isFor=function(o,s){var r=o.for&&a.dependencyParse(o.for);return!o.for||s.name===r.name&&a.versionSatisfies(s.version,r.range)},a.use=function(o,s){if(o.uses=(o.uses||[]).concat(s||[]),o.uses.length===0){p.warn("Plugin.use:",a.toString(o),"does not specify any dependencies to install.");return}for(var r=a.dependencies(o),e=p.topologicalSort(r),n=[],l=0;l<e.length;l+=1)if(e[l]!==o.name){var i=a.resolve(e[l]);if(!i){n.push("\u274C "+e[l]);continue}a.isUsed(o,i.name)||(a.isFor(i,o)||(p.warn("Plugin.use:",a.toString(i),"is for",i.for,"but installed on",a.toString(o)+"."),i._warned=!0),i.install?i.install(o):(p.warn("Plugin.use:",a.toString(i),"does not specify an install function."),i._warned=!0),i._warned?(n.push("\u{1F536} "+a.toString(i)),delete i._warned):n.push("\u2705 "+a.toString(i)),o.used.push(i.name))}n.length>0&&!i.silent&&p.info(n.join("  "))},a.dependencies=function(o,s){var r=a.dependencyParse(o),e=r.name;if(s=s||{},!(e in s)){o=a.resolve(o)||o,s[e]=p.map(o.uses||[],function(l){a.isPlugin(l)&&a.register(l);var i=a.dependencyParse(l),h=a.resolve(l);return h&&!a.versionSatisfies(h.version,i.range)?(p.warn("Plugin.dependencies:",a.toString(h),"does not satisfy",a.toString(i),"used by",a.toString(r)+"."),h._warned=!0,o._warned=!0):h||(p.warn("Plugin.dependencies:",a.toString(l),"used by",a.toString(r),"could not be resolved."),o._warned=!0),i.name});for(var n=0;n<s[e].length;n+=1)a.dependencies(s[e][n],s);return s}},a.dependencyParse=function(o){if(p.isString(o)){var s=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return s.test(o)||p.warn("Plugin.dependencyParse:",o,"is not a valid dependency string."),{name:o.split("@")[0],range:o.split("@")[1]||"*"}}return{name:o.name,range:o.range||o.version}},a.versionParse=function(o){var s=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;s.test(o)||p.warn("Plugin.versionParse:",o,"is not a valid version or range.");var r=s.exec(o),e=Number(r[4]),n=Number(r[5]),l=Number(r[6]);return{isRange:!!(r[1]||r[2]),version:r[3],range:o,operator:r[1]||r[2]||"",major:e,minor:n,patch:l,parts:[e,n,l],prerelease:r[7],number:e*1e8+n*1e4+l}},a.versionSatisfies=function(o,s){s=s||"*";var r=a.versionParse(s),e=a.versionParse(o);if(r.isRange){if(r.operator==="*"||o==="*")return!0;if(r.operator===">")return e.number>r.number;if(r.operator===">=")return e.number>=r.number;if(r.operator==="~")return e.major===r.major&&e.minor===r.minor&&e.patch>=r.patch;if(r.operator==="^")return r.major>0?e.major===r.major&&e.number>=r.number:r.minor>0?e.minor===r.minor&&e.patch>=r.patch:e.patch===r.patch}return o===s||o==="*"}})()},13037:(u,m,t)=>{var a={};u.exports=a;var p=t(35810),o=t(48413),s=t(53402);(function(){a._maxFrameDelta=66.66666666666667,a._frameDeltaFallback=16.666666666666668,a._timeBufferMargin=1.5,a._elapsedNextEstimate=1,a._smoothingLowerBound=.1,a._smoothingUpperBound=.9,a.create=function(e){var n={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},l=s.extend(n,e);return l.fps=0,l},a.run=function(e,n){return e.timeBuffer=a._frameDeltaFallback,function l(i){e.frameRequestId=a._onNextFrame(e,l),i&&e.enabled&&a.tick(e,n,i)}(),e},a.tick=function(e,n,l){var i=s.now(),h=e.delta,f=0,c=l-e.timeLastTick;if((!c||!e.timeLastTick||c>Math.max(a._maxFrameDelta,e.maxFrameTime))&&(c=e.frameDelta||a._frameDeltaFallback),e.frameDeltaSmoothing){e.frameDeltaHistory.push(c),e.frameDeltaHistory=e.frameDeltaHistory.slice(-e.frameDeltaHistorySize);var d=e.frameDeltaHistory.slice(0).sort(),v=e.frameDeltaHistory.slice(d.length*a._smoothingLowerBound,d.length*a._smoothingUpperBound),g=r(v);c=g||c}e.frameDeltaSnapping&&(c=1e3/Math.round(1e3/c)),e.frameDelta=c,e.timeLastTick=l,e.timeBuffer+=e.frameDelta,e.timeBuffer=s.clamp(e.timeBuffer,0,e.frameDelta+h*a._timeBufferMargin),e.lastUpdatesDeferred=0;var y=e.maxUpdates||Math.ceil(e.maxFrameTime/h),x={timestamp:n.timing.timestamp};p.trigger(e,"beforeTick",x),p.trigger(e,"tick",x);for(var T=s.now();h>0&&e.timeBuffer>=h*a._timeBufferMargin;){p.trigger(e,"beforeUpdate",x),o.update(n,h),p.trigger(e,"afterUpdate",x),e.timeBuffer-=h,f+=1;var S=s.now()-i,A=s.now()-T,P=S+a._elapsedNextEstimate*A/f;if(f>=y||P>e.maxFrameTime){e.lastUpdatesDeferred=Math.round(Math.max(0,e.timeBuffer/h-a._timeBufferMargin));break}}n.timing.lastUpdatesPerFrame=f,p.trigger(e,"afterTick",x),e.frameDeltaHistory.length>=100&&(e.lastUpdatesDeferred&&Math.round(e.frameDelta/h)>y?s.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):e.lastUpdatesDeferred&&s.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof e.isFixed<"u"&&s.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(e.deltaMin||e.deltaMax)&&s.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),e.fps!==0&&s.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},a.stop=function(e){a._cancelNextFrame(e)},a._onNextFrame=function(e,n){if(typeof window<"u"&&window.requestAnimationFrame)e.frameRequestId=window.requestAnimationFrame(n);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return e.frameRequestId},a._cancelNextFrame=function(e){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(e.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var r=function(e){for(var n=0,l=e.length,i=0;i<l;i+=1)n+=e[i];return n/l||0};a._mean=r})()},53614:(u,m,t)=>{var a={};u.exports=a;var p=t(22562),o=t(35810),s=t(53402);(function(){a._motionWakeThreshold=.18,a._motionSleepThreshold=.08,a._minBias=.9,a.update=function(r,e){for(var n=e/s._baseDelta,l=a._motionSleepThreshold,i=0;i<r.length;i++){var h=r[i],f=p.getSpeed(h),c=p.getAngularSpeed(h),d=f*f+c*c;if(h.force.x!==0||h.force.y!==0){a.set(h,!1);continue}var v=Math.min(h.motion,d),g=Math.max(h.motion,d);h.motion=a._minBias*v+(1-a._minBias)*g,h.sleepThreshold>0&&h.motion<l?(h.sleepCounter+=1,h.sleepCounter>=h.sleepThreshold/n&&a.set(h,!0)):h.sleepCounter>0&&(h.sleepCounter-=1)}},a.afterCollisions=function(r){for(var e=a._motionSleepThreshold,n=0;n<r.length;n++){var l=r[n];if(l.isActive){var i=l.collision,h=i.bodyA.parent,f=i.bodyB.parent;if(!(h.isSleeping&&f.isSleeping||h.isStatic||f.isStatic)&&(h.isSleeping||f.isSleeping)){var c=h.isSleeping&&!h.isStatic?h:f,d=c===h?f:h;!c.isStatic&&d.motion>e&&a.set(c,!1)}}}},a.set=function(r,e){var n=r.isSleeping;e?(r.isSleeping=!0,r.sleepCounter=r.sleepThreshold,r.positionImpulse.x=0,r.positionImpulse.y=0,r.positionPrev.x=r.position.x,r.positionPrev.y=r.position.y,r.anglePrev=r.angle,r.speed=0,r.angularSpeed=0,r.motion=0,n||o.trigger(r,"sleepStart")):(r.isSleeping=!1,r.sleepCounter=0,n&&o.trigger(r,"sleepEnd"))}})()},66280:(u,m,t)=>{var a={};u.exports=a;var p=t(41598),o=t(53402),s=t(22562),r=t(15647),e=t(31725);(function(){a.rectangle=function(n,l,i,h,f){f=f||{};var c={label:"Rectangle Body",position:{x:n,y:l},vertices:p.fromPath("L 0 0 L "+i+" 0 L "+i+" "+h+" L 0 "+h)};if(f.chamfer){var d=f.chamfer;c.vertices=p.chamfer(c.vertices,d.radius,d.quality,d.qualityMin,d.qualityMax),delete f.chamfer}return s.create(o.extend({},c,f))},a.trapezoid=function(n,l,i,h,f,c){c=c||{},f>=1&&o.warn("Bodies.trapezoid: slope parameter must be < 1."),f*=.5;var d=(1-f*2)*i,v=i*f,g=v+d,y=g+v,x;f<.5?x="L 0 0 L "+v+" "+-h+" L "+g+" "+-h+" L "+y+" 0":x="L 0 0 L "+g+" "+-h+" L "+y+" 0";var T={label:"Trapezoid Body",position:{x:n,y:l},vertices:p.fromPath(x)};if(c.chamfer){var S=c.chamfer;T.vertices=p.chamfer(T.vertices,S.radius,S.quality,S.qualityMin,S.qualityMax),delete c.chamfer}return s.create(o.extend({},T,c))},a.circle=function(n,l,i,h,f){h=h||{};var c={label:"Circle Body",circleRadius:i};f=f||25;var d=Math.ceil(Math.max(10,Math.min(f,i)));return d%2===1&&(d+=1),a.polygon(n,l,d,i,o.extend({},c,h))},a.polygon=function(n,l,i,h,f){if(f=f||{},i<3)return a.circle(n,l,h,f);for(var c=2*Math.PI/i,d="",v=c*.5,g=0;g<i;g+=1){var y=v+g*c,x=Math.cos(y)*h,T=Math.sin(y)*h;d+="L "+x.toFixed(3)+" "+T.toFixed(3)+" "}var S={label:"Polygon Body",position:{x:n,y:l},vertices:p.fromPath(d)};if(f.chamfer){var A=f.chamfer;S.vertices=p.chamfer(S.vertices,A.radius,A.quality,A.qualityMin,A.qualityMax),delete f.chamfer}return s.create(o.extend({},S,f))},a.fromVertices=function(n,l,i,h,f,c,d,v){var g=o.getDecomp(),y,x,T,S,A,P,D,R,L,I,w;for(y=!!(g&&g.quickDecomp),h=h||{},T=[],f=typeof f<"u"?f:!1,c=typeof c<"u"?c:.01,d=typeof d<"u"?d:10,v=typeof v<"u"?v:.01,o.isArray(i[0])||(i=[i]),I=0;I<i.length;I+=1)if(P=i[I],S=p.isConvex(P),A=!S,A&&!y&&o.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),S||!y)S?P=p.clockwiseSort(P):P=p.hull(P),T.push({position:{x:n,y:l},vertices:P});else{var B=P.map(function(H){return[H.x,H.y]});g.makeCCW(B),c!==!1&&g.removeCollinearPoints(B,c),v!==!1&&g.removeDuplicatePoints&&g.removeDuplicatePoints(B,v);var b=g.quickDecomp(B);for(D=0;D<b.length;D++){var V=b[D],X=V.map(function(H){return{x:H[0],y:H[1]}});d>0&&p.area(X)<d||T.push({position:p.centre(X),vertices:X})}}for(D=0;D<T.length;D++)T[D]=s.create(o.extend(T[D],h));if(f){var G=5;for(D=0;D<T.length;D++){var U=T[D];for(R=D+1;R<T.length;R++){var O=T[R];if(r.overlaps(U.bounds,O.bounds)){var z=U.vertices,N=O.vertices;for(L=0;L<U.vertices.length;L++)for(w=0;w<O.vertices.length;w++){var Y=e.magnitudeSquared(e.sub(z[(L+1)%z.length],N[w])),W=e.magnitudeSquared(e.sub(z[L],N[(w+1)%N.length]));Y<G&&W<G&&(z[L].isInternal=!0,N[w].isInternal=!0)}}}}}return T.length>1?(x=s.create(o.extend({parts:T.slice(0)},h)),s.setPosition(x,{x:n,y:l}),x):T[0]},a.flagCoincidentParts=function(n,l){l===void 0&&(l=5);for(var i=0;i<n.length;i++)for(var h=n[i],f=i+1;f<n.length;f++){var c=n[f];if(r.overlaps(h.bounds,c.bounds))for(var d=h.vertices,v=c.vertices,g=0;g<h.vertices.length;g++)for(var y=0;y<c.vertices.length;y++){var x=e.magnitudeSquared(e.sub(d[(g+1)%d.length],v[y])),T=e.magnitudeSquared(e.sub(d[g],v[(y+1)%v.length]));x<l&&T<l&&(d[g].isInternal=!0,v[y].isInternal=!0)}}return n}})()},74116:(u,m,t)=>{var a={};u.exports=a;var p=t(69351),o=t(48140),s=t(53402),r=t(22562),e=t(66280);(function(){a.stack=function(n,l,i,h,f,c,d){for(var v=p.create({label:"Stack"}),g=n,y=l,x,T=0,S=0;S<h;S++){for(var A=0,P=0;P<i;P++){var D=d(g,y,P,S,x,T);if(D){var R=D.bounds.max.y-D.bounds.min.y,L=D.bounds.max.x-D.bounds.min.x;R>A&&(A=R),r.translate(D,{x:L*.5,y:R*.5}),g=D.bounds.max.x+f,p.addBody(v,D),x=D,T+=1}else g+=f}y+=A+c,g=n}return v},a.chain=function(n,l,i,h,f,c){for(var d=n.bodies,v=1;v<d.length;v++){var g=d[v-1],y=d[v],x=g.bounds.max.y-g.bounds.min.y,T=g.bounds.max.x-g.bounds.min.x,S=y.bounds.max.y-y.bounds.min.y,A=y.bounds.max.x-y.bounds.min.x,P={bodyA:g,pointA:{x:T*l,y:x*i},bodyB:y,pointB:{x:A*h,y:S*f}},D=s.extend(P,c);p.addConstraint(n,o.create(D))}return n.label+=" Chain",n},a.mesh=function(n,l,i,h,f){var c=n.bodies,d,v,g,y,x;for(d=0;d<i;d++){for(v=1;v<l;v++)g=c[v-1+d*l],y=c[v+d*l],p.addConstraint(n,o.create(s.extend({bodyA:g,bodyB:y},f)));if(d>0)for(v=0;v<l;v++)g=c[v+(d-1)*l],y=c[v+d*l],p.addConstraint(n,o.create(s.extend({bodyA:g,bodyB:y},f))),h&&v>0&&(x=c[v-1+(d-1)*l],p.addConstraint(n,o.create(s.extend({bodyA:x,bodyB:y},f)))),h&&v<l-1&&(x=c[v+1+(d-1)*l],p.addConstraint(n,o.create(s.extend({bodyA:x,bodyB:y},f))))}return n.label+=" Mesh",n},a.pyramid=function(n,l,i,h,f,c,d){return a.stack(n,l,i,h,f,c,function(v,g,y,x,T,S){var A=Math.min(h,Math.ceil(i/2)),P=T?T.bounds.max.x-T.bounds.min.x:0;if(!(x>A)){x=A-x;var D=x,R=i-1-x;if(!(y<D||y>R)){S===1&&r.translate(T,{x:(y+(i%2===1?1:-1))*P,y:0});var L=T?y*P:0;return d(n+L+y*f,g,y,x,T,S)}}})},a.newtonsCradle=function(n,l,i,h,f){for(var c=p.create({label:"Newtons Cradle"}),d=0;d<i;d++){var v=1.9,g=e.circle(n+d*(h*v),l+f,h,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),y=o.create({pointA:{x:n+d*(h*v),y:l},bodyB:g});p.addBody(c,g),p.addConstraint(c,y)}return c},a.car=function(n,l,i,h,f){var c=r.nextGroup(!0),d=20,v=-i*.5+d,g=i*.5-d,y=0,x=p.create({label:"Car"}),T=e.rectangle(n,l,i,h,{collisionFilter:{group:c},chamfer:{radius:h*.5},density:2e-4}),S=e.circle(n+v,l+y,f,{collisionFilter:{group:c},friction:.8}),A=e.circle(n+g,l+y,f,{collisionFilter:{group:c},friction:.8}),P=o.create({bodyB:T,pointB:{x:v,y},bodyA:S,stiffness:1,length:0}),D=o.create({bodyB:T,pointB:{x:g,y},bodyA:A,stiffness:1,length:0});return p.addBody(x,T),p.addBody(x,S),p.addBody(x,A),p.addConstraint(x,P),p.addConstraint(x,D),x},a.softBody=function(n,l,i,h,f,c,d,v,g,y){g=s.extend({inertia:1/0},g),y=s.extend({stiffness:.2,render:{type:"line",anchors:!1}},y);var x=a.stack(n,l,i,h,f,c,function(T,S){return e.circle(T,S,v,g)});return a.mesh(x,i,h,d,y),x.label="Soft Body",x}})()},66615:(u,m,t)=>{var a={};u.exports=a;var p=t(31725),o=t(53402);(function(){a.fromVertices=function(s){for(var r={},e=0;e<s.length;e++){var n=(e+1)%s.length,l=p.normalise({x:s[n].y-s[e].y,y:s[e].x-s[n].x}),i=l.y===0?1/0:l.x/l.y;i=i.toFixed(3).toString(),r[i]=l}return o.values(r)},a.rotate=function(s,r){if(r!==0)for(var e=Math.cos(r),n=Math.sin(r),l=0;l<s.length;l++){var i=s[l],h;h=i.x*e-i.y*n,i.y=i.x*n+i.y*e,i.x=h}}})()},15647:u=>{var m={};u.exports=m,function(){m.create=function(t){var a={min:{x:0,y:0},max:{x:0,y:0}};return t&&m.update(a,t),a},m.update=function(t,a,p){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var o=0;o<a.length;o++){var s=a[o];s.x>t.max.x&&(t.max.x=s.x),s.x<t.min.x&&(t.min.x=s.x),s.y>t.max.y&&(t.max.y=s.y),s.y<t.min.y&&(t.min.y=s.y)}p&&(p.x>0?t.max.x+=p.x:t.min.x+=p.x,p.y>0?t.max.y+=p.y:t.min.y+=p.y)},m.contains=function(t,a){return a.x>=t.min.x&&a.x<=t.max.x&&a.y>=t.min.y&&a.y<=t.max.y},m.overlaps=function(t,a){return t.min.x<=a.max.x&&t.max.x>=a.min.x&&t.max.y>=a.min.y&&t.min.y<=a.max.y},m.translate=function(t,a){t.min.x+=a.x,t.max.x+=a.x,t.min.y+=a.y,t.max.y+=a.y},m.shift=function(t,a){var p=t.max.x-t.min.x,o=t.max.y-t.min.y;t.min.x=a.x,t.max.x=a.x+p,t.min.y=a.y,t.max.y=a.y+o},m.wrap=function(t,a,p){var o=null,s=null;if(typeof a.min.x<"u"&&typeof a.max.x<"u"&&(t.min.x>a.max.x?o=a.min.x-t.max.x:t.max.x<a.min.x&&(o=a.max.x-t.min.x)),typeof a.min.y<"u"&&typeof a.max.y<"u"&&(t.min.y>a.max.y?s=a.min.y-t.max.y:t.max.y<a.min.y&&(s=a.max.y-t.min.y)),o!==null||s!==null)return{x:o||0,y:s||0}}}()},74058:(u,m,t)=>{var a={};u.exports=a;var p=t(15647),o=t(53402);(function(){a.pathToVertices=function(s,r){typeof window<"u"&&!("SVGPathSeg"in window)&&o.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var e,n,l,i,h,f,c,d,v,g,y=[],x,T,S=0,A=0,P=0;r=r||15;var D=function(L,I,w){var B=w%2===1&&w>1;if(!v||L!=v.x||I!=v.y){v&&B?(x=v.x,T=v.y):(x=0,T=0);var b={x:x+L,y:T+I};(B||!v)&&(v=b),y.push(b),A=x+L,P=T+I}},R=function(L){var I=L.pathSegTypeAsLetter.toUpperCase();if(I!=="Z"){switch(I){case"M":case"L":case"T":case"C":case"S":case"Q":A=L.x,P=L.y;break;case"H":A=L.x;break;case"V":P=L.y;break}D(A,P,L.pathSegType)}};for(a._svgPathToAbsolute(s),l=s.getTotalLength(),f=[],e=0;e<s.pathSegList.numberOfItems;e+=1)f.push(s.pathSegList.getItem(e));for(c=f.concat();S<l;){if(g=s.getPathSegAtLength(S),h=f[g],h!=d){for(;c.length&&c[0]!=h;)R(c.shift());d=h}switch(h.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":i=s.getPointAtLength(S),D(i.x,i.y,0);break}S+=r}for(e=0,n=c.length;e<n;++e)R(c[e]);return y},a._svgPathToAbsolute=function(s){for(var r,e,n,l,i,h,f=s.pathSegList,c=0,d=0,v=f.numberOfItems,g=0;g<v;++g){var y=f.getItem(g),x=y.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(x))"x"in y&&(c=y.x),"y"in y&&(d=y.y);else switch("x1"in y&&(n=c+y.x1),"x2"in y&&(i=c+y.x2),"y1"in y&&(l=d+y.y1),"y2"in y&&(h=d+y.y2),"x"in y&&(c+=y.x),"y"in y&&(d+=y.y),x){case"m":f.replaceItem(s.createSVGPathSegMovetoAbs(c,d),g);break;case"l":f.replaceItem(s.createSVGPathSegLinetoAbs(c,d),g);break;case"h":f.replaceItem(s.createSVGPathSegLinetoHorizontalAbs(c),g);break;case"v":f.replaceItem(s.createSVGPathSegLinetoVerticalAbs(d),g);break;case"c":f.replaceItem(s.createSVGPathSegCurvetoCubicAbs(c,d,n,l,i,h),g);break;case"s":f.replaceItem(s.createSVGPathSegCurvetoCubicSmoothAbs(c,d,i,h),g);break;case"q":f.replaceItem(s.createSVGPathSegCurvetoQuadraticAbs(c,d,n,l),g);break;case"t":f.replaceItem(s.createSVGPathSegCurvetoQuadraticSmoothAbs(c,d),g);break;case"a":f.replaceItem(s.createSVGPathSegArcAbs(c,d,y.r1,y.r2,y.angle,y.largeArcFlag,y.sweepFlag),g);break;case"z":case"Z":c=r,d=e;break}(x=="M"||x=="m")&&(r=c,e=d)}}})()},31725:u=>{var m={};u.exports=m,function(){m.create=function(t,a){return{x:t||0,y:a||0}},m.clone=function(t){return{x:t.x,y:t.y}},m.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},m.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},m.rotate=function(t,a,p){var o=Math.cos(a),s=Math.sin(a);p||(p={});var r=t.x*o-t.y*s;return p.y=t.x*s+t.y*o,p.x=r,p},m.rotateAbout=function(t,a,p,o){var s=Math.cos(a),r=Math.sin(a);o||(o={});var e=p.x+((t.x-p.x)*s-(t.y-p.y)*r);return o.y=p.y+((t.x-p.x)*r+(t.y-p.y)*s),o.x=e,o},m.normalise=function(t){var a=m.magnitude(t);return a===0?{x:0,y:0}:{x:t.x/a,y:t.y/a}},m.dot=function(t,a){return t.x*a.x+t.y*a.y},m.cross=function(t,a){return t.x*a.y-t.y*a.x},m.cross3=function(t,a,p){return(a.x-t.x)*(p.y-t.y)-(a.y-t.y)*(p.x-t.x)},m.add=function(t,a,p){return p||(p={}),p.x=t.x+a.x,p.y=t.y+a.y,p},m.sub=function(t,a,p){return p||(p={}),p.x=t.x-a.x,p.y=t.y-a.y,p},m.mult=function(t,a){return{x:t.x*a,y:t.y*a}},m.div=function(t,a){return{x:t.x/a,y:t.y/a}},m.perp=function(t,a){return a=a===!0?-1:1,{x:a*-t.y,y:a*t.x}},m.neg=function(t){return{x:-t.x,y:-t.y}},m.angle=function(t,a){return Math.atan2(a.y-t.y,a.x-t.x)},m._temp=[m.create(),m.create(),m.create(),m.create(),m.create(),m.create()]}()},41598:(u,m,t)=>{var a={};u.exports=a;var p=t(31725),o=t(53402);(function(){a.create=function(s,r){for(var e=[],n=0;n<s.length;n++){var l=s[n],i={x:l.x,y:l.y,index:n,body:r,isInternal:!1};e.push(i)}return e},a.fromPath=function(s,r){var e=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,n=[];return s.replace(e,function(l,i,h){n.push({x:parseFloat(i),y:parseFloat(h)})}),a.create(n,r)},a.centre=function(s){for(var r=a.area(s,!0),e={x:0,y:0},n,l,i,h=0;h<s.length;h++)i=(h+1)%s.length,n=p.cross(s[h],s[i]),l=p.mult(p.add(s[h],s[i]),n),e=p.add(e,l);return p.div(e,6*r)},a.mean=function(s){for(var r={x:0,y:0},e=0;e<s.length;e++)r.x+=s[e].x,r.y+=s[e].y;return p.div(r,s.length)},a.area=function(s,r){for(var e=0,n=s.length-1,l=0;l<s.length;l++)e+=(s[n].x-s[l].x)*(s[n].y+s[l].y),n=l;return r?e/2:Math.abs(e)/2},a.inertia=function(s,r){for(var e=0,n=0,l=s,i,h,f=0;f<l.length;f++)h=(f+1)%l.length,i=Math.abs(p.cross(l[h],l[f])),e+=i*(p.dot(l[h],l[h])+p.dot(l[h],l[f])+p.dot(l[f],l[f])),n+=i;return r/6*(e/n)},a.translate=function(s,r,e){e=typeof e<"u"?e:1;var n=s.length,l=r.x*e,i=r.y*e,h;for(h=0;h<n;h++)s[h].x+=l,s[h].y+=i;return s},a.rotate=function(s,r,e){if(r!==0){var n=Math.cos(r),l=Math.sin(r),i=e.x,h=e.y,f=s.length,c,d,v,g;for(g=0;g<f;g++)c=s[g],d=c.x-i,v=c.y-h,c.x=i+(d*n-v*l),c.y=h+(d*l+v*n);return s}},a.contains=function(s,r){for(var e=r.x,n=r.y,l=s.length,i=s[l-1],h,f=0;f<l;f++){if(h=s[f],(e-i.x)*(h.y-i.y)+(n-i.y)*(i.x-h.x)>0)return!1;i=h}return!0},a.scale=function(s,r,e,n){if(r===1&&e===1)return s;n=n||a.centre(s);for(var l,i,h=0;h<s.length;h++)l=s[h],i=p.sub(l,n),s[h].x=n.x+i.x*r,s[h].y=n.y+i.y*e;return s},a.chamfer=function(s,r,e,n,l){typeof r=="number"?r=[r]:r=r||[8],e=typeof e<"u"?e:-1,n=n||2,l=l||14;for(var i=[],h=0;h<s.length;h++){var f=s[h-1>=0?h-1:s.length-1],c=s[h],d=s[(h+1)%s.length],v=r[h<r.length?h:r.length-1];if(v===0){i.push(c);continue}var g=p.normalise({x:c.y-f.y,y:f.x-c.x}),y=p.normalise({x:d.y-c.y,y:c.x-d.x}),x=Math.sqrt(2*Math.pow(v,2)),T=p.mult(o.clone(g),v),S=p.normalise(p.mult(p.add(g,y),.5)),A=p.sub(c,p.mult(S,x)),P=e;e===-1&&(P=Math.pow(v,.32)*1.75),P=o.clamp(P,n,l),P%2===1&&(P+=1);for(var D=Math.acos(p.dot(g,y)),R=D/P,L=0;L<P;L++)i.push(p.add(p.rotate(T,R*L),A))}return i},a.clockwiseSort=function(s){var r=a.mean(s);return s.sort(function(e,n){return p.angle(r,e)-p.angle(r,n)}),s},a.isConvex=function(s){var r=0,e=s.length,n,l,i,h;if(e<3)return null;for(n=0;n<e;n++)if(l=(n+1)%e,i=(n+2)%e,h=(s[l].x-s[n].x)*(s[i].y-s[l].y),h-=(s[l].y-s[n].y)*(s[i].x-s[l].x),h<0?r|=1:h>0&&(r|=2),r===3)return!1;return r!==0?!0:null},a.hull=function(s){var r=[],e=[],n,l;for(s=s.slice(0),s.sort(function(i,h){var f=i.x-h.x;return f!==0?f:i.y-h.y}),l=0;l<s.length;l+=1){for(n=s[l];e.length>=2&&p.cross3(e[e.length-2],e[e.length-1],n)<=0;)e.pop();e.push(n)}for(l=s.length-1;l>=0;l-=1){for(n=s[l];r.length>=2&&p.cross3(r[r.length-2],r[r.length-1],n)<=0;)r.pop();r.push(n)}return r.pop(),e.pop(),r.concat(e)}})()},55973:u=>{u.exports={decomp:D,quickDecomp:w,isSimple:L,removeCollinearPoints:B,removeDuplicatePoints:b,makeCCW:d};function m(G,U,O){O=O||0;var z=[0,0],N,Y,W,H,$,K,Z;return N=G[1][1]-G[0][1],Y=G[0][0]-G[1][0],W=N*G[0][0]+Y*G[0][1],H=U[1][1]-U[0][1],$=U[0][0]-U[1][0],K=H*U[0][0]+$*U[0][1],Z=N*$-H*Y,V(Z,0,O)||(z[0]=($*W-Y*K)/Z,z[1]=(N*K-H*W)/Z),z}function t(G,U,O,z){var N=U[0]-G[0],Y=U[1]-G[1],W=z[0]-O[0],H=z[1]-O[1];if(W*Y-H*N===0)return!1;var $=(N*(O[1]-G[1])+Y*(G[0]-O[0]))/(W*Y-H*N),K=(W*(G[1]-O[1])+H*(O[0]-G[0]))/(H*N-W*Y);return $>=0&&$<=1&&K>=0&&K<=1}function a(G,U,O){return(U[0]-G[0])*(O[1]-G[1])-(O[0]-G[0])*(U[1]-G[1])}function p(G,U,O){return a(G,U,O)>0}function o(G,U,O){return a(G,U,O)>=0}function s(G,U,O){return a(G,U,O)<0}function r(G,U,O){return a(G,U,O)<=0}var e=[],n=[];function l(G,U,O,z){if(z){var N=e,Y=n;N[0]=U[0]-G[0],N[1]=U[1]-G[1],Y[0]=O[0]-U[0],Y[1]=O[1]-U[1];var W=N[0]*Y[0]+N[1]*Y[1],H=Math.sqrt(N[0]*N[0]+N[1]*N[1]),$=Math.sqrt(Y[0]*Y[0]+Y[1]*Y[1]),K=Math.acos(W/(H*$));return K<z}else return a(G,U,O)===0}function i(G,U){var O=U[0]-G[0],z=U[1]-G[1];return O*O+z*z}function h(G,U){var O=G.length;return G[U<0?U%O+O:U%O]}function f(G){G.length=0}function c(G,U,O,z){for(var N=O;N<z;N++)G.push(U[N])}function d(G){for(var U=0,O=G,z=1;z<G.length;++z)(O[z][1]<O[U][1]||O[z][1]===O[U][1]&&O[z][0]>O[U][0])&&(U=z);return p(h(G,U-1),h(G,U),h(G,U+1))?!1:(v(G),!0)}function v(G){for(var U=[],O=G.length,z=0;z!==O;z++)U.push(G.pop());for(var z=0;z!==O;z++)G[z]=U[z]}function g(G,U){return s(h(G,U-1),h(G,U),h(G,U+1))}var y=[],x=[];function T(G,U,O){var z,N,Y=y,W=x;if(o(h(G,U+1),h(G,U),h(G,O))&&r(h(G,U-1),h(G,U),h(G,O)))return!1;N=i(h(G,U),h(G,O));for(var H=0;H!==G.length;++H)if(!((H+1)%G.length===U||H===U)&&o(h(G,U),h(G,O),h(G,H+1))&&r(h(G,U),h(G,O),h(G,H))&&(Y[0]=h(G,U),Y[1]=h(G,O),W[0]=h(G,H),W[1]=h(G,H+1),z=m(Y,W),i(h(G,U),z)<N))return!1;return!0}function S(G,U,O){for(var z=0;z!==G.length;++z)if(!(z===U||z===O||(z+1)%G.length===U||(z+1)%G.length===O)&&t(h(G,U),h(G,O),h(G,z),h(G,z+1)))return!1;return!0}function A(G,U,O,z){var N=z||[];if(f(N),U<O)for(var Y=U;Y<=O;Y++)N.push(G[Y]);else{for(var Y=0;Y<=O;Y++)N.push(G[Y]);for(var Y=U;Y<G.length;Y++)N.push(G[Y])}return N}function P(G){for(var U=[],O=[],z=[],N=[],Y=Number.MAX_VALUE,W=0;W<G.length;++W)if(g(G,W)){for(var H=0;H<G.length;++H)if(T(G,W,H)){O=P(A(G,W,H,N)),z=P(A(G,H,W,N));for(var $=0;$<z.length;$++)O.push(z[$]);O.length<Y&&(U=O,Y=O.length,U.push([h(G,W),h(G,H)]))}}return U}function D(G){var U=P(G);return U.length>0?R(G,U):[G]}function R(G,U){if(U.length===0)return[G];if(U instanceof Array&&U.length&&U[0]instanceof Array&&U[0].length===2&&U[0][0]instanceof Array){for(var O=[G],z=0;z<U.length;z++)for(var N=U[z],Y=0;Y<O.length;Y++){var W=O[Y],H=R(W,N);if(H){O.splice(Y,1),O.push(H[0],H[1]);break}}return O}else{var N=U,z=G.indexOf(N[0]),Y=G.indexOf(N[1]);return z!==-1&&Y!==-1?[A(G,z,Y),A(G,Y,z)]:!1}}function L(G){var U=G,O;for(O=0;O<U.length-1;O++)for(var z=0;z<O-1;z++)if(t(U[O],U[O+1],U[z],U[z+1]))return!1;for(O=1;O<U.length-2;O++)if(t(U[0],U[U.length-1],U[O],U[O+1]))return!1;return!0}function I(G,U,O,z,N){N=N||0;var Y=U[1]-G[1],W=G[0]-U[0],H=Y*G[0]+W*G[1],$=z[1]-O[1],K=O[0]-z[0],Z=$*O[0]+K*O[1],J=Y*K-$*W;return V(J,0,N)?[0,0]:[(K*H-W*Z)/J,(Y*Z-$*H)/J]}function w(G,U,O,z,N,Y,W){Y=Y||100,W=W||0,N=N||25,U=typeof U<"u"?U:[],O=O||[],z=z||[];var H=[0,0],$=[0,0],K=[0,0],Z=0,J=0,j=0,Q=0,_=0,k=0,it=0,nt=[],st=[],q=G,tt=G;if(tt.length<3)return U;if(W++,W>Y)return console.warn("quickDecomp: max level ("+Y+") reached."),U;for(var et=0;et<G.length;++et)if(g(q,et)){O.push(q[et]),Z=J=Number.MAX_VALUE;for(var ot=0;ot<G.length;++ot)p(h(q,et-1),h(q,et),h(q,ot))&&r(h(q,et-1),h(q,et),h(q,ot-1))&&(K=I(h(q,et-1),h(q,et),h(q,ot),h(q,ot-1)),s(h(q,et+1),h(q,et),K)&&(j=i(q[et],K),j<J&&(J=j,$=K,k=ot))),p(h(q,et+1),h(q,et),h(q,ot+1))&&r(h(q,et+1),h(q,et),h(q,ot))&&(K=I(h(q,et+1),h(q,et),h(q,ot),h(q,ot+1)),p(h(q,et-1),h(q,et),K)&&(j=i(q[et],K),j<Z&&(Z=j,H=K,_=ot)));if(k===(_+1)%G.length)K[0]=($[0]+H[0])/2,K[1]=($[1]+H[1])/2,z.push(K),et<_?(c(nt,q,et,_+1),nt.push(K),st.push(K),k!==0&&c(st,q,k,q.length),c(st,q,0,et+1)):(et!==0&&c(nt,q,et,q.length),c(nt,q,0,_+1),nt.push(K),st.push(K),c(st,q,k,et+1));else{if(k>_&&(_+=G.length),Q=Number.MAX_VALUE,_<k)return U;for(var ot=k;ot<=_;++ot)o(h(q,et-1),h(q,et),h(q,ot))&&r(h(q,et+1),h(q,et),h(q,ot))&&(j=i(h(q,et),h(q,ot)),j<Q&&S(q,et,ot)&&(Q=j,it=ot%G.length));et<it?(c(nt,q,et,it+1),it!==0&&c(st,q,it,tt.length),c(st,q,0,et+1)):(et!==0&&c(nt,q,et,tt.length),c(nt,q,0,it+1),c(st,q,it,et+1))}return nt.length<st.length?(w(nt,U,O,z,N,Y,W),w(st,U,O,z,N,Y,W)):(w(st,U,O,z,N,Y,W),w(nt,U,O,z,N,Y,W)),U}return U.push(G),U}function B(G,U){for(var O=0,z=G.length-1;G.length>3&&z>=0;--z)l(h(G,z-1),h(G,z),h(G,z+1),U)&&(G.splice(z%G.length,1),O++);return O}function b(G,U){for(var O=G.length-1;O>=1;--O)for(var z=G[O],N=O-1;N>=0;--N)if(X(z,G[N],U)){G.splice(O,1);continue}}function V(G,U,O){return O=O||0,Math.abs(G-U)<=O}function X(G,U,O){return V(G[0],U[0],O)&&V(G[1],U[1],O)}},52018:(u,m,t)=>{var a=t(83419),p=new a({initialize:function(s){this.pluginManager=s,this.game=s.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});u.exports=p},42363:u=>{var m={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};u.exports=m},37277:u=>{var m={},t={},a={};a.register=function(p,o,s,r){r===void 0&&(r=!1),m[p]={plugin:o,mapping:s,custom:r}},a.registerCustom=function(p,o,s,r){t[p]={plugin:o,mapping:s,data:r}},a.hasCore=function(p){return m.hasOwnProperty(p)},a.hasCustom=function(p){return t.hasOwnProperty(p)},a.getCore=function(p){return m[p]},a.getCustom=function(p){return t[p]},a.getCustomClass=function(p){return t.hasOwnProperty(p)?t[p].plugin:null},a.remove=function(p){m.hasOwnProperty(p)&&delete m[p]},a.removeCustom=function(p){t.hasOwnProperty(p)&&delete t[p]},a.destroyCorePlugins=function(){for(var p in m)m.hasOwnProperty(p)&&delete m[p]},a.destroyCustomPlugins=function(){for(var p in t)t.hasOwnProperty(p)&&delete t[p]},u.exports=a},77332:(u,m,t)=>{var a=t(83419),p=t(8443),o=t(50792),s=t(74099),r=t(44603),e=t(39429),n=t(95540),l=t(37277),i=t(72905),h=t(8054),f=new a({Extends:o,initialize:function(d){o.call(this),this.game=d,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],d.isBooted||d.config.renderType===h.HEADLESS?this.boot():d.events.once(p.BOOT,this.boot,this)},boot:function(){var c,d,v,g,y,x,T,S=this.game.config,A=S.installGlobalPlugins;for(A=A.concat(this._pendingGlobal),c=0;c<A.length;c++)d=A[c],v=n(d,"key",null),g=n(d,"plugin",null),y=n(d,"start",!1),x=n(d,"mapping",null),T=n(d,"data",null),v&&(g?this.install(v,g,y,x,T):console.warn("Missing `plugin` for key: "+v));for(A=S.installScenePlugins,A=A.concat(this._pendingScene),c=0;c<A.length;c++)d=A[c],v=n(d,"key",null),g=n(d,"plugin",null),x=n(d,"mapping",null),v&&(g?this.installScenePlugin(v,g,x):console.warn("Missing `plugin` for key: "+v));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(p.DESTROY,this.destroy,this)},addToScene:function(c,d,v){var g,y,x,T=this.game,S=c.scene,A=c.settings.map,P=c.settings.isBooted;for(g=0;g<d.length;g++)y=d[g],T[y]?(c[y]=T[y],A.hasOwnProperty(y)&&(S[A[y]]=c[y])):y==="game"&&A.hasOwnProperty(y)&&(S[A[y]]=T);for(var D=0;D<v.length;D++)for(x=v[D],g=0;g<x.length;g++)if(y=x[g],!!l.hasCore(y)){var R=l.getCore(y),L=R.mapping,I=new R.plugin(S,this,L);c[L]=I,R.custom?S[L]=I:A.hasOwnProperty(L)&&(S[A[L]]=I),P&&I.boot()}for(x=this.plugins,g=0;g<x.length;g++){var w=x[g];w.mapping&&(S[w.mapping]=w.plugin)}},getDefaultScenePlugins:function(){var c=this.game.config.defaultPlugins;return c=c.concat(this.scenePlugins),c},installScenePlugin:function(c,d,v,g,y){if(y===void 0&&(y=!1),typeof d!="function"){console.warn("Invalid Scene Plugin: "+c);return}if(l.hasCore(c)||l.register(c,d,v,!0),this.scenePlugins.indexOf(c)===-1)this.scenePlugins.push(c);else if(!y&&l.hasCore(c)){console.warn("Scene Plugin key in use: "+c);return}if(g){var x=new d(g,this,c);g.sys[c]=x,v&&v!==""&&(g[v]=x),x.boot()}},install:function(c,d,v,g,y){if(v===void 0&&(v=!1),g===void 0&&(g=null),y===void 0&&(y=null),typeof d!="function")return console.warn("Invalid Plugin: "+c),null;if(l.hasCustom(c))return console.warn("Plugin key in use: "+c),null;if(g!==null&&(v=!0),!this.game.isBooted)this._pendingGlobal.push({key:c,plugin:d,start:v,mapping:g,data:y});else if(l.registerCustom(c,d,g,y),v)return this.start(c);return null},getIndex:function(c){for(var d=this.plugins,v=0;v<d.length;v++){var g=d[v];if(g.key===c)return v}return-1},getEntry:function(c){var d=this.getIndex(c);if(d!==-1)return this.plugins[d]},isActive:function(c){var d=this.getEntry(c);return d&&d.active},start:function(c,d){d===void 0&&(d=c);var v=this.getEntry(d);return v&&!v.active?(v.active=!0,v.plugin.start()):v||(v=this.createEntry(c,d)),v?v.plugin:null},createEntry:function(c,d){var v=l.getCustom(c);if(v){var g=new v.plugin(this);v={key:d,plugin:g,active:!0,mapping:v.mapping,data:v.data},this.plugins.push(v),g.init(v.data),g.start()}return v},stop:function(c){var d=this.getEntry(c);return d&&d.active&&(d.active=!1,d.plugin.stop()),this},get:function(c,d){d===void 0&&(d=!0);var v=this.getEntry(c);if(v)return v.plugin;var g=this.getClass(c);return g&&d?(v=this.createEntry(c,c),v?v.plugin:null):g||null},getClass:function(c){return l.getCustomClass(c)},removeGlobalPlugin:function(c){var d=this.getEntry(c);d&&i(this.plugins,d),l.removeCustom(c)},removeScenePlugin:function(c){i(this.scenePlugins,c),l.remove(c)},registerGameObject:function(c,d,v){return d&&e.register(c,d),v&&r.register(c,v),this},removeGameObject:function(c,d,v){return d===void 0&&(d=!0),v===void 0&&(v=!0),d&&e.remove(c),v&&r.remove(c),this},registerFileType:function(c,d,v){s.register(c,d),v&&v.sys.load&&(v.sys.load[c]=d)},destroy:function(){for(var c=0;c<this.plugins.length;c++)this.plugins[c].plugin.destroy();l.destroyCustomPlugins(),this.game.noReturn&&l.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});u.exports=f},45145:(u,m,t)=>{var a=t(52018),p=t(83419),o=t(44594),s=new p({Extends:a,initialize:function(e,n,l){a.call(this,n),this.scene=e,this.systems=e.sys,this.pluginKey=l,e.sys.events.once(o.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});u.exports=s},18922:(u,m,t)=>{u.exports={BasePlugin:t(52018),DefaultPlugins:t(42363),PluginCache:t(37277),PluginManager:t(77332),ScenePlugin:t(45145)}},63595:()=>{typeof HTMLVideoElement<"u"&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(u){let m=performance.now(),t=this.getVideoPlaybackQuality(),a=this.mozPresentedFrames||this.mozPaintedFrames||t.totalVideoFrames-t.droppedVideoFrames,p=(o,s)=>{let r=this.getVideoPlaybackQuality(),e=this.mozPresentedFrames||this.mozPaintedFrames||r.totalVideoFrames-r.droppedVideoFrames;if(e>a){let n=this.mozFrameDelay||r.totalFrameDelay-t.totalFrameDelay||0,l=s-o;u(s,{presentationTime:s+n*1e3,expectedDisplayTime:s+l,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+l/1e3,presentedFrames:e,processingDuration:n}),delete this._rvfcpolyfillmap[m]}else this._rvfcpolyfillmap[m]=requestAnimationFrame(n=>p(s,n))};return this._rvfcpolyfillmap[m]=requestAnimationFrame(o=>p(m,o)),m},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(u){cancelAnimationFrame(this._rvfcpolyfillmap[u]),delete this._rvfcpolyfillmap[u]})},10312:u=>{u.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:u=>{var m={DEFAULT:0,LINEAR:0,NEAREST:1};u.exports=m},68627:(u,m,t)=>{var a=t(19715),p=t(32880),o=t(83419),s=t(8054),r=t(50792),e=t(92503),n=t(56373),l=t(97480),i=t(69442),h=t(8443),f=t(61340),c=new o({Extends:r,initialize:function(v){r.call(this);var g=v.config;this.config={clearBeforeRender:g.clearBeforeRender,backgroundColor:g.backgroundColor,antialias:g.antialias,roundPixels:g.roundPixels,transparent:g.transparent},this.game=v,this.type=s.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=v.canvas;var y={alpha:g.transparent,desynchronized:g.desynchronized,willReadFrequently:!1};this.gameContext=g.context?g.context:this.gameCanvas.getContext("2d",y),this.currentContext=this.gameContext,this.antialias=g.antialias,this.blendModes=n(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new f,this._tempMatrix2=new f,this._tempMatrix3=new f,this.isBooted=!1,this.init()},init:function(){var d=this.game;d.events.once(h.BOOT,function(){var v=this.config;if(!v.transparent){var g=this.gameContext,y=this.gameCanvas;g.fillStyle=v.backgroundColor.rgba,g.fillRect(0,0,y.width,y.height)}},this),d.textures.once(i.READY,this.boot,this)},boot:function(){var d=this.game,v=d.scale.baseSize;this.width=v.width,this.height=v.height,this.isBooted=!0,d.scale.on(l.RESIZE,this.onResize,this),this.resize(v.width,v.height)},onResize:function(d,v){(v.width!==this.width||v.height!==this.height)&&this.resize(v.width,v.height)},resize:function(d,v){this.width=d,this.height=v,this.emit(e.RESIZE,d,v)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(d){return this.currentContext.globalCompositeOperation=d,this},setContext:function(d){return this.currentContext=d||this.gameContext,this},setAlpha:function(d){return this.currentContext.globalAlpha=d,this},preRender:function(){var d=this.gameContext,v=this.config,g=this.width,y=this.height;d.globalAlpha=1,d.globalCompositeOperation="source-over",d.setTransform(1,0,0,1,0,0),this.emit(e.PRE_RENDER_CLEAR),v.clearBeforeRender&&(d.clearRect(0,0,g,y),v.transparent||(d.fillStyle=v.backgroundColor.rgba,d.fillRect(0,0,g,y))),d.save(),this.drawCount=0,this.emit(e.PRE_RENDER)},render:function(d,v,g){var y=v.length;this.emit(e.RENDER,d,g);var x=g.x,T=g.y,S=g.width,A=g.height,P=g.renderToTexture?g.context:d.sys.context;P.save(),this.game.scene.customViewports&&(P.beginPath(),P.rect(x,T,S,A),P.clip()),g.emit(a.PRE_RENDER,g),this.currentContext=P;var D=g.mask;D&&D.preRenderCanvas(this,null,g._maskCamera),g.transparent||(P.fillStyle=g.backgroundColor.rgba,P.fillRect(x,T,S,A)),P.globalAlpha=g.alpha,P.globalCompositeOperation="source-over",this.drawCount+=y,g.renderToTexture&&g.emit(a.PRE_RENDER,g),g.matrix.copyToContext(P);for(var R=0;R<y;R++){var L=v[R];L.mask&&L.mask.preRenderCanvas(this,L,g),L.renderCanvas(this,L,g),L.mask&&L.mask.postRenderCanvas(this,L,g)}P.setTransform(1,0,0,1,0,0),P.globalCompositeOperation="source-over",P.globalAlpha=1,g.flashEffect.postRenderCanvas(P),g.fadeEffect.postRenderCanvas(P),g.dirty=!1,D&&D.postRenderCanvas(this),P.restore(),g.renderToTexture&&(g.emit(a.POST_RENDER,g),g.renderToGame&&d.sys.context.drawImage(g.canvas,x,T)),g.emit(a.POST_RENDER,g)},postRender:function(){var d=this.gameContext;d.restore(),this.emit(e.POST_RENDER);var v=this.snapshotState;v.callback&&(p(this.gameCanvas,v),v.callback=null)},snapshotCanvas:function(d,v,g,y,x,T,S,A,P){g===void 0&&(g=!1),this.snapshotArea(y,x,T,S,v,A,P);var D=this.snapshotState;return D.getPixel=g,p(d,D),D.callback=null,this},snapshot:function(d,v,g){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,d,v,g)},snapshotArea:function(d,v,g,y,x,T,S){var A=this.snapshotState;return A.callback=x,A.type=T,A.encoder=S,A.getPixel=!1,A.x=d,A.y=v,A.width=Math.min(g,this.gameCanvas.width),A.height=Math.min(y,this.gameCanvas.height),this},snapshotPixel:function(d,v,g){return this.snapshotArea(d,v,1,1,g),this.snapshotState.getPixel=!0,this},batchSprite:function(d,v,g,y){var x=g.alpha*d.alpha;if(x!==0){var T=this.currentContext,S=this._tempMatrix1,A=this._tempMatrix2,P=v.canvasData,D=P.x,R=P.y,L=v.cutWidth,I=v.cutHeight,w=v.customPivot,B=v.source.resolution,b=d.displayOriginX,V=d.displayOriginY,X=-b+v.x,G=-V+v.y;if(d.isCropped){var U=d._crop;(U.flipX!==d.flipX||U.flipY!==d.flipY)&&v.updateCropUVs(U,d.flipX,d.flipY),L=U.cw,I=U.ch,D=U.cx,R=U.cy,X=-b+U.x,G=-V+U.y,d.flipX&&(X>=0?X=-(X+L):X<0&&(X=Math.abs(X)-L)),d.flipY&&(G>=0?G=-(G+I):G<0&&(G=Math.abs(G)-I))}var O=1,z=1;d.flipX&&(w||(X+=-v.realWidth+b*2),O=-1),d.flipY&&(w||(G+=-v.realHeight+V*2),z=-1);var N=d.x,Y=d.y;if(g.roundPixels&&(N=Math.floor(N),Y=Math.floor(Y)),A.applyITRS(N,Y,d.rotation,d.scaleX*O,d.scaleY*z),S.copyFrom(g.matrix),y?(S.multiplyWithOffset(y,-g.scrollX*d.scrollFactorX,-g.scrollY*d.scrollFactorY),A.e=N,A.f=Y):(A.e-=g.scrollX*d.scrollFactorX,A.f-=g.scrollY*d.scrollFactorY),S.multiply(A),g.renderRoundPixels&&(S.e=Math.floor(S.e+.5),S.f=Math.floor(S.f+.5)),T.save(),S.setToContext(T),T.globalCompositeOperation=this.blendModes[d.blendMode],T.globalAlpha=x,T.imageSmoothingEnabled=!v.source.scaleMode,d.mask&&d.mask.preRenderCanvas(this,d,g),L>0&&I>0){var W=L/B,H=I/B;g.roundPixels&&(X=Math.floor(X+.5),G=Math.floor(G+.5),W+=.5,H+=.5),T.drawImage(v.source.image,D,R,L,I,X,G,W,H)}d.mask&&d.mask.postRenderCanvas(this,d,g),T.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});u.exports=c},55830:(u,m,t)=>{u.exports={CanvasRenderer:t(68627),GetBlendModes:t(56373),SetTransform:t(20926)}},56373:(u,m,t)=>{var a=t(10312),p=t(89289),o=function(){var s=[],r=p.supportNewBlendModes,e="source-over";return s[a.NORMAL]=e,s[a.ADD]="lighter",s[a.MULTIPLY]=r?"multiply":e,s[a.SCREEN]=r?"screen":e,s[a.OVERLAY]=r?"overlay":e,s[a.DARKEN]=r?"darken":e,s[a.LIGHTEN]=r?"lighten":e,s[a.COLOR_DODGE]=r?"color-dodge":e,s[a.COLOR_BURN]=r?"color-burn":e,s[a.HARD_LIGHT]=r?"hard-light":e,s[a.SOFT_LIGHT]=r?"soft-light":e,s[a.DIFFERENCE]=r?"difference":e,s[a.EXCLUSION]=r?"exclusion":e,s[a.HUE]=r?"hue":e,s[a.SATURATION]=r?"saturation":e,s[a.COLOR]=r?"color":e,s[a.LUMINOSITY]=r?"luminosity":e,s[a.ERASE]="destination-out",s[a.SOURCE_IN]="source-in",s[a.SOURCE_OUT]="source-out",s[a.SOURCE_ATOP]="source-atop",s[a.DESTINATION_OVER]="destination-over",s[a.DESTINATION_IN]="destination-in",s[a.DESTINATION_OUT]="destination-out",s[a.DESTINATION_ATOP]="destination-atop",s[a.LIGHTER]="lighter",s[a.COPY]="copy",s[a.XOR]="xor",s};u.exports=o},20926:(u,m,t)=>{var a=t(91296),p=function(o,s,r,e,n){var l=e.alpha*r.alpha;if(l<=0)return!1;var i=a(r,e,n).calc;return s.globalCompositeOperation=o.blendModes[r.blendMode],s.globalAlpha=l,s.save(),i.setToContext(s),s.imageSmoothingEnabled=r.frame?!r.frame.source.scaleMode:o.antialias,!0};u.exports=p},63899:u=>{u.exports="losewebgl"},6119:u=>{u.exports="postrender"},48070:u=>{u.exports="prerender"},15640:u=>{u.exports="render"},8912:u=>{u.exports="resize"},87124:u=>{u.exports="restorewebgl"},92503:(u,m,t)=>{u.exports={LOSE_WEBGL:t(63899),POST_RENDER:t(6119),PRE_RENDER:t(48070),RENDER:t(15640),RESIZE:t(8912),RESTORE_WEBGL:t(87124)}},36909:(u,m,t)=>{u.exports={Events:t(92503),Snapshot:t(89966)},u.exports.Canvas=t(55830),u.exports.WebGL=t(4159)},32880:(u,m,t)=>{var a=t(27919),p=t(40987),o=t(95540),s=function(r,e){var n=o(e,"callback"),l=o(e,"type","image/png"),i=o(e,"encoder",.92),h=Math.abs(Math.round(o(e,"x",0))),f=Math.abs(Math.round(o(e,"y",0))),c=Math.floor(o(e,"width",r.width)),d=Math.floor(o(e,"height",r.height)),v=o(e,"getPixel",!1);if(v){var g=r.getContext("2d",{willReadFrequently:!1}),y=g.getImageData(h,f,1,1),x=y.data;n.call(null,new p(x[0],x[1],x[2],x[3]))}else if(h!==0||f!==0||c!==r.width||d!==r.height){var T=a.createWebGL(this,c,d),S=T.getContext("2d",{willReadFrequently:!0});c>0&&d>0&&S.drawImage(r,h,f,c,d,0,0,c,d);var A=new Image;A.onerror=function(){n.call(null),a.remove(T)},A.onload=function(){n.call(null,A),a.remove(T)},A.src=T.toDataURL(l,i)}else{var P=new Image;P.onerror=function(){n.call(null)},P.onload=function(){n.call(null,P)},P.src=r.toDataURL(l,i)}};u.exports=s},88815:(u,m,t)=>{var a=t(27919),p=t(40987),o=t(95540),s=function(r,e){var n=r,l=o(e,"callback"),i=o(e,"type","image/png"),h=o(e,"encoder",.92),f=Math.abs(Math.round(o(e,"x",0))),c=Math.abs(Math.round(o(e,"y",0))),d=o(e,"getPixel",!1),v=o(e,"isFramebuffer",!1),g=v?o(e,"bufferWidth",1):n.drawingBufferWidth,y=v?o(e,"bufferHeight",1):n.drawingBufferHeight;if(d){var x=new Uint8Array(4),T=v?c:y-c;n.readPixels(f,T,1,1,n.RGBA,n.UNSIGNED_BYTE,x),l.call(null,new p(x[0],x[1],x[2],x[3]))}else{var S=Math.floor(o(e,"width",g)),A=Math.floor(o(e,"height",y)),P=S*A*4,D=new Uint8Array(P);n.readPixels(f,y-c-A,S,A,n.RGBA,n.UNSIGNED_BYTE,D);for(var R=a.createWebGL(this,S,A),L=R.getContext("2d",{willReadFrequently:!0}),I=L.getImageData(0,0,S,A),w=I.data,B=0;B<A;B++)for(var b=0;b<S;b++){var V=((A-B-1)*S+b)*4,X=v?P-(B*S+(S-b))*4:(B*S+b)*4;w[X+0]=D[V+0],w[X+1]=D[V+1],w[X+2]=D[V+2],w[X+3]=D[V+3]}L.putImageData(I,0,0);var G=new Image;G.onerror=function(){l.call(null),a.remove(R)},G.onload=function(){l.call(null,G),a.remove(R)},G.src=R.toDataURL(i,h)}};u.exports=s},89966:(u,m,t)=>{u.exports={Canvas:t(32880),WebGL:t(88815)}},7530:(u,m,t)=>{var a=t(83419),p=t(36060),o=t(90330),s=t(82264),r=t(95540),e=t(32302),n=t(63448),l=t(31302),i=t(58918),h=t(14811),f=t(92651),c=t(96569),d=t(56527),v=t(57516),g=t(43439),y=t(81041),x=t(12385),T=t(7589),S=t(95428),A=t(72905),P=new a({initialize:function(R){this.game=R.game,this.renderer=R,this.classes=new o([[p.UTILITY_PIPELINE,T],[p.MULTI_PIPELINE,v],[p.BITMAPMASK_PIPELINE,l],[p.SINGLE_PIPELINE,x],[p.ROPE_PIPELINE,y],[p.LIGHT_PIPELINE,c],[p.POINTLIGHT_PIPELINE,g],[p.MOBILE_PIPELINE,d]]),this.postPipelineClasses=new o,this.pipelines=new o,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(D,R,L){var I=this.renderer,w=this.renderTargets;this.frameInc=Math.floor(r(D,"frameInc",32));var B=I.width,b=I.height,V=this.game.config.disablePreFX,X=this.game.config.disablePostFX;if(X||this.postPipelineClasses.setAll([[String(h.BARREL),i.Barrel],[String(h.BLOOM),i.Bloom],[String(h.BLUR),i.Blur],[String(h.BOKEH),i.Bokeh],[String(h.CIRCLE),i.Circle],[String(h.COLOR_MATRIX),i.ColorMatrix],[String(h.DISPLACEMENT),i.Displacement],[String(h.GLOW),i.Glow],[String(h.GRADIENT),i.Gradient],[String(h.PIXELATE),i.Pixelate],[String(h.SHADOW),i.Shadow],[String(h.SHINE),i.Shine],[String(h.VIGNETTE),i.Vignette],[String(h.WIPE),i.Wipe]]),!V){this.classes.set(p.FX_PIPELINE,f);for(var G=Math.min(B,b),U=Math.ceil(G/this.frameInc),O=1;O<U;O++){var z=O*this.frameInc;w.push(new e(I,z,z)),w.push(new e(I,z,z)),w.push(new e(I,z,z)),this.maxDimension=z}w.push(new e(I,B,b,1,0,!0,!0)),w.push(new e(I,B,b,1,0,!0,!0)),w.push(new e(I,B,b,1,0,!0,!0))}var N,Y,W=this,H=this.game;if(this.classes.each(function(K,Z){N=W.add(K,new Z({game:H})),K===p.UTILITY_PIPELINE&&(W.UTILITY_PIPELINE=N,W.fullFrame1=N.fullFrame1,W.fullFrame2=N.fullFrame2,W.halfFrame1=N.halfFrame1,W.halfFrame2=N.halfFrame2)}),this.MULTI_PIPELINE=this.get(p.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(p.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(p.MOBILE_PIPELINE),V||(this.FX_PIPELINE=this.get(p.FX_PIPELINE)),D)for(Y in D){var $=D[Y];N=new $(H),N.name=Y,N.isPostFX?this.postPipelineClasses.set(Y,$):this.has(Y)||(this.classes.set(Y,$),this.add(Y,N))}this.default=this.get(R),L&&!s.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(D){var R=this.get(D);return R&&(this.default=R),R},add:function(D,R){if(R.isPostFX){console.warn(D+" is a Post Pipeline. Use `addPostPipeline` instead");return}var L=this.pipelines,I=this.renderer;return L.has(D)?console.warn("Pipeline exists: "+D):(R.name=D,R.manager=this,L.set(D,R)),R.hasBooted||R.boot(),I.width!==0&&I.height!==0&&!R.isPreFX&&R.resize(I.width,I.height),R},addPostPipeline:function(D,R){this.postPipelineClasses.has(D)||this.postPipelineClasses.set(D,R)},flush:function(){this.current&&this.current.flush()},has:function(D){var R=this.pipelines;return typeof D=="string"?R.has(D):!!R.contains(D)},get:function(D){var R=this.pipelines;if(typeof D=="string")return R.get(D);if(R.contains(D))return D},getPostPipeline:function(D,R,L){var I=this.postPipelineClasses,w,B="",b=typeof D;if(b==="string"||b==="number"?(w=I.get(D),B=D):b==="function"?(I.contains(D)&&(w=D),B=D.name):b==="object"&&(w=I.get(D.name),B=D.name),w){var V=new w(this.game,L);return V.name=B,R&&(V.gameObject=R),this.postPipelineInstances.push(V),V}},removePostPipeline:function(D){A(this.postPipelineInstances,D)},remove:function(D,R,L){R===void 0&&(R=!0),L===void 0&&(L=!0),this.pipelines.delete(D),R&&this.classes.delete(D),L&&this.postPipelineClasses.delete(D)},set:function(D,R,L){if(!D.isPostFX)return this.isCurrent(D,L)||(this.flush(),this.current&&this.current.unbind(),this.current=D,D.bind(L)),D.updateProjectionMatrix(),D.onBind(R),D},preBatch:function(D){if(D.hasPostPipeline){this.flush();for(var R=D.postPipelines,L=R.length-1;L>=0;L--){var I=R[L];I.active&&I.preBatch(D)}}},postBatch:function(D){if(D.hasPostPipeline){this.flush();for(var R=D.postPipelines,L=0;L<R.length;L++){var I=R[L];I.active&&I.postBatch(D)}}},preBatchCamera:function(D){if(D.hasPostPipeline){this.flush();for(var R=D.postPipelines,L=R.length-1;L>=0;L--){var I=R[L];I.active&&I.preBatch(D)}}},postBatchCamera:function(D){if(D.hasPostPipeline){this.flush();for(var R=D.postPipelines,L=0;L<R.length;L++){var I=R[L];I.active&&I.postBatch(D)}}},isCurrent:function(D,R){var L=this.renderer,I=this.current;return I&&!R&&(R=I.currentShader),!(I!==D||R.program!==L.currentProgram)},copyFrame:function(D,R,L,I,w){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(D,R,L,I,w),this},copyToGame:function(D){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(D),this},drawFrame:function(D,R,L,I){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(D,R,L,I),this},blendFrames:function(D,R,L,I,w){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(D,R,L,I,w),this},blendFramesAdditive:function(D,R,L,I,w){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(D,R,L,I,w),this},clearFrame:function(D,R){return this.UTILITY_PIPELINE.clearFrame(D,R),this},blitFrame:function(D,R,L,I,w,B){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(D,R,L,I,w,B),this},copyFrameRect:function(D,R,L,I,w,B,b,V){return this.UTILITY_PIPELINE.copyFrameRect(D,R,L,I,w,B,b,V),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(D){return this.UTILITY_PIPELINE.bind(D)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(D,R){R.restoreContext()}),S(this.postPipelineInstances,function(D){D.restoreContext()})},rebind:function(D){D===void 0&&this.previous&&(D=this.previous);var R=this.renderer,L=R.gl;L.disable(L.DEPTH_TEST),L.disable(L.CULL_FACE),R.hasActiveStencilMask()?L.clear(L.DEPTH_BUFFER_BIT):(L.disable(L.STENCIL_TEST),L.clear(L.DEPTH_BUFFER_BIT|L.STENCIL_BUFFER_BIT)),L.viewport(0,0,R.width,R.height),R.currentProgram=null,R.setBlendMode(0,!0);var I=R.vaoExtension;I&&I.bindVertexArrayOES(null);var w=this.pipelines.entries;for(var B in w)w[B].glReset=!0;D&&(this.current=D,D.rebind())},clear:function(){var D=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,D.currentProgram=null,D.setBlendMode(0,!0);var R=D.vaoExtension;R&&R.bindVertexArrayOES(null)},getRenderTarget:function(D){var R=this.renderTargets,L=3;if(D>this.maxDimension)return this.targetIndex=R.length-L,R[this.targetIndex];var I=(n(D,this.frameInc,0,!0)-1)*L;return this.targetIndex=I,R[I]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});u.exports=P},32302:(u,m,t)=>{var a=t(83419),p=t(92503),o=new a({initialize:function(r,e,n,l,i,h,f,c,d){l===void 0&&(l=1),i===void 0&&(i=0),h===void 0&&(h=!0),f===void 0&&(f=!1),c===void 0&&(c=!0),d===void 0&&(d=!0),this.renderer=r,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=l,this.minFilter=i,this.autoClear=h,this.autoResize=!0,this.hasDepthBuffer=c,this.forceClamp=d,this.init(e,n),f?this.renderer.on(p.RESIZE,this.resize,this):this.autoResize=!1},init:function(s,r){var e=this.renderer;this.texture=e.createTextureFromSource(null,s,r,this.minFilter,this.forceClamp),this.framebuffer=e.createFramebuffer(s,r,this.texture,this.hasDepthBuffer),this.width=s,this.height=r},setAutoResize:function(s){return s&&!this.autoResize?(this.renderer.on(p.RESIZE,this.resize,this),this.autoResize=!0):!s&&this.autoResize&&(this.renderer.off(p.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(s,r){if(this.autoResize&&this.willResize(s,r)){var e=this.renderer;e.deleteFramebuffer(this.framebuffer),e.deleteTexture(this.texture),this.texture=e.createTextureFromSource(null,s,r,this.minFilter,this.forceClamp),this.framebuffer=e.createFramebuffer(s,r,this.texture,this.hasDepthBuffer),this.width=s,this.height=r}return this},willResize:function(s,r){return typeof s!="number"||typeof r!="number"?!1:(s=Math.round(s*this.scale),r=Math.round(r*this.scale),s=Math.max(s,1),r=Math.max(r,1),s!==this.width||r!==this.height)},bind:function(s,r,e){s===void 0&&(s=!1);var n=this.renderer;if(s&&n.flush(),r&&e&&this.resize(r,e),n.pushFramebuffer(this.framebuffer,!1,!1),s&&this.adjustViewport(),this.autoClear){var l=this.renderer.gl;l.clearColor(0,0,0,0),l.clear(l.COLOR_BUFFER_BIT)}n.clearStencilMask()},adjustViewport:function(){var s=this.renderer.gl;s.viewport(0,0,this.width,this.height),s.disable(s.SCISSOR_TEST)},clear:function(s,r,e,n){var l=this.renderer,i=l.gl;l.pushFramebuffer(this.framebuffer),s!==void 0&&r!==void 0&&e!==void 0&&n!==void 0?(i.enable(i.SCISSOR_TEST),i.scissor(s,r,e,n)):i.disable(i.SCISSOR_TEST),i.clearColor(0,0,0,0),i.clear(i.COLOR_BUFFER_BIT),l.popFramebuffer(),l.resetScissor()},unbind:function(s){s===void 0&&(s=!1);var r=this.renderer;return s&&r.flush(),r.popFramebuffer()},destroy:function(){var s=this.renderer;s.off(p.RESIZE,this.resize,this),s.deleteFramebuffer(this.framebuffer),s.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});u.exports=o},70554:u=>{u.exports={getTintFromFloats:function(m,t,a,p){var o=(m*255|0)&255,s=(t*255|0)&255,r=(a*255|0)&255,e=(p*255|0)&255;return(e<<24|o<<16|s<<8|r)>>>0},getTintAppendFloatAlpha:function(m,t){var a=(t*255|0)&255;return(a<<24|m)>>>0},getTintAppendFloatAlphaAndSwap:function(m,t){var a=(m>>16|0)&255,p=(m>>8|0)&255,o=(m|0)&255,s=(t*255|0)&255;return(s<<24|o<<16|p<<8|a)>>>0},getFloatsFromUintRGB:function(m){var t=(m>>16|0)&255,a=(m>>8|0)&255,p=(m|0)&255;return[t/255,a/255,p/255]},checkShaderMax:function(m,t){var a=Math.min(16,m.getParameter(m.MAX_TEXTURE_IMAGE_UNITS));return!t||t===-1?a:Math.min(a,t)},parseFragmentShaderMaxTextures:function(m,t){if(!m)return"";for(var a="",p=0;p<t;p++)p>0&&(a+=`
	else `),p<t-1&&(a+="if (outTexId < "+p+".5)"),a+=`
	{`,a+=`
		texture = texture2D(uMainSampler[`+p+"], outTexCoord);",a+=`
	}`;return m=m.replace(/%count%/gi,t.toString()),m.replace(/%forloop%/gi,a)},setGlowQuality:function(m,t,a,p){return a===void 0&&(a=t.config.glowFXQuality),p===void 0&&(p=t.config.glowFXDistance),m=m.replace(/__SIZE__/gi,(1/a/p).toFixed(7)),m=m.replace(/__DIST__/gi,p.toFixed(0)+".0"),m}}},29100:(u,m,t)=>{var a=t(83419),p=t(62644),o=t(50792),s=t(77085),r=t(95540),e=t(37867),n=t(92503),l=t(32302),i=t(70554),h=t(38683),f=new a({Extends:o,initialize:function(d){o.call(this);var v=d.game,g=v.renderer,y=g.gl;this.name=r(d,"name","WebGLPipeline"),this.game=v,this.renderer=g,this.manager,this.gl=y,this.view=v.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=r(d,"topology",y.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=r(d,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=d,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=r(d,"resizeUniform","")},boot:function(){var c,d=this.gl,v=this.config,g=this.renderer;this.isPostFX||(this.projectionMatrix=new e().identity());var y=this.renderTargets,x=r(v,"renderTarget",!1);typeof x=="boolean"&&x&&(x=1);var T=g.width,S=g.height;if(typeof x=="number")for(c=0;c<x;c++)y.push(new l(g,T,S,1,0,!0));else if(Array.isArray(x))for(c=0;c<x.length;c++){var A=r(x[c],"scale",1),P=r(x[c],"minFilter",0),D=r(x[c],"autoClear",1),R=r(x[c],"autoResize",!1),L=r(x[c],"width",null),I=r(x[c],"height",L);L?y.push(new l(g,L,I,1,P,D,R)):y.push(new l(g,T,S,A,P,D,R))}y.length&&(this.currentRenderTarget=y[0]),this.setShadersFromConfig(v);var w=this.shaders,B=0;for(c=0;c<w.length;c++)w[c].vertexSize>B&&(B=w[c].vertexSize);var b=r(v,"batchSize",g.config.batchSize);this.vertexCapacity=b*6;var V=new ArrayBuffer(this.vertexCapacity*B);this.vertexData=V,this.bytes=new Uint8Array(V),this.vertexViewF32=new Float32Array(V),this.vertexViewU32=new Uint32Array(V);var X=r(v,"vertices",null);for(X?(this.vertexViewF32.set(X),this.vertexBuffer=g.createVertexBuffer(V,d.STATIC_DRAW)):this.vertexBuffer=g.createVertexBuffer(V.byteLength,d.DYNAMIC_DRAW),this.setVertexBuffer(),c=w.length-1;c>=0;c--)w[c].rebind();this.hasBooted=!0,g.on(n.RESIZE,this.resize,this),g.on(n.PRE_RENDER,this.onPreRender,this),g.on(n.RENDER,this.onRender,this),g.on(n.POST_RENDER,this.onPostRender,this),this.emit(s.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(c,d,v){var g=this.renderer;if(c!==this.currentShader||g.currentProgram!==this.currentShader.program){this.flush();var y=this.setVertexBuffer(v);y&&!d&&(d=!0),c.bind(d,!1),this.currentShader=c}return this},getShaderByName:function(c){for(var d=this.shaders,v=0;v<d.length;v++)if(d[v].name===c)return d[v]},setShadersFromConfig:function(c){var d,v=this.shaders,g=this.renderer;for(d=0;d<v.length;d++)v[d].destroy();var y="vertShader",x="fragShader",T="attributes",S=r(c,y,null),A=i.parseFragmentShaderMaxTextures(r(c,x,null),g.maxTextures),P=r(c,T,null),D=r(c,"shaders",[]),R=D.length;if(R===0)S&&A&&(this.shaders=[new h(this,"default",S,A,p(P))]);else{var L=[];for(d=0;d<R;d++){var I=D[d],w,B,b,V;if(typeof I=="string"?(w="default",B=S,b=i.parseFragmentShaderMaxTextures(I,g.maxTextures),V=P):(w=r(I,"name","default"),B=r(I,y,S),b=i.parseFragmentShaderMaxTextures(r(I,x,A),g.maxTextures),V=r(I,T,P)),w==="default"){var X=b.split(`
`),G=X[0].trim();G.indexOf("#define SHADER_NAME")>-1&&(w=G.substring(20))}B&&b&&L.push(new h(this,w,B,b,p(V)))}this.shaders=L}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(c){return this.currentBatch={start:this.vertexCount,count:0,texture:[c],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=c,this.batch.push(this.currentBatch),0},addTextureToBatch:function(c){var d=this.currentBatch;d&&(d.texture.push(c),d.unit++,d.maxUnit++)},pushBatch:function(c){if(!this.currentBatch||this.forceZero&&c!==this.currentTexture)return this.createBatch(c);if(c===this.currentTexture)return this.currentUnit;var d=this.currentBatch,v=d.texture.indexOf(c);return v===-1?d.texture.length===this.renderer.maxTextures?this.createBatch(c):(d.unit++,d.maxUnit++,d.texture.push(c),this.currentUnit=d.unit,this.currentTexture=c,d.unit):(this.currentUnit=v,this.currentTexture=c,v)},setGameObject:function(c,d){return d===void 0&&(d=c.frame),this.pushBatch(d.source.glTexture)},shouldFlush:function(c){return c===void 0&&(c=0),this.vertexCount+c>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(c,d){(c!==this.width||d!==this.height)&&this.flush(),this.width=c,this.height=d;for(var v=this.renderTargets,g=0;g<v.length;g++)v[g].resize(c,d);return this.setProjectionMatrix(c,d),this.resizeUniform&&this.set2f(this.resizeUniform,c,d),this.emit(s.RESIZE,c,d,this),this.onResize(c,d),this},setProjectionMatrix:function(c,d){var v=this.projectionMatrix;if(!v)return this;this.projectionWidth=c,this.projectionHeight=d,v.ortho(0,c,d,0,-1e3,1e3);for(var g=this.shaders,y="uProjectionMatrix",x=0;x<g.length;x++){var T=g[x];T.hasUniform(y)&&(T.resetUniform(y),T.setMatrix4fv(y,!1,v.val,T))}return this},flipProjectionMatrix:function(c){c===void 0&&(c=!0);var d=this.projectionMatrix;if(!d)return this;var v=this.projectionWidth,g=this.projectionHeight;c?d.ortho(0,v,0,g,-1e3,1e3):d.ortho(0,v,g,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,d.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var c=this.renderer.projectionWidth,d=this.renderer.projectionHeight;(this.projectionWidth!==c||this.projectionHeight!==d)&&this.setProjectionMatrix(c,d)}},bind:function(c){if(c===void 0&&(c=this.currentShader),this.glReset)return this.rebind(c);var d=!1,v=this.gl;return v.getParameter(v.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(v.bindBuffer(v.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,d=!0),c.bind(d),this.currentShader=c,this.activeTextures.length=0,this.emit(s.BIND,this,c),this.onActive(c),this},rebind:function(c){this.activeBuffer=null,this.setVertexBuffer();for(var d=this.shaders,v=d.length-1;v>=0;v--){var g=d[v].rebind();(!c||g===c)&&(this.currentShader=g)}return this.activeTextures.length=0,this.emit(s.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var c=this.shaders,d=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,d&&this.setVertexBuffer();for(var v=0;v<c.length;v++){var g=c[v];g.syncUniforms(),d&&g.rebind()}},setVertexBuffer:function(c){if(c===void 0&&(c=this.vertexBuffer),c!==this.activeBuffer){var d=this.gl;return this.gl.bindBuffer(d.ARRAY_BUFFER,c.webGLBuffer),this.activeBuffer=c,!0}return!1},preBatch:function(c){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(c),this},postBatch:function(c){return this.onDraw(this.currentRenderTarget),this.onPostBatch(c),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(c){if(c===void 0&&(c=!1),this.vertexCount>0){this.emit(s.BEFORE_FLUSH,this,c),this.onBeforeFlush(c);var d=this.gl,v=this.vertexCount,g=this.currentShader.vertexSize,y=this.topology;if(this.active){this.setVertexBuffer(),v===this.vertexCapacity?d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.DYNAMIC_DRAW):d.bufferSubData(d.ARRAY_BUFFER,0,this.bytes.subarray(0,v*g));var x,T,S,A=this.batch,P=this.activeTextures;if(this.forceZero)for(P[0]||d.activeTexture(d.TEXTURE0),x=0;x<A.length;x++)T=A[x],S=T.texture[0],P[0]!==S&&(d.bindTexture(d.TEXTURE_2D,S.webGLTexture),P[0]=S),d.drawArrays(y,T.start,T.count);else for(x=0;x<A.length;x++){T=A[x];for(var D=0;D<=T.maxUnit;D++)S=T.texture[D],P[D]!==S&&(d.activeTexture(d.TEXTURE0+D),d.bindTexture(d.TEXTURE_2D,S.webGLTexture),P[D]=S);d.drawArrays(y,T.start,T.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(s.AFTER_FLUSH,this,c),this.onAfterFlush(c)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(c,d,v,g,y,x,T){var S=this.vertexViewF32,A=this.vertexViewU32,P=this.vertexCount*this.currentShader.vertexComponentCount-1;S[++P]=c,S[++P]=d,S[++P]=v,S[++P]=g,S[++P]=y,S[++P]=x,A[++P]=T,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(c,d,v,g,y,x,T,S,A,P,D,R,L,I,w,B,b,V,X,G){G===void 0&&(G=this.currentUnit);var U=!1;this.shouldFlush(6)&&(this.flush(),U=!0),this.currentBatch||(G=this.setTexture2D(X));var O=this.vertexViewF32,z=this.vertexViewU32,N=this.vertexCount*this.currentShader.vertexComponentCount-1;return O[++N]=d,O[++N]=v,O[++N]=P,O[++N]=D,O[++N]=G,O[++N]=V,z[++N]=I,O[++N]=g,O[++N]=y,O[++N]=P,O[++N]=L,O[++N]=G,O[++N]=V,z[++N]=B,O[++N]=x,O[++N]=T,O[++N]=R,O[++N]=L,O[++N]=G,O[++N]=V,z[++N]=b,O[++N]=d,O[++N]=v,O[++N]=P,O[++N]=D,O[++N]=G,O[++N]=V,z[++N]=I,O[++N]=x,O[++N]=T,O[++N]=R,O[++N]=L,O[++N]=G,O[++N]=V,z[++N]=b,O[++N]=S,O[++N]=A,O[++N]=R,O[++N]=D,O[++N]=G,O[++N]=V,z[++N]=w,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(c),U},batchTri:function(c,d,v,g,y,x,T,S,A,P,D,R,L,I,w,B,b){b===void 0&&(b=this.currentUnit);var V=!1;this.shouldFlush(3)&&(this.flush(),V=!0),this.currentBatch||(b=this.setTexture2D(B));var X=this.vertexViewF32,G=this.vertexViewU32,U=this.vertexCount*this.currentShader.vertexComponentCount-1;return X[++U]=d,X[++U]=v,X[++U]=S,X[++U]=A,X[++U]=b,X[++U]=w,G[++U]=R,X[++U]=g,X[++U]=y,X[++U]=S,X[++U]=D,X[++U]=b,X[++U]=w,G[++U]=L,X[++U]=x,X[++U]=T,X[++U]=P,X[++U]=D,X[++U]=b,X[++U]=w,G[++U]=I,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(c),V},drawFillRect:function(c,d,v,g,y,x,T,S){T===void 0&&(T=this.renderer.whiteTexture),S===void 0&&(S=!0),c=Math.floor(c),d=Math.floor(d);var A=Math.floor(c+v),P=Math.floor(d+g),D=this.setTexture2D(T),R=i.getTintAppendFloatAlphaAndSwap(y,x),L=0,I=0,w=1,B=1;S&&(I=1,B=0),this.batchQuad(null,c,d,c,P,A,P,A,d,L,I,w,B,R,R,R,R,0,T,D)},setTexture2D:function(c){return c===void 0&&(c=this.renderer.whiteTexture),this.pushBatch(c)},bindTexture:function(c,d){d===void 0&&(d=0);var v=this.gl;return v.activeTexture(v.TEXTURE0+d),v.bindTexture(v.TEXTURE_2D,c.webGLTexture),this},bindRenderTarget:function(c,d){return this.bindTexture(c.texture,d)},setTime:function(c,d){return this.set1f(c,this.game.loop.getDuration(),d),this},setBoolean:function(c,d,v){return v===void 0&&(v=this.currentShader),v.setBoolean(c,d),this},set1f:function(c,d,v){return v===void 0&&(v=this.currentShader),v.set1f(c,d),this},set2f:function(c,d,v,g){return g===void 0&&(g=this.currentShader),g.set2f(c,d,v),this},set3f:function(c,d,v,g,y){return y===void 0&&(y=this.currentShader),y.set3f(c,d,v,g),this},set4f:function(c,d,v,g,y,x){return x===void 0&&(x=this.currentShader),x.set4f(c,d,v,g,y),this},set1fv:function(c,d,v){return v===void 0&&(v=this.currentShader),v.set1fv(c,d),this},set2fv:function(c,d,v){return v===void 0&&(v=this.currentShader),v.set2fv(c,d),this},set3fv:function(c,d,v){return v===void 0&&(v=this.currentShader),v.set3fv(c,d),this},set4fv:function(c,d,v){return v===void 0&&(v=this.currentShader),v.set4fv(c,d),this},set1iv:function(c,d,v){return v===void 0&&(v=this.currentShader),v.set1iv(c,d),this},set2iv:function(c,d,v){return v===void 0&&(v=this.currentShader),v.set2iv(c,d),this},set3iv:function(c,d,v){return v===void 0&&(v=this.currentShader),v.set3iv(c,d),this},set4iv:function(c,d,v){return v===void 0&&(v=this.currentShader),v.set4iv(c,d),this},set1i:function(c,d,v){return v===void 0&&(v=this.currentShader),v.set1i(c,d),this},set2i:function(c,d,v,g){return g===void 0&&(g=this.currentShader),g.set2i(c,d,v),this},set3i:function(c,d,v,g,y){return y===void 0&&(y=this.currentShader),y.set3i(c,d,v,g),this},set4i:function(c,d,v,g,y,x){return x===void 0&&(x=this.currentShader),x.set4i(c,d,v,g,y),this},setMatrix2fv:function(c,d,v,g){return g===void 0&&(g=this.currentShader),g.setMatrix2fv(c,d,v),this},setMatrix3fv:function(c,d,v,g){return g===void 0&&(g=this.currentShader),g.setMatrix3fv(c,d,v),this},setMatrix4fv:function(c,d,v,g){return g===void 0&&(g=this.currentShader),g.setMatrix4fv(c,d,v),this},destroy:function(){this.emit(s.DESTROY,this);var c,d=this.shaders;for(c=0;c<d.length;c++)d[c].destroy();var v=this.renderTargets;for(c=0;c<v.length;c++)v[c].destroy();var g=this.renderer;return g.deleteBuffer(this.vertexBuffer),g.off(n.RESIZE,this.resize,this),g.off(n.PRE_RENDER,this.onPreRender,this),g.off(n.RENDER,this.onRender,this),g.off(n.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});u.exports=f},74797:(u,m,t)=>{var a=t(95428),p=t(72905),o=t(19715),s=t(83419),r=t(8054),e=t(50792),n=t(92503),l=t(50030),i=t(37867),h=t(29747),f=t(7530),c=t(32302),d=t(97480),v=t(69442),g=t(70554),y=t(88815),x=t(26128),T=t(1482),S=t(82751),A=t(84387),P=t(93567),D=t(57183),R=!1;if(0)var L;var I=new s({Extends:e,initialize:function(B){e.call(this);var b=B.config,V={alpha:b.transparent,desynchronized:b.desynchronized,depth:!0,antialias:b.antialiasGL,premultipliedAlpha:b.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:b.failIfMajorPerformanceCaveat,powerPreference:b.powerPreference,preserveDrawingBuffer:b.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:b.clearBeforeRender,antialias:b.antialias,backgroundColor:b.backgroundColor,contextCreation:V,roundPixels:b.roundPixels,maxTextures:b.maxTextures,maxTextureSize:b.maxTextureSize,batchSize:b.batchSize,maxLights:b.maxLights,mipmapFilter:b.mipmapFilter},this.game=B,this.type=r.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=B.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=h,this.contextRestoredHandler=h,this.previousContextLostHandler=h,this.previousContextRestoredHandler=h,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(w){var B,b=this.game,V=this.canvas,X=w.backgroundColor;if(R&&(this.spector=new L.Spector,this.spector.onCapture.add(this.onCapture.bind(this))),b.config.context?B=b.config.context:B=V.getContext("webgl",w.contextCreation)||V.getContext("experimental-webgl",w.contextCreation),!B||B.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=B,this.setExtensions(),this.setContextHandlers(),b.context=B;for(var G=0;G<=27;G++)this.blendModes.push({func:[B.ONE,B.ONE_MINUS_SRC_ALPHA],equation:B.FUNC_ADD});this.blendModes[1].func=[B.ONE,B.DST_ALPHA],this.blendModes[2].func=[B.DST_COLOR,B.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[B.ONE,B.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[B.ZERO,B.ONE_MINUS_SRC_ALPHA],equation:B.FUNC_REVERSE_SUBTRACT},this.glFormats=[B.BYTE,B.SHORT,B.UNSIGNED_BYTE,B.UNSIGNED_SHORT,B.FLOAT],this.glFuncMap={mat2:{func:B.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:B.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:B.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:B.uniform1f,length:1},"1fv":{func:B.uniform1fv,length:1},"1i":{func:B.uniform1i,length:1},"1iv":{func:B.uniform1iv,length:1},"2f":{func:B.uniform2f,length:2},"2fv":{func:B.uniform2fv,length:1},"2i":{func:B.uniform2i,length:2},"2iv":{func:B.uniform2iv,length:1},"3f":{func:B.uniform3f,length:3},"3fv":{func:B.uniform3fv,length:1},"3i":{func:B.uniform3i,length:3},"3iv":{func:B.uniform3iv,length:1},"4f":{func:B.uniform4f,length:4},"4fv":{func:B.uniform4fv,length:1},"4i":{func:B.uniform4i,length:4},"4iv":{func:B.uniform4iv,length:1}},(!w.maxTextures||w.maxTextures===-1)&&(w.maxTextures=B.getParameter(B.MAX_TEXTURE_IMAGE_UNITS)),w.maxTextureSize||(w.maxTextureSize=B.getParameter(B.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),B.disable(B.DEPTH_TEST),B.disable(B.CULL_FACE),B.enable(B.BLEND),B.clearColor(X.redGL,X.greenGL,X.blueGL,X.alphaGL),B.clear(B.COLOR_BUFFER_BIT);var U=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];return U.indexOf(w.mipmapFilter)!==-1&&(this.mipmapFilter=B[w.mipmapFilter]),this.maxTextures=g.checkShaderMax(B,w.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new f(this),this.setBlendMode(r.BlendModes.NORMAL),this.projectionMatrix=new i().identity(),b.textures.once(v.READY,this.boot,this),this},boot:function(){var w=this.game,B=this.pipelines,b=w.scale.baseSize,V=b.width,X=b.height;this.width=V,this.height=X,this.isBooted=!0,this.renderTarget=new c(this,V,X,1,0,!0,!0),this.maskTarget=new c(this,V,X,1,0,!0,!0),this.maskSource=new c(this,V,X,1,0,!0,!0);var G=w.config;B.boot(G.pipeline,G.defaultPipeline,G.autoMobilePipeline),this.blankTexture=w.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=w.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=w.textures.getFrame("__WHITE").glTexture;var U=this.gl;U.bindFramebuffer(U.FRAMEBUFFER,null),U.enable(U.SCISSOR_TEST),w.scale.on(d.RESIZE,this.onResize,this),this.resize(V,X)},setExtensions:function(){var w=this.gl,B=w.getSupportedExtensions();this.supportedExtensions=B;var b="ANGLE_instanced_arrays";this.instancedArraysExtension=B.indexOf(b)>-1?w.getExtension(b):null;var V="OES_vertex_array_object";this.vaoExtension=B.indexOf(V)>-1?w.getExtension(V):null},setContextHandlers:function(w,B){this.previousContextLostHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextLostHandler,!1),this.previousContextRestoredHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextRestoredHandler,!1),typeof w=="function"?this.contextLostHandler=w.bind(this):this.contextLostHandler=this.dispatchContextLost.bind(this),typeof B=="function"?this.contextRestoredHandler=B.bind(this):this.contextRestoredHandler=this.dispatchContextRestored.bind(this),this.canvas.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),this.previousContextLostHandler=this.contextLostHandler,this.previousContextRestoredHandler=this.contextRestoredHandler},dispatchContextLost:function(w){this.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),this.emit(n.LOSE_WEBGL,this),w.preventDefault()},dispatchContextRestored:function(w){var B=this.gl;if(B.isContextLost()){console&&console.log("WebGL Context restored, but context is still lost");return}this.currentProgram=null,this.currentFramebuffer=null,this.setBlendMode(r.BlendModes.NORMAL),B.disable(B.BLEND),B.disable(B.DEPTH_TEST),B.enable(B.CULL_FACE),this.compression=this.getCompressedTextures();var b=function(V){V.createResource()};a(this.glTextureWrappers,b),a(this.glBufferWrappers,b),a(this.glFramebufferWrappers,b),a(this.glProgramWrappers,b),a(this.glAttribLocationWrappers,b),a(this.glUniformLocationWrappers,b),this.createTemporaryTextures(),this.pipelines.restoreContext(),this.resize(this.game.scale.baseSize.width,this.game.scale.baseSize.height),this.setExtensions(),this.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),this.emit(n.RESTORE_WEBGL,this),w.preventDefault()},createTemporaryTextures:function(){for(var w=this.gl,B=0;B<this.maxTextures;B++){var b=w.createTexture();w.activeTexture(w.TEXTURE0+B),w.bindTexture(w.TEXTURE_2D,b),w.texImage2D(w.TEXTURE_2D,0,w.RGBA,1,1,0,w.RGBA,w.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(B)}},captureFrame:function(w,B){w===void 0&&(w=!1),B===void 0&&(B=!1),R&&this.spector&&!this._debugCapture&&(this.spector.captureCanvas(this.canvas,0,w,B),this._debugCapture=!0)},captureNextFrame:function(){R&&this.spector&&!this._debugCapture&&(this._debugCapture=!0,this.spector.captureNextFrame(this.canvas))},getFps:function(){if(R&&this.spector)return this.spector.getFps()},log:function(){if(R&&this.spector){var w=Array.prototype.slice.call(arguments).join(" ");return this.spector.log(w)}},startCapture:function(w,B,b){w===void 0&&(w=0),B===void 0&&(B=!1),b===void 0&&(b=!1),R&&this.spector&&!this._debugCapture&&(this.spector.startCapture(this.canvas,w,B,b),this._debugCapture=!0)},stopCapture:function(){if(R&&this.spector&&this._debugCapture)return this.spector.stopCapture()},onCapture:function(w){if(R){var B=this.spector.getResultUI();B.display(w),this._debugCapture=!1}},onResize:function(w,B){(B.width!==this.width||B.height!==this.height)&&this.resize(B.width,B.height)},beginCapture:function(w,B){w===void 0&&(w=this.width),B===void 0&&(B=this.height),this.renderTarget.bind(!0,w,B),this.setProjectionMatrix(w,B)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(w,B){var b=this.gl;return this.width=w,this.height=B,this.setProjectionMatrix(w,B),b.viewport(0,0,w,B),this.drawingBufferHeight=b.drawingBufferHeight,b.scissor(0,b.drawingBufferHeight-B,w,B),this.defaultScissor[2]=w,this.defaultScissor[3]=B,this.emit(n.RESIZE,w,B),this},getCompressedTextures:function(){var w="WEBGL_compressed_texture_",B="WEBKIT_"+w,b="EXT_texture_compression_",V=function(G,U){var O=G.getExtension(w+U)||G.getExtension(B+U)||G.getExtension(b+U);if(O){var z={};for(var N in O)z[O[N]]=N;return z}},X=this.gl;return{ETC:V(X,"etc"),ETC1:V(X,"etc1"),ATC:V(X,"atc"),ASTC:V(X,"astc"),BPTC:V(X,"bptc"),RGTC:V(X,"rgtc"),PVRTC:V(X,"pvrtc"),S3TC:V(X,"s3tc"),S3TCSRGB:V(X,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(w,B){var b=this.compression[w.toUpperCase()];if(B in b)return b[B]},supportsCompressedTexture:function(w,B){var b=this.compression[w.toUpperCase()];return b?B?B in b:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(w,B){return(w!==this.projectionWidth||B!==this.projectionHeight)&&(this.projectionWidth=w,this.projectionHeight=B,this.projectionMatrix.ortho(0,w,B,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(w){return this.supportedExtensions?this.supportedExtensions.indexOf(w):!1},getExtension:function(w){return this.hasExtension(w)?(w in this.extensions||(this.extensions[w]=this.gl.getExtension(w)),this.extensions[w]):null},flush:function(){this.pipelines.flush()},pushScissor:function(w,B,b,V,X){X===void 0&&(X=this.drawingBufferHeight);var G=this.scissorStack,U=[w,B,b,V];return G.push(U),this.setScissor(w,B,b,V,X),this.currentScissor=U,U},setScissor:function(w,B,b,V,X){X===void 0&&(X=this.drawingBufferHeight);var G=this.gl,U=this.currentScissor,O=b>0&&V>0;if(U&&O){var z=U[0],N=U[1],Y=U[2],W=U[3];O=z!==w||N!==B||Y!==b||W!==V}O&&(this.flush(),G.scissor(w,X-B-V,b,V))},resetScissor:function(){var w=this.gl;w.enable(w.SCISSOR_TEST);var B=this.currentScissor;if(B){var b=B[0],V=B[1],X=B[2],G=B[3];X>0&&G>0&&w.scissor(b,this.drawingBufferHeight-V-G,X,G)}},popScissor:function(){var w=this.scissorStack;w.pop();var B=w[w.length-1];B&&this.setScissor(B[0],B[1],B[2],B[3]),this.currentScissor=B},hasActiveStencilMask:function(){var w=this.currentMask.mask,B=this.currentCameraMask.mask;return w&&w.isStencil||B&&B.isStencil},resetViewport:function(){var w=this.gl;w.viewport(0,0,this.width,this.height),this.drawingBufferHeight=w.drawingBufferHeight},setBlendMode:function(w,B){B===void 0&&(B=!1);var b=this.gl,V=this.blendModes[w];return B||w!==r.BlendModes.SKIP_CHECK&&this.currentBlendMode!==w?(this.flush(),b.enable(b.BLEND),b.blendEquation(V.equation),V.func.length>2?b.blendFuncSeparate(V.func[0],V.func[1],V.func[2],V.func[3]):b.blendFunc(V.func[0],V.func[1]),this.currentBlendMode=w,!0):!1},addBlendMode:function(w,B){var b=this.blendModes.push({func:w,equation:B});return b-1},updateBlendMode:function(w,B,b){return this.blendModes[w]&&(this.blendModes[w].func=B,b&&(this.blendModes[w].equation=b)),this},removeBlendMode:function(w){return w>17&&this.blendModes[w]&&this.blendModes.splice(w,1),this},pushFramebuffer:function(w,B,b,V,X){return w===this.currentFramebuffer?this:(this.fboStack.push(w),this.setFramebuffer(w,B,b,V,X))},setFramebuffer:function(w,B,b,V,X){if(B===void 0&&(B=!1),b===void 0&&(b=!0),V===void 0&&(V=null),X===void 0&&(X=!1),w===this.currentFramebuffer)return this;var G=this.gl,U=this.width,O=this.height;return w&&w.renderTexture&&b?(U=w.renderTexture.width,O=w.renderTexture.height):this.flush(),w?G.bindFramebuffer(G.FRAMEBUFFER,w.webGLFramebuffer):G.bindFramebuffer(G.FRAMEBUFFER,null),b&&G.viewport(0,0,U,O),V&&G.framebufferTexture2D(G.FRAMEBUFFER,G.COLOR_ATTACHMENT0,G.TEXTURE_2D,V.webGLTexture,0),X&&(G.clearColor(0,0,0,0),G.clear(G.COLOR_BUFFER_BIT)),B&&(w?(this.drawingBufferHeight=O,this.pushScissor(0,0,U,O)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=w,this},popFramebuffer:function(w,B){w===void 0&&(w=!1),B===void 0&&(B=!0);var b=this.fboStack;b.pop();var V=b[b.length-1];return V||(V=null),this.setFramebuffer(V,w,B),V},restoreFramebuffer:function(w,B){w===void 0&&(w=!1),B===void 0&&(B=!0);var b=this.fboStack,V=b[b.length-1];V||(V=null),this.currentFramebuffer=null,this.setFramebuffer(V,w,B)},setProgram:function(w){return w!==this.currentProgram?(this.flush(),this.gl.useProgram(w.webGLProgram),this.currentProgram=w,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(w,B,b,V,X){X===void 0&&(X=!1);var G=this.gl,U=G.NEAREST,O=G.NEAREST,z=G.CLAMP_TO_EDGE,N=null;B=w?w.width:B,b=w?w.height:b;var Y=l(B,b);if(Y&&!X&&(z=G.REPEAT),V===r.ScaleModes.LINEAR&&this.config.antialias){var W=w&&w.compressed,H=!W&&Y||W&&w.mipmaps.length>1;U=this.mipmapFilter&&H?this.mipmapFilter:G.LINEAR,O=G.LINEAR}return!w&&typeof B=="number"&&typeof b=="number"?N=this.createTexture2D(0,U,O,z,z,G.RGBA,null,B,b):N=this.createTexture2D(0,U,O,z,z,G.RGBA,w),N},createTexture2D:function(w,B,b,V,X,G,U,O,z,N,Y,W){typeof O!="number"&&(O=U?U.width:1),typeof z!="number"&&(z=U?U.height:1);var H=new S(this.gl,w,B,b,V,X,G,U,O,z,N,Y,W);return this.glTextureWrappers.push(H),H},createFramebuffer:function(w,B,b,V){this.currentFramebuffer=null;var X=new A(this.gl,w,B,b,V);return this.glFramebufferWrappers.push(X),X},beginBitmapMask:function(w,B){var b=this.gl;b&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==w&&(this.currentMask.mask=w,this.currentMask.camera=B))},drawBitmapMask:function(w,B,b){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),w.renderWebGL(this,w,B),this.maskSource.unbind(!0),this.maskTarget.unbind();var V=this.gl,X=this.getCurrentStencilMask();X?(V.enable(V.STENCIL_TEST),X.mask.applyStencil(this,X.camera,!0)):this.currentMask.mask=null,this.pipelines.set(b),V.activeTexture(V.TEXTURE0),V.bindTexture(V.TEXTURE_2D,this.maskTarget.texture.webGLTexture),V.activeTexture(V.TEXTURE1),V.bindTexture(V.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(w,B){var b=new T(this.gl,w,B);return this.glProgramWrappers.push(b),b},createVertexBuffer:function(w,B){var b=this.gl,V=new x(b,w,b.ARRAY_BUFFER,B);return this.glBufferWrappers.push(V),V},createAttribLocation:function(w,B){var b=new P(this.gl,w,B);return this.glAttribLocationWrappers.push(b),b},createUniformLocation:function(w,B){var b=new D(this.gl,w,B);return this.glUniformLocationWrappers.push(b),b},createIndexBuffer:function(w,B){var b=this.gl,V=new x(b,w,b.ELEMENT_ARRAY_BUFFER,B);return this.glBufferWrappers.push(V),V},deleteTexture:function(w){if(w)return p(this.glTextureWrappers,w),w.destroy(),this},deleteFramebuffer:function(w){return w?(p(this.fboStack,w),p(this.glFramebufferWrappers,w),w.destroy(),this):this},deleteProgram:function(w){return w&&(p(this.glProgramWrappers,w),w.destroy()),this},deleteAttribLocation:function(w){return w&&(p(this.glAttribLocationWrappers,w),w.destroy()),this},deleteUniformLocation:function(w){return w&&(p(this.glUniformLocationWrappers,w),w.destroy()),this},deleteBuffer:function(w){return w?(p(this.glBufferWrappers,w),w.destroy(),this):this},preRenderCamera:function(w){var B=w.x,b=w.y,V=w.width,X=w.height,G=w.backgroundColor;if(w.emit(o.PRE_RENDER,w),this.pipelines.preBatchCamera(w),this.pushScissor(B,b,V,X),w.mask&&(this.currentCameraMask.mask=w.mask,this.currentCameraMask.camera=w._maskCamera,w.mask.preRenderWebGL(this,w,w._maskCamera)),G.alphaGL>0){var U=this.pipelines.setMulti();U.drawFillRect(B,b,V,X,g.getTintFromFloats(G.blueGL,G.greenGL,G.redGL,1),G.alphaGL)}},getCurrentStencilMask:function(){var w=null,B=this.maskStack,b=this.currentCameraMask;return B.length>0?w=B[B.length-1]:b.mask&&b.mask.isStencil&&(w=b),w},postRenderCamera:function(w){var B=w.flashEffect,b=w.fadeEffect;if(B.isRunning||b.isRunning||b.isComplete){var V=this.pipelines.setMulti();B.postRenderWebGL(V,g.getTintFromFloats),b.postRenderWebGL(V,g.getTintFromFloats)}w.dirty=!1,this.popScissor(),w.mask&&(this.currentCameraMask.mask=null,w.mask.postRenderWebGL(this,w._maskCamera)),this.pipelines.postBatchCamera(w),w.emit(o.POST_RENDER,w)},preRender:function(){if(!this.contextLost){var w=this.gl;if(w.bindFramebuffer(w.FRAMEBUFFER,null),this.emit(n.PRE_RENDER_CLEAR),this.config.clearBeforeRender){var B=this.config.backgroundColor;w.clearColor(B.redGL,B.greenGL,B.blueGL,B.alphaGL),w.clear(w.COLOR_BUFFER_BIT|w.DEPTH_BUFFER_BIT|w.STENCIL_BUFFER_BIT)}w.enable(w.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&w.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(n.PRE_RENDER)}},render:function(w,B,b){if(!this.contextLost){var V=B.length;if(this.emit(n.RENDER,w,b),this.preRenderCamera(b),V===0){this.setBlendMode(r.BlendModes.NORMAL),this.postRenderCamera(b);return}this.currentType="";for(var X=this.currentMask,G=0;G<V;G++){this.finalType=G===V-1;var U=B[G],O=U.mask;X=this.currentMask,X.mask&&X.mask!==O&&X.mask.postRenderWebGL(this,X.camera),O&&X.mask!==O&&O.preRenderWebGL(this,U,b),U.blendMode!==this.currentBlendMode&&this.setBlendMode(U.blendMode);var z=U.type;z!==this.currentType&&(this.newType=!0,this.currentType=z),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=B[G+1].type===this.currentType,U.renderWebGL(this,U,b),this.newType=!1}X=this.currentMask,X.mask&&X.mask.postRenderWebGL(this,X.camera),this.setBlendMode(r.BlendModes.NORMAL),this.postRenderCamera(b)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(n.POST_RENDER);var w=this.snapshotState;w.callback&&(y(this.gl,w),w.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var w=this.gl,B=this.getCurrentStencilMask();if(B){var b=B.mask;w.enable(w.STENCIL_TEST),b.invertAlpha?w.stencilFunc(w.NOTEQUAL,b.level,255):w.stencilFunc(w.EQUAL,b.level,255)}},snapshot:function(w,B,b){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,w,B,b)},snapshotArea:function(w,B,b,V,X,G,U){var O=this.snapshotState;return O.callback=X,O.type=G,O.encoder=U,O.getPixel=!1,O.x=w,O.y=B,O.width=b,O.height=V,this},snapshotPixel:function(w,B,b){return this.snapshotArea(w,B,1,1,b),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(w,B,b,V,X,G,U,O,z,N,Y){X===void 0&&(X=!1),G===void 0&&(G=0),U===void 0&&(U=0),O===void 0&&(O=B),z===void 0&&(z=b),N==="pixel"&&(X=!0,N="image/png");var W=this.currentFramebuffer;this.snapshotArea(G,U,O,z,V,N,Y);var H=this.snapshotState;return H.getPixel=X,H.isFramebuffer=!0,H.bufferWidth=B,H.bufferHeight=b,H.width=Math.min(H.width,B),H.height=Math.min(H.height,b),this.setFramebuffer(w),y(this.gl,H),this.setFramebuffer(W),H.callback=null,H.isFramebuffer=!1,this},canvasToTexture:function(w,B,b,V){b===void 0&&(b=!1),V===void 0&&(V=!1);var X=this.gl,G=X.NEAREST,U=X.NEAREST,O=w.width,z=w.height,N=X.CLAMP_TO_EDGE,Y=l(O,z);return!b&&Y&&(N=X.REPEAT),this.config.antialias&&(G=Y&&this.mipmapFilter?this.mipmapFilter:X.LINEAR,U=X.LINEAR),B?(B.update(w,O,z,V,N,N,G,U,B.format),B):this.createTexture2D(0,G,U,N,N,X.RGBA,w,O,z,!0,!1,V)},createCanvasTexture:function(w,B,b){return B===void 0&&(B=!1),b===void 0&&(b=!1),this.canvasToTexture(w,null,B,b)},updateCanvasTexture:function(w,B,b,V){return b===void 0&&(b=!1),V===void 0&&(V=!1),this.canvasToTexture(w,B,V,b)},videoToTexture:function(w,B,b,V){b===void 0&&(b=!1),V===void 0&&(V=!1);var X=this.gl,G=X.NEAREST,U=X.NEAREST,O=w.videoWidth,z=w.videoHeight,N=X.CLAMP_TO_EDGE,Y=l(O,z);return!b&&Y&&(N=X.REPEAT),this.config.antialias&&(G=Y&&this.mipmapFilter?this.mipmapFilter:X.LINEAR,U=X.LINEAR),B?(B.update(w,O,z,V,N,N,G,U,B.format),B):this.createTexture2D(0,G,U,N,N,X.RGBA,w,O,z,!0,!0,V)},createVideoTexture:function(w,B,b){return B===void 0&&(B=!1),b===void 0&&(b=!1),this.videoToTexture(w,null,B,b)},updateVideoTexture:function(w,B,b,V){return b===void 0&&(b=!1),V===void 0&&(V=!1),this.videoToTexture(w,B,V,b)},createUint8ArrayTexture:function(w,B,b){var V=this.gl,X=V.NEAREST,G=V.NEAREST,U=V.CLAMP_TO_EDGE,O=l(B,b);return O&&(U=V.REPEAT),this.createTexture2D(0,X,G,U,U,V.RGBA,w,B,b)},setTextureFilter:function(w,B){var b=this.gl,V=B===0?b.LINEAR:b.NEAREST;b.activeTexture(b.TEXTURE0);var X=b.getParameter(b.TEXTURE_BINDING_2D);return b.bindTexture(b.TEXTURE_2D,w.webGLTexture),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,V),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,V),w.minFilter=V,w.magFilter=V,X&&b.bindTexture(b.TEXTURE_2D,X),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var w=function(B){B.destroy()};a(this.glAttribLocationWrappers,w),a(this.glBufferWrappers,w),a(this.glFramebufferWrappers,w),a(this.glProgramWrappers,w),a(this.glTextureWrappers,w),a(this.glUniformLocationWrappers,w),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null,R&&(this.spector=null)}});u.exports=I},38683:(u,m,t)=>{var a=t(83419),p=t(95428),o=t(95540),s=t(14500),r=new a({initialize:function(n,l,i,h,f){this.pipeline=n,this.name=l,this.renderer=n.renderer,this.gl=this.renderer.gl,this.fragSrc=h,this.vertSrc=i,this.program=this.renderer.createProgram(i,h),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(f),this.createUniforms()},createAttributes:function(e){var n=0,l=0,i=[];this.vertexComponentCount=0;for(var h=0;h<e.length;h++){var f=e[h],c=f.name,d=o(f,"size",1),v=o(f,"type",s.FLOAT),g=v.enum,y=v.size,x=!!f.normalized;i.push({name:c,size:d,type:g,normalized:x,offset:l,enabled:!1,location:-1}),y===4?n+=d:n++,l+=d*y}this.vertexSize=l,this.vertexComponentCount=n,this.attributes=i},bind:function(e,n){return e===void 0&&(e=!1),n===void 0&&(n=!1),n&&this.pipeline.flush(),this.renderer.setProgram(this.program),e&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(e){e===void 0&&(e=!1);for(var n=this.gl,l=this.renderer,i=this.vertexSize,h=this.attributes,f=this.program,c=0;c<h.length;c++){var d=h[c],v=d.size,g=d.type,y=d.offset,x=d.enabled,T=d.location,S=!!d.normalized;if(e){T!==-1&&l.deleteAttribLocation(T);var A=this.renderer.createAttribLocation(f,d.name);A.webGLAttribLocation>=0?(n.enableVertexAttribArray(A.webGLAttribLocation),n.vertexAttribPointer(A.webGLAttribLocation,v,g,S,i,y),d.enabled=!0,d.location=A):A.webGLAttribLocation!==-1&&n.disableVertexAttribArray(A.webGLAttribLocation)}else x?n.vertexAttribPointer(T.webGLAttribLocation,v,g,S,i,y):!x&&T!==-1&&T.webGLAttribLocation>-1&&(n.disableVertexAttribArray(T.webGLAttribLocation),d.location=-1)}return this},createUniforms:function(){var e=this.gl,n=this.program,l=this.uniforms,i,h,f,c=e.getProgramParameter(n.webGLProgram,e.ACTIVE_UNIFORMS);for(i=0;i<c;i++){var d=e.getActiveUniform(n.webGLProgram,i);if(d){h=d.name,f=this.renderer.createUniformLocation(n,h),f!==null&&(l[h]={name:h,location:f,setter:null,value1:null,value2:null,value3:null,value4:null});var v=h.indexOf("[");v>0&&(h=h.substr(0,v),l.hasOwnProperty(h)||(f=this.renderer.createUniformLocation(n,h),f!==null&&(l[h]={name:h,location:f,setter:null,value1:null,value2:null,value3:null,value4:null})))}}return this},syncUniforms:function(){var e=this.gl;this.renderer.setProgram(this.program);for(var n in this.uniforms){var l=this.uniforms[n];l.setter&&l.setter.call(e,l.location.webGLUniformLocation,l.value1,l.value2,l.value3,l.value4)}},hasUniform:function(e){return this.uniforms.hasOwnProperty(e)},resetUniform:function(e){var n=this.uniforms[e];return n&&(n.value1=null,n.value2=null,n.value3=null,n.value4=null),this},setUniform1:function(e,n,l,i){var h=this.uniforms[n];return h?((i||h.value1!==l)&&(h.setter||(h.setter=e),h.value1=l,this.renderer.setProgram(this.program),e.call(this.gl,h.location.webGLUniformLocation,l),this.pipeline.currentShader=this),this):this},setUniform2:function(e,n,l,i,h){var f=this.uniforms[n];return f?((h||f.value1!==l||f.value2!==i)&&(f.setter||(f.setter=e),f.value1=l,f.value2=i,this.renderer.setProgram(this.program),e.call(this.gl,f.location.webGLUniformLocation,l,i),this.pipeline.currentShader=this),this):this},setUniform3:function(e,n,l,i,h,f){var c=this.uniforms[n];return c?((f||c.value1!==l||c.value2!==i||c.value3!==h)&&(c.setter||(c.setter=e),c.value1=l,c.value2=i,c.value3=h,this.renderer.setProgram(this.program),e.call(this.gl,c.location.webGLUniformLocation,l,i,h),this.pipeline.currentShader=this),this):this},setUniform4:function(e,n,l,i,h,f,c){var d=this.uniforms[n];return d?((c||d.value1!==l||d.value2!==i||d.value3!==h||d.value4!==f)&&(d.setter||(d.setter=e),d.value1=l,d.value2=i,d.value3=h,d.value4=f,this.renderer.setProgram(this.program),e.call(this.gl,d.location.webGLUniformLocation,l,i,h,f),this.pipeline.currentShader=this),this):this},setBoolean:function(e,n){return this.setUniform1(this.gl.uniform1i,e,Number(n))},set1f:function(e,n){return this.setUniform1(this.gl.uniform1f,e,n)},set2f:function(e,n,l){return this.setUniform2(this.gl.uniform2f,e,n,l)},set3f:function(e,n,l,i){return this.setUniform3(this.gl.uniform3f,e,n,l,i)},set4f:function(e,n,l,i,h){return this.setUniform4(this.gl.uniform4f,e,n,l,i,h)},set1fv:function(e,n){return this.setUniform1(this.gl.uniform1fv,e,n,!0)},set2fv:function(e,n){return this.setUniform1(this.gl.uniform2fv,e,n,!0)},set3fv:function(e,n){return this.setUniform1(this.gl.uniform3fv,e,n,!0)},set4fv:function(e,n){return this.setUniform1(this.gl.uniform4fv,e,n,!0)},set1iv:function(e,n){return this.setUniform1(this.gl.uniform1iv,e,n,!0)},set2iv:function(e,n){return this.setUniform1(this.gl.uniform2iv,e,n,!0)},set3iv:function(e,n){return this.setUniform1(this.gl.uniform3iv,e,n,!0)},set4iv:function(e,n){return this.setUniform1(this.gl.uniform4iv,e,n,!0)},set1i:function(e,n){return this.setUniform1(this.gl.uniform1i,e,n)},set2i:function(e,n,l){return this.setUniform2(this.gl.uniform2i,e,n,l)},set3i:function(e,n,l,i){return this.setUniform3(this.gl.uniform3i,e,n,l,i)},set4i:function(e,n,l,i,h){return this.setUniform4(this.gl.uniform4i,e,n,l,i,h)},setMatrix2fv:function(e,n,l){return this.setUniform2(this.gl.uniformMatrix2fv,e,n,l,!0)},setMatrix3fv:function(e,n,l){return this.setUniform2(this.gl.uniformMatrix3fv,e,n,l,!0)},setMatrix4fv:function(e,n,l){return this.setUniform2(this.gl.uniformMatrix4fv,e,n,l,!0)},createProgram:function(e,n){return e===void 0&&(e=this.vertSrc),n===void 0&&(n=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=e,this.fragSrc=n,this.program=this.renderer.createProgram(e,n),this.createUniforms(),this.rebind()},destroy:function(){var e=this.renderer;p(this.uniforms,function(n){e.deleteUniformLocation(n.location)}),this.uniforms=null,p(this.attributes,function(n){e.deleteAttribLocation(n.location)}),this.attributes=null,e.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});u.exports=r},14500:u=>{var m={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};u.exports=m},4159:(u,m,t)=>{var a=t(14500),p=t(79291),o={PipelineManager:t(7530),Pipelines:t(96615),RenderTarget:t(32302),Utils:t(70554),WebGLPipeline:t(29100),WebGLRenderer:t(74797),WebGLShader:t(38683),Wrappers:t(9503)};o=p(!1,o,a),u.exports=o},31302:(u,m,t)=>{var a=t(83419),p=t(95540),o=t(78908),s=t(85191),r=t(14500),e=t(29100),n=new a({Extends:e,initialize:function(i){i.fragShader=p(i,"fragShader",o),i.vertShader=p(i,"vertShader",s),i.batchSize=p(i,"batchSize",1),i.vertices=p(i,"vertices",[-1,1,-1,-7,7,1]),i.attributes=p(i,"attributes",[{name:"inPosition",size:2,type:r.FLOAT}]),e.call(this,i)},boot:function(){e.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(l,i){e.prototype.resize.call(this,l,i),this.set2f("uResolution",l,i)},beginMask:function(l,i,h){this.renderer.beginBitmapMask(l,h)},endMask:function(l,i,h){var f=this.gl,c=this.renderer,d=l.bitmapMask;d&&f&&(c.drawBitmapMask(d,i,this),h&&this.set2f("uResolution",h.width,h.height),this.set1i("uInvertMaskAlpha",l.invertAlpha),f.drawArrays(this.topology,0,3),h&&this.set2f("uResolution",this.width,this.height),f.bindTexture(f.TEXTURE_2D,null))}});u.exports=n},92651:(u,m,t)=>{var a=t(83419),p=t(58918),o=t(14811),s=t(95540),r=t(43558),e=t(89350),n=t(70554),l=new a({Extends:r,initialize:function(h){h.shaders=[n.setGlowQuality(e.FXGlowFrag,h.game),e.FXShadowFrag,e.FXPixelateFrag,e.FXVignetteFrag,e.FXShineFrag,e.FXBlurLowFrag,e.FXBlurMedFrag,e.FXBlurHighFrag,e.FXGradientFrag,e.FXBloomFrag,e.ColorMatrixFrag,e.FXCircleFrag,e.FXBarrelFrag,e.FXDisplacementFrag,e.FXWipeFrag,e.FXBokehFrag],r.call(this,h);var f=this.game;this.glow=new p.Glow(f),this.shadow=new p.Shadow(f),this.pixelate=new p.Pixelate(f),this.vignette=new p.Vignette(f),this.shine=new p.Shine(f),this.gradient=new p.Gradient(f),this.circle=new p.Circle(f),this.barrel=new p.Barrel(f),this.wipe=new p.Wipe(f),this.bokeh=new p.Bokeh(f);var c=[];c[o.GLOW]=this.onGlow,c[o.SHADOW]=this.onShadow,c[o.PIXELATE]=this.onPixelate,c[o.VIGNETTE]=this.onVignette,c[o.SHINE]=this.onShine,c[o.BLUR]=this.onBlur,c[o.GRADIENT]=this.onGradient,c[o.BLOOM]=this.onBloom,c[o.COLOR_MATRIX]=this.onColorMatrix,c[o.CIRCLE]=this.onCircle,c[o.BARREL]=this.onBarrel,c[o.DISPLACEMENT]=this.onDisplacement,c[o.WIPE]=this.onWipe,c[o.BOKEH]=this.onBokeh,this.fxHandlers=c,this.source,this.target,this.swap},onDraw:function(i,h,f){this.source=i,this.target=h,this.swap=f;var c=i.width,d=i.height,v=this.tempSprite,g=this.fxHandlers;if(v&&v.preFX)for(var y=v.preFX.list,x=0;x<y.length;x++){var T=y[x];T.active&&g[T.type].call(this,T,c,d)}this.drawToGame(this.source)},runDraw:function(){var i=this.source,h=this.target;this.copy(i,h),this.source=h,this.target=i},onGlow:function(i,h,f){var c=this.shaders[o.GLOW];this.setShader(c),this.glow.onPreRender(i,c,h,f),this.runDraw()},onShadow:function(i){var h=this.shaders[o.SHADOW];this.setShader(h),this.shadow.onPreRender(i,h),this.runDraw()},onPixelate:function(i,h,f){var c=this.shaders[o.PIXELATE];this.setShader(c),this.pixelate.onPreRender(i,c,h,f),this.runDraw()},onVignette:function(i){var h=this.shaders[o.VIGNETTE];this.setShader(h),this.vignette.onPreRender(i,h),this.runDraw()},onShine:function(i,h,f){var c=this.shaders[o.SHINE];this.setShader(c),this.shine.onPreRender(i,c,h,f),this.runDraw()},onBlur:function(i,h,f){var c=s(i,"quality"),d=this.shaders[o.BLUR+c];this.setShader(d),this.set1i("uMainSampler",0),this.set2f("resolution",h,f),this.set1f("strength",s(i,"strength")),this.set3fv("color",s(i,"glcolor"));for(var v=s(i,"x"),g=s(i,"y"),y=s(i,"steps"),x=0;x<y;x++)this.set2f("offset",v,0),this.runDraw(),this.set2f("offset",0,g),this.runDraw()},onGradient:function(i){var h=this.shaders[o.GRADIENT];this.setShader(h),this.gradient.onPreRender(i,h),this.runDraw()},onBloom:function(i,h,f){var c=this.shaders[o.BLOOM];this.copySprite(this.source,this.swap),this.setShader(c),this.set1i("uMainSampler",0),this.set1f("strength",s(i,"blurStrength")),this.set3fv("color",s(i,"glcolor"));for(var d=2/h*s(i,"offsetX"),v=2/f*s(i,"offsetY"),g=s(i,"steps"),y=0;y<g;y++)this.set2f("offset",d,0),this.runDraw(),this.set2f("offset",0,v),this.runDraw();this.blendFrames(this.swap,this.source,this.target,s(i,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(i){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",i.getData()),this.set1f("uAlpha",i.alpha),this.runDraw()},onCircle:function(i,h,f){var c=this.shaders[o.CIRCLE];this.setShader(c),this.circle.onPreRender(i,c,h,f),this.runDraw()},onBarrel:function(i){var h=this.shaders[o.BARREL];this.setShader(h),this.barrel.onPreRender(i,h),this.runDraw()},onDisplacement:function(i){this.setShader(this.shaders[o.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",i.x,i.y),this.bindTexture(i.glTexture,1),this.runDraw()},onWipe:function(i){var h=this.shaders[o.WIPE];this.setShader(h),this.wipe.onPreRender(i,h),this.runDraw()},onBokeh:function(i,h,f){var c=this.shaders[o.BOKEH];this.setShader(c),this.bokeh.onPreRender(i,c,h,f),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,r.prototype.destroy.call(this),this}});u.exports=l},96569:(u,m,t)=>{var a=t(83419),p=t(95540),o=t(31063),s=t(57516),r=t(61340),e=t(26099),n=t(29100),l=new a({Extends:s,initialize:function(h){var f=p(h,"fragShader",o);h.fragShader=f.replace("%LIGHT_COUNT%",h.game.renderer.config.maxLights),s.call(this,h),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new e,this._tempMatrix=new r,this._tempMatrix2=new r},boot:function(){n.prototype.boot.call(this)},onRender:function(i,h){var f=i.sys.lights;if(this.lightsActive=!1,!(!f||!f.active)){var c=f.getLights(h),d=c.length;this.lightsActive=!0;var v,g=this.renderer,y=g.height,x=h.matrix,T=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",h.x,h.y,h.rotation,h.zoom),this.set3f("uAmbientLightColor",f.ambientColor.r,f.ambientColor.g,f.ambientColor.b),this.set1i("uLightCount",d),v=0;v<d;v++){var S=c[v].light,A=S.color,P="uLights["+v+"].";x.transformPoint(S.x,S.y,T),this.set2f(P+"position",T.x-h.scrollX*S.scrollFactorX*h.zoom,y-(T.y-h.scrollY*S.scrollFactorY*h.zoom)),this.set3f(P+"color",A.r,A.g,A.b),this.set1f(P+"intensity",S.intensity),this.set1f(P+"radius",S.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(i){if(i!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var h=this.inverseRotationMatrix;if(i){var f=-i,c=Math.cos(f),d=Math.sin(f);h[1]=d,h[3]=-d,h[0]=h[4]=c}else h[0]=h[4]=1,h[1]=h[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,h),this.currentNormalMapRotation=i}},setTexture2D:function(i,h){var f=this.renderer;i===void 0&&(i=f.whiteTexture);var c=this.getNormalMap(h);this.isNewNormalMap(i,c)&&(this.flush(),this.createBatch(i),this.addTextureToBatch(c),this.currentNormalMap=c);var d=0;if(h&&h.parentContainer){var v=h.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);d=v.rotationNormalized}else h&&(d=h.rotation);return this.currentBatch===null&&(this.createBatch(i),this.addTextureToBatch(c)),this.setNormalMapRotation(d),0},setGameObject:function(i,h){h===void 0&&(h=i.frame);var f=h.glTexture,c=this.getNormalMap(i);if(this.isNewNormalMap(f,c)&&(this.flush(),this.createBatch(f),this.addTextureToBatch(c),this.currentNormalMap=c),i.parentContainer){var d=i.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(d.rotationNormalized)}else this.setNormalMapRotation(i.rotation);return this.currentBatch===null&&(this.createBatch(f),this.addTextureToBatch(c)),0},isNewNormalMap:function(i,h){return this.currentTexture!==i||this.currentNormalMap!==h},getNormalMap:function(i){var h;if(i)i.displayTexture?h=i.displayTexture.dataSource[i.displayFrame.sourceIndex]:i.texture?h=i.texture.dataSource[i.frame.sourceIndex]:i.tileset&&(Array.isArray(i.tileset)?h=i.tileset[0].image.dataSource[0]:h=i.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return h?h.glTexture:this.renderer.normalTexture},batchSprite:function(i,h,f){this.lightsActive&&s.prototype.batchSprite.call(this,i,h,f)},batchTexture:function(i,h,f,c,d,v,g,y,x,T,S,A,P,D,R,L,I,w,B,b,V,X,G,U,O,z,N,Y,W,H,$,K){this.lightsActive&&s.prototype.batchTexture.call(this,i,h,f,c,d,v,g,y,x,T,S,A,P,D,R,L,I,w,B,b,V,X,G,U,O,z,N,Y,W,H,$,K)},batchTextureFrame:function(i,h,f,c,d,v,g){this.lightsActive&&s.prototype.batchTextureFrame.call(this,i,h,f,c,d,v,g)}});u.exports=l},56527:(u,m,t)=>{var a=t(83419),p=t(95540),o=t(57516),s=t(45561),r=t(60722),e=t(14500),n=t(29100),l=new a({Extends:o,initialize:function(h){h.fragShader=p(h,"fragShader",s),h.vertShader=p(h,"vertShader",r),h.attributes=p(h,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:e.UNSIGNED_BYTE,normalized:!0}]),h.forceZero=!0,h.resizeUniform="uResolution",o.call(this,h)},boot:function(){n.prototype.boot.call(this);var i=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",i.width,i.height)}});u.exports=l},57516:(u,m,t)=>{var a=t(83419),p=t(94811),o=t(95540),s=t(98840),r=t(44667),e=t(61340),n=t(70554),l=t(14500),i=t(29100),h=new a({Extends:i,initialize:function(c){var d=c.game.renderer,v=o(c,"fragShader",s);c.fragShader=n.parseFragmentShaderMaxTextures(v,d.maxTextures),c.vertShader=o(c,"vertShader",r),c.attributes=o(c,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:l.UNSIGNED_BYTE,normalized:!0}]),c.resizeUniform="uResolution",i.call(this,c),this._tempMatrix1=new e,this._tempMatrix2=new e,this._tempMatrix3=new e,this.calcMatrix=new e,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){i.prototype.boot.call(this);var f=this.renderer;this.set1iv("uMainSampler",f.textureIndexes),this.set2f("uResolution",f.width,f.height)},batchSprite:function(f,c,d){this.manager.set(this,f);var v=this._tempMatrix1,g=this._tempMatrix2,y=this._tempMatrix3,x=f.frame,T=x.glTexture,S=x.u0,A=x.v0,P=x.u1,D=x.v1,R=x.x,L=x.y,I=x.cutWidth,w=x.cutHeight,B=x.customPivot,b=f.displayOriginX,V=f.displayOriginY,X=-b+R,G=-V+L;if(f.isCropped){var U=f._crop;(U.flipX!==f.flipX||U.flipY!==f.flipY)&&x.updateCropUVs(U,f.flipX,f.flipY),S=U.u0,A=U.v0,P=U.u1,D=U.v1,I=U.width,w=U.height,R=U.x,L=U.y,X=-b+R,G=-V+L}var O=1,z=1;f.flipX&&(B||(X+=-x.realWidth+b*2),O=-1),f.flipY&&(B||(G+=-x.realHeight+V*2),z=-1);var N=f.x,Y=f.y;c.roundPixels&&(N=Math.floor(N),Y=Math.floor(Y)),g.applyITRS(N,Y,f.rotation,f.scaleX*O,f.scaleY*z),v.copyFrom(c.matrix),d?(v.multiplyWithOffset(d,-c.scrollX*f.scrollFactorX,-c.scrollY*f.scrollFactorY),g.e=N,g.f=Y):(g.e-=c.scrollX*f.scrollFactorX,g.f-=c.scrollY*f.scrollFactorY),v.multiply(g,y);var W=y.setQuad(X,G,X+I,G+w,c.renderRoundPixels),H=n.getTintAppendFloatAlpha,$=c.alpha,K=H(f.tintTopLeft,$*f._alphaTL),Z=H(f.tintTopRight,$*f._alphaTR),J=H(f.tintBottomLeft,$*f._alphaBL),j=H(f.tintBottomRight,$*f._alphaBR);this.shouldFlush(6)&&this.flush();var Q=this.setGameObject(f,x);this.manager.preBatch(f),this.batchQuad(f,W[0],W[1],W[2],W[3],W[4],W[5],W[6],W[7],S,A,P,D,K,Z,J,j,f.tintFill,T,Q),this.manager.postBatch(f)},batchTexture:function(f,c,d,v,g,y,x,T,S,A,P,D,R,L,I,w,B,b,V,X,G,U,O,z,N,Y,W,H,$,K,Z,J,j){j===void 0&&(j=!1),this.manager.set(this,f);var Q=this._tempMatrix1,_=this._tempMatrix2,k=this._tempMatrix3,it=b/d+W,nt=V/v+H,st=(b+X)/d+W,q=(V+G)/v+H,tt=x,et=T,ot=-w,dt=-B;if(f.isCropped){var Ct=f._crop,ut=Ct.width,ft=Ct.height;tt=ut,et=ft,x=ut,T=ft,b=Ct.x,V=Ct.y;var Mt=b,zt=V;D&&(Mt=X-Ct.x-ut),R&&(zt=G-Ct.y-ft),it=Mt/d+W,nt=zt/v+H,st=(Mt+ut)/d+W,q=(zt+ft)/v+H,ot=-w+b,dt=-B+V}R=R^(!Z&&c.isRenderTexture?1:0),D&&(tt*=-1,ot+=x),R&&(et*=-1,dt+=T),$.roundPixels&&(g=Math.floor(g),y=Math.floor(y)),_.applyITRS(g,y,P,S,A),Q.copyFrom($.matrix),K?(Q.multiplyWithOffset(K,-$.scrollX*L,-$.scrollY*I),_.e=g,_.f=y):(_.e-=$.scrollX*L,_.f-=$.scrollY*I),Q.multiply(_,k);var mt=k.setQuad(ot,dt,ot+tt,dt+et,$.renderRoundPixels);J==null&&(J=this.setTexture2D(c)),f&&!j&&this.manager.preBatch(f),this.batchQuad(f,mt[0],mt[1],mt[2],mt[3],mt[4],mt[5],mt[6],mt[7],it,nt,st,q,U,O,z,N,Y,c,J),f&&!j&&this.manager.postBatch(f)},batchTextureFrame:function(f,c,d,v,g,y,x){this.manager.set(this);var T=this._tempMatrix1.copyFrom(y),S=this._tempMatrix2;x?T.multiply(x,S):S=T;var A=S.setQuad(c,d,c+f.width,d+f.height),P=this.setTexture2D(f.source.glTexture);v=n.getTintAppendFloatAlpha(v,g),this.batchQuad(null,A[0],A[1],A[2],A[3],A[4],A[5],A[6],A[7],f.u0,f.v0,f.u1,f.v1,v,v,v,v,0,f.glTexture,P)},batchFillRect:function(f,c,d,v,g,y){this.renderer.pipelines.set(this);var x=this.calcMatrix;y&&y.multiply(g,x);var T=x.setQuad(f,c,f+d,c+v),S=this.fillTint;this.batchQuad(null,T[0],T[1],T[2],T[3],T[4],T[5],T[6],T[7],0,0,1,1,S.TL,S.TR,S.BL,S.BR,2)},batchFillTriangle:function(f,c,d,v,g,y,x,T){this.renderer.pipelines.set(this);var S=this.calcMatrix;T&&T.multiply(x,S);var A=S.getX(f,c),P=S.getY(f,c),D=S.getX(d,v),R=S.getY(d,v),L=S.getX(g,y),I=S.getY(g,y),w=this.fillTint;this.batchTri(null,A,P,D,R,L,I,0,0,1,1,w.TL,w.TR,w.BL,2)},batchStrokeTriangle:function(f,c,d,v,g,y,x,T,S){var A=this.tempTriangle;A[0].x=f,A[0].y=c,A[0].width=x,A[1].x=d,A[1].y=v,A[1].width=x,A[2].x=g,A[2].y=y,A[2].width=x,A[3].x=f,A[3].y=c,A[3].width=x,this.batchStrokePath(A,x,!1,T,S)},batchFillPath:function(f,c,d){this.renderer.pipelines.set(this);var v=this.calcMatrix;d&&d.multiply(c,v);for(var g=f.length,y=this.polygonCache,x,T,S=this.fillTint.TL,A=this.fillTint.TR,P=this.fillTint.BL,D=0;D<g;++D)T=f[D],y.push(T.x,T.y);x=p(y),g=x.length;for(var R=0;R<g;R+=3){var L=x[R+0]*2,I=x[R+1]*2,w=x[R+2]*2,B=y[L+0],b=y[L+1],V=y[I+0],X=y[I+1],G=y[w+0],U=y[w+1],O=v.getX(B,b),z=v.getY(B,b),N=v.getX(V,X),Y=v.getY(V,X),W=v.getX(G,U),H=v.getY(G,U);this.batchTri(null,O,z,N,Y,W,H,0,0,1,1,S,A,P,2)}y.length=0},batchStrokePath:function(f,c,d,v,g){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var y=f.length-1,x=0;x<y;x++){var T=f[x],S=f[x+1];this.batchLine(T.x,T.y,S.x,S.y,T.width/2,S.width/2,c,x,!d&&x===y-1,v,g)}},batchLine:function(f,c,d,v,g,y,x,T,S,A,P){this.renderer.pipelines.set(this);var D=this.calcMatrix;P&&P.multiply(A,D);var R=d-f,L=v-c,I=Math.sqrt(R*R+L*L);if(I!==0){var w=g*(v-c)/I,B=g*(f-d)/I,b=y*(v-c)/I,V=y*(f-d)/I,X=d-b,G=v-V,U=f-w,O=c-B,z=d+b,N=v+V,Y=f+w,W=c+B,H=D.getX(X,G),$=D.getY(X,G),K=D.getX(U,O),Z=D.getY(U,O),J=D.getX(z,N),j=D.getY(z,N),Q=D.getX(Y,W),_=D.getY(Y,W),k=this.strokeTint,it=k.TL,nt=k.TR,st=k.BL,q=k.BR;if(this.batchQuad(null,Q,_,K,Z,H,$,J,j,0,0,1,1,it,nt,st,q,2),!(x<=2)){var tt=this.prevQuad,et=this.firstQuad;T>0&&tt[4]?this.batchQuad(null,Q,_,K,Z,tt[0],tt[1],tt[2],tt[3],0,0,1,1,it,nt,st,q,2):(et[0]=Q,et[1]=_,et[2]=K,et[3]=Z,et[4]=1),S&&et[4]?this.batchQuad(null,H,$,J,j,et[0],et[1],et[2],et[3],0,0,1,1,it,nt,st,q,2):(tt[0]=H,tt[1]=$,tt[2]=J,tt[3]=j,tt[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,i.prototype.destroy.call(this),this}});u.exports=h},43439:(u,m,t)=>{var a=t(83419),p=t(95540),o=t(4127),s=t(89924),r=t(29100),e=new a({Extends:r,initialize:function(l){l.vertShader=p(l,"vertShader",s),l.fragShader=p(l,"fragShader",o),l.attributes=p(l,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),r.call(this,l)},onRender:function(n,l){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",l.zoom)},batchPointLight:function(n,l,i,h,f,c,d,v,g,y,x,T){var S=n.color,A=n.intensity,P=n.radius,D=n.attenuation,R=S.r*A,L=S.g*A,I=S.b*A,w=l.alpha*n.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(i,h,x,T,P,D,R,L,I,w),this.batchLightVert(f,c,x,T,P,D,R,L,I,w),this.batchLightVert(d,v,x,T,P,D,R,L,I,w),this.batchLightVert(i,h,x,T,P,D,R,L,I,w),this.batchLightVert(d,v,x,T,P,D,R,L,I,w),this.batchLightVert(g,y,x,T,P,D,R,L,I,w),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(n,l,i,h,f,c,d,v,g,y){var x=this.vertexViewF32,T=this.vertexCount*this.currentShader.vertexComponentCount-1;x[++T]=n,x[++T]=l,x[++T]=i,x[++T]=h,x[++T]=f,x[++T]=c,x[++T]=d,x[++T]=v,x[++T]=g,x[++T]=y,this.vertexCount++}});u.exports=e},84057:(u,m,t)=>{var a=t(83419),p=t(89422),o=t(95540),s=t(27681),r=t(49627),e=t(29100),n=new a({Extends:e,initialize:function(i){i.renderTarget=o(i,"renderTarget",1),i.fragShader=o(i,"fragShader",s),i.vertShader=o(i,"vertShader",r),i.attributes=o(i,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),i.batchSize=1,i.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],e.call(this,i),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new p,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){e.prototype.boot.call(this);var l=this.manager.UTILITY_PIPELINE;this.fullFrame1=l.fullFrame1,this.fullFrame2=l.fullFrame2,this.halfFrame1=l.halfFrame1,this.halfFrame2=l.halfFrame2;var i=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",i.width,i.height);for(var h=this.renderTargets,f=0;f<h.length;f++)h[f].autoResize=!0},postBatch:function(l){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(l),this},onDraw:function(l){this.bindAndDraw(l)},getController:function(l){return l!==void 0?l:this.controller?this.controller:this},copySprite:function(l,i,h){h===void 0&&(h=!1);var f=this.gl;f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,l.texture.webGLTexture);var c=f.getParameter(f.FRAMEBUFFER_BINDING);f.bindFramebuffer(f.FRAMEBUFFER,i.framebuffer.webGLFramebuffer),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,i.texture.webGLTexture,0),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT),f.bufferData(f.ARRAY_BUFFER,this.vertexData,f.STATIC_DRAW),f.drawArrays(f.TRIANGLES,0,6),h&&(f.bindTexture(f.TEXTURE_2D,null),f.bindFramebuffer(f.FRAMEBUFFER,c))},copyFrame:function(l,i,h,f,c){this.manager.copyFrame(l,i,h,f,c)},copyToGame:function(l){this.manager.copyToGame(l)},drawFrame:function(l,i,h){this.manager.drawFrame(l,i,h,this.colorMatrix)},blendFrames:function(l,i,h,f,c){this.manager.blendFrames(l,i,h,f,c)},blendFramesAdditive:function(l,i,h,f,c){this.manager.blendFramesAdditive(l,i,h,f,c)},clearFrame:function(l,i){this.manager.clearFrame(l,i)},blitFrame:function(l,i,h,f,c,d){this.manager.blitFrame(l,i,h,f,c,d)},copyFrameRect:function(l,i,h,f,c,d,v,g){this.manager.copyFrameRect(l,i,h,f,c,d,v,g)},bindAndDraw:function(l,i,h,f,c){h===void 0&&(h=!0),f===void 0&&(f=!0);var d=this.gl,v=this.renderer;this.bind(c),this.set1i("uMainSampler",0),i?(d.viewport(0,0,i.width,i.height),d.bindFramebuffer(d.FRAMEBUFFER,i.framebuffer.webGLFramebuffer),d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,i.texture.webGLTexture,0),h&&(f?d.clearColor(0,0,0,0):d.clearColor(0,0,0,1),d.clear(d.COLOR_BUFFER_BIT))):(v.popFramebuffer(!1,!1),v.currentFramebuffer||d.viewport(0,0,v.width,v.height)),v.restoreStencilMask(),d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,l.texture.webGLTexture),d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.STATIC_DRAW),d.drawArrays(d.TRIANGLES,0,6),i&&(d.bindTexture(d.TEXTURE_2D,null),d.bindFramebuffer(d.FRAMEBUFFER,v.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),e.prototype.destroy.call(this),this}});u.exports=n},43558:(u,m,t)=>{var a=t(10312),p=t(67502),o=t(83419),s=t(96293),r=t(95540),e=t(57516),n=t(27681),l=t(87841),i=t(32302),h=t(45561),f=t(60722),c=t(29100),d=new o({Extends:e,initialize:function(g){var y=r(g,"fragShader",n),x=r(g,"vertShader",f),T=r(g,"drawShader",n),S=[{name:"DrawSprite",fragShader:h,vertShader:f},{name:"CopySprite",fragShader:y,vertShader:x},{name:"DrawGame",fragShader:T,vertShader:f},{name:"ColorMatrix",fragShader:s}],A=r(g,"shaders",[]);g.shaders=S.concat(A),g.vertShader||(g.vertShader=x),g.batchSize=1,e.call(this,g),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new l,this.targetBounds=new l,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){c.prototype.boot.call(this);var v=this.shaders,g=this.renderer;this.drawSpriteShader=v[0],this.copyShader=v[1],this.gameShader=v[2],this.colorMatrixShader=v[3],this.fsTarget=new i(g,g.width,g.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var y=new ArrayBuffer(168);this.quadVertexData=y,this.quadVertexViewF32=new Float32Array(y),this.quadVertexBuffer=g.createVertexBuffer(y,this.gl.STATIC_DRAW),this.onResize(g.width,g.height),this.currentShader=this.copyShader,this.set2f("uResolution",g.width,g.height)},onResize:function(v,g){var y=this.quadVertexViewF32;y[1]=g,y[22]=g,y[14]=v,y[28]=v,y[35]=v,y[36]=g},batchQuad:function(v,g,y,x,T,S,A,P,D,R,L,I,w,B,b,V,X,G,U){var O=Math.min(g,x,S,P),z=Math.min(y,T,A,D),N=Math.max(g,x,S,P),Y=Math.max(y,T,A,D),W=N-O,H=Y-z,$=this.spriteBounds.setTo(O,z,W,H),K=v?v.preFX.padding:0,Z=W+K*2,J=H+K*2,j=Math.abs(Math.max(Z,J)),Q=this.manager.getRenderTarget(j),_=this.targetBounds.setTo(0,0,Q.width,Q.height);p(_,Math.round($.centerX),Math.round($.centerY)),this.tempSprite=v;var k=this.gl,it=this.renderer;it.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",it.width,it.height),this.flipProjectionMatrix(!0),v&&(this.onDrawSprite(v,Q),v.preFX.onFX(this));var nt=this.fsTarget;return this.flush(),k.viewport(0,0,it.width,it.height),k.bindFramebuffer(k.FRAMEBUFFER,nt.framebuffer.webGLFramebuffer),k.framebufferTexture2D(k.FRAMEBUFFER,k.COLOR_ATTACHMENT0,k.TEXTURE_2D,nt.texture.webGLTexture,0),k.clearColor(0,0,0,0),k.clear(k.COLOR_BUFFER_BIT),this.setTexture2D(U),this.batchVert(g,y,R,L,0,G,B),this.batchVert(x,T,R,w,0,G,V),this.batchVert(S,A,I,w,0,G,X),this.batchVert(g,y,R,L,0,G,B),this.batchVert(S,A,I,w,0,G,X),this.batchVert(P,D,I,L,0,G,b),this.flush(),this.flipProjectionMatrix(!1),k.activeTexture(k.TEXTURE0),k.bindTexture(k.TEXTURE_2D,Q.texture.webGLTexture),k.copyTexSubImage2D(k.TEXTURE_2D,0,0,0,_.x,_.y,_.width,_.height),k.bindFramebuffer(k.FRAMEBUFFER,null),k.bindTexture(k.TEXTURE_2D,null),this.onBatch(v),this.currentShader=this.copyShader,this.onDraw(Q,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(v,g,y,x,T,S,A){y===void 0&&(y=!0),x===void 0&&(x=!0),T===void 0&&(T=!1),A===void 0&&(A=this.copyShader);var P=this.gl,D=this.tempSprite;S&&(A=this.colorMatrixShader),this.currentShader=A;var R=this.setVertexBuffer(this.quadVertexBuffer);A.bind(R,!1);var L=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",L.width,L.height),D.preFX.onFXCopy(this),this.onCopySprite(v,g,D),S&&(this.set1fv("uColorMatrix",S.getData()),this.set1f("uAlpha",S.alpha)),P.activeTexture(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,v.texture.webGLTexture),v.height>g.height)P.viewport(0,0,v.width,v.height),this.setTargetUVs(v,g);else{var I=g.height-v.height;P.viewport(0,I,v.width,v.height),this.resetUVs()}if(P.bindFramebuffer(P.FRAMEBUFFER,g.framebuffer.webGLFramebuffer),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,g.texture.webGLTexture,0),y&&(P.clearColor(0,0,0,+!x),P.clear(P.COLOR_BUFFER_BIT)),T){var w=this.renderer.currentBlendMode;this.renderer.setBlendMode(a.ERASE)}P.bufferData(P.ARRAY_BUFFER,this.quadVertexData,P.STATIC_DRAW),P.drawArrays(P.TRIANGLES,0,6),T&&this.renderer.setBlendMode(w),P.bindFramebuffer(P.FRAMEBUFFER,null)},copy:function(v,g){var y=this.gl;this.set1i("uMainSampler",0),y.activeTexture(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,v.texture.webGLTexture),y.viewport(0,0,v.width,v.height),this.setUVs(0,0,0,1,1,1,1,0),y.bindFramebuffer(y.FRAMEBUFFER,g.framebuffer.webGLFramebuffer),y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,g.texture.webGLTexture,0),y.clearColor(0,0,0,0),y.clear(y.COLOR_BUFFER_BIT),y.bufferData(y.ARRAY_BUFFER,this.quadVertexData,y.STATIC_DRAW),y.drawArrays(y.TRIANGLES,0,6),y.bindFramebuffer(y.FRAMEBUFFER,null)},blendFrames:function(v,g,y,x,T){this.manager.blendFrames(v,g,y,x,T)},blendFramesAdditive:function(v,g,y,x,T){this.manager.blendFramesAdditive(v,g,y,x,T)},drawToGame:function(v){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(v)},copyToGame:function(v){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(v)},bindAndDraw:function(v){var g=this.gl,y=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(v.texture);var x=this._tempMatrix1.loadIdentity(),T=this.targetBounds.x,S=this.targetBounds.y,A=T+v.width,P=S+v.height,D=x.getX(T,S),R=x.getX(T,P),L=x.getX(A,P),I=x.getX(A,S),w=x.getY(T,S),B=x.getY(T,P),b=x.getY(A,P),V=x.getY(A,S),X=16777215;this.batchVert(D,w,0,0,0,0,X),this.batchVert(R,B,0,1,0,0,X),this.batchVert(L,b,1,1,0,0,X),this.batchVert(D,w,0,0,0,0,X),this.batchVert(L,b,1,1,0,0,X),this.batchVert(I,V,1,0,0,0,X),y.restoreFramebuffer(!1,!0),y.currentFramebuffer||g.viewport(0,0,y.width,y.height),y.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(v){this.drawToGame(v)},setUVs:function(v,g,y,x,T,S,A,P){var D=this.quadVertexViewF32;D[2]=v,D[3]=g,D[9]=y,D[10]=x,D[16]=T,D[17]=S,D[23]=v,D[24]=g,D[30]=T,D[31]=S,D[37]=A,D[38]=P},setTargetUVs:function(v,g){var y=g.height/v.height;y>.5?y=.5-(y-.5):y=.5+(.5-y),this.setUVs(0,y,0,1+y,1,1+y,1,y)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,e.prototype.destroy.call(this),this}});u.exports=d},81041:(u,m,t)=>{var a=t(83419),p=t(95540),o=t(57516),s=new a({Extends:o,initialize:function(e){e.topology=5,e.batchSize=p(e,"batchSize",256),o.call(this,e)}});u.exports=s},12385:(u,m,t)=>{var a=t(83419),p=t(95540),o=t(57516),s=t(45561),r=t(60722),e=t(29100),n=new a({Extends:o,initialize:function(i){i.fragShader=p(i,"fragShader",s),i.vertShader=p(i,"vertShader",r),i.forceZero=!0,o.call(this,i)},boot:function(){e.prototype.boot.call(this);var l=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",l.width,l.height)}});u.exports=n},7589:(u,m,t)=>{var a=t(35407),p=t(10312),o=t(83419),s=t(89422),r=t(96293),e=t(36682),n=t(95540),l=t(48247),i=t(49627),h=t(29100),f=new o({Extends:h,initialize:function(d){d.renderTarget=n(d,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),d.vertShader=n(d,"vertShader",i),d.shaders=n(d,"shaders",[{name:"Copy",fragShader:e},{name:"AddBlend",fragShader:a},{name:"LinearBlend",fragShader:l},{name:"ColorMatrix",fragShader:r}]),d.attributes=n(d,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),d.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],d.batchSize=1,h.call(this,d),this.colorMatrix=new s,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){h.prototype.boot.call(this);var c=this.shaders,d=this.renderTargets;this.copyShader=c[0],this.addShader=c[1],this.linearShader=c[2],this.colorMatrixShader=c[3],this.fullFrame1=d[0],this.fullFrame2=d[1],this.halfFrame1=d[2],this.halfFrame2=d[3]},copyFrame:function(c,d,v,g,y){v===void 0&&(v=1),g===void 0&&(g=!0),y===void 0&&(y=!0);var x=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",v),x.activeTexture(x.TEXTURE0),x.bindTexture(x.TEXTURE_2D,c.texture.webGLTexture),d?(x.viewport(0,0,d.width,d.height),x.bindFramebuffer(x.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),x.framebufferTexture2D(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0,x.TEXTURE_2D,d.texture.webGLTexture,0)):x.viewport(0,0,c.width,c.height),g&&(y?x.clearColor(0,0,0,0):x.clearColor(0,0,0,1),x.clear(x.COLOR_BUFFER_BIT)),x.bufferData(x.ARRAY_BUFFER,this.vertexData,x.STATIC_DRAW),x.drawArrays(x.TRIANGLES,0,6),x.bindFramebuffer(x.FRAMEBUFFER,null),x.bindTexture(x.TEXTURE_2D,null)},blitFrame:function(c,d,v,g,y,x,T){v===void 0&&(v=1),g===void 0&&(g=!0),y===void 0&&(y=!0),x===void 0&&(x=!1),T===void 0&&(T=!1);var S=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",v),S.activeTexture(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,c.texture.webGLTexture),c.height>d.height)S.viewport(0,0,c.width,c.height),this.setTargetUVs(c,d);else{var A=d.height-c.height;S.viewport(0,A,c.width,c.height)}if(S.bindFramebuffer(S.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_2D,d.texture.webGLTexture,0),g&&(y?S.clearColor(0,0,0,0):S.clearColor(0,0,0,1),S.clear(S.COLOR_BUFFER_BIT)),x){var P=this.renderer.currentBlendMode;this.renderer.setBlendMode(p.ERASE)}T&&this.flipY(),S.bufferData(S.ARRAY_BUFFER,this.vertexData,S.STATIC_DRAW),S.drawArrays(S.TRIANGLES,0,6),x&&this.renderer.setBlendMode(P),S.bindFramebuffer(S.FRAMEBUFFER,null),S.bindTexture(S.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(c,d,v,g,y,x,T,S){T===void 0&&(T=!0),S===void 0&&(S=!0);var A=this.gl;A.bindFramebuffer(A.FRAMEBUFFER,c.framebuffer.webGLFramebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,c.texture.webGLTexture,0),T&&(S?A.clearColor(0,0,0,0):A.clearColor(0,0,0,1),A.clear(A.COLOR_BUFFER_BIT)),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,d.texture.webGLTexture),A.copyTexSubImage2D(A.TEXTURE_2D,0,0,0,v,g,y,x),A.bindFramebuffer(A.FRAMEBUFFER,null),A.bindTexture(A.TEXTURE_2D,null)},copyToGame:function(c){var d=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,c.texture.webGLTexture),d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.STATIC_DRAW),d.drawArrays(d.TRIANGLES,0,6)},drawFrame:function(c,d,v,g){v===void 0&&(v=!0),g===void 0&&(g=this.colorMatrix);var y=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",g.getData()),this.set1f("uAlpha",g.alpha),y.activeTexture(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,c.texture.webGLTexture),d?(y.viewport(0,0,d.width,d.height),y.bindFramebuffer(y.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,d.texture.webGLTexture,0)):y.viewport(0,0,c.width,c.height),v?y.clearColor(0,0,0,0):y.clearColor(0,0,0,1),y.clear(y.COLOR_BUFFER_BIT),y.bufferData(y.ARRAY_BUFFER,this.vertexData,y.STATIC_DRAW),y.drawArrays(y.TRIANGLES,0,6),y.bindFramebuffer(y.FRAMEBUFFER,null),y.bindTexture(y.TEXTURE_2D,null)},blendFrames:function(c,d,v,g,y,x){g===void 0&&(g=1),y===void 0&&(y=!0),x===void 0&&(x=this.linearShader);var T=this.gl;this.setShader(x),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",g),T.activeTexture(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,c.texture.webGLTexture),T.activeTexture(T.TEXTURE1),T.bindTexture(T.TEXTURE_2D,d.texture.webGLTexture),v?(T.bindFramebuffer(T.FRAMEBUFFER,v.framebuffer.webGLFramebuffer),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,v.texture.webGLTexture,0),T.viewport(0,0,v.width,v.height)):T.viewport(0,0,c.width,c.height),y?T.clearColor(0,0,0,0):T.clearColor(0,0,0,1),T.clear(T.COLOR_BUFFER_BIT),T.bufferData(T.ARRAY_BUFFER,this.vertexData,T.STATIC_DRAW),T.drawArrays(T.TRIANGLES,0,6),T.bindFramebuffer(T.FRAMEBUFFER,null),T.bindTexture(T.TEXTURE_2D,null)},blendFramesAdditive:function(c,d,v,g,y){this.blendFrames(c,d,v,g,y,this.addShader)},clearFrame:function(c,d){d===void 0&&(d=!0);var v=this.gl;v.viewport(0,0,c.width,c.height),v.bindFramebuffer(v.FRAMEBUFFER,c.framebuffer.webGLFramebuffer),d?v.clearColor(0,0,0,0):v.clearColor(0,0,0,1),v.clear(v.COLOR_BUFFER_BIT);var g=this.renderer.currentFramebuffer;v.bindFramebuffer(v.FRAMEBUFFER,g.webGLFramebuffer)},setUVs:function(c,d,v,g,y,x,T,S){var A=this.vertexViewF32;A[2]=c,A[3]=d,A[6]=v,A[7]=g,A[10]=y,A[11]=x,A[14]=c,A[15]=d,A[18]=y,A[19]=x,A[22]=T,A[23]=S},setTargetUVs:function(c,d){var v=d.height/c.height;v>.5?v=.5-(v-.5):v=.5+(.5-v),this.setUVs(0,v,0,1+v,1,1+v,1,v)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});u.exports=f},36060:u=>{var m={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};u.exports=m},84817:u=>{u.exports="pipelineafterflush"},36712:u=>{u.exports="pipelinebeforeflush"},40285:u=>{u.exports="pipelinebind"},65918:u=>{u.exports="pipelineboot"},92852:u=>{u.exports="pipelinedestroy"},56072:u=>{u.exports="pipelinerebind"},57566:u=>{u.exports="pipelineresize"},77085:(u,m,t)=>{u.exports={AFTER_FLUSH:t(84817),BEFORE_FLUSH:t(36712),BIND:t(40285),BOOT:t(65918),DESTROY:t(92852),REBIND:t(56072),RESIZE:t(57566)}},54812:(u,m,t)=>{var a=t(83419),p=t(99155),o=t(84057),s=new a({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:p}),this.amount=1},onPreRender:function(r,e){r=this.getController(r),this.set1f("amount",r.amount,e)}});u.exports=s},67329:(u,m,t)=>{var a=t(83419),p=t(24400),o=t(84057),s=new a({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:p}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(r){r=this.getController(r),this.set1f("strength",r.blurStrength),this.set3fv("color",r.glcolor)},onDraw:function(r){var e=this.getController(),n=this.fullFrame1,l=this.fullFrame2;this.copyFrame(r,l);for(var i=2/r.width*e.offsetX,h=2/r.height*e.offsetY,f=0;f<e.steps;f++)this.set2f("offset",i,0),this.copySprite(r,n),this.set2f("offset",0,h),this.copySprite(n,r);this.blendFrames(l,r,n,e.strength),this.copyToGame(n)}});u.exports=s},8861:(u,m,t)=>{var a=t(83419),p=t(41514),o=t(51078),s=t(94328),r=t(84057),e=new a({Extends:r,initialize:function(l){r.call(this,{game:l,shaders:[{name:"Gaussian5",fragShader:p},{name:"Gaussian9",fragShader:o},{name:"Gaussian13",fragShader:s}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(n){var l=this.getController(),i=this.gl,h=this.fullFrame1,f=i.getParameter(i.FRAMEBUFFER_BINDING);this.bind(this.shaders[l.quality]),i.activeTexture(i.TEXTURE0),i.viewport(0,0,n.width,n.height),this.set1i("uMainSampler",0),this.set2f("resolution",n.width,n.height),this.set1f("strength",l.strength),this.set3fv("color",l.glcolor);for(var c=0;c<l.steps;c++)this.set2f("offset",l.x,0),this.copySprite(n,h),this.set2f("offset",0,l.y),this.copySprite(h,n);i.bindFramebuffer(i.FRAMEBUFFER,f),i.bindTexture(i.TEXTURE_2D,null),this.copyToGame(n)}});u.exports=e},51051:(u,m,t)=>{var a=t(83419),p=t(90610),o=t(84057),s=new a({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:p}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(r,e,n,l){r=this.getController(r),this.set1f("radius",r.radius,e),this.set1f("amount",r.amount,e),this.set1f("contrast",r.contrast,e),this.set1f("strength",r.strength,e),this.set2f("blur",r.blurX,r.blurY,e),this.setBoolean("isTiltShift",r.isTiltShift,e),n&&l&&this.set2f("resolution",n,l,e)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});u.exports=s},89428:(u,m,t)=>{var a=t(83419),p=t(91899),o=t(84057),s=new a({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:p}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(r,e,n,l){r=this.getController(r),this.set1f("scale",r.scale,e),this.set1f("feather",r.feather,e),this.set1f("thickness",r.thickness,e),this.set3fv("color",r.glcolor,e),this.set4fv("backgroundColor",r.glcolor2,e),n&&l&&this.set2f("resolution",n,l,e)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});u.exports=s},88904:(u,m,t)=>{var a=t(83419),p=t(84057),o=new a({Extends:p,initialize:function(r){p.call(this,{game:r})},onDraw:function(s){var r=this.fullFrame1;this.controller?this.manager.drawFrame(s,r,!0,this.controller):this.drawFrame(s,r),this.copyToGame(r)}});u.exports=o},63563:(u,m,t)=>{var a=t(83419),p=t(47838),o=t(84057),s=new a({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:p}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(r){var e=this.game.textures.getFrame(r);e&&(this.glTexture=e.glTexture)},onDraw:function(r){var e=this.getController(),n=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",e.x,e.y),this.bindTexture(e.glTexture,1),this.copySprite(r,n),this.copyToGame(n)}});u.exports=s},94045:(u,m,t)=>{var a=t(83419),p=t(95540),o=t(98656),s=t(84057),r=t(70554),e=new a({Extends:s,initialize:function(l,i){var h=p(i,"quality",.1),f=p(i,"distance",10);s.call(this,{game:l,fragShader:r.setGlowQuality(o,l,h,f)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(n,l,i,h){n=this.getController(n),this.set1f("outerStrength",n.outerStrength,l),this.set1f("innerStrength",n.innerStrength,l),this.set4fv("glowColor",n.glcolor,l),this.setBoolean("knockout",n.knockout,l),i&&h&&this.set2f("resolution",i,h,l)},onDraw:function(n){this.set2f("resolution",n.width,n.height),this.bindAndDraw(n)}});u.exports=e},74088:(u,m,t)=>{var a=t(83419),p=t(70463),o=t(84057),s=new a({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:p}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(r,e){r=this.getController(r),this.set1f("alpha",r.alpha,e),this.set1i("size",r.size,e),this.set3fv("color1",r.glcolor1,e),this.set3fv("color2",r.glcolor2,e),this.set2f("positionFrom",r.fromX,r.fromY,e),this.set2f("positionTo",r.toX,r.toY,e)}});u.exports=s},99636:(u,m,t)=>{var a=t(83419),p=t(50831),o=t(84057),s=new a({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:p}),this.amount=1},onPreRender:function(r,e,n,l){r=this.getController(r),this.set1f("amount",r.amount,e),n&&l&&this.set2f("resolution",n,l,e)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});u.exports=s},34700:(u,m,t)=>{var a=t(83419),p=t(92595),o=t(84057),s=new a({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:p}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(r,e){r=this.getController(r);var n=r.samples;this.set1i("samples",n,e),this.set1f("intensity",r.intensity,e),this.set1f("decay",r.decay,e),this.set1f("power",r.power/n,e),this.set2f("lightPosition",r.x,r.y,e),this.set4fv("color",r.glcolor,e)}});u.exports=s},91157:(u,m,t)=>{var a=t(83419),p=t(72464),o=t(84057),s=new a({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:p}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(r,e,n,l){r=this.getController(r),this.setTime("time",e),this.set1f("speed",r.speed,e),this.set1f("lineWidth",r.lineWidth,e),this.set1f("gradient",r.gradient,e),this.setBoolean("reveal",r.reveal,e),n&&l&&this.set2f("resolution",n,l,e)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});u.exports=s},27797:(u,m,t)=>{var a=t(83419),p=t(39249),o=t(84057),s=new a({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:p}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(r,e){r=this.getController(r),this.set1f("radius",r.radius,e),this.set1f("strength",r.strength,e),this.set2f("position",r.x,r.y,e)}});u.exports=s},67603:(u,m,t)=>{var a=t(83419),p=t(2878),o=t(84057),s=new a({Extends:o,initialize:function(e){o.call(this,{game:e,fragShader:p}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(r,e){r=this.getController(r);var n=r.progress,l=r.wipeWidth,i=r.direction,h=r.axis;this.set4f("config",n,l,i,h,e),this.setBoolean("reveal",r.reveal,e)}});u.exports=s},58918:(u,m,t)=>{var a={Barrel:t(54812),Bloom:t(67329),Blur:t(8861),Bokeh:t(51051),Circle:t(89428),ColorMatrix:t(88904),Displacement:t(63563),Glow:t(94045),Gradient:t(74088),Pixelate:t(99636),Shadow:t(34700),Shine:t(91157),Vignette:t(27797),Wipe:t(67603)};u.exports=a},96615:(u,m,t)=>{var a=t(36060),p=t(79291),o={FX:t(58918),BitmapMaskPipeline:t(31302),Events:t(77085),FXPipeline:t(92651),LightPipeline:t(96569),MobilePipeline:t(56527),MultiPipeline:t(57516),PointLightPipeline:t(43439),PostFXPipeline:t(84057),PreFXPipeline:t(43558),RopePipeline:t(81041),SinglePipeline:t(12385),UtilityPipeline:t(7589)};o=p(!1,o,a),u.exports=o},35407:u=>{u.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},78908:u=>{u.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},85191:u=>{u.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},96293:u=>{u.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},36682:u=>{u.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},99155:u=>{u.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},24400:u=>{u.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},94328:u=>{u.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},41514:u=>{u.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},51078:u=>{u.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},90610:u=>{u.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},91899:u=>{u.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},47838:u=>{u.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},98656:u=>{u.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},70463:u=>{u.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},50831:u=>{u.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},92595:u=>{u.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},72464:u=>{u.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},39249:u=>{u.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},2878:u=>{u.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},31063:u=>{u.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},48247:u=>{u.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},41214:u=>{u.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},39653:u=>{u.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},62143:u=>{u.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},47940:u=>{u.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},98840:u=>{u.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},44667:u=>{u.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},4127:u=>{u.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},89924:u=>{u.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},27681:u=>{u.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},49627:u=>{u.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},45561:u=>{u.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},60722:u=>{u.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},89350:(u,m,t)=>{u.exports={AddBlendFrag:t(35407),BitmapMaskFrag:t(78908),BitmapMaskVert:t(85191),ColorMatrixFrag:t(96293),CopyFrag:t(36682),FXBarrelFrag:t(99155),FXBloomFrag:t(24400),FXBlurHighFrag:t(94328),FXBlurLowFrag:t(41514),FXBlurMedFrag:t(51078),FXBokehFrag:t(90610),FXCircleFrag:t(91899),FXDisplacementFrag:t(47838),FXGlowFrag:t(98656),FXGradientFrag:t(70463),FXPixelateFrag:t(50831),FXShadowFrag:t(92595),FXShineFrag:t(72464),FXVignetteFrag:t(39249),FXWipeFrag:t(2878),LightFrag:t(31063),LinearBlendFrag:t(48247),MeshFrag:t(41214),MeshVert:t(39653),MobileFrag:t(62143),MobileVert:t(47940),MultiFrag:t(98840),MultiVert:t(44667),PointLightFrag:t(4127),PointLightVert:t(89924),PostFXFrag:t(27681),QuadVert:t(49627),SingleFrag:t(45561),SingleVert:t(60722)}},93567:(u,m,t)=>{var a=t(83419),p=new a({initialize:function(s,r,e){this.webGLAttribLocation=-1,this.gl=s,this.program=r,this.name=e,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var o=this.gl;o.isContextLost()||(this.webGLAttribLocation=o.getAttribLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});u.exports=p},26128:(u,m,t)=>{var a=t(83419),p=new a({initialize:function(s,r,e,n){this.webGLBuffer=null,this.gl=s,this.initialDataOrSize=r,this.bufferType=e,this.bufferUsage=n,this.createResource()},createResource:function(){if(this.initialDataOrSize!==null){var o=this.gl;if(!o.isContextLost()){var s=this.bufferType,r=o.createBuffer();this.webGLBuffer=r,o.bindBuffer(s,this.webGLBuffer),o.bufferData(s,this.initialDataOrSize,this.bufferUsage),o.bindBuffer(s,null)}}},destroy:function(){var o=this.gl;o.isContextLost()||o.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});u.exports=p},84387:(u,m,t)=>{var a=t(83419),p={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},o=new a({initialize:function(r,e,n,l,i){this.webGLFramebuffer=null,this.gl=r,this.width=e,this.height=n,this.renderTexture=l,this.addDepthStencilBuffer=!!i,this.createResource()},createResource:function(){var s=this.gl;if(!s.isContextLost()){var r=this.renderTexture,e=0,n=s.createFramebuffer();if(this.webGLFramebuffer=n,s.bindFramebuffer(s.FRAMEBUFFER,n),r.isRenderTexture=!0,r.isAlphaPremultiplied=!1,s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,r.webGLTexture,0),e=s.checkFramebufferStatus(s.FRAMEBUFFER),e!==s.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(p[e]||e));if(this.addDepthStencilBuffer){var l=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,l),s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,this.width,this.height),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,l)}s.bindFramebuffer(s.FRAMEBUFFER,null)}},destroy:function(){if(this.webGLFramebuffer!==null){var s=this.gl;if(!s.isContextLost()){s.bindFramebuffer(s.FRAMEBUFFER,this.webGLFramebuffer);var r=s.getFramebufferAttachmentParameter(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);r!==null&&(s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,null,0),s.deleteTexture(r));var e=s.getFramebufferAttachmentParameter(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);e!==null&&s.deleteRenderbuffer(e),s.bindFramebuffer(s.FRAMEBUFFER,null),s.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});u.exports=o},1482:(u,m,t)=>{var a=t(83419),p=new a({initialize:function(s,r,e){this.webGLProgram=null,this.gl=s,this.vertexSource=r,this.fragmentSource=e,this.createResource()},createResource:function(){var o=this.gl;if(!o.isContextLost()){var s=o.createProgram(),r=o.createShader(o.VERTEX_SHADER),e=o.createShader(o.FRAGMENT_SHADER);o.shaderSource(r,this.vertexSource),o.shaderSource(e,this.fragmentSource),o.compileShader(r),o.compileShader(e);var n=`Shader failed:
`;if(!o.getShaderParameter(r,o.COMPILE_STATUS))throw new Error("Vertex "+n+o.getShaderInfoLog(r));if(!o.getShaderParameter(e,o.COMPILE_STATUS))throw new Error("Fragment "+n+o.getShaderInfoLog(e));if(o.attachShader(s,r),o.attachShader(s,e),o.linkProgram(s),!o.getProgramParameter(s,o.LINK_STATUS))throw new Error("Link "+n+o.getProgramInfoLog(s));o.useProgram(s),this.webGLProgram=s}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});u.exports=p},82751:(u,m,t)=>{var a=t(83419),p=t(50030),o=new a({initialize:function(r,e,n,l,i,h,f,c,d,v,g,y,x){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=r,this.mipLevel=e,this.minFilter=n,this.magFilter=l,this.wrapT=i,this.wrapS=h,this.format=f,this.pixels=c,this.width=d,this.height=v,this.pma=g??!0,this.forceSize=!!y,this.flipY=!!x,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var s=this.gl;if(!s.isContextLost()){if(this.pixels instanceof o){this.webGLTexture=this.pixels.webGLTexture;return}var r=s.createTexture();r.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=r,this._processTexture()}},update:function(s,r,e,n,l,i,h,f,c){if(!(r===0||e===0)){this.pixels=s,this.width=r,this.height=e,this.flipY=n,this.wrapS=l,this.wrapT=i,this.minFilter=h,this.magFilter=f,this.format=c;var d=this.gl;d.isContextLost()||this._processTexture()}},_processTexture:function(){var s=this.gl;s.activeTexture(s.TEXTURE0);var r=s.getParameter(s.TEXTURE_BINDING_2D);s.bindTexture(s.TEXTURE_2D,this.webGLTexture),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MIN_FILTER,this.minFilter),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MAG_FILTER,this.magFilter),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_S,this.wrapS),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_T,this.wrapT),s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),s.pixelStorei(s.UNPACK_FLIP_Y_WEBGL,this.flipY);var e=this.pixels,n=this.mipLevel,l=this.width,i=this.height,h=this.format,f=!1;if(e==null)s.texImage2D(s.TEXTURE_2D,n,h,l,i,0,h,s.UNSIGNED_BYTE,null),f=p(l,i);else if(e.compressed){l=e.width,i=e.height,f=e.generateMipmap;for(var c=0;c<e.mipmaps.length;c++)s.compressedTexImage2D(s.TEXTURE_2D,c,e.internalFormat,e.mipmaps[c].width,e.mipmaps[c].height,0,e.mipmaps[c].data)}else e instanceof Uint8Array?(s.texImage2D(s.TEXTURE_2D,n,h,l,i,0,h,s.UNSIGNED_BYTE,e),f=p(l,i)):(this.forceSize||(l=e.width,i=e.height),s.texImage2D(s.TEXTURE_2D,n,h,h,s.UNSIGNED_BYTE,e),f=p(l,i));f&&s.generateMipmap(s.TEXTURE_2D),r?s.bindTexture(s.TEXTURE_2D,r):s.bindTexture(s.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(s){this.__SPECTOR_Metadata=s,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=s)}},destroy:function(){this.webGLTexture!==null&&(this.gl.isContextLost()||this.pixels instanceof o||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});u.exports=o},57183:(u,m,t)=>{var a=t(83419),p=new a({initialize:function(s,r,e){this.webGLUniformLocation=null,this.gl=s,this.program=r,this.name=e,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var o=this.gl;o.isContextLost()||(this.webGLUniformLocation=o.getUniformLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});u.exports=p},9503:(u,m,t)=>{var a={WebGLAttribLocationWrapper:t(93567),WebGLBufferWrapper:t(26128),WebGLProgramWrapper:t(1482),WebGLTextureWrapper:t(82751),WebGLFramebufferWrapper:t(84387),WebGLUniformLocationWrapper:t(57183)};u.exports=a},76531:(u,m,t)=>{var a=t(13560),p=t(83419),o=t(45319),s=t(50792),r=t(97480),e=t(8443),n=t(57811),l=t(74403),i=t(45818),h=t(29747),f=t(87841),c=t(86555),d=t(56583),v=t(26099),g=t(38058),y=new p({Extends:s,initialize:function(T){s.call(this),this.game=T,this.canvas,this.canvasBounds=new f,this.parent=null,this.parentIsWindow=!1,this.parentSize=new c,this.gameSize=new c,this.baseSize=new c,this.displaySize=new c,this.scaleMode=a.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new v(1,1),this.autoRound=!1,this.autoCenter=a.CENTER.NO_CENTER,this.orientation=a.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:h,windowResize:h,fullScreenChange:h,fullScreenError:h}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(e.BOOT,this.boot,this)},boot:function(){var x=this.game;this.canvas=x.canvas,this.fullscreen=x.device.fullscreen;var T=this.scaleMode;T!==a.SCALE_MODE.RESIZE&&T!==a.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(T),T===a.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),x.events.on(e.PRE_STEP,this.step,this),x.events.once(e.READY,this.refresh,this),x.events.once(e.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(x){this.getParent(x),this.getParentBounds();var T=x.width,S=x.height,A=x.scaleMode,P=x.zoom,D=x.autoRound;if(typeof T=="string")if(T.substr(-1)!=="%")T=parseInt(T,10);else{var R=this.parentSize.width;R===0&&(R=window.innerWidth);var L=parseInt(T,10)/100;T=Math.floor(R*L)}if(typeof S=="string")if(S.substr(-1)!=="%")S=parseInt(S,10);else{var I=this.parentSize.height;I===0&&(I=window.innerHeight);var w=parseInt(S,10)/100;S=Math.floor(I*w)}this.scaleMode=A,this.autoRound=D,this.autoCenter=x.autoCenter,this.resizeInterval=x.resizeInterval,D&&(T=Math.floor(T),S=Math.floor(S)),this.gameSize.setSize(T,S),P===a.ZOOM.MAX_ZOOM&&(P=this.getMaxZoom()),this.zoom=P,P!==1&&(this._resetZoom=!0),this.baseSize.setSize(T,S),D&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),x.minWidth>0&&this.displaySize.setMin(x.minWidth*P,x.minHeight*P),x.maxWidth>0&&this.displaySize.setMax(x.maxWidth*P,x.maxHeight*P),this.displaySize.setSize(T,S),(x.snapWidth>0||x.snapHeight>0)&&this.displaySize.setSnap(x.snapWidth,x.snapHeight),this.orientation=i(T,S)},getParent:function(x){var T=x.parent;if(T!==null){if(this.parent=l(T),this.parentIsWindow=this.parent===document.body,x.expandParent&&x.scaleMode!==a.SCALE_MODE.NONE){var S=this.parent.getBoundingClientRect();(this.parentIsWindow||S.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",S=this.parent.getBoundingClientRect(),!this.parentIsWindow&&S.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}x.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=l(x.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var x=this.parentSize,T=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(T.height=n(!0));var S=T.width,A=T.height;if(x.width!==S||x.height!==A)return x.setSize(S,A),!0;if(this.canvas){var P=this.canvasBounds,D=this.canvas.getBoundingClientRect();if(D.x!==P.x||D.y!==P.y)return!0}return!1},lockOrientation:function(x){var T=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return T?T.call(screen,x):!1},setParentSize:function(x,T){return this.parentSize.setSize(x,T),this.refresh()},setGameSize:function(x,T){var S=this.autoRound;S&&(x=Math.floor(x),T=Math.floor(T));var A=this.width,P=this.height;return this.gameSize.resize(x,T),this.baseSize.resize(x,T),S&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(x/T),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(A,P)},resize:function(x,T){var S=this.zoom,A=this.autoRound;A&&(x=Math.floor(x),T=Math.floor(T));var P=this.width,D=this.height;this.gameSize.resize(x,T),this.baseSize.resize(x,T),A&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(x*S,T*S),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var R=this.canvas.style,L=x*S,I=T*S;return A&&(L=Math.floor(L),I=Math.floor(I)),(L!==x||I!==T)&&(R.width=L+"px",R.height=I+"px"),this.refresh(P,D)},setZoom:function(x){return this.zoom=x,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(x,T){return x===void 0&&(x=0),T===void 0&&(T=x),this.displaySize.setSnap(x,T),this.refresh()},refresh:function(x,T){x===void 0&&(x=this.width),T===void 0&&(T=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var S=this.game.domContainer;if(S){this.baseSize.setCSS(S);var A=this.canvas.style,P=S.style;P.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",P.marginLeft=A.marginLeft,P.marginTop=A.marginTop}return this.emit(r.RESIZE,this.gameSize,this.baseSize,this.displaySize,x,T),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var x=i(this.width,this.height);x!==this.orientation&&(this.orientation=x,this.emit(r.ORIENTATION_CHANGE,x))}},updateScale:function(){var x=this.canvas.style,T=this.gameSize.width,S=this.gameSize.height,A,P,D=this.zoom,R=this.autoRound;if(this.scaleMode===a.SCALE_MODE.NONE)this.displaySize.setSize(T*D,S*D),A=this.displaySize.width,P=this.displaySize.height,R&&(A=Math.floor(A),P=Math.floor(P)),this._resetZoom&&(x.width=A+"px",x.height=P+"px",this._resetZoom=!1);else if(this.scaleMode===a.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),A=this.displaySize.width,P=this.displaySize.height,R&&(A=Math.floor(A),P=Math.floor(P)),this.canvas.width=A,this.canvas.height=P;else if(this.scaleMode===a.SCALE_MODE.EXPAND){var L=this.game.config.width,I=this.game.config.height,w=this.parentSize.width,B=this.parentSize.height,b=w/L,V=B/I,X,G;b<V?(X=L,G=b!==0?B/b:I):(X=V!==0?w/V:L,G=I);var U=o(X,this.displaySize.minWidth,this.displaySize.maxWidth),O=o(G,this.displaySize.minHeight,this.displaySize.maxHeight);this.baseSize.setSize(U,O),this.gameSize.setSize(U,O),R&&(U=Math.floor(U),O=Math.floor(O)),this.canvas.width=U,this.canvas.height=O;var z=w*(U/X),N=B*(O/G);this.displaySize.setSize(z,N),A=this.displaySize.width,P=this.displaySize.height,R&&(A=Math.floor(A),P=Math.floor(P)),x.width=A+"px",x.height=P+"px"}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),A=this.displaySize.width,P=this.displaySize.height,R&&(A=Math.floor(A),P=Math.floor(P)),x.width=A+"px",x.height=P+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var x=d(this.parentSize.width,this.gameSize.width,0,!0),T=d(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(x,T),1)},updateCenter:function(){var x=this.autoCenter;if(x!==a.CENTER.NO_CENTER){var T=this.canvas,S=T.style,A=T.getBoundingClientRect(),P=A.width,D=A.height,R=Math.floor((this.parentSize.width-P)/2),L=Math.floor((this.parentSize.height-D)/2);x===a.CENTER.CENTER_HORIZONTALLY?L=0:x===a.CENTER.CENTER_VERTICALLY&&(R=0),S.marginLeft=R+"px",S.marginTop=L+"px"}},updateBounds:function(){var x=this.canvasBounds,T=this.canvas.getBoundingClientRect();x.x=T.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),x.y=T.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),x.width=T.width,x.height=T.height},transformX:function(x){return(x-this.canvasBounds.left)*this.displayScale.x},transformY:function(x){return(x-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(x){x===void 0&&(x={navigationUI:"hide"});var T=this.fullscreen;if(!T.available){this.emit(r.FULLSCREEN_UNSUPPORTED);return}if(!T.active){var S=this.getFullscreenTarget();T.keyboard?S[T.request](Element.ALLOW_KEYBOARD_INPUT):S[T.request](x)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(r.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(x){this.removeFullscreenTarget(),this.emit(r.FULLSCREEN_FAILED,x)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var x=document.createElement("div");x.style.margin="0",x.style.padding="0",x.style.width="100%",x.style.height="100%",this.fullscreenTarget=x,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var T=this.canvas.parentNode;T.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var x=this.fullscreenTarget;if(x&&x.parentNode){var T=x.parentNode;T.insertBefore(this.canvas,x),T.removeChild(x)}}},stopFullscreen:function(){var x=this.fullscreen;if(!x.available)return this.emit(r.FULLSCREEN_UNSUPPORTED),!1;x.active&&document[x.cancel](),this.removeFullscreenTarget()},leaveFullScreenSuccessHandler:function(){this.getParentBounds(),this.emit(r.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(x){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(x)},startListeners:function(){var x=this,T=this.domlisteners;if(T.orientationChange=function(){x.updateBounds(),x._checkOrientation=!0,x.dirty=!0,x.refresh()},T.windowResize=function(){x.updateBounds(),x.dirty=!0},screen.orientation&&screen.orientation.addEventListener?screen.orientation.addEventListener("change",T.orientationChange,!1):window.addEventListener("orientationchange",T.orientationChange,!1),window.addEventListener("resize",T.windowResize,!1),this.fullscreen.available){T.fullScreenChange=function(A){return x.onFullScreenChange(A)},T.fullScreenError=function(A){return x.onFullScreenError(A)};var S=["webkit","moz",""];S.forEach(function(A){document.addEventListener(A+"fullscreenchange",T.fullScreenChange,!1),document.addEventListener(A+"fullscreenerror",T.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",T.fullScreenChange,!1),document.addEventListener("MSFullscreenError",T.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():(this.stopFullscreen(),this.leaveFullScreenSuccessHandler())},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(x,T){x instanceof g||(T=x,x=void 0),T===void 0&&(T=new f);var S=this.baseSize,A=this.parentSize,P=this.canvasBounds,D=this.displayScale,R=P.x>=0?0:-(P.x*D.x),L=P.y>=0?0:-(P.y*D.y),I;A.width>=P.width?I=S.width:I=S.width-(P.width-A.width)*D.x;var w;return A.height>=P.height?w=S.height:w=S.height-(P.height-A.height)*D.y,T.setTo(R,L,I,w),x&&(T.width/=x.zoomX,T.height/=x.zoomY,T.centerX=x.centerX+x.scrollX,T.centerY=x.centerY+x.scrollY),T},step:function(x,T){this.parent&&(this._lastCheck+=T,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var x=this.domlisteners;screen.orientation&&screen.orientation.addEventListener?screen.orientation.removeEventListener("change",x.orientationChange,!1):window.removeEventListener("orientationchange",x.orientationChange,!1),window.removeEventListener("resize",x.windowResize,!1);var T=["webkit","moz",""];T.forEach(function(S){document.removeEventListener(S+"fullscreenchange",x.fullScreenChange,!1),document.removeEventListener(S+"fullscreenerror",x.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",x.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",x.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===a.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===a.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});u.exports=y},64743:u=>{u.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:u=>{u.exports={LANDSCAPE:"landscape-primary",LANDSCAPE_SECONDARY:"landscape-secondary",PORTRAIT:"portrait-primary",PORTRAIT_SECONDARY:"portrait-secondary"}},81050:u=>{u.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:u=>{u.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(u,m,t)=>{var a={CENTER:t(64743),ORIENTATION:t(39218),SCALE_MODE:t(81050),ZOOM:t(80805)};u.exports=a},56139:u=>{u.exports="enterfullscreen"},2336:u=>{u.exports="fullscreenfailed"},47412:u=>{u.exports="fullscreenunsupported"},51452:u=>{u.exports="leavefullscreen"},20666:u=>{u.exports="orientationchange"},47945:u=>{u.exports="resize"},97480:(u,m,t)=>{u.exports={ENTER_FULLSCREEN:t(56139),FULLSCREEN_FAILED:t(2336),FULLSCREEN_UNSUPPORTED:t(47412),LEAVE_FULLSCREEN:t(51452),ORIENTATION_CHANGE:t(20666),RESIZE:t(47945)}},93364:(u,m,t)=>{var a=t(79291),p=t(13560),o={Center:t(64743),Events:t(97480),Orientation:t(39218),ScaleManager:t(76531),ScaleModes:t(81050),Zoom:t(80805)};o=a(!1,o,p.CENTER),o=a(!1,o,p.ORIENTATION),o=a(!1,o,p.SCALE_MODE),o=a(!1,o,p.ZOOM),u.exports=o},27397:(u,m,t)=>{var a=t(95540),p=t(35355),o=function(s){var r=s.game.config.defaultPhysicsSystem,e=a(s.settings,"physics",!1);if(!(!r&&!e)){var n=[];if(r&&n.push(p(r+"Physics")),e)for(var l in e)l=p(l.concat("Physics")),n.indexOf(l)===-1&&n.push(l);return n}};u.exports=o},52106:(u,m,t)=>{var a=t(95540),p=function(o){var s=o.plugins.getDefaultScenePlugins(),r=a(o.settings,"plugins",!1);return Array.isArray(r)?r:s||[]};u.exports=p},87033:u=>{var m={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};u.exports=m},97482:(u,m,t)=>{var a=t(83419),p=t(2368),o=new a({initialize:function(r){this.sys=new p(this,r),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});u.exports=o},60903:(u,m,t)=>{var a=t(83419),p=t(89993),o=t(44594),s=t(8443),r=t(35154),e=t(54899),n=t(29747),l=t(97482),i=t(2368),h=new a({initialize:function(c,d){if(this.game=c,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,d){Array.isArray(d)||(d=[d]);for(var v=0;v<d.length;v++)this._pending.push({key:"default",scene:d[v],autoStart:v===0,data:{}})}c.events.once(s.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new l),this.game.events.emit(s.SYSTEM_READY,this.systemScene,this);var f,c,d,v;for(f=0;f<this._pending.length;f++){c=this._pending[f],d=c.key,v=c.scene;var g;v instanceof l?g=this.createSceneFromInstance(d,v):typeof v=="object"?g=this.createSceneFromObject(d,v):typeof v=="function"&&(g=this.createSceneFromFunction(d,v)),d=g.sys.settings.key,this.keys[d]=g,this.scenes.push(g),this._data[d]&&(g.sys.settings.data=this._data[d].data,this._data[d].autoStart&&(c.autoStart=!0)),(c.autoStart||g.sys.settings.active)&&this._start.push(d)}for(this._pending.length=0,this._data={},this.isBooted=!0,f=0;f<this._start.length;f++)c=this._start[f],this.start(c);this._start.length=0}},processQueue:function(){var f=this._pending.length,c=this._queue.length;if(!(f===0&&c===0)){var d,v;if(f){for(d=0;d<f;d++)v=this._pending[d],this.add(v.key,v.scene,v.autoStart,v.data);for(d=0;d<this._start.length;d++)v=this._start[d],this.start(v);this._start.length=0,this._pending.length=0}for(d=0;d<this._queue.length;d++)v=this._queue[d],this[v.op](v.keyA,v.keyB,v.data);this._queue.length=0}},add:function(f,c,d,v){if(d===void 0&&(d=!1),v===void 0&&(v={}),this.isProcessing||!this.isBooted)return this._pending.push({key:f,scene:c,autoStart:d,data:v}),this.isBooted||(this._data[f]={data:v}),null;f=this.getKey(f,c);var g;return c instanceof l?g=this.createSceneFromInstance(f,c):typeof c=="object"?(c.key=f,g=this.createSceneFromObject(f,c)):typeof c=="function"&&(g=this.createSceneFromFunction(f,c)),g.sys.settings.data=v,f=g.sys.settings.key,this.keys[f]=g,this.scenes.push(g),(d||g.sys.settings.active)&&(this._pending.length?this._start.push(f):this.start(f)),g},remove:function(f){if(this.isProcessing)return this.queueOp("remove",f);var c=this.getScene(f);if(!c||c.sys.isTransitioning())return this;var d=this.scenes.indexOf(c),v=c.sys.settings.key;return d>-1&&(delete this.keys[v],this.scenes.splice(d,1),this._start.indexOf(v)>-1&&(d=this._start.indexOf(v),this._start.splice(d,1)),c.sys.destroy()),this},bootScene:function(f){var c=f.sys,d=c.settings;c.sceneUpdate=n,f.init&&(f.init.call(f,d.data),d.status=p.INIT,d.isTransition&&c.events.emit(o.TRANSITION_INIT,d.transitionFrom,d.transitionDuration));var v;c.load&&(v=c.load,v.reset()),v&&f.preload?(f.preload.call(f),d.status=p.LOADING,v.once(e.COMPLETE,this.loadComplete,this),v.start()):this.create(f)},loadComplete:function(f){this.create(f.scene)},payloadComplete:function(f){this.bootScene(f.scene)},update:function(f,c){this.processQueue(),this.isProcessing=!0;for(var d=this.scenes.length-1;d>=0;d--){var v=this.scenes[d].sys;v.settings.status>p.START&&v.settings.status<=p.RUNNING&&v.step(f,c),v.scenePlugin&&v.scenePlugin._target&&v.scenePlugin.step(f,c)}},render:function(f){for(var c=0;c<this.scenes.length;c++){var d=this.scenes[c].sys;d.settings.visible&&d.settings.status>=p.LOADING&&d.settings.status<p.SLEEPING&&d.render(f)}this.isProcessing=!1},create:function(f){var c=f.sys,d=c.settings;f.create&&(d.status=p.CREATING,f.create.call(f,d.data),d.status===p.DESTROYED)||(d.isTransition&&c.events.emit(o.TRANSITION_START,d.transitionFrom,d.transitionDuration),f.update&&(c.sceneUpdate=f.update),d.status=p.RUNNING,c.events.emit(o.CREATE,f))},createSceneFromFunction:function(f,c){var d=new c;if(d instanceof l){var v=d.sys.settings.key;if(v!==""&&(f=v),this.keys.hasOwnProperty(f))throw new Error("Cannot add Scene with duplicate key: "+f);return this.createSceneFromInstance(f,d)}else return d.sys=new i(d),d.sys.settings.key=f,d.sys.init(this.game),d},createSceneFromInstance:function(f,c){var d=c.sys.settings.key;return d===""&&(c.sys.settings.key=f),c.sys.init(this.game),c},createSceneFromObject:function(f,c){var d=new l(c),v=d.sys.settings.key;v!==""?f=v:d.sys.settings.key=f,d.sys.init(this.game);for(var g=["init","preload","create","update","render"],y=0;y<g.length;y++){var x=r(c,g[y],null);x&&(d[g[y]]=x)}if(c.hasOwnProperty("extend")){for(var T in c.extend)if(c.extend.hasOwnProperty(T)){var S=c.extend[T];T==="data"&&d.hasOwnProperty("data")&&typeof S=="object"?d.data.merge(S):T!=="sys"&&(d[T]=S)}}return d},getKey:function(f,c){if(f||(f="default"),typeof c=="function")return f;if(c instanceof l?f=c.sys.settings.key:typeof c=="object"&&c.hasOwnProperty("key")&&(f=c.key),this.keys.hasOwnProperty(f))throw new Error("Cannot add Scene with duplicate key: "+f);return f},getScenes:function(f,c){f===void 0&&(f=!0),c===void 0&&(c=!1);for(var d=[],v=this.scenes,g=0;g<v.length;g++){var y=v[g];y&&(!f||f&&y.sys.isActive())&&d.push(y)}return c?d.reverse():d},getScene:function(f){if(typeof f=="string"){if(this.keys[f])return this.keys[f]}else for(var c=0;c<this.scenes.length;c++)if(f===this.scenes[c])return f;return null},isActive:function(f){var c=this.getScene(f);return c?c.sys.isActive():null},isPaused:function(f){var c=this.getScene(f);return c?c.sys.isPaused():null},isVisible:function(f){var c=this.getScene(f);return c?c.sys.isVisible():null},isSleeping:function(f){var c=this.getScene(f);return c?c.sys.isSleeping():null},pause:function(f,c){var d=this.getScene(f);return d&&d.sys.pause(c),this},resume:function(f,c){var d=this.getScene(f);return d&&d.sys.resume(c),this},sleep:function(f,c){var d=this.getScene(f);return d&&!d.sys.isTransitioning()&&d.sys.sleep(c),this},wake:function(f,c){var d=this.getScene(f);return d&&d.sys.wake(c),this},run:function(f,c){var d=this.getScene(f);if(!d){for(var v=0;v<this._pending.length;v++)if(this._pending[v].key===f){this.queueOp("start",f,c);break}return this}d.sys.isSleeping()?d.sys.wake(c):d.sys.isPaused()?d.sys.resume(c):this.start(f,c)},start:function(f,c){if(!this.isBooted)return this._data[f]={autoStart:!0,data:c},this;var d=this.getScene(f);if(!d)return console.warn("Scene key not found: "+f),this;var v=d.sys,g=v.settings.status;if(g>=p.START&&g<=p.CREATING)return this;if(g>=p.RUNNING&&g<=p.SLEEPING)v.shutdown(),v.sceneUpdate=n,v.start(c);else{v.sceneUpdate=n,v.start(c);var y;if(v.load&&(y=v.load),y&&v.settings.hasOwnProperty("pack")&&(y.reset(),y.addPack({payload:v.settings.pack})))return v.settings.status=p.LOADING,y.once(e.COMPLETE,this.payloadComplete,this),y.start(),this}return this.bootScene(d),this},stop:function(f,c){var d=this.getScene(f);if(d&&!d.sys.isTransitioning()&&d.sys.settings.status!==p.SHUTDOWN){var v=d.sys.load;v&&(v.off(e.COMPLETE,this.loadComplete,this),v.off(e.COMPLETE,this.payloadComplete,this)),d.sys.shutdown(c)}return this},switch:function(f,c,d){var v=this.getScene(f),g=this.getScene(c);return v&&g&&v!==g&&(this.sleep(f),this.isSleeping(c)?this.wake(c,d):this.start(c,d)),this},getAt:function(f){return this.scenes[f]},getIndex:function(f){var c=this.getScene(f);return this.scenes.indexOf(c)},bringToTop:function(f){if(this.isProcessing)return this.queueOp("bringToTop",f);var c=this.getIndex(f),d=this.scenes;if(c!==-1&&c<d.length){var v=this.getScene(f);d.splice(c,1),d.push(v)}return this},sendToBack:function(f){if(this.isProcessing)return this.queueOp("sendToBack",f);var c=this.getIndex(f);if(c!==-1&&c>0){var d=this.getScene(f);this.scenes.splice(c,1),this.scenes.unshift(d)}return this},moveDown:function(f){if(this.isProcessing)return this.queueOp("moveDown",f);var c=this.getIndex(f);if(c>0){var d=c-1,v=this.getScene(f),g=this.getAt(d);this.scenes[c]=g,this.scenes[d]=v}return this},moveUp:function(f){if(this.isProcessing)return this.queueOp("moveUp",f);var c=this.getIndex(f);if(c<this.scenes.length-1){var d=c+1,v=this.getScene(f),g=this.getAt(d);this.scenes[c]=g,this.scenes[d]=v}return this},moveAbove:function(f,c){if(f===c)return this;if(this.isProcessing)return this.queueOp("moveAbove",f,c);var d=this.getIndex(f),v=this.getIndex(c);if(d!==-1&&v!==-1&&v<d){var g=this.getAt(v);this.scenes.splice(v,1),this.scenes.splice(d+(v>d),0,g)}return this},moveBelow:function(f,c){if(f===c)return this;if(this.isProcessing)return this.queueOp("moveBelow",f,c);var d=this.getIndex(f),v=this.getIndex(c);if(d!==-1&&v!==-1&&v>d){var g=this.getAt(v);this.scenes.splice(v,1),d===0?this.scenes.unshift(g):this.scenes.splice(d-(v<d),0,g)}return this},queueOp:function(f,c,d,v){return this._queue.push({op:f,keyA:c,keyB:d,data:v}),this},swapPosition:function(f,c){if(f===c)return this;if(this.isProcessing)return this.queueOp("swapPosition",f,c);var d=this.getIndex(f),v=this.getIndex(c);if(d!==v&&d!==-1&&v!==-1){var g=this.getAt(d);this.scenes[d]=this.scenes[v],this.scenes[v]=g}return this},dump:function(){for(var f=[],c=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],d=0;d<this.scenes.length;d++){var v=this.scenes[d].sys,g=v.settings.visible&&(v.settings.status===p.RUNNING||v.settings.status===p.PAUSED)?"[*] ":"[-] ";g+=v.settings.key+" ("+c[v.settings.status]+")",f.push(g)}console.log(f.join(`
`))},destroy:function(){for(var f=0;f<this.scenes.length;f++){var c=this.scenes[f].sys;c.destroy()}this.systemScene.sys.destroy(),this.update=n,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});u.exports=h},52209:(u,m,t)=>{var a=t(45319),p=t(83419),o=t(44594),s=t(95540),r=t(37277),e=new p({initialize:function(l){this.scene=l,this.systems=l.sys,this.settings=l.sys.settings,this.key=l.sys.settings.key,this.manager=l.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,l.sys.events.once(o.BOOT,this.boot,this),l.sys.events.on(o.START,this.pluginStart,this)},boot:function(){this.systems.events.once(o.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(o.SHUTDOWN,this.shutdown,this)},start:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",n,l),this},restart:function(n){var l=this.key;return this.manager.queueOp("stop",l),this.manager.queueOp("start",l,n),this},transition:function(n){n===void 0&&(n={});var l=s(n,"target",!1),i=this.manager.getScene(l);if(!l||!this.checkValidTransition(i))return!1;var h=s(n,"duration",1e3);this._elapsed=0,this._target=i,this._duration=h,this._willSleep=s(n,"sleep",!1),this._willRemove=s(n,"remove",!1);var f=s(n,"onUpdate",null);f&&(this._onUpdate=f,this._onUpdateScope=s(n,"onUpdateScope",this.scene));var c=s(n,"allowInput",!1);this.settings.transitionAllowInput=c;var d=i.sys.settings;d.isTransition=!0,d.transitionFrom=this.scene,d.transitionDuration=h,d.transitionAllowInput=c,s(n,"moveAbove",!1)?this.manager.moveAbove(this.key,l):s(n,"moveBelow",!1)&&this.manager.moveBelow(this.key,l),i.sys.isSleeping()?i.sys.wake(s(n,"data")):this.manager.start(l,s(n,"data"));var v=s(n,"onStart",null),g=s(n,"onStartScope",this.scene);return v&&v.call(g,this.scene,i,h),this.systems.events.emit(o.TRANSITION_OUT,i,h),!0},checkValidTransition:function(n){return!(!n||n.sys.isActive()||n.sys.isTransitioning()||n===this.scene||this.systems.isTransitioning())},step:function(n,l){this._elapsed+=l,this.transitionProgress=a(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var n=this._target.sys,l=this._target.sys.settings;n.events.emit(o.TRANSITION_COMPLETE,this.scene),l.isTransition=!1,l.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(n,l,i,h){return this.manager.add(n,l,i,h)},launch:function(n,l){return n&&n!==this.key&&this.manager.queueOp("start",n,l),this},run:function(n,l){return n&&n!==this.key&&this.manager.queueOp("run",n,l),this},pause:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("pause",n,l),this},resume:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("resume",n,l),this},sleep:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("sleep",n,l),this},wake:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("wake",n,l),this},switch:function(n,l){return n!==this.key&&this.manager.queueOp("switch",this.key,n,l),this},stop:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("stop",n,l),this},setActive:function(n,l,i){l===void 0&&(l=this.key);var h=this.manager.getScene(l);return h&&h.sys.setActive(n,i),this},setVisible:function(n,l){l===void 0&&(l=this.key);var i=this.manager.getScene(l);return i&&i.sys.setVisible(n),this},isSleeping:function(n){return n===void 0&&(n=this.key),this.manager.isSleeping(n)},isActive:function(n){return n===void 0&&(n=this.key),this.manager.isActive(n)},isPaused:function(n){return n===void 0&&(n=this.key),this.manager.isPaused(n)},isVisible:function(n){return n===void 0&&(n=this.key),this.manager.isVisible(n)},swapPosition:function(n,l){return l===void 0&&(l=this.key),n!==l&&this.manager.swapPosition(n,l),this},moveAbove:function(n,l){return l===void 0&&(l=this.key),n!==l&&this.manager.moveAbove(n,l),this},moveBelow:function(n,l){return l===void 0&&(l=this.key),n!==l&&this.manager.moveBelow(n,l),this},remove:function(n){return n===void 0&&(n=this.key),this.manager.remove(n),this},moveUp:function(n){return n===void 0&&(n=this.key),this.manager.moveUp(n),this},moveDown:function(n){return n===void 0&&(n=this.key),this.manager.moveDown(n),this},bringToTop:function(n){return n===void 0&&(n=this.key),this.manager.bringToTop(n),this},sendToBack:function(n){return n===void 0&&(n=this.key),this.manager.sendToBack(n),this},get:function(n){return this.manager.getScene(n)},getStatus:function(n){var l=this.manager.getScene(n);if(l)return l.sys.getStatus()},getIndex:function(n){return n===void 0&&(n=this.key),this.manager.getIndex(n)},shutdown:function(){var n=this.systems.events;n.off(o.SHUTDOWN,this.shutdown,this),n.off(o.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(o.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});r.register("ScenePlugin",e,"scenePlugin"),u.exports=e},55681:(u,m,t)=>{var a=t(89993),p=t(35154),o=t(46975),s=t(87033),r={create:function(e){return typeof e=="string"?e={key:e}:e===void 0&&(e={}),{status:a.PENDING,key:p(e,"key",""),active:p(e,"active",!1),visible:p(e,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:p(e,"pack",!1),cameras:p(e,"cameras",null),map:p(e,"map",o(s,p(e,"mapAdd",{}))),physics:p(e,"physics",{}),loader:p(e,"loader",{}),plugins:p(e,"plugins",!1),input:p(e,"input",{})}}};u.exports=r},2368:(u,m,t)=>{var a=t(83419),p=t(89993),o=t(42363),s=t(44594),r=t(27397),e=t(52106),n=t(29747),l=t(55681),i=new a({initialize:function(f,c){this.scene=f,this.game,this.renderer,this.config=c,this.settings=l.create(c),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=n},init:function(h){this.settings.status=p.INIT,this.sceneUpdate=n,this.game=h,this.renderer=h.renderer,this.canvas=h.canvas,this.context=h.context;var f=h.plugins;this.plugins=f,f.addToScene(this,o.Global,[o.CoreScene,e(this),r(this)]),this.events.emit(s.BOOT,this),this.settings.isBooted=!0},step:function(h,f){var c=this.events;c.emit(s.PRE_UPDATE,h,f),c.emit(s.UPDATE,h,f),this.sceneUpdate.call(this.scene,h,f),c.emit(s.POST_UPDATE,h,f)},render:function(h){var f=this.displayList;f.depthSort(),this.events.emit(s.PRE_RENDER,h),this.cameras.render(h,f),this.events.emit(s.RENDER,h)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(h){var f=this.settings,c=this.getStatus();return c!==p.CREATING&&c!==p.RUNNING?console.warn("Cannot pause non-running Scene",f.key):this.settings.active&&(f.status=p.PAUSED,f.active=!1,this.events.emit(s.PAUSE,this,h)),this},resume:function(h){var f=this.events,c=this.settings;return this.settings.active||(c.status=p.RUNNING,c.active=!0,f.emit(s.RESUME,this,h)),this},sleep:function(h){var f=this.settings,c=this.getStatus();return c!==p.CREATING&&c!==p.RUNNING?console.warn("Cannot sleep non-running Scene",f.key):(f.status=p.SLEEPING,f.active=!1,f.visible=!1,this.events.emit(s.SLEEP,this,h)),this},wake:function(h){var f=this.events,c=this.settings;return c.status=p.RUNNING,c.active=!0,c.visible=!0,f.emit(s.WAKE,this,h),c.isTransition&&f.emit(s.TRANSITION_WAKE,c.transitionFrom,c.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var h=this.settings.status;return h>p.PENDING&&h<=p.RUNNING},isSleeping:function(){return this.settings.status===p.SLEEPING},isActive:function(){return this.settings.status===p.RUNNING},isPaused:function(){return this.settings.status===p.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(h){return this.settings.visible=h,this},setActive:function(h,f){return h?this.resume(f):this.pause(f)},start:function(h){var f=this.events,c=this.settings;h&&(c.data=h),c.status=p.START,c.active=!0,c.visible=!0,f.emit(s.START,this),f.emit(s.READY,this,h)},shutdown:function(h){var f=this.events,c=this.settings;f.off(s.TRANSITION_INIT),f.off(s.TRANSITION_START),f.off(s.TRANSITION_COMPLETE),f.off(s.TRANSITION_OUT),c.status=p.SHUTDOWN,c.active=!1,c.visible=!1,f.emit(s.SHUTDOWN,this,h)},destroy:function(){var h=this.events,f=this.settings;f.status=p.DESTROYED,f.active=!1,f.visible=!1,h.emit(s.DESTROY,this),h.removeAllListeners();for(var c=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],d=0;d<c.length;d++)this[c[d]]=null}});u.exports=i},89993:u=>{var m={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};u.exports=m},69830:u=>{u.exports="addedtoscene"},7919:u=>{u.exports="boot"},46763:u=>{u.exports="create"},11763:u=>{u.exports="destroy"},71555:u=>{u.exports="pause"},36735:u=>{u.exports="postupdate"},3809:u=>{u.exports="prerender"},90716:u=>{u.exports="preupdate"},58262:u=>{u.exports="ready"},91633:u=>{u.exports="removedfromscene"},10319:u=>{u.exports="render"},87132:u=>{u.exports="resume"},81961:u=>{u.exports="shutdown"},90194:u=>{u.exports="sleep"},6265:u=>{u.exports="start"},33178:u=>{u.exports="transitioncomplete"},43063:u=>{u.exports="transitioninit"},11259:u=>{u.exports="transitionout"},61611:u=>{u.exports="transitionstart"},45209:u=>{u.exports="transitionwake"},22966:u=>{u.exports="update"},21747:u=>{u.exports="wake"},44594:(u,m,t)=>{u.exports={ADDED_TO_SCENE:t(69830),BOOT:t(7919),CREATE:t(46763),DESTROY:t(11763),PAUSE:t(71555),POST_UPDATE:t(36735),PRE_RENDER:t(3809),PRE_UPDATE:t(90716),READY:t(58262),REMOVED_FROM_SCENE:t(91633),RENDER:t(10319),RESUME:t(87132),SHUTDOWN:t(81961),SLEEP:t(90194),START:t(6265),TRANSITION_COMPLETE:t(33178),TRANSITION_INIT:t(43063),TRANSITION_OUT:t(11259),TRANSITION_START:t(61611),TRANSITION_WAKE:t(45209),UPDATE:t(22966),WAKE:t(21747)}},62194:(u,m,t)=>{var a=t(89993),p=t(79291),o={Events:t(44594),GetPhysicsPlugins:t(27397),GetScenePlugins:t(52106),SceneManager:t(60903),ScenePlugin:t(52209),Settings:t(55681),Systems:t(2368)};o=p(!1,o,a),u.exports=o},30341:(u,m,t)=>{var a=t(83419),p=t(50792),o=t(14463),s=t(79291),r=t(29747),e=new a({Extends:p,initialize:function(l,i,h){p.call(this),this.manager=l,this.key=i,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=s(this.config,h),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(n){return!n||!n.name||typeof n.name!="string"?!1:this.markers[n.name]?(console.error("addMarker "+n.name+" already exists in Sound"),!1):(n=s(!0,{name:"",start:0,duration:this.totalDuration-(n.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},n),this.markers[n.name]=n,!0)},updateMarker:function(n){return!n||!n.name||typeof n.name!="string"?!1:this.markers[n.name]?(this.markers[n.name]=s(!0,this.markers[n.name],n),!0):(console.warn("Audio Marker: "+n.name+" missing in Sound: "+this.key),!1)},removeMarker:function(n){var l=this.markers[n];return l?(this.markers[n]=null,l):null},play:function(n,l){if(n===void 0&&(n=""),typeof n=="object"&&(l=n,n=""),typeof n!="string")return!1;if(!n)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[n])return console.warn("Marker: "+n+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[n],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=s(this.currentConfig,l),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:r,calculateRate:function(){var n=1.0005777895065548,l=this.currentConfig.detune+this.manager.detune,i=Math.pow(n,l);this.totalRate=this.currentConfig.rate*this.manager.rate*i},destroy:function(){this.pendingRemove||(this.stop(),this.emit(o.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});u.exports=e},85034:(u,m,t)=>{var a=t(83419),p=t(41786),o=t(50792),s=t(14463),r=t(8443),e=t(46710),n=t(58731),l=t(29747),i=t(26099),h=new a({Extends:o,initialize:function(c){o.call(this),this.game=c,this.jsonCache=c.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new i;var d=c.events;d.on(r.BLUR,this.onGameBlur,this),d.on(r.FOCUS,this.onGameFocus,this),d.on(r.PRE_STEP,this.update,this),d.once(r.DESTROY,this.destroy,this)},add:l,addAudioSprite:function(f,c){c===void 0&&(c={});var d=this.add(f,c);d.spritemap=this.jsonCache.get(f).spritemap;for(var v in d.spritemap)if(d.spritemap.hasOwnProperty(v)){var g=p(c),y=d.spritemap[v];g.loop=y.hasOwnProperty("loop")?y.loop:!1,d.addMarker({name:v,start:y.start,duration:y.end-y.start,config:g})}return d},get:function(f){return n(this.sounds,"key",f)},getAll:function(f){return f?e(this.sounds,"key",f):e(this.sounds)},getAllPlaying:function(){return e(this.sounds,"isPlaying",!0)},play:function(f,c){var d=this.add(f);return d.once(s.COMPLETE,d.destroy,d),c?c.name?(d.addMarker(c),d.play(c.name)):d.play(c):d.play()},playAudioSprite:function(f,c,d){var v=this.addAudioSprite(f);return v.once(s.COMPLETE,v.destroy,v),v.play(c,d)},remove:function(f){var c=this.sounds.indexOf(f);return c!==-1?(f.destroy(),this.sounds.splice(c,1),!0):!1},removeAll:function(){this.sounds.forEach(function(f){f.destroy()}),this.sounds.length=0},removeByKey:function(f){for(var c=0,d=this.sounds.length-1;d>=0;d--){var v=this.sounds[d];v.key===f&&(v.destroy(),this.sounds.splice(d,1),c++)}return c},pauseAll:function(){this.forEachActiveSound(function(f){f.pause()}),this.emit(s.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(f){f.resume()}),this.emit(s.RESUME_ALL,this)},setListenerPosition:l,stopAll:function(){this.forEachActiveSound(function(f){f.stop()}),this.emit(s.STOP_ALL,this)},stopByKey:function(f){var c=0;return this.getAll(f).forEach(function(d){d.stop()&&c++}),c},isPlaying:function(f){var c=this.sounds,d=c.length-1,v;if(f===void 0){for(;d>=0;d--)if(v=this.sounds[d],v.isPlaying)return!0}else for(;d>=0;d--)if(v=this.sounds[d],v.key===f&&v.isPlaying)return!0;return!1},unlock:l,onBlur:l,onFocus:l,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(f,c){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(s.UNLOCKED,this));for(var d=this.sounds.length-1;d>=0;d--)this.sounds[d].pendingRemove&&this.sounds.splice(d,1);this.sounds.forEach(function(v){v.update(f,c)})},destroy:function(){this.game.events.off(r.BLUR,this.onGameBlur,this),this.game.events.off(r.FOCUS,this.onGameFocus,this),this.game.events.off(r.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(f,c){var d=this;this.sounds.forEach(function(v,g){v&&!v.pendingRemove&&f.call(c||d,v,g,d.sounds)})},setRate:function(f){return this.rate=f,this},rate:{get:function(){return this._rate},set:function(f){this._rate=f,this.forEachActiveSound(function(c){c.calculateRate()}),this.emit(s.GLOBAL_RATE,this,f)}},setDetune:function(f){return this.detune=f,this},detune:{get:function(){return this._detune},set:function(f){this._detune=f,this.forEachActiveSound(function(c){c.calculateRate()}),this.emit(s.GLOBAL_DETUNE,this,f)}}});u.exports=h},14747:(u,m,t)=>{var a=t(33684),p=t(25960),o=t(57490),s={create:function(r){var e=r.config.audio,n=r.device.audio;return e.noAudio||!n.webAudio&&!n.audioData?new p(r):n.webAudio&&!e.disableWebAudio?new o(r):new a(r)}};u.exports=s},19723:u=>{u.exports="complete"},98882:u=>{u.exports="decodedall"},57506:u=>{u.exports="decoded"},73146:u=>{u.exports="destroy"},11305:u=>{u.exports="detune"},40577:u=>{u.exports="detune"},30333:u=>{u.exports="mute"},20394:u=>{u.exports="rate"},21802:u=>{u.exports="volume"},1299:u=>{u.exports="looped"},99190:u=>{u.exports="loop"},97125:u=>{u.exports="mute"},89259:u=>{u.exports="pan"},79986:u=>{u.exports="pauseall"},17586:u=>{u.exports="pause"},19618:u=>{u.exports="play"},42306:u=>{u.exports="rate"},10387:u=>{u.exports="resumeall"},48959:u=>{u.exports="resume"},9960:u=>{u.exports="seek"},19180:u=>{u.exports="stopall"},98328:u=>{u.exports="stop"},50401:u=>{u.exports="unlocked"},52498:u=>{u.exports="volume"},14463:(u,m,t)=>{u.exports={COMPLETE:t(19723),DECODED:t(57506),DECODED_ALL:t(98882),DESTROY:t(73146),DETUNE:t(11305),GLOBAL_DETUNE:t(40577),GLOBAL_MUTE:t(30333),GLOBAL_RATE:t(20394),GLOBAL_VOLUME:t(21802),LOOP:t(99190),LOOPED:t(1299),MUTE:t(97125),PAN:t(89259),PAUSE_ALL:t(79986),PAUSE:t(17586),PLAY:t(19618),RATE:t(42306),RESUME_ALL:t(10387),RESUME:t(48959),SEEK:t(9960),STOP_ALL:t(19180),STOP:t(98328),UNLOCKED:t(50401),VOLUME:t(52498)}},64895:(u,m,t)=>{var a=t(30341),p=t(83419),o=t(14463),s=t(45319),r=new p({Extends:a,initialize:function(n,l,i){if(i===void 0&&(i={}),this.tags=n.game.cache.audio.get(l),!this.tags)throw new Error('No cached audio asset with key "'+l);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,a.call(this,n,l,i)},play:function(e,n){return this.manager.isLocked(this,"play",[e,n])||!a.prototype.play.call(this,e,n)||!this.pickAndPlayAudioTag()?!1:(this.emit(o.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!a.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(o.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!a.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(o.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!a.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(o.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var e=this.currentConfig.seek,n=this.currentConfig.delay,l=(this.currentMarker?this.currentMarker.start:0)+e;return this.previousTime=l,this.audio.currentTime=l,this.applyConfig(),n===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+n*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var e=0;e<this.tags.length;e++){var n=this.tags[e];if(n.dataset.used==="false")return n.dataset.used="true",this.audio=n,!0}if(!this.manager.override)return!1;var l=[];this.manager.forEachActiveSound(function(h){h.key===this.key&&h.audio&&l.push(h)},this),l.sort(function(h,f){return h.loop===f.loop?f.seek/f.duration-h.seek/h.duration:h.loop?1:-1});var i=l[0];return this.audio=i.audio,i.reset(),i.audio=null,i.startTime=0,i.previousTime=0,!0},playCatchPromise:function(){var e=this.audio.play();e&&e.catch(function(n){console.warn(n)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){a.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(e){if(this.isPlaying){if(this.startTime>0){this.startTime<e-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,e-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var n=this.currentMarker?this.currentMarker.start:0,l=n+this.duration,i=this.audio.currentTime;if(this.currentConfig.loop)i>=l-this.manager.loopEndOffset?(this.audio.currentTime=n+Math.max(0,i-l),i=this.audio.currentTime):i<n&&(this.audio.currentTime+=n,i=this.audio.currentTime),i<this.previousTime&&this.emit(o.LOOPED,this);else if(i>=l){this.reset(),this.stopAndReleaseAudioTag(),this.emit(o.COMPLETE,this);return}this.previousTime=i}},destroy:function(){a.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=s(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){a.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(e){this.currentConfig.mute=e,!this.manager.isLocked(this,"mute",e)&&(this.updateMute(),this.emit(o.MUTE,this,e))}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.currentConfig.volume},set:function(e){this.currentConfig.volume=e,!this.manager.isLocked(this,"volume",e)&&(this.updateVolume(),this.emit(o.VOLUME,this,e))}},setVolume:function(e){return this.volume=e,this},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,!this.manager.isLocked(this,o.RATE,e)&&(this.calculateRate(),this.emit(o.RATE,this,e))}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,!this.manager.isLocked(this,o.DETUNE,e)&&(this.calculateRate(),this.emit(o.DETUNE,this,e))}},setDetune:function(e){return this.detune=e,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.isLocked(this,"seek",e)||this.startTime>0||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.isPlaying?(this.previousTime=e,this.audio.currentTime=e):this.isPaused&&(this.currentConfig.seek=e),this.emit(o.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,!this.manager.isLocked(this,"loop",e)&&(this.audio&&(this.audio.loop=e),this.emit(o.LOOP,this,e))}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.currentConfig.pan},set:function(e){this.currentConfig.pan=e,this.emit(o.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});u.exports=r},33684:(u,m,t)=>{var a=t(85034),p=t(83419),o=t(14463),s=t(64895),r=new p({Extends:a,initialize:function(n){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,a.call(this,n)},add:function(e,n){var l=new s(this,e,n);return this.sounds.push(l),l},unlock:function(){this.locked=!1;var e=this;if(this.game.cache.audio.entries.each(function(h,f){for(var c=0;c<f.length;c++)if(f[c].dataset.locked==="true")return e.locked=!0,!1;return!0}),!!this.locked){var n=!1,l=function(){n=!0},i=function(){if(n){n=!1;return}document.body.removeEventListener("touchmove",l),document.body.removeEventListener("touchend",i);var h=[];if(e.game.cache.audio.entries.each(function(c,d){for(var v=0;v<d.length;v++){var g=d[v];g.dataset.locked==="true"&&h.push(g)}return!0}),h.length!==0){var f=h[h.length-1];f.oncanplaythrough=function(){f.oncanplaythrough=null,h.forEach(function(c){c.dataset.locked="false"}),e.unlocked=!0},h.forEach(function(c){c.load()})}};this.once(o.UNLOCKED,function(){for(this.forEachActiveSound(function(f){f.currentMarker===null&&f.duration===0&&(f.duration=f.tags[0].duration),f.totalDuration=f.tags[0].duration});this.lockedActionsQueue.length;){var h=this.lockedActionsQueue.shift();h.sound[h.prop].apply?h.sound[h.prop].apply(h.sound,h.value||[]):h.sound[h.prop]=h.value}},this),document.body.addEventListener("touchmove",l,!1),document.body.addEventListener("touchend",i,!1)}},onBlur:function(){this.forEachActiveSound(function(e){e.isPlaying&&(this.onBlurPausedSounds.push(e),e.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(e){e.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){a.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(e,n,l){return e.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:e,prop:n,value:l}),!0):!1},setMute:function(e){return this.mute=e,this},mute:{get:function(){return this._mute},set:function(e){this._mute=e,this.forEachActiveSound(function(n){n.updateMute()}),this.emit(o.GLOBAL_MUTE,this,e)}},setVolume:function(e){return this.volume=e,this},volume:{get:function(){return this._volume},set:function(e){this._volume=e,this.forEachActiveSound(function(n){n.updateVolume()}),this.emit(o.GLOBAL_VOLUME,this,e)}}});u.exports=r},23717:(u,m,t)=>{u.exports={SoundManagerCreator:t(14747),Events:t(14463),BaseSound:t(30341),BaseSoundManager:t(85034),WebAudioSound:t(71741),WebAudioSoundManager:t(57490),HTML5AudioSound:t(64895),HTML5AudioSoundManager:t(33684),NoAudioSound:t(4603),NoAudioSoundManager:t(25960)}},4603:(u,m,t)=>{var a=t(30341),p=t(83419),o=t(50792),s=t(79291),r=t(29747),e=function(){return!1},n=function(){return null},l=function(){return this},i=new p({Extends:o,initialize:function(f,c,d){d===void 0&&(d={}),o.call(this),this.manager=f,this.key=c,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=s({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},d),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:e,updateMarker:e,removeMarker:n,play:e,pause:e,resume:e,stop:e,setMute:l,setVolume:l,setRate:l,setDetune:l,setSeek:l,setLoop:l,setPan:l,applyConfig:n,resetConfig:n,update:r,calculateRate:n,destroy:function(){a.prototype.destroy.call(this)}});u.exports=i},25960:(u,m,t)=>{var a=t(85034),p=t(83419),o=t(50792),s=t(4603),r=t(29747),e=new p({Extends:o,initialize:function(l){o.call(this),this.game=l,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(n,l){var i=new s(this,n,l);return this.sounds.push(i),i},addAudioSprite:function(n,l){var i=this.add(n,l);return i.spritemap={},i},get:function(n){return a.prototype.get.call(this,n)},getAll:function(n){return a.prototype.getAll.call(this,n)},play:function(n,l){return!1},playAudioSprite:function(n,l,i){return!1},remove:function(n){return a.prototype.remove.call(this,n)},removeAll:function(){return a.prototype.removeAll.call(this)},removeByKey:function(n){return a.prototype.removeByKey.call(this,n)},stopByKey:function(n){return a.prototype.stopByKey.call(this,n)},onBlur:r,onFocus:r,onGameBlur:r,onGameFocus:r,pauseAll:r,resumeAll:r,stopAll:r,update:r,setRate:r,setDetune:r,setMute:r,setVolume:r,unlock:r,forEachActiveSound:function(n,l){a.prototype.forEachActiveSound.call(this,n,l)},destroy:function(){a.prototype.destroy.call(this)}});u.exports=e},71741:(u,m,t)=>{var a=t(30341),p=t(83419),o=t(14463),s=t(95540),r=new p({Extends:a,initialize:function(n,l,i){if(i===void 0&&(i={}),this.audioBuffer=n.game.cache.audio.get(l),!this.audioBuffer)throw new Error('Audio key "'+l+'" not found in cache');this.source=null,this.loopSource=null,this.muteNode=n.context.createGain(),this.volumeNode=n.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),n.context.createPanner&&(this.spatialNode=n.context.createPanner(),this.volumeNode.connect(this.spatialNode)),n.context.createStereoPanner?(this.pannerNode=n.context.createStereoPanner(),n.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(n.destination)):n.context.createPanner?this.spatialNode.connect(n.destination):this.volumeNode.connect(n.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,a.call(this,n,l,i)},play:function(e,n){return a.prototype.play.call(this,e,n)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(o.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!a.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(o.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!a.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(o.RESUME,this),!0)},stop:function(){return a.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(o.STOP,this),!0):!1},createAndStartBufferSource:function(){var e=this.currentConfig.seek,n=this.currentConfig.delay,l=this.manager.context.currentTime+n,i=(this.currentMarker?this.currentMarker.start:0)+e,h=this.duration-e;this.playTime=l-e,this.startTime=l,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,l),Math.max(0,i),Math.max(0,h)),this.resetConfig()},createAndStartLoopBufferSource:function(){var e=this.getLoopTime(),n=this.currentMarker?this.currentMarker.start:0,l=this.duration;this.loopTime=e,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,e),Math.max(0,n),Math.max(0,l))},createBufferSource:function(){var e=this,n=this.manager.context.createBufferSource();return n.buffer=this.audioBuffer,n.connect(this.muteNode),n.onended=function(l){var i=l.target;(i===e.source||i===e.loopSource)&&(e.currentConfig.loop?e.hasLooped=!0:e.hasEnded=!0)},n},stopAndRemoveBufferSource:function(){if(this.source){var e=this.source;this.source=null,e.stop(),e.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var e=this.currentConfig.source;if(e&&this.manager.context.createPanner){var n=this.spatialNode;n.panningModel=s(e,"panningModel","equalpower"),n.distanceModel=s(e,"distanceModel","inverse"),n.orientationX.value=s(e,"orientationX",0),n.orientationY.value=s(e,"orientationY",0),n.orientationZ.value=s(e,"orientationZ",-1),n.refDistance=s(e,"refDistance",1),n.maxDistance=s(e,"maxDistance",1e4),n.rolloffFactor=s(e,"rolloffFactor",1),n.coneInnerAngle=s(e,"coneInnerAngle",360),n.coneOuterAngle=s(e,"coneOuterAngle",0),n.coneOuterGain=s(e,"coneOuterGain",0),this.spatialSource=s(e,"follow",null),this.spatialSource||(n.positionX.value=s(e,"x",0),n.positionY.value=s(e,"y",0),n.positionZ.value=s(e,"z",0))}a.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(e){this.spatialNode&&(this.spatialNode.positionX.value=e)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(e){this.spatialNode&&(this.spatialNode.positionY.value=e)}},update:function(){if(this.isPlaying&&this.spatialSource){var e=s(this.spatialSource,"x",null),n=s(this.spatialSource,"y",null);e&&e!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=e),n&&n!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=n)}this.hasEnded?(a.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(o.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(o.LOOPED,this))},destroy:function(){this.pendingRemove||(a.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){a.prototype.calculateRate.call(this);var e=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,e),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,e)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var e=0,n=0;n<this.rateUpdates.length;n++){var l=0;n<this.rateUpdates.length-1?l=this.rateUpdates[n+1].time:l=this.manager.context.currentTime-this.playTime,e+=(l-this.rateUpdates[n].time)*this.rateUpdates[n].rate}return e},getLoopTime:function(){for(var e=0,n=0;n<this.rateUpdates.length-1;n++)e+=(this.rateUpdates[n+1].time-this.rateUpdates[n].time)*this.rateUpdates[n].rate;var l=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+l.time+(this.duration-e)/l.rate},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,this.calculateRate(),this.emit(o.RATE,this,e)}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,this.calculateRate(),this.emit(o.DETUNE,this,e)}},setDetune:function(e){return this.detune=e,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(e){this.currentConfig.mute=e,this.muteNode.gain.setValueAtTime(e?0:1,0),this.emit(o.MUTE,this,e)}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(e){this.currentConfig.volume=e,this.volumeNode.gain.setValueAtTime(e,0),this.emit(o.VOLUME,this,e)}},setVolume:function(e){return this.volume=e,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.currentConfig.seek=e,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(o.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),e&&this.createAndStartLoopBufferSource()),this.emit(o.LOOP,this,e)}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(e){this.currentConfig.pan=e,this.pannerNode&&this.pannerNode.pan.setValueAtTime(e,this.manager.context.currentTime),this.emit(o.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});u.exports=r},57490:(u,m,t)=>{var a=t(53134),p=t(85034),o=t(83419),s=t(14463),r=t(8443),e=t(71741),n=t(95540),l=new o({Extends:p,initialize:function(h){this.context=this.createAudioContext(h),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended",p.call(this,h),this.locked&&(h.isBooted?this.unlock():h.events.once(r.BOOT,this.unlock,this)),h.events.on(r.VISIBLE,this.onGameVisible,this)},onGameVisible:function(){var i=this.context;window.setTimeout(function(){i&&(i.suspend(),i.resume())},100)},createAudioContext:function(i){var h=i.config.audio;if(h.context)return h.context.resume(),h.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(i){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=i,this.masterMuteNode=i.createGain(),this.masterVolumeNode=i.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(i.destination),this.destination=this.masterMuteNode,this},add:function(i,h){var f=new e(this,i,h);return this.sounds.push(f),f},decodeAudio:function(i,h){var f;Array.isArray(i)?f=i:f=[{key:i,data:h}];for(var c=this.game.cache.audio,d=f.length,v=0;v<f.length;v++){var g=f[v],y=g.key,x=g.data;typeof x=="string"&&(x=a(x));var T=(function(A,P){c.add(A,P),this.emit(s.DECODED,A),d--,d===0&&this.emit(s.DECODED_ALL)}).bind(this,y),S=(function(A,P){console.error("Error decoding audio: "+A+" - ",P?P.message:""),d--,d===0&&this.emit(s.DECODED_ALL)}).bind(this,y);this.context.decodeAudioData(x,T,S)}},setListenerPosition:function(i,h){return i===void 0&&(i=this.game.scale.width/2),h===void 0&&(h=this.game.scale.height/2),this.listenerPosition.set(i,h),this},unlock:function(){var i=this,h=document.body,f=function c(){if(i.context&&h){var d=h.removeEventListener.bind(h);i.context.resume().then(function(){d("touchstart",c),d("touchend",c),d("mousedown",c),d("mouseup",c),d("keydown",c),i.unlocked=!0},function(){d("touchstart",c),d("touchend",c),d("mousedown",c),d("mouseup",c),d("keydown",c)})}};h&&(h.addEventListener("touchstart",f,!1),h.addEventListener("touchend",f,!1),h.addEventListener("mousedown",f,!1),h.addEventListener("mouseup",f,!1),h.addEventListener("keydown",f,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var i=this.context;i&&!this.locked&&(i.state==="suspended"||i.state==="interrupted")&&i.resume()},update:function(i,h){var f=this.context.listener,c=n(this.listenerPosition,"x",null),d=n(this.listenerPosition,"y",null);if(f&&f.positionX!==void 0)c&&c!==this._spatialx&&(this._spatialx=f.positionX.value=c),d&&d!==this._spatialy&&(this._spatialy=f.positionY.value=d);else if(f){c&&c!==this._spatialx&&(this._spatialx=c),d&&d!==this._spatialy&&(this._spatialy=d);var v=n(f,"z",0);f.setPosition(this._spatialx||0,this._spatialy||0,v)}p.prototype.update.call(this,i,h),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var i=this;this.context.close().then(function(){i.context=null})}this.game.events.off(r.VISIBLE,this.onGameVisible,this),p.prototype.destroy.call(this)},setMute:function(i){return this.mute=i,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(i){this.masterMuteNode.gain.setValueAtTime(i?0:1,0),this.emit(s.GLOBAL_MUTE,this,i)}},setVolume:function(i){return this.volume=i,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(i){this.masterVolumeNode.gain.setValueAtTime(i,0),this.emit(s.GLOBAL_VOLUME,this,i)}}});u.exports=l},73162:(u,m,t)=>{var a=t(37105),p=t(83419),o=t(29747),s=t(19186),r=new p({initialize:function(n){this.parent=n,this.list=[],this.position=0,this.addCallback=o,this.removeCallback=o,this._sortKey=""},add:function(e,n){return n?a.Add(this.list,e):a.Add(this.list,e,0,this.addCallback,this)},addAt:function(e,n,l){return l?a.AddAt(this.list,e,n):a.AddAt(this.list,e,n,0,this.addCallback,this)},getAt:function(e){return this.list[e]},getIndex:function(e){return this.list.indexOf(e)},sort:function(e,n){return e?(n===void 0&&(n=function(l,i){return l[e]-i[e]}),s(this.list,n),this):this},getByName:function(e){return a.GetFirst(this.list,"name",e)},getRandom:function(e,n){return a.GetRandom(this.list,e,n)},getFirst:function(e,n,l,i){return a.GetFirst(this.list,e,n,l,i)},getAll:function(e,n,l,i){return a.GetAll(this.list,e,n,l,i)},count:function(e,n){return a.CountAllMatching(this.list,e,n)},swap:function(e,n){a.Swap(this.list,e,n)},moveTo:function(e,n){return a.MoveTo(this.list,e,n)},moveAbove:function(e,n){return a.MoveAbove(this.list,e,n)},moveBelow:function(e,n){return a.MoveBelow(this.list,e,n)},remove:function(e,n){return n?a.Remove(this.list,e):a.Remove(this.list,e,this.removeCallback,this)},removeAt:function(e,n){return n?a.RemoveAt(this.list,e):a.RemoveAt(this.list,e,this.removeCallback,this)},removeBetween:function(e,n,l){return l?a.RemoveBetween(this.list,e,n):a.RemoveBetween(this.list,e,n,this.removeCallback,this)},removeAll:function(e){for(var n=this.list.length;n--;)this.remove(this.list[n],e);return this},bringToTop:function(e){return a.BringToTop(this.list,e)},sendToBack:function(e){return a.SendToBack(this.list,e)},moveUp:function(e){return a.MoveUp(this.list,e),e},moveDown:function(e){return a.MoveDown(this.list,e),e},reverse:function(){return this.list.reverse(),this},shuffle:function(){return a.Shuffle(this.list),this},replace:function(e,n){return a.Replace(this.list,e,n)},exists:function(e){return this.list.indexOf(e)>-1},setAll:function(e,n,l,i){return a.SetAll(this.list,e,n,l,i),this},each:function(e,n){for(var l=[null],i=2;i<arguments.length;i++)l.push(arguments[i]);for(i=0;i<this.list.length;i++)l[0]=this.list[i],e.apply(n,l)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});u.exports=r},90330:(u,m,t)=>{var a=t(83419),p=new a({initialize:function(s){this.entries={},this.size=0,this.setAll(s)},setAll:function(o){if(Array.isArray(o))for(var s=0;s<o.length;s++)this.set(o[s][0],o[s][1]);return this},set:function(o,s){return this.has(o)||this.size++,this.entries[o]=s,this},get:function(o){if(this.has(o))return this.entries[o]},getArray:function(){var o=[],s=this.entries;for(var r in s)o.push(s[r]);return o},has:function(o){return this.entries.hasOwnProperty(o)},delete:function(o){return this.has(o)&&(delete this.entries[o],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(o){delete this.entries[o]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var o=[],s=this.entries;for(var r in s)o.push(s[r]);return o},dump:function(){var o=this.entries;console.group("Map");for(var s in o)console.log(s,o[s]);console.groupEnd()},each:function(o){var s=this.entries;for(var r in s)if(o(r,s[r])===!1)break;return this},contains:function(o){var s=this.entries;for(var r in s)if(s[r]===o)return!0;return!1},merge:function(o,s){s===void 0&&(s=!1);var r=this.entries,e=o.entries;for(var n in e)r.hasOwnProperty(n)&&s?r[n]=e[n]:this.set(n,e[n]);return this}});u.exports=p},25774:(u,m,t)=>{var a=t(83419),p=t(50792),o=t(82348),s=new a({Extends:p,initialize:function(){p.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(r){return this._active.indexOf(r)>-1},isPending:function(r){return this._toProcess>0&&this._pending.indexOf(r)>-1},isDestroying:function(r){return this._destroy.indexOf(r)>-1},add:function(r){return this.checkQueue&&this.isActive(r)&&!this.isDestroying(r)||this.isPending(r)||(this._pending.push(r),this._toProcess++),r},remove:function(r){if(this.isPending(r)){var e=this._pending,n=e.indexOf(r);n!==-1&&e.splice(n,1)}else this.isActive(r)&&(this._destroy.push(r),this._toProcess++);return r},removeAll:function(){for(var r=this._active,e=this._destroy,n=r.length;n--;)e.push(r[n]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var r=this._destroy,e=this._active,n,l;for(n=0;n<r.length;n++){l=r[n];var i=e.indexOf(l);i!==-1&&(e.splice(i,1),this.emit(o.PROCESS_QUEUE_REMOVE,l))}for(r.length=0,r=this._pending,n=0;n<r.length;n++)l=r[n],(!this.checkQueue||this.checkQueue&&e.indexOf(l)===-1)&&(e.push(l),this.emit(o.PROCESS_QUEUE_ADD,l));return r.length=0,this._toProcess=0,e},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});u.exports=s},59542:(u,m,t)=>{var a=t(43886);function p(x){var T=[".left",".top",".right",".bottom"];if(!(this instanceof p))return new p(x,T);this._maxEntries=Math.max(4,x||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}p.prototype={all:function(){return this._all(this.data,[])},search:function(x){var T=this.data,S=[],A=this.toBBox;if(!v(x,T))return S;for(var P=[],D,R,L,I;T;){for(D=0,R=T.children.length;D<R;D++)L=T.children[D],I=T.leaf?A(L):L,v(x,I)&&(T.leaf?S.push(L):d(x,I)?this._all(L,S):P.push(L));T=P.pop()}return S},collides:function(x){var T=this.data,S=this.toBBox;if(!v(x,T))return!1;for(var A=[],P,D,R,L;T;){for(P=0,D=T.children.length;P<D;P++)if(R=T.children[P],L=T.leaf?S(R):R,v(x,L)){if(T.leaf||d(x,L))return!0;A.push(R)}T=A.pop()}return!1},load:function(x){if(!(x&&x.length))return this;if(x.length<this._minEntries){for(var T=0,S=x.length;T<S;T++)this.insert(x[T]);return this}var A=this._build(x.slice(),0,x.length-1,0);if(!this.data.children.length)this.data=A;else if(this.data.height===A.height)this._splitRoot(this.data,A);else{if(this.data.height<A.height){var P=this.data;this.data=A,A=P}this._insert(A,this.data.height-A.height-1,!0)}return this},insert:function(x){return x&&this._insert(x,this.data.height-1),this},clear:function(){return this.data=g([]),this},remove:function(x,T){if(!x)return this;for(var S=this.data,A=this.toBBox(x),P=[],D=[],R,L,I,w;S||P.length;){if(S||(S=P.pop(),L=P[P.length-1],R=D.pop(),w=!0),S.leaf&&(I=o(x,S.children,T),I!==-1))return S.children.splice(I,1),P.push(S),this._condense(P),this;!w&&!S.leaf&&d(S,A)?(P.push(S),D.push(R),R=0,L=S,S=S.children[0]):L?(R++,S=L.children[R],w=!1):S=null}return this},toBBox:function(x){return x},compareMinX:n,compareMinY:l,toJSON:function(){return this.data},fromJSON:function(x){return this.data=x,this},_all:function(x,T){for(var S=[];x;)x.leaf?T.push.apply(T,x.children):S.push.apply(S,x.children),x=S.pop();return T},_build:function(x,T,S,A){var P=S-T+1,D=this._maxEntries,R;if(P<=D)return R=g(x.slice(T,S+1)),s(R,this.toBBox),R;A||(A=Math.ceil(Math.log(P)/Math.log(D)),D=Math.ceil(P/Math.pow(D,A-1))),R=g([]),R.leaf=!1,R.height=A;var L=Math.ceil(P/D),I=L*Math.ceil(Math.sqrt(D)),w,B,b,V;for(y(x,T,S,I,this.compareMinX),w=T;w<=S;w+=I)for(b=Math.min(w+I-1,S),y(x,w,b,L,this.compareMinY),B=w;B<=b;B+=L)V=Math.min(B+L-1,b),R.children.push(this._build(x,B,V,A-1));return s(R,this.toBBox),R},_chooseSubtree:function(x,T,S,A){for(var P,D,R,L,I,w,B,b;A.push(T),!(T.leaf||A.length-1===S);){for(B=b=1/0,P=0,D=T.children.length;P<D;P++)R=T.children[P],I=i(R),w=f(x,R)-I,w<b?(b=w,B=I<B?I:B,L=R):w===b&&I<B&&(B=I,L=R);T=L||T.children[0]}return T},_insert:function(x,T,S){var A=this.toBBox,P=S?x:A(x),D=[],R=this._chooseSubtree(P,this.data,T,D);for(R.children.push(x),e(R,P);T>=0&&D[T].children.length>this._maxEntries;)this._split(D,T),T--;this._adjustParentBBoxes(P,D,T)},_split:function(x,T){var S=x[T],A=S.children.length,P=this._minEntries;this._chooseSplitAxis(S,P,A);var D=this._chooseSplitIndex(S,P,A),R=g(S.children.splice(D,S.children.length-D));R.height=S.height,R.leaf=S.leaf,s(S,this.toBBox),s(R,this.toBBox),T?x[T-1].children.push(R):this._splitRoot(S,R)},_splitRoot:function(x,T){this.data=g([x,T]),this.data.height=x.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},_chooseSplitIndex:function(x,T,S){var A,P,D,R,L,I,w,B;for(I=w=1/0,A=T;A<=S-T;A++)P=r(x,0,A,this.toBBox),D=r(x,A,S,this.toBBox),R=c(P,D),L=i(P)+i(D),R<I?(I=R,B=A,w=L<w?L:w):R===I&&L<w&&(w=L,B=A);return B},_chooseSplitAxis:function(x,T,S){var A=x.leaf?this.compareMinX:n,P=x.leaf?this.compareMinY:l,D=this._allDistMargin(x,T,S,A),R=this._allDistMargin(x,T,S,P);D<R&&x.children.sort(A)},_allDistMargin:function(x,T,S,A){x.children.sort(A);var P=this.toBBox,D=r(x,0,T,P),R=r(x,S-T,S,P),L=h(D)+h(R),I,w;for(I=T;I<S-T;I++)w=x.children[I],e(D,x.leaf?P(w):w),L+=h(D);for(I=S-T-1;I>=T;I--)w=x.children[I],e(R,x.leaf?P(w):w),L+=h(R);return L},_adjustParentBBoxes:function(x,T,S){for(var A=S;A>=0;A--)e(T[A],x)},_condense:function(x){for(var T=x.length-1,S;T>=0;T--)x[T].children.length===0?T>0?(S=x[T-1].children,S.splice(S.indexOf(x[T]),1)):this.clear():s(x[T],this.toBBox)},compareMinX:function(x,T){return x.left-T.left},compareMinY:function(x,T){return x.top-T.top},toBBox:function(x){return{minX:x.left,minY:x.top,maxX:x.right,maxY:x.bottom}}};function o(x,T,S){if(!S)return T.indexOf(x);for(var A=0;A<T.length;A++)if(S(x,T[A]))return A;return-1}function s(x,T){r(x,0,x.children.length,T,x)}function r(x,T,S,A,P){P||(P=g(null)),P.minX=1/0,P.minY=1/0,P.maxX=-1/0,P.maxY=-1/0;for(var D=T,R;D<S;D++)R=x.children[D],e(P,x.leaf?A(R):R);return P}function e(x,T){return x.minX=Math.min(x.minX,T.minX),x.minY=Math.min(x.minY,T.minY),x.maxX=Math.max(x.maxX,T.maxX),x.maxY=Math.max(x.maxY,T.maxY),x}function n(x,T){return x.minX-T.minX}function l(x,T){return x.minY-T.minY}function i(x){return(x.maxX-x.minX)*(x.maxY-x.minY)}function h(x){return x.maxX-x.minX+(x.maxY-x.minY)}function f(x,T){return(Math.max(T.maxX,x.maxX)-Math.min(T.minX,x.minX))*(Math.max(T.maxY,x.maxY)-Math.min(T.minY,x.minY))}function c(x,T){var S=Math.max(x.minX,T.minX),A=Math.max(x.minY,T.minY),P=Math.min(x.maxX,T.maxX),D=Math.min(x.maxY,T.maxY);return Math.max(0,P-S)*Math.max(0,D-A)}function d(x,T){return x.minX<=T.minX&&x.minY<=T.minY&&T.maxX<=x.maxX&&T.maxY<=x.maxY}function v(x,T){return T.minX<=x.maxX&&T.minY<=x.maxY&&T.maxX>=x.minX&&T.maxY>=x.minY}function g(x){return{children:x,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function y(x,T,S,A,P){for(var D=[T,S],R;D.length;)S=D.pop(),T=D.pop(),!(S-T<=A)&&(R=T+Math.ceil((S-T)/A/2)*A,a(x,R,T,S,P),D.push(T,R,R,S))}u.exports=p},35072:(u,m,t)=>{var a=t(83419),p=new a({initialize:function(s){if(this.entries=[],Array.isArray(s))for(var r=0;r<s.length;r++)this.set(s[r])},set:function(o){return this.entries.indexOf(o)===-1&&this.entries.push(o),this},get:function(o,s){for(var r=0;r<this.entries.length;r++){var e=this.entries[r];if(e[o]===s)return e}},getArray:function(){return this.entries.slice(0)},delete:function(o){var s=this.entries.indexOf(o);return s>-1&&this.entries.splice(s,1),this},dump:function(){console.group("Set");for(var o=0;o<this.entries.length;o++){var s=this.entries[o];console.log(s)}console.groupEnd()},each:function(o,s){var r,e=this.entries.slice(),n=e.length;if(s)for(r=0;r<n&&o.call(s,e[r],r)!==!1;r++);else for(r=0;r<n&&o(e[r],r)!==!1;r++);return this},iterate:function(o,s){var r,e=this.entries.length;if(s)for(r=0;r<e&&o.call(s,this.entries[r],r)!==!1;r++);else for(r=0;r<e&&o(this.entries[r],r)!==!1;r++);return this},iterateLocal:function(o){var s,r=[];for(s=1;s<arguments.length;s++)r.push(arguments[s]);var e=this.entries.length;for(s=0;s<e;s++){var n=this.entries[s];n[o].apply(n,r)}return this},clear:function(){return this.entries.length=0,this},contains:function(o){return this.entries.indexOf(o)>-1},union:function(o){var s=new p;return o.entries.forEach(function(r){s.set(r)}),this.entries.forEach(function(r){s.set(r)}),s},intersect:function(o){var s=new p;return this.entries.forEach(function(r){o.contains(r)&&s.set(r)}),s},difference:function(o){var s=new p;return this.entries.forEach(function(r){o.contains(r)||s.set(r)}),s},size:{get:function(){return this.entries.length},set:function(o){return o<this.entries.length?this.entries.length=o:this.entries.length}}});u.exports=p},86555:(u,m,t)=>{var a=t(45319),p=t(83419),o=t(56583),s=t(26099),r=new p({initialize:function(n,l,i,h){n===void 0&&(n=0),l===void 0&&(l=n),i===void 0&&(i=0),h===void 0&&(h=null),this._width=n,this._height=l,this._parent=h,this.aspectMode=i,this.aspectRatio=l===0?1:n/l,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new s},setAspectMode:function(e){return e===void 0&&(e=0),this.aspectMode=e,this.setSize(this._width,this._height)},setSnap:function(e,n){return e===void 0&&(e=0),n===void 0&&(n=e),this.snapTo.set(e,n),this.setSize(this._width,this._height)},setParent:function(e){return this._parent=e,this.setSize(this._width,this._height)},setMin:function(e,n){return e===void 0&&(e=0),n===void 0&&(n=e),this.minWidth=a(e,0,this.maxWidth),this.minHeight=a(n,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(e,n){return e===void 0&&(e=Number.MAX_VALUE),n===void 0&&(n=e),this.maxWidth=a(e,this.minWidth,Number.MAX_VALUE),this.maxHeight=a(n,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(e,n){switch(e===void 0&&(e=0),n===void 0&&(n=e),this.aspectMode){case r.NONE:this._width=this.getNewWidth(o(e,this.snapTo.x)),this._height=this.getNewHeight(o(n,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case r.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(o(e,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case r.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(o(n,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case r.FIT:this.constrain(e,n,!0);break;case r.ENVELOP:this.constrain(e,n,!1);break}return this},setAspectRatio:function(e){return this.aspectRatio=e,this.setSize(this._width,this._height)},resize:function(e,n){return this._width=this.getNewWidth(o(e,this.snapTo.x)),this._height=this.getNewHeight(o(n,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(e,n){return n===void 0&&(n=!0),e=a(e,this.minWidth,this.maxWidth),n&&this._parent&&e>this._parent.width&&(e=Math.max(this.minWidth,this._parent.width)),e},getNewHeight:function(e,n){return n===void 0&&(n=!0),e=a(e,this.minHeight,this.maxHeight),n&&this._parent&&e>this._parent.height&&(e=Math.max(this.minHeight,this._parent.height)),e},constrain:function(e,n,l){e===void 0&&(e=0),n===void 0&&(n=e),l===void 0&&(l=!0),e=this.getNewWidth(e),n=this.getNewHeight(n);var i=this.snapTo,h=n===0?1:e/n;return l&&this.aspectRatio>h||!l&&this.aspectRatio<h?(e=o(e,i.x),n=e/this.aspectRatio,i.y>0&&(n=o(n,i.y),e=n*this.aspectRatio)):(l&&this.aspectRatio<h||!l&&this.aspectRatio>h)&&(n=o(n,i.y),e=n*this.aspectRatio,i.x>0&&(e=o(e,i.x),n=e*(1/this.aspectRatio))),this._width=e,this._height=n,this},fitTo:function(e,n){return this.constrain(e,n,!0)},envelop:function(e,n){return this.constrain(e,n,!1)},setWidth:function(e){return this.setSize(e,this._height)},setHeight:function(e){return this.setSize(this._width,e)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(e){e&&e.style&&(e.style.width=this._width+"px",e.style.height=this._height+"px")},copy:function(e){return e.setAspectMode(this.aspectMode),e.aspectRatio=this.aspectRatio,e.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(e){this.setSize(e,this._height)}},height:{get:function(){return this._height},set:function(e){this.setSize(this._width,e)}}});r.NONE=0,r.WIDTH_CONTROLS_HEIGHT=1,r.HEIGHT_CONTROLS_WIDTH=2,r.FIT=3,r.ENVELOP=4,u.exports=r},15238:u=>{u.exports="add"},56187:u=>{u.exports="remove"},82348:(u,m,t)=>{u.exports={PROCESS_QUEUE_ADD:t(15238),PROCESS_QUEUE_REMOVE:t(56187)}},41392:(u,m,t)=>{u.exports={Events:t(82348),List:t(73162),Map:t(90330),ProcessQueue:t(25774),RTree:t(59542),Set:t(35072),Size:t(86555)}},57382:(u,m,t)=>{var a=t(83419),p=t(45319),o=t(40987),s=t(8054),r=t(50030),e=t(79237),n=new a({Extends:e,initialize:function(i,h,f,c,d){e.call(this,i,h,f,c,d),this.add("__BASE",0,0,0,c,d),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=c,this.height=d,this.imageData=this.context.getImageData(0,0,c,d),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===s.WEBGL&&this.refresh(),this},draw:function(l,i,h,f){return f===void 0&&(f=!0),this.context.drawImage(h,l,i),f&&this.update(),this},drawFrame:function(l,i,h,f,c){h===void 0&&(h=0),f===void 0&&(f=0),c===void 0&&(c=!0);var d=this.manager.getFrame(l,i);if(d){var v=d.canvasData,g=d.cutWidth,y=d.cutHeight,x=d.source.resolution;this.context.drawImage(d.source.image,v.x,v.y,g,y,h,f,g/x,y/x),c&&this.update()}return this},setPixel:function(l,i,h,f,c,d){d===void 0&&(d=255),l=Math.abs(Math.floor(l)),i=Math.abs(Math.floor(i));var v=this.getIndex(l,i);if(v>-1){var g=this.context.getImageData(l,i,1,1);g.data[0]=h,g.data[1]=f,g.data[2]=c,g.data[3]=d,this.context.putImageData(g,l,i)}return this},putData:function(l,i,h,f,c,d,v){return f===void 0&&(f=0),c===void 0&&(c=0),d===void 0&&(d=l.width),v===void 0&&(v=l.height),this.context.putImageData(l,i,h,f,c,d,v),this},getData:function(l,i,h,f){l=p(Math.floor(l),0,this.width-1),i=p(Math.floor(i),0,this.height-1),h=p(h,1,this.width-l),f=p(f,1,this.height-i);var c=this.context.getImageData(l,i,h,f);return c},getPixel:function(l,i,h){h||(h=new o);var f=this.getIndex(l,i);if(f>-1){var c=this.data,d=c[f+0],v=c[f+1],g=c[f+2],y=c[f+3];h.setTo(d,v,g,y)}return h},getPixels:function(l,i,h,f){l===void 0&&(l=0),i===void 0&&(i=0),h===void 0&&(h=this.width),f===void 0&&(f=h),l=Math.abs(Math.round(l)),i=Math.abs(Math.round(i));for(var c=p(l,0,this.width),d=p(l+h,0,this.width),v=p(i,0,this.height),g=p(i+f,0,this.height),y=new o,x=[],T=v;T<g;T++){for(var S=[],A=c;A<d;A++)y=this.getPixel(A,T,y),S.push({x:A,y:T,color:y.color,alpha:y.alphaGL});x.push(S)}return x},getIndex:function(l,i){return l=Math.abs(Math.round(l)),i=Math.abs(Math.round(i)),l<this.width&&i<this.height?(l+i*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(l,i,h,f,c){return l===void 0&&(l=0),i===void 0&&(i=0),h===void 0&&(h=this.width),f===void 0&&(f=this.height),c===void 0&&(c=!0),this.context.clearRect(l,i,h,f),c&&this.update(),this},setSize:function(l,i){return i===void 0&&(i=l),(l!==this.width||i!==this.height)&&(this.canvas.width=l,this.canvas.height=i,this._source.width=l,this._source.height=i,this._source.isPowerOf2=r(l,i),this.frames.__BASE.setSize(l,i,0,0),this.width=l,this.height=i,this.refresh()),this},destroy:function(){e.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});u.exports=n},81320:(u,m,t)=>{var a=t(10312),p=t(38058),o=t(27919),s=t(83419),r=t(8054),e=t(4327),n=t(95540),l=t(36060),i=t(32302),h=t(79237),f=t(70554),c=new s({Extends:h,initialize:function(v,g,y,x,T){y===void 0&&(y=256),x===void 0&&(x=256),T===void 0&&(T=!0),this.type="DynamicTexture";var S=v.game.renderer,A=S&&S.type===r.CANVAS,P=A?o.create2D(this,y,x):[this];h.call(this,v,g,P,y,x),this.add("__BASE",0,0,0,y,x),this.renderer=S,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=A?P:null,this.context=A?P.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new p(0,0,y,x).setScene(v.game.scene.systemScene,!1),this.renderTarget=A?null:new i(S,y,x,1,0,!1,!1,!0,!1),this.pipeline=A?null:S.pipelines.get(l.SINGLE_PIPELINE),this.setSize(y,x,T)},setSize:function(d,v,g){v===void 0&&(v=d),g===void 0&&(g=!0),g&&(d=Math.floor(d),v=Math.floor(v),d%2!==0&&d++,v%2!==0&&v++);var y=this.get(),x=y.source;if(d!==this.width||v!==this.height){this.canvas&&(this.canvas.width=d,this.canvas.height=v);var T=this.renderTarget;T&&(T.willResize(d,v)&&T.resize(d,v),T.texture!==x.glTexture&&this.renderer.deleteTexture(x.glTexture),this.setFromRenderTarget()),this.camera.setSize(d,v),x.width=d,x.height=v,y.setSize(d,v),this.width=d,this.height=v}else{var S=this.getSourceImage();y.cutX+d>S.width&&(d=S.width-y.cutX),y.cutY+v>S.height&&(v=S.height-y.cutY),y.setSize(d,v,y.cutX,y.cutY)}return this},setFromRenderTarget:function(){var d=this.get(),v=d.source,g=this.renderTarget;return v.isRenderTexture=!0,v.isGLTexture=!0,v.glTexture=g.texture,this},setIsSpriteTexture:function(d){return this.isSpriteTexture=d,this},fill:function(d,v,g,y,x,T){var S=this.camera,A=this.renderer;v===void 0&&(v=1),g===void 0&&(g=0),y===void 0&&(y=0),x===void 0&&(x=this.width),T===void 0&&(T=this.height);var P=d>>16&255,D=d>>8&255,R=d&255,L=this.renderTarget;if(S.preRender(),L){L.bind(!0);var I=this.pipeline.manager.set(this.pipeline),w=A.width/L.width,B=A.height/L.height,b=L.height-(y+T);I.drawFillRect(g*w,b*B,x*w,T*B,f.getTintFromFloats(R/255,D/255,P/255,1),v),L.unbind(!0)}else{var V=this.context;A.setContext(V),V.globalCompositeOperation="source-over",V.fillStyle="rgba("+P+","+D+","+R+","+v+")",V.fillRect(g,y,x,T),A.setContext()}return this.dirty=!0,this},clear:function(d,v,g,y){if(this.dirty){var x=this.context,T=this.renderTarget;T?T.clear(d,v,g,y):x&&(d!==void 0&&v!==void 0&&g!==void 0&&y!==void 0?x.clearRect(d,v,g,y):(x.save(),x.setTransform(1,0,0,1,0,0),x.clearRect(0,0,this.width,this.height),x.restore())),this.dirty=!1}return this},stamp:function(d,v,g,y,x){g===void 0&&(g=0),y===void 0&&(y=0);var T=n(x,"alpha",1),S=n(x,"tint",16777215),A=n(x,"angle",0),P=n(x,"rotation",0),D=n(x,"scale",1),R=n(x,"scaleX",D),L=n(x,"scaleY",D),I=n(x,"originX",.5),w=n(x,"originY",.5),B=n(x,"blendMode",0),b=n(x,"erase",!1),V=n(x,"skipBatch",!1),X=this.manager.resetStamp(T,S);return X.setAngle(0),A!==0?X.setAngle(A):P!==0&&X.setRotation(P),X.setScale(R,L),X.setTexture(d,v),X.setOrigin(I,w),X.setBlendMode(B),b&&(this._eraseMode=!0),V?this.batchGameObject(X,g,y):this.draw(X,g,y),b&&(this._eraseMode=!1),this},erase:function(d,v,g){return this._eraseMode=!0,this.draw(d,v,g),this._eraseMode=!1,this},draw:function(d,v,g,y,x){return this.beginDraw(),this.batchDraw(d,v,g,y,x),this.endDraw(),this},drawFrame:function(d,v,g,y,x,T){return this.beginDraw(),this.batchDrawFrame(d,v,g,y,x,T),this.endDraw(),this},repeat:function(d,v,g,y,x,T,S,A,P){if(g===void 0&&(g=0),y===void 0&&(y=0),x===void 0&&(x=this.width),T===void 0&&(T=this.height),S===void 0&&(S=1),A===void 0&&(A=16777215),P===void 0&&(P=!1),d instanceof e?v=d:v=this.manager.getFrame(d,v),!v)return this;var D=this.manager.resetStamp(S,A);D.setFrame(v),D.setOrigin(0);var R=v.width,L=v.height;x=Math.floor(x),T=Math.floor(T);var I=Math.ceil(x/R),w=Math.ceil(T/L),B=I*R-x,b=w*L-T;B>0&&(B=R-B),b>0&&(b=L-b),g<0&&(I+=Math.ceil(Math.abs(g)/R)),y<0&&(w+=Math.ceil(Math.abs(y)/L));var V=g,X=y,G=!1,U=this.manager.stampCrop.setTo(0,0,R,L);P||this.beginDraw();for(var O=0;O<w;O++){if(X+L<0){X+=L;continue}for(var z=0;z<I;z++){if(G=!1,V+R<0){V+=R;continue}else V<0&&(G=!0,U.width=R+V,U.x=R-U.width);X<0&&(G=!0,U.height=L+X,U.y=L-U.height),B>0&&z===I-1&&(G=!0,U.width=B),b>0&&O===w-1&&(G=!0,U.height=b),G&&D.setCrop(U),this.batchGameObject(D,V,X),D.isCropped=!1,U.setTo(0,0,R,L),V+=R}V=g,X+=L}return P||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var d=this.camera,v=this.renderer,g=this.renderTarget;d.preRender(),g?v.beginCapture(g.width,g.height):v.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(d,v,g,y,x){return Array.isArray(d)||(d=[d]),this.batchList(d,v,g,y,x),this},batchDrawFrame:function(d,v,g,y,x,T){g===void 0&&(g=0),y===void 0&&(y=0),x===void 0&&(x=1),T===void 0&&(T=16777215);var S=this.manager.getFrame(d,v);return S&&(this.renderTarget?this.pipeline.batchTextureFrame(S,g,y,T,x,this.camera.matrix,null):this.batchTextureFrame(S,g,y,x,T)),this},endDraw:function(d){if(d===void 0&&(d=this._eraseMode),this.isDrawing){var v=this.renderer,g=this.renderTarget;if(g){var y=v.endCapture(),x=v.pipelines.setUtility();x.blitFrame(y,g,1,!1,!1,d,this.isSpriteTexture),v.resetScissor(),v.resetViewport()}else v.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(d,v,g,y,x){var T=d.length;if(T!==0)for(var S=0;S<T;S++){var A=d[S];!A||A===this||(A.renderWebGL||A.renderCanvas?this.batchGameObject(A,v,g):A.isParent||A.list?this.batchGroup(A.getChildren(),v,g):typeof A=="string"?this.batchTextureFrameKey(A,null,v,g,y,x):A instanceof e?this.batchTextureFrame(A,v,g,y,x):Array.isArray(A)&&this.batchList(A,v,g,y,x))}},batchGroup:function(d,v,g){v===void 0&&(v=0),g===void 0&&(g=0);for(var y=0;y<d.length;y++){var x=d[y];x.willRender(this.camera)&&this.batchGameObject(x,x.x+v,x.y+g)}},batchGameObject:function(d,v,g){v===void 0&&(v=d.x),g===void 0&&(g=d.y);var y=d.x,x=d.y,T=this.camera,S=this.renderer,A=this._eraseMode,P=d.mask;if(d.setPosition(v,g),this.canvas){if(A){var D=d.blendMode;d.blendMode=a.ERASE}P&&P.preRenderCanvas(S,d,T),d.renderCanvas(S,d,T,null),P&&P.postRenderCanvas(S,d,T),A&&(d.blendMode=D)}else S&&(P&&P.preRenderWebGL(S,d,T),A||S.setBlendMode(d.blendMode),d.renderWebGL(S,d,T),P&&P.postRenderWebGL(S,T,this.renderTarget));d.setPosition(y,x)},batchTextureFrameKey:function(d,v,g,y,x,T){var S=this.manager.getFrame(d,v);S&&this.batchTextureFrame(S,g,y,x,T)},batchTextureFrame:function(d,v,g,y,x){v===void 0&&(v=0),g===void 0&&(g=0),y===void 0&&(y=1),x===void 0&&(x=16777215);var T=this.camera.matrix,S=this.renderTarget;if(S)this.pipeline.batchTextureFrame(d,v,g,x,y,T,null);else{var A=this.context,P=d.canvasData,D=d.source.image;A.save(),A.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",A.globalAlpha=y,T.setToContext(A),P.width>0&&P.height>0&&A.drawImage(D,P.x,P.y,P.width,P.height,v,g,P.width,P.height),A.restore()}},snapshotArea:function(d,v,g,y,x,T,S){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,x,!1,d,v,g,y,T,S):this.renderer.snapshotCanvas(this.canvas,x,!1,d,v,g,y,T,S),this},snapshot:function(d,v,g){return this.snapshotArea(0,0,this.width,this.height,d,v,g)},snapshotPixel:function(d,v,g){return this.snapshotArea(d,v,1,1,g,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(d,v,g,y){var x=this.manager.resetStamp();x.setTexture(this),x.setOrigin(0),x.renderWebGL(d,x,g,y)},renderCanvas:function(){},destroy:function(){var d=this.manager.stamp;d&&d.texture===this&&this.manager.resetStamp(),h.prototype.destroy.call(this),o.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});u.exports=c},4327:(u,m,t)=>{var a=t(83419),p=t(45319),o=t(79291),s=new a({initialize:function(e,n,l,i,h,f,c){this.texture=e,this.name=n,this.source=e.source[l],this.sourceIndex=l,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(f,c,i,h)},setCutPosition:function(r,e){return r===void 0&&(r=0),e===void 0&&(e=0),this.cutX=r,this.cutY=e,this.updateUVs()},setCutSize:function(r,e){return this.cutWidth=r,this.cutHeight=e,this.updateUVs()},setSize:function(r,e,n,l){n===void 0&&(n=0),l===void 0&&(l=0),this.setCutPosition(n,l),this.setCutSize(r,e),this.width=r,this.height=e,this.halfWidth=Math.floor(r*.5),this.halfHeight=Math.floor(e*.5),this.centerX=Math.floor(r/2),this.centerY=Math.floor(e/2);var i=this.data,h=i.cut;h.x=n,h.y=l,h.w=r,h.h=e,h.r=n+r,h.b=l+e,i.sourceSize.w=r,i.sourceSize.h=e,i.spriteSourceSize.w=r,i.spriteSourceSize.h=e,i.radius=.5*Math.sqrt(r*r+e*e);var f=i.drawImage;return f.x=n,f.y=l,f.width=r,f.height=e,this.updateUVs()},setTrim:function(r,e,n,l,i,h){var f=this.data,c=f.spriteSourceSize;return f.trim=!0,f.sourceSize.w=r,f.sourceSize.h=e,c.x=n,c.y=l,c.w=i,c.h=h,c.r=n+i,c.b=l+h,this.x=n,this.y=l,this.width=i,this.height=h,this.halfWidth=i*.5,this.halfHeight=h*.5,this.centerX=Math.floor(i/2),this.centerY=Math.floor(h/2),this.updateUVs()},setScale9:function(r,e,n,l){var i=this.data;return i.scale9=!0,i.is3Slice=e===0&&l===this.height,i.scale9Borders.x=r,i.scale9Borders.y=e,i.scale9Borders.w=n,i.scale9Borders.h=l,this},setCropUVs:function(r,e,n,l,i,h,f){var c=this.cutX,d=this.cutY,v=this.cutWidth,g=this.cutHeight,y=this.realWidth,x=this.realHeight;e=p(e,0,y),n=p(n,0,x),l=p(l,0,y-e),i=p(i,0,x-n);var T=c+e,S=d+n,A=l,P=i,D=this.data;if(D.trim){var R=D.spriteSourceSize;l=p(l,0,R.x+v-e),i=p(i,0,R.y+g-n);var L=e+l,I=n+i,w=!(R.r<e||R.b<n||R.x>L||R.y>I);if(w){var B=Math.max(R.x,e),b=Math.max(R.y,n),V=Math.min(R.r,L)-B,X=Math.min(R.b,I)-b;A=V,P=X,h?T=c+(v-(B-R.x)-V):T=c+(B-R.x),f?S=d+(g-(b-R.y)-X):S=d+(b-R.y),e=B,n=b,l=V,i=X}else T=0,S=0,A=0,P=0}else h&&(T=c+(v-e-l)),f&&(S=d+(g-n-i));var G=this.source.width,U=this.source.height;return r.u0=Math.max(0,T/G),r.v0=Math.max(0,S/U),r.u1=Math.min(1,(T+A)/G),r.v1=Math.min(1,(S+P)/U),r.x=e,r.y=n,r.cx=T,r.cy=S,r.cw=A,r.ch=P,r.width=l,r.height=i,r.flipX=h,r.flipY=f,r},updateCropUVs:function(r,e,n){return this.setCropUVs(r,r.x,r.y,r.width,r.height,e,n)},setUVs:function(r,e,n,l,i,h){var f=this.data.drawImage;return f.width=r,f.height=e,this.u0=n,this.v0=l,this.u1=i,this.v1=h,this},updateUVs:function(){var r=this.cutX,e=this.cutY,n=this.cutWidth,l=this.cutHeight,i=this.data.drawImage;i.width=n,i.height=l;var h=this.source.width,f=this.source.height;return this.u0=r/h,this.v0=e/f,this.u1=(r+n)/h,this.v1=(e+l)/f,this},updateUVsInverted:function(){var r=this.source.width,e=this.source.height;return this.u0=(this.cutX+this.cutHeight)/r,this.v0=this.cutY/e,this.u1=this.cutX/r,this.v1=(this.cutY+this.cutWidth)/e,this},clone:function(){var r=new s(this.texture,this.name,this.sourceIndex);return r.cutX=this.cutX,r.cutY=this.cutY,r.cutWidth=this.cutWidth,r.cutHeight=this.cutHeight,r.x=this.x,r.y=this.y,r.width=this.width,r.height=this.height,r.halfWidth=this.halfWidth,r.halfHeight=this.halfHeight,r.centerX=this.centerX,r.centerY=this.centerY,r.rotated=this.rotated,r.data=o(!0,r.data,this.data),r.updateUVs(),r},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});u.exports=s},79237:(u,m,t)=>{var a=t(83419),p=t(4327),o=t(11876),s='Texture "%s" has no frame "%s"',r=new a({initialize:function(n,l,i,h,f){Array.isArray(i)||(i=[i]),this.manager=n,this.key=l,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var c=0;c<i.length;c++)this.source.push(new o(this,i[c],h,f))},add:function(e,n,l,i,h,f){if(this.has(e))return null;var c=new p(this,e,n,l,i,h,f);return this.frames[e]=c,this.firstFrame==="__BASE"&&(this.firstFrame=e),this.frameTotal++,c},remove:function(e){if(this.has(e)){var n=this.get(e);return n.destroy(),delete this.frames[e],!0}return!1},has:function(e){return this.frames.hasOwnProperty(e)},get:function(e){e||(e=this.firstFrame);var n=this.frames[e];return n||(console.warn(s,this.key,e),n=this.frames[this.firstFrame]),n},getTextureSourceIndex:function(e){for(var n=0;n<this.source.length;n++)if(this.source[n]===e)return n;return-1},getFramesFromTextureSource:function(e,n){n===void 0&&(n=!1);var l=[];for(var i in this.frames)if(!(i==="__BASE"&&!n)){var h=this.frames[i];h.sourceIndex===e&&l.push(h)}return l},getFrameBounds:function(e){e===void 0&&(e=0);for(var n=this.getFramesFromTextureSource(e,!0),l=n[0],i=l.cutX,h=l.cutY,f=l.cutX+l.cutWidth,c=l.cutY+l.cutHeight,d=1;d<n.length;d++){var v=n[d];v.cutX<i&&(i=v.cutX),v.cutY<h&&(h=v.cutY),v.cutX+v.cutWidth>f&&(f=v.cutX+v.cutWidth),v.cutY+v.cutHeight>c&&(c=v.cutY+v.cutHeight)}return{x:i,y:h,width:f-i,height:c-h}},getFrameNames:function(e){e===void 0&&(e=!1);var n=Object.keys(this.frames);if(!e){var l=n.indexOf("__BASE");l!==-1&&n.splice(l,1)}return n},getSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var n=this.frames[e];return n?n.source.image:(console.warn(s,this.key,e),this.frames.__BASE.source.image)},getDataSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var n=this.frames[e],l;return n?l=n.sourceIndex:(console.warn(s,this.key,e),l=this.frames.__BASE.sourceIndex),this.dataSource[l].image},setDataSource:function(e){Array.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++){var l=this.source[n];this.dataSource.push(new o(this,e[n],l.width,l.height))}},setFilter:function(e){var n;for(n=0;n<this.source.length;n++)this.source[n].setFilter(e);for(n=0;n<this.dataSource.length;n++)this.dataSource[n].setFilter(e)},destroy:function(){var e,n=this.source,l=this.dataSource;for(e=0;e<n.length;e++)n[e]&&n[e].destroy();for(e=0;e<l.length;e++)l[e]&&l[e].destroy();for(var i in this.frames){var h=this.frames[i];h&&h.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});u.exports=r},17130:(u,m,t)=>{var a=t(27919),p=t(57382),o=t(83419),s=t(40987),r=t(8054),e=t(81320),n=t(50792),l=t(69442),i=t(4327),h=t(8443),f=t(99584),c=t(35154),d=t(88571),v=t(41212),g=t(61309),y=t(87841),x=t(79237),T=new o({Extends:n,initialize:function(A){n.call(this),this.game=A,this.name="TextureManager",this.list={},this._tempCanvas=a.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new y,this.silentWarnings=!1,A.events.once(h.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(l.LOAD,this.updatePending,this),this.on(l.ERROR,this.updatePending,this);var S=this.game.config;S.defaultImage!==null&&this.addBase64("__DEFAULT",S.defaultImage),S.missingImage!==null&&this.addBase64("__MISSING",S.missingImage),S.whiteImage!==null&&this.addBase64("__WHITE",S.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(h.DESTROY,this.destroy,this),this.game.events.once(h.SYSTEM_READY,function(A){this.stamp=new d(A).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(l.LOAD),this.off(l.ERROR),this.emit(l.READY))},checkKey:function(S){return!S||typeof S!="string"||this.exists(S)?(this.silentWarnings||console.error("Texture key already in use: "+S),!1):!0},remove:function(S){if(typeof S=="string")if(this.exists(S))S=this.get(S);else return this.silentWarnings||console.warn("No texture found matching key: "+S),this;var A=S.key;return this.list.hasOwnProperty(A)&&(S.destroy(),this.emit(l.REMOVE,A),this.emit(l.REMOVE_KEY+A)),this},removeKey:function(S){return this.list.hasOwnProperty(S)&&delete this.list[S],this},addBase64:function(S,A){if(this.checkKey(S)){var P=this,D=new Image;D.onerror=function(){P.emit(l.ERROR,S)},D.onload=function(){var R=P.create(S,D);R&&(g.Image(R,0),P.emit(l.ADD,S,R),P.emit(l.ADD_KEY+S,R),P.emit(l.LOAD,S,R))},D.src=A}return this},getBase64:function(S,A,P,D){P===void 0&&(P="image/png"),D===void 0&&(D=.92);var R="",L=this.getFrame(S,A);if(L&&(L.source.isRenderTexture||L.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(L){var I=L.canvasData,w=a.create2D(this,I.width,I.height),B=w.getContext("2d",{willReadFrequently:!0});I.width>0&&I.height>0&&B.drawImage(L.source.image,I.x,I.y,I.width,I.height,0,0,I.width,I.height),R=w.toDataURL(P,D),a.remove(w)}return R},addImage:function(S,A,P){var D=null;return this.checkKey(S)&&(D=this.create(S,A),g.Image(D,0),P&&D.setDataSource(P),this.emit(l.ADD,S,D),this.emit(l.ADD_KEY+S,D)),D},addGLTexture:function(S,A){var P=null;if(this.checkKey(S)){var D=A.width,R=A.height;P=this.create(S,A,D,R),P.add("__BASE",0,0,0,D,R),this.emit(l.ADD,S,P),this.emit(l.ADD_KEY+S,P)}return P},addCompressedTexture:function(S,A,P){var D=null;if(this.checkKey(S)){if(D=this.create(S,A),D.add("__BASE",0,0,0,A.width,A.height),P){var R=function(I,w,B){Array.isArray(B.textures)||Array.isArray(B.frames)?g.JSONArray(I,w,B):g.JSONHash(I,w,B)};if(Array.isArray(P))for(var L=0;L<P.length;L++)R(D,L,P[L]);else R(D,0,P)}this.emit(l.ADD,S,D),this.emit(l.ADD_KEY+S,D)}return D},addRenderTexture:function(S,A){var P=null;return this.checkKey(S)&&(P=this.create(S,A),P.add("__BASE",0,0,0,A.width,A.height),this.emit(l.ADD,S,P),this.emit(l.ADD_KEY+S,P)),P},generate:function(S,A){if(this.checkKey(S)){var P=a.create(this,1,1);return A.canvas=P,f(A),this.addCanvas(S,P)}else return null},createCanvas:function(S,A,P){if(A===void 0&&(A=256),P===void 0&&(P=256),this.checkKey(S)){var D=a.create(this,A,P,r.CANVAS,!0);return this.addCanvas(S,D)}return null},addCanvas:function(S,A,P){P===void 0&&(P=!1);var D=null;return P?D=new p(this,S,A,A.width,A.height):this.checkKey(S)&&(D=new p(this,S,A,A.width,A.height),this.list[S]=D,this.emit(l.ADD,S,D),this.emit(l.ADD_KEY+S,D)),D},addDynamicTexture:function(S,A,P){var D=null;return typeof S=="string"&&!this.exists(S)?D=new e(this,S,A,P):(D=S,S=D.key),this.checkKey(S)?(this.list[S]=D,this.emit(l.ADD,S,D),this.emit(l.ADD_KEY+S,D)):D=null,D},addAtlas:function(S,A,P,D){return Array.isArray(P.textures)||Array.isArray(P.frames)?this.addAtlasJSONArray(S,A,P,D):this.addAtlasJSONHash(S,A,P,D)},addAtlasJSONArray:function(S,A,P,D){var R=null;if(A instanceof x?(S=A.key,R=A):this.checkKey(S)&&(R=this.create(S,A)),R){if(Array.isArray(P))for(var L=P.length===1,I=0;I<R.source.length;I++){var w=L?P[0]:P[I];g.JSONArray(R,I,w)}else g.JSONArray(R,0,P);D&&R.setDataSource(D),this.emit(l.ADD,S,R),this.emit(l.ADD_KEY+S,R)}return R},addAtlasJSONHash:function(S,A,P,D){var R=null;if(A instanceof x?(S=A.key,R=A):this.checkKey(S)&&(R=this.create(S,A)),R){if(Array.isArray(P))for(var L=0;L<P.length;L++)g.JSONHash(R,L,P[L]);else g.JSONHash(R,0,P);D&&R.setDataSource(D),this.emit(l.ADD,S,R),this.emit(l.ADD_KEY+S,R)}return R},addAtlasXML:function(S,A,P,D){var R=null;return A instanceof x?(S=A.key,R=A):this.checkKey(S)&&(R=this.create(S,A)),R&&(g.AtlasXML(R,0,P),D&&R.setDataSource(D),this.emit(l.ADD,S,R),this.emit(l.ADD_KEY+S,R)),R},addUnityAtlas:function(S,A,P,D){var R=null;return A instanceof x?(S=A.key,R=A):this.checkKey(S)&&(R=this.create(S,A)),R&&(g.UnityYAML(R,0,P),D&&R.setDataSource(D),this.emit(l.ADD,S,R),this.emit(l.ADD_KEY+S,R)),R},addSpriteSheet:function(S,A,P,D){var R=null;if(A instanceof x?(S=A.key,R=A):this.checkKey(S)&&(R=this.create(S,A)),R){var L=R.source[0].width,I=R.source[0].height;g.SpriteSheet(R,0,0,0,L,I,P),D&&R.setDataSource(D),this.emit(l.ADD,S,R),this.emit(l.ADD_KEY+S,R)}return R},addSpriteSheetFromAtlas:function(S,A){if(!this.checkKey(S))return null;var P=c(A,"atlas",null),D=c(A,"frame",null);if(!(!P||!D)){var R=this.get(P),L=R.get(D);if(L){var I=L.source.image;I||(I=L.source.glTexture);var w=this.create(S,I);return L.trimmed?g.SpriteSheetFromAtlas(w,L,A):g.SpriteSheet(w,0,L.cutX,L.cutY,L.cutWidth,L.cutHeight,A),this.emit(l.ADD,S,w),this.emit(l.ADD_KEY+S,w),w}}},addUint8Array:function(S,A,P,D){if(!this.checkKey(S)||A.length/4!==P*D)return null;var R=this.create(S,A,P,D);return R.add("__BASE",0,0,0,P,D),this.emit(l.ADD,S,R),this.emit(l.ADD_KEY+S,R),R},create:function(S,A,P,D){var R=null;return this.checkKey(S)&&(R=new x(this,S,A,P,D),this.list[S]=R),R},exists:function(S){return this.list.hasOwnProperty(S)},get:function(S){return S===void 0&&(S="__DEFAULT"),this.list[S]?this.list[S]:S instanceof x?S:S instanceof i?S.texture:this.list.__MISSING},cloneFrame:function(S,A){if(this.list[S])return this.list[S].get(A).clone()},getFrame:function(S,A){if(this.list[S])return this.list[S].get(A)},parseFrame:function(S){if(S){if(typeof S=="string")return this.getFrame(S);if(Array.isArray(S)&&S.length===2)return this.getFrame(S[0],S[1]);if(v(S))return this.getFrame(S.key,S.frame);if(S instanceof x)return S.get();if(S instanceof i)return S}else return},getTextureKeys:function(){var S=[];for(var A in this.list)A!=="__DEFAULT"&&A!=="__MISSING"&&A!=="__WHITE"&&A!=="__NORMAL"&&S.push(A);return S},getPixel:function(S,A,P,D){var R=this.getFrame(P,D);if(R){S-=R.x,A-=R.y;var L=R.data.cut;if(S+=L.x,A+=L.y,S>=L.x&&S<L.r&&A>=L.y&&A<L.b){var I=this._tempContext;I.clearRect(0,0,1,1),I.drawImage(R.source.image,S,A,1,1,0,0,1,1);var w=I.getImageData(0,0,1,1);return new s(w.data[0],w.data[1],w.data[2],w.data[3])}}return null},getPixelAlpha:function(S,A,P,D){var R=this.getFrame(P,D);if(R){S-=R.x,A-=R.y;var L=R.data.cut;if(S+=L.x,A+=L.y,S>=L.x&&S<L.r&&A>=L.y&&A<L.b){var I=this._tempContext;I.clearRect(0,0,1,1),I.drawImage(R.source.image,S,A,1,1,0,0,1,1);var w=I.getImageData(0,0,1,1);return w.data[3]}}return null},setTexture:function(S,A,P){return this.list[A]&&(S.texture=this.list[A],S.frame=S.texture.get(P)),S},renameTexture:function(S,A){var P=this.get(S);return P&&S!==A?(P.key=A,this.list[A]=P,delete this.list[S],!0):!1},each:function(S,A){for(var P=[null],D=1;D<arguments.length;D++)P.push(arguments[D]);for(var R in this.list)P[0]=this.list[R],S.apply(A,P)},resetStamp:function(S,A){S===void 0&&(S=1),A===void 0&&(A=16777215);var P=this.stamp;return P.setCrop(),P.setPosition(0),P.setAngle(0),P.setScale(1),P.setAlpha(S),P.setTint(A),P.setTexture("__WHITE"),P},destroy:function(){for(var S in this.list)this.list[S].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,a.remove(this._tempCanvas)}});u.exports=T},11876:(u,m,t)=>{var a=t(27919),p=t(83419),o=t(50030),s=t(29795),r=t(82751),e=new p({initialize:function(l,i,h,f,c){c===void 0&&(c=!1);var d=l.manager.game;this.renderer=d.renderer,this.texture=l,this.source=i,this.image=i.compressed?null:i,this.compressionAlgorithm=i.compressed?i.format:null,this.resolution=1,this.width=h||i.naturalWidth||i.videoWidth||i.width||0,this.height=f||i.naturalHeight||i.videoHeight||i.height||0,this.scaleMode=s.DEFAULT,this.isCanvas=i instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&i instanceof HTMLVideoElement,this.isRenderTexture=i.type==="RenderTexture"||i.type==="DynamicTexture",this.isGLTexture=i instanceof r,this.isPowerOf2=o(this.width,this.height),this.glTexture=null,this.flipY=c,this.init(d)},init:function(n){var l=this.renderer;if(l){var i=this.source;if(l.gl){var h=this.image,f=this.flipY,c=this.width,d=this.height,v=this.scaleMode;this.isCanvas?this.glTexture=l.createCanvasTexture(h,!1,f):this.isVideo?this.glTexture=l.createVideoTexture(h,!1,f):this.isRenderTexture?this.glTexture=l.createTextureFromSource(null,c,d,v):this.isGLTexture?this.glTexture=i:this.compressionAlgorithm?this.glTexture=l.createTextureFromSource(i,void 0,void 0,v):i instanceof Uint8Array?this.glTexture=l.createUint8ArrayTexture(i,c,d,v):this.glTexture=l.createTextureFromSource(h,c,d,v)}else this.isRenderTexture&&(this.image=i.canvas)}n.config.antialias||this.setFilter(1)},setFilter:function(n){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,n),this.scaleMode=n},setFlipY:function(n){return n===void 0&&(n=!0),n===this.flipY?this:(this.flipY=n,this.update(),this)},update:function(){var n=this.renderer,l=this.image,i=this.flipY,h=n.gl;h&&this.isCanvas?n.updateCanvasTexture(l,this.glTexture,i):h&&this.isVideo&&n.updateVideoTexture(l,this.glTexture,i)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&a.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});u.exports=e},19673:u=>{var m={LINEAR:0,NEAREST:1};u.exports=m},44538:u=>{u.exports="addtexture"},63486:u=>{u.exports="addtexture-"},94851:u=>{u.exports="onerror"},29099:u=>{u.exports="onload"},8678:u=>{u.exports="ready"},86415:u=>{u.exports="removetexture"},30879:u=>{u.exports="removetexture-"},69442:(u,m,t)=>{u.exports={ADD:t(44538),ADD_KEY:t(63486),ERROR:t(94851),LOAD:t(29099),READY:t(8678),REMOVE:t(86415),REMOVE_KEY:t(30879)}},27458:(u,m,t)=>{var a=t(79291),p=t(19673),o={CanvasTexture:t(57382),DynamicTexture:t(81320),Events:t(69442),FilterMode:p,Frame:t(4327),Parsers:t(61309),Texture:t(79237),TextureManager:t(17130),TextureSource:t(11876)};o=a(!1,o,p),u.exports=o},89905:u=>{var m=function(t,a,p){if(!p.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var o=t.source[a];t.add("__BASE",a,0,0,o.width,o.height);for(var s=p.getElementsByTagName("SubTexture"),r,e=0;e<s.length;e++){var n=s[e].attributes,l=n.name.value,i=parseInt(n.x.value,10),h=parseInt(n.y.value,10),f=parseInt(n.width.value,10),c=parseInt(n.height.value,10);if(r=t.add(l,a,i,h,f,c),n.frameX){var d=Math.abs(parseInt(n.frameX.value,10)),v=Math.abs(parseInt(n.frameY.value,10)),g=parseInt(n.frameWidth.value,10),y=parseInt(n.frameHeight.value,10);r.setTrim(f,c,d,v,g,y)}}return t};u.exports=m},72893:u=>{var m=function(t,a){var p=t.source[a];return t.add("__BASE",a,0,0,p.width,p.height),t};u.exports=m},4832:u=>{var m=function(t,a){var p=t.source[a];return t.add("__BASE",a,0,0,p.width,p.height),t};u.exports=m},78566:(u,m,t)=>{var a=t(41786),p=function(o,s,r){if(!r.frames&&!r.textures){console.warn("Invalid Texture Atlas JSON Array");return}var e=o.source[s];o.add("__BASE",s,0,0,e.width,e.height);for(var n=Array.isArray(r.textures)?r.textures[s].frames:r.frames,l,i=0;i<n.length;i++){var h=n[i];if(l=o.add(h.filename,s,h.frame.x,h.frame.y,h.frame.w,h.frame.h),!l){console.warn("Invalid atlas json, frame already exists: "+h.filename);continue}h.trimmed&&l.setTrim(h.sourceSize.w,h.sourceSize.h,h.spriteSourceSize.x,h.spriteSourceSize.y,h.spriteSourceSize.w,h.spriteSourceSize.h),h.rotated&&(l.rotated=!0,l.updateUVsInverted());var f=h.anchor||h.pivot;f&&(l.customPivot=!0,l.pivotX=f.x,l.pivotY=f.y),h.scale9Borders&&l.setScale9(h.scale9Borders.x,h.scale9Borders.y,h.scale9Borders.w,h.scale9Borders.h),l.customData=a(h)}for(var c in r)c!=="frames"&&(Array.isArray(r[c])?o.customData[c]=r[c].slice(0):o.customData[c]=r[c]);return o};u.exports=p},39711:(u,m,t)=>{var a=t(41786),p=function(o,s,r){if(!r.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var e=o.source[s];o.add("__BASE",s,0,0,e.width,e.height);var n=r.frames,l;for(var i in n)if(n.hasOwnProperty(i)){var h=n[i];if(l=o.add(i,s,h.frame.x,h.frame.y,h.frame.w,h.frame.h),!l){console.warn("Invalid atlas json, frame already exists: "+i);continue}h.trimmed&&l.setTrim(h.sourceSize.w,h.sourceSize.h,h.spriteSourceSize.x,h.spriteSourceSize.y,h.spriteSourceSize.w,h.spriteSourceSize.h),h.rotated&&(l.rotated=!0,l.updateUVsInverted());var f=h.anchor||h.pivot;f&&(l.customPivot=!0,l.pivotX=f.x,l.pivotY=f.y),h.scale9Borders&&l.setScale9(h.scale9Borders.x,h.scale9Borders.y,h.scale9Borders.w,h.scale9Borders.h),l.customData=a(h)}for(var c in r)c!=="frames"&&(Array.isArray(r[c])?o.customData[c]=r[c].slice(0):o.customData[c]=r[c]);return o};u.exports=p},31403:u=>{var m=function(t){var a=[171,75,84,88,32,49,49,187,13,10,26,10],p,o=new Uint8Array(t,0,12);for(p=0;p<o.length;p++)if(o[p]!==a[p]){console.warn("KTXParser - Invalid file format");return}var s=Uint32Array.BYTES_PER_ELEMENT,r=new DataView(t,12,13*s),e=r.getUint32(0,!0)===67305985,n=r.getUint32(1*s,e);if(n!==0){console.warn("KTXParser - Only compressed formats supported");return}var l=r.getUint32(4*s,e),i=r.getUint32(6*s,e),h=r.getUint32(7*s,e),f=Math.max(1,r.getUint32(11*s,e)),c=r.getUint32(12*s,e),d=new Array(f),v=12+13*4+c,g=i,y=h;for(p=0;p<f;p++){var x=new Int32Array(t,v,1)[0];v+=4,d[p]={data:new Uint8Array(t,v,x),width:g,height:y},g=Math.max(1,g>>1),y=Math.max(1,y>>1),v+=x}return{mipmaps:d,width:i,height:h,internalFormat:l,compressed:!0,generateMipmap:!1}};u.exports=m},82038:u=>{function m(A,P,D,R,L,I,w){return w===void 0&&(w=16),Math.floor((A+D)/L)*Math.floor((P+R)/I)*w}function t(A,P){return A=Math.max(A,16),P=Math.max(P,8),A*P/4}function a(A,P){return A=Math.max(A,8),P=Math.max(P,8),A*P/2}function p(A,P){return Math.ceil(A/4)*Math.ceil(P/4)*16}function o(A,P){return m(A,P,3,3,4,4,8)}function s(A,P){return m(A,P,3,3,4,4)}function r(A,P){return m(A,P,4,3,5,4)}function e(A,P){return m(A,P,4,4,5,5)}function n(A,P){return m(A,P,5,4,6,5)}function l(A,P){return m(A,P,5,5,6,6)}function i(A,P){return m(A,P,7,4,8,5)}function h(A,P){return m(A,P,7,5,8,6)}function f(A,P){return m(A,P,7,7,8,8)}function c(A,P){return m(A,P,9,4,10,5)}function d(A,P){return m(A,P,9,5,10,6)}function v(A,P){return m(A,P,9,7,10,8)}function g(A,P){return m(A,P,9,9,10,10)}function y(A,P){return m(A,P,11,9,12,10)}function x(A,P){return m(A,P,11,11,12,12)}var T={0:{sizeFunc:t,glFormat:[35841]},1:{sizeFunc:t,glFormat:[35843]},2:{sizeFunc:a,glFormat:[35840]},3:{sizeFunc:a,glFormat:[35842]},6:{sizeFunc:o,glFormat:[36196]},7:{sizeFunc:o,glFormat:[33776,35916]},8:{sizeFunc:s,glFormat:[33777,35917]},9:{sizeFunc:s,glFormat:[33778,35918]},11:{sizeFunc:s,glFormat:[33779,35919]},14:{sizeFunc:p,glFormat:[36494,36495]},15:{sizeFunc:p,glFormat:[36492,36493]},22:{sizeFunc:o,glFormat:[37492,37493]},23:{sizeFunc:s,glFormat:[37496,37497]},24:{sizeFunc:o,glFormat:[37494,37495]},25:{sizeFunc:o,glFormat:[37488]},26:{sizeFunc:s,glFormat:[37490]},27:{sizeFunc:s,glFormat:[37808,37840]},28:{sizeFunc:r,glFormat:[37809,37841]},29:{sizeFunc:e,glFormat:[37810,37842]},30:{sizeFunc:n,glFormat:[37811,37843]},31:{sizeFunc:l,glFormat:[37812,37844]},32:{sizeFunc:i,glFormat:[37813,37845]},33:{sizeFunc:h,glFormat:[37814,37846]},34:{sizeFunc:f,glFormat:[37815,37847]},35:{sizeFunc:c,glFormat:[37816,37848]},36:{sizeFunc:d,glFormat:[37817,37849]},37:{sizeFunc:v,glFormat:[37818,37850]},38:{sizeFunc:g,glFormat:[37819,37851]},39:{sizeFunc:y,glFormat:[37820,37852]},40:{sizeFunc:x,glFormat:[37821,37853]}},S=function(A){for(var P=new Uint32Array(A,0,13),D=P[0],R=D===55727696,L=R?P[2]:P[3],I=P[4],w=T[L].glFormat[I],B=T[L].sizeFunc,b=P[11],V=P[7],X=P[6],G=52+P[12],U=new Uint8Array(A,G),O=new Array(b),z=0,N=V,Y=X,W=0;W<b;W++){var H=B(N,Y);O[W]={data:new Uint8Array(U.buffer,U.byteOffset+z,H),width:N,height:Y},N=Math.max(1,N>>1),Y=Math.max(1,Y>>1),z+=H}return{mipmaps:O,width:V,height:X,internalFormat:w,compressed:!0,generateMipmap:!1}};u.exports=S},75549:(u,m,t)=>{var a=t(95540),p=function(o,s,r,e,n,l,i){var h=a(i,"frameWidth",null),f=a(i,"frameHeight",h);if(h===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var c=o.source[s];o.add("__BASE",s,0,0,c.width,c.height);var d=a(i,"startFrame",0),v=a(i,"endFrame",-1),g=a(i,"margin",0),y=a(i,"spacing",0),x=Math.floor((n-g+y)/(h+y)),T=Math.floor((l-g+y)/(f+y)),S=x*T;S===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",o.key),(d>S||d<-S)&&(d=0),d<0&&(d=S+d),(v===-1||v>S||v<d)&&(v=S);for(var A=g,P=g,D=0,R=0,L=0,I=0;I<S;I++){D=0,R=0;var w=A+h,B=P+f;w>n&&(D=w-n),B>l&&(R=B-l),I>=d&&I<=v&&(o.add(L,s,r+A,e+P,h-D,f-R),L++),A+=h+y,A+h>n&&(A=g,P+=f+y)}return o};u.exports=p},47534:(u,m,t)=>{var a=t(95540),p=function(o,s,r){var e=a(r,"frameWidth",null),n=a(r,"frameHeight",e);if(!e)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var l=o.source[0];o.add("__BASE",0,0,0,l.width,l.height);var i=a(r,"startFrame",0),h=a(r,"endFrame",-1),f=a(r,"margin",0),c=a(r,"spacing",0),d=s.cutX,v=s.cutY,g=s.cutWidth,y=s.cutHeight,x=s.realWidth,T=s.realHeight,S=Math.floor((x-f+c)/(e+c)),A=Math.floor((T-f+c)/(n+c)),P=S*A,D=s.x,R=e-D,L=e-(x-g-D),I=s.y,w=n-I,B=n-(T-y-I);(i>P||i<-P)&&(i=0),i<0&&(i=P+i),h!==-1&&(P=i+(h+1));for(var b,V=f,X=f,G=0,U=0,O=0;O<A;O++){for(var z=O===0,N=O===A-1,Y=0;Y<S;Y++){var W=Y===0,H=Y===S-1;if(b=o.add(G,U,d+V,v+X,e,n),W||z||H||N){var $=W?D:0,K=z?I:0,Z=0,J=0;W&&(Z+=e-R),H&&(Z+=e-L),z&&(J+=n-w),N&&(J+=n-B);var j=e-Z,Q=n-J;b.cutWidth=j,b.cutHeight=Q,b.setTrim(e,n,$,K,j,Q)}V+=c,W?V+=R:H?V+=L:V+=e,G++}V=f,X+=c,z?X+=w:N?X+=B:X+=n}return o};u.exports=p},86147:u=>{var m=0,t=function(p,o,s,r){var e=m-r.y-r.height;p.add(s,o,r.x,e,r.width,r.height)},a=function(p,o,s){var r=p.source[o];p.add("__BASE",o,0,0,r.width,r.height),m=r.height;for(var e=s.split(`
`),n=/^[ ]*(- )*(\w+)+[: ]+(.*)/,l="",i="",h={x:0,y:0,width:0,height:0},f=0;f<e.length;f++){var c=e[f].match(n);if(c){var d=c[1]==="- ",v=c[2],g=c[3];if(d&&(i!==l&&(t(p,o,i,h),l=i),h={x:0,y:0,width:0,height:0}),v==="name"){i=g;continue}switch(v){case"x":case"y":case"width":case"height":h[v]=parseInt(g,10);break}}}return i!==l&&t(p,o,i,h),p};u.exports=a},55222:(u,m,t)=>{var a=t(50030),p=function(l){for(var i=l.mipmaps,h=1;h<i.length;h++){var f=i[h].width,c=i[h].height;if(!a(f,c))return console.warn("Mip level "+h+" is not a power-of-two size: "+f+"x"+c),!1}var d=n[l.internalFormat];return d?d(l):(console.warn("No format checker found for internal format "+l.internalFormat+". Assuming valid."),!0)};function o(l){for(var i=l.mipmaps,h=0;h<i.length;h++){var f=i[h].width,c=i[h].height;if((f<<h)%4!==0||(c<<h)%4!==0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+h+" is "+f+"x"+c),!1}return!0}function s(){return!0}function r(l){var i=l.mipmaps,h=i[0];return a(h.width,h.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+h.width+"x"+h.height),!1)}function e(l){var i=l.mipmaps,h=i[0];return h.width%4!==0||h.height%4!==0?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+h.width+"x"+h.height+" pixels"),!1):!0}var n={37488:s,37489:s,37490:s,37491:s,37492:s,37493:s,37494:s,37495:s,37496:s,37497:s,36196:s,37808:s,37809:s,37810:s,37811:s,37812:s,37813:s,37814:s,37815:s,37816:s,37817:s,37818:s,37819:s,37820:s,37821:s,37840:s,37841:s,37842:s,37843:s,37844:s,37845:s,37846:s,37847:s,37848:s,37849:s,37850:s,37851:s,37852:s,37853:s,36492:o,36493:o,36494:o,36495:o,36283:o,36284:o,36285:o,36286:o,35840:r,35841:r,35842:r,35843:r,33776:o,33777:o,33778:o,33779:o,35916:e,35917:e,35918:e,35919:e};u.exports=p},61309:(u,m,t)=>{u.exports={AtlasXML:t(89905),Canvas:t(72893),Image:t(4832),JSONArray:t(78566),JSONHash:t(39711),KTXParser:t(31403),PVRParser:t(82038),SpriteSheet:t(75549),SpriteSheetFromAtlas:t(47534),UnityYAML:t(86147)}},80341:u=>{u.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(u,m,t)=>{var a=t(83419),p=new a({initialize:function(s,r,e,n,l,i,h){(e===void 0||e<=0)&&(e=32),(n===void 0||n<=0)&&(n=32),l===void 0&&(l=0),i===void 0&&(i=0),this.name=s,this.firstgid=r|0,this.imageWidth=e|0,this.imageHeight=n|0,this.imageMargin=l|0,this.imageSpacing=i|0,this.properties=h||{},this.images=[],this.total=0},containsImageIndex:function(o){return o>=this.firstgid&&o<this.firstgid+this.total},addImage:function(o,s,r,e){return this.images.push({gid:o,image:s,width:r,height:e}),this.total++,this}});u.exports=p},27462:(u,m,t)=>{var a=t(83419),p=new a({initialize:function(s){if(this.gids=[],s!==void 0)for(var r=0;r<s.length;++r)for(var e=s[r],n=0;n<e.total;++n)this.gids[e.firstgid+n]=e;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(o){this.gids=o?this._gids:void 0}},getTypeIncludingTile:function(o){if(o.type!==void 0&&o.type!=="")return o.type;if(!(!this.gids||o.gid===void 0)){var s=this.gids[o.gid];if(s){var r=s.getTileData(o.gid);if(r)return r.type}}},setTextureAndFrame:function(o,s,r,e){if(s===null&&this.gids&&e.gid!==void 0){var n=this.gids[e.gid];n&&(s===null&&n.image!==void 0&&(s=n.image.key),r===null&&(r=e.gid-n.firstgid),o.scene.textures.getFrame(s,r)||(s=null,r=null))}o.setTexture(s,r)},setPropertiesFromTiledObject:function(o,s){if(this.gids!==void 0&&s.gid!==void 0){var r=this.gids[s.gid];r!==void 0&&this.setFromJSON(o,r.getTileProperties(s.gid))}this.setFromJSON(o,s.properties)},setFromJSON:function(o,s){if(s){if(Array.isArray(s)){for(var r=0;r<s.length;r++){var e=s[r];o[e.name]!==void 0?o[e.name]=e.value:o.setData(e.name,e.value)}return}for(var n in s)o[n]!==void 0?o[n]=s[n]:o.setData(n,s[n])}}});u.exports=p},31989:(u,m,t)=>{var a=t(80341),p=t(87010),o=t(46177),s=t(49075),r=function(e,n,l,i,h,f,c,d){l===void 0&&(l=32),i===void 0&&(i=32),h===void 0&&(h=10),f===void 0&&(f=10),d===void 0&&(d=!1);var v=null;if(Array.isArray(c)){var g=n!==void 0?n:"map";v=o(g,a.ARRAY_2D,c,l,i,d)}else if(n!==void 0){var y=e.cache.tilemap.get(n);y?v=o(n,y.format,y.data,l,i,d):console.warn("No map data found for key "+n)}return v===null&&(v=new p({tileWidth:l,tileHeight:i,width:h,height:f})),new s(e,v)};u.exports=r},23029:(u,m,t)=>{var a=t(83419),p=t(31401),o=t(91907),s=t(62644),r=t(93232),e=new a({Mixins:[p.AlphaSingle,p.Flip,p.Visible],initialize:function(l,i,h,f,c,d,v,g){this.layer=l,this.index=i,this.x=h,this.y=f,this.width=c,this.height=d,this.right,this.bottom,this.baseWidth=v!==void 0?v:c,this.baseHeight=g!==void 0?g:d,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(n,l){return!(n<this.pixelX||l<this.pixelY||n>this.right||l>this.bottom)},copy:function(n){return this.index=n.index,this.alpha=n.alpha,this.properties=s(n.properties),this.visible=n.visible,this.setFlip(n.flipX,n.flipY),this.tint=n.tint,this.rotation=n.rotation,this.collideUp=n.collideUp,this.collideDown=n.collideDown,this.collideLeft=n.collideLeft,this.collideRight=n.collideRight,this.collisionCallback=n.collisionCallback,this.collisionCallbackContext=n.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(n){var l=this.tilemapLayer;if(l){var i=l.tileToWorldXY(this.x,this.y,void 0,n);return i.x}return this.x*this.baseWidth},getRight:function(n){var l=this.tilemapLayer;return l?this.getLeft(n)+this.width*l.scaleX:this.getLeft(n)+this.width},getTop:function(n){var l=this.tilemapLayer;if(l){var i=l.tileToWorldXY(this.x,this.y,void 0,n);return i.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(n){var l=this.tilemapLayer;return l?this.getTop(n)+this.height*l.scaleY:this.getTop(n)+this.height},getBounds:function(n,l){return l===void 0&&(l=new r),l.x=this.getLeft(n),l.y=this.getTop(n),l.width=this.getRight(n)-l.x,l.height=this.getBottom(n)-l.y,l},getCenterX:function(n){return(this.getLeft(n)+this.getRight(n))/2},getCenterY:function(n){return(this.getTop(n)+this.getBottom(n))/2},intersects:function(n,l,i,h){return!(i<=this.pixelX||h<=this.pixelY||n>=this.right||l>=this.bottom)},isInteresting:function(n,l){return n&&l?this.canCollide||this.hasInterestingFace:n?this.collides:l?this.hasInterestingFace:!1},resetCollision:function(n){if(n===void 0&&(n=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,n){var l=this.tilemapLayer;l&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(n,l,i,h,f){if(l===void 0&&(l=n),i===void 0&&(i=n),h===void 0&&(h=n),f===void 0&&(f=!0),this.collideLeft=n,this.collideRight=l,this.collideUp=i,this.collideDown=h,this.faceLeft=n,this.faceRight=l,this.faceTop=i,this.faceBottom=h,f){var c=this.tilemapLayer;c&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(n,l){return n===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=n,this.collisionCallbackContext=l),this},setSize:function(n,l,i,h){return n!==void 0&&(this.width=n),l!==void 0&&(this.height=l),i!==void 0&&(this.baseWidth=i),h!==void 0&&(this.baseHeight=h),this.updatePixelXY(),this},updatePixelXY:function(){var n=this.layer.orientation;if(n===o.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(n===o.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(n===o.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(n===o.HEXAGONAL){var l=this.layer.staggerAxis,i=this.layer.staggerIndex,h=this.layer.hexSideLength,f,c;l==="y"?(c=(this.baseHeight-h)/2+h,i==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*c):l==="x"&&(f=(this.baseWidth-h)/2+h,this.pixelX=this.x*f,i==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var n=this.layer.tilemapLayer;if(n){var l=n.gidMap[this.index];if(l)return l}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var n=this.tilemapLayer;return n?n.tilemap:null}}});u.exports=e},49075:(u,m,t)=>{var a=t(84101),p=t(83419),o=t(39506),s=t(80341),r=t(95540),e=t(14977),n=t(27462),l=t(91907),i=t(36305),h=t(19133),f=t(68287),c=t(23029),d=t(81086),v=t(20442),g=t(33629),y=new p({initialize:function(T,S){this.scene=T,this.tileWidth=S.tileWidth,this.tileHeight=S.tileHeight,this.width=S.width,this.height=S.height,this.orientation=S.orientation,this.renderOrder=S.renderOrder,this.format=S.format,this.version=S.version,this.properties=S.properties,this.widthInPixels=S.widthInPixels,this.heightInPixels=S.heightInPixels,this.imageCollections=S.imageCollections,this.images=S.images,this.layers=S.layers,this.tiles=S.tiles,this.tilesets=S.tilesets,this.objects=S.objects,this.currentLayerIndex=0,this.hexSideLength=S.hexSideLength;var A=this.orientation;this._convert={WorldToTileXY:d.GetWorldToTileXYFunction(A),WorldToTileX:d.GetWorldToTileXFunction(A),WorldToTileY:d.GetWorldToTileYFunction(A),TileToWorldXY:d.GetTileToWorldXYFunction(A),TileToWorldX:d.GetTileToWorldXFunction(A),TileToWorldY:d.GetTileToWorldYFunction(A),GetTileCorners:d.GetTileCornersFunction(A)}},setRenderOrder:function(x){var T=["right-down","left-down","right-up","left-up"];return typeof x=="number"&&(x=T[x]),T.indexOf(x)>-1&&(this.renderOrder=x),this},addTilesetImage:function(x,T,S,A,P,D,R,L){if(x===void 0)return null;T==null&&(T=x);var I=this.scene.sys.textures;if(!I.exists(T))return console.warn('Texture key "%s" not found',T),null;var w=I.get(T),B=this.getTilesetIndex(x);if(B===null&&this.format===s.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',x,this.tilesets),null;var b=this.tilesets[B];return b?((S||A)&&b.setTileSize(S,A),(P||D)&&b.setSpacing(P,D),b.setImage(w),b):(S===void 0&&(S=this.tileWidth),A===void 0&&(A=this.tileHeight),P===void 0&&(P=0),D===void 0&&(D=0),R===void 0&&(R=0),L===void 0&&(L={x:0,y:0}),b=new g(x,R,S,A,P,D,void 0,void 0,L),b.setImage(w),this.tilesets.push(b),this.tiles=a(this),b)},copy:function(x,T,S,A,P,D,R,L){return L=this.getLayer(L),L!==null?(d.Copy(x,T,S,A,P,D,R,L),this):null},createBlankLayer:function(x,T,S,A,P,D,R,L){S===void 0&&(S=0),A===void 0&&(A=0),P===void 0&&(P=this.width),D===void 0&&(D=this.height),R===void 0&&(R=this.tileWidth),L===void 0&&(L=this.tileHeight);var I=this.getLayerIndex(x);if(I!==null)return console.warn("Invalid Tilemap Layer ID: "+x),null;for(var w=new e({name:x,tileWidth:R,tileHeight:L,width:P,height:D,orientation:this.orientation,hexSideLength:this.hexSideLength}),B,b=0;b<D;b++){B=[];for(var V=0;V<P;V++)B.push(new c(w,-1,V,b,R,L,this.tileWidth,this.tileHeight));w.data.push(B)}this.layers.push(w),this.currentLayerIndex=this.layers.length-1;var X=new v(this.scene,this,this.currentLayerIndex,T,S,A);return X.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(X),X},createLayer:function(x,T,S,A){var P=this.getLayerIndex(x);if(P===null)return console.warn("Invalid Tilemap Layer ID: "+x),typeof x=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var D=this.layers[P];if(D.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+x),null;this.currentLayerIndex=P,S===void 0&&(S=D.x),A===void 0&&(A=D.y);var R=new v(this.scene,this,P,T,S,A);return R.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(R),R},createFromObjects:function(x,T,S){S===void 0&&(S=!0);var A=[],P=this.getObjectLayer(x);if(!P)return console.warn("createFromObjects: Invalid objectLayerName given: "+x),A;var D=new n(S?this.tilesets:void 0);Array.isArray(T)||(T=[T]);for(var R=P.objects,L=0;L<T.length;L++){var I=T[L],w=r(I,"id",null),B=r(I,"gid",null),b=r(I,"name",null),V=r(I,"type",null);D.enabled=!r(I,"ignoreTileset",null);for(var X,G=[],U=0;U<R.length;U++)X=R[U],(w===null&&B===null&&b===null&&V===null||w!==null&&X.id===w||B!==null&&X.gid===B||b!==null&&X.name===b||V!==null&&D.getTypeIncludingTile(X)===V)&&G.push(X);for(var O=r(I,"classType",f),z=r(I,"scene",this.scene),N=r(I,"container",null),Y=r(I,"key",null),W=r(I,"frame",null),H=0;H<G.length;H++){X=G[H];var $=new O(z);if($.setName(X.name),$.setPosition(X.x,X.y),D.setTextureAndFrame($,Y,W,X),X.width&&($.displayWidth=X.width),X.height&&($.displayHeight=X.height),this.orientation===l.ISOMETRIC){var K=this.tileWidth/this.tileHeight,Z={x:$.x-$.y,y:($.x+$.y)/K};$.x=Z.x,$.y=Z.y}var J={x:$.originX*X.width,y:($.originY-(X.gid?1:0))*X.height};if(X.rotation){var j=o(X.rotation);i(J,j),$.rotation=j}$.x+=J.x,$.y+=J.y,(X.flippedHorizontal!==void 0||X.flippedVertical!==void 0)&&$.setFlip(X.flippedHorizontal,X.flippedVertical),X.visible||($.visible=!1),D.setPropertiesFromTiledObject($,X),N?N.add($):z.add.existing($),A.push($)}}return A},createFromTiles:function(x,T,S,A,P,D){return D=this.getLayer(D),D===null?null:d.CreateFromTiles(x,T,S,A,P,D)},fill:function(x,T,S,A,P,D,R){return D===void 0&&(D=!0),R=this.getLayer(R),R===null?null:(d.Fill(x,T,S,A,P,D,R),this)},filterObjects:function(x,T,S){if(typeof x=="string"){var A=x;if(x=this.getObjectLayer(x),!x)return console.warn("No object layer found with the name: "+A),null}return x.objects.filter(T,S)},filterTiles:function(x,T,S,A,P,D,R,L){return L=this.getLayer(L),L===null?null:d.FilterTiles(x,T,S,A,P,D,R,L)},findByIndex:function(x,T,S,A){return A=this.getLayer(A),A===null?null:d.FindByIndex(x,T,S,A)},findObject:function(x,T,S){if(typeof x=="string"){var A=x;if(x=this.getObjectLayer(x),!x)return console.warn("No object layer found with the name: "+A),null}return x.objects.find(T,S)||null},findTile:function(x,T,S,A,P,D,R,L){return L=this.getLayer(L),L===null?null:d.FindTile(x,T,S,A,P,D,R,L)},forEachTile:function(x,T,S,A,P,D,R,L){return L=this.getLayer(L),L===null?null:(d.ForEachTile(x,T,S,A,P,D,R,L),this)},getImageIndex:function(x){return this.getIndex(this.images,x)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(x){return x.name})},getIndex:function(x,T){for(var S=0;S<x.length;S++)if(x[S].name===T)return S;return null},getLayer:function(x){var T=this.getLayerIndex(x);return T!==null?this.layers[T]:null},getObjectLayer:function(x){var T=this.getIndex(this.objects,x);return T!==null?this.objects[T]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(x){return x.name})},getLayerIndex:function(x){return x===void 0?this.currentLayerIndex:typeof x=="string"?this.getLayerIndexByName(x):typeof x=="number"&&x<this.layers.length?x:x instanceof v&&x.tilemap===this?x.layerIndex:null},getLayerIndexByName:function(x){return this.getIndex(this.layers,x)},getTileAt:function(x,T,S,A){return A=this.getLayer(A),A===null?null:d.GetTileAt(x,T,S,A)},getTileAtWorldXY:function(x,T,S,A,P){return P=this.getLayer(P),P===null?null:d.GetTileAtWorldXY(x,T,S,A,P)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(x){return x.name})},getTilesWithin:function(x,T,S,A,P,D){return D=this.getLayer(D),D===null?null:d.GetTilesWithin(x,T,S,A,P,D)},getTilesWithinShape:function(x,T,S,A){return A=this.getLayer(A),A===null?null:d.GetTilesWithinShape(x,T,S,A)},getTilesWithinWorldXY:function(x,T,S,A,P,D,R){return R=this.getLayer(R),R===null?null:d.GetTilesWithinWorldXY(x,T,S,A,P,D,R)},getTileset:function(x){var T=this.getIndex(this.tilesets,x);return T!==null?this.tilesets[T]:null},getTilesetIndex:function(x){return this.getIndex(this.tilesets,x)},hasTileAt:function(x,T,S){return S=this.getLayer(S),S===null?null:d.HasTileAt(x,T,S)},hasTileAtWorldXY:function(x,T,S,A){return A=this.getLayer(A),A===null?null:d.HasTileAtWorldXY(x,T,S,A)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(x){this.setLayer(x)}},putTileAt:function(x,T,S,A,P){return A===void 0&&(A=!0),P=this.getLayer(P),P===null?null:d.PutTileAt(x,T,S,A,P)},putTileAtWorldXY:function(x,T,S,A,P,D){return A===void 0&&(A=!0),D=this.getLayer(D),D===null?null:d.PutTileAtWorldXY(x,T,S,A,P,D)},putTilesAt:function(x,T,S,A,P){return A===void 0&&(A=!0),P=this.getLayer(P),P===null?null:(d.PutTilesAt(x,T,S,A,P),this)},randomize:function(x,T,S,A,P,D){return D=this.getLayer(D),D===null?null:(d.Randomize(x,T,S,A,P,D),this)},calculateFacesAt:function(x,T,S){return S=this.getLayer(S),S===null?null:(d.CalculateFacesAt(x,T,S),this)},calculateFacesWithin:function(x,T,S,A,P){return P=this.getLayer(P),P===null?null:(d.CalculateFacesWithin(x,T,S,A,P),this)},removeLayer:function(x){var T=this.getLayerIndex(x);if(T!==null){h(this.layers,T);for(var S=T;S<this.layers.length;S++)this.layers[S].tilemapLayer&&this.layers[S].tilemapLayer.layerIndex--;return this.currentLayerIndex===T&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(x){var T=this.getLayerIndex(x);return T!==null?(x=this.layers[T],x.tilemapLayer.destroy(),h(this.layers,T),this.currentLayerIndex===T&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var x=this.layers,T=0;T<x.length;T++)x[T].tilemapLayer&&x[T].tilemapLayer.destroy(!1);return x.length=0,this.currentLayerIndex=0,this},removeTile:function(x,T,S){T===void 0&&(T=-1),S===void 0&&(S=!0);var A=[];Array.isArray(x)||(x=[x]);for(var P=0;P<x.length;P++){var D=x[P];A.push(this.removeTileAt(D.x,D.y,!0,S,D.tilemapLayer)),T>-1&&this.putTileAt(T,D.x,D.y,S,D.tilemapLayer)}return A},removeTileAt:function(x,T,S,A,P){return S===void 0&&(S=!0),A===void 0&&(A=!0),P=this.getLayer(P),P===null?null:d.RemoveTileAt(x,T,S,A,P)},removeTileAtWorldXY:function(x,T,S,A,P,D){return S===void 0&&(S=!0),A===void 0&&(A=!0),D=this.getLayer(D),D===null?null:d.RemoveTileAtWorldXY(x,T,S,A,P,D)},renderDebug:function(x,T,S){return S=this.getLayer(S),S===null?null:(this.orientation===l.ORTHOGONAL&&d.RenderDebug(x,T,S),this)},renderDebugFull:function(x,T){for(var S=this.layers,A=0;A<S.length;A++)d.RenderDebug(x,T,S[A]);return this},replaceByIndex:function(x,T,S,A,P,D,R){return R=this.getLayer(R),R===null?null:(d.ReplaceByIndex(x,T,S,A,P,D,R),this)},setCollision:function(x,T,S,A,P){return T===void 0&&(T=!0),S===void 0&&(S=!0),P===void 0&&(P=!0),A=this.getLayer(A),A===null?null:(d.SetCollision(x,T,S,A,P),this)},setCollisionBetween:function(x,T,S,A,P){return S===void 0&&(S=!0),A===void 0&&(A=!0),P=this.getLayer(P),P===null?null:(d.SetCollisionBetween(x,T,S,A,P),this)},setCollisionByProperty:function(x,T,S,A){return T===void 0&&(T=!0),S===void 0&&(S=!0),A=this.getLayer(A),A===null?null:(d.SetCollisionByProperty(x,T,S,A),this)},setCollisionByExclusion:function(x,T,S,A){return T===void 0&&(T=!0),S===void 0&&(S=!0),A=this.getLayer(A),A===null?null:(d.SetCollisionByExclusion(x,T,S,A),this)},setCollisionFromCollisionGroup:function(x,T,S){return x===void 0&&(x=!0),T===void 0&&(T=!0),S=this.getLayer(S),S===null?null:(d.SetCollisionFromCollisionGroup(x,T,S),this)},setTileIndexCallback:function(x,T,S,A){return A=this.getLayer(A),A===null?null:(d.SetTileIndexCallback(x,T,S,A),this)},setTileLocationCallback:function(x,T,S,A,P,D,R){return R=this.getLayer(R),R===null?null:(d.SetTileLocationCallback(x,T,S,A,P,D,R),this)},setLayer:function(x){var T=this.getLayerIndex(x);return T!==null&&(this.currentLayerIndex=T),this},setBaseTileSize:function(x,T){this.tileWidth=x,this.tileHeight=T,this.widthInPixels=this.width*x,this.heightInPixels=this.height*T;for(var S=0;S<this.layers.length;S++){this.layers[S].baseTileWidth=x,this.layers[S].baseTileHeight=T;for(var A=this.layers[S].data,P=this.layers[S].width,D=this.layers[S].height,R=0;R<D;R++)for(var L=0;L<P;L++){var I=A[R][L];I!==null&&I.setSize(void 0,void 0,x,T)}}return this},setLayerTileSize:function(x,T,S){if(S=this.getLayer(S),S===null)return this;S.tileWidth=x,S.tileHeight=T;for(var A=S.data,P=S.width,D=S.height,R=0;R<D;R++)for(var L=0;L<P;L++){var I=A[R][L];I!==null&&I.setSize(x,T)}return this},shuffle:function(x,T,S,A,P){return P=this.getLayer(P),P===null?null:(d.Shuffle(x,T,S,A,P),this)},swapByIndex:function(x,T,S,A,P,D,R){return R=this.getLayer(R),R===null?null:(d.SwapByIndex(x,T,S,A,P,D,R),this)},tileToWorldX:function(x,T,S){return S=this.getLayer(S),S===null?null:this._convert.TileToWorldX(x,T,S)},tileToWorldY:function(x,T,S){return S=this.getLayer(S),S===null?null:this._convert.TileToWorldY(x,T,S)},tileToWorldXY:function(x,T,S,A,P){return P=this.getLayer(P),P===null?null:this._convert.TileToWorldXY(x,T,S,A,P)},getTileCorners:function(x,T,S,A){return A=this.getLayer(A),A===null?null:this._convert.GetTileCorners(x,T,S,A)},weightedRandomize:function(x,T,S,A,P,D){return D=this.getLayer(D),D===null?null:(d.WeightedRandomize(T,S,A,P,x,D),this)},worldToTileX:function(x,T,S,A){return A=this.getLayer(A),A===null?null:this._convert.WorldToTileX(x,T,S,A)},worldToTileY:function(x,T,S,A){return A=this.getLayer(A),A===null?null:this._convert.WorldToTileY(x,T,S,A)},worldToTileXY:function(x,T,S,A,P,D){return D=this.getLayer(D),D===null?null:this._convert.WorldToTileXY(x,T,S,A,P,D)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});u.exports=y},45939:(u,m,t)=>{var a=t(44603),p=t(31989);a.register("tilemap",function(o){var s=o!==void 0?o:{};return p(this.scene,s.key,s.tileWidth,s.tileHeight,s.width,s.height,s.data,s.insertNull)})},46029:(u,m,t)=>{var a=t(39429),p=t(31989);a.register("tilemap",function(o,s,r,e,n,l,i){return o===null&&(o=void 0),s===null&&(s=void 0),r===null&&(r=void 0),e===null&&(e=void 0),n===null&&(n=void 0),p(this.scene,o,s,r,e,n,l,i)})},20442:(u,m,t)=>{var a=t(83419),p=t(78389),o=t(31401),s=t(95643),r=t(81086),e=t(19218),n=t(26099),l=new a({Extends:s,Mixins:[o.Alpha,o.BlendMode,o.ComputedSize,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.Transform,o.Visible,o.ScrollFactor,p,e],initialize:function(h,f,c,d,v,g){s.call(this,h,"TilemapLayer"),this.isTilemap=!0,this.tilemap=f,this.layerIndex=c,this.layer=f.layers[c],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=r.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new n,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(d),this.setAlpha(this.layer.alpha),this.setPosition(v,g),this.setOrigin(0,0),this.setSize(f.tileWidth*this.layer.width,f.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(i){var h=[],f=[],c=this.tilemap;Array.isArray(i)||(i=[i]);for(var d=0;d<i.length;d++){var v=i[d];if(typeof v=="string"&&(v=c.getTileset(v)),v){f.push(v);for(var g=v.firstgid,y=0;y<v.total;y++)h[g+y]=v}}this.gidMap=h,this.tileset=f},setRenderOrder:function(i){var h=["right-down","left-down","right-up","left-up"];return typeof i=="string"&&(i=h.indexOf(i)),i>=0&&i<4&&(this._renderOrder=i),this},calculateFacesAt:function(i,h){return r.CalculateFacesAt(i,h,this.layer),this},calculateFacesWithin:function(i,h,f,c){return r.CalculateFacesWithin(i,h,f,c,this.layer),this},createFromTiles:function(i,h,f,c,d){return r.CreateFromTiles(i,h,f,c,d,this.layer)},cull:function(i){return this.cullCallback(this.layer,i,this.culledTiles,this._renderOrder)},copy:function(i,h,f,c,d,v,g){return r.Copy(i,h,f,c,d,v,g,this.layer),this},fill:function(i,h,f,c,d,v){return r.Fill(i,h,f,c,d,v,this.layer),this},filterTiles:function(i,h,f,c,d,v,g){return r.FilterTiles(i,h,f,c,d,v,g,this.layer)},findByIndex:function(i,h,f){return r.FindByIndex(i,h,f,this.layer)},findTile:function(i,h,f,c,d,v,g){return r.FindTile(i,h,f,c,d,v,g,this.layer)},forEachTile:function(i,h,f,c,d,v,g){return r.ForEachTile(i,h,f,c,d,v,g,this.layer),this},setTint:function(i,h,f,c,d,v){i===void 0&&(i=16777215);var g=function(y){y.tint=i,y.tintFill=!1};return this.forEachTile(g,this,h,f,c,d,v)},setTintFill:function(i,h,f,c,d,v){i===void 0&&(i=16777215);var g=function(y){y.tint=i,y.tintFill=!0};return this.forEachTile(g,this,h,f,c,d,v)},getTileAt:function(i,h,f){return r.GetTileAt(i,h,f,this.layer)},getTileAtWorldXY:function(i,h,f,c){return r.GetTileAtWorldXY(i,h,f,c,this.layer)},getIsoTileAtWorldXY:function(i,h,f,c,d){f===void 0&&(f=!0);var v=this.tempVec;return r.IsometricWorldToTileXY(i,h,!0,v,d,this.layer,f),this.getTileAt(v.x,v.y,c)},getTilesWithin:function(i,h,f,c,d){return r.GetTilesWithin(i,h,f,c,d,this.layer)},getTilesWithinShape:function(i,h,f){return r.GetTilesWithinShape(i,h,f,this.layer)},getTilesWithinWorldXY:function(i,h,f,c,d,v){return r.GetTilesWithinWorldXY(i,h,f,c,d,v,this.layer)},hasTileAt:function(i,h){return r.HasTileAt(i,h,this.layer)},hasTileAtWorldXY:function(i,h,f){return r.HasTileAtWorldXY(i,h,f,this.layer)},putTileAt:function(i,h,f,c){return r.PutTileAt(i,h,f,c,this.layer)},putTileAtWorldXY:function(i,h,f,c,d){return r.PutTileAtWorldXY(i,h,f,c,d,this.layer)},putTilesAt:function(i,h,f,c){return r.PutTilesAt(i,h,f,c,this.layer),this},randomize:function(i,h,f,c,d){return r.Randomize(i,h,f,c,d,this.layer),this},removeTileAt:function(i,h,f,c){return r.RemoveTileAt(i,h,f,c,this.layer)},removeTileAtWorldXY:function(i,h,f,c,d){return r.RemoveTileAtWorldXY(i,h,f,c,d,this.layer)},renderDebug:function(i,h){return r.RenderDebug(i,h,this.layer),this},replaceByIndex:function(i,h,f,c,d,v){return r.ReplaceByIndex(i,h,f,c,d,v,this.layer),this},setSkipCull:function(i){return i===void 0&&(i=!0),this.skipCull=i,this},setCullPadding:function(i,h){return i===void 0&&(i=1),h===void 0&&(h=1),this.cullPaddingX=i,this.cullPaddingY=h,this},setCollision:function(i,h,f,c){return r.SetCollision(i,h,f,this.layer,c),this},setCollisionBetween:function(i,h,f,c){return r.SetCollisionBetween(i,h,f,c,this.layer),this},setCollisionByProperty:function(i,h,f){return r.SetCollisionByProperty(i,h,f,this.layer),this},setCollisionByExclusion:function(i,h,f){return r.SetCollisionByExclusion(i,h,f,this.layer),this},setCollisionFromCollisionGroup:function(i,h){return r.SetCollisionFromCollisionGroup(i,h,this.layer),this},setTileIndexCallback:function(i,h,f){return r.SetTileIndexCallback(i,h,f,this.layer),this},setTileLocationCallback:function(i,h,f,c,d,v){return r.SetTileLocationCallback(i,h,f,c,d,v,this.layer),this},shuffle:function(i,h,f,c){return r.Shuffle(i,h,f,c,this.layer),this},swapByIndex:function(i,h,f,c,d,v){return r.SwapByIndex(i,h,f,c,d,v,this.layer),this},tileToWorldX:function(i,h){return this.tilemap.tileToWorldX(i,h,this)},tileToWorldY:function(i,h){return this.tilemap.tileToWorldY(i,h,this)},tileToWorldXY:function(i,h,f,c){return this.tilemap.tileToWorldXY(i,h,f,c,this)},getTileCorners:function(i,h,f){return this.tilemap.getTileCorners(i,h,f,this)},weightedRandomize:function(i,h,f,c,d){return r.WeightedRandomize(h,f,c,d,i,this.layer),this},worldToTileX:function(i,h,f){return this.tilemap.worldToTileX(i,h,f,this)},worldToTileY:function(i,h,f){return this.tilemap.worldToTileY(i,h,f,this)},worldToTileXY:function(i,h,f,c,d){return this.tilemap.worldToTileXY(i,h,f,c,d,this)},destroy:function(i){i===void 0&&(i=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),i&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],s.prototype.destroy.call(this))}});u.exports=l},16153:(u,m,t)=>{var a=t(61340),p=new a,o=new a,s=new a,r=function(e,n,l,i){var h=n.cull(l),f=h.length,c=l.alpha*n.alpha;if(!(f===0||c<=0)){var d=p,v=o,g=s;v.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY),d.copyFrom(l.matrix);var y=e.currentContext,x=n.gidMap;y.save(),i?(d.multiplyWithOffset(i,-l.scrollX*n.scrollFactorX,-l.scrollY*n.scrollFactorY),v.e=n.x,v.f=n.y,d.multiply(v,g),g.copyToContext(y)):(v.e-=l.scrollX*n.scrollFactorX,v.f-=l.scrollY*n.scrollFactorY,v.copyToContext(y)),(!e.antialias||n.scaleX>1||n.scaleY>1)&&(y.imageSmoothingEnabled=!1);for(var T=0;T<f;T++){var S=h[T],A=x[S.index];if(A){var P=A.image.getSourceImage(),D=A.getTileTextureCoordinates(S.index),R=A.tileWidth,L=A.tileHeight;if(!(D===null||R===0||L===0)){var I=R*.5,w=L*.5;D.x+=A.tileOffset.x,D.y+=A.tileOffset.y,y.save(),y.translate(S.pixelX+I,S.pixelY+w),S.rotation!==0&&y.rotate(S.rotation),(S.flipX||S.flipY)&&y.scale(S.flipX?-1:1,S.flipY?-1:1),y.globalAlpha=c*S.alpha,y.drawImage(P,D.x,D.y,R,L,-I,-w,R,L),y.restore()}}}y.restore()}};u.exports=r},19218:(u,m,t)=>{var a=t(29747),p=a,o=a;p=t(99558),o=t(16153),u.exports={renderWebGL:p,renderCanvas:o}},99558:(u,m,t)=>{var a=t(70554),p=function(o,s,r){var e=s.cull(r),n=e.length,l=r.alpha*s.alpha;if(!(n===0||l<=0)){var i=s.gidMap,h=o.pipelines.set(s.pipeline,s),f=a.getTintAppendFloatAlpha,c=s.scrollFactorX,d=s.scrollFactorY,v=s.x,g=s.y,y=s.scaleX,x=s.scaleY;o.pipelines.preBatch(s);for(var T=0;T<n;T++){var S=e[T],A=i[S.index];if(A){var P=A.getTileTextureCoordinates(S.index),D=A.tileWidth,R=A.tileHeight;if(!(!P||D===0||R===0)){var L=D*.5,I=R*.5,w=A.glTexture,B=h.setTexture2D(w,s),b=D,V=R,X=P.x,G=P.y,U=A.tileOffset.x,O=A.tileOffset.y,z=f(S.tint,l*S.alpha);h.batchTexture(s,w,w.width,w.height,v+S.pixelX*y+(L*y-U),g+S.pixelY*x+(I*x-O),D,R,y,x,S.rotation,S.flipX,S.flipY,c,d,L,I,X,G,b,V,z,z,z,z,S.tintFill,0,0,r,null,!0,B,!0)}}}o.pipelines.postBatch(s)}};u.exports=p},33629:(u,m,t)=>{var a=t(83419),p=t(26099),o=new a({initialize:function(r,e,n,l,i,h,f,c,d){(n===void 0||n<=0)&&(n=32),(l===void 0||l<=0)&&(l=32),i===void 0&&(i=0),h===void 0&&(h=0),f===void 0&&(f={}),c===void 0&&(c={}),this.name=r,this.firstgid=e,this.tileWidth=n,this.tileHeight=l,this.tileMargin=i,this.tileSpacing=h,this.tileProperties=f,this.tileData=c,this.tileOffset=new p,d!==void 0&&this.tileOffset.set(d.x,d.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(s){return this.containsTileIndex(s)?this.tileProperties[s-this.firstgid]:null},getTileData:function(s){return this.containsTileIndex(s)?this.tileData[s-this.firstgid]:null},getTileCollisionGroup:function(s){var r=this.getTileData(s);return r&&r.objectgroup?r.objectgroup:null},containsTileIndex:function(s){return s>=this.firstgid&&s<this.firstgid+this.total},getTileTextureCoordinates:function(s){return this.containsTileIndex(s)?this.texCoordinates[s-this.firstgid]:null},setImage:function(s){this.image=s;var r=s.get(),e=s.getFrameBounds();return this.glTexture=r.source.glTexture,r.width>e.width||r.height>e.height?this.updateTileData(r.width,r.height):this.updateTileData(e.width,e.height,e.x,e.y),this},setTileSize:function(s,r){return s!==void 0&&(this.tileWidth=s),r!==void 0&&(this.tileHeight=r),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(s,r){return s!==void 0&&(this.tileMargin=s),r!==void 0&&(this.tileSpacing=r),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(s,r,e,n){e===void 0&&(e=0),n===void 0&&(n=0);var l=(r-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),i=(s-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(l%1!==0||i%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),l=Math.floor(l),i=Math.floor(i),this.rows=l,this.columns=i,this.total=l*i,this.texCoordinates.length=0;for(var h=this.tileMargin+e,f=this.tileMargin+n,c=0;c<this.rows;c++){for(var d=0;d<this.columns;d++)this.texCoordinates.push({x:h,y:f}),h+=this.tileWidth+this.tileSpacing;h=this.tileMargin+e,f+=this.tileHeight+this.tileSpacing}return this}});u.exports=o},72023:(u,m,t)=>{var a=t(7423),p=function(o,s,r){var e=a(o,s,!0,r),n=a(o,s-1,!0,r),l=a(o,s+1,!0,r),i=a(o-1,s,!0,r),h=a(o+1,s,!0,r),f=e&&e.collides;return f&&(e.faceTop=!0,e.faceBottom=!0,e.faceLeft=!0,e.faceRight=!0),n&&n.collides&&(f&&(e.faceTop=!1),n.faceBottom=!f),l&&l.collides&&(f&&(e.faceBottom=!1),l.faceTop=!f),i&&i.collides&&(f&&(e.faceLeft=!1),i.faceRight=!f),h&&h.collides&&(f&&(e.faceRight=!1),h.faceLeft=!f),e&&!e.collides&&e.resetFaces(),e};u.exports=p},42573:(u,m,t)=>{var a=t(7423),p=t(7386),o=function(s,r,e,n,l){for(var i=null,h=null,f=null,c=null,d=p(s,r,e,n,null,l),v=0;v<d.length;v++){var g=d[v];g&&(g.collides?(i=a(g.x,g.y-1,!0,l),h=a(g.x,g.y+1,!0,l),f=a(g.x-1,g.y,!0,l),c=a(g.x+1,g.y,!0,l),g.faceTop=!(i&&i.collides),g.faceBottom=!(h&&h.collides),g.faceLeft=!(f&&f.collides),g.faceRight=!(c&&c.collides)):g.resetFaces())}};u.exports=o},33528:(u,m,t)=>{var a=t(26099),p=new a,o=function(s,r,e,n){var l=e.tilemapLayer,i=l.cullPaddingX,h=l.cullPaddingY,f=l.tilemap.tileToWorldXY(s,r,p,n,l);return f.x>n.worldView.x+l.scaleX*e.tileWidth*(-i-.5)&&f.x<n.worldView.right+l.scaleX*e.tileWidth*(i-.5)&&f.y>n.worldView.y+l.scaleY*e.tileHeight*(-h-1)&&f.y<n.worldView.bottom+l.scaleY*e.tileHeight*(h-.5)};u.exports=o},1785:(u,m,t)=>{var a=t(42573),p=t(7386),o=t(62991),s=t(23029),r=function(e,n,l,i,h,f,c,d){c===void 0&&(c=!0);var v=p(e,n,l,i,null,d),g=[];v.forEach(function(D){var R=new s(D.layer,D.index,D.x,D.y,D.width,D.height,D.baseWidth,D.baseHeight);R.copy(D),g.push(R)});for(var y=h-e,x=f-n,T=0;T<g.length;T++){var S=g[T],A=S.x+y,P=S.y+x;o(A,P,d)&&d.data[P][A]&&(S.x=A,S.y=P,S.updatePixelXY(),d.data[P][A]=S)}c&&a(h-1,f-1,l+2,i+2,d),v.length=0,g.length=0};u.exports=r},78419:(u,m,t)=>{var a=t(62644),p=t(7386),o=t(27987),s=function(r,e,n,l,i,h){n||(n={}),Array.isArray(r)||(r=[r]);var f=h.tilemapLayer;l||(l=f.scene),i||(i=l.cameras.main);var c=h.width,d=h.height,v=p(0,0,c,d,null,h),g=[],y,x=function(P,D,R){for(var L=0;L<R.length;L++){var I=R[L];P.hasOwnProperty(I)||(P[I]=D[I])}};for(y=0;y<v.length;y++){var T=v[y],S=a(n);if(r.indexOf(T.index)!==-1){var A=f.tileToWorldXY(T.x,T.y,void 0,i,h);S.x=A.x,S.y=A.y,x(S,T,["rotation","flipX","flipY","alpha","visible","tint"]),S.hasOwnProperty("origin")||(S.x+=T.width*.5,S.y+=T.height*.5),S.hasOwnProperty("useSpriteSheet")&&(S.key=T.tileset.image,S.frame=T.index-T.tileset.firstgid),g.push(l.make.sprite(S))}}if(Array.isArray(e))for(y=0;y<r.length;y++)o(r[y],e[y],0,0,c,d,h);else if(e!==null)for(y=0;y<r.length;y++)o(r[y],e,0,0,c,d,h);return g};u.exports=s},19545:(u,m,t)=>{var a=t(87841),p=t(63448),o=t(56583),s=new a,r=function(e,n){var l=e.tilemapLayer.tilemap,i=e.tilemapLayer,h=Math.floor(l.tileWidth*i.scaleX),f=Math.floor(l.tileHeight*i.scaleY),c=o(n.worldView.x-i.x,h,0,!0)-i.cullPaddingX,d=p(n.worldView.right-i.x,h,0,!0)+i.cullPaddingX,v=o(n.worldView.y-i.y,f,0,!0)-i.cullPaddingY,g=p(n.worldView.bottom-i.y,f,0,!0)+i.cullPaddingY;return s.setTo(c,v,d-c,g-v)};u.exports=r},30003:(u,m,t)=>{var a=t(19545),p=t(32483),o=function(s,r,e,n){e===void 0&&(e=[]),n===void 0&&(n=0),e.length=0;var l=s.tilemapLayer,i=a(s,r);return(l.skipCull||l.scrollFactorX!==1||l.scrollFactorY!==1)&&(i.left=0,i.right=s.width,i.top=0,i.bottom=s.height),p(s,i,n,e),e};u.exports=o},35137:(u,m,t)=>{var a=t(7386),p=t(42573),o=t(20576),s=function(r,e,n,l,i,h,f){for(var c=f.collideIndexes.indexOf(r)!==-1,d=a(e,n,l,i,null,f),v=0;v<d.length;v++)d[v].index=r,o(d[v],c);h&&p(e-1,n-1,l+2,i+2,f)};u.exports=s},40253:(u,m,t)=>{var a=t(7386),p=function(o,s,r,e,n,l,i,h){var f=a(r,e,n,l,i,h);return f.filter(o,s)};u.exports=p},52692:u=>{var m=function(t,a,p,o){a===void 0&&(a=0),p===void 0&&(p=!1);var s=0,r,e,n;if(p){for(e=o.height-1;e>=0;e--)for(r=o.width-1;r>=0;r--)if(n=o.data[e][r],n&&n.index===t){if(s===a)return n;s+=1}}else for(e=0;e<o.height;e++)for(r=0;r<o.width;r++)if(n=o.data[e][r],n&&n.index===t){if(s===a)return n;s+=1}return null};u.exports=m},66151:(u,m,t)=>{var a=t(7386),p=function(o,s,r,e,n,l,i,h){var f=a(r,e,n,l,i,h);return f.find(o,s)||null};u.exports=p},97560:(u,m,t)=>{var a=t(7386),p=function(o,s,r,e,n,l,i,h){var f=a(r,e,n,l,i,h);f.forEach(o,s)};u.exports=p},43305:(u,m,t)=>{var a=t(91907),p=t(30003),o=t(9474),s=t(14018),r=t(29747),e=t(54503),n=function(l){return l===a.ORTHOGONAL?p:l===a.HEXAGONAL?o:l===a.STAGGERED?e:l===a.ISOMETRIC?s:r};u.exports=n},7423:(u,m,t)=>{var a=t(62991),p=function(o,s,r,e){if(a(o,s,e)){var n=e.data[s][o]||null;return n?n.index===-1?r?n:null:n:null}else return null};u.exports=p},60540:(u,m,t)=>{var a=t(7423),p=t(26099),o=new p,s=function(r,e,n,l,i){return i.tilemapLayer.worldToTileXY(r,e,!0,o,l),a(o.x,o.y,n,i)};u.exports=s},55826:(u,m,t)=>{var a=t(26099),p=function(o,s,r,e){var n=e.baseTileWidth,l=e.baseTileHeight,i=e.tilemapLayer,h=0,f=0;i&&(r||(r=i.scene.cameras.main),h=i.x+r.scrollX*(1-i.scrollFactorX),f=i.y+r.scrollY*(1-i.scrollFactorY),n*=i.scaleX,l*=i.scaleY);var c=h+o*n,d=f+s*l;return[new a(c,d),new a(c+n,d),new a(c+n,d+l),new a(c,d+l)]};u.exports=p},11758:(u,m,t)=>{var a=t(91907),p=t(27229),o=t(29747),s=t(55826),r=function(e){return e===a.ORTHOGONAL?s:e===a.ISOMETRIC?o:e===a.HEXAGONAL?p:(e===a.STAGGERED,o)};u.exports=r},39167:(u,m,t)=>{var a=t(91907),p=t(29747),o=t(97281),s=function(r){return r===a.ORTHOGONAL?o:p};u.exports=s},62e3:(u,m,t)=>{var a=t(91907),p=t(19951),o=t(14127),s=t(29747),r=t(97202),e=t(70326),n=function(l){return l===a.ORTHOGONAL?e:l===a.ISOMETRIC?o:l===a.HEXAGONAL?p:l===a.STAGGERED?r:s};u.exports=n},5984:(u,m,t)=>{var a=t(91907),p=t(29747),o=t(28054),s=t(29650),r=function(e){return e===a.ORTHOGONAL?s:e===a.STAGGERED?o:p};u.exports=r},7386:(u,m,t)=>{var a=t(95540),p=function(o,s,r,e,n,l){o===void 0&&(o=0),s===void 0&&(s=0),r===void 0&&(r=l.width),e===void 0&&(e=l.height),n||(n={});var i=a(n,"isNotEmpty",!1),h=a(n,"isColliding",!1),f=a(n,"hasInterestingFace",!1);o<0&&(r+=o,o=0),s<0&&(e+=s,s=0),o+r>l.width&&(r=Math.max(l.width-o,0)),s+e>l.height&&(e=Math.max(l.height-s,0));for(var c=[],d=s;d<s+e;d++)for(var v=o;v<o+r;v++){var g=l.data[d][v];if(g!==null){if(i&&g.index===-1||h&&!g.collides||f&&!g.hasInterestingFace)continue;c.push(g)}}return c};u.exports=p},91141:(u,m,t)=>{var a=t(55738),p=t(7386),o=t(91865),s=t(29747),r=t(26099),e=t(91907),n=function(c,d){return o.RectangleToTriangle(d,c)},l=new r,i=new r,h=new r,f=function(c,d,v,g){if(g.orientation!==e.ORTHOGONAL)return console.warn("GetTilesWithinShape only works with orthogonal tilemaps"),[];if(c===void 0)return[];var y=s;c instanceof a.Circle?y=o.CircleToRectangle:c instanceof a.Rectangle?y=o.RectangleToRectangle:c instanceof a.Triangle?y=n:c instanceof a.Line&&(y=o.LineToRectangle),g.tilemapLayer.worldToTileXY(c.left,c.top,!0,i,v);var x=i.x,T=i.y;g.tilemapLayer.worldToTileXY(c.right,c.bottom,!1,h,v);var S=Math.ceil(h.x),A=Math.ceil(h.y),P=Math.max(S-x,1),D=Math.max(A-T,1),R=p(x,T,P,D,d,g),L=g.tileWidth,I=g.tileHeight;g.tilemapLayer&&(L*=g.tilemapLayer.scaleX,I*=g.tilemapLayer.scaleY);for(var w=[],B=new a.Rectangle(0,0,L,I),b=0;b<R.length;b++){var V=R[b];g.tilemapLayer.tileToWorldXY(V.x,V.y,l,v),B.x=l.x,B.y=l.y,y(c,B)&&w.push(V)}return w};u.exports=f},96523:(u,m,t)=>{var a=t(7386),p=t(26099),o=new p,s=new p,r=function(e,n,l,i,h,f,c){var d=c.tilemapLayer.tilemap._convert.WorldToTileXY;d(e,n,!0,o,f,c);var v=o.x,g=o.y;d(e+l,n+i,!1,s,f,c);var y=Math.ceil(s.x),x=Math.ceil(s.y);return a(v,g,y-v,x-g,h,c)};u.exports=r},96113:(u,m,t)=>{var a=t(91907),p=t(20242),o=t(10095),s=function(r){return r===a.ORTHOGONAL?o:p};u.exports=s},16926:(u,m,t)=>{var a=t(91907),p=t(86625),o=t(96897),s=t(29747),r=t(15108),e=t(85896),n=function(l){return l===a.ORTHOGONAL?e:l===a.ISOMETRIC?o:l===a.HEXAGONAL?p:l===a.STAGGERED?r:s};u.exports=n},55762:(u,m,t)=>{var a=t(91907),p=t(20242),o=t(51900),s=t(63288),r=function(e){return e===a.ORTHOGONAL?s:e===a.STAGGERED?o:p};u.exports=r},45091:(u,m,t)=>{var a=t(62991),p=function(o,s,r){if(a(o,s,r)){var e=r.data[s][o];return e!==null&&e.index>-1}else return!1};u.exports=p},24152:(u,m,t)=>{var a=t(45091),p=t(26099),o=new p,s=function(r,e,n,l){l.tilemapLayer.worldToTileXY(r,e,!0,o,n);var i=o.x,h=o.y;return a(i,h,l)};u.exports=s},90454:(u,m,t)=>{var a=t(63448),p=t(56583),o=function(s,r){var e=s.tilemapLayer.tilemap,n=s.tilemapLayer,l=Math.floor(e.tileWidth*n.scaleX),i=Math.floor(e.tileHeight*n.scaleY),h=s.hexSideLength,f,c,d,v;if(s.staggerAxis==="y"){var g=(i-h)/2+h;f=p(r.worldView.x-n.x,l,0,!0)-n.cullPaddingX,c=a(r.worldView.right-n.x,l,0,!0)+n.cullPaddingX,d=p(r.worldView.y-n.y,g,0,!0)-n.cullPaddingY,v=a(r.worldView.bottom-n.y,g,0,!0)+n.cullPaddingY}else{var y=(l-h)/2+h;f=p(r.worldView.x-n.x,y,0,!0)-n.cullPaddingX,c=a(r.worldView.right-n.x,y,0,!0)+n.cullPaddingX,d=p(r.worldView.y-n.y,i,0,!0)-n.cullPaddingY,v=a(r.worldView.bottom-n.y,i,0,!0)+n.cullPaddingY}return{left:f,right:c,top:d,bottom:v}};u.exports=o},9474:(u,m,t)=>{var a=t(90454),p=t(32483),o=function(s,r,e,n){e===void 0&&(e=[]),n===void 0&&(n=0),e.length=0;var l=s.tilemapLayer,i=a(s,r);return l.skipCull&&l.scrollFactorX===1&&l.scrollFactorY===1&&(i.left=0,i.right=s.width,i.top=0,i.bottom=s.height),p(s,i,n,e),e};u.exports=o},27229:(u,m,t)=>{var a=t(19951),p=t(26099),o=new p,s=function(r,e,n,l){var i=l.baseTileWidth,h=l.baseTileHeight,f=l.tilemapLayer;f&&(i*=f.scaleX,h*=f.scaleY);var c=a(r,e,o,n,l),d=[],v=.5773502691896257,g,y;l.staggerAxis==="y"?(g=v*i,y=h/2):(g=i/2,y=v*h);for(var x=0;x<6;x++){var T=2*Math.PI*(.5-x)/6;d.push(new p(c.x+g*Math.cos(T),c.y+y*Math.sin(T)))}return d};u.exports=s},19951:(u,m,t)=>{var a=t(26099),p=function(o,s,r,e,n){r||(r=new a);var l=n.baseTileWidth,i=n.baseTileHeight,h=n.tilemapLayer,f=0,c=0;h&&(e||(e=h.scene.cameras.main),f=h.x+e.scrollX*(1-h.scrollFactorX),c=h.y+e.scrollY*(1-h.scrollFactorY),l*=h.scaleX,i*=h.scaleY);var d=l/2,v=i/2,g,y,x=n.staggerAxis,T=n.staggerIndex;return x==="y"?(g=f+l*o+l,y=c+1.5*s*v+v,s%2===0&&(T==="odd"?g-=d:g+=d)):x==="x"&&T==="odd"&&(g=f+1.5*o*d+d,y=c+i*o+i,o%2===0&&(T==="odd"?y-=v:y+=v)),r.set(g,y)};u.exports=p},86625:(u,m,t)=>{var a=t(26099),p=function(o,s,r,e,n,l){e||(e=new a);var i=l.baseTileWidth,h=l.baseTileHeight,f=l.tilemapLayer;f&&(n||(n=f.scene.cameras.main),o=o-(f.x+n.scrollX*(1-f.scrollFactorX)),s=s-(f.y+n.scrollY*(1-f.scrollFactorY)),i*=f.scaleX,h*=f.scaleY);var c=.5773502691896257,d=-.3333333333333333,v=0,g=.6666666666666666,y=i/2,x=h/2,T,S,A,P,D;l.staggerAxis==="y"?(T=(o-y)/(c*i),S=(s-x)/x,A=c*T+d*S,P=v*T+g*S):(T=(o-y)/y,S=(s-x)/(c*h),A=d*T+c*S,P=g*T+v*S),D=-A-P;var R=Math.round(A),L=Math.round(P),I=Math.round(D),w=Math.abs(R-A),B=Math.abs(L-P),b=Math.abs(I-D);w>B&&w>b?R=-L-I:B>b&&(L=-R-I);var V,X=L;return l.staggerIndex==="odd"?V=X%2===0?L/2+R:L/2+R-.5:V=X%2===0?L/2+R:L/2+R+.5,e.set(V,X)};u.exports=p},62991:u=>{var m=function(t,a,p){return t>=0&&t<p.width&&a>=0&&a<p.height};u.exports=m},14018:(u,m,t)=>{var a=t(33528),p=function(o,s,r,e){r===void 0&&(r=[]),e===void 0&&(e=0),r.length=0;var n=o.tilemapLayer,l=o.data,i=o.width,h=o.height,f=n.skipCull,c=0,d=i,v=0,g=h,y,x,T;if(e===0)for(x=v;x<g;x++)for(y=c;y<d;y++)T=l[x][y],!(!T||T.index===-1||!T.visible||T.alpha===0)&&(!f&&!a(y,x,o,s)||r.push(T));else if(e===1)for(x=v;x<g;x++)for(y=d;y>=c;y--)T=l[x][y],!(!T||T.index===-1||!T.visible||T.alpha===0)&&(!f&&!a(y,x,o,s)||r.push(T));else if(e===2)for(x=g;x>=v;x--)for(y=c;y<d;y++)T=l[x][y],!(!T||T.index===-1||!T.visible||T.alpha===0)&&(!f&&!a(y,x,o,s)||r.push(T));else if(e===3)for(x=g;x>=v;x--)for(y=d;y>=c;y--)T=l[x][y],!(!T||T.index===-1||!T.visible||T.alpha===0)&&(!f&&!a(y,x,o,s)||r.push(T));return n.tilesDrawn=r.length,n.tilesTotal=i*h,r};u.exports=p},14127:(u,m,t)=>{var a=t(26099),p=function(o,s,r,e,n){r||(r=new a);var l=n.baseTileWidth,i=n.baseTileHeight,h=n.tilemapLayer,f=0,c=0;h&&(e||(e=h.scene.cameras.main),f=h.x+e.scrollX*(1-h.scrollFactorX),l*=h.scaleX,c=h.y+e.scrollY*(1-h.scrollFactorY),i*=h.scaleY);var d=f+(o-s)*(l/2),v=c+(o+s)*(i/2);return r.set(d,v)};u.exports=p},96897:(u,m,t)=>{var a=t(26099),p=function(o,s,r,e,n,l,i){e||(e=new a);var h=l.baseTileWidth,f=l.baseTileHeight,c=l.tilemapLayer;c&&(n||(n=c.scene.cameras.main),s=s-(c.y+n.scrollY*(1-c.scrollFactorY)),f*=c.scaleY,o=o-(c.x+n.scrollX*(1-c.scrollFactorX)),h*=c.scaleX);var d=h/2,v=f/2;o=o-d,i||(s=s-f);var g=.5*(o/d+s/v),y=.5*(-o/d+s/v);return r&&(g=Math.floor(g),y=Math.floor(y)),e.set(g,y)};u.exports=p},71558:(u,m,t)=>{var a=t(23029),p=t(62991),o=t(72023),s=t(20576),r=function(e,n,l,i,h){if(i===void 0&&(i=!0),!p(n,l,h))return null;var f,c=h.data[l][n],d=c&&c.collides;e instanceof a?(h.data[l][n]===null&&(h.data[l][n]=new a(h,e.index,n,l,h.tileWidth,h.tileHeight)),h.data[l][n].copy(e)):(f=e,h.data[l][n]===null?h.data[l][n]=new a(h,f,n,l,h.tileWidth,h.tileHeight):h.data[l][n].index=f);var v=h.data[l][n],g=h.collideIndexes.indexOf(v.index)!==-1;if(f=e instanceof a?e.index:e,f===-1)v.width=h.tileWidth,v.height=h.tileHeight;else{var y=h.tilemapLayer.tilemap,x=y.tiles,T=x[f][2],S=y.tilesets[T];v.width=S.tileWidth,v.height=S.tileHeight}return s(v,g),i&&d!==v.collides&&o(n,l,h),v};u.exports=r},26303:(u,m,t)=>{var a=t(71558),p=t(26099),o=new p,s=function(r,e,n,l,i,h){return h.tilemapLayer.worldToTileXY(e,n,!0,o,i,h),a(r,o.x,o.y,l,h)};u.exports=s},14051:(u,m,t)=>{var a=t(42573),p=t(71558),o=function(s,r,e,n,l){if(n===void 0&&(n=!0),!Array.isArray(s))return null;Array.isArray(s[0])||(s=[s]);for(var i=s.length,h=s[0].length,f=0;f<i;f++)for(var c=0;c<h;c++){var d=s[f][c];p(d,r+c,e+f,!1,l)}n&&a(r-1,e-1,h+2,i+2,l)};u.exports=o},77389:(u,m,t)=>{var a=t(7386),p=t(26546),o=function(s,r,e,n,l,i){var h,f=a(s,r,e,n,{},i);if(!l)for(l=[],h=0;h<f.length;h++)l.indexOf(f[h].index)===-1&&l.push(f[h].index);for(h=0;h<f.length;h++)f[h].index=p(l)};u.exports=o},63557:(u,m,t)=>{var a=t(23029),p=t(62991),o=t(72023),s=function(r,e,n,l,i){if(n===void 0&&(n=!0),l===void 0&&(l=!0),!p(r,e,i))return null;var h=i.data[e][r];if(h)i.data[e][r]=n?null:new a(i,-1,r,e,i.tileWidth,i.tileHeight);else return null;return l&&h&&h.collides&&o(r,e,i),h};u.exports=s},94178:(u,m,t)=>{var a=t(63557),p=t(26099),o=new p,s=function(r,e,n,l,i,h){return h.tilemapLayer.worldToTileXY(r,e,!0,o,i,h),a(o.x,o.y,n,l,h)};u.exports=s},15533:(u,m,t)=>{var a=t(7386),p=t(3956),o=new p(105,210,231,150),s=new p(243,134,48,200),r=new p(40,39,37,150),e=function(n,l,i){l===void 0&&(l={});var h=l.tileColor!==void 0?l.tileColor:o,f=l.collidingTileColor!==void 0?l.collidingTileColor:s,c=l.faceColor!==void 0?l.faceColor:r,d=a(0,0,i.width,i.height,null,i);n.translateCanvas(i.tilemapLayer.x,i.tilemapLayer.y),n.scaleCanvas(i.tilemapLayer.scaleX,i.tilemapLayer.scaleY);for(var v=0;v<d.length;v++){var g=d[v],y=g.tileset?g.tileset.tileOffset:{x:0,y:0},x=g.width,T=g.height,S=g.pixelX-y.x,A=g.pixelY-y.y,P=g.collides?f:h;P!==null&&(n.fillStyle(P.color,P.alpha/255),n.fillRect(S,A,x,T)),S+=1,A+=1,x-=2,T-=2,c!==null&&(n.lineStyle(1,c.color,c.alpha/255),g.faceTop&&n.lineBetween(S,A,S+x,A),g.faceRight&&n.lineBetween(S+x,A,S+x,A+T),g.faceBottom&&n.lineBetween(S,A+T,S+x,A+T),g.faceLeft&&n.lineBetween(S,A,S,A+T))}};u.exports=e},27987:(u,m,t)=>{var a=t(7386),p=function(o,s,r,e,n,l,i){for(var h=a(r,e,n,l,null,i),f=0;f<h.length;f++)h[f]&&h[f].index===o&&(h[f].index=s)};u.exports=p},32483:u=>{var m=function(t,a,p,o){var s=t.data,r=t.width,e=t.height,n=t.tilemapLayer,l=Math.max(0,a.left),i=Math.min(r,a.right),h=Math.max(0,a.top),f=Math.min(e,a.bottom),c,d,v;if(p===0)for(d=h;d<f;d++)for(c=l;s[d]&&c<i;c++)v=s[d][c],!(!v||v.index===-1||!v.visible||v.alpha===0)&&o.push(v);else if(p===1)for(d=h;d<f;d++)for(c=i;s[d]&&c>=l;c--)v=s[d][c],!(!v||v.index===-1||!v.visible||v.alpha===0)&&o.push(v);else if(p===2)for(d=f;d>=h;d--)for(c=l;s[d]&&c<i;c++)v=s[d][c],!(!v||v.index===-1||!v.visible||v.alpha===0)&&o.push(v);else if(p===3)for(d=f;d>=h;d--)for(c=i;s[d]&&c>=l;c--)v=s[d][c],!(!v||v.index===-1||!v.visible||v.alpha===0)&&o.push(v);return n.tilesDrawn=o.length,n.tilesTotal=r*e,o};u.exports=m},57068:(u,m,t)=>{var a=t(20576),p=t(42573),o=t(9589),s=function(r,e,n,l,i){e===void 0&&(e=!0),n===void 0&&(n=!0),i===void 0&&(i=!0),Array.isArray(r)||(r=[r]);for(var h=0;h<r.length;h++)o(r[h],e,l);if(i)for(var f=0;f<l.height;f++)for(var c=0;c<l.width;c++){var d=l.data[f][c];d&&r.indexOf(d.index)!==-1&&a(d,e)}n&&p(0,0,l.width,l.height,l)};u.exports=s},37266:(u,m,t)=>{var a=t(20576),p=t(42573),o=t(9589),s=function(r,e,n,l,i,h){if(n===void 0&&(n=!0),l===void 0&&(l=!0),h===void 0&&(h=!0),!(r>e)){for(var f=r;f<=e;f++)o(f,n,i);if(h)for(var c=0;c<i.height;c++)for(var d=0;d<i.width;d++){var v=i.data[c][d];v&&v.index>=r&&v.index<=e&&a(v,n)}l&&p(0,0,i.width,i.height,i)}};u.exports=s},75661:(u,m,t)=>{var a=t(20576),p=t(42573),o=t(9589),s=function(r,e,n,l){e===void 0&&(e=!0),n===void 0&&(n=!0),Array.isArray(r)||(r=[r]);for(var i=0;i<l.height;i++)for(var h=0;h<l.width;h++){var f=l.data[i][h];f&&r.indexOf(f.index)===-1&&(a(f,e),o(f.index,e,l))}n&&p(0,0,l.width,l.height,l)};u.exports=s},64740:(u,m,t)=>{var a=t(20576),p=t(42573),o=t(97022),s=function(r,e,n,l){e===void 0&&(e=!0),n===void 0&&(n=!0);for(var i=0;i<l.height;i++)for(var h=0;h<l.width;h++){var f=l.data[i][h];if(f){for(var c in r)if(o(f.properties,c)){var d=r[c];Array.isArray(d)||(d=[d]);for(var v=0;v<d.length;v++)f.properties[c]===d[v]&&a(f,e)}}}n&&p(0,0,l.width,l.height,l)};u.exports=s},63307:(u,m,t)=>{var a=t(20576),p=t(42573),o=function(s,r,e){s===void 0&&(s=!0),r===void 0&&(r=!0);for(var n=0;n<e.height;n++)for(var l=0;l<e.width;l++){var i=e.data[n][l];if(i){var h=i.getCollisionGroup();h&&h.objects&&h.objects.length>0&&a(i,s)}}r&&p(0,0,e.width,e.height,e)};u.exports=o},9589:u=>{var m=function(t,a,p){var o=p.collideIndexes.indexOf(t);a&&o===-1?p.collideIndexes.push(t):!a&&o!==-1&&p.collideIndexes.splice(o,1)};u.exports=m},20576:u=>{var m=function(t,a){a?t.setCollision(!0,!0,!0,!0,!1):t.resetCollision(!1)};u.exports=m},79583:u=>{var m=function(t,a,p,o){if(typeof t=="number")o.callbacks[t]=a!==null?{callback:a,callbackContext:p}:void 0;else for(var s=0,r=t.length;s<r;s++)o.callbacks[t[s]]=a!==null?{callback:a,callbackContext:p}:void 0};u.exports=m},93254:(u,m,t)=>{var a=t(7386),p=function(o,s,r,e,n,l,i){for(var h=a(o,s,r,e,null,i),f=0;f<h.length;f++)h[f].setCollisionCallback(n,l)};u.exports=p},32903:(u,m,t)=>{var a=t(7386),p=t(33680),o=function(s,r,e,n,l){var i=a(s,r,e,n,null,l),h=i.map(function(c){return c.index});p(h);for(var f=0;f<i.length;f++)i[f].index=h[f]};u.exports=o},61325:(u,m,t)=>{var a=t(63448),p=t(56583),o=function(s,r){var e=s.tilemapLayer.tilemap,n=s.tilemapLayer,l=Math.floor(e.tileWidth*n.scaleX),i=Math.floor(e.tileHeight*n.scaleY),h=p(r.worldView.x-n.x,l,0,!0)-n.cullPaddingX,f=a(r.worldView.right-n.x,l,0,!0)+n.cullPaddingX,c=p(r.worldView.y-n.y,i/2,0,!0)-n.cullPaddingY,d=a(r.worldView.bottom-n.y,i/2,0,!0)+n.cullPaddingY;return{left:h,right:f,top:c,bottom:d}};u.exports=o},54503:(u,m,t)=>{var a=t(61325),p=t(32483),o=function(s,r,e,n){e===void 0&&(e=[]),n===void 0&&(n=0),e.length=0;var l=s.tilemapLayer,i=a(s,r);return l.skipCull&&l.scrollFactorX===1&&l.scrollFactorY===1&&(i.left=0,i.right=s.width,i.top=0,i.bottom=s.height),p(s,i,n,e),e};u.exports=o},97202:(u,m,t)=>{var a=t(26099),p=function(o,s,r,e,n){r||(r=new a);var l=n.baseTileWidth,i=n.baseTileHeight,h=n.tilemapLayer,f=0,c=0;h&&(e||(e=h.scene.cameras.main),f=h.x+e.scrollX*(1-h.scrollFactorX),l*=h.scaleX,c=h.y+e.scrollY*(1-h.scrollFactorY),i*=h.scaleY);var d=f+o*l+s%2*(l/2),v=c+s*(i/2);return r.set(d,v)};u.exports=p},28054:u=>{var m=function(t,a,p){var o=p.baseTileHeight,s=p.tilemapLayer,r=0;return s&&(a===void 0&&(a=s.scene.cameras.main),r=s.y+a.scrollY*(1-s.scrollFactorY),o*=s.scaleY),r+t*(o/2)+o};u.exports=m},15108:(u,m,t)=>{var a=t(26099),p=function(o,s,r,e,n,l){e||(e=new a);var i=l.baseTileWidth,h=l.baseTileHeight,f=l.tilemapLayer;f&&(n||(n=f.scene.cameras.main),s=s-(f.y+n.scrollY*(1-f.scrollFactorY)),h*=f.scaleY,o=o-(f.x+n.scrollX*(1-f.scrollFactorX)),i*=f.scaleX);var c=r?Math.floor(s/(h/2)):s/(h/2),d=r?Math.floor((o+c%2*.5*i)/i):(o+c%2*.5*i)/i;return e.set(d,c)};u.exports=p},51900:u=>{var m=function(t,a,p,o){var s=o.baseTileHeight,r=o.tilemapLayer;return r&&(p||(p=r.scene.cameras.main),t=t-(r.y+p.scrollY*(1-r.scrollFactorY)),s*=r.scaleY),a?Math.floor(t/(s/2)):t/(s/2)};u.exports=m},86560:(u,m,t)=>{var a=t(7386),p=function(o,s,r,e,n,l,i){for(var h=a(r,e,n,l,null,i),f=0;f<h.length;f++)h[f]&&(h[f].index===o?h[f].index=s:h[f].index===s&&(h[f].index=o))};u.exports=p},97281:u=>{var m=function(t,a,p){var o=p.baseTileWidth,s=p.tilemapLayer,r=0;return s&&(a||(a=s.scene.cameras.main),r=s.x+a.scrollX*(1-s.scrollFactorX),o*=s.scaleX),r+t*o};u.exports=m},70326:(u,m,t)=>{var a=t(97281),p=t(29650),o=t(26099),s=function(r,e,n,l,i){return n||(n=new o(0,0)),n.x=a(r,l,i),n.y=p(e,l,i),n};u.exports=s},29650:u=>{var m=function(t,a,p){var o=p.baseTileHeight,s=p.tilemapLayer,r=0;return s&&(a||(a=s.scene.cameras.main),r=s.y+a.scrollY*(1-s.scrollFactorY),o*=s.scaleY),r+t*o};u.exports=m},77366:(u,m,t)=>{var a=t(7386),p=t(75508),o=function(s,r,e,n,l,i){if(l){var h,f=a(s,r,e,n,null,i),c=0;for(h=0;h<l.length;h++)c+=l[h].weight;if(!(c<=0))for(h=0;h<f.length;h++){for(var d=p.RND.frac()*c,v=0,g=-1,y=0;y<l.length;y++)if(v+=l[y].weight,d<=v){var x=l[y].index;g=Array.isArray(x)?x[Math.floor(p.RND.frac()*x.length)]:x;break}f[h].index=g}}};u.exports=o},10095:(u,m,t)=>{var a=t(85896),p=t(26099),o=new p,s=function(r,e,n,l){return a(r,0,e,o,n,l),o.x};u.exports=s},85896:(u,m,t)=>{var a=t(26099),p=function(o,s,r,e,n,l){r===void 0&&(r=!0),e||(e=new a);var i=l.baseTileWidth,h=l.baseTileHeight,f=l.tilemapLayer;f&&(n||(n=f.scene.cameras.main),o=o-(f.x+n.scrollX*(1-f.scrollFactorX)),s=s-(f.y+n.scrollY*(1-f.scrollFactorY)),i*=f.scaleX,h*=f.scaleY);var c=o/i,d=s/h;return r&&(c=Math.floor(c),d=Math.floor(d)),e.set(c,d)};u.exports=p},63288:(u,m,t)=>{var a=t(85896),p=t(26099),o=new p,s=function(r,e,n,l){return a(0,r,e,o,n,l),o.y};u.exports=s},81086:(u,m,t)=>{u.exports={CalculateFacesAt:t(72023),CalculateFacesWithin:t(42573),CheckIsoBounds:t(33528),Copy:t(1785),CreateFromTiles:t(78419),CullBounds:t(19545),CullTiles:t(30003),Fill:t(35137),FilterTiles:t(40253),FindByIndex:t(52692),FindTile:t(66151),ForEachTile:t(97560),GetCullTilesFunction:t(43305),GetTileAt:t(7423),GetTileAtWorldXY:t(60540),GetTileCorners:t(55826),GetTileCornersFunction:t(11758),GetTilesWithin:t(7386),GetTilesWithinShape:t(91141),GetTilesWithinWorldXY:t(96523),GetTileToWorldXFunction:t(39167),GetTileToWorldXYFunction:t(62e3),GetTileToWorldYFunction:t(5984),GetWorldToTileXFunction:t(96113),GetWorldToTileXYFunction:t(16926),GetWorldToTileYFunction:t(55762),HasTileAt:t(45091),HasTileAtWorldXY:t(24152),HexagonalCullBounds:t(90454),HexagonalCullTiles:t(9474),HexagonalGetTileCorners:t(27229),HexagonalTileToWorldXY:t(19951),HexagonalWorldToTileXY:t(86625),IsInLayerBounds:t(62991),IsometricCullTiles:t(14018),IsometricTileToWorldXY:t(14127),IsometricWorldToTileXY:t(96897),PutTileAt:t(71558),PutTileAtWorldXY:t(26303),PutTilesAt:t(14051),Randomize:t(77389),RemoveTileAt:t(63557),RemoveTileAtWorldXY:t(94178),RenderDebug:t(15533),ReplaceByIndex:t(27987),RunCull:t(32483),SetCollision:t(57068),SetCollisionBetween:t(37266),SetCollisionByExclusion:t(75661),SetCollisionByProperty:t(64740),SetCollisionFromCollisionGroup:t(63307),SetLayerCollisionIndex:t(9589),SetTileCollision:t(20576),SetTileIndexCallback:t(79583),SetTileLocationCallback:t(93254),Shuffle:t(32903),StaggeredCullBounds:t(61325),StaggeredCullTiles:t(54503),StaggeredTileToWorldXY:t(97202),StaggeredTileToWorldY:t(28054),StaggeredWorldToTileXY:t(15108),StaggeredWorldToTileY:t(51900),SwapByIndex:t(86560),TileToWorldX:t(97281),TileToWorldXY:t(70326),TileToWorldY:t(29650),WeightedRandomize:t(77366),WorldToTileX:t(10095),WorldToTileXY:t(85896),WorldToTileY:t(63288)}},91907:u=>{u.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(u,m,t)=>{var a={ORIENTATION:t(91907)};u.exports=a},62501:(u,m,t)=>{var a=t(79291),p=t(21829),o={Components:t(81086),Parsers:t(57442),Formats:t(80341),ImageCollection:t(16536),ParseToTilemap:t(31989),Tile:t(23029),Tilemap:t(49075),TilemapCreator:t(45939),TilemapFactory:t(46029),Tileset:t(33629),TilemapLayer:t(20442),Orientation:t(91907),LayerData:t(14977),MapData:t(87010),ObjectLayer:t(48700)};o=a(!1,o,p.ORIENTATION),u.exports=o},14977:(u,m,t)=>{var a=t(83419),p=t(91907),o=t(95540),s=new a({initialize:function(e){e===void 0&&(e={}),this.name=o(e,"name","layer"),this.id=o(e,"id",0),this.x=o(e,"x",0),this.y=o(e,"y",0),this.width=o(e,"width",0),this.height=o(e,"height",0),this.tileWidth=o(e,"tileWidth",0),this.tileHeight=o(e,"tileHeight",0),this.baseTileWidth=o(e,"baseTileWidth",this.tileWidth),this.baseTileHeight=o(e,"baseTileHeight",this.tileHeight),this.orientation=o(e,"orientation",p.ORTHOGONAL),this.widthInPixels=o(e,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=o(e,"heightInPixels",this.height*this.baseTileHeight),this.alpha=o(e,"alpha",1),this.visible=o(e,"visible",!0),this.properties=o(e,"properties",[]),this.indexes=o(e,"indexes",[]),this.collideIndexes=o(e,"collideIndexes",[]),this.callbacks=o(e,"callbacks",[]),this.bodies=o(e,"bodies",[]),this.data=o(e,"data",[]),this.tilemapLayer=o(e,"tilemapLayer",null),this.hexSideLength=o(e,"hexSideLength",0),this.staggerAxis=o(e,"staggerAxis","y"),this.staggerIndex=o(e,"staggerIndex","odd")}});u.exports=s},87010:(u,m,t)=>{var a=t(83419),p=t(91907),o=t(95540),s=new a({initialize:function(e){e===void 0&&(e={}),this.name=o(e,"name","map"),this.width=o(e,"width",0),this.height=o(e,"height",0),this.infinite=o(e,"infinite",!1),this.tileWidth=o(e,"tileWidth",0),this.tileHeight=o(e,"tileHeight",0),this.widthInPixels=o(e,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=o(e,"heightInPixels",this.height*this.tileHeight),this.format=o(e,"format",null),this.orientation=o(e,"orientation",p.ORTHOGONAL),this.renderOrder=o(e,"renderOrder","right-down"),this.version=o(e,"version","1"),this.properties=o(e,"properties",{}),this.layers=o(e,"layers",[]),this.images=o(e,"images",[]),this.objects=o(e,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=o(e,"collision",{}),this.tilesets=o(e,"tilesets",[]),this.imageCollections=o(e,"imageCollections",[]),this.tiles=o(e,"tiles",[]),this.hexSideLength=o(e,"hexSideLength",0),this.staggerAxis=o(e,"staggerAxis","y"),this.staggerIndex=o(e,"staggerIndex","odd")}});u.exports=s},48700:(u,m,t)=>{var a=t(83419),p=t(95540),o=new a({initialize:function(r){r===void 0&&(r={}),this.name=p(r,"name","object layer"),this.id=p(r,"id",0),this.opacity=p(r,"opacity",1),this.properties=p(r,"properties",{}),this.propertyTypes=p(r,"propertytypes",{}),this.type=p(r,"type","objectgroup"),this.visible=p(r,"visible",!0),this.objects=p(r,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});u.exports=o},6641:(u,m,t)=>{var a=t(91907),p=function(o){return o=o.toLowerCase(),o==="isometric"?a.ISOMETRIC:o==="staggered"?a.STAGGERED:o==="hexagonal"?a.HEXAGONAL:a.ORTHOGONAL};u.exports=p},46177:(u,m,t)=>{var a=t(80341),p=t(2342),o=t(82593),s=t(46594),r=t(87021),e=function(n,l,i,h,f,c){var d;switch(l){case a.ARRAY_2D:d=p(n,i,h,f,c);break;case a.CSV:d=o(n,i,h,f,c);break;case a.TILED_JSON:d=s(n,i,c);break;case a.WELTMEISTER:d=r(n,i,c);break;default:console.warn("Unrecognized tilemap data format: "+l),d=null}return d};u.exports=e},2342:(u,m,t)=>{var a=t(80341),p=t(14977),o=t(87010),s=t(23029),r=function(e,n,l,i,h){for(var f=new p({tileWidth:l,tileHeight:i}),c=new o({name:e,tileWidth:l,tileHeight:i,format:a.ARRAY_2D,layers:[f]}),d=[],v=n.length,g=0,y=0;y<n.length;y++){d[y]=[];for(var x=n[y],T=0;T<x.length;T++){var S=parseInt(x[T],10);isNaN(S)||S===-1?d[y][T]=h?null:new s(f,-1,T,y,l,i):d[y][T]=new s(f,S,T,y,l,i)}g===0&&(g=x.length)}return c.width=f.width=g,c.height=f.height=v,c.widthInPixels=f.widthInPixels=g*l,c.heightInPixels=f.heightInPixels=v*i,f.data=d,c};u.exports=r},82593:(u,m,t)=>{var a=t(80341),p=t(2342),o=function(s,r,e,n,l){var i=r.trim().split(`
`).map(function(f){return f.split(",")}),h=p(s,i,e,n,l);return h.format=a.CSV,h};u.exports=o},6656:(u,m,t)=>{var a=t(14977),p=t(23029),o=function(s,r){for(var e=[],n=0;n<s.layer.length;n++){for(var l=s.layer[n],i=new a({name:l.name,width:l.width,height:l.height,tileWidth:l.tilesize,tileHeight:l.tilesize,visible:l.visible===1}),h=[],f=[],c=0;c<l.data.length;c++){for(var d=0;d<l.data[c].length;d++){var v=l.data[c][d]-1,g;v>-1?g=new p(i,v,d,c,l.tilesize,l.tilesize):g=r?null:new p(i,-1,d,c,l.tilesize,l.tilesize),h.push(g)}f.push(h),h=[]}i.data=f,e.push(i)}return e};u.exports=o},96483:(u,m,t)=>{var a=t(33629),p=function(o){for(var s=[],r=[],e=0;e<o.layer.length;e++){var n=o.layer[e],l=n.tilesetName;l!==""&&r.indexOf(l)===-1&&(r.push(l),s.push(new a(l,0,n.tilesize,n.tilesize,0,0)))}return s};u.exports=p},87021:(u,m,t)=>{var a=t(80341),p=t(87010),o=t(6656),s=t(96483),r=function(e,n,l){if(n.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+e),null;for(var i=0,h=0,f=0;f<n.layer.length;f++)n.layer[f].width>i&&(i=n.layer[f].width),n.layer[f].height>h&&(h=n.layer[f].height);var c=new p({width:i,height:h,name:e,tileWidth:n.layer[0].tilesize,tileHeight:n.layer[0].tilesize,format:a.WELTMEISTER});return c.layers=o(n,l),c.tilesets=s(n),c};u.exports=r},52833:(u,m,t)=>{u.exports={ParseTileLayers:t(6656),ParseTilesets:t(96483),ParseWeltmeister:t(87021)}},57442:(u,m,t)=>{u.exports={FromOrientationString:t(6641),Parse:t(46177),Parse2DArray:t(2342),ParseCSV:t(82593),Impact:t(52833),Tiled:t(96761)}},51233:(u,m,t)=>{var a=t(79291),p=function(o){for(var s,r,e,n,l,i=0;i<o.layers.length;i++){s=o.layers[i],n=null;for(var h=0;h<s.data.length;h++){l=s.data[h];for(var f=0;f<l.length;f++)r=l[f],!(r===null||r.index<0)&&(e=o.tiles[r.index][2],n=o.tilesets[e],r.width=n.tileWidth,r.height=n.tileHeight,n.tileProperties&&n.tileProperties[r.index-n.firstgid]&&(r.properties=a(r.properties,n.tileProperties[r.index-n.firstgid])))}}};u.exports=p},41868:u=>{var m=function(t){for(var a=window.atob(t),p=a.length,o=new Array(p/4),s=0;s<p;s+=4)o[s/4]=(a.charCodeAt(s)|a.charCodeAt(s+1)<<8|a.charCodeAt(s+2)<<16|a.charCodeAt(s+3)<<24)>>>0;return o};u.exports=m},84101:(u,m,t)=>{var a=t(33629),p=function(o){var s,r,e=[];for(s=0;s<o.imageCollections.length;s++)for(var n=o.imageCollections[s],l=n.images,i=0;i<l.length;i++){var h=l[i],f={x:0,y:h.height-o.tileHeight};r=new a(h.image,h.gid,h.width,h.height,0,0,void 0,void 0,f),r.updateTileData(h.width,h.height),o.tilesets.push(r)}for(s=0;s<o.tilesets.length;s++){r=o.tilesets[s];for(var c=r.tileMargin,d=r.tileMargin,v=0,g=0,y=0,x=r.firstgid;x<r.firstgid+r.total&&(e[x]=[c,d,s],c+=r.tileWidth+r.tileSpacing,v++,!(v===r.total||(g++,g===r.columns&&(c=r.tileMargin,d+=r.tileHeight+r.tileSpacing,g=0,y++,y===r.rows))));x++);}return e};u.exports=p},79677:(u,m,t)=>{var a=t(95540),p=function(o,s,r){if(!s)return{i:0,layers:o.layers,name:"",opacity:1,visible:!0,x:0,y:0};var e=s.x+a(s,"startx",0)*o.tilewidth+a(s,"offsetx",0),n=s.y+a(s,"starty",0)*o.tileheight+a(s,"offsety",0);return{i:0,layers:s.layers,name:r.name+s.name+"/",opacity:r.opacity*s.opacity,visible:r.visible&&s.visible,x:r.x+e,y:r.y+n}};u.exports=p},29920:u=>{var m=2147483648,t=1073741824,a=536870912,p=function(o){var s=!!(o&m),r=!!(o&t),e=!!(o&a);o=o&~(m|t|a);var n=0,l=!1;return s&&r&&e?(n=Math.PI/2,l=!0):s&&r&&!e?(n=Math.PI,l=!1):s&&!r&&e?(n=Math.PI/2,l=!1):s&&!r&&!e?(n=0,l=!0):!s&&r&&e?(n=3*Math.PI/2,l=!1):!s&&r&&!e?(n=Math.PI,l=!0):!s&&!r&&e?(n=3*Math.PI/2,l=!0):!s&&!r&&!e&&(n=0,l=!1),{gid:o,flippedHorizontal:s,flippedVertical:r,flippedAntiDiagonal:e,rotation:n,flipped:l}};u.exports=p},12635:(u,m,t)=>{var a=t(95540),p=t(79677),o=function(s){for(var r=[],e=[],n=p(s);n.i<n.layers.length||e.length>0;){if(n.i>=n.layers.length){if(e.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}n=e.pop();continue}var l=n.layers[n.i];if(n.i++,l.type!=="imagelayer"){if(l.type==="group"){var i=p(s,l,n);e.push(n),n=i}continue}var h=a(l,"offsetx",0)+a(l,"startx",0),f=a(l,"offsety",0)+a(l,"starty",0);r.push({name:n.name+l.name,image:l.image,x:n.x+h+l.x,y:n.y+f+l.y,alpha:n.opacity*l.opacity,visible:n.visible&&l.visible,properties:a(l,"properties",{})})}return r};u.exports=o},46594:(u,m,t)=>{var a=t(51233),p=t(84101),o=t(91907),s=t(62644),r=t(80341),e=t(6641),n=t(87010),l=t(12635),i=t(22611),h=t(28200),f=t(24619),c=function(d,v,g){var y=s(v),x=new n({width:y.width,height:y.height,name:d,tileWidth:y.tilewidth,tileHeight:y.tileheight,orientation:e(y.orientation),format:r.TILED_JSON,version:y.version,properties:y.properties,renderOrder:y.renderorder,infinite:y.infinite});if(x.orientation===o.HEXAGONAL)if(x.hexSideLength=y.hexsidelength,x.staggerAxis=y.staggeraxis,x.staggerIndex=y.staggerindex,x.staggerAxis==="y"){var T=(x.tileHeight-x.hexSideLength)/2;x.widthInPixels=x.tileWidth*(x.width+.5),x.heightInPixels=x.height*(x.hexSideLength+T)+T}else{var S=(x.tileWidth-x.hexSideLength)/2;x.widthInPixels=x.width*(x.hexSideLength+S)+S,x.heightInPixels=x.tileHeight*(x.height+.5)}x.layers=h(y,g),x.images=l(y);var A=f(y);return x.tilesets=A.tilesets,x.imageCollections=A.imageCollections,x.objects=i(y),x.tiles=p(x),a(x),x};u.exports=c},52205:(u,m,t)=>{var a=t(18254),p=t(29920),o=function(e){return{x:e.x,y:e.y}},s=["id","name","type","rotation","properties","visible","x","y","width","height"],r=function(e,n,l){n===void 0&&(n=0),l===void 0&&(l=0);var i=a(e,s);if(i.x+=n,i.y+=l,e.gid){var h=p(e.gid);i.gid=h.gid,i.flippedHorizontal=h.flippedHorizontal,i.flippedVertical=h.flippedVertical,i.flippedAntiDiagonal=h.flippedAntiDiagonal}else e.polyline?i.polyline=e.polyline.map(o):e.polygon?i.polygon=e.polygon.map(o):e.ellipse?i.ellipse=e.ellipse:e.text?i.text=e.text:e.point?i.point=!0:i.rectangle=!0;return i};u.exports=r},22611:(u,m,t)=>{var a=t(95540),p=t(52205),o=t(48700),s=t(79677),r=function(e){for(var n=[],l=[],i=s(e);i.i<i.layers.length||l.length>0;){if(i.i>=i.layers.length){if(l.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}i=l.pop();continue}var h=i.layers[i.i];if(i.i++,h.opacity*=i.opacity,h.visible=i.visible&&h.visible,h.type!=="objectgroup"){if(h.type==="group"){var f=s(e,h,i);l.push(i),i=f}continue}h.name=i.name+h.name;for(var c=i.x+a(h,"startx",0)+a(h,"offsetx",0),d=i.y+a(h,"starty",0)+a(h,"offsety",0),v=[],g=0;g<h.objects.length;g++){var y=p(h.objects[g],c,d);v.push(y)}var x=new o(h);x.objects=v,n.push(x)}return n};u.exports=r},28200:(u,m,t)=>{var a=t(41868),p=t(91907),o=t(79677),s=t(6641),r=t(95540),e=t(14977),n=t(29920),l=t(23029),i=function(h,f){for(var c=r(h,"infinite",!1),d=[],v=[],g=o(h);g.i<g.layers.length||v.length>0;){if(g.i>=g.layers.length){if(v.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}g=v.pop();continue}var y=g.layers[g.i];if(g.i++,y.type!=="tilelayer"){if(y.type==="group"){var x=o(h,y,g);v.push(g),g=x}continue}if(y.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+y.name+"'");continue}else if(y.encoding&&y.encoding==="base64"){if(y.chunks)for(var T=0;T<y.chunks.length;T++)y.chunks[T].data=a(y.chunks[T].data);y.data&&(y.data=a(y.data)),delete y.encoding}var S,A,P,D,R,L,I=[],w=0;if(c){var B=r(y,"startx",0)+y.x,b=r(y,"starty",0)+y.y;S=new e({name:g.name+y.name,id:y.id,x:g.x+r(y,"offsetx",0)+B*h.tilewidth,y:g.y+r(y,"offsety",0)+b*h.tileheight,width:y.width,height:y.height,tileWidth:h.tilewidth,tileHeight:h.tileheight,alpha:g.opacity*y.opacity,visible:g.visible&&y.visible,properties:r(y,"properties",[]),orientation:s(h.orientation)}),S.orientation===p.HEXAGONAL&&(S.hexSideLength=h.hexsidelength,S.staggerAxis=h.staggeraxis,S.staggerIndex=h.staggerindex,S.staggerAxis==="y"?(R=(S.tileHeight-S.hexSideLength)/2,S.widthInPixels=S.tileWidth*(S.width+.5),S.heightInPixels=S.height*(S.hexSideLength+R)+R):(L=(S.tileWidth-S.hexSideLength)/2,S.widthInPixels=S.width*(S.hexSideLength+L)+L,S.heightInPixels=S.tileHeight*(S.height+.5)));for(var V=0;V<y.height;V++){I[V]=[null];for(var X=0;X<y.width;X++)I[V][X]=null}for(V=0,Z=y.chunks.length;V<Z;V++)for(var G=y.chunks[V],U=G.x-B,O=G.y-b,z=0,N=0,Y=G.data.length;N<Y;N++){var W=w+U,H=z+O;A=n(G.data[N]),A.gid>0?(P=new l(S,A.gid,W,H,h.tilewidth,h.tileheight),P.rotation=A.rotation,P.flipX=A.flipped,I[H][W]=P):(D=f?null:new l(S,-1,W,H,h.tilewidth,h.tileheight),I[H][W]=D),w++,w===G.width&&(z++,w=0)}}else{S=new e({name:g.name+y.name,id:y.id,x:g.x+r(y,"offsetx",0)+y.x,y:g.y+r(y,"offsety",0)+y.y,width:y.width,height:y.height,tileWidth:h.tilewidth,tileHeight:h.tileheight,alpha:g.opacity*y.opacity,visible:g.visible&&y.visible,properties:r(y,"properties",[]),orientation:s(h.orientation)}),S.orientation===p.HEXAGONAL&&(S.hexSideLength=h.hexsidelength,S.staggerAxis=h.staggeraxis,S.staggerIndex=h.staggerindex,S.staggerAxis==="y"?(R=(S.tileHeight-S.hexSideLength)/2,S.widthInPixels=S.tileWidth*(S.width+.5),S.heightInPixels=S.height*(S.hexSideLength+R)+R):(L=(S.tileWidth-S.hexSideLength)/2,S.widthInPixels=S.width*(S.hexSideLength+L)+L,S.heightInPixels=S.tileHeight*(S.height+.5)));for(var $=[],K=0,Z=y.data.length;K<Z;K++)A=n(y.data[K]),A.gid>0?(P=new l(S,A.gid,w,I.length,h.tilewidth,h.tileheight),P.rotation=A.rotation,P.flipX=A.flipped,$.push(P)):(D=f?null:new l(S,-1,w,I.length,h.tilewidth,h.tileheight),$.push(D)),w++,w===y.width&&(I.push($),w=0,$=[])}S.data=I,d.push(S)}return d};u.exports=i},24619:(u,m,t)=>{var a=t(33629),p=t(16536),o=t(52205),s=t(57880),r=function(e){for(var n=[],l=[],i=null,h,f=0;f<e.tilesets.length;f++){var c=e.tilesets[f];if(c.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(c.image){var d=new a(c.name,c.firstgid,c.tilewidth,c.tileheight,c.margin,c.spacing,void 0,void 0,c.tileoffset);if(e.version>1){var v=void 0,g=void 0;if(Array.isArray(c.tiles)){v=v||{},g=g||{};for(var y=0;y<c.tiles.length;y++){var x=c.tiles[y];if(x.properties){var T={};x.properties.forEach(function(V){T[V.name]=V.value}),g[x.id]=T}if(x.objectgroup&&((v[x.id]||(v[x.id]={})).objectgroup=x.objectgroup,x.objectgroup.objects)){var S=x.objectgroup.objects.map(function(V){return o(V)});v[x.id].objectgroup.objects=S}x.animation&&((v[x.id]||(v[x.id]={})).animation=x.animation),x.type&&((v[x.id]||(v[x.id]={})).type=x.type)}}Array.isArray(c.wangsets)&&(v=v||{},g=g||{},s(c.wangsets,v)),v&&(d.tileData=v,d.tileProperties=g)}else if(c.tileproperties&&(d.tileProperties=c.tileproperties),c.tiles){d.tileData=c.tiles;for(h in d.tileData){var A=d.tileData[h].objectgroup;if(A&&A.objects){var P=A.objects.map(function(V){return o(V)});d.tileData[h].objectgroup.objects=P}}}d.updateTileData(c.imagewidth,c.imageheight),n.push(d)}else{var D=new p(c.name,c.firstgid,c.tilewidth,c.tileheight,c.margin,c.spacing,c.properties),R=0;for(y=0;y<c.tiles.length;y++){x=c.tiles[y];var L=x.image,I=parseInt(x.id,10),w=c.firstgid+I,B=x.imagewidth,b=x.imageheight;D.addImage(w,L,B,b),R=Math.max(I,R)}D.maxId=R,l.push(D)}i&&(i.lastgid=c.firstgid-1),i=c}return{tilesets:n,imageCollections:l}};u.exports=r},57880:u=>{var m=function(t,a){for(var p=0;p<t.length;p++){var o=t[p],s=p;if(o.name&&o.name!==""&&(s=o.name),Array.isArray(o.wangtiles)&&o.wangtiles.length>0){var r={},e={},n,l,i;if(Array.isArray(o.edgecolors))for(n=0;n<o.edgecolors.length;n++)i=1+n,l=o.edgecolors[n],l.name!==""&&(r[i]=l.name);if(Array.isArray(o.cornercolors))for(n=0;n<o.cornercolors.length;n++)i=1+n,l=o.cornercolors[n],l.name!==""&&(e[i]=l.name);if(Array.isArray(o.colors))for(n=0;n<o.colors.length;n++)l=o.colors[n],i=1+n,l.name!==""&&(r[i]=e[i]=l.name);for(var h=[r,e,r,e,r,e,r,e],f=0;f<o.wangtiles.length;f++){var c=o.wangtiles[f],d=a[c.tileid]||(a[c.tileid]={});d=d.wangid||(d.wangid={});for(var v=[],g=0;g<Math.min(h.length,c.wangid.length);g++){if(l=c.wangid[g],l===0){v.push(void 0);continue}var y=h[g][l];if(y!==void 0){v.push(y);continue}v.push(l)}d[s]=v}}}};u.exports=m},96761:(u,m,t)=>{u.exports={AssignTileProperties:t(51233),Base64Decode:t(41868),BuildTilesetIndex:t(84101),CreateGroupLayer:t(79677),ParseGID:t(29920),ParseImageLayers:t(12635),ParseJSONTiled:t(46594),ParseObject:t(52205),ParseObjectLayers:t(22611),ParseTileLayers:t(28200),ParseTilesets:t(24619)}},33385:(u,m,t)=>{var a=t(83419),p=t(37277),o=t(44594),s=t(94880),r=t(72905),e=new a({initialize:function(l){this.scene=l,this.systems=l.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],l.sys.events.once(o.BOOT,this.boot,this),l.sys.events.on(o.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(o.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var n=this.systems.events;n.on(o.PRE_UPDATE,this.preUpdate,this),n.on(o.UPDATE,this.update,this),n.once(o.SHUTDOWN,this.shutdown,this)},addEvent:function(n){var l;if(n instanceof s){if(l=n,this.removeEvent(l),l.elapsed=l.startAt,l.hasDispatched=!1,l.repeatCount=l.repeat===-1||l.loop?999999999999:l.repeat,l.delay<=0&&l.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay")}else l=new s(n);return this._pendingInsertion.push(l),l},delayedCall:function(n,l,i,h){return this.addEvent({delay:n,callback:l,args:i,callbackScope:h})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(n){Array.isArray(n)||(n=[n]);for(var l=0;l<n.length;l++){var i=n[l];r(this._pendingRemoval,i),r(this._pendingInsertion,i),r(this._active,i)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var n=this._pendingRemoval.length,l=this._pendingInsertion.length;if(!(n===0&&l===0)){var i,h;for(i=0;i<n;i++){h=this._pendingRemoval[i];var f=this._active.indexOf(h);f>-1&&this._active.splice(f,1),h.destroy()}for(i=0;i<l;i++)h=this._pendingInsertion[i],this._active.push(h);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(n,l){if(this.now=n,!this.paused){l*=this.timeScale;for(var i=0;i<this._active.length;i++){var h=this._active[i];if(!h.paused&&(h.elapsed+=l*h.timeScale,h.elapsed>=h.delay)){var f=h.elapsed-h.delay;if(h.elapsed=h.delay,!h.hasDispatched&&h.callback&&(h.hasDispatched=!0,h.callback.apply(h.callbackScope,h.args)),h.repeatCount>0){if(h.repeatCount--,f>=h.delay)for(;f>=h.delay&&h.repeatCount>0;)h.callback&&h.callback.apply(h.callbackScope,h.args),f-=h.delay,h.repeatCount--;h.elapsed=f,h.hasDispatched=!1}else h.hasDispatched&&this._pendingRemoval.push(h)}}}},shutdown:function(){var n;for(n=0;n<this._pendingInsertion.length;n++)this._pendingInsertion[n].destroy();for(n=0;n<this._active.length;n++)this._active[n].destroy();for(n=0;n<this._pendingRemoval.length;n++)this._pendingRemoval[n].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var l=this.systems.events;l.off(o.PRE_UPDATE,this.preUpdate,this),l.off(o.UPDATE,this.update,this),l.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(o.START,this.start,this),this.scene=null,this.systems=null}});p.register("Clock",e,"time"),u.exports=e},96120:(u,m,t)=>{var a=t(83419),p=t(50792),o=t(39429),s=t(95540),r=t(44594),e=t(89809),n=new a({Extends:p,initialize:function(i,h){p.call(this),this.scene=i,this.systems=i.sys,this.elapsed=0,this.timeScale=1,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var f=this.systems.events;f.on(r.PRE_UPDATE,this.preUpdate,this),f.on(r.UPDATE,this.update,this),f.once(r.SHUTDOWN,this.destroy,this),h&&this.add(h)},preUpdate:function(l,i){this.paused||(this.elapsed+=i*this.timeScale)},update:function(){if(!(this.paused||this.complete)){var l,i=this.events,h=!1,f=this.systems,c;for(l=0;l<i.length;l++){var d=i[l];if(!d.complete&&d.time<=this.elapsed){if(d.complete=!0,this.totalComplete++,c=d.target?d.target:this,d.if&&!d.if.call(c,d))continue;if(d.once&&(h=!0),d.set&&d.target)for(var v in d.set)d.target[v]=d.set[v];this.iteration&&d.repeat++,d.loop&&d.repeat&&d.loop.call(c),d.tween&&(d.tweenInstance=f.tweens.add(d.tween)),d.sound&&(typeof d.sound=="string"?f.sound.play(d.sound):f.sound.play(d.sound.key,d.sound.config)),d.event&&this.emit(d.event,c),d.run&&d.run.call(c),d.stop&&this.stop()}}if(h)for(l=0;l<i.length;l++)i[l].complete&&i[l].once&&(i.splice(l,1),l--);this.totalComplete>=i.length&&(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(e.COMPLETE,this)}},play:function(l){return l===void 0&&(l=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,l&&this.reset(),this},pause:function(){this.paused=!0;for(var l=this.events,i=0;i<l.length;i++){var h=l[i];h.tweenInstance&&(h.tweenInstance.paused=!0)}return this},repeat:function(l){return(l===void 0||l===!0)&&(l=-1),l===!1&&(l=0),this.loop=l,this},resume:function(){this.paused=!1;for(var l=this.events,i=0;i<l.length;i++){var h=l[i];h.tweenInstance&&(h.tweenInstance.paused=!1)}return this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(l){l===void 0&&(l=!1),this.elapsed=0,l||(this.iteration=0);for(var i=this.events,h=0;h<i.length;h++){var f=i[h];f.complete=!1,l||(f.repeat=0),f.tweenInstance&&f.tweenInstance.stop()}return this.play(!1)},add:function(l){Array.isArray(l)||(l=[l]);var i=this.events,h=0;i.length>0&&(h=i[i.length-1].time);for(var f=0;f<l.length;f++){var c=l[f],d=s(c,"at",0),v=s(c,"in",null);v!==null&&(d=this.elapsed+v);var g=s(c,"from",null);g!==null&&(d=h+g),i.push({complete:!1,time:d,repeat:0,if:s(c,"if",null),run:s(c,"run",null),loop:s(c,"loop",null),event:s(c,"event",null),target:s(c,"target",null),set:s(c,"set",null),tween:s(c,"tween",null),sound:s(c,"sound",null),once:s(c,"once",!1),stop:s(c,"stop",!1)}),h=d}return this.complete=!1,this},clear:function(){for(var l=this.events,i=0;i<l.length;i++){var h=l[i];h.tweenInstance&&h.tweenInstance.stop()}return l=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var l=Math.min(this.totalComplete,this.events.length);return l/this.events.length},destroy:function(){var l=this.systems.events;l.off(r.PRE_UPDATE,this.preUpdate,this),l.off(r.UPDATE,this.update,this),l.off(r.SHUTDOWN,this.destroy,this),this.clear(),this.scene=null,this.systems=null}});o.register("timeline",function(l){return new n(this.scene,l)}),u.exports=n},94880:(u,m,t)=>{var a=t(83419),p=t(95540),o=new a({initialize:function(r){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(r)},reset:function(s){if(this.delay=p(s,"delay",0),this.repeat=p(s,"repeat",0),this.loop=p(s,"loop",!1),this.callback=p(s,"callback",void 0),this.callbackScope=p(s,"callbackScope",this),this.args=p(s,"args",[]),this.timeScale=p(s,"timeScale",1),this.startAt=p(s,"startAt",0),this.paused=p(s,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay<=0&&this.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var s=this.delay+this.delay*this.repeat,r=this.elapsed+this.delay*(this.repeat-this.repeatCount);return r/s}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(s){s===void 0&&(s=!1),this.elapsed=this.delay,this.hasDispatched=!s,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});u.exports=o},35945:u=>{u.exports="complete"},89809:(u,m,t)=>{u.exports={COMPLETE:t(35945)}},90291:(u,m,t)=>{u.exports={Clock:t(33385),Events:t(89809),Timeline:t(96120),TimerEvent:t(94880)}},40382:(u,m,t)=>{var a=t(72905),p=t(83419),o=t(43491),s=t(88032),r=t(37277),e=t(44594),n=t(93109),l=t(86081),i=t(8357),h=t(43960),f=t(26012),c=new p({initialize:function(v){this.scene=v,this.events=v.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(e.BOOT,this.boot,this),this.events.on(e.START,this.start,this)},boot:function(){this.events.once(e.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(e.UPDATE,this.update,this),this.events.once(e.SHUTDOWN,this.shutdown,this)},create:function(d){Array.isArray(d)||(d=[d]);for(var v=[],g=0;g<d.length;g++){var y=d[g];y instanceof l||y instanceof h?v.push(y):Array.isArray(y.tweens)?v.push(f(this,y)):v.push(i(this,y))}return v.length===1?v[0]:v},add:function(d){var v=d,g=this.tweens;return v instanceof l||v instanceof h||(Array.isArray(v.tweens)?v=f(this,v):v=i(this,v)),g.push(v.reset()),v},addMultiple:function(d){for(var v,g=[],y=this.tweens,x=0;x<d.length;x++)v=d[x],v instanceof l||v instanceof h||(Array.isArray(v.tweens)?v=f(this,v):v=i(this,v)),y.push(v.reset()),g.push(v);return g},chain:function(d){var v=f(this,d);return this.tweens.push(v.init()),v},getChainedTweens:function(d){return d.getChainedTweens()},has:function(d){return this.tweens.indexOf(d)>-1},existing:function(d){return this.has(d)||this.tweens.push(d.reset()),this},addCounter:function(d){var v=s(this,d);return this.tweens.push(v.reset()),v},stagger:function(d,v){return n(d,v)},setLagSmooth:function(d,v){return d===void 0&&(d=1/1e-8),v===void 0&&(v=0),this.maxLag=d,this.lagSkip=Math.min(v,this.maxLag),this},setFps:function(d){return d===void 0&&(d=240),this.gap=1e3/d,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(d){var v=Date.now()-this.prevTime;v>this.maxLag&&(this.startTime+=v-this.lagSkip),this.prevTime+=v;var g=this.prevTime-this.startTime,y=g-this.nextTime,x=g-this.time*1e3;return y>0||d?(g/=1e3,this.time=g,this.nextTime+=y+(y>=this.gap?4:this.gap-y)):x=0,x},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(d){d===void 0&&(d=!1);var v=this.getDelta(d);if(!(v<=0)){this.processing=!0;var g,y,x=[],T=this.tweens;for(g=0;g<T.length;g++)y=T[g],y.update(v)&&x.push(y);var S=x.length;if(S&&T.length>0){for(g=0;g<S;g++){y=x[g];var A=T.indexOf(y);A>-1&&(y.isPendingRemove()||y.isDestroyed())&&(T.splice(A,1),y.destroy())}x.length=0}this.processing=!1}},remove:function(d){return this.processing?d.setPendingRemoveState():(a(this.tweens,d),d.setRemovedState()),this},reset:function(d){return this.existing(d),d.seek(),d.setActiveState(),this},makeActive:function(d){return this.existing(d),d.setActiveState(),this},each:function(d,v){var g,y=[null];for(g=1;g<arguments.length;g++)y.push(arguments[g]);return this.tweens.forEach(function(x){y[0]=x,d.apply(v,y)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(d){var v=[],g=this.tweens;Array.isArray(d)?d=o(d):d=[d];for(var y=d.length,x=0;x<g.length;x++)for(var T=g[x],S=0;S<y;S++)!T.isDestroyed()&&T.hasTarget(d[S])&&v.push(T);return v},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(d){return this.timeScale=d,this},isTweening:function(d){for(var v=this.tweens,g,y=0;y<v.length;y++)if(g=v[y],g.isPlaying()&&g.hasTarget(d))return!0;return!1},killAll:function(){for(var d=this.processing?this.getTweens():this.tweens,v=0;v<d.length;v++)d[v].destroy();return this.processing||(d.length=0),this},killTweensOf:function(d){for(var v=this.getTweensOf(d),g=0;g<v.length;g++)v[g].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(e.UPDATE,this.update,this),this.events.off(e.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(e.START,this.start,this),this.scene=null,this.events=null}});r.register("TweenManager",c,"tweens"),u.exports=c},57355:u=>{var m=function(t,a,p){return t&&t.hasOwnProperty(a)?t[a]:p};u.exports=m},6113:(u,m,t)=>{var a=t(62640),p=t(35355),o=function(s,r){var e=a.Power0;if(typeof s=="string")if(a.hasOwnProperty(s))e=a[s];else{var n="";if(s.indexOf(".")){n=s.substring(s.indexOf(".")+1);var l=n.toLowerCase();l==="in"?n="easeIn":l==="out"?n="easeOut":l==="inout"&&(n="easeInOut")}s=p(s.substring(0,s.indexOf(".")+1)+n),a.hasOwnProperty(s)&&(e=a[s])}else typeof s=="function"&&(e=s);if(!r)return e;var i=r.slice(0);return i.unshift(0),function(h){return i[0]=h,e.apply(this,i)}};u.exports=o},91389:(u,m,t)=>{var a=t(89318),p=t(77259),o=t(28392),s={bezier:a,catmull:p,catmullrom:p,linear:o},r=function(e){if(e===null)return null;var n=s.linear;return typeof e=="string"?s.hasOwnProperty(e)&&(n=s[e]):typeof e=="function"&&(n=e),n};u.exports=r},55292:u=>{var m=function(t,a,p){var o;if(t.hasOwnProperty(a)){var s=typeof t[a];s==="function"?o=function(r,e,n,l,i,h){return t[a](r,e,n,l,i,h)}:o=function(){return t[a]}}else typeof p=="function"?o=p:o=function(){return p};return o};u.exports=m},82985:(u,m,t)=>{var a=t(81076),p=function(o){var s,r=[];if(o.hasOwnProperty("props"))for(s in o.props)s.substring(0,1)!=="_"&&r.push({key:s,value:o.props[s]});else for(s in o)a.indexOf(s)===-1&&s.substring(0,1)!=="_"&&r.push({key:s,value:o[s]});return r};u.exports=p},62329:(u,m,t)=>{var a=t(35154),p=function(o){var s=a(o,"targets",null);return s===null||(typeof s=="function"&&(s=s.call()),Array.isArray(s)||(s=[s])),s};u.exports=p},17777:(u,m,t)=>{var a=t(30976),p=t(99472);function o(l){return!!l.getActive&&typeof l.getActive=="function"}function s(l){return!!l.getStart&&typeof l.getStart=="function"}function r(l){return!!l.getEnd&&typeof l.getEnd=="function"}function e(l){return s(l)||r(l)||o(l)}var n=function(l,i){var h,f=function(V,X,G){return G},c=function(V,X,G){return G},d=null,v=typeof i;if(v==="number")f=function(){return i};else if(Array.isArray(i))c=function(){return i[0]},f=function(){return i[i.length-1]};else if(v==="string"){var g=i.toLowerCase(),y=g.substring(0,6)==="random",x=g.substring(0,3)==="int";if(y||x){var T=g.indexOf("("),S=g.indexOf(")"),A=g.indexOf(",");if(T&&S&&A){var P=parseFloat(g.substring(T+1,A)),D=parseFloat(g.substring(A+1,S));y?f=function(){return p(P,D)}:f=function(){return a(P,D)}}else throw new Error("invalid random() format")}else{g=g[0];var R=parseFloat(i.substr(2));switch(g){case"+":f=function(V,X,G){return G+R};break;case"-":f=function(V,X,G){return G-R};break;case"*":f=function(V,X,G){return G*R};break;case"/":f=function(V,X,G){return G/R};break;default:f=function(){return parseFloat(i)}}}}else if(v==="function")f=i;else if(v==="object")if(e(i))o(i)&&(d=i.getActive),r(i)&&(f=i.getEnd),s(i)&&(c=i.getStart);else if(i.hasOwnProperty("value"))h=n(l,i.value);else{var L=i.hasOwnProperty("to"),I=i.hasOwnProperty("from"),w=i.hasOwnProperty("start");if(L&&(I||w)){if(h=n(l,i.to),w){var B=n(l,i.start);h.getActive=B.getEnd}if(I){var b=n(l,i.from);h.getStart=b.getEnd}}}return h||(h={getActive:d,getEnd:f,getStart:c}),h};u.exports=n},88032:(u,m,t)=>{var a=t(70402),p=t(69902),o=t(23568),s=t(57355),r=t(6113),e=t(95540),n=t(55292),l=t(35154),i=t(17777),h=t(269),f=t(86081),c=function(d,v,g){if(v instanceof f)return v.parent=d,v;g===void 0?g=p:g=h(p,g);var y=e(v,"from",0),x=e(v,"to",1),T=[{value:y}],S=e(v,"delay",g.delay),A=e(v,"easeParams",g.easeParams),P=e(v,"ease",g.ease),D=i("value",x),R=new f(d,T),L=R.add(0,"value",D.getEnd,D.getStart,D.getActive,r(e(v,"ease",P),e(v,"easeParams",A)),n(v,"delay",S),e(v,"duration",g.duration),s(v,"yoyo",g.yoyo),e(v,"hold",g.hold),e(v,"repeat",g.repeat),e(v,"repeatDelay",g.repeatDelay),!1,!1);L.start=y,L.current=y,R.completeDelay=o(v,"completeDelay",0),R.loop=Math.round(o(v,"loop",0)),R.loopDelay=Math.round(o(v,"loopDelay",0)),R.paused=s(v,"paused",!1),R.persist=s(v,"persist",!1),R.isNumberTween=!0,R.callbackScope=l(v,"callbackScope",R);for(var I=a.TYPES,w=0;w<I.length;w++){var B=I[w],b=l(v,B,!1);if(b){var V=l(v,B+"Params",[]);R.setCallback(B,b,V)}}return R};u.exports=c},93109:(u,m,t)=>{var a=t(6113),p=t(35154),o=t(36383),s=function(r,e){e===void 0&&(e={});var n,l=p(e,"start",0),i=p(e,"ease",null),h=p(e,"grid",null),f=p(e,"from",0),c=f==="first",d=f==="center",v=f==="last",g=typeof f=="number",y=Array.isArray(r),x=parseFloat(y?r[0]:r),T=y?parseFloat(r[1]):0,S=Math.max(x,T);if(y&&(l+=x),h){var A=h[0],P=h[1],D=0,R=0,L=0,I=0,w=[];v?(D=A-1,R=P-1):g?(D=f%A,R=Math.floor(f/A)):d&&(D=(A-1)/2,R=(P-1)/2);for(var B=o.MIN_SAFE_INTEGER,b=0;b<P;b++){w[b]=[];for(var V=0;V<A;V++){L=D-V,I=R-b;var X=Math.sqrt(L*L+I*I);X>B&&(B=X),w[b][V]=X}}}var G=i?a(i):null;return h?n=function(U,O,z,N){var Y=0,W=N%A,H=Math.floor(N/A);W>=0&&W<A&&H>=0&&H<P&&(Y=w[H][W]);var $;if(y){var K=T-x;G?$=Y/B*K*G(Y/B):$=Y/B*K}else G?$=Y*x*G(Y/B):$=Y*x;return $+l}:n=function(U,O,z,N,Y){Y--;var W;c?W=N:d?W=Math.abs(Y/2-N):v?W=Y-N:g&&(W=Math.abs(f-N));var H;if(y){var $;d?$=(T-x)/Y*(W*2):$=(T-x)/Y*W,G?H=$*G(W/Y):H=$}else G?H=Y*S*G(W/Y):H=W*x;return H+l},n};u.exports=s},8357:(u,m,t)=>{var a=t(70402),p=t(69902),o=t(23568),s=t(57355),r=t(6113),e=t(95540),n=t(91389),l=t(55292),i=t(82985),h=t(62329),f=t(35154),c=t(17777),d=t(269),v=t(86081),g=function(y,x,T){if(x instanceof v)return x.parent=y,x;T===void 0?T=p:T=d(p,T);var S=h(x);!S&&T.targets&&(S=T.targets);for(var A=i(x),P=e(x,"delay",T.delay),D=e(x,"duration",T.duration),R=e(x,"easeParams",T.easeParams),L=e(x,"ease",T.ease),I=e(x,"hold",T.hold),w=e(x,"repeat",T.repeat),B=e(x,"repeatDelay",T.repeatDelay),b=s(x,"yoyo",T.yoyo),V=s(x,"flipX",T.flipX),X=s(x,"flipY",T.flipY),G=e(x,"interpolation",T.interpolation),U=function(j,Q,_,k){if(_==="texture"){var it=k,nt=void 0;Array.isArray(k)?(it=k[0],nt=k[1]):k.hasOwnProperty("value")?(it=k.value,Array.isArray(k.value)?(it=k.value[0],nt=k.value[1]):typeof k.value=="string"&&(it=k.value)):typeof k=="string"&&(it=k),j.addFrame(Q,it,nt,l(k,"delay",P),e(k,"duration",D),e(k,"hold",I),e(k,"repeat",w),e(k,"repeatDelay",B),s(k,"flipX",V),s(k,"flipY",X))}else{var st=c(_,k),q=n(e(k,"interpolation",G));j.add(Q,_,st.getEnd,st.getStart,st.getActive,r(e(k,"ease",L),e(k,"easeParams",R)),l(k,"delay",P),e(k,"duration",D),s(k,"yoyo",b),e(k,"hold",I),e(k,"repeat",w),e(k,"repeatDelay",B),s(k,"flipX",V),s(k,"flipY",X),q,q?k:null)}},O=new v(y,S),z=0;z<A.length;z++)for(var N=A[z].key,Y=A[z].value,W=0;W<S.length;W++)N==="scale"&&!S[W].hasOwnProperty("scale")?(U(O,W,"scaleX",Y),U(O,W,"scaleY",Y)):U(O,W,N,Y);O.completeDelay=o(x,"completeDelay",0),O.loop=Math.round(o(x,"loop",0)),O.loopDelay=Math.round(o(x,"loopDelay",0)),O.paused=s(x,"paused",!1),O.persist=s(x,"persist",!1),O.callbackScope=e(x,"callbackScope",O);for(var H=a.TYPES,$=0;$<H.length;$++){var K=H[$],Z=f(x,K,!1);if(Z){var J=f(x,K+"Params",[]);O.setCallback(K,Z,J)}}return O};u.exports=g},26012:(u,m,t)=>{var a=t(70402),p=t(23568),o=t(57355),s=t(62329),r=t(35154),e=t(8357),n=t(43960),l=function(i,h){if(h instanceof n)return h.parent=i,h;var f=new n(i);f.startDelay=r(h,"delay",0),f.completeDelay=p(h,"completeDelay",0),f.loop=Math.round(p(h,"loop",r(h,"repeat",0))),f.loopDelay=Math.round(p(h,"loopDelay",r(h,"repeatDelay",0))),f.paused=o(h,"paused",!1),f.persist=o(h,"persist",!1),f.callbackScope=r(h,"callbackScope",f);var c,d=a.TYPES;for(c=0;c<d.length;c++){var v=d[c],g=r(h,v,!1);if(g){var y=r(h,v+"Params",[]);f.setCallback(v,g,y)}}var x=r(h,"tweens",null);if(Array.isArray(x)){var T=[],S=s(h),A=void 0;for(S&&(A={targets:S}),c=0;c<x.length;c++)T.push(e(f,x[c],A));f.add(T)}return f};u.exports=l},30231:(u,m,t)=>{u.exports={GetBoolean:t(57355),GetEaseFunction:t(6113),GetInterpolationFunction:t(91389),GetNewValue:t(55292),GetProps:t(82985),GetTargets:t(62329),GetValueOp:t(17777),NumberTweenBuilder:t(88032),StaggerBuilder:t(93109),TweenBuilder:t(8357)}},73685:u=>{u.exports="active"},98540:u=>{u.exports="complete"},67233:u=>{u.exports="loop"},2859:u=>{u.exports="pause"},98336:u=>{u.exports="repeat"},25764:u=>{u.exports="resume"},32193:u=>{u.exports="start"},84371:u=>{u.exports="stop"},70766:u=>{u.exports="update"},55659:u=>{u.exports="yoyo"},842:(u,m,t)=>{u.exports={TWEEN_ACTIVE:t(73685),TWEEN_COMPLETE:t(98540),TWEEN_LOOP:t(67233),TWEEN_PAUSE:t(2859),TWEEN_RESUME:t(25764),TWEEN_REPEAT:t(98336),TWEEN_START:t(32193),TWEEN_STOP:t(84371),TWEEN_UPDATE:t(70766),TWEEN_YOYO:t(55659)}},43066:(u,m,t)=>{var a={States:t(86353),Builders:t(30231),Events:t(842),TweenManager:t(40382),Tween:t(86081),TweenData:t(48177),TweenFrameData:t(42220),BaseTween:t(70402),TweenChain:t(43960)};u.exports=a},70402:(u,m,t)=>{var a=t(83419),p=t(50792),o=t(842),s=t(86353),r=new a({Extends:p,initialize:function(n){p.call(this),this.parent=n,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=s.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(e){return this.timeScale=e,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(o.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(o.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(o.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(o.TWEEN_COMPLETE,"onComplete")},complete:function(e){return e===void 0&&(e=0),e?(this.setCompleteDelayState(),this.countdown=e):this.onCompleteHandler(),this},completeAfterLoop:function(e){return e===void 0&&(e=0),this.loopCounter>e&&(this.loopCounter=e),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(o.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(e){this.countdown-=e,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(o.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(e){return this.countdown-=e,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(o.TWEEN_START,"onStart"),e=0),e},updateCompleteDelay:function(e){this.countdown-=e,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(e,n,l){return l===void 0&&(l=[]),this.callbacks.hasOwnProperty(e)&&(this.callbacks[e]={func:n,params:l}),this},setPendingState:function(){this.state=s.PENDING},setActiveState:function(){this.state=s.ACTIVE,this.hasStarted=!1},setLoopDelayState:function(){this.state=s.LOOP_DELAY},setCompleteDelayState:function(){this.state=s.COMPLETE_DELAY},setStartDelayState:function(){this.state=s.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=s.PENDING_REMOVE},setRemovedState:function(){this.state=s.REMOVED},setFinishedState:function(){this.state=s.FINISHED},setDestroyedState:function(){this.state=s.DESTROYED},isPending:function(){return this.state===s.PENDING},isActive:function(){return this.state===s.ACTIVE},isLoopDelayed:function(){return this.state===s.LOOP_DELAY},isCompleteDelayed:function(){return this.state===s.COMPLETE_DELAY},isStartDelayed:function(){return this.state===s.START_DELAY},isPendingRemove:function(){return this.state===s.PENDING_REMOVE},isRemoved:function(){return this.state===s.REMOVED},isFinished:function(){return this.state===s.FINISHED},isDestroyed:function(){return this.state===s.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(e){e.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});r.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],u.exports=r},95042:(u,m,t)=>{var a=t(83419),p=t(842),o=t(86353),s=new a({initialize:function(e,n,l,i,h,f,c,d,v,g){this.tween=e,this.targetIndex=n,this.duration=i<=0?.01:i,this.totalDuration=0,this.delay=0,this.getDelay=l,this.yoyo=h,this.hold=f,this.repeat=c,this.repeatDelay=d,this.repeatCounter=0,this.flipX=v,this.flipY=g,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(r){r===void 0&&(r=this.current),this.tween.targets[this.targetIndex][this.key]=r},setCreatedState:function(){this.state=o.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=o.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=o.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=o.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=o.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=o.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=o.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=o.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===o.CREATED},isDelayed:function(){return this.state===o.DELAY},isPendingRender:function(){return this.state===o.PENDING_RENDER},isPlayingForward:function(){return this.state===o.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===o.PLAYING_BACKWARD},isHolding:function(){return this.state===o.HOLD_DELAY},isRepeating:function(){return this.state===o.REPEAT_DELAY},isComplete:function(){return this.state===o.COMPLETE},setStateFromEnd:function(r){this.yoyo?this.onRepeat(r,!0,!0):this.repeatCounter>0?this.onRepeat(r,!0,!1):this.setCompleteState()},setStateFromStart:function(r){this.repeatCounter>0?this.onRepeat(r,!1):this.setCompleteState()},reset:function(){var r=this.tween,e=r.totalTargets,n=this.targetIndex,l=r.targets[n],i=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(l,i,0,n,e,r),this.repeatCounter=this.repeat===-1?o.MAX:this.repeat,this.setPendingRenderState();var h=this.duration+this.hold;this.yoyo&&(h+=this.duration);var f=h+this.repeatDelay;this.totalDuration=this.delay+h,this.repeat===-1?(this.totalDuration+=f*o.MAX,r.isInfinite=!0):this.repeat>0&&(this.totalDuration+=f*this.repeat),this.totalDuration>r.duration&&(r.duration=this.totalDuration),this.delay<r.startDelay&&(r.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(r,e,n){var l=this.tween,i=l.totalTargets,h=this.targetIndex,f=l.targets[h],c=this.key,d=c!=="texture";if(this.elapsed=r,this.progress=r/this.duration,this.flipX&&f.toggleFlipX(),this.flipY&&f.toggleFlipY(),d&&(e||n)&&(this.start=this.getStartValue(f,c,this.start,h,i,l)),n){this.setPlayingBackwardState(),this.dispatchEvent(p.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,d&&(this.end=this.getEndValue(f,c,this.start,h,i,l)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-r,d&&(this.current=this.start,f[c]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(p.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});u.exports=s},69902:u=>{var m={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};u.exports=m},81076:u=>{u.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(u,m,t)=>{var a=t(70402),p=t(83419),o=t(842),s=t(44603),r=t(39429),e=t(36383),n=t(86353),l=t(48177),i=t(42220),h=new p({Extends:a,initialize:function(c,d){a.call(this,c),this.targets=d,this.totalTargets=d.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.isNumberTween=!1},add:function(f,c,d,v,g,y,x,T,S,A,P,D,R,L,I,w){var B=new l(this,f,c,d,v,g,y,x,T,S,A,P,D,R,L,I,w);return this.totalData=this.data.push(B),B},addFrame:function(f,c,d,v,g,y,x,T,S,A){var P=new i(this,f,c,d,v,g,y,x,T,S,A);return this.totalData=this.data.push(P),P},getValue:function(f){f===void 0&&(f=0);var c=null;return this.data&&(c=this.data[f].current),c},hasTarget:function(f){return this.targets&&this.targets.indexOf(f)!==-1},updateTo:function(f,c,d){if(d===void 0&&(d=!1),f!=="texture")for(var v=0;v<this.totalData;v++){var g=this.data[v];g.key===f&&(g.isPlayingForward()||g.isPlayingBackward())&&(g.end=c,d&&(g.start=g.current))}return this},restart:function(){switch(this.state){case n.REMOVED:case n.FINISHED:this.seek(),this.parent.makeActive(this);break;case n.PENDING:case n.PENDING_REMOVE:this.parent.reset(this);break;case n.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(o.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,a.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(f,c,d){if(f===void 0&&(f=0),c===void 0&&(c=16.6),d===void 0&&(d=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;d||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(o.TWEEN_ACTIVE,"onActive");var v=this.paused;if(this.paused=!1,f>0){for(var g=Math.floor(f/c),y=f-g*c,x=0;x<g;x++)this.update(c);y>0&&this.update(y)}return this.paused=v,this.isSeeking=!1,this},initTweenData:function(f){f===void 0&&(f=!1),this.duration=0,this.startDelay=e.MAX_SAFE_INTEGER;for(var c=this.data,d=0;d<this.totalData;d++)c[d].reset(f);this.duration=Math.max(this.duration,.01);var v=this.duration,g=this.completeDelay,y=this.loopCounter,x=this.loopDelay;y>0?this.totalDuration=v+g+(v+x)*y:this.totalDuration=v+g},reset:function(f){return f===void 0&&(f=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=n.MAX),f||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(o.TWEEN_ACTIVE,"onActive")),this},update:function(f){if(this.isPendingRemove()||this.isDestroyed())return this.persist?(this.setFinishedState(),!1):!0;if(this.paused||this.isFinished())return!1;if(f*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(f),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(f),!1;this.hasStarted||(this.startDelay-=f,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(o.TWEEN_START,"onStart"),f=0));var c=!1;if(this.isActive())for(var d=this.data,v=0;v<this.totalData;v++)d[v].update(f)&&(c=!0);this.elapsed+=f,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=f,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),c||this.nextState();var g=this.isPendingRemove();return g&&this.persist&&(this.setFinishedState(),g=!1),g},forward:function(f){return this.update(f),this},rewind:function(f){return this.update(-f),this},dispatchEvent:function(f,c){if(!this.isSeeking){if(this.emit(f,this,this.targets),!this.callbacks)return;var d=this.callbacks[c];d&&d.func.apply(this.callbackScope,[this,this.targets].concat(d.params))}},destroy:function(){a.prototype.destroy.call(this),this.targets=null}});r.register("tween",function(f){return this.scene.sys.tweens.add(f)}),s.register("tween",function(f){return this.scene.sys.tweens.create(f)}),u.exports=h},43960:(u,m,t)=>{var a=t(72905),p=t(70402),o=t(83419),s=t(842),r=t(44603),e=t(39429),n=t(86353),l=new o({Extends:p,initialize:function(h){p.call(this,h),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?n.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this},add:function(i){var h=this.parent.create(i);Array.isArray(h)||(h=[h]);for(var f=this.data,c=0;c<h.length;c++){var d=h[c];d.parent=this,f.push(d.reset())}return this.totalData=f.length,this},remove:function(i){return a(this.data,i),i.setRemovedState(),i===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(i){for(var h=this.data,f=0;f<this.totalData;f++)if(h[f].hasTarget(i))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(i){return i.seek(),i.setActiveState(),this},makeActive:function(i){return i.reset(),i.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(s.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var i=this.data,h=this.totalData,f=0;f<h;f++)i[f].reset(!1);this.setCurrentTween(0)},update:function(i){if(this.isPendingRemove()||this.isDestroyed())return this.persist?(this.setFinishedState(),!1):!0;if(this.isFinished()||this.paused)return!1;if(i*=this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(i),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(i),!1;this.hasStarted||(this.startDelay-=i,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(s.TWEEN_START,"onStart"),i=0));var h=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(i)&&this.nextTween()&&this.nextState(),h=this.isPendingRemove(),h&&this.persist&&(this.setFinishedState(),h=!1)),h},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(i){this.currentIndex=i,this.currentTween=this.data[i],this.currentTween.setActiveState()},dispatchEvent:function(i,h){this.emit(i,this);var f=this.callbacks[h];f&&f.func.apply(this.callbackScope,[this].concat(f.params))},destroy:function(){p.prototype.destroy.call(this),this.currentTween=null}});e.register("tweenchain",function(i){return this.scene.sys.tweens.chain(i)}),r.register("tweenchain",function(i){return this.scene.sys.tweens.create(i)}),u.exports=l},48177:(u,m,t)=>{var a=t(95042),p=t(45319),o=t(83419),s=t(842),r=new o({Extends:a,initialize:function(n,l,i,h,f,c,d,v,g,y,x,T,S,A,P,D,R){a.call(this,n,l,v,g,y,x,T,S,A,P),this.key=i,this.getActiveValue=c,this.getEndValue=h,this.getStartValue=f,this.ease=d,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=D,this.interpolationData=R},reset:function(e){a.prototype.reset.call(this);var n=this.tween.targets[this.targetIndex],l=this.key;e&&(n[l]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(n[l]=this.getActiveValue(n,l,0))},update:function(e){var n=this.tween,l=n.totalTargets,i=this.targetIndex,h=n.targets[i],f=this.key;if(!h)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(s.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(h,f,h[f],i,l,n),this.end=this.getEndValue(h,f,this.start,i,l,n),this.current=this.start,h[f]=this.start,this.setPlayingForwardState(),!0;var c=this.isPlayingForward(),d=this.isPlayingBackward();if(c||d){var v=this.elapsed,g=this.duration,y=0,x=!1;v+=e,v>=g?(y=v-g,v=g,x=!0):v<0&&(v=0);var T=p(v/g,0,1);this.elapsed=v,this.progress=T,this.previous=this.current,c||(T=1-T);var S=this.ease(T);this.interpolation?this.current=this.interpolation(this.interpolationData,S):this.current=this.start+(this.end-this.start)*S,h[f]=this.current,x&&(c?(n.isNumberTween&&(this.current=this.end,h[f]=this.current),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(y)):(n.isNumberTween&&(this.current=this.start,h[f]=this.current),this.setStateFromStart(y))),this.dispatchEvent(s.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,n){var l=this.tween;if(!l.isSeeking){var i=l.targets[this.targetIndex],h=this.key,f=this.current,c=this.previous;l.emit(e,l,h,i,f,c);var d=l.callbacks[n];d&&d.func.apply(l.callbackScope,[l,i,h,f,c].concat(d.params))}},destroy:function(){a.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});u.exports=r},42220:(u,m,t)=>{var a=t(95042),p=t(45319),o=t(83419),s=t(842),r=new o({Extends:a,initialize:function(n,l,i,h,f,c,d,v,g,y,x){a.call(this,n,l,f,c,!1,d,v,g,y,x),this.key="texture",this.startTexture=null,this.endTexture=i,this.startFrame=null,this.endFrame=h,this.yoyo=v!==0},reset:function(e){a.prototype.reset.call(this);var n=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=n.texture.key,this.startFrame=n.frame.name),e&&n.setTexture(this.startTexture,this.startFrame)},update:function(e){var n=this.tween,l=this.targetIndex,i=n.targets[l];if(!i)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(s.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&i.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var h=this.isPlayingForward(),f=this.isPlayingBackward();if(h||f){var c=this.elapsed,d=this.duration,v=0,g=!1;c+=e,c>=d?(v=c-d,c=d,g=!0):c<0&&(c=0);var y=p(c/d,0,1);this.elapsed=c,this.progress=y,g&&(h?(i.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(v)):(i.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(v))),this.dispatchEvent(s.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,n){var l=this.tween;if(!l.isSeeking){var i=l.targets[this.targetIndex],h=this.key;l.emit(e,l,h,i);var f=l.callbacks[n];f&&f.func.apply(l.callbackScope,[l,i,h].concat(f.params))}},destroy:function(){a.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});u.exports=r},86353:u=>{var m={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};u.exports=m},83419:u=>{function m(r){return!!r.get&&typeof r.get=="function"||!!r.set&&typeof r.set=="function"}function t(r,e,n){var l=n?r[e]:Object.getOwnPropertyDescriptor(r,e);return!n&&l.value&&typeof l.value=="object"&&(l=l.value),l&&m(l)?(typeof l.enumerable>"u"&&(l.enumerable=!0),typeof l.configurable>"u"&&(l.configurable=!0),l):!1}function a(r,e){var n=Object.getOwnPropertyDescriptor(r,e);return n?(n.value&&typeof n.value=="object"&&(n=n.value),n.configurable===!1):!1}function p(r,e,n,l){for(var i in e)if(e.hasOwnProperty(i)){var h=t(e,i,n);if(h!==!1){var f=l||r;if(a(f.prototype,i)){if(s.ignoreFinals)continue;throw new Error("cannot override final property '"+i+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(r.prototype,i,h)}else r.prototype[i]=e[i]}}function o(r,e){if(e){Array.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++)p(r,e[n].prototype||e[n])}}function s(r){r||(r={});var e,n;if(r.initialize){if(typeof r.initialize!="function")throw new Error("initialize must be a function");e=r.initialize,delete r.initialize}else if(r.Extends){var l=r.Extends;e=function(){l.apply(this,arguments)}}else e=function(){};r.Extends?(e.prototype=Object.create(r.Extends.prototype),e.prototype.constructor=e,n=r.Extends,delete r.Extends):e.prototype.constructor=e;var i=null;return r.Mixins&&(i=r.Mixins,delete r.Mixins),o(e,i),p(e,r,!0,n),e}s.extend=p,s.mixin=o,s.ignoreFinals=!1,u.exports=s},29747:u=>{var m=function(){};u.exports=m},20242:u=>{var m=function(){return null};u.exports=m},71146:u=>{var m=function(t,a,p,o,s){if(s===void 0&&(s=t),p>0){var r=p-t.length;if(r<=0)return null}if(!Array.isArray(a))return t.indexOf(a)===-1?(t.push(a),o&&o.call(s,a),a):null;for(var e=a.length-1;e>=0;)t.indexOf(a[e])!==-1&&a.splice(e,1),e--;if(e=a.length,e===0)return null;p>0&&e>r&&(a.splice(r),e=r);for(var n=0;n<e;n++){var l=a[n];t.push(l),o&&o.call(s,l)}return a};u.exports=m},51067:u=>{var m=function(t,a,p,o,s,r){if(p===void 0&&(p=0),r===void 0&&(r=t),o>0){var e=o-t.length;if(e<=0)return null}if(!Array.isArray(a))return t.indexOf(a)===-1?(t.splice(p,0,a),s&&s.call(r,a),a):null;for(var n=a.length-1;n>=0;)t.indexOf(a[n])!==-1&&a.pop(),n--;if(n=a.length,n===0)return null;o>0&&n>e&&(a.splice(e),n=e);for(var l=n-1;l>=0;l--){var i=a[l];t.splice(p,0,i),s&&s.call(r,i)}return a};u.exports=m},66905:u=>{var m=function(t,a){var p=t.indexOf(a);return p!==-1&&p<t.length&&(t.splice(p,1),t.push(a)),a};u.exports=m},21612:(u,m,t)=>{var a=t(82011),p=function(o,s,r,e,n){e===void 0&&(e=0),n===void 0&&(n=o.length);var l=0;if(a(o,e,n))for(var i=e;i<n;i++){var h=o[i];h[s]===r&&l++}return l};u.exports=p},95428:u=>{var m=function(t,a,p){var o,s=[null];for(o=3;o<arguments.length;o++)s.push(arguments[o]);for(o=0;o<t.length;o++)s[0]=t[o],a.apply(p,s);return t};u.exports=m},36914:(u,m,t)=>{var a=t(82011),p=function(o,s,r,e,n){if(e===void 0&&(e=0),n===void 0&&(n=o.length),a(o,e,n)){var l,i=[null];for(l=5;l<arguments.length;l++)i.push(arguments[l]);for(l=e;l<n;l++)i[0]=o[l],s.apply(r,i)}return o};u.exports=p},81957:u=>{var m=function(t,a,p){if(a.length){if(a.length===1)return a[0]}else return NaN;var o=1,s,r;if(p){if(t<a[0][p])return a[0];for(;a[o][p]<t;)o++}else for(;a[o]<t;)o++;return o>a.length&&(o=a.length),p?(s=a[o-1][p],r=a[o][p],r-t<=t-s?a[o]:a[o-1]):(s=a[o-1],r=a[o],r-t<=t-s?r:s)};u.exports=m},43491:u=>{var m=function(t,a){a===void 0&&(a=[]);for(var p=0;p<t.length;p++)Array.isArray(t[p])?m(t[p],a):a.push(t[p]);return a};u.exports=m},46710:(u,m,t)=>{var a=t(82011),p=function(o,s,r,e,n){e===void 0&&(e=0),n===void 0&&(n=o.length);var l=[];if(a(o,e,n))for(var i=e;i<n;i++){var h=o[i];(!s||s&&r===void 0&&h.hasOwnProperty(s)||s&&r!==void 0&&h[s]===r)&&l.push(h)}return l};u.exports=p},58731:(u,m,t)=>{var a=t(82011),p=function(o,s,r,e,n){if(e===void 0&&(e=0),n===void 0&&(n=o.length),e!==-1){if(a(o,e,n))for(var l=e;l<n;l++){var i=o[l];if(!s||s&&r===void 0&&i.hasOwnProperty(s)||s&&r!==void 0&&i[s]===r)return i}}else if(a(o,0,n))for(var l=n;l>=0;l--){var i=o[l];if(!s||s&&r===void 0&&i.hasOwnProperty(s)||s&&r!==void 0&&i[s]===r)return i}return null};u.exports=p},26546:u=>{var m=function(t,a,p){a===void 0&&(a=0),p===void 0&&(p=t.length);var o=a+Math.floor(Math.random()*p);return t[o]===void 0?null:t[o]};u.exports=m},85835:u=>{var m=function(t,a,p){if(a===p)return t;var o=t.indexOf(a),s=t.indexOf(p);if(o<0||s<0)throw new Error("Supplied items must be elements of the same array");return o>s||(t.splice(o,1),s=t.indexOf(p),t.splice(s+1,0,a)),t};u.exports=m},83371:u=>{var m=function(t,a,p){if(a===p)return t;var o=t.indexOf(a),s=t.indexOf(p);if(o<0||s<0)throw new Error("Supplied items must be elements of the same array");return o<s||(t.splice(o,1),s===0?t.unshift(a):t.splice(s,0,a)),t};u.exports=m},70864:u=>{var m=function(t,a){var p=t.indexOf(a);if(p>0){var o=t[p-1],s=t.indexOf(o);t[p]=o,t[s]=a}return t};u.exports=m},69693:u=>{var m=function(t,a,p){var o=t.indexOf(a);if(o===-1||p<0||p>=t.length)throw new Error("Supplied index out of bounds");return o!==p&&(t.splice(o,1),t.splice(p,0,a)),a};u.exports=m},40853:u=>{var m=function(t,a){var p=t.indexOf(a);if(p!==-1&&p<t.length-1){var o=t[p+1],s=t.indexOf(o);t[p]=o,t[s]=a}return t};u.exports=m},20283:u=>{var m=function(t,a,p,o){var s=[],r,e=!1;if((p||o)&&(e=!0,p||(p=""),o||(o="")),a<t)for(r=t;r>=a;r--)e?s.push(p+r.toString()+o):s.push(r);else for(r=t;r<=a;r++)e?s.push(p+r.toString()+o):s.push(r);return s};u.exports=m},593:(u,m,t)=>{var a=t(2284),p=function(o,s,r){o===void 0&&(o=0),s===void 0&&(s=null),r===void 0&&(r=1),s===null&&(s=o,o=0);for(var e=[],n=Math.max(a((s-o)/(r||1)),0),l=0;l<n;l++)e.push(o),o+=r;return e};u.exports=p},43886:u=>{function m(p,o,s){var r=p[o];p[o]=p[s],p[s]=r}function t(p,o){return p<o?-1:p>o?1:0}var a=function(p,o,s,r,e){for(s===void 0&&(s=0),r===void 0&&(r=p.length-1),e===void 0&&(e=t);r>s;){if(r-s>600){var n=r-s+1,l=o-s+1,i=Math.log(n),h=.5*Math.exp(2*i/3),f=.5*Math.sqrt(i*h*(n-h)/n)*(l-n/2<0?-1:1),c=Math.max(s,Math.floor(o-l*h/n+f)),d=Math.min(r,Math.floor(o+(n-l)*h/n+f));a(p,o,c,d,e)}var v=p[o],g=s,y=r;for(m(p,s,o),e(p[r],v)>0&&m(p,s,r);g<y;){for(m(p,g,y),g++,y--;e(p[g],v)<0;)g++;for(;e(p[y],v)>0;)y--}e(p[s],v)===0?m(p,s,y):(y++,m(p,y,r)),y<=o&&(s=y+1),o<=y&&(r=y-1)}};u.exports=a},88492:(u,m,t)=>{var a=t(35154),p=t(33680),o=function(r,e,n){for(var l=[],i=0;i<r.length;i++)for(var h=0;h<e.length;h++)for(var f=0;f<n;f++)l.push({a:r[i],b:e[h]});return l},s=function(r,e,n){var l=a(n,"max",0),i=a(n,"qty",1),h=a(n,"random",!1),f=a(n,"randomB",!1),c=a(n,"repeat",0),d=a(n,"yoyo",!1),v=[];if(f&&p(e),c===-1)if(l===0)c=0;else{var g=r.length*e.length*i;d&&(g*=2),c=Math.ceil(l/g)}for(var y=0;y<=c;y++){var x=o(r,e,i);h&&p(x),v=v.concat(x),d&&(x.reverse(),v=v.concat(x))}return l&&v.splice(l),v};u.exports=s},72905:(u,m,t)=>{var a=t(19133),p=function(o,s,r,e){e===void 0&&(e=o);var n;if(!Array.isArray(s))return n=o.indexOf(s),n!==-1?(a(o,n),r&&r.call(e,s),s):null;for(var l=s.length-1,i=[];l>=0;){var h=s[l];n=o.indexOf(h),n!==-1&&(a(o,n),i.push(h),r&&r.call(e,h)),l--}return i};u.exports=p},60248:(u,m,t)=>{var a=t(19133),p=function(o,s,r,e){if(e===void 0&&(e=o),s<0||s>o.length-1)throw new Error("Index out of bounds");var n=a(o,s);return r&&r.call(e,n),n};u.exports=p},81409:(u,m,t)=>{var a=t(82011),p=function(o,s,r,e,n){if(s===void 0&&(s=0),r===void 0&&(r=o.length),n===void 0&&(n=o),a(o,s,r)){var l=r-s,i=o.splice(s,l);if(e)for(var h=0;h<i.length;h++){var f=i[h];e.call(n,f)}return i}else return[]};u.exports=p},31856:(u,m,t)=>{var a=t(19133),p=function(o,s,r){s===void 0&&(s=0),r===void 0&&(r=o.length);var e=s+Math.floor(Math.random()*r);return a(o,e)};u.exports=p},42169:u=>{var m=function(t,a,p){var o=t.indexOf(a),s=t.indexOf(p);return o!==-1&&s===-1?(t[o]=p,!0):!1};u.exports=m},86003:u=>{var m=function(t,a){a===void 0&&(a=1);for(var p=null,o=0;o<a;o++)p=t.shift(),t.push(p);return p};u.exports=m},49498:u=>{var m=function(t,a){a===void 0&&(a=1);for(var p=null,o=0;o<a;o++)p=t.pop(),t.unshift(p);return p};u.exports=m},82011:u=>{var m=function(t,a,p,o){var s=t.length;if(a<0||a>=s||a>=p||p>s){if(o)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};u.exports=m},89545:u=>{var m=function(t,a){var p=t.indexOf(a);return p!==-1&&p>0&&(t.splice(p,1),t.unshift(a)),a};u.exports=m},17810:(u,m,t)=>{var a=t(82011),p=function(o,s,r,e,n){if(e===void 0&&(e=0),n===void 0&&(n=o.length),a(o,e,n))for(var l=e;l<n;l++){var i=o[l];i.hasOwnProperty(s)&&(i[s]=r)}return o};u.exports=p},33680:u=>{var m=function(t){for(var a=t.length-1;a>0;a--){var p=Math.floor(Math.random()*(a+1)),o=t[a];t[a]=t[p],t[p]=o}return t};u.exports=m},90126:u=>{var m=function(t){var a=/\D/g;return t.sort(function(p,o){return parseInt(p.replace(a,""),10)-parseInt(o.replace(a,""),10)}),t};u.exports=m},19133:u=>{var m=function(t,a){if(!(a>=t.length)){for(var p=t.length-1,o=t[a],s=a;s<p;s++)t[s]=t[s+1];return t.length=p,o}};u.exports=m},19186:(u,m,t)=>{var a=t(82264);function p(e,n){return String(e).localeCompare(n)}function o(e,n){var l=e.length;if(l<=1)return e;for(var i=new Array(l),h=1;h<l;h*=2){s(e,n,h,i);var f=e;e=i,i=f}return e}function s(e,n,l,i){var h=e.length,f=0,c=l*2,d,v,g,y,x;for(d=0;d<h;d+=c)for(v=d+l,g=v+l,v>h&&(v=h),g>h&&(g=h),y=d,x=v;;)if(y<v&&x<g)n(e[y],e[x])<=0?i[f++]=e[y++]:i[f++]=e[x++];else if(y<v)i[f++]=e[y++];else if(x<g)i[f++]=e[x++];else break}var r=function(e,n){if(n===void 0&&(n=p),!e||e.length<2)return e;if(a.features.stableSort)return e.sort(n);var l=o(e,n);return l!==e&&s(l,null,e.length,e),e};u.exports=r},25630:u=>{var m=function(t,a,p){if(a===p)return t;var o=t.indexOf(a),s=t.indexOf(p);if(o<0||s<0)throw new Error("Supplied items must be elements of the same array");return t[o]=p,t[s]=a,t};u.exports=m},37105:(u,m,t)=>{u.exports={Matrix:t(54915),Add:t(71146),AddAt:t(51067),BringToTop:t(66905),CountAllMatching:t(21612),Each:t(95428),EachInRange:t(36914),FindClosestInSorted:t(81957),Flatten:t(43491),GetAll:t(46710),GetFirst:t(58731),GetRandom:t(26546),MoveDown:t(70864),MoveTo:t(69693),MoveUp:t(40853),MoveAbove:t(85835),MoveBelow:t(83371),NumberArray:t(20283),NumberArrayStep:t(593),QuickSelect:t(43886),Range:t(88492),Remove:t(72905),RemoveAt:t(60248),RemoveBetween:t(81409),RemoveRandomElement:t(31856),Replace:t(42169),RotateLeft:t(86003),RotateRight:t(49498),SafeRange:t(82011),SendToBack:t(89545),SetAll:t(17810),Shuffle:t(33680),SortByDigits:t(90126),SpliceOne:t(19133),StableSort:t(19186),Swap:t(25630)}},86922:u=>{var m=function(t){if(!Array.isArray(t)||!Array.isArray(t[0]))return!1;for(var a=t[0].length,p=1;p<t.length;p++)if(t[p].length!==a)return!1;return!0};u.exports=m},63362:(u,m,t)=>{var a=t(41836),p=t(86922),o=function(s){var r="";if(!p(s))return r;for(var e=0;e<s.length;e++){for(var n=0;n<s[e].length;n++){var l=s[e][n].toString();l!=="undefined"?r+=a(l,2):r+="?",n<s[e].length-1&&(r+=" |")}if(e<s.length-1){r+=`
`;for(var i=0;i<s[e].length;i++)r+="---",i<s[e].length-1&&(r+="+");r+=`
`}}return r};u.exports=o},92598:u=>{var m=function(t){return t.reverse()};u.exports=m},21224:u=>{var m=function(t){for(var a=0;a<t.length;a++)t[a].reverse();return t};u.exports=m},98717:(u,m,t)=>{var a=t(37829),p=function(o){return a(o,180)};u.exports=p},44657:(u,m,t)=>{var a=t(37829),p=function(o,s){s===void 0&&(s=1);for(var r=0;r<s;r++)o=a(o,90);return o};u.exports=p},37829:(u,m,t)=>{var a=t(86922),p=t(2429),o=function(s,r){if(r===void 0&&(r=90),!a(s))return null;if(typeof r!="string"&&(r=(r%360+360)%360),r===90||r===-270||r==="rotateLeft")s=p(s),s.reverse();else if(r===-90||r===270||r==="rotateRight")s.reverse(),s=p(s);else if(Math.abs(r)===180||r==="rotate180"){for(var e=0;e<s.length;e++)s[e].reverse();s.reverse()}return s};u.exports=o},92632:(u,m,t)=>{var a=t(37829),p=function(o,s){s===void 0&&(s=1);for(var r=0;r<s;r++)o=a(o,-90);return o};u.exports=p},69512:(u,m,t)=>{var a=t(86003),p=t(49498),o=function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),e!==0&&(e<0?a(s,Math.abs(e)):p(s,e)),r!==0)for(var n=0;n<s.length;n++){var l=s[n];r<0?a(l,Math.abs(r)):p(l,r)}return s};u.exports=o},2429:u=>{var m=function(t){for(var a=t.length,p=t[0].length,o=new Array(p),s=0;s<p;s++){o[s]=new Array(a);for(var r=a-1;r>-1;r--)o[s][r]=t[r][s]}return o};u.exports=m},54915:(u,m,t)=>{u.exports={CheckMatrix:t(86922),MatrixToString:t(63362),ReverseColumns:t(92598),ReverseRows:t(21224),Rotate180:t(98717),RotateLeft:t(44657),RotateMatrix:t(37829),RotateRight:t(92632),Translate:t(69512),TransposeMatrix:t(2429)}},71334:u=>{var m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=function(a,p){for(var o=new Uint8Array(a),s=o.length,r=p?"data:"+p+";base64,":"",e=0;e<s;e+=3)r+=m[o[e]>>2],r+=m[(o[e]&3)<<4|o[e+1]>>4],r+=m[(o[e+1]&15)<<2|o[e+2]>>6],r+=m[o[e+2]&63];return s%3===2?r=r.substring(0,r.length-1)+"=":s%3===1&&(r=r.substring(0,r.length-2)+"=="),r};u.exports=t},53134:u=>{for(var m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(256),a=0;a<m.length;a++)t[m.charCodeAt(a)]=a;var p=function(o){o=o.substr(o.indexOf(",")+1);var s=o.length,r=s*.75,e=0,n,l,i,h;o[s-1]==="="&&(r--,o[s-2]==="="&&r--);for(var f=new ArrayBuffer(r),c=new Uint8Array(f),d=0;d<s;d+=4)n=t[o.charCodeAt(d)],l=t[o.charCodeAt(d+1)],i=t[o.charCodeAt(d+2)],h=t[o.charCodeAt(d+3)],c[e++]=n<<2|l>>4,c[e++]=(l&15)<<4|i>>2,c[e++]=(i&3)<<6|h&63;return f};u.exports=p},65839:(u,m,t)=>{u.exports={ArrayBufferToBase64:t(71334),Base64ToArrayBuffer:t(53134)}},91799:(u,m,t)=>{u.exports={Array:t(37105),Base64:t(65839),Objects:t(1183),String:t(31749),NOOP:t(29747),NULL:t(20242)}},41786:u=>{var m=function(t){var a={};for(var p in t)Array.isArray(t[p])?a[p]=t[p].slice(0):a[p]=t[p];return a};u.exports=m},62644:u=>{var m=function(t){var a,p,o;if(typeof t!="object"||t===null)return t;a=Array.isArray(t)?[]:{};for(o in t)p=t[o],a[o]=m(p);return a};u.exports=m},79291:(u,m,t)=>{var a=t(41212),p=function(){var o,s,r,e,n,l,i=arguments[0]||{},h=1,f=arguments.length,c=!1;for(typeof i=="boolean"&&(c=i,i=arguments[1]||{},h=2),f===h&&(i=this,--h);h<f;h++)if((o=arguments[h])!=null)for(s in o)r=i[s],e=o[s],i!==e&&(c&&e&&(a(e)||(n=Array.isArray(e)))?(n?(n=!1,l=r&&Array.isArray(r)?r:[]):l=r&&a(r)?r:{},i[s]=p(c,l,e)):e!==void 0&&(i[s]=e));return i};u.exports=p},23568:(u,m,t)=>{var a=t(75508),p=t(35154),o=function(s,r,e){var n=p(s,r,null);if(n===null)return e;if(Array.isArray(n))return a.RND.pick(n);if(typeof n=="object"){if(n.hasOwnProperty("randInt"))return a.RND.integerInRange(n.randInt[0],n.randInt[1]);if(n.hasOwnProperty("randFloat"))return a.RND.realInRange(n.randFloat[0],n.randFloat[1])}else if(typeof n=="function")return n(r);return n};u.exports=o},95540:u=>{var m=function(t,a,p){var o=typeof t;return!t||o==="number"||o==="string"?p:t.hasOwnProperty(a)&&t[a]!==void 0?t[a]:p};u.exports=m},82840:(u,m,t)=>{var a=t(35154),p=t(45319),o=function(s,r,e,n,l){l===void 0&&(l=e);var i=a(s,r,l);return p(i,e,n)};u.exports=o},35154:u=>{var m=function(t,a,p,o){if(!t&&!o||typeof t=="number")return p;if(t&&t.hasOwnProperty(a))return t[a];if(o&&o.hasOwnProperty(a))return o[a];if(a.indexOf(".")!==-1){for(var s=a.split("."),r=t,e=o,n=p,l=p,i=!0,h=!0,f=0;f<s.length;f++)r&&r.hasOwnProperty(s[f])?(n=r[s[f]],r=r[s[f]]):i=!1,e&&e.hasOwnProperty(s[f])?(l=e[s[f]],e=e[s[f]]):h=!1;return i?n:h?l:p}else return p};u.exports=m},69036:u=>{var m=function(t,a){for(var p=0;p<a.length;p++)if(!t.hasOwnProperty(a[p]))return!1;return!0};u.exports=m},1985:u=>{var m=function(t,a){for(var p=0;p<a.length;p++)if(t.hasOwnProperty(a[p]))return!0;return!1};u.exports=m},97022:u=>{var m=function(t,a){return t.hasOwnProperty(a)};u.exports=m},41212:u=>{var m=function(t){if(!t||typeof t!="object"||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};u.exports=m},46975:(u,m,t)=>{var a=t(41786),p=function(o,s){var r=a(o);for(var e in s)r.hasOwnProperty(e)||(r[e]=s[e]);return r};u.exports=p},269:(u,m,t)=>{var a=t(41786),p=function(o,s){var r=a(o);for(var e in s)r.hasOwnProperty(e)&&(r[e]=s[e]);return r};u.exports=p},18254:(u,m,t)=>{var a=t(97022),p=function(o,s){for(var r={},e=0;e<s.length;e++){var n=s[e];a(o,n)&&(r[n]=o[n])}return r};u.exports=p},61622:u=>{var m=function(t,a,p){if(!t||typeof t=="number")return!1;if(t.hasOwnProperty(a))return t[a]=p,!0;if(a.indexOf(".")!==-1){for(var o=a.split("."),s=t,r=t,e=0;e<o.length;e++)if(s.hasOwnProperty(o[e]))r=s,s=s[o[e]];else return!1;return r[o[o.length-1]]=p,!0}return!1};u.exports=m},1183:(u,m,t)=>{u.exports={Clone:t(41786),DeepCopy:t(62644),Extend:t(79291),GetAdvancedValue:t(23568),GetFastValue:t(95540),GetMinMaxValue:t(82840),GetValue:t(35154),HasAll:t(69036),HasAny:t(1985),HasValue:t(97022),IsPlainObject:t(41212),Merge:t(46975),MergeRight:t(269),Pick:t(18254),SetValue:t(61622)}},27902:u=>{var m=function(t,a){return t.replace(/%([0-9]+)/g,function(p,o){return a[Number(o)-1]})};u.exports=m},41836:u=>{var m=function(t,a,p,o){a===void 0&&(a=0),p===void 0&&(p=" "),o===void 0&&(o=3),t=t.toString();var s=0;if(a+1>=t.length)switch(o){case 1:t=new Array(a+1-t.length).join(p)+t;break;case 3:var r=Math.ceil((s=a-t.length)/2),e=s-r;t=new Array(e+1).join(p)+t+new Array(r+1).join(p);break;default:t=t+new Array(a+1-t.length).join(p);break}return t};u.exports=m},33628:u=>{var m=function(t,a){return a===0?t.slice(1):t.slice(0,a)+t.slice(a+1)};u.exports=m},27671:u=>{var m=function(t){return t.split("").reverse().join("")};u.exports=m},45650:u=>{var m=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var a=Math.random()*16|0,p=t==="x"?a:a&3|8;return p.toString(16)})};u.exports=m},35355:u=>{var m=function(t){return t&&t[0].toUpperCase()+t.slice(1)};u.exports=m},31749:(u,m,t)=>{u.exports={Format:t(27902),Pad:t(41836),RemoveAt:t(33628),Reverse:t(27671),UppercaseFirst:t(35355),UUID:t(45650)}}},E={};function C(u){var m=E[u];if(m!==void 0)return m.exports;var t=E[u]={exports:{}};return F[u](t,t.exports,C),t.exports}C.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var M=C(85454);return M})())});var Dh=null;function Ge(){return Dh}function _r(F){Dh??=F}var Dn=class{},ta=(()=>{class F{historyGo(C){throw new Error("")}static \u0275fac=function(M){return new(M||F)};static \u0275prov=vt({token:F,factory:()=>rt(Fh),providedIn:"platform"})}return F})();var Fh=(()=>{class F extends ta{_location;_history;_doc=rt(Xt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ge().getBaseHref(this._doc)}onPopState(C){let M=Ge().getGlobalEventTarget(this._doc,"window");return M.addEventListener("popstate",C,!1),()=>M.removeEventListener("popstate",C)}onHashChange(C){let M=Ge().getGlobalEventTarget(this._doc,"window");return M.addEventListener("hashchange",C,!1),()=>M.removeEventListener("hashchange",C)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(C){this._location.pathname=C}pushState(C,M,u){this._history.pushState(C,M,u)}replaceState(C,M,u){this._history.replaceState(C,M,u)}forward(){this._history.forward()}back(){this._history.back()}historyGo(C=0){this._history.go(C)}getState(){return this._history.state}static \u0275fac=function(M){return new(M||F)};static \u0275prov=vt({token:F,factory:()=>new F,providedIn:"platform"})}return F})();function Lh(F,E){return F?E?F.endsWith("/")?E.startsWith("/")?F+E.slice(1):F+E:E.startsWith("/")?F+E:`${F}/${E}`:F:E}function Ph(F){let E=F.search(/#|\?|$/);return F[E-1]==="/"?F.slice(0,E-1)+F.slice(E):F}function Ze(F){return F&&F[0]!=="?"?`?${F}`:F}var Xi=(()=>{class F{historyGo(C){throw new Error("")}static \u0275fac=function(M){return new(M||F)};static \u0275prov=vt({token:F,factory:()=>rt(Oh),providedIn:"root"})}return F})(),wh=new Bt(""),Oh=(()=>{class F extends Xi{_platformLocation;_baseHref;_removeListenerFns=[];constructor(C,M){super(),this._platformLocation=C,this._baseHref=M??this._platformLocation.getBaseHrefFromDOM()??rt(Xt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(C){this._removeListenerFns.push(this._platformLocation.onPopState(C),this._platformLocation.onHashChange(C))}getBaseHref(){return this._baseHref}prepareExternalUrl(C){return Lh(this._baseHref,C)}path(C=!1){let M=this._platformLocation.pathname+Ze(this._platformLocation.search),u=this._platformLocation.hash;return u&&C?`${M}${u}`:M}pushState(C,M,u,m){let t=this.prepareExternalUrl(u+Ze(m));this._platformLocation.pushState(C,M,t)}replaceState(C,M,u,m){let t=this.prepareExternalUrl(u+Ze(m));this._platformLocation.replaceState(C,M,t)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(C=0){this._platformLocation.historyGo?.(C)}static \u0275fac=function(M){return new(M||F)(pt(ta),pt(wh,8))};static \u0275prov=vt({token:F,factory:F.\u0275fac,providedIn:"root"})}return F})(),Yi=(()=>{class F{_subject=new Ce;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(C){this._locationStrategy=C;let M=this._locationStrategy.getBaseHref();this._basePath=tf(Ph(Rh(M))),this._locationStrategy.onPopState(u=>{this._subject.next({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(C=!1){return this.normalize(this._locationStrategy.path(C))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(C,M=""){return this.path()==this.normalize(C+Ze(M))}normalize(C){return F.stripTrailingSlash(_u(this._basePath,Rh(C)))}prepareExternalUrl(C){return C&&C[0]!=="/"&&(C="/"+C),this._locationStrategy.prepareExternalUrl(C)}go(C,M="",u=null){this._locationStrategy.pushState(u,"",C,M),this._notifyUrlChangeListeners(this.prepareExternalUrl(C+Ze(M)),u)}replaceState(C,M="",u=null){this._locationStrategy.replaceState(u,"",C,M),this._notifyUrlChangeListeners(this.prepareExternalUrl(C+Ze(M)),u)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(C=0){this._locationStrategy.historyGo?.(C)}onUrlChange(C){return this._urlChangeListeners.push(C),this._urlChangeSubscription??=this.subscribe(M=>{this._notifyUrlChangeListeners(M.url,M.state)}),()=>{let M=this._urlChangeListeners.indexOf(C);this._urlChangeListeners.splice(M,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(C="",M){this._urlChangeListeners.forEach(u=>u(C,M))}subscribe(C,M,u){return this._subject.subscribe({next:C,error:M??void 0,complete:u??void 0})}static normalizeQueryParams=Ze;static joinWithSlash=Lh;static stripTrailingSlash=Ph;static \u0275fac=function(M){return new(M||F)(pt(Xi))};static \u0275prov=vt({token:F,factory:()=>qu(),providedIn:"root"})}return F})();function qu(){return new Yi(pt(Xi))}function _u(F,E){if(!F||!E.startsWith(F))return E;let C=E.substring(F.length);return C===""||["/",";","?","#"].includes(C[0])?C:E}function Rh(F){return F.replace(/\/index.html$/,"")}function tf(F){if(new RegExp("^(https?:)?//").test(F)){let[,C]=F.split(/\/\/[^\/]+/);return C}return F}var ea=/\s+/,Ih=[],aa=(()=>{class F{_ngEl;_renderer;initialClasses=Ih;rawClass;stateMap=new Map;constructor(C,M){this._ngEl=C,this._renderer=M}set klass(C){this.initialClasses=C!=null?C.trim().split(ea):Ih}set ngClass(C){this.rawClass=typeof C=="string"?C.trim().split(ea):C}ngDoCheck(){for(let M of this.initialClasses)this._updateState(M,!0);let C=this.rawClass;if(Array.isArray(C)||C instanceof Set)for(let M of C)this._updateState(M,!0);else if(C!=null)for(let M of Object.keys(C))this._updateState(M,!!C[M]);this._applyStateDiff()}_updateState(C,M){let u=this.stateMap.get(C);u!==void 0?(u.enabled!==M&&(u.changed=!0,u.enabled=M),u.touched=!0):this.stateMap.set(C,{enabled:M,changed:!0,touched:!0})}_applyStateDiff(){for(let C of this.stateMap){let M=C[0],u=C[1];u.changed?(this._toggleClass(M,u.enabled),u.changed=!1):u.touched||(u.enabled&&this._toggleClass(M,!1),this.stateMap.delete(M)),u.touched=!1}}_toggleClass(C,M){C=C.trim(),C.length>0&&C.split(ea).forEach(u=>{M?this._renderer.addClass(this._ngEl.nativeElement,u):this._renderer.removeClass(this._ngEl.nativeElement,u)})}static \u0275fac=function(M){return new(M||F)(Gt(xn),Gt(Tn))};static \u0275dir=Ne({type:F,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return F})();var ws=class{$implicit;ngForOf;index;count;constructor(E,C,M,u){this.$implicit=E,this.ngForOf=C,this.index=M,this.count=u}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Wi=(()=>{class F{_viewContainer;_template;_differs;set ngForOf(C){this._ngForOf=C,this._ngForOfDirty=!0}set ngForTrackBy(C){this._trackByFn=C}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(C,M,u){this._viewContainer=C,this._template=M,this._differs=u}set ngForTemplate(C){C&&(this._template=C)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let C=this._ngForOf;!this._differ&&C&&(this._differ=this._differs.find(C).create(this.ngForTrackBy))}if(this._differ){let C=this._differ.diff(this._ngForOf);C&&this._applyChanges(C)}}_applyChanges(C){let M=this._viewContainer;C.forEachOperation((u,m,t)=>{if(u.previousIndex==null)M.createEmbeddedView(this._template,new ws(u.item,this._ngForOf,-1,-1),t===null?void 0:t);else if(t==null)M.remove(m===null?void 0:m);else if(m!==null){let a=M.get(m);M.move(a,t),Bh(a,u)}});for(let u=0,m=M.length;u<m;u++){let a=M.get(u).context;a.index=u,a.count=m,a.ngForOf=this._ngForOf}C.forEachIdentityChange(u=>{let m=M.get(u.currentIndex);Bh(m,u)})}static ngTemplateContextGuard(C,M){return!0}static \u0275fac=function(M){return new(M||F)(Gt(Sn),Gt(jr),Gt(Eh))};static \u0275dir=Ne({type:F,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return F})();function Bh(F,E){F.context.$implicit=E.item}var oa=(()=>{class F{_viewContainer;_context=new Os;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(C,M){this._viewContainer=C,this._thenTemplateRef=M}set ngIf(C){this._context.$implicit=this._context.ngIf=C,this._updateView()}set ngIfThen(C){Nh(C,!1),this._thenTemplateRef=C,this._thenViewRef=null,this._updateView()}set ngIfElse(C){Nh(C,!1),this._elseTemplateRef=C,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(C,M){return!0}static \u0275fac=function(M){return new(M||F)(Gt(Sn),Gt(jr))};static \u0275dir=Ne({type:F,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return F})(),Os=class{$implicit=null;ngIf=null};function Nh(F,E){if(F&&!F.createEmbeddedView)throw new Et(2020,!1)}var ha=(()=>{class F{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(C,M,u){this._ngEl=C,this._differs=M,this._renderer=u}set ngStyle(C){this._ngStyle=C,!this._differ&&C&&(this._differ=this._differs.find(C).create())}ngDoCheck(){if(this._differ){let C=this._differ.diff(this._ngStyle);C&&this._applyChanges(C)}}_setStyle(C,M){let[u,m]=C.split("."),t=u.indexOf("-")===-1?void 0:ci.DashCase;M!=null?this._renderer.setStyle(this._ngEl.nativeElement,u,m?`${M}${m}`:M,t):this._renderer.removeStyle(this._ngEl.nativeElement,u,t)}_applyChanges(C){C.forEachRemovedItem(M=>this._setStyle(M.key,null)),C.forEachAddedItem(M=>this._setStyle(M.key,M.currentValue)),C.forEachChangedItem(M=>this._setStyle(M.key,M.currentValue))}static \u0275fac=function(M){return new(M||F)(Gt(xn),Gt(Ah),Gt(Tn))};static \u0275dir=Ne({type:F,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return F})();function ef(F,E){return new Et(2100,!1)}var ia=class{createSubscription(E,C,M){return Mn(()=>E.subscribe({next:C,error:M}))}dispose(E){Mn(()=>E.unsubscribe())}},na=class{createSubscription(E,C,M){return E.then(u=>C?.(u),u=>M?.(u)),{unsubscribe:()=>{C=null,M=null}}}dispose(E){E.unsubscribe()}},nf=new na,sf=new ia,la=(()=>{class F{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=rt(bi);constructor(C){this._ref=C}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(C){if(!this._obj){if(C)try{this.markForCheckOnValueUpdate=!1,this._subscribe(C)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return C!==this._obj?(this._dispose(),this.transform(C)):this._latestValue}_subscribe(C){this._obj=C,this._strategy=this._selectStrategy(C),this._subscription=this._strategy.createSubscription(C,M=>this._updateLatestValue(C,M),M=>this.applicationErrorHandler(M))}_selectStrategy(C){if(As(C))return nf;if(uh(C))return sf;throw ef(F,C)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(C,M){C===this._obj&&(this._latestValue=M,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(M){return new(M||F)(Gt(Pn,16))};static \u0275pipe=oh({name:"async",type:F,pure:!1})}return F})();function ua(F,E){E=encodeURIComponent(E);for(let C of F.split(";")){let M=C.indexOf("="),[u,m]=M==-1?[C,""]:[C.slice(0,M),C.slice(M+1)];if(u.trim()===E)return decodeURIComponent(m)}return null}var Fn=class{};var Gh="browser",af="server";function bh(F){return F===af}var Ns=new Bt(""),va=(()=>{class F{_zone;_plugins;_eventNameToPlugin=new Map;constructor(C,M){this._zone=M,C.forEach(u=>{u.manager=this}),this._plugins=C.slice().reverse()}addEventListener(C,M,u,m){return this._findPluginFor(M).addEventListener(C,M,u,m)}getZone(){return this._zone}_findPluginFor(C){let M=this._eventNameToPlugin.get(C);if(M)return M;if(M=this._plugins.find(m=>m.supports(C)),!M)throw new Et(5101,!1);return this._eventNameToPlugin.set(C,M),M}static \u0275fac=function(M){return new(M||F)(pt(Ns),pt(vi))};static \u0275prov=vt({token:F,factory:F.\u0275fac})}return F})(),Ln=class{_doc;constructor(E){this._doc=E}manager},Is="ng-app-id";function Uh(F){for(let E of F)E.remove()}function zh(F,E){let C=E.createElement("style");return C.textContent=F,C}function hf(F,E,C,M){let u=F.head?.querySelectorAll(`style[${Is}="${E}"],link[${Is}="${E}"]`);if(u)for(let m of u)m.removeAttribute(Is),m instanceof HTMLLinkElement?M.set(m.href.slice(m.href.lastIndexOf("/")+1),{usage:0,elements:[m]}):m.textContent&&C.set(m.textContent,{usage:0,elements:[m]})}function da(F,E){let C=E.createElement("link");return C.setAttribute("rel","stylesheet"),C.setAttribute("href",F),C}var pa=(()=>{class F{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(C,M,u,m={}){this.doc=C,this.appId=M,this.nonce=u,this.isServer=bh(m),hf(C,M,this.inline,this.external),this.hosts.add(C.head)}addStyles(C,M){for(let u of C)this.addUsage(u,this.inline,zh);M?.forEach(u=>this.addUsage(u,this.external,da))}removeStyles(C,M){for(let u of C)this.removeUsage(u,this.inline);M?.forEach(u=>this.removeUsage(u,this.external))}addUsage(C,M,u){let m=M.get(C);m?m.usage++:M.set(C,{usage:1,elements:[...this.hosts].map(t=>this.addElement(t,u(C,this.doc)))})}removeUsage(C,M){let u=M.get(C);u&&(u.usage--,u.usage<=0&&(Uh(u.elements),M.delete(C)))}ngOnDestroy(){for(let[,{elements:C}]of[...this.inline,...this.external])Uh(C);this.hosts.clear()}addHost(C){this.hosts.add(C);for(let[M,{elements:u}]of this.inline)u.push(this.addElement(C,zh(M,this.doc)));for(let[M,{elements:u}]of this.external)u.push(this.addElement(C,da(M,this.doc)))}removeHost(C){this.hosts.delete(C)}addElement(C,M){return this.nonce&&M.setAttribute("nonce",this.nonce),this.isServer&&M.setAttribute(Is,this.appId),C.appendChild(M)}static \u0275fac=function(M){return new(M||F)(pt(Xt),pt($r),pt(Kr,8),pt(yn))};static \u0275prov=vt({token:F,factory:F.\u0275fac})}return F})(),fa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ga=/%COMP%/g;var Xh="%COMP%",lf=`_nghost-${Xh}`,uf=`_ngcontent-${Xh}`,ff=!0,df=new Bt("",{providedIn:"root",factory:()=>ff});function cf(F){return uf.replace(ga,F)}function vf(F){return lf.replace(ga,F)}function Yh(F,E){return E.map(C=>C.replace(ga,F))}var In=(()=>{class F{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(C,M,u,m,t,a,p,o=null,s=null){this.eventManager=C,this.sharedStylesHost=M,this.appId=u,this.removeStylesOnCompDestroy=m,this.doc=t,this.platformId=a,this.ngZone=p,this.nonce=o,this.tracingService=s,this.platformIsServer=!1,this.defaultRenderer=new wn(C,t,p,this.platformIsServer,this.tracingService)}createRenderer(C,M){if(!C||!M)return this.defaultRenderer;let u=this.getOrCreateRenderer(C,M);return u instanceof Bs?u.applyToHost(C):u instanceof On&&u.applyStyles(),u}getOrCreateRenderer(C,M){let u=this.rendererByCompId,m=u.get(M.id);if(!m){let t=this.doc,a=this.ngZone,p=this.eventManager,o=this.sharedStylesHost,s=this.removeStylesOnCompDestroy,r=this.platformIsServer,e=this.tracingService;switch(M.encapsulation){case Zr.Emulated:m=new Bs(p,o,M,this.appId,s,t,a,r,e);break;case Zr.ShadowDom:return new ca(p,o,C,M,t,a,this.nonce,r,e);default:m=new On(p,o,M,s,t,a,r,e);break}u.set(M.id,m)}return m}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(C){this.rendererByCompId.delete(C)}static \u0275fac=function(M){return new(M||F)(pt(va),pt(pa),pt($r),pt(df),pt(Xt),pt(yn),pt(vi),pt(Kr),pt(hh,8))};static \u0275prov=vt({token:F,factory:F.\u0275fac})}return F})(),wn=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(E,C,M,u,m){this.eventManager=E,this.doc=C,this.ngZone=M,this.platformIsServer=u,this.tracingService=m}destroy(){}destroyNode=null;createElement(E,C){return C?this.doc.createElementNS(fa[C]||C,E):this.doc.createElement(E)}createComment(E){return this.doc.createComment(E)}createText(E){return this.doc.createTextNode(E)}appendChild(E,C){(Vh(E)?E.content:E).appendChild(C)}insertBefore(E,C,M){E&&(Vh(E)?E.content:E).insertBefore(C,M)}removeChild(E,C){C.remove()}selectRootElement(E,C){let M=typeof E=="string"?this.doc.querySelector(E):E;if(!M)throw new Et(-5104,!1);return C||(M.textContent=""),M}parentNode(E){return E.parentNode}nextSibling(E){return E.nextSibling}setAttribute(E,C,M,u){if(u){C=u+":"+C;let m=fa[u];m?E.setAttributeNS(m,C,M):E.setAttribute(C,M)}else E.setAttribute(C,M)}removeAttribute(E,C,M){if(M){let u=fa[M];u?E.removeAttributeNS(u,C):E.removeAttribute(`${M}:${C}`)}else E.removeAttribute(C)}addClass(E,C){E.classList.add(C)}removeClass(E,C){E.classList.remove(C)}setStyle(E,C,M,u){u&(ci.DashCase|ci.Important)?E.style.setProperty(C,M,u&ci.Important?"important":""):E.style[C]=M}removeStyle(E,C,M){M&ci.DashCase?E.style.removeProperty(C):E.style[C]=""}setProperty(E,C,M){E!=null&&(E[C]=M)}setValue(E,C){E.nodeValue=C}listen(E,C,M,u){if(typeof E=="string"&&(E=Ge().getGlobalEventTarget(this.doc,E),!E))throw new Et(5102,!1);let m=this.decoratePreventDefault(M);return this.tracingService?.wrapEventListener&&(m=this.tracingService.wrapEventListener(E,C,m)),this.eventManager.addEventListener(E,C,m,u)}decoratePreventDefault(E){return C=>{if(C==="__ngUnwrap__")return E;E(C)===!1&&C.preventDefault()}}};function Vh(F){return F.tagName==="TEMPLATE"&&F.content!==void 0}var ca=class extends wn{sharedStylesHost;hostEl;shadowRoot;constructor(E,C,M,u,m,t,a,p,o){super(E,m,t,p,o),this.sharedStylesHost=C,this.hostEl=M,this.shadowRoot=M.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let s=u.styles;s=Yh(u.id,s);for(let e of s){let n=document.createElement("style");a&&n.setAttribute("nonce",a),n.textContent=e,this.shadowRoot.appendChild(n)}let r=u.getExternalStyles?.();if(r)for(let e of r){let n=da(e,m);a&&n.setAttribute("nonce",a),this.shadowRoot.appendChild(n)}}nodeOrShadowRoot(E){return E===this.hostEl?this.shadowRoot:E}appendChild(E,C){return super.appendChild(this.nodeOrShadowRoot(E),C)}insertBefore(E,C,M){return super.insertBefore(this.nodeOrShadowRoot(E),C,M)}removeChild(E,C){return super.removeChild(null,C)}parentNode(E){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(E)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},On=class extends wn{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(E,C,M,u,m,t,a,p,o){super(E,m,t,a,p),this.sharedStylesHost=C,this.removeStylesOnCompDestroy=u;let s=M.styles;this.styles=o?Yh(o,s):s,this.styleUrls=M.getExternalStyles?.(o)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Bs=class extends On{contentAttr;hostAttr;constructor(E,C,M,u,m,t,a,p,o){let s=u+"-"+M.id;super(E,C,M,m,t,a,p,o,s),this.contentAttr=cf(s),this.hostAttr=vf(s)}applyToHost(E){this.applyStyles(),this.setAttribute(E,this.hostAttr,"")}createElement(E,C){let M=super.createElement(E,C);return super.setAttribute(M,this.contentAttr,""),M}};var Gs=class F extends Dn{supportsDOMEvents=!0;static makeCurrent(){_r(new F)}onAndCancel(E,C,M,u){return E.addEventListener(C,M,u),()=>{E.removeEventListener(C,M,u)}}dispatchEvent(E,C){E.dispatchEvent(C)}remove(E){E.remove()}createElement(E,C){return C=C||this.getDefaultDocument(),C.createElement(E)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(E){return E.nodeType===Node.ELEMENT_NODE}isShadowRoot(E){return E instanceof DocumentFragment}getGlobalEventTarget(E,C){return C==="window"?window:C==="document"?E:C==="body"?E.body:null}getBaseHref(E){let C=pf();return C==null?null:gf(C)}resetBaseElement(){Bn=null}getUserAgent(){return window.navigator.userAgent}getCookie(E){return ua(document.cookie,E)}},Bn=null;function pf(){return Bn=Bn||document.head.querySelector("base"),Bn?Bn.getAttribute("href"):null}function gf(F){return new URL(F,document.baseURI).pathname}var mf=(()=>{class F{build(){return new XMLHttpRequest}static \u0275fac=function(M){return new(M||F)};static \u0275prov=vt({token:F,factory:F.\u0275fac})}return F})(),Hh=(()=>{class F extends Ln{constructor(C){super(C)}supports(C){return!0}addEventListener(C,M,u,m){return C.addEventListener(M,u,m),()=>this.removeEventListener(C,M,u,m)}removeEventListener(C,M,u,m){return C.removeEventListener(M,u,m)}static \u0275fac=function(M){return new(M||F)(pt(Xt))};static \u0275prov=vt({token:F,factory:F.\u0275fac})}return F})(),Wh=["alt","control","meta","shift"],xf={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yf={alt:F=>F.altKey,control:F=>F.ctrlKey,meta:F=>F.metaKey,shift:F=>F.shiftKey},$h=(()=>{class F extends Ln{constructor(C){super(C)}supports(C){return F.parseEventName(C)!=null}addEventListener(C,M,u,m){let t=F.parseEventName(M),a=F.eventCallback(t.fullKey,u,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ge().onAndCancel(C,t.domEventName,a,m))}static parseEventName(C){let M=C.toLowerCase().split("."),u=M.shift();if(M.length===0||!(u==="keydown"||u==="keyup"))return null;let m=F._normalizeKey(M.pop()),t="",a=M.indexOf("code");if(a>-1&&(M.splice(a,1),t="code."),Wh.forEach(o=>{let s=M.indexOf(o);s>-1&&(M.splice(s,1),t+=o+".")}),t+=m,M.length!=0||m.length===0)return null;let p={};return p.domEventName=u,p.fullKey=t,p}static matchEventFullKeyCode(C,M){let u=xf[C.key]||C.key,m="";return M.indexOf("code.")>-1&&(u=C.code,m="code."),u==null||!u?!1:(u=u.toLowerCase(),u===" "?u="space":u==="."&&(u="dot"),Wh.forEach(t=>{if(t!==u){let a=yf[t];a(C)&&(m+=t+".")}}),m+=u,m===M)}static eventCallback(C,M,u){return m=>{F.matchEventFullKeyCode(m,C)&&u.runGuarded(()=>M(m))}}static _normalizeKey(C){return C==="esc"?"escape":C}static \u0275fac=function(M){return new(M||F)(pt(Xt))};static \u0275prov=vt({token:F,factory:F.\u0275fac})}return F})();function ma(F,E){return Mh(at({rootComponent:F},Tf(E)))}function Tf(F){return{appProviders:[...Mf,...F?.providers??[]],platformProviders:Af}}function Sf(){Gs.makeCurrent()}function Cf(){return new Yr}function Ef(){return eh(document),document}var Af=[{provide:yn,useValue:Gh},{provide:ih,useValue:Sf,multi:!0},{provide:Xt,useFactory:Ef}];var Mf=[{provide:Qo,useValue:"root"},{provide:Yr,useFactory:Cf},{provide:Ns,useClass:Hh,multi:!0,deps:[Xt]},{provide:Ns,useClass:$h,multi:!0,deps:[Xt]},In,pa,va,{provide:Es,useExisting:In},{provide:Fn,useClass:mf},[]];var Kh=(()=>{class F{_doc;constructor(C){this._doc=C}getTitle(){return this._doc.title}setTitle(C){this._doc.title=C||""}static \u0275fac=function(M){return new(M||F)(pt(Xt))};static \u0275prov=vt({token:F,factory:F.\u0275fac,providedIn:"root"})}return F})();var lt="primary",Jn=Symbol("RouteTitle"),Ca=class{params;constructor(E){this.params=E||{}}has(E){return Object.prototype.hasOwnProperty.call(this.params,E)}get(E){if(this.has(E)){let C=this.params[E];return Array.isArray(C)?C[0]:C}return null}getAll(E){if(this.has(E)){let C=this.params[E];return Array.isArray(C)?C:[C]}return[]}get keys(){return Object.keys(this.params)}};function Ti(F){return new Ca(F)}function tl(F,E,C){let M=C.path.split("/");if(M.length>F.length||C.pathMatch==="full"&&(E.hasChildren()||M.length<F.length))return null;let u={};for(let m=0;m<M.length;m++){let t=M[m],a=F[m];if(t[0]===":")u[t.substring(1)]=a;else if(t!==a.path)return null}return{consumed:F.slice(0,M.length),posParams:u}}function Rf(F,E){if(F.length!==E.length)return!1;for(let C=0;C<F.length;++C)if(!Me(F[C],E[C]))return!1;return!0}function Me(F,E){let C=F?Ea(F):void 0,M=E?Ea(E):void 0;if(!C||!M||C.length!=M.length)return!1;let u;for(let m=0;m<C.length;m++)if(u=C[m],!el(F[u],E[u]))return!1;return!0}function Ea(F){return[...Object.keys(F),...Object.getOwnPropertySymbols(F)]}function el(F,E){if(Array.isArray(F)&&Array.isArray(E)){if(F.length!==E.length)return!1;let C=[...F].sort(),M=[...E].sort();return C.every((u,m)=>M[m]===u)}else return F===E}function il(F){return F.length>0?F[F.length-1]:null}function ze(F){return Wo(F)?F:As(F)?ge(Promise.resolve(F)):ht(F)}var Df={exact:sl,subset:rl},nl={exact:Ff,subset:Lf,ignored:()=>!0};function Zh(F,E,C){return Df[C.paths](F.root,E.root,C.matrixParams)&&nl[C.queryParams](F.queryParams,E.queryParams)&&!(C.fragment==="exact"&&F.fragment!==E.fragment)}function Ff(F,E){return Me(F,E)}function sl(F,E,C){if(!xi(F.segments,E.segments)||!zs(F.segments,E.segments,C)||F.numberOfChildren!==E.numberOfChildren)return!1;for(let M in E.children)if(!F.children[M]||!sl(F.children[M],E.children[M],C))return!1;return!0}function Lf(F,E){return Object.keys(E).length<=Object.keys(F).length&&Object.keys(E).every(C=>el(F[C],E[C]))}function rl(F,E,C){return al(F,E,E.segments,C)}function al(F,E,C,M){if(F.segments.length>C.length){let u=F.segments.slice(0,C.length);return!(!xi(u,C)||E.hasChildren()||!zs(u,C,M))}else if(F.segments.length===C.length){if(!xi(F.segments,C)||!zs(F.segments,C,M))return!1;for(let u in E.children)if(!F.children[u]||!rl(F.children[u],E.children[u],M))return!1;return!0}else{let u=C.slice(0,F.segments.length),m=C.slice(F.segments.length);return!xi(F.segments,u)||!zs(F.segments,u,M)||!F.children[lt]?!1:al(F.children[lt],E,m,M)}}function zs(F,E,C){return E.every((M,u)=>nl[C](F[u].parameters,M.parameters))}var Re=class{root;queryParams;fragment;_queryParamMap;constructor(E=new gt([],{}),C={},M=null){this.root=E,this.queryParams=C,this.fragment=M}get queryParamMap(){return this._queryParamMap??=Ti(this.queryParams),this._queryParamMap}toString(){return If.serialize(this)}},gt=class{segments;children;parent=null;constructor(E,C){this.segments=E,this.children=C,Object.values(C).forEach(M=>M.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vs(this)}},je=class{path;parameters;_parameterMap;constructor(E,C){this.path=E,this.parameters=C}get parameterMap(){return this._parameterMap??=Ti(this.parameters),this._parameterMap}toString(){return hl(this)}};function wf(F,E){return xi(F,E)&&F.every((C,M)=>Me(C.parameters,E[M].parameters))}function xi(F,E){return F.length!==E.length?!1:F.every((C,M)=>C.path===E[M].path)}function Of(F,E){let C=[];return Object.entries(F.children).forEach(([M,u])=>{M===lt&&(C=C.concat(E(u,M)))}),Object.entries(F.children).forEach(([M,u])=>{M!==lt&&(C=C.concat(E(u,M)))}),C}var Qn=(()=>{class F{static \u0275fac=function(M){return new(M||F)};static \u0275prov=vt({token:F,factory:()=>new Si,providedIn:"root"})}return F})(),Si=class{parse(E){let C=new Ma(E);return new Re(C.parseRootSegment(),C.parseQueryParams(),C.parseFragment())}serialize(E){let C=`/${Nn(E.root,!0)}`,M=Gf(E.queryParams),u=typeof E.fragment=="string"?`#${Bf(E.fragment)}`:"";return`${C}${M}${u}`}},If=new Si;function Vs(F){return F.segments.map(E=>hl(E)).join("/")}function Nn(F,E){if(!F.hasChildren())return Vs(F);if(E){let C=F.children[lt]?Nn(F.children[lt],!1):"",M=[];return Object.entries(F.children).forEach(([u,m])=>{u!==lt&&M.push(`${u}:${Nn(m,!1)}`)}),M.length>0?`${C}(${M.join("//")})`:C}else{let C=Of(F,(M,u)=>u===lt?[Nn(F.children[lt],!1)]:[`${u}:${Nn(M,!1)}`]);return Object.keys(F.children).length===1&&F.children[lt]!=null?`${Vs(F)}/${C[0]}`:`${Vs(F)}/(${C.join("//")})`}}function ol(F){return encodeURIComponent(F).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bs(F){return ol(F).replace(/%3B/gi,";")}function Bf(F){return encodeURI(F)}function Aa(F){return ol(F).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xs(F){return decodeURIComponent(F)}function jh(F){return Xs(F.replace(/\+/g,"%20"))}function hl(F){return`${Aa(F.path)}${Nf(F.parameters)}`}function Nf(F){return Object.entries(F).map(([E,C])=>`;${Aa(E)}=${Aa(C)}`).join("")}function Gf(F){let E=Object.entries(F).map(([C,M])=>Array.isArray(M)?M.map(u=>`${bs(C)}=${bs(u)}`).join("&"):`${bs(C)}=${bs(M)}`).filter(C=>C);return E.length?`?${E.join("&")}`:""}var bf=/^[^\/()?;#]+/;function xa(F){let E=F.match(bf);return E?E[0]:""}var Uf=/^[^\/()?;=#]+/;function zf(F){let E=F.match(Uf);return E?E[0]:""}var Vf=/^[^=?&#]+/;function Xf(F){let E=F.match(Vf);return E?E[0]:""}var Yf=/^[^&#]+/;function Wf(F){let E=F.match(Yf);return E?E[0]:""}var Ma=class{url;remaining;constructor(E){this.url=E,this.remaining=E}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new gt([],{}):new gt([],this.parseChildren())}parseQueryParams(){let E={};if(this.consumeOptional("?"))do this.parseQueryParam(E);while(this.consumeOptional("&"));return E}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let E=[];for(this.peekStartsWith("(")||E.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),E.push(this.parseSegment());let C={};this.peekStartsWith("/(")&&(this.capture("/"),C=this.parseParens(!0));let M={};return this.peekStartsWith("(")&&(M=this.parseParens(!1)),(E.length>0||Object.keys(C).length>0)&&(M[lt]=new gt(E,C)),M}parseSegment(){let E=xa(this.remaining);if(E===""&&this.peekStartsWith(";"))throw new Et(4009,!1);return this.capture(E),new je(Xs(E),this.parseMatrixParams())}parseMatrixParams(){let E={};for(;this.consumeOptional(";");)this.parseParam(E);return E}parseParam(E){let C=zf(this.remaining);if(!C)return;this.capture(C);let M="";if(this.consumeOptional("=")){let u=xa(this.remaining);u&&(M=u,this.capture(M))}E[Xs(C)]=Xs(M)}parseQueryParam(E){let C=Xf(this.remaining);if(!C)return;this.capture(C);let M="";if(this.consumeOptional("=")){let t=Wf(this.remaining);t&&(M=t,this.capture(M))}let u=jh(C),m=jh(M);if(E.hasOwnProperty(u)){let t=E[u];Array.isArray(t)||(t=[t],E[u]=t),t.push(m)}else E[u]=m}parseParens(E){let C={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let M=xa(this.remaining),u=this.remaining[M.length];if(u!=="/"&&u!==")"&&u!==";")throw new Et(4010,!1);let m;M.indexOf(":")>-1?(m=M.slice(0,M.indexOf(":")),this.capture(m),this.capture(":")):E&&(m=lt);let t=this.parseChildren();C[m]=Object.keys(t).length===1?t[lt]:new gt([],t),this.consumeOptional("//")}return C}peekStartsWith(E){return this.remaining.startsWith(E)}consumeOptional(E){return this.peekStartsWith(E)?(this.remaining=this.remaining.substring(E.length),!0):!1}capture(E){if(!this.consumeOptional(E))throw new Et(4011,!1)}};function ll(F){return F.segments.length>0?new gt([],{[lt]:F}):F}function ul(F){let E={};for(let[M,u]of Object.entries(F.children)){let m=ul(u);if(M===lt&&m.segments.length===0&&m.hasChildren())for(let[t,a]of Object.entries(m.children))E[t]=a;else(m.segments.length>0||m.hasChildren())&&(E[M]=m)}let C=new gt(F.segments,E);return Hf(C)}function Hf(F){if(F.numberOfChildren===1&&F.children[lt]){let E=F.children[lt];return new gt(F.segments.concat(E.segments),E.children)}return F}function Je(F){return F instanceof Re}function fl(F,E,C=null,M=null){let u=dl(F);return cl(u,E,C,M)}function dl(F){let E;function C(m){let t={};for(let p of m.children){let o=C(p);t[p.outlet]=o}let a=new gt(m.url,t);return m===F&&(E=a),a}let M=C(F.root),u=ll(M);return E??u}function cl(F,E,C,M){let u=F;for(;u.parent;)u=u.parent;if(E.length===0)return ya(u,u,u,C,M);let m=$f(E);if(m.toRoot())return ya(u,u,new gt([],{}),C,M);let t=Kf(m,u,F),a=t.processChildren?bn(t.segmentGroup,t.index,m.commands):pl(t.segmentGroup,t.index,m.commands);return ya(u,t.segmentGroup,a,C,M)}function Ys(F){return typeof F=="object"&&F!=null&&!F.outlets&&!F.segmentPath}function Vn(F){return typeof F=="object"&&F!=null&&F.outlets}function ya(F,E,C,M,u){let m={};M&&Object.entries(M).forEach(([p,o])=>{m[p]=Array.isArray(o)?o.map(s=>`${s}`):`${o}`});let t;F===E?t=C:t=vl(F,E,C);let a=ll(ul(t));return new Re(a,m,u)}function vl(F,E,C){let M={};return Object.entries(F.children).forEach(([u,m])=>{m===E?M[u]=C:M[u]=vl(m,E,C)}),new gt(F.segments,M)}var Ws=class{isAbsolute;numberOfDoubleDots;commands;constructor(E,C,M){if(this.isAbsolute=E,this.numberOfDoubleDots=C,this.commands=M,E&&M.length>0&&Ys(M[0]))throw new Et(4003,!1);let u=M.find(Vn);if(u&&u!==il(M))throw new Et(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function $f(F){if(typeof F[0]=="string"&&F.length===1&&F[0]==="/")return new Ws(!0,0,F);let E=0,C=!1,M=F.reduce((u,m,t)=>{if(typeof m=="object"&&m!=null){if(m.outlets){let a={};return Object.entries(m.outlets).forEach(([p,o])=>{a[p]=typeof o=="string"?o.split("/"):o}),[...u,{outlets:a}]}if(m.segmentPath)return[...u,m.segmentPath]}return typeof m!="string"?[...u,m]:t===0?(m.split("/").forEach((a,p)=>{p==0&&a==="."||(p==0&&a===""?C=!0:a===".."?E++:a!=""&&u.push(a))}),u):[...u,m]},[]);return new Ws(C,E,M)}var Ki=class{segmentGroup;processChildren;index;constructor(E,C,M){this.segmentGroup=E,this.processChildren=C,this.index=M}};function Kf(F,E,C){if(F.isAbsolute)return new Ki(E,!0,0);if(!C)return new Ki(E,!1,NaN);if(C.parent===null)return new Ki(C,!0,0);let M=Ys(F.commands[0])?0:1,u=C.segments.length-1+M;return Zf(C,u,F.numberOfDoubleDots)}function Zf(F,E,C){let M=F,u=E,m=C;for(;m>u;){if(m-=u,M=M.parent,!M)throw new Et(4005,!1);u=M.segments.length}return new Ki(M,!1,u-m)}function jf(F){return Vn(F[0])?F[0].outlets:{[lt]:F}}function pl(F,E,C){if(F??=new gt([],{}),F.segments.length===0&&F.hasChildren())return bn(F,E,C);let M=Jf(F,E,C),u=C.slice(M.commandIndex);if(M.match&&M.pathIndex<F.segments.length){let m=new gt(F.segments.slice(0,M.pathIndex),{});return m.children[lt]=new gt(F.segments.slice(M.pathIndex),F.children),bn(m,0,u)}else return M.match&&u.length===0?new gt(F.segments,{}):M.match&&!F.hasChildren()?Pa(F,E,C):M.match?bn(F,0,u):Pa(F,E,C)}function bn(F,E,C){if(C.length===0)return new gt(F.segments,{});{let M=jf(C),u={};if(Object.keys(M).some(m=>m!==lt)&&F.children[lt]&&F.numberOfChildren===1&&F.children[lt].segments.length===0){let m=bn(F.children[lt],E,C);return new gt(F.segments,m.children)}return Object.entries(M).forEach(([m,t])=>{typeof t=="string"&&(t=[t]),t!==null&&(u[m]=pl(F.children[m],E,t))}),Object.entries(F.children).forEach(([m,t])=>{M[m]===void 0&&(u[m]=t)}),new gt(F.segments,u)}}function Jf(F,E,C){let M=0,u=E,m={match:!1,pathIndex:0,commandIndex:0};for(;u<F.segments.length;){if(M>=C.length)return m;let t=F.segments[u],a=C[M];if(Vn(a))break;let p=`${a}`,o=M<C.length-1?C[M+1]:null;if(u>0&&p===void 0)break;if(p&&o&&typeof o=="object"&&o.outlets===void 0){if(!Qh(p,o,t))return m;M+=2}else{if(!Qh(p,{},t))return m;M++}u++}return{match:!0,pathIndex:u,commandIndex:M}}function Pa(F,E,C){let M=F.segments.slice(0,E),u=0;for(;u<C.length;){let m=C[u];if(Vn(m)){let p=Qf(m.outlets);return new gt(M,p)}if(u===0&&Ys(C[0])){let p=F.segments[E];M.push(new je(p.path,Jh(C[0]))),u++;continue}let t=Vn(m)?m.outlets[lt]:`${m}`,a=u<C.length-1?C[u+1]:null;t&&a&&Ys(a)?(M.push(new je(t,Jh(a))),u+=2):(M.push(new je(t,{})),u++)}return new gt(M,{})}function Qf(F){let E={};return Object.entries(F).forEach(([C,M])=>{typeof M=="string"&&(M=[M]),M!==null&&(E[C]=Pa(new gt([],{}),0,M))}),E}function Jh(F){let E={};return Object.entries(F).forEach(([C,M])=>E[C]=`${M}`),E}function Qh(F,E,C){return F==C.path&&Me(E,C.parameters)}var Un="imperative",Yt=function(F){return F[F.NavigationStart=0]="NavigationStart",F[F.NavigationEnd=1]="NavigationEnd",F[F.NavigationCancel=2]="NavigationCancel",F[F.NavigationError=3]="NavigationError",F[F.RoutesRecognized=4]="RoutesRecognized",F[F.ResolveStart=5]="ResolveStart",F[F.ResolveEnd=6]="ResolveEnd",F[F.GuardsCheckStart=7]="GuardsCheckStart",F[F.GuardsCheckEnd=8]="GuardsCheckEnd",F[F.RouteConfigLoadStart=9]="RouteConfigLoadStart",F[F.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",F[F.ChildActivationStart=11]="ChildActivationStart",F[F.ChildActivationEnd=12]="ChildActivationEnd",F[F.ActivationStart=13]="ActivationStart",F[F.ActivationEnd=14]="ActivationEnd",F[F.Scroll=15]="Scroll",F[F.NavigationSkipped=16]="NavigationSkipped",F}(Yt||{}),fe=class{id;url;constructor(E,C){this.id=E,this.url=C}},Ci=class extends fe{type=Yt.NavigationStart;navigationTrigger;restoredState;constructor(E,C,M="imperative",u=null){super(E,C),this.navigationTrigger=M,this.restoredState=u}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},De=class extends fe{urlAfterRedirects;type=Yt.NavigationEnd;constructor(E,C,M){super(E,C),this.urlAfterRedirects=M}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},_t=function(F){return F[F.Redirect=0]="Redirect",F[F.SupersededByNewNavigation=1]="SupersededByNewNavigation",F[F.NoDataFromResolver=2]="NoDataFromResolver",F[F.GuardRejected=3]="GuardRejected",F[F.Aborted=4]="Aborted",F}(_t||{}),Xn=function(F){return F[F.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",F[F.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",F}(Xn||{}),Pe=class extends fe{reason;code;type=Yt.NavigationCancel;constructor(E,C,M,u){super(E,C),this.reason=M,this.code=u}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},be=class extends fe{reason;code;type=Yt.NavigationSkipped;constructor(E,C,M,u){super(E,C),this.reason=M,this.code=u}},ji=class extends fe{error;target;type=Yt.NavigationError;constructor(E,C,M,u){super(E,C),this.error=M,this.target=u}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Yn=class extends fe{urlAfterRedirects;state;type=Yt.RoutesRecognized;constructor(E,C,M,u){super(E,C),this.urlAfterRedirects=M,this.state=u}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hs=class extends fe{urlAfterRedirects;state;type=Yt.GuardsCheckStart;constructor(E,C,M,u){super(E,C),this.urlAfterRedirects=M,this.state=u}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$s=class extends fe{urlAfterRedirects;state;shouldActivate;type=Yt.GuardsCheckEnd;constructor(E,C,M,u,m){super(E,C),this.urlAfterRedirects=M,this.state=u,this.shouldActivate=m}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ks=class extends fe{urlAfterRedirects;state;type=Yt.ResolveStart;constructor(E,C,M,u){super(E,C),this.urlAfterRedirects=M,this.state=u}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zs=class extends fe{urlAfterRedirects;state;type=Yt.ResolveEnd;constructor(E,C,M,u){super(E,C),this.urlAfterRedirects=M,this.state=u}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},js=class{route;type=Yt.RouteConfigLoadStart;constructor(E){this.route=E}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Js=class{route;type=Yt.RouteConfigLoadEnd;constructor(E){this.route=E}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Qs=class{snapshot;type=Yt.ChildActivationStart;constructor(E){this.snapshot=E}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ks=class{snapshot;type=Yt.ChildActivationEnd;constructor(E){this.snapshot=E}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qs=class{snapshot;type=Yt.ActivationStart;constructor(E){this.snapshot=E}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_s=class{snapshot;type=Yt.ActivationEnd;constructor(E){this.snapshot=E}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Wn=class{},Ji=class{url;navigationBehaviorOptions;constructor(E,C){this.url=E,this.navigationBehaviorOptions=C}};function kf(F){return!(F instanceof Wn)&&!(F instanceof Ji)}function qf(F,E){return F.providers&&!F._injector&&(F._injector=kr(F.providers,E,`Route: ${F.path}`)),F._injector??E}function Ae(F){return F.outlet||lt}function _f(F,E){let C=F.filter(M=>Ae(M)===E);return C.push(...F.filter(M=>Ae(M)!==E)),C}function kn(F){if(!F)return null;if(F.routeConfig?._injector)return F.routeConfig._injector;for(let E=F.parent;E;E=E.parent){let C=E.routeConfig;if(C?._loadedInjector)return C._loadedInjector;if(C?._injector)return C._injector}return null}var tr=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return kn(this.route?.snapshot)??this.rootInjector}constructor(E){this.rootInjector=E,this.children=new Qe(this.rootInjector)}},Qe=(()=>{class F{rootInjector;contexts=new Map;constructor(C){this.rootInjector=C}onChildOutletCreated(C,M){let u=this.getOrCreateContext(C);u.outlet=M,this.contexts.set(C,u)}onChildOutletDestroyed(C){let M=this.getContext(C);M&&(M.outlet=null,M.attachRef=null)}onOutletDeactivated(){let C=this.contexts;return this.contexts=new Map,C}onOutletReAttached(C){this.contexts=C}getOrCreateContext(C){let M=this.getContext(C);return M||(M=new tr(this.rootInjector),this.contexts.set(C,M)),M}getContext(C){return this.contexts.get(C)||null}static \u0275fac=function(M){return new(M||F)(pt(Gi))};static \u0275prov=vt({token:F,factory:F.\u0275fac,providedIn:"root"})}return F})(),er=class{_root;constructor(E){this._root=E}get root(){return this._root.value}parent(E){let C=this.pathFromRoot(E);return C.length>1?C[C.length-2]:null}children(E){let C=Ra(E,this._root);return C?C.children.map(M=>M.value):[]}firstChild(E){let C=Ra(E,this._root);return C&&C.children.length>0?C.children[0].value:null}siblings(E){let C=Da(E,this._root);return C.length<2?[]:C[C.length-2].children.map(u=>u.value).filter(u=>u!==E)}pathFromRoot(E){return Da(E,this._root).map(C=>C.value)}};function Ra(F,E){if(F===E.value)return E;for(let C of E.children){let M=Ra(F,C);if(M)return M}return null}function Da(F,E){if(F===E.value)return[E];for(let C of E.children){let M=Da(F,C);if(M.length)return M.unshift(E),M}return[]}var ue=class{value;children;constructor(E,C){this.value=E,this.children=C}toString(){return`TreeNode(${this.value})`}};function $i(F){let E={};return F&&F.children.forEach(C=>E[C.value.outlet]=C),E}var Hn=class extends er{snapshot;constructor(E,C){super(E),this.snapshot=C,Ga(this,E)}toString(){return this.snapshot.toString()}};function gl(F){let E=td(F),C=new pe([new je("",{})]),M=new pe({}),u=new pe({}),m=new pe({}),t=new pe(""),a=new Ue(C,M,m,t,u,lt,F,E.root);return a.snapshot=E.root,new Hn(new ue(a,[]),E)}function td(F){let E={},C={},M={},u="",m=new yi([],E,M,u,C,lt,F,null,{});return new $n("",new ue(m,[]))}var Ue=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(E,C,M,u,m,t,a,p){this.urlSubject=E,this.paramsSubject=C,this.queryParamsSubject=M,this.fragmentSubject=u,this.dataSubject=m,this.outlet=t,this.component=a,this._futureSnapshot=p,this.title=this.dataSubject?.pipe(yt(o=>o[Jn]))??ht(void 0),this.url=E,this.params=C,this.queryParams=M,this.fragment=u,this.data=m}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(yt(E=>Ti(E))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(yt(E=>Ti(E))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ir(F,E,C="emptyOnly"){let M,{routeConfig:u}=F;return E!==null&&(C==="always"||u?.path===""||!E.component&&!E.routeConfig?.loadComponent)?M={params:at(at({},E.params),F.params),data:at(at({},E.data),F.data),resolve:at(at(at(at({},F.data),E.data),u?.data),F._resolvedData)}:M={params:at({},F.params),data:at({},F.data),resolve:at(at({},F.data),F._resolvedData??{})},u&&xl(u)&&(M.resolve[Jn]=u.title),M}var yi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Jn]}constructor(E,C,M,u,m,t,a,p,o){this.url=E,this.params=C,this.queryParams=M,this.fragment=u,this.data=m,this.outlet=t,this.component=a,this.routeConfig=p,this._resolve=o}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ti(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ti(this.queryParams),this._queryParamMap}toString(){let E=this.url.map(M=>M.toString()).join("/"),C=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${E}', path:'${C}')`}},$n=class extends er{url;constructor(E,C){super(C),this.url=E,Ga(this,C)}toString(){return ml(this._root)}};function Ga(F,E){E.value._routerState=F,E.children.forEach(C=>Ga(F,C))}function ml(F){let E=F.children.length>0?` { ${F.children.map(ml).join(", ")} } `:"";return`${F.value}${E}`}function Ta(F){if(F.snapshot){let E=F.snapshot,C=F._futureSnapshot;F.snapshot=C,Me(E.queryParams,C.queryParams)||F.queryParamsSubject.next(C.queryParams),E.fragment!==C.fragment&&F.fragmentSubject.next(C.fragment),Me(E.params,C.params)||F.paramsSubject.next(C.params),Rf(E.url,C.url)||F.urlSubject.next(C.url),Me(E.data,C.data)||F.dataSubject.next(C.data)}else F.snapshot=F._futureSnapshot,F.dataSubject.next(F._futureSnapshot.data)}function Fa(F,E){let C=Me(F.params,E.params)&&wf(F.url,E.url),M=!F.parent!=!E.parent;return C&&!M&&(!F.parent||Fa(F.parent,E.parent))}function xl(F){return typeof F.title=="string"||F.title===null}var yl=new Bt(""),qn=(()=>{class F{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=lt;activateEvents=new Ui;deactivateEvents=new Ui;attachEvents=new Ui;detachEvents=new Ui;routerOutletData=Ch(void 0);parentContexts=rt(Qe);location=rt(Sn);changeDetector=rt(Pn);inputBinder=rt(ar,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(C){if(C.name){let{firstChange:M,previousValue:u}=C.name;if(M)return;this.isTrackedInParentContexts(u)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(u)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(C){return this.parentContexts.getContext(C)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let C=this.parentContexts.getContext(this.name);C?.route&&(C.attachRef?this.attach(C.attachRef,C.route):this.activateWith(C.route,C.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Et(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Et(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Et(4012,!1);this.location.detach();let C=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(C.instance),C}attach(C,M){this.activated=C,this._activatedRoute=M,this.location.insert(C.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(C.instance)}deactivate(){if(this.activated){let C=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(C)}}activateWith(C,M){if(this.isActivated)throw new Et(4013,!1);this._activatedRoute=C;let u=this.location,t=C.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,p=new La(C,a,u.injector,this.routerOutletData);this.activated=u.createComponent(t,{index:u.length,injector:p,environmentInjector:M}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(M){return new(M||F)};static \u0275dir=Ne({type:F,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[mn]})}return F})(),La=class{route;childContexts;parent;outletData;constructor(E,C,M,u){this.route=E,this.childContexts=C,this.parent=M,this.outletData=u}get(E,C){return E===Ue?this.route:E===Qe?this.childContexts:E===yl?this.outletData:this.parent.get(E,C)}},ar=new Bt("");var ba=(()=>{class F{static \u0275fac=function(M){return new(M||F)};static \u0275cmp=bt({type:F,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(M,u){M&1&&wt(0,"router-outlet")},dependencies:[qn],encapsulation:2})}return F})();function Ua(F){let E=F.children&&F.children.map(Ua),C=E?ie(at({},F),{children:E}):at({},F);return!C.component&&!C.loadComponent&&(E||C.loadChildren)&&C.outlet&&C.outlet!==lt&&(C.component=ba),C}function ed(F,E,C){let M=Kn(F,E._root,C?C._root:void 0);return new Hn(M,E)}function Kn(F,E,C){if(C&&F.shouldReuseRoute(E.value,C.value.snapshot)){let M=C.value;M._futureSnapshot=E.value;let u=id(F,E,C);return new ue(M,u)}else{if(F.shouldAttach(E.value)){let m=F.retrieve(E.value);if(m!==null){let t=m.route;return t.value._futureSnapshot=E.value,t.children=E.children.map(a=>Kn(F,a)),t}}let M=nd(E.value),u=E.children.map(m=>Kn(F,m));return new ue(M,u)}}function id(F,E,C){return E.children.map(M=>{for(let u of C.children)if(F.shouldReuseRoute(M.value,u.value.snapshot))return Kn(F,M,u);return Kn(F,M)})}function nd(F){return new Ue(new pe(F.url),new pe(F.params),new pe(F.queryParams),new pe(F.fragment),new pe(F.data),F.outlet,F.component,F)}var Qi=class{redirectTo;navigationBehaviorOptions;constructor(E,C){this.redirectTo=E,this.navigationBehaviorOptions=C}},Tl="ngNavigationCancelingError";function nr(F,E){let{redirectTo:C,navigationBehaviorOptions:M}=Je(E)?{redirectTo:E,navigationBehaviorOptions:void 0}:E,u=Sl(!1,_t.Redirect);return u.url=C,u.navigationBehaviorOptions=M,u}function Sl(F,E){let C=new Error(`NavigationCancelingError: ${F||""}`);return C[Tl]=!0,C.cancellationCode=E,C}function sd(F){return Cl(F)&&Je(F.url)}function Cl(F){return!!F&&F[Tl]}var rd=(F,E,C,M)=>yt(u=>(new wa(E,u.targetRouterState,u.currentRouterState,C,M).activate(F),u)),wa=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(E,C,M,u,m){this.routeReuseStrategy=E,this.futureState=C,this.currState=M,this.forwardEvent=u,this.inputBindingEnabled=m}activate(E){let C=this.futureState._root,M=this.currState?this.currState._root:null;this.deactivateChildRoutes(C,M,E),Ta(this.futureState.root),this.activateChildRoutes(C,M,E)}deactivateChildRoutes(E,C,M){let u=$i(C);E.children.forEach(m=>{let t=m.value.outlet;this.deactivateRoutes(m,u[t],M),delete u[t]}),Object.values(u).forEach(m=>{this.deactivateRouteAndItsChildren(m,M)})}deactivateRoutes(E,C,M){let u=E.value,m=C?C.value:null;if(u===m)if(u.component){let t=M.getContext(u.outlet);t&&this.deactivateChildRoutes(E,C,t.children)}else this.deactivateChildRoutes(E,C,M);else m&&this.deactivateRouteAndItsChildren(C,M)}deactivateRouteAndItsChildren(E,C){E.value.component&&this.routeReuseStrategy.shouldDetach(E.value.snapshot)?this.detachAndStoreRouteSubtree(E,C):this.deactivateRouteAndOutlet(E,C)}detachAndStoreRouteSubtree(E,C){let M=C.getContext(E.value.outlet),u=M&&E.value.component?M.children:C,m=$i(E);for(let t of Object.values(m))this.deactivateRouteAndItsChildren(t,u);if(M&&M.outlet){let t=M.outlet.detach(),a=M.children.onOutletDeactivated();this.routeReuseStrategy.store(E.value.snapshot,{componentRef:t,route:E,contexts:a})}}deactivateRouteAndOutlet(E,C){let M=C.getContext(E.value.outlet),u=M&&E.value.component?M.children:C,m=$i(E);for(let t of Object.values(m))this.deactivateRouteAndItsChildren(t,u);M&&(M.outlet&&(M.outlet.deactivate(),M.children.onOutletDeactivated()),M.attachRef=null,M.route=null)}activateChildRoutes(E,C,M){let u=$i(C);E.children.forEach(m=>{this.activateRoutes(m,u[m.value.outlet],M),this.forwardEvent(new _s(m.value.snapshot))}),E.children.length&&this.forwardEvent(new ks(E.value.snapshot))}activateRoutes(E,C,M){let u=E.value,m=C?C.value:null;if(Ta(u),u===m)if(u.component){let t=M.getOrCreateContext(u.outlet);this.activateChildRoutes(E,C,t.children)}else this.activateChildRoutes(E,C,M);else if(u.component){let t=M.getOrCreateContext(u.outlet);if(this.routeReuseStrategy.shouldAttach(u.snapshot)){let a=this.routeReuseStrategy.retrieve(u.snapshot);this.routeReuseStrategy.store(u.snapshot,null),t.children.onOutletReAttached(a.contexts),t.attachRef=a.componentRef,t.route=a.route.value,t.outlet&&t.outlet.attach(a.componentRef,a.route.value),Ta(a.route.value),this.activateChildRoutes(E,null,t.children)}else t.attachRef=null,t.route=u,t.outlet&&t.outlet.activateWith(u,t.injector),this.activateChildRoutes(E,null,t.children)}else this.activateChildRoutes(E,null,M)}},sr=class{path;route;constructor(E){this.path=E,this.route=this.path[this.path.length-1]}},Zi=class{component;route;constructor(E,C){this.component=E,this.route=C}};function ad(F,E,C){let M=F._root,u=E?E._root:null;return Gn(M,u,C,[M.value])}function od(F){let E=F.routeConfig?F.routeConfig.canActivateChild:null;return!E||E.length===0?null:{node:F,guards:E}}function qi(F,E){let C=Symbol(),M=E.get(F,C);return M===C?typeof F=="function"&&!Jo(F)?F:E.get(F):M}function Gn(F,E,C,M,u={canDeactivateChecks:[],canActivateChecks:[]}){let m=$i(E);return F.children.forEach(t=>{hd(t,m[t.value.outlet],C,M.concat([t.value]),u),delete m[t.value.outlet]}),Object.entries(m).forEach(([t,a])=>zn(a,C.getContext(t),u)),u}function hd(F,E,C,M,u={canDeactivateChecks:[],canActivateChecks:[]}){let m=F.value,t=E?E.value:null,a=C?C.getContext(F.value.outlet):null;if(t&&m.routeConfig===t.routeConfig){let p=ld(t,m,m.routeConfig.runGuardsAndResolvers);p?u.canActivateChecks.push(new sr(M)):(m.data=t.data,m._resolvedData=t._resolvedData),m.component?Gn(F,E,a?a.children:null,M,u):Gn(F,E,C,M,u),p&&a&&a.outlet&&a.outlet.isActivated&&u.canDeactivateChecks.push(new Zi(a.outlet.component,t))}else t&&zn(E,a,u),u.canActivateChecks.push(new sr(M)),m.component?Gn(F,null,a?a.children:null,M,u):Gn(F,null,C,M,u);return u}function ld(F,E,C){if(typeof C=="function")return C(F,E);switch(C){case"pathParamsChange":return!xi(F.url,E.url);case"pathParamsOrQueryParamsChange":return!xi(F.url,E.url)||!Me(F.queryParams,E.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Fa(F,E)||!Me(F.queryParams,E.queryParams);case"paramsChange":default:return!Fa(F,E)}}function zn(F,E,C){let M=$i(F),u=F.value;Object.entries(M).forEach(([m,t])=>{u.component?E?zn(t,E.children.getContext(m),C):zn(t,null,C):zn(t,E,C)}),u.component?E&&E.outlet&&E.outlet.isActivated?C.canDeactivateChecks.push(new Zi(E.outlet.component,u)):C.canDeactivateChecks.push(new Zi(null,u)):C.canDeactivateChecks.push(new Zi(null,u))}function _n(F){return typeof F=="function"}function ud(F){return typeof F=="boolean"}function fd(F){return F&&_n(F.canLoad)}function dd(F){return F&&_n(F.canActivate)}function cd(F){return F&&_n(F.canActivateChild)}function vd(F){return F&&_n(F.canDeactivate)}function pd(F){return F&&_n(F.canMatch)}function El(F){return F instanceof Ho||F?.name==="EmptyError"}var Us=Symbol("INITIAL_VALUE");function ki(){return Ee(F=>Ur(F.map(E=>E.pipe(Ni(1),jo(Us)))).pipe(yt(E=>{for(let C of E)if(C!==!0){if(C===Us)return Us;if(C===!1||gd(C))return C}return!0}),di(E=>E!==Us),Ni(1)))}function gd(F){return Je(F)||F instanceof Qi}function md(F,E){return me(C=>{let{targetSnapshot:M,currentSnapshot:u,guards:{canActivateChecks:m,canDeactivateChecks:t}}=C;return t.length===0&&m.length===0?ht(ie(at({},C),{guardsResult:!0})):xd(t,M,u,F).pipe(me(a=>a&&ud(a)?yd(M,m,F,E):ht(a)),yt(a=>ie(at({},C),{guardsResult:a})))})}function xd(F,E,C,M){return ge(F).pipe(me(u=>Ad(u.component,u.route,C,E,M)),$e(u=>u!==!0,!0))}function yd(F,E,C,M){return ge(E).pipe(pn(u=>$o(Sd(u.route.parent,M),Td(u.route,M),Ed(F,u.path,C),Cd(F,u.route,C))),$e(u=>u!==!0,!0))}function Td(F,E){return F!==null&&E&&E(new qs(F)),ht(!0)}function Sd(F,E){return F!==null&&E&&E(new Qs(F)),ht(!0)}function Cd(F,E,C){let M=E.routeConfig?E.routeConfig.canActivate:null;if(!M||M.length===0)return ht(!0);let u=M.map(m=>ms(()=>{let t=kn(E)??C,a=qi(m,t),p=dd(a)?a.canActivate(E,F):Be(t,()=>a(E,F));return ze(p).pipe($e())}));return ht(u).pipe(ki())}function Ed(F,E,C){let M=E[E.length-1],m=E.slice(0,E.length-1).reverse().map(t=>od(t)).filter(t=>t!==null).map(t=>ms(()=>{let a=t.guards.map(p=>{let o=kn(t.node)??C,s=qi(p,o),r=cd(s)?s.canActivateChild(M,F):Be(o,()=>s(M,F));return ze(r).pipe($e())});return ht(a).pipe(ki())}));return ht(m).pipe(ki())}function Ad(F,E,C,M,u){let m=E&&E.routeConfig?E.routeConfig.canDeactivate:null;if(!m||m.length===0)return ht(!0);let t=m.map(a=>{let p=kn(E)??u,o=qi(a,p),s=vd(o)?o.canDeactivate(F,E,C,M):Be(p,()=>o(F,E,C,M));return ze(s).pipe($e())});return ht(t).pipe(ki())}function Md(F,E,C,M){let u=E.canLoad;if(u===void 0||u.length===0)return ht(!0);let m=u.map(t=>{let a=qi(t,F),p=fd(a)?a.canLoad(E,C):Be(F,()=>a(E,C));return ze(p)});return ht(m).pipe(ki(),Al(M))}function Al(F){return Vo(Wt(E=>{if(typeof E!="boolean")throw nr(F,E)}),yt(E=>E===!0))}function Pd(F,E,C,M){let u=E.canMatch;if(!u||u.length===0)return ht(!0);let m=u.map(t=>{let a=qi(t,F),p=pd(a)?a.canMatch(E,C):Be(F,()=>a(E,C));return ze(p)});return ht(m).pipe(ki(),Al(M))}var Zn=class{segmentGroup;constructor(E){this.segmentGroup=E||null}},jn=class extends Error{urlTree;constructor(E){super(),this.urlTree=E}};function Hi(F){return vn(new Zn(F))}function Rd(F){return vn(new Et(4e3,!1))}function Dd(F){return vn(Sl(!1,_t.GuardRejected))}var Oa=class{urlSerializer;urlTree;constructor(E,C){this.urlSerializer=E,this.urlTree=C}lineralizeSegments(E,C){let M=[],u=C.root;for(;;){if(M=M.concat(u.segments),u.numberOfChildren===0)return ht(M);if(u.numberOfChildren>1||!u.children[lt])return Rd(`${E.redirectTo}`);u=u.children[lt]}}applyRedirectCommands(E,C,M,u,m){return Fd(C,u,m).pipe(yt(t=>{if(t instanceof Re)throw new jn(t);let a=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),E,M);if(t[0]==="/")throw new jn(a);return a}))}applyRedirectCreateUrlTree(E,C,M,u){let m=this.createSegmentGroup(E,C.root,M,u);return new Re(m,this.createQueryParams(C.queryParams,this.urlTree.queryParams),C.fragment)}createQueryParams(E,C){let M={};return Object.entries(E).forEach(([u,m])=>{if(typeof m=="string"&&m[0]===":"){let a=m.substring(1);M[u]=C[a]}else M[u]=m}),M}createSegmentGroup(E,C,M,u){let m=this.createSegments(E,C.segments,M,u),t={};return Object.entries(C.children).forEach(([a,p])=>{t[a]=this.createSegmentGroup(E,p,M,u)}),new gt(m,t)}createSegments(E,C,M,u){return C.map(m=>m.path[0]===":"?this.findPosParam(E,m,u):this.findOrReturn(m,M))}findPosParam(E,C,M){let u=M[C.path.substring(1)];if(!u)throw new Et(4001,!1);return u}findOrReturn(E,C){let M=0;for(let u of C){if(u.path===E.path)return C.splice(M),u;M++}return E}};function Fd(F,E,C){if(typeof F=="string")return ht(F);let M=F,{queryParams:u,fragment:m,routeConfig:t,url:a,outlet:p,params:o,data:s,title:r}=E;return ze(Be(C,()=>M({params:o,data:s,queryParams:u,fragment:m,routeConfig:t,url:a,outlet:p,title:r})))}var Ia={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ld(F,E,C,M,u){let m=Ml(F,E,C);return m.matched?(M=qf(E,M),Pd(M,E,C,u).pipe(yt(t=>t===!0?m:at({},Ia)))):ht(m)}function Ml(F,E,C){if(E.path==="**")return wd(C);if(E.path==="")return E.pathMatch==="full"&&(F.hasChildren()||C.length>0)?at({},Ia):{matched:!0,consumedSegments:[],remainingSegments:C,parameters:{},positionalParamSegments:{}};let u=(E.matcher||tl)(C,F,E);if(!u)return at({},Ia);let m={};Object.entries(u.posParams??{}).forEach(([a,p])=>{m[a]=p.path});let t=u.consumed.length>0?at(at({},m),u.consumed[u.consumed.length-1].parameters):m;return{matched:!0,consumedSegments:u.consumed,remainingSegments:C.slice(u.consumed.length),parameters:t,positionalParamSegments:u.posParams??{}}}function wd(F){return{matched:!0,parameters:F.length>0?il(F).parameters:{},consumedSegments:F,remainingSegments:[],positionalParamSegments:{}}}function kh(F,E,C,M){return C.length>0&&Bd(F,C,M)?{segmentGroup:new gt(E,Id(M,new gt(C,F.children))),slicedSegments:[]}:C.length===0&&Nd(F,C,M)?{segmentGroup:new gt(F.segments,Od(F,C,M,F.children)),slicedSegments:C}:{segmentGroup:new gt(F.segments,F.children),slicedSegments:C}}function Od(F,E,C,M){let u={};for(let m of C)if(or(F,E,m)&&!M[Ae(m)]){let t=new gt([],{});u[Ae(m)]=t}return at(at({},M),u)}function Id(F,E){let C={};C[lt]=E;for(let M of F)if(M.path===""&&Ae(M)!==lt){let u=new gt([],{});C[Ae(M)]=u}return C}function Bd(F,E,C){return C.some(M=>or(F,E,M)&&Ae(M)!==lt)}function Nd(F,E,C){return C.some(M=>or(F,E,M))}function or(F,E,C){return(F.hasChildren()||E.length>0)&&C.pathMatch==="full"?!1:C.path===""}function Gd(F,E,C){return E.length===0&&!F.children[C]}var Ba=class{};function bd(F,E,C,M,u,m,t="emptyOnly"){return new Na(F,E,C,M,u,t,m).recognize()}var Ud=31,Na=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(E,C,M,u,m,t,a){this.injector=E,this.configLoader=C,this.rootComponentType=M,this.config=u,this.urlTree=m,this.paramsInheritanceStrategy=t,this.urlSerializer=a,this.applyRedirects=new Oa(this.urlSerializer,this.urlTree)}noMatchError(E){return new Et(4002,`'${E.segmentGroup}'`)}recognize(){let E=kh(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(E).pipe(yt(({children:C,rootSnapshot:M})=>{let u=new ue(M,C),m=new $n("",u),t=fl(M,[],this.urlTree.queryParams,this.urlTree.fragment);return t.queryParams=this.urlTree.queryParams,m.url=this.urlSerializer.serialize(t),{state:m,tree:t}}))}match(E){let C=new yi([],Object.freeze({}),Object.freeze(at({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),lt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,E,lt,C).pipe(yt(M=>({children:M,rootSnapshot:C})),Bi(M=>{if(M instanceof jn)return this.urlTree=M.urlTree,this.match(M.urlTree.root);throw M instanceof Zn?this.noMatchError(M):M}))}processSegmentGroup(E,C,M,u,m){return M.segments.length===0&&M.hasChildren()?this.processChildren(E,C,M,m):this.processSegment(E,C,M,M.segments,u,!0,m).pipe(yt(t=>t instanceof ue?[t]:[]))}processChildren(E,C,M,u){let m=[];for(let t of Object.keys(M.children))t==="primary"?m.unshift(t):m.push(t);return ge(m).pipe(pn(t=>{let a=M.children[t],p=_f(C,t);return this.processSegmentGroup(E,p,a,t,u)}),Zo((t,a)=>(t.push(...a),t)),zr(null),Ko(),me(t=>{if(t===null)return Hi(M);let a=Pl(t);return zd(a),ht(a)}))}processSegment(E,C,M,u,m,t,a){return ge(C).pipe(pn(p=>this.processSegmentAgainstRoute(p._injector??E,C,p,M,u,m,t,a).pipe(Bi(o=>{if(o instanceof Zn)return ht(null);throw o}))),$e(p=>!!p),Bi(p=>{if(El(p))return Gd(M,u,m)?ht(new Ba):Hi(M);throw p}))}processSegmentAgainstRoute(E,C,M,u,m,t,a,p){return Ae(M)!==t&&(t===lt||!or(u,m,M))?Hi(u):M.redirectTo===void 0?this.matchSegmentAgainstRoute(E,u,M,m,t,p):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(E,u,C,M,m,t,p):Hi(u)}expandSegmentAgainstRouteUsingRedirect(E,C,M,u,m,t,a){let{matched:p,parameters:o,consumedSegments:s,positionalParamSegments:r,remainingSegments:e}=Ml(C,u,m);if(!p)return Hi(C);typeof u.redirectTo=="string"&&u.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Ud&&(this.allowRedirects=!1));let n=new yi(m,o,Object.freeze(at({},this.urlTree.queryParams)),this.urlTree.fragment,qh(u),Ae(u),u.component??u._loadedComponent??null,u,_h(u)),l=ir(n,a,this.paramsInheritanceStrategy);return n.params=Object.freeze(l.params),n.data=Object.freeze(l.data),this.applyRedirects.applyRedirectCommands(s,u.redirectTo,r,n,E).pipe(Ee(h=>this.applyRedirects.lineralizeSegments(u,h)),me(h=>this.processSegment(E,M,C,h.concat(e),t,!1,a)))}matchSegmentAgainstRoute(E,C,M,u,m,t){let a=Ld(C,M,u,E,this.urlSerializer);return M.path==="**"&&(C.children={}),a.pipe(Ee(p=>p.matched?(E=M._injector??E,this.getChildConfig(E,M,u).pipe(Ee(({routes:o})=>{let s=M._loadedInjector??E,{parameters:r,consumedSegments:e,remainingSegments:n}=p,l=new yi(e,r,Object.freeze(at({},this.urlTree.queryParams)),this.urlTree.fragment,qh(M),Ae(M),M.component??M._loadedComponent??null,M,_h(M)),i=ir(l,t,this.paramsInheritanceStrategy);l.params=Object.freeze(i.params),l.data=Object.freeze(i.data);let{segmentGroup:h,slicedSegments:f}=kh(C,e,n,o);if(f.length===0&&h.hasChildren())return this.processChildren(s,o,h,l).pipe(yt(d=>new ue(l,d)));if(o.length===0&&f.length===0)return ht(new ue(l,[]));let c=Ae(M)===m;return this.processSegment(s,o,h,f,c?lt:m,!0,l).pipe(yt(d=>new ue(l,d instanceof ue?[d]:[])))}))):Hi(C)))}getChildConfig(E,C,M){return C.children?ht({routes:C.children,injector:E}):C.loadChildren?C._loadedRoutes!==void 0?ht({routes:C._loadedRoutes,injector:C._loadedInjector}):Md(E,C,M,this.urlSerializer).pipe(me(u=>u?this.configLoader.loadChildren(E,C).pipe(Wt(m=>{C._loadedRoutes=m.routes,C._loadedInjector=m.injector})):Dd(C))):ht({routes:[],injector:E})}};function zd(F){F.sort((E,C)=>E.value.outlet===lt?-1:C.value.outlet===lt?1:E.value.outlet.localeCompare(C.value.outlet))}function Vd(F){let E=F.value.routeConfig;return E&&E.path===""}function Pl(F){let E=[],C=new Set;for(let M of F){if(!Vd(M)){E.push(M);continue}let u=E.find(m=>M.value.routeConfig===m.value.routeConfig);u!==void 0?(u.children.push(...M.children),C.add(u)):E.push(M)}for(let M of C){let u=Pl(M.children);E.push(new ue(M.value,u))}return E.filter(M=>!C.has(M))}function qh(F){return F.data||{}}function _h(F){return F.resolve||{}}function Xd(F,E,C,M,u,m){return me(t=>bd(F,E,C,M,t.extractedUrl,u,m).pipe(yt(({state:a,tree:p})=>ie(at({},t),{targetSnapshot:a,urlAfterRedirects:p}))))}function Yd(F,E){return me(C=>{let{targetSnapshot:M,guards:{canActivateChecks:u}}=C;if(!u.length)return ht(C);let m=new Set(u.map(p=>p.route)),t=new Set;for(let p of m)if(!t.has(p))for(let o of Rl(p))t.add(o);let a=0;return ge(t).pipe(pn(p=>m.has(p)?Wd(p,M,F,E):(p.data=ir(p,p.parent,F).resolve,ht(void 0))),Wt(()=>a++),Vr(1),me(p=>a===t.size?ht(C):Ie))})}function Rl(F){let E=F.children.map(C=>Rl(C)).flat();return[F,...E]}function Wd(F,E,C,M){let u=F.routeConfig,m=F._resolve;return u?.title!==void 0&&!xl(u)&&(m[Jn]=u.title),ms(()=>(F.data=ir(F,F.parent,C).resolve,Hd(m,F,E,M).pipe(yt(t=>(F._resolvedData=t,F.data=at(at({},F.data),t),null)))))}function Hd(F,E,C,M){let u=Ea(F);if(u.length===0)return ht({});let m={};return ge(u).pipe(me(t=>$d(F[t],E,C,M).pipe($e(),Wt(a=>{if(a instanceof Qi)throw nr(new Si,a);m[t]=a}))),Vr(1),yt(()=>m),Bi(t=>El(t)?Ie:vn(t)))}function $d(F,E,C,M){let u=kn(E)??M,m=qi(F,u),t=m.resolve?m.resolve(E,C):Be(u,()=>m(E,C));return ze(t)}function Sa(F){return Ee(E=>{let C=F(E);return C?ge(C).pipe(yt(()=>E)):ht(E)})}var za=(()=>{class F{buildTitle(C){let M,u=C.root;for(;u!==void 0;)M=this.getResolvedTitleForRoute(u)??M,u=u.children.find(m=>m.outlet===lt);return M}getResolvedTitleForRoute(C){return C.data[Jn]}static \u0275fac=function(M){return new(M||F)};static \u0275prov=vt({token:F,factory:()=>rt(Dl),providedIn:"root"})}return F})(),Dl=(()=>{class F extends za{title;constructor(C){super(),this.title=C}updateTitle(C){let M=this.buildTitle(C);M!==void 0&&this.title.setTitle(M)}static \u0275fac=function(M){return new(M||F)(pt(Kh))};static \u0275prov=vt({token:F,factory:F.\u0275fac,providedIn:"root"})}return F})(),_i=new Bt("",{providedIn:"root",factory:()=>({})}),ts=new Bt(""),Fl=(()=>{class F{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=rt(yh);loadComponent(C){if(this.componentLoaders.get(C))return this.componentLoaders.get(C);if(C._loadedComponent)return ht(C._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(C);let M=ze(C.loadComponent()).pipe(yt(wl),Wt(m=>{this.onLoadEndListener&&this.onLoadEndListener(C),C._loadedComponent=m}),xs(()=>{this.componentLoaders.delete(C)})),u=new br(M,()=>new Ce).pipe(Gr());return this.componentLoaders.set(C,u),u}loadChildren(C,M){if(this.childrenLoaders.get(M))return this.childrenLoaders.get(M);if(M._loadedRoutes)return ht({routes:M._loadedRoutes,injector:M._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(M);let m=Ll(M,this.compiler,C,this.onLoadEndListener).pipe(xs(()=>{this.childrenLoaders.delete(M)})),t=new br(m,()=>new Ce).pipe(Gr());return this.childrenLoaders.set(M,t),t}static \u0275fac=function(M){return new(M||F)};static \u0275prov=vt({token:F,factory:F.\u0275fac,providedIn:"root"})}return F})();function Ll(F,E,C,M){return ze(F.loadChildren()).pipe(yt(wl),me(u=>u instanceof ah||Array.isArray(u)?ht(u):ge(E.compileModuleAsync(u))),yt(u=>{M&&M(F);let m,t,a=!1;return Array.isArray(u)?(t=u,a=!0):(m=u.create(C).injector,t=m.get(ts,[],{optional:!0,self:!0}).flat()),{routes:t.map(Ua),injector:m}}))}function Kd(F){return F&&typeof F=="object"&&"default"in F}function wl(F){return Kd(F)?F.default:F}var hr=(()=>{class F{static \u0275fac=function(M){return new(M||F)};static \u0275prov=vt({token:F,factory:()=>rt(Zd),providedIn:"root"})}return F})(),Zd=(()=>{class F{shouldProcessUrl(C){return!0}extract(C){return C}merge(C,M){return C}static \u0275fac=function(M){return new(M||F)};static \u0275prov=vt({token:F,factory:F.\u0275fac,providedIn:"root"})}return F})(),Ol=new Bt("");var Il=new Bt(""),Bl=(()=>{class F{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Ce;transitionAbortWithErrorSubject=new Ce;configLoader=rt(Fl);environmentInjector=rt(Gi);destroyRef=rt(ko);urlSerializer=rt(Qn);rootContexts=rt(Qe);location=rt(Yi);inputBindingEnabled=rt(ar,{optional:!0})!==null;titleStrategy=rt(za);options=rt(_i,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=rt(hr);createViewTransition=rt(Ol,{optional:!0});navigationErrorHandler=rt(Il,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>ht(void 0);rootComponentType=null;destroyed=!1;constructor(){let C=u=>this.events.next(new js(u)),M=u=>this.events.next(new Js(u));this.configLoader.onLoadEndListener=M,this.configLoader.onLoadStartListener=C,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(C){let M=++this.navigationId;this.transitions?.next(ie(at({},C),{extractedUrl:this.urlHandlingStrategy.extract(C.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:M}))}setupNavigations(C){return this.transitions=new pe(null),this.transitions.pipe(di(M=>M!==null),Ee(M=>{let u=!1;return ht(M).pipe(Ee(m=>{if(this.navigationId>M.id)return this.cancelNavigationTransition(M,"",_t.SupersededByNewNavigation),Ie;this.currentTransition=M,this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,targetBrowserUrl:typeof m.extras.browserUrl=="string"?this.urlSerializer.parse(m.extras.browserUrl):m.extras.browserUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?ie(at({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>m.abortController.abort()};let t=!C.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=m.extras.onSameUrlNavigation??C.onSameUrlNavigation;if(!t&&a!=="reload"){let p="";return this.events.next(new be(m.id,this.urlSerializer.serialize(m.rawUrl),p,Xn.IgnoredSameUrlNavigation)),m.resolve(!1),Ie}if(this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return ht(m).pipe(Ee(p=>(this.events.next(new Ci(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),p.id!==this.navigationId?Ie:Promise.resolve(p))),Xd(this.environmentInjector,this.configLoader,this.rootComponentType,C.config,this.urlSerializer,this.paramsInheritanceStrategy),Wt(p=>{M.targetSnapshot=p.targetSnapshot,M.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=ie(at({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let o=new Yn(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(o)}));if(t&&this.urlHandlingStrategy.shouldProcessUrl(m.currentRawUrl)){let{id:p,extractedUrl:o,source:s,restoredState:r,extras:e}=m,n=new Ci(p,this.urlSerializer.serialize(o),s,r);this.events.next(n);let l=gl(this.rootComponentType).snapshot;return this.currentTransition=M=ie(at({},m),{targetSnapshot:l,urlAfterRedirects:o,extras:ie(at({},e),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=o,ht(M)}else{let p="";return this.events.next(new be(m.id,this.urlSerializer.serialize(m.extractedUrl),p,Xn.IgnoredByUrlHandlingStrategy)),m.resolve(!1),Ie}}),Wt(m=>{let t=new Hs(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(t)}),yt(m=>(this.currentTransition=M=ie(at({},m),{guards:ad(m.targetSnapshot,m.currentSnapshot,this.rootContexts)}),M)),md(this.environmentInjector,m=>this.events.next(m)),Wt(m=>{if(M.guardsResult=m.guardsResult,m.guardsResult&&typeof m.guardsResult!="boolean")throw nr(this.urlSerializer,m.guardsResult);let t=new $s(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.events.next(t)}),di(m=>m.guardsResult?!0:(this.cancelNavigationTransition(m,"",_t.GuardRejected),!1)),Sa(m=>{if(m.guards.canActivateChecks.length!==0)return ht(m).pipe(Wt(t=>{let a=new Ks(t.id,this.urlSerializer.serialize(t.extractedUrl),this.urlSerializer.serialize(t.urlAfterRedirects),t.targetSnapshot);this.events.next(a)}),Ee(t=>{let a=!1;return ht(t).pipe(Yd(this.paramsInheritanceStrategy,this.environmentInjector),Wt({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(t,"",_t.NoDataFromResolver)}}))}),Wt(t=>{let a=new Zs(t.id,this.urlSerializer.serialize(t.extractedUrl),this.urlSerializer.serialize(t.urlAfterRedirects),t.targetSnapshot);this.events.next(a)}))}),Sa(m=>{let t=a=>{let p=[];a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(a.routeConfig).pipe(Wt(o=>{a.component=o}),yt(()=>{})));for(let o of a.children)p.push(...t(o));return p};return Ur(t(m.targetSnapshot.root)).pipe(zr(null),Ni(1))}),Sa(()=>this.afterPreactivation()),Ee(()=>{let{currentSnapshot:m,targetSnapshot:t}=M,a=this.createViewTransition?.(this.environmentInjector,m.root,t.root);return a?ge(a).pipe(yt(()=>M)):ht(M)}),yt(m=>{let t=ed(C.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return this.currentTransition=M=ie(at({},m),{targetRouterState:t}),this.currentNavigation.targetRouterState=t,M}),Wt(()=>{this.events.next(new Wn)}),rd(this.rootContexts,C.routeReuseStrategy,m=>this.events.next(m),this.inputBindingEnabled),Ni(1),Xr(new Xo(m=>{let t=M.abortController.signal,a=()=>m.next();return t.addEventListener("abort",a),()=>t.removeEventListener("abort",a)}).pipe(di(()=>!u&&!M.targetRouterState),Wt(()=>{this.cancelNavigationTransition(M,M.abortController.signal.reason+"",_t.Aborted)}))),Wt({next:m=>{u=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new De(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects))),this.titleStrategy?.updateTitle(m.targetRouterState.snapshot),m.resolve(!0)},complete:()=>{u=!0}}),Xr(this.transitionAbortWithErrorSubject.pipe(Wt(m=>{throw m}))),xs(()=>{u||this.cancelNavigationTransition(M,"",_t.SupersededByNewNavigation),this.currentTransition?.id===M.id&&(this.currentNavigation=null,this.currentTransition=null)}),Bi(m=>{if(this.destroyed)return M.resolve(!1),Ie;if(u=!0,Cl(m))this.events.next(new Pe(M.id,this.urlSerializer.serialize(M.extractedUrl),m.message,m.cancellationCode)),sd(m)?this.events.next(new Ji(m.url,m.navigationBehaviorOptions)):M.resolve(!1);else{let t=new ji(M.id,this.urlSerializer.serialize(M.extractedUrl),m,M.targetSnapshot??void 0);try{let a=Be(this.environmentInjector,()=>this.navigationErrorHandler?.(t));if(a instanceof Qi){let{message:p,cancellationCode:o}=nr(this.urlSerializer,a);this.events.next(new Pe(M.id,this.urlSerializer.serialize(M.extractedUrl),p,o)),this.events.next(new Ji(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(t),m}catch(a){this.options.resolveNavigationPromiseOnError?M.resolve(!1):M.reject(a)}}return Ie}))}))}cancelNavigationTransition(C,M,u){let m=new Pe(C.id,this.urlSerializer.serialize(C.extractedUrl),M,u);this.events.next(m),C.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let C=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),M=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return C.toString()!==M?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(M){return new(M||F)};static \u0275prov=vt({token:F,factory:F.\u0275fac,providedIn:"root"})}return F})();function jd(F){return F!==Un}var Nl=(()=>{class F{static \u0275fac=function(M){return new(M||F)};static \u0275prov=vt({token:F,factory:()=>rt(Jd),providedIn:"root"})}return F})(),rr=class{shouldDetach(E){return!1}store(E,C){}shouldAttach(E){return!1}retrieve(E){return null}shouldReuseRoute(E,C){return E.routeConfig===C.routeConfig}},Jd=(()=>{class F extends rr{static \u0275fac=(()=>{let C;return function(u){return(C||(C=Wr(F)))(u||F)}})();static \u0275prov=vt({token:F,factory:F.\u0275fac,providedIn:"root"})}return F})(),Gl=(()=>{class F{urlSerializer=rt(Qn);options=rt(_i,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=rt(Yi);urlHandlingStrategy=rt(hr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Re;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:C,initialUrl:M,targetBrowserUrl:u}){let m=C!==void 0?this.urlHandlingStrategy.merge(C,M):M,t=u??m;return t instanceof Re?this.urlSerializer.serialize(t):t}commitTransition({targetRouterState:C,finalUrl:M,initialUrl:u}){M&&C?(this.currentUrlTree=M,this.rawUrlTree=this.urlHandlingStrategy.merge(M,u),this.routerState=C):this.rawUrlTree=u}routerState=gl(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:C}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,C??this.rawUrlTree)}static \u0275fac=function(M){return new(M||F)};static \u0275prov=vt({token:F,factory:()=>rt(Qd),providedIn:"root"})}return F})(),Qd=(()=>{class F extends Gl{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(C){return this.location.subscribe(M=>{M.type==="popstate"&&setTimeout(()=>{C(M.url,M.state,"popstate")})})}handleRouterEvent(C,M){C instanceof Ci?this.updateStateMemento():C instanceof be?this.commitTransition(M):C instanceof Yn?this.urlUpdateStrategy==="eager"&&(M.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(M),M)):C instanceof Wn?(this.commitTransition(M),this.urlUpdateStrategy==="deferred"&&!M.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(M),M)):C instanceof Pe&&C.code!==_t.SupersededByNewNavigation&&C.code!==_t.Redirect?this.restoreHistory(M):C instanceof ji?this.restoreHistory(M,!0):C instanceof De&&(this.lastSuccessfulId=C.id,this.currentPageId=this.browserPageId)}setBrowserUrl(C,{extras:M,id:u}){let{replaceUrl:m,state:t}=M;if(this.location.isCurrentPathEqualTo(C)||m){let a=this.browserPageId,p=at(at({},t),this.generateNgRouterState(u,a));this.location.replaceState(C,"",p)}else{let a=at(at({},t),this.generateNgRouterState(u,this.browserPageId+1));this.location.go(C,"",a)}}restoreHistory(C,M=!1){if(this.canceledNavigationResolution==="computed"){let u=this.browserPageId,m=this.currentPageId-u;m!==0?this.location.historyGo(m):this.getCurrentUrlTree()===C.finalUrl&&m===0&&(this.resetInternalState(C),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(M&&this.resetInternalState(C),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(C,M){return this.canceledNavigationResolution==="computed"?{navigationId:C,\u0275routerPageId:M}:{navigationId:C}}static \u0275fac=(()=>{let C;return function(u){return(C||(C=Wr(F)))(u||F)}})();static \u0275prov=vt({token:F,factory:F.\u0275fac,providedIn:"root"})}return F})();function Va(F,E){F.events.pipe(di(C=>C instanceof De||C instanceof Pe||C instanceof ji||C instanceof be),yt(C=>C instanceof De||C instanceof be?0:(C instanceof Pe?C.code===_t.Redirect||C.code===_t.SupersededByNewNavigation:!1)?2:1),di(C=>C!==2),Ni(1)).subscribe(()=>{E()})}var kd={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qd={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},es=(()=>{class F{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=rt(lh);stateManager=rt(Gl);options=rt(_i,{optional:!0})||{};pendingTasks=rt(th);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=rt(Bl);urlSerializer=rt(Qn);location=rt(Yi);urlHandlingStrategy=rt(hr);injector=rt(Gi);_events=new Ce;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=rt(Nl);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=rt(ts,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!rt(ar,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:C=>{this.console.warn(C)}}),this.subscribeToNavigationEvents()}eventsSubscription=new zo;subscribeToNavigationEvents(){let C=this.navigationTransitions.events.subscribe(M=>{try{let u=this.navigationTransitions.currentTransition,m=this.navigationTransitions.currentNavigation;if(u!==null&&m!==null){if(this.stateManager.handleRouterEvent(M,m),M instanceof Pe&&M.code!==_t.Redirect&&M.code!==_t.SupersededByNewNavigation)this.navigated=!0;else if(M instanceof De)this.navigated=!0;else if(M instanceof Ji){let t=M.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(M.url,u.currentRawUrl),p=at({browserUrl:u.extras.browserUrl,info:u.extras.info,skipLocationChange:u.extras.skipLocationChange,replaceUrl:u.extras.replaceUrl||this.urlUpdateStrategy==="eager"||jd(u.source)},t);this.scheduleNavigation(a,Un,null,p,{resolve:u.resolve,reject:u.reject,promise:u.promise})}}kf(M)&&this._events.next(M)}catch(u){this.navigationTransitions.transitionAbortWithErrorSubject.next(u)}});this.eventsSubscription.add(C)}resetRootComponentType(C){this.routerState.root.component=C,this.navigationTransitions.rootComponentType=C}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Un,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((C,M,u)=>{this.navigateToSyncWithBrowser(C,u,M)})}navigateToSyncWithBrowser(C,M,u){let m={replaceUrl:!0},t=u?.navigationId?u:null;if(u){let p=at({},u);delete p.navigationId,delete p.\u0275routerPageId,Object.keys(p).length!==0&&(m.state=p)}let a=this.parseUrl(C);this.scheduleNavigation(a,M,t,m).catch(p=>{this.injector.get(bi)(p)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(C){this.config=C.map(Ua),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(C,M={}){let{relativeTo:u,queryParams:m,fragment:t,queryParamsHandling:a,preserveFragment:p}=M,o=p?this.currentUrlTree.fragment:t,s=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":s=at(at({},this.currentUrlTree.queryParams),m);break;case"preserve":s=this.currentUrlTree.queryParams;break;default:s=m||null}s!==null&&(s=this.removeEmptyProps(s));let r;try{let e=u?u.snapshot:this.routerState.snapshot.root;r=dl(e)}catch{(typeof C[0]!="string"||C[0][0]!=="/")&&(C=[]),r=this.currentUrlTree.root}return cl(r,C,s,o??null)}navigateByUrl(C,M={skipLocationChange:!1}){let u=Je(C)?C:this.parseUrl(C),m=this.urlHandlingStrategy.merge(u,this.rawUrlTree);return this.scheduleNavigation(m,Un,null,M)}navigate(C,M={skipLocationChange:!1}){return _d(C),this.navigateByUrl(this.createUrlTree(C,M),M)}serializeUrl(C){return this.urlSerializer.serialize(C)}parseUrl(C){try{return this.urlSerializer.parse(C)}catch{return this.urlSerializer.parse("/")}}isActive(C,M){let u;if(M===!0?u=at({},kd):M===!1?u=at({},qd):u=M,Je(C))return Zh(this.currentUrlTree,C,u);let m=this.parseUrl(C);return Zh(this.currentUrlTree,m,u)}removeEmptyProps(C){return Object.entries(C).reduce((M,[u,m])=>(m!=null&&(M[u]=m),M),{})}scheduleNavigation(C,M,u,m,t){if(this.disposed)return Promise.resolve(!1);let a,p,o;t?(a=t.resolve,p=t.reject,o=t.promise):o=new Promise((r,e)=>{a=r,p=e});let s=this.pendingTasks.add();return Va(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(s))}),this.navigationTransitions.handleNavigationRequest({source:M,restoredState:u,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:C,extras:m,resolve:a,reject:p,promise:o,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),o.catch(r=>Promise.reject(r))}static \u0275fac=function(M){return new(M||F)};static \u0275prov=vt({token:F,factory:F.\u0275fac,providedIn:"root"})}return F})();function _d(F){for(let E=0;E<F.length;E++)if(F[E]==null)throw new Et(4008,!1)}var tn=(()=>{class F{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=qo(null);get href(){return Mn(this.reactiveHref)}set href(C){this.reactiveHref.set(C)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ce;applicationErrorHandler=rt(bi);options=rt(_i,{optional:!0});constructor(C,M,u,m,t,a){this.router=C,this.route=M,this.tabIndexAttribute=u,this.renderer=m,this.el=t,this.locationStrategy=a,this.reactiveHref.set(rt(new Sh("href"),{optional:!0}));let p=t.nativeElement.tagName?.toLowerCase();this.isAnchorElement=p==="a"||p==="area"||!!(typeof customElements=="object"&&customElements.get(p)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let C=this.preserveFragment,M=u=>u==="merge"||u==="preserve";C||=M(this.queryParamsHandling),C||=!this.queryParamsHandling&&!M(this.options?.defaultQueryParamsHandling),C&&(this.subscription=this.router.events.subscribe(u=>{u instanceof De&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(C){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",C)}ngOnChanges(C){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(C){C==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Je(C)?this.routerLinkInput=C:this.routerLinkInput=Array.isArray(C)?C:[C],this.setTabIndexIfNotOnNativeEl("0"))}onClick(C,M,u,m,t){let a=this.urlTree;if(a===null||this.isAnchorElement&&(C!==0||M||u||m||t||typeof this.target=="string"&&this.target!="_self"))return!0;let p={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,p)?.catch(o=>{this.applicationErrorHandler(o)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let C=this.urlTree;this.reactiveHref.set(C!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(C))??"":null)}applyAttributeValue(C,M){let u=this.renderer,m=this.el.nativeElement;M!==null?u.setAttribute(m,C,M):u.removeAttribute(m,C)}get urlTree(){return this.routerLinkInput===null?null:Je(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(M){return new(M||F)(Gt(es),Gt(Ue),Hr("tabindex"),Gt(Tn),Gt(xn),Gt(Xi))};static \u0275dir=Ne({type:F,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(M,u){M&1&&zi("click",function(t){return u.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),M&2&&ch("href",u.reactiveHref(),sh)("target",u.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Rs],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Rs],replaceUrl:[2,"replaceUrl","replaceUrl",Rs],routerLink:"routerLink"},features:[mn]})}return F})();var ec=new Bt("");function Xa(F,...E){return ys([{provide:ts,multi:!0,useValue:F},[],{provide:Ue,useFactory:ic,deps:[es]},{provide:fh,multi:!0,useFactory:nc},E.map(C=>C.\u0275providers)])}function ic(F){return F.routerState.root}function nc(){let F=rt(gn);return E=>{let C=F.get(dh);if(E!==C.components[0])return;let M=F.get(es),u=F.get(sc);F.get(rc)===1&&M.initialNavigation(),F.get(ac,null,{optional:!0})?.setUpPreloading(),F.get(ec,null,{optional:!0})?.init(),M.resetRootComponentType(C.componentTypes[0]),u.closed||(u.next(),u.complete(),u.unsubscribe())}}var sc=new Bt("",{factory:()=>new Ce}),rc=new Bt("",{providedIn:"root",factory:()=>1});var ac=new Bt("");var lr=class F{static \u0275fac=function(C){return new(C||F)};static \u0275cmp=bt({type:F,selectors:[["app-contact-view"]],decls:13,vars:0,consts:[[1,"pb-24","flex","items-center","justify-center","flex-col"],[1,"w-full","px-4","lg:max-w-[980px]","justify-start","items-center","flex","flex-1","flex-col","flex-nowrap"],[1,"flex","flex-col","md:px-4"],[1,"flex-1","flex","flex-col","items-center","justify-center","px-4"],["src","images/me.png","alt","Me",1,"w-[200px]","rounded-[50%]","m-7"],[1,"text-[2.2rem]","md:text-[2.5rem]","font-bold","pb-2","px-4"],[1,"text-[1.1rem]","md:text-[1.2rem]","text-left","font-semibold","text-zinc-500","px-4","pb-2"],[1,"text-[1.7rem]","text-[#ffcd8d]","font-semibold","hover:text-black","transition-all","duration-200"],["href","mailto:mail@joscco.com"],["src","images/letter.png","alt","letter",1,"h-[40px]","inline","mx-2"]],template:function(C,M){C&1&&(xt(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),wt(4,"img",4),xt(5,"div",5),ne(6,"Any questions?"),At(),xt(7,"div",6),ne(8," Or would you like to know more? Then feel free to "),At(),xt(9,"div",7)(10,"a",8),ne(11,"Contact Me"),wt(12,"img",9),At()()()()()())},encapsulation:2})};var qe=ku(bl());var ur=class{sprite;scene;stage;offset;constructor(E,C,M,u){this.scene=E,this.sprite=E.add.image(C,M,u).setInteractive(),this.sprite.setScale(0),this.sprite.setOrigin(.5,1),this.stage=0,this.offset=null,this.sprite.setData("stage",this.stage),this.initInteractions(),this.animateAppearance()}initInteractions(){this.sprite.on("pointerdown",E=>{this.sprite.setAlpha(.7),this.sprite.setDepth(10),this.offset={x:E.x-this.sprite.x,y:E.y-this.sprite.y},this.sprite.setData("lastPointerDownTime",Date.now())}),this.sprite.on("pointerup",()=>{this.sprite.setAlpha(1),this.sprite.setDepth(1);let E=this.sprite.getData("lastPointerDownTime");Date.now()-E<300&&this.updateStage()}),this.sprite.on("pointerupoutside",()=>{this.sprite.setAlpha(1),this.sprite.setDepth(1)})}animateAppearance(){return gs(this,null,function*(){yield new Promise((E,C)=>this.scene.tweens.add({targets:this.sprite,scale:1,duration:200,ease:Phaser.Math.Easing.Back.Out,onComplete:()=>{this.sprite.setInteractive(),E()}})),this.scene.tweens.add({targets:this.sprite,scaleX:1.05,scaleY:.95,duration:1e3,ease:Phaser.Math.Easing.Quadratic.InOut,yoyo:!0,delay:Phaser.Math.Between(0,1e3),repeat:-1})})}updateStage(){this.stage=Phaser.Math.Clamp(this.stage+1,0,["flower0","flower1","flower2"].length-1),this.sprite.setTexture(["flower0","flower1","flower2"][this.stage])}destroy(){this.scene.tweens.killTweensOf(this.sprite),this.scene.tweens.add({targets:this.sprite,scale:0,duration:200,ease:Phaser.Math.Easing.Back.In,onComplete:()=>{this.sprite.removeAllListeners(),this.sprite.destroy()}})}getSprite(){return this.sprite}getOffset(){return this.offset}getStage(){return this.stage}setPosition(E,C){this.sprite.setPosition(E,C)}};var hc=["pixiContainer"],fr=class F{pixiContainer;game;ngOnInit(){if(!this.game){let E={type:qe.default.CANVAS,width:this.pixiContainer.nativeElement.clientWidth,height:this.pixiContainer.nativeElement.clientHeight,transparent:!0,parent:this.pixiContainer.nativeElement,scene:[Wa],scale:{mode:qe.default.Scale.RESIZE,autoCenter:qe.default.Scale.CENTER_BOTH},input:{mouse:{preventDefaultWheel:!1}}};this.game=new qe.default.Game(E)}}static \u0275fac=function(C){return new(C||F)};static \u0275cmp=bt({type:F,selectors:[["app-flower-meadow"]],viewQuery:function(C,M){if(C&1&&Vi(hc,7),C&2){let u;pi(u=gi())&&(M.pixiContainer=u.first)}},decls:2,vars:0,consts:[["pixiContainer",""],[1,"w-full","h-[500px]","overflow-hidden","rounded-lg"]],template:function(C,M){C&1&&wt(0,"div",1,0)},styles:["[_nghost-%COMP%]{width:100%}"]})},Wa=class extends qe.default.Scene{flowers=[];maxFlowers=30;maxTries=10;minDistance=50;draggedFlower=null;stages=["flower0","flower1","flower2"];constructor(){super({key:"FlowerScene"})}preload(){this.stages.forEach((E,C)=>{this.load.image(E,`images/flowers/${E}.png`)})}create(){let E=this.cameras.main.width,C=this.cameras.main.height;this.generatePoissonPoints(E,C,this.minDistance,this.maxTries,this.maxFlowers).forEach(u=>{this.addFlower(u.x,u.y)}),this.input.on("pointermove",u=>{if(this.draggedFlower){let m=this.draggedFlower.getOffset();m&&this.draggedFlower.setPosition(u.x-m.x,u.y-m.y)}}),this.input.on("pointerup",u=>{this.draggedFlower||this.addFlower(u.x,u.y),this.draggedFlower=null})}addFlower(E,C){this.flowers.length>=this.maxFlowers&&this.flowers.shift()?.destroy();let M=new ur(this,E,C,this.stages[0]);M.getSprite().on("pointerdown",()=>{this.draggedFlower=M}),this.flowers.push(M)}generatePoissonPoints(E,C,M,u,m){let t=[];for(;t.length<m;){let a=0,p=!1;for(;a<u&&!p;){let o=qe.default.Math.Between(M,E-M),s=qe.default.Math.Between(M,C-M);t.some(e=>{let n=e.x-o,l=e.y-s;return Math.hypot(n,l)<M})||(t.push({x:o,y:s}),p=!0),a++}if(!p)break}return t}};var dr=class F{class="h-full";static \u0275fac=function(C){return new(C||F)};static \u0275cmp=bt({type:F,selectors:[["app-about-view"]],hostVars:2,hostBindings:function(C,M){C&2&&ph(M.class)},decls:10,vars:0,consts:[[1,"h-[500px]","flex-1","flex","flex-col","items-center","justify-center"],[1,"w-full","flex-1","flex","flex-col","justify-center","px-4","relative"],[1,"w-[350px]","text-center","bg-white","p-4","rounded","shadow-md","absolute","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2"],[1,"text-lg","md:text-xl","font-bold","pb-2","px-4","select-none"],[1,"text-base","md:text-lg","text-left","font-semibold","py-2","text-zinc-500","px-4","select-none"]],template:function(C,M){C&1&&(xt(0,"div",0)(1,"div",1),wt(2,"app-flower-meadow"),xt(3,"div",2)(4,"div",3),ne(5,"About Me"),At(),xt(6,"div",4),ne(7," I'm a software developer based in Nuremberg, Germany, living in T\xF6nisvorst. My interests include mathematics, illustration, music, and game design. "),At(),xt(8,"div",4),ne(9," I studied mathematics in Siegen and D\xFCsseldorf and have been working as a software developer since 2020. Blending these interests into personal projects is one of my favorite things \u2014 right after time with my people and dogs. "),At()()()())},dependencies:[fr],encapsulation:2})};var Ul=Ds("fadeInAndOutAnimations",[Rn("contact => work, contact => about, about => work",[Ke(":enter, :leave",se({position:"fixed",width:"100%"}),{optional:!0}),Fs([Ke(":enter",[se({transform:"translateX(-100%)"}),mi("0.5s ease-in-out",se({transform:"translateX(0%)"}))],{optional:!0}),Ke(":leave",[se({transform:"translateX(0%)"}),mi("0.5s ease-in-out",se({transform:"translateX(100%)"}))],{optional:!0})])]),Rn("work => about, work => contact, about => contact",[Ke(":enter, :leave",se({position:"fixed",width:"100%"}),{optional:!0}),Fs([Ke(":enter",[se({transform:"translateX(100%)"}),mi("0.5s ease-in-out",se({transform:"translateX(0%)"}))],{optional:!0}),Ke(":leave",[se({transform:"translateX(0%)"}),mi("0.5s ease-in-out",se({transform:"translateX(-100%)"}))],{optional:!0})])])]),zl=Ds("resize",[Ls("hidden",se({opacity:0,transform:"scale(0)"})),Ls("shown",se({opacity:1,transform:"scale(1)"})),Rn("hidden => shown",[mi("0.2s ease-out")])]);var lc=["resizeContainer"],uc=F=>({"height.px":F}),fc=(F,E,C)=>({"top.px":F,"left.px":E,"width.px":C}),dc=F=>({"cursor-pointer":F}),cc=(F,E)=>({"bg-opacity-75 text-opacity-100":F,"bg-opacity-0 text-opacity-0":E});function vc(F,E){F&1&&(xt(0,"div",10),ne(1," Click for more "),At())}function pc(F,E){if(F&1){let C=vh();xt(0,"div",3)(1,"a",4),zi("click",function(){let u=Ts(C).$implicit,m=En();return Ss(m.onImageClick(u))}),wt(2,"img",5),xt(3,"div",6),zi("pointerenter",function(u){let m=Ts(C).$implicit,t=En();return Ss(t.onPointerEnter(u,m))})("pointerleave",function(){Ts(C);let u=En();return Ss(u.hoveredItem=void 0)}),xt(4,"div",7),ne(5),At(),xt(6,"div",8),ne(7),At(),Cn(8,vc,2,0,"div",9),At()()()}if(F&2){let C=E.$implicit,M=En();Ht("ngStyle",Ps(8,fc,C.y,C.left,C.width)),Jt(),Ht("ngClass",qr(12,dc,C.link)),Jt(),Ht("@resize",M.getResizeState())("src",C.img,Cs),Jt(),Ht("ngClass",gh(14,cc,M.clickedItem===C.img||M.hoveredItem===C.img,M.clickedItem!==C.img&&M.hoveredItem!==C.img)),Jt(2),An(" ",C.title),Jt(2),An(" ",C.subtitle),Jt(),Ht("ngIf",C.link)}}var cr=class F{items;colLimits;columnGap=16;height=0;resizeState="hidden";clickedItem;hoveredItem;masonryContainer;columns=new Yo(0);resizeObserver;ngOnInit(){setTimeout(()=>{this.resizeState==="hidden"&&(this.resizeState="shown")},50)}ngAfterViewInit(){this.resizeObserver=new ResizeObserver(()=>this.updateColumns()),this.resizeObserver.observe(this.masonryContainer.nativeElement)}ngOnDestroy(){this.resizeObserver?.disconnect()}updateColumns(){let E=this.masonryContainer.nativeElement.offsetWidth,C=this.colLimits?.find(([m])=>E>=m)?.[1]??1,M=(E-this.columnGap*(C-1))/C,u=Array(C).fill(0);if(this.items){let m=this.items?.map(t=>{let a=u.indexOf(Math.min(...u)),p=t.originalHeight*M/t.originalWidth,o=u[a];return u[a]+=p+this.columnGap,{img:t.img,y:o,left:a*(M+this.columnGap),width:M,title:t.title,link:t.link,subtitle:t.subtitle}});this.columns.next(m),this.height=Math.max(...u)-this.columnGap}}trackByFn(E,C){return C.img}getResizeState(){return this.resizeState}onImageClick(E){this.clickedItem===E.img||this.hoveredItem===E.img?E.link&&(window.location.href=E.link):(this.clickedItem=E.img,this.hoveredItem=void 0)}onWindowScroll(){this.clickedItem=void 0}onPointerEnter(E,C){E.pointerType==="mouse"&&(this.hoveredItem=C.img)}static \u0275fac=function(C){return new(C||F)};static \u0275cmp=bt({type:F,selectors:[["app-projects-masonry"]],viewQuery:function(C,M){if(C&1&&Vi(lc,5),C&2){let u;pi(u=gi())&&(M.masonryContainer=u.first)}},hostAttrs:[1,"w-full"],hostBindings:function(C,M){C&1&&zi("scroll",function(){return M.onWindowScroll()},rh)},inputs:{items:"items",colLimits:"colLimits"},decls:4,vars:7,consts:[["resizeContainer",""],[1,"relative","w-full","transition-all","duration-300",3,"ngStyle"],["class","absolute transition-all duration-200",3,"ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],[1,"absolute","transition-all","duration-200",3,"ngStyle"],[1,"relative","w-full","h-full","text-[1.2rem]","font-bold","flex","flex-col","items-center","justify-center",3,"click","ngClass"],["alt","item.name",1,"w-full","h-auto",3,"src"],[1,"absolute","w-full","h-full","bg-black","text-white","flex","flex-col","items-center","justify-center","p-4","transition-all","duration-300",3,"pointerenter","pointerleave","ngClass"],[1,"text-[1.3rem]","leading-tight","text-center"],[1,"text-[1rem]"],["class","text-[1.2rem] pt-2",4,"ngIf"],[1,"text-[1.2rem]","pt-2"]],template:function(C,M){C&1&&(xt(0,"div",1,0),Cn(2,pc,9,17,"div",2),mh(3,"async"),At()),C&2&&(Ht("ngStyle",qr(5,uc,M.height)),Jt(2),Ht("ngForOf",xh(3,3,M.columns))("ngForTrackBy",M.trackByFn))},dependencies:[Wi,la,ha,aa,oa],encapsulation:2,data:{animation:[zl]}})};var gc=()=>[800,4],mc=()=>[600,3],xc=()=>[450,2],yc=(F,E,C)=>[F,E,C],vr=class F{items=[{img:"images/projects/2023_04_heart_warming_deliveries.png",originalWidth:800,originalHeight:800,title:"Heart Warming Deliveries",subtitle:"April 2023",link:"https://joscco.itch.io/heart-warming-deliveries"},{img:"images/projects/2022_12_hedge_hurl.png",originalWidth:800,originalHeight:800,title:"Hedge Hurl",subtitle:"December 2022",link:"https://joscco.itch.io/hedge-hurl"},{img:"images/projects/2022_11_bernds_biscuits.png",originalWidth:800,originalHeight:800,title:"Bernd's Biscuits",subtitle:"November 2022",link:"https://joscco.itch.io/bernds-biscuits"},{img:"images/projects/2022_08_schick.png",originalWidth:799,originalHeight:1161,title:"Schick #15",subtitle:"August 2022",link:"pdf/schick_15_schmitz.pdf"},{img:"images/projects/2022_06_dicity.png",originalWidth:800,originalHeight:800,title:"Dicity",subtitle:"June 2022",link:"https://joscco.itch.io/dicity"},{img:"images/projects/2022_04_dating_under_the_comet.png",originalWidth:800,originalHeight:800,title:"Dating Under the Comet",subtitle:"April 2022",link:"https://joscco.itch.io/dating-under-the-comet"},{img:"images/projects/2021_11_advent_calender.png",originalWidth:800,originalHeight:800,title:"Adventskalender 2021",subtitle:"November 2022"},{img:"images/projects/2021_08_schick.png",originalWidth:800,originalHeight:1116,title:"Schick #14",subtitle:"August 2021",link:"pdf/schick_14_schmitz.pdf"},{img:"images/projects/2021_james_bot.png",originalWidth:800,originalHeight:800,title:"James Bot",subtitle:"2021"},{img:"images/projects/2020_01_master_thesis.png",originalWidth:800,originalHeight:800,title:"Master Thesis on Probabilistic Number Theory",subtitle:"January 2020",link:"pdf/master_thesis_schmitz.pdf"},{img:"images/projects/2020_01_ramen_god.png",originalWidth:800,originalHeight:1142,title:"Ramen God Illustration",subtitle:"January 2020"},{img:"images/projects/2018_08_bachelor_thesis.png",originalWidth:800,originalHeight:800,title:"Bachelor Thesis on Point Processes",subtitle:"August 2018",link:"pdf/bachelor_thesis_schmitz.pdf"},{img:"images/projects/2015_07_schick.png",originalWidth:800,originalHeight:979,title:"Schick #8",subtitle:"July 2015",link:"pdf/schick_8_schmitz.pdf"}];static \u0275fac=function(C){return new(C||F)};static \u0275cmp=bt({type:F,selectors:[["app-main-view"]],decls:3,vars:9,consts:[[1,"pb-24","flex","items-center","justify-center","flex-col"],[1,"w-full","lg:max-w-[980px]","px-4","justify-start","items-center","flex","flex-1","flex-col","transition-all","ease-in-out","duration-300"],[3,"colLimits","items"]],template:function(C,M){C&1&&(xt(0,"div",0)(1,"div",1),wt(2,"app-projects-masonry",2),At()()),C&2&&(Jt(2),Ht("colLimits",Ps(5,yc,Ms(2,gc),Ms(3,mc),Ms(4,xc)))("items",M.items))},dependencies:[cr],encapsulation:2})};var Vl=[{path:"",component:vr,data:{animation:"work"}},{path:"about",component:dr,data:{animation:"about"}},{path:"contact",component:lr,data:{animation:"contact"}},{path:"**",redirectTo:"/work",pathMatch:"full"}];var Tc="@",Sc=(()=>{class F{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=rt(gn);loadingSchedulerFn=rt(Cc,{optional:!0});_engine;constructor(C,M,u,m,t){this.doc=C,this.delegate=M,this.zone=u,this.animationType=m,this.moduleImpl=t}ngOnDestroy(){this._engine?.flush()}loadImpl(){let C=()=>this.moduleImpl??import("./chunk-RHIB5D7W.js").then(u=>u),M;return this.loadingSchedulerFn?M=this.loadingSchedulerFn(C):M=C(),M.catch(u=>{throw new Et(5300,!1)}).then(({\u0275createEngine:u,\u0275AnimationRendererFactory:m})=>{this._engine=u(this.animationType,this.doc);let t=new m(this.delegate,this._engine,this.zone);return this.delegate=t,t})}createRenderer(C,M){let u=this.delegate.createRenderer(C,M);if(u.\u0275type===0)return u;typeof u.throwOnSyntheticProps=="boolean"&&(u.throwOnSyntheticProps=!1);let m=new Ha(u);return M?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(t=>{let a=t.createRenderer(C,M);m.use(a),this.scheduler??=this.injector.get(_o,null,{optional:!0}),this.scheduler?.notify(10)}).catch(t=>{m.use(u)}),m}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(C){this._engine?.flush(),this.delegate.componentReplaced?.(C)}static \u0275fac=function(M){Jr()};static \u0275prov=vt({token:F,factory:F.\u0275fac})}return F})(),Ha=class{delegate;replay=[];\u0275type=1;constructor(E){this.delegate=E}use(E){if(this.delegate=E,this.replay!==null){for(let C of this.replay)C(E);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(E,C){return this.delegate.createElement(E,C)}createComment(E){return this.delegate.createComment(E)}createText(E){return this.delegate.createText(E)}get destroyNode(){return this.delegate.destroyNode}appendChild(E,C){this.delegate.appendChild(E,C)}insertBefore(E,C,M,u){this.delegate.insertBefore(E,C,M,u)}removeChild(E,C,M){this.delegate.removeChild(E,C,M)}selectRootElement(E,C){return this.delegate.selectRootElement(E,C)}parentNode(E){return this.delegate.parentNode(E)}nextSibling(E){return this.delegate.nextSibling(E)}setAttribute(E,C,M,u){this.delegate.setAttribute(E,C,M,u)}removeAttribute(E,C,M){this.delegate.removeAttribute(E,C,M)}addClass(E,C){this.delegate.addClass(E,C)}removeClass(E,C){this.delegate.removeClass(E,C)}setStyle(E,C,M,u){this.delegate.setStyle(E,C,M,u)}removeStyle(E,C,M){this.delegate.removeStyle(E,C,M)}setProperty(E,C,M){this.shouldReplay(C)&&this.replay.push(u=>u.setProperty(E,C,M)),this.delegate.setProperty(E,C,M)}setValue(E,C){this.delegate.setValue(E,C)}listen(E,C,M,u){return this.shouldReplay(C)&&this.replay.push(m=>m.listen(E,C,M,u)),this.delegate.listen(E,C,M,u)}shouldReplay(E){return this.replay!==null&&E.startsWith(Tc)}},Cc=new Bt("");function Xl(F="animations"){return Qr("NgAsyncAnimations"),ys([{provide:Es,useFactory:(E,C,M)=>new Sc(E,C,M,F),deps:[Xt,In,vi]},{provide:nh,useValue:F==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Yl={providers:[Th({eventCoalescing:!0}),Xa(Vl),Xl()]};function Ve(F){if(F===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}function Ql(F,E){F.prototype=Object.create(E.prototype),F.prototype.constructor=F,F.__proto__=E}var he={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},nn={duration:.5,overwrite:!1,delay:0},lo,Kt,Rt,ye=1e8,St=1/ye,qa=Math.PI*2,Ec=qa/4,Ac=0,kl=Math.sqrt,Mc=Math.cos,Pc=Math.sin,Vt=function(E){return typeof E=="string"},Ot=function(E){return typeof E=="function"},Ye=function(E){return typeof E=="number"},Ar=function(E){return typeof E>"u"},we=function(E){return typeof E=="object"},oe=function(E){return E!==!1},uo=function(){return typeof window<"u"},pr=function(E){return Ot(E)||Vt(E)},ql=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},kt=Array.isArray,_a=/(?:-?\.?\d|\.)+/gi,fo=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Pi=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,$a=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,co=/[+-]=-?[.\d]+/,_l=/[^,'"\[\]\s]+/gi,Rc=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Dt,Fe,to,vo,ce={},yr={},tu,eu=function(E){return(yr=sn(E,ce))&&qt},Mr=function(E,C){return console.warn("Invalid property",E,"set to",C,"Missing plugin? gsap.registerPlugin()")},hs=function(E,C){return!C&&console.warn(E)},iu=function(E,C){return E&&(ce[E]=C)&&yr&&(yr[E]=C)||ce},ls=function(){return 0},Dc={suppressEvents:!0,isStart:!0,kill:!1},gr={suppressEvents:!0,kill:!1},Fc={suppressEvents:!0},po={},ti=[],eo={},nu,re={},Ka={},Wl=30,mr=[],go="",mo=function(E){var C=E[0],M,u;if(we(C)||Ot(C)||(E=[E]),!(M=(C._gsap||{}).harness)){for(u=mr.length;u--&&!mr[u].targetTest(C););M=mr[u]}for(u=E.length;u--;)E[u]&&(E[u]._gsap||(E[u]._gsap=new So(E[u],M)))||E.splice(u,1);return E},ei=function(E){return E._gsap||mo(Te(E))[0]._gsap},xo=function(E,C,M){return(M=E[C])&&Ot(M)?E[C]():Ar(M)&&E.getAttribute&&E.getAttribute(C)||M},te=function(E,C){return(E=E.split(",")).forEach(C)||E},It=function(E){return Math.round(E*1e5)/1e5||0},Ut=function(E){return Math.round(E*1e7)/1e7||0},Ri=function(E,C){var M=C.charAt(0),u=parseFloat(C.substr(2));return E=parseFloat(E),M==="+"?E+u:M==="-"?E-u:M==="*"?E*u:E/u},Lc=function(E,C){for(var M=C.length,u=0;E.indexOf(C[u])<0&&++u<M;);return u<M},Tr=function(){var E=ti.length,C=ti.slice(0),M,u;for(eo={},ti.length=0,M=0;M<E;M++)u=C[M],u&&u._lazy&&(u.render(u._lazy[0],u._lazy[1],!0)._lazy=0)},yo=function(E){return!!(E._initted||E._startAt||E.add)},su=function(E,C,M,u){ti.length&&!Kt&&Tr(),E.render(C,M,u||!!(Kt&&C<0&&yo(E))),ti.length&&!Kt&&Tr()},ru=function(E){var C=parseFloat(E);return(C||C===0)&&(E+"").match(_l).length<2?C:Vt(E)?E.trim():E},au=function(E){return E},ve=function(E,C){for(var M in C)M in E||(E[M]=C[M]);return E},wc=function(E){return function(C,M){for(var u in M)u in C||u==="duration"&&E||u==="ease"||(C[u]=M[u])}},sn=function(E,C){for(var M in C)E[M]=C[M];return E},Hl=function F(E,C){for(var M in C)M!=="__proto__"&&M!=="constructor"&&M!=="prototype"&&(E[M]=we(C[M])?F(E[M]||(E[M]={}),C[M]):C[M]);return E},Sr=function(E,C){var M={},u;for(u in E)u in C||(M[u]=E[u]);return M},rs=function(E){var C=E.parent||Dt,M=E.keyframes?wc(kt(E.keyframes)):ve;if(oe(E.inherit))for(;C;)M(E,C.vars.defaults),C=C.parent||C._dp;return E},Oc=function(E,C){for(var M=E.length,u=M===C.length;u&&M--&&E[M]===C[M];);return M<0},ou=function(E,C,M,u,m){M===void 0&&(M="_first"),u===void 0&&(u="_last");var t=E[u],a;if(m)for(a=C[m];t&&t[m]>a;)t=t._prev;return t?(C._next=t._next,t._next=C):(C._next=E[M],E[M]=C),C._next?C._next._prev=C:E[u]=C,C._prev=t,C.parent=C._dp=E,C},Pr=function(E,C,M,u){M===void 0&&(M="_first"),u===void 0&&(u="_last");var m=C._prev,t=C._next;m?m._next=t:E[M]===C&&(E[M]=t),t?t._prev=m:E[u]===C&&(E[u]=m),C._next=C._prev=C.parent=null},ii=function(E,C){E.parent&&(!C||E.parent.autoRemoveChildren)&&E.parent.remove&&E.parent.remove(E),E._act=0},Ei=function(E,C){if(E&&(!C||C._end>E._dur||C._start<0))for(var M=E;M;)M._dirty=1,M=M.parent;return E},Ic=function(E){for(var C=E.parent;C&&C.parent;)C._dirty=1,C.totalDuration(),C=C.parent;return E},io=function(E,C,M,u){return E._startAt&&(Kt?E._startAt.revert(gr):E.vars.immediateRender&&!E.vars.autoRevert||E._startAt.render(C,!0,u))},Bc=function F(E){return!E||E._ts&&F(E.parent)},$l=function(E){return E._repeat?rn(E._tTime,E=E.duration()+E._rDelay)*E:0},rn=function(E,C){var M=Math.floor(E=Ut(E/C));return E&&M===E?M-1:M},Cr=function(E,C){return(E-C._start)*C._ts+(C._ts>=0?0:C._dirty?C.totalDuration():C._tDur)},Rr=function(E){return E._end=Ut(E._start+(E._tDur/Math.abs(E._ts||E._rts||St)||0))},Dr=function(E,C){var M=E._dp;return M&&M.smoothChildTiming&&E._ts&&(E._start=Ut(M._time-(E._ts>0?C/E._ts:((E._dirty?E.totalDuration():E._tDur)-C)/-E._ts)),Rr(E),M._dirty||Ei(M,E)),E},hu=function(E,C){var M;if((C._time||!C._dur&&C._initted||C._start<E._time&&(C._dur||!C.add))&&(M=Cr(E.rawTime(),C),(!C._dur||ds(0,C.totalDuration(),M)-C._tTime>St)&&C.render(M,!0)),Ei(E,C)._dp&&E._initted&&E._time>=E._dur&&E._ts){if(E._dur<E.duration())for(M=E;M._dp;)M.rawTime()>=0&&M.totalTime(M._tTime),M=M._dp;E._zTime=-St}},Le=function(E,C,M,u){return C.parent&&ii(C),C._start=Ut((Ye(M)?M:M||E!==Dt?xe(E,M,C):E._time)+C._delay),C._end=Ut(C._start+(C.totalDuration()/Math.abs(C.timeScale())||0)),ou(E,C,"_first","_last",E._sort?"_start":0),no(C)||(E._recent=C),u||hu(E,C),E._ts<0&&Dr(E,E._tTime),E},lu=function(E,C){return(ce.ScrollTrigger||Mr("scrollTrigger",C))&&ce.ScrollTrigger.create(C,E)},uu=function(E,C,M,u,m){if(Ao(E,C,m),!E._initted)return 1;if(!M&&E._pt&&!Kt&&(E._dur&&E.vars.lazy!==!1||!E._dur&&E.vars.lazy)&&nu!==ae.frame)return ti.push(E),E._lazy=[m,u],1},Nc=function F(E){var C=E.parent;return C&&C._ts&&C._initted&&!C._lock&&(C.rawTime()<0||F(C))},no=function(E){var C=E.data;return C==="isFromStart"||C==="isStart"},Gc=function(E,C,M,u){var m=E.ratio,t=C<0||!C&&(!E._start&&Nc(E)&&!(!E._initted&&no(E))||(E._ts<0||E._dp._ts<0)&&!no(E))?0:1,a=E._rDelay,p=0,o,s,r;if(a&&E._repeat&&(p=ds(0,E._tDur,C),s=rn(p,a),E._yoyo&&s&1&&(t=1-t),s!==rn(E._tTime,a)&&(m=1-t,E.vars.repeatRefresh&&E._initted&&E.invalidate())),t!==m||Kt||u||E._zTime===St||!C&&E._zTime){if(!E._initted&&uu(E,C,u,M,p))return;for(r=E._zTime,E._zTime=C||(M?St:0),M||(M=C&&!r),E.ratio=t,E._from&&(t=1-t),E._time=0,E._tTime=p,o=E._pt;o;)o.r(t,o.d),o=o._next;C<0&&io(E,C,M,!0),E._onUpdate&&!M&&de(E,"onUpdate"),p&&E._repeat&&!M&&E.parent&&de(E,"onRepeat"),(C>=E._tDur||C<0)&&E.ratio===t&&(t&&ii(E,1),!M&&!Kt&&(de(E,t?"onComplete":"onReverseComplete",!0),E._prom&&E._prom()))}else E._zTime||(E._zTime=C)},bc=function(E,C,M){var u;if(M>C)for(u=E._first;u&&u._start<=M;){if(u.data==="isPause"&&u._start>C)return u;u=u._next}else for(u=E._last;u&&u._start>=M;){if(u.data==="isPause"&&u._start<C)return u;u=u._prev}},an=function(E,C,M,u){var m=E._repeat,t=Ut(C)||0,a=E._tTime/E._tDur;return a&&!u&&(E._time*=t/E._dur),E._dur=t,E._tDur=m?m<0?1e10:Ut(t*(m+1)+E._rDelay*m):t,a>0&&!u&&Dr(E,E._tTime=E._tDur*a),E.parent&&Rr(E),M||Ei(E.parent,E),E},Kl=function(E){return E instanceof $t?Ei(E):an(E,E._dur)},Uc={_start:0,endTime:ls,totalDuration:ls},xe=function F(E,C,M){var u=E.labels,m=E._recent||Uc,t=E.duration()>=ye?m.endTime(!1):E._dur,a,p,o;return Vt(C)&&(isNaN(C)||C in u)?(p=C.charAt(0),o=C.substr(-1)==="%",a=C.indexOf("="),p==="<"||p===">"?(a>=0&&(C=C.replace(/=/,"")),(p==="<"?m._start:m.endTime(m._repeat>=0))+(parseFloat(C.substr(1))||0)*(o?(a<0?m:M).totalDuration()/100:1)):a<0?(C in u||(u[C]=t),u[C]):(p=parseFloat(C.charAt(a-1)+C.substr(a+1)),o&&M&&(p=p/100*(kt(M)?M[0]:M).totalDuration()),a>1?F(E,C.substr(0,a-1),M)+p:t+p)):C==null?t:+C},as=function(E,C,M){var u=Ye(C[1]),m=(u?2:1)+(E<2?0:1),t=C[m],a,p;if(u&&(t.duration=C[1]),t.parent=M,E){for(a=t,p=M;p&&!("immediateRender"in a);)a=p.vars.defaults||{},p=oe(p.vars.inherit)&&p.parent;t.immediateRender=oe(a.immediateRender),E<2?t.runBackwards=1:t.startAt=C[m-1]}return new Nt(C[0],t,C[m+1])},ni=function(E,C){return E||E===0?C(E):C},ds=function(E,C,M){return M<E?E:M>C?C:M},Zt=function(E,C){return!Vt(E)||!(C=Rc.exec(E))?"":C[1]},zc=function(E,C,M){return ni(M,function(u){return ds(E,C,u)})},so=[].slice,fu=function(E,C){return E&&we(E)&&"length"in E&&(!C&&!E.length||E.length-1 in E&&we(E[0]))&&!E.nodeType&&E!==Fe},Vc=function(E,C,M){return M===void 0&&(M=[]),E.forEach(function(u){var m;return Vt(u)&&!C||fu(u,1)?(m=M).push.apply(m,Te(u)):M.push(u)})||M},Te=function(E,C,M){return Rt&&!C&&Rt.selector?Rt.selector(E):Vt(E)&&!M&&(to||!on())?so.call((C||vo).querySelectorAll(E),0):kt(E)?Vc(E,M):fu(E)?so.call(E,0):E?[E]:[]},ro=function(E){return E=Te(E)[0]||hs("Invalid scope")||{},function(C){var M=E.current||E.nativeElement||E;return Te(C,M.querySelectorAll?M:M===E?hs("Invalid scope")||vo.createElement("div"):E)}},du=function(E){return E.sort(function(){return .5-Math.random()})},cu=function(E){if(Ot(E))return E;var C=we(E)?E:{each:E},M=Ai(C.ease),u=C.from||0,m=parseFloat(C.base)||0,t={},a=u>0&&u<1,p=isNaN(u)||a,o=C.axis,s=u,r=u;return Vt(u)?s=r={center:.5,edges:.5,end:1}[u]||0:!a&&p&&(s=u[0],r=u[1]),function(e,n,l){var i=(l||C).length,h=t[i],f,c,d,v,g,y,x,T,S;if(!h){if(S=C.grid==="auto"?0:(C.grid||[1,ye])[1],!S){for(x=-ye;x<(x=l[S++].getBoundingClientRect().left)&&S<i;);S<i&&S--}for(h=t[i]=[],f=p?Math.min(S,i)*s-.5:u%S,c=S===ye?0:p?i*r/S-.5:u/S|0,x=0,T=ye,y=0;y<i;y++)d=y%S-f,v=c-(y/S|0),h[y]=g=o?Math.abs(o==="y"?v:d):kl(d*d+v*v),g>x&&(x=g),g<T&&(T=g);u==="random"&&du(h),h.max=x-T,h.min=T,h.v=i=(parseFloat(C.amount)||parseFloat(C.each)*(S>i?i-1:o?o==="y"?i/S:S:Math.max(S,i/S))||0)*(u==="edges"?-1:1),h.b=i<0?m-i:m,h.u=Zt(C.amount||C.each)||0,M=M&&i<0?Cu(M):M}return i=(h[e]-h.min)/h.max||0,Ut(h.b+(M?M(i):i)*h.v)+h.u}},ao=function(E){var C=Math.pow(10,((E+"").split(".")[1]||"").length);return function(M){var u=Ut(Math.round(parseFloat(M)/E)*E*C);return(u-u%1)/C+(Ye(M)?0:Zt(M))}},vu=function(E,C){var M=kt(E),u,m;return!M&&we(E)&&(u=M=E.radius||ye,E.values?(E=Te(E.values),(m=!Ye(E[0]))&&(u*=u)):E=ao(E.increment)),ni(C,M?Ot(E)?function(t){return m=E(t),Math.abs(m-t)<=u?m:t}:function(t){for(var a=parseFloat(m?t.x:t),p=parseFloat(m?t.y:0),o=ye,s=0,r=E.length,e,n;r--;)m?(e=E[r].x-a,n=E[r].y-p,e=e*e+n*n):e=Math.abs(E[r]-a),e<o&&(o=e,s=r);return s=!u||o<=u?E[s]:t,m||s===t||Ye(t)?s:s+Zt(t)}:ao(E))},pu=function(E,C,M,u){return ni(kt(E)?!C:M===!0?!!(M=0):!u,function(){return kt(E)?E[~~(Math.random()*E.length)]:(M=M||1e-5)&&(u=M<1?Math.pow(10,(M+"").length-2):1)&&Math.floor(Math.round((E-M/2+Math.random()*(C-E+M*.99))/M)*M*u)/u})},Xc=function(){for(var E=arguments.length,C=new Array(E),M=0;M<E;M++)C[M]=arguments[M];return function(u){return C.reduce(function(m,t){return t(m)},u)}},Yc=function(E,C){return function(M){return E(parseFloat(M))+(C||Zt(M))}},Wc=function(E,C,M){return mu(E,C,0,1,M)},gu=function(E,C,M){return ni(M,function(u){return E[~~C(u)]})},Hc=function F(E,C,M){var u=C-E;return kt(E)?gu(E,F(0,E.length),C):ni(M,function(m){return(u+(m-E)%u)%u+E})},$c=function F(E,C,M){var u=C-E,m=u*2;return kt(E)?gu(E,F(0,E.length-1),C):ni(M,function(t){return t=(m+(t-E)%m)%m||0,E+(t>u?m-t:t)})},hn=function(E){for(var C=0,M="",u,m,t,a;~(u=E.indexOf("random(",C));)t=E.indexOf(")",u),a=E.charAt(u+7)==="[",m=E.substr(u+7,t-u-7).match(a?_l:_a),M+=E.substr(C,u-C)+pu(a?m:+m[0],a?0:+m[1],+m[2]||1e-5),C=t+1;return M+E.substr(C,E.length-C)},mu=function(E,C,M,u,m){var t=C-E,a=u-M;return ni(m,function(p){return M+((p-E)/t*a||0)})},Kc=function F(E,C,M,u){var m=isNaN(E+C)?0:function(n){return(1-n)*E+n*C};if(!m){var t=Vt(E),a={},p,o,s,r,e;if(M===!0&&(u=1)&&(M=null),t)E={p:E},C={p:C};else if(kt(E)&&!kt(C)){for(s=[],r=E.length,e=r-2,o=1;o<r;o++)s.push(F(E[o-1],E[o]));r--,m=function(l){l*=r;var i=Math.min(e,~~l);return s[i](l-i)},M=C}else u||(E=sn(kt(E)?[]:{},E));if(!s){for(p in C)Co.call(a,E,p,"get",C[p]);m=function(l){return Ro(l,a)||(t?E.p:E)}}}return ni(M,m)},Zl=function(E,C,M){var u=E.labels,m=ye,t,a,p;for(t in u)a=u[t]-C,a<0==!!M&&a&&m>(a=Math.abs(a))&&(p=t,m=a);return p},de=function(E,C,M){var u=E.vars,m=u[C],t=Rt,a=E._ctx,p,o,s;if(m)return p=u[C+"Params"],o=u.callbackScope||E,M&&ti.length&&Tr(),a&&(Rt=a),s=p?m.apply(o,p):m.call(o),Rt=t,s},ns=function(E){return ii(E),E.scrollTrigger&&E.scrollTrigger.kill(!!Kt),E.progress()<1&&de(E,"onInterrupt"),E},en,xu=[],yu=function(E){if(E)if(E=!E.name&&E.default||E,uo()||E.headless){var C=E.name,M=Ot(E),u=C&&!M&&E.init?function(){this._props=[]}:E,m={init:ls,render:Ro,add:Co,kill:hv,modifier:ov,rawVars:0},t={targetTest:0,get:0,getSetter:Fr,aliases:{},register:0};if(on(),E!==u){if(re[C])return;ve(u,ve(Sr(E,m),t)),sn(u.prototype,sn(m,Sr(E,t))),re[u.prop=C]=u,E.targetTest&&(mr.push(u),po[C]=1),C=(C==="css"?"CSS":C.charAt(0).toUpperCase()+C.substr(1))+"Plugin"}iu(C,u),E.register&&E.register(qt,u,ee)}else xu.push(E)},Tt=255,ss={aqua:[0,Tt,Tt],lime:[0,Tt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Tt],navy:[0,0,128],white:[Tt,Tt,Tt],olive:[128,128,0],yellow:[Tt,Tt,0],orange:[Tt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Tt,0,0],pink:[Tt,192,203],cyan:[0,Tt,Tt],transparent:[Tt,Tt,Tt,0]},Za=function(E,C,M){return E+=E<0?1:E>1?-1:0,(E*6<1?C+(M-C)*E*6:E<.5?M:E*3<2?C+(M-C)*(2/3-E)*6:C)*Tt+.5|0},Tu=function(E,C,M){var u=E?Ye(E)?[E>>16,E>>8&Tt,E&Tt]:0:ss.black,m,t,a,p,o,s,r,e,n,l;if(!u){if(E.substr(-1)===","&&(E=E.substr(0,E.length-1)),ss[E])u=ss[E];else if(E.charAt(0)==="#"){if(E.length<6&&(m=E.charAt(1),t=E.charAt(2),a=E.charAt(3),E="#"+m+m+t+t+a+a+(E.length===5?E.charAt(4)+E.charAt(4):"")),E.length===9)return u=parseInt(E.substr(1,6),16),[u>>16,u>>8&Tt,u&Tt,parseInt(E.substr(7),16)/255];E=parseInt(E.substr(1),16),u=[E>>16,E>>8&Tt,E&Tt]}else if(E.substr(0,3)==="hsl"){if(u=l=E.match(_a),!C)p=+u[0]%360/360,o=+u[1]/100,s=+u[2]/100,t=s<=.5?s*(o+1):s+o-s*o,m=s*2-t,u.length>3&&(u[3]*=1),u[0]=Za(p+1/3,m,t),u[1]=Za(p,m,t),u[2]=Za(p-1/3,m,t);else if(~E.indexOf("="))return u=E.match(fo),M&&u.length<4&&(u[3]=1),u}else u=E.match(_a)||ss.transparent;u=u.map(Number)}return C&&!l&&(m=u[0]/Tt,t=u[1]/Tt,a=u[2]/Tt,r=Math.max(m,t,a),e=Math.min(m,t,a),s=(r+e)/2,r===e?p=o=0:(n=r-e,o=s>.5?n/(2-r-e):n/(r+e),p=r===m?(t-a)/n+(t<a?6:0):r===t?(a-m)/n+2:(m-t)/n+4,p*=60),u[0]=~~(p+.5),u[1]=~~(o*100+.5),u[2]=~~(s*100+.5)),M&&u.length<4&&(u[3]=1),u},Su=function(E){var C=[],M=[],u=-1;return E.split(Xe).forEach(function(m){var t=m.match(Pi)||[];C.push.apply(C,t),M.push(u+=t.length+1)}),C.c=M,C},jl=function(E,C,M){var u="",m=(E+u).match(Xe),t=C?"hsla(":"rgba(",a=0,p,o,s,r;if(!m)return E;if(m=m.map(function(e){return(e=Tu(e,C,1))&&t+(C?e[0]+","+e[1]+"%,"+e[2]+"%,"+e[3]:e.join(","))+")"}),M&&(s=Su(E),p=M.c,p.join(u)!==s.c.join(u)))for(o=E.replace(Xe,"1").split(Pi),r=o.length-1;a<r;a++)u+=o[a]+(~p.indexOf(a)?m.shift()||t+"0,0,0,0)":(s.length?s:m.length?m:M).shift());if(!o)for(o=E.split(Xe),r=o.length-1;a<r;a++)u+=o[a]+m[a];return u+o[r]},Xe=function(){var F="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",E;for(E in ss)F+="|"+E+"\\b";return new RegExp(F+")","gi")}(),Zc=/hsl[a]?\(/,To=function(E){var C=E.join(" "),M;if(Xe.lastIndex=0,Xe.test(C))return M=Zc.test(C),E[1]=jl(E[1],M),E[0]=jl(E[0],M,Su(E[1])),!0},us,ae=function(){var F=Date.now,E=500,C=33,M=F(),u=M,m=1e3/240,t=m,a=[],p,o,s,r,e,n,l=function i(h){var f=F()-u,c=h===!0,d,v,g,y;if((f>E||f<0)&&(M+=f-C),u+=f,g=u-M,d=g-t,(d>0||c)&&(y=++r.frame,e=g-r.time*1e3,r.time=g=g/1e3,t+=d+(d>=m?4:m-d),v=1),c||(p=o(i)),v)for(n=0;n<a.length;n++)a[n](g,e,y,h)};return r={time:0,frame:0,tick:function(){l(!0)},deltaRatio:function(h){return e/(1e3/(h||60))},wake:function(){tu&&(!to&&uo()&&(Fe=to=window,vo=Fe.document||{},ce.gsap=qt,(Fe.gsapVersions||(Fe.gsapVersions=[])).push(qt.version),eu(yr||Fe.GreenSockGlobals||!Fe.gsap&&Fe||{}),xu.forEach(yu)),s=typeof requestAnimationFrame<"u"&&requestAnimationFrame,p&&r.sleep(),o=s||function(h){return setTimeout(h,t-r.time*1e3+1|0)},us=1,l(2))},sleep:function(){(s?cancelAnimationFrame:clearTimeout)(p),us=0,o=ls},lagSmoothing:function(h,f){E=h||1/0,C=Math.min(f||33,E)},fps:function(h){m=1e3/(h||240),t=r.time*1e3+m},add:function(h,f,c){var d=f?function(v,g,y,x){h(v,g,y,x),r.remove(d)}:h;return r.remove(h),a[c?"unshift":"push"](d),on(),d},remove:function(h,f){~(f=a.indexOf(h))&&a.splice(f,1)&&n>=f&&n--},_listeners:a},r}(),on=function(){return!us&&ae.wake()},ct={},jc=/^[\d.\-M][\d.\-,\s]/,Jc=/["']/g,Qc=function(E){for(var C={},M=E.substr(1,E.length-3).split(":"),u=M[0],m=1,t=M.length,a,p,o;m<t;m++)p=M[m],a=m!==t-1?p.lastIndexOf(","):p.length,o=p.substr(0,a),C[u]=isNaN(o)?o.replace(Jc,"").trim():+o,u=p.substr(a+1).trim();return C},kc=function(E){var C=E.indexOf("(")+1,M=E.indexOf(")"),u=E.indexOf("(",C);return E.substring(C,~u&&u<M?E.indexOf(")",M+1):M)},qc=function(E){var C=(E+"").split("("),M=ct[C[0]];return M&&C.length>1&&M.config?M.config.apply(null,~E.indexOf("{")?[Qc(C[1])]:kc(E).split(",").map(ru)):ct._CE&&jc.test(E)?ct._CE("",E):M},Cu=function(E){return function(C){return 1-E(1-C)}},Eu=function F(E,C){for(var M=E._first,u;M;)M instanceof $t?F(M,C):M.vars.yoyoEase&&(!M._yoyo||!M._repeat)&&M._yoyo!==C&&(M.timeline?F(M.timeline,C):(u=M._ease,M._ease=M._yEase,M._yEase=u,M._yoyo=C)),M=M._next},Ai=function(E,C){return E&&(Ot(E)?E:ct[E]||qc(E))||C},Di=function(E,C,M,u){M===void 0&&(M=function(p){return 1-C(1-p)}),u===void 0&&(u=function(p){return p<.5?C(p*2)/2:1-C((1-p)*2)/2});var m={easeIn:C,easeOut:M,easeInOut:u},t;return te(E,function(a){ct[a]=ce[a]=m,ct[t=a.toLowerCase()]=M;for(var p in m)ct[t+(p==="easeIn"?".in":p==="easeOut"?".out":".inOut")]=ct[a+"."+p]=m[p]}),m},Au=function(E){return function(C){return C<.5?(1-E(1-C*2))/2:.5+E((C-.5)*2)/2}},ja=function F(E,C,M){var u=C>=1?C:1,m=(M||(E?.3:.45))/(C<1?C:1),t=m/qa*(Math.asin(1/u)||0),a=function(s){return s===1?1:u*Math.pow(2,-10*s)*Pc((s-t)*m)+1},p=E==="out"?a:E==="in"?function(o){return 1-a(1-o)}:Au(a);return m=qa/m,p.config=function(o,s){return F(E,o,s)},p},Ja=function F(E,C){C===void 0&&(C=1.70158);var M=function(t){return t?--t*t*((C+1)*t+C)+1:0},u=E==="out"?M:E==="in"?function(m){return 1-M(1-m)}:Au(M);return u.config=function(m){return F(E,m)},u};te("Linear,Quad,Cubic,Quart,Quint,Strong",function(F,E){var C=E<5?E+1:E;Di(F+",Power"+(C-1),E?function(M){return Math.pow(M,C)}:function(M){return M},function(M){return 1-Math.pow(1-M,C)},function(M){return M<.5?Math.pow(M*2,C)/2:1-Math.pow((1-M)*2,C)/2})});ct.Linear.easeNone=ct.none=ct.Linear.easeIn;Di("Elastic",ja("in"),ja("out"),ja());(function(F,E){var C=1/E,M=2*C,u=2.5*C,m=function(a){return a<C?F*a*a:a<M?F*Math.pow(a-1.5/E,2)+.75:a<u?F*(a-=2.25/E)*a+.9375:F*Math.pow(a-2.625/E,2)+.984375};Di("Bounce",function(t){return 1-m(1-t)},m)})(7.5625,2.75);Di("Expo",function(F){return Math.pow(2,10*(F-1))*F+F*F*F*F*F*F*(1-F)});Di("Circ",function(F){return-(kl(1-F*F)-1)});Di("Sine",function(F){return F===1?1:-Mc(F*Ec)+1});Di("Back",Ja("in"),Ja("out"),Ja());ct.SteppedEase=ct.steps=ce.SteppedEase={config:function(E,C){E===void 0&&(E=1);var M=1/E,u=E+(C?0:1),m=C?1:0,t=1-St;return function(a){return((u*ds(0,t,a)|0)+m)*M}}};nn.ease=ct["quad.out"];te("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(F){return go+=F+","+F+"Params,"});var So=function(E,C){this.id=Ac++,E._gsap=this,this.target=E,this.harness=C,this.get=C?C.get:xo,this.set=C?C.getSetter:Fr},fs=function(){function F(C){this.vars=C,this._delay=+C.delay||0,(this._repeat=C.repeat===1/0?-2:C.repeat||0)&&(this._rDelay=C.repeatDelay||0,this._yoyo=!!C.yoyo||!!C.yoyoEase),this._ts=1,an(this,+C.duration,1,1),this.data=C.data,Rt&&(this._ctx=Rt,Rt.data.push(this)),us||ae.wake()}var E=F.prototype;return E.delay=function(M){return M||M===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+M-this._delay),this._delay=M,this):this._delay},E.duration=function(M){return arguments.length?this.totalDuration(this._repeat>0?M+(M+this._rDelay)*this._repeat:M):this.totalDuration()&&this._dur},E.totalDuration=function(M){return arguments.length?(this._dirty=0,an(this,this._repeat<0?M:(M-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},E.totalTime=function(M,u){if(on(),!arguments.length)return this._tTime;var m=this._dp;if(m&&m.smoothChildTiming&&this._ts){for(Dr(this,M),!m._dp||m.parent||hu(m,this);m&&m.parent;)m.parent._time!==m._start+(m._ts>=0?m._tTime/m._ts:(m.totalDuration()-m._tTime)/-m._ts)&&m.totalTime(m._tTime,!0),m=m.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&M<this._tDur||this._ts<0&&M>0||!this._tDur&&!M)&&Le(this._dp,this,this._start-this._delay)}return(this._tTime!==M||!this._dur&&!u||this._initted&&Math.abs(this._zTime)===St||!M&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=M),su(this,M,u)),this},E.time=function(M,u){return arguments.length?this.totalTime(Math.min(this.totalDuration(),M+$l(this))%(this._dur+this._rDelay)||(M?this._dur:0),u):this._time},E.totalProgress=function(M,u){return arguments.length?this.totalTime(this.totalDuration()*M,u):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},E.progress=function(M,u){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-M:M)+$l(this),u):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},E.iteration=function(M,u){var m=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(M-1)*m,u):this._repeat?rn(this._tTime,m)+1:1},E.timeScale=function(M,u){if(!arguments.length)return this._rts===-St?0:this._rts;if(this._rts===M)return this;var m=this.parent&&this._ts?Cr(this.parent._time,this):this._tTime;return this._rts=+M||0,this._ts=this._ps||M===-St?0:this._rts,this.totalTime(ds(-Math.abs(this._delay),this.totalDuration(),m),u!==!1),Rr(this),Ic(this)},E.paused=function(M){return arguments.length?(this._ps!==M&&(this._ps=M,M?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(on(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==St&&(this._tTime-=St)))),this):this._ps},E.startTime=function(M){if(arguments.length){this._start=M;var u=this.parent||this._dp;return u&&(u._sort||!this.parent)&&Le(u,this,M-this._delay),this}return this._start},E.endTime=function(M){return this._start+(oe(M)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},E.rawTime=function(M){var u=this.parent||this._dp;return u?M&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Cr(u.rawTime(M),this):this._tTime:this._tTime},E.revert=function(M){M===void 0&&(M=Fc);var u=Kt;return Kt=M,yo(this)&&(this.timeline&&this.timeline.revert(M),this.totalTime(-.01,M.suppressEvents)),this.data!=="nested"&&M.kill!==!1&&this.kill(),Kt=u,this},E.globalTime=function(M){for(var u=this,m=arguments.length?M:u.rawTime();u;)m=u._start+m/(Math.abs(u._ts)||1),u=u._dp;return!this.parent&&this._sat?this._sat.globalTime(M):m},E.repeat=function(M){return arguments.length?(this._repeat=M===1/0?-2:M,Kl(this)):this._repeat===-2?1/0:this._repeat},E.repeatDelay=function(M){if(arguments.length){var u=this._time;return this._rDelay=M,Kl(this),u?this.time(u):this}return this._rDelay},E.yoyo=function(M){return arguments.length?(this._yoyo=M,this):this._yoyo},E.seek=function(M,u){return this.totalTime(xe(this,M),oe(u))},E.restart=function(M,u){return this.play().totalTime(M?-this._delay:0,oe(u)),this._dur||(this._zTime=-St),this},E.play=function(M,u){return M!=null&&this.seek(M,u),this.reversed(!1).paused(!1)},E.reverse=function(M,u){return M!=null&&this.seek(M||this.totalDuration(),u),this.reversed(!0).paused(!1)},E.pause=function(M,u){return M!=null&&this.seek(M,u),this.paused(!0)},E.resume=function(){return this.paused(!1)},E.reversed=function(M){return arguments.length?(!!M!==this.reversed()&&this.timeScale(-this._rts||(M?-St:0)),this):this._rts<0},E.invalidate=function(){return this._initted=this._act=0,this._zTime=-St,this},E.isActive=function(){var M=this.parent||this._dp,u=this._start,m;return!!(!M||this._ts&&this._initted&&M.isActive()&&(m=M.rawTime(!0))>=u&&m<this.endTime(!0)-St)},E.eventCallback=function(M,u,m){var t=this.vars;return arguments.length>1?(u?(t[M]=u,m&&(t[M+"Params"]=m),M==="onUpdate"&&(this._onUpdate=u)):delete t[M],this):t[M]},E.then=function(M){var u=this;return new Promise(function(m){var t=Ot(M)?M:au,a=function(){var o=u.then;u.then=null,Ot(t)&&(t=t(u))&&(t.then||t===u)&&(u.then=o),m(t),u.then=o};u._initted&&u.totalProgress()===1&&u._ts>=0||!u._tTime&&u._ts<0?a():u._prom=a})},E.kill=function(){ns(this)},F}();ve(fs.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-St,_prom:0,_ps:!1,_rts:1});var $t=function(F){Ql(E,F);function E(M,u){var m;return M===void 0&&(M={}),m=F.call(this,M)||this,m.labels={},m.smoothChildTiming=!!M.smoothChildTiming,m.autoRemoveChildren=!!M.autoRemoveChildren,m._sort=oe(M.sortChildren),Dt&&Le(M.parent||Dt,Ve(m),u),M.reversed&&m.reverse(),M.paused&&m.paused(!0),M.scrollTrigger&&lu(Ve(m),M.scrollTrigger),m}var C=E.prototype;return C.to=function(u,m,t){return as(0,arguments,this),this},C.from=function(u,m,t){return as(1,arguments,this),this},C.fromTo=function(u,m,t,a){return as(2,arguments,this),this},C.set=function(u,m,t){return m.duration=0,m.parent=this,rs(m).repeatDelay||(m.repeat=0),m.immediateRender=!!m.immediateRender,new Nt(u,m,xe(this,t),1),this},C.call=function(u,m,t){return Le(this,Nt.delayedCall(0,u,m),t)},C.staggerTo=function(u,m,t,a,p,o,s){return t.duration=m,t.stagger=t.stagger||a,t.onComplete=o,t.onCompleteParams=s,t.parent=this,new Nt(u,t,xe(this,p)),this},C.staggerFrom=function(u,m,t,a,p,o,s){return t.runBackwards=1,rs(t).immediateRender=oe(t.immediateRender),this.staggerTo(u,m,t,a,p,o,s)},C.staggerFromTo=function(u,m,t,a,p,o,s,r){return a.startAt=t,rs(a).immediateRender=oe(a.immediateRender),this.staggerTo(u,m,a,p,o,s,r)},C.render=function(u,m,t){var a=this._time,p=this._dirty?this.totalDuration():this._tDur,o=this._dur,s=u<=0?0:Ut(u),r=this._zTime<0!=u<0&&(this._initted||!o),e,n,l,i,h,f,c,d,v,g,y,x;if(this!==Dt&&s>p&&u>=0&&(s=p),s!==this._tTime||t||r){if(a!==this._time&&o&&(s+=this._time-a,u+=this._time-a),e=s,v=this._start,d=this._ts,f=!d,r&&(o||(a=this._zTime),(u||!m)&&(this._zTime=u)),this._repeat){if(y=this._yoyo,h=o+this._rDelay,this._repeat<-1&&u<0)return this.totalTime(h*100+u,m,t);if(e=Ut(s%h),s===p?(i=this._repeat,e=o):(g=Ut(s/h),i=~~g,i&&i===g&&(e=o,i--),e>o&&(e=o)),g=rn(this._tTime,h),!a&&this._tTime&&g!==i&&this._tTime-g*h-this._dur<=0&&(g=i),y&&i&1&&(e=o-e,x=1),i!==g&&!this._lock){var T=y&&g&1,S=T===(y&&i&1);if(i<g&&(T=!T),a=T?0:s%o?o:s,this._lock=1,this.render(a||(x?0:Ut(i*h)),m,!o)._lock=0,this._tTime=s,!m&&this.parent&&de(this,"onRepeat"),this.vars.repeatRefresh&&!x&&(this.invalidate()._lock=1),a&&a!==this._time||f!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(o=this._dur,p=this._tDur,S&&(this._lock=2,a=T?o:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!x&&this.invalidate()),this._lock=0,!this._ts&&!f)return this;Eu(this,x)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(c=bc(this,Ut(a),Ut(e)),c&&(s-=e-(e=c._start))),this._tTime=s,this._time=e,this._act=!d,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=u,a=0),!a&&s&&!m&&!g&&(de(this,"onStart"),this._tTime!==s))return this;if(e>=a&&u>=0)for(n=this._first;n;){if(l=n._next,(n._act||e>=n._start)&&n._ts&&c!==n){if(n.parent!==this)return this.render(u,m,t);if(n.render(n._ts>0?(e-n._start)*n._ts:(n._dirty?n.totalDuration():n._tDur)+(e-n._start)*n._ts,m,t),e!==this._time||!this._ts&&!f){c=0,l&&(s+=this._zTime=-St);break}}n=l}else{n=this._last;for(var A=u<0?u:e;n;){if(l=n._prev,(n._act||A<=n._end)&&n._ts&&c!==n){if(n.parent!==this)return this.render(u,m,t);if(n.render(n._ts>0?(A-n._start)*n._ts:(n._dirty?n.totalDuration():n._tDur)+(A-n._start)*n._ts,m,t||Kt&&yo(n)),e!==this._time||!this._ts&&!f){c=0,l&&(s+=this._zTime=A?-St:St);break}}n=l}}if(c&&!m&&(this.pause(),c.render(e>=a?0:-St)._zTime=e>=a?1:-1,this._ts))return this._start=v,Rr(this),this.render(u,m,t);this._onUpdate&&!m&&de(this,"onUpdate",!0),(s===p&&this._tTime>=this.totalDuration()||!s&&a)&&(v===this._start||Math.abs(d)!==Math.abs(this._ts))&&(this._lock||((u||!o)&&(s===p&&this._ts>0||!s&&this._ts<0)&&ii(this,1),!m&&!(u<0&&!a)&&(s||a||!p)&&(de(this,s===p&&u>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(s<p&&this.timeScale()>0)&&this._prom())))}return this},C.add=function(u,m){var t=this;if(Ye(m)||(m=xe(this,m,u)),!(u instanceof fs)){if(kt(u))return u.forEach(function(a){return t.add(a,m)}),this;if(Vt(u))return this.addLabel(u,m);if(Ot(u))u=Nt.delayedCall(0,u);else return this}return this!==u?Le(this,u,m):this},C.getChildren=function(u,m,t,a){u===void 0&&(u=!0),m===void 0&&(m=!0),t===void 0&&(t=!0),a===void 0&&(a=-ye);for(var p=[],o=this._first;o;)o._start>=a&&(o instanceof Nt?m&&p.push(o):(t&&p.push(o),u&&p.push.apply(p,o.getChildren(!0,m,t)))),o=o._next;return p},C.getById=function(u){for(var m=this.getChildren(1,1,1),t=m.length;t--;)if(m[t].vars.id===u)return m[t]},C.remove=function(u){return Vt(u)?this.removeLabel(u):Ot(u)?this.killTweensOf(u):(u.parent===this&&Pr(this,u),u===this._recent&&(this._recent=this._last),Ei(this))},C.totalTime=function(u,m){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Ut(ae.time-(this._ts>0?u/this._ts:(this.totalDuration()-u)/-this._ts))),F.prototype.totalTime.call(this,u,m),this._forcing=0,this):this._tTime},C.addLabel=function(u,m){return this.labels[u]=xe(this,m),this},C.removeLabel=function(u){return delete this.labels[u],this},C.addPause=function(u,m,t){var a=Nt.delayedCall(0,m||ls,t);return a.data="isPause",this._hasPause=1,Le(this,a,xe(this,u))},C.removePause=function(u){var m=this._first;for(u=xe(this,u);m;)m._start===u&&m.data==="isPause"&&ii(m),m=m._next},C.killTweensOf=function(u,m,t){for(var a=this.getTweensOf(u,t),p=a.length;p--;)_e!==a[p]&&a[p].kill(u,m);return this},C.getTweensOf=function(u,m){for(var t=[],a=Te(u),p=this._first,o=Ye(m),s;p;)p instanceof Nt?Lc(p._targets,a)&&(o?(!_e||p._initted&&p._ts)&&p.globalTime(0)<=m&&p.globalTime(p.totalDuration())>m:!m||p.isActive())&&t.push(p):(s=p.getTweensOf(a,m)).length&&t.push.apply(t,s),p=p._next;return t},C.tweenTo=function(u,m){m=m||{};var t=this,a=xe(t,u),p=m,o=p.startAt,s=p.onStart,r=p.onStartParams,e=p.immediateRender,n,l=Nt.to(t,ve({ease:m.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:m.duration||Math.abs((a-(o&&"time"in o?o.time:t._time))/t.timeScale())||St,onStart:function(){if(t.pause(),!n){var h=m.duration||Math.abs((a-(o&&"time"in o?o.time:t._time))/t.timeScale());l._dur!==h&&an(l,h,0,1).render(l._time,!0,!0),n=1}s&&s.apply(l,r||[])}},m));return e?l.render(0):l},C.tweenFromTo=function(u,m,t){return this.tweenTo(m,ve({startAt:{time:xe(this,u)}},t))},C.recent=function(){return this._recent},C.nextLabel=function(u){return u===void 0&&(u=this._time),Zl(this,xe(this,u))},C.previousLabel=function(u){return u===void 0&&(u=this._time),Zl(this,xe(this,u),1)},C.currentLabel=function(u){return arguments.length?this.seek(u,!0):this.previousLabel(this._time+St)},C.shiftChildren=function(u,m,t){t===void 0&&(t=0);for(var a=this._first,p=this.labels,o;a;)a._start>=t&&(a._start+=u,a._end+=u),a=a._next;if(m)for(o in p)p[o]>=t&&(p[o]+=u);return Ei(this)},C.invalidate=function(u){var m=this._first;for(this._lock=0;m;)m.invalidate(u),m=m._next;return F.prototype.invalidate.call(this,u)},C.clear=function(u){u===void 0&&(u=!0);for(var m=this._first,t;m;)t=m._next,this.remove(m),m=t;return this._dp&&(this._time=this._tTime=this._pTime=0),u&&(this.labels={}),Ei(this)},C.totalDuration=function(u){var m=0,t=this,a=t._last,p=ye,o,s,r;if(arguments.length)return t.timeScale((t._repeat<0?t.duration():t.totalDuration())/(t.reversed()?-u:u));if(t._dirty){for(r=t.parent;a;)o=a._prev,a._dirty&&a.totalDuration(),s=a._start,s>p&&t._sort&&a._ts&&!t._lock?(t._lock=1,Le(t,a,s-a._delay,1)._lock=0):p=s,s<0&&a._ts&&(m-=s,(!r&&!t._dp||r&&r.smoothChildTiming)&&(t._start+=s/t._ts,t._time-=s,t._tTime-=s),t.shiftChildren(-s,!1,-1/0),p=0),a._end>m&&a._ts&&(m=a._end),a=o;an(t,t===Dt&&t._time>m?t._time:m,1,1),t._dirty=0}return t._tDur},E.updateRoot=function(u){if(Dt._ts&&(su(Dt,Cr(u,Dt)),nu=ae.frame),ae.frame>=Wl){Wl+=he.autoSleep||120;var m=Dt._first;if((!m||!m._ts)&&he.autoSleep&&ae._listeners.length<2){for(;m&&!m._ts;)m=m._next;m||ae.sleep()}}},E}(fs);ve($t.prototype,{_lock:0,_hasPause:0,_forcing:0});var _c=function(E,C,M,u,m,t,a){var p=new ee(this._pt,E,C,0,1,Po,null,m),o=0,s=0,r,e,n,l,i,h,f,c;for(p.b=M,p.e=u,M+="",u+="",(f=~u.indexOf("random("))&&(u=hn(u)),t&&(c=[M,u],t(c,E,C),M=c[0],u=c[1]),e=M.match($a)||[];r=$a.exec(u);)l=r[0],i=u.substring(o,r.index),n?n=(n+1)%5:i.substr(-5)==="rgba("&&(n=1),l!==e[s++]&&(h=parseFloat(e[s-1])||0,p._pt={_next:p._pt,p:i||s===1?i:",",s:h,c:l.charAt(1)==="="?Ri(h,l)-h:parseFloat(l)-h,m:n&&n<4?Math.round:0},o=$a.lastIndex);return p.c=o<u.length?u.substring(o,u.length):"",p.fp=a,(co.test(u)||f)&&(p.e=0),this._pt=p,p},Co=function(E,C,M,u,m,t,a,p,o,s){Ot(u)&&(u=u(m||0,E,t));var r=E[C],e=M!=="get"?M:Ot(r)?o?E[C.indexOf("set")||!Ot(E["get"+C.substr(3)])?C:"get"+C.substr(3)](o):E[C]():r,n=Ot(r)?o?sv:Ru:Mo,l;if(Vt(u)&&(~u.indexOf("random(")&&(u=hn(u)),u.charAt(1)==="="&&(l=Ri(e,u)+(Zt(e)||0),(l||l===0)&&(u=l))),!s||e!==u||oo)return!isNaN(e*u)&&u!==""?(l=new ee(this._pt,E,C,+e||0,u-(e||0),typeof r=="boolean"?av:Du,0,n),o&&(l.fp=o),a&&l.modifier(a,this,E),this._pt=l):(!r&&!(C in E)&&Mr(C,u),_c.call(this,E,C,e,u,n,p||he.stringFilter,o))},tv=function(E,C,M,u,m){if(Ot(E)&&(E=os(E,m,C,M,u)),!we(E)||E.style&&E.nodeType||kt(E)||ql(E))return Vt(E)?os(E,m,C,M,u):E;var t={},a;for(a in E)t[a]=os(E[a],m,C,M,u);return t},Eo=function(E,C,M,u,m,t){var a,p,o,s;if(re[E]&&(a=new re[E]).init(m,a.rawVars?C[E]:tv(C[E],u,m,t,M),M,u,t)!==!1&&(M._pt=p=new ee(M._pt,m,E,0,1,a.render,a,0,a.priority),M!==en))for(o=M._ptLookup[M._targets.indexOf(m)],s=a._props.length;s--;)o[a._props[s]]=p;return a},_e,oo,Ao=function F(E,C,M){var u=E.vars,m=u.ease,t=u.startAt,a=u.immediateRender,p=u.lazy,o=u.onUpdate,s=u.runBackwards,r=u.yoyoEase,e=u.keyframes,n=u.autoRevert,l=E._dur,i=E._startAt,h=E._targets,f=E.parent,c=f&&f.data==="nested"?f.vars.targets:h,d=E._overwrite==="auto"&&!lo,v=E.timeline,g,y,x,T,S,A,P,D,R,L,I,w,B;if(v&&(!e||!m)&&(m="none"),E._ease=Ai(m,nn.ease),E._yEase=r?Cu(Ai(r===!0?m:r,nn.ease)):0,r&&E._yoyo&&!E._repeat&&(r=E._yEase,E._yEase=E._ease,E._ease=r),E._from=!v&&!!u.runBackwards,!v||e&&!u.stagger){if(D=h[0]?ei(h[0]).harness:0,w=D&&u[D.prop],g=Sr(u,po),i&&(i._zTime<0&&i.progress(1),C<0&&s&&a&&!n?i.render(-1,!0):i.revert(s&&l?gr:Dc),i._lazy=0),t){if(ii(E._startAt=Nt.set(h,ve({data:"isStart",overwrite:!1,parent:f,immediateRender:!0,lazy:!i&&oe(p),startAt:null,delay:0,onUpdate:o&&function(){return de(E,"onUpdate")},stagger:0},t))),E._startAt._dp=0,E._startAt._sat=E,C<0&&(Kt||!a&&!n)&&E._startAt.revert(gr),a&&l&&C<=0&&M<=0){C&&(E._zTime=C);return}}else if(s&&l&&!i){if(C&&(a=!1),x=ve({overwrite:!1,data:"isFromStart",lazy:a&&!i&&oe(p),immediateRender:a,stagger:0,parent:f},g),w&&(x[D.prop]=w),ii(E._startAt=Nt.set(h,x)),E._startAt._dp=0,E._startAt._sat=E,C<0&&(Kt?E._startAt.revert(gr):E._startAt.render(-1,!0)),E._zTime=C,!a)F(E._startAt,St,St);else if(!C)return}for(E._pt=E._ptCache=0,p=l&&oe(p)||p&&!l,y=0;y<h.length;y++){if(S=h[y],P=S._gsap||mo(h)[y]._gsap,E._ptLookup[y]=L={},eo[P.id]&&ti.length&&Tr(),I=c===h?y:c.indexOf(S),D&&(R=new D).init(S,w||g,E,I,c)!==!1&&(E._pt=T=new ee(E._pt,S,R.name,0,1,R.render,R,0,R.priority),R._props.forEach(function(b){L[b]=T}),R.priority&&(A=1)),!D||w)for(x in g)re[x]&&(R=Eo(x,g,E,I,S,c))?R.priority&&(A=1):L[x]=T=Co.call(E,S,x,"get",g[x],I,c,0,u.stringFilter);E._op&&E._op[y]&&E.kill(S,E._op[y]),d&&E._pt&&(_e=E,Dt.killTweensOf(S,L,E.globalTime(C)),B=!E.parent,_e=0),E._pt&&p&&(eo[P.id]=1)}A&&Do(E),E._onInit&&E._onInit(E)}E._onUpdate=o,E._initted=(!E._op||E._pt)&&!B,e&&C<=0&&v.render(ye,!0,!0)},ev=function(E,C,M,u,m,t,a,p){var o=(E._pt&&E._ptCache||(E._ptCache={}))[C],s,r,e,n;if(!o)for(o=E._ptCache[C]=[],e=E._ptLookup,n=E._targets.length;n--;){if(s=e[n][C],s&&s.d&&s.d._pt)for(s=s.d._pt;s&&s.p!==C&&s.fp!==C;)s=s._next;if(!s)return oo=1,E.vars[C]="+=0",Ao(E,a),oo=0,p?hs(C+" not eligible for reset"):1;o.push(s)}for(n=o.length;n--;)r=o[n],s=r._pt||r,s.s=(u||u===0)&&!m?u:s.s+(u||0)+t*s.c,s.c=M-s.s,r.e&&(r.e=It(M)+Zt(r.e)),r.b&&(r.b=s.s+Zt(r.b))},iv=function(E,C){var M=E[0]?ei(E[0]).harness:0,u=M&&M.aliases,m,t,a,p;if(!u)return C;m=sn({},C);for(t in u)if(t in m)for(p=u[t].split(","),a=p.length;a--;)m[p[a]]=m[t];return m},nv=function(E,C,M,u){var m=C.ease||u||"power1.inOut",t,a;if(kt(C))a=M[E]||(M[E]=[]),C.forEach(function(p,o){return a.push({t:o/(C.length-1)*100,v:p,e:m})});else for(t in C)a=M[t]||(M[t]=[]),t==="ease"||a.push({t:parseFloat(E),v:C[t],e:m})},os=function(E,C,M,u,m){return Ot(E)?E.call(C,M,u,m):Vt(E)&&~E.indexOf("random(")?hn(E):E},Mu=go+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Pu={};te(Mu+",id,stagger,delay,duration,paused,scrollTrigger",function(F){return Pu[F]=1});var Nt=function(F){Ql(E,F);function E(M,u,m,t){var a;typeof u=="number"&&(m.duration=u,u=m,m=null),a=F.call(this,t?u:rs(u))||this;var p=a.vars,o=p.duration,s=p.delay,r=p.immediateRender,e=p.stagger,n=p.overwrite,l=p.keyframes,i=p.defaults,h=p.scrollTrigger,f=p.yoyoEase,c=u.parent||Dt,d=(kt(M)||ql(M)?Ye(M[0]):"length"in u)?[M]:Te(M),v,g,y,x,T,S,A,P;if(a._targets=d.length?mo(d):hs("GSAP target "+M+" not found. https://gsap.com",!he.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=n,l||e||pr(o)||pr(s)){if(u=a.vars,v=a.timeline=new $t({data:"nested",defaults:i||{},targets:c&&c.data==="nested"?c.vars.targets:d}),v.kill(),v.parent=v._dp=Ve(a),v._start=0,e||pr(o)||pr(s)){if(x=d.length,A=e&&cu(e),we(e))for(T in e)~Mu.indexOf(T)&&(P||(P={}),P[T]=e[T]);for(g=0;g<x;g++)y=Sr(u,Pu),y.stagger=0,f&&(y.yoyoEase=f),P&&sn(y,P),S=d[g],y.duration=+os(o,Ve(a),g,S,d),y.delay=(+os(s,Ve(a),g,S,d)||0)-a._delay,!e&&x===1&&y.delay&&(a._delay=s=y.delay,a._start+=s,y.delay=0),v.to(S,y,A?A(g,S,d):0),v._ease=ct.none;v.duration()?o=s=0:a.timeline=0}else if(l){rs(ve(v.vars.defaults,{ease:"none"})),v._ease=Ai(l.ease||u.ease||"none");var D=0,R,L,I;if(kt(l))l.forEach(function(w){return v.to(d,w,">")}),v.duration();else{y={};for(T in l)T==="ease"||T==="easeEach"||nv(T,l[T],y,l.easeEach);for(T in y)for(R=y[T].sort(function(w,B){return w.t-B.t}),D=0,g=0;g<R.length;g++)L=R[g],I={ease:L.e,duration:(L.t-(g?R[g-1].t:0))/100*o},I[T]=L.v,v.to(d,I,D),D+=I.duration;v.duration()<o&&v.to({},{duration:o-v.duration()})}}o||a.duration(o=v.duration())}else a.timeline=0;return n===!0&&!lo&&(_e=Ve(a),Dt.killTweensOf(d),_e=0),Le(c,Ve(a),m),u.reversed&&a.reverse(),u.paused&&a.paused(!0),(r||!o&&!l&&a._start===Ut(c._time)&&oe(r)&&Bc(Ve(a))&&c.data!=="nested")&&(a._tTime=-St,a.render(Math.max(0,-s)||0)),h&&lu(Ve(a),h),a}var C=E.prototype;return C.render=function(u,m,t){var a=this._time,p=this._tDur,o=this._dur,s=u<0,r=u>p-St&&!s?p:u<St?0:u,e,n,l,i,h,f,c,d,v;if(!o)Gc(this,u,m,t);else if(r!==this._tTime||!u||t||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==s||this._lazy){if(e=r,d=this.timeline,this._repeat){if(i=o+this._rDelay,this._repeat<-1&&s)return this.totalTime(i*100+u,m,t);if(e=Ut(r%i),r===p?(l=this._repeat,e=o):(h=Ut(r/i),l=~~h,l&&l===h?(e=o,l--):e>o&&(e=o)),f=this._yoyo&&l&1,f&&(v=this._yEase,e=o-e),h=rn(this._tTime,i),e===a&&!t&&this._initted&&l===h)return this._tTime=r,this;l!==h&&(d&&this._yEase&&Eu(d,f),this.vars.repeatRefresh&&!f&&!this._lock&&e!==i&&this._initted&&(this._lock=t=1,this.render(Ut(i*l),!0).invalidate()._lock=0))}if(!this._initted){if(uu(this,s?u:e,t,m,r))return this._tTime=0,this;if(a!==this._time&&!(t&&this.vars.repeatRefresh&&l!==h))return this;if(o!==this._dur)return this.render(u,m,t)}if(this._tTime=r,this._time=e,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=c=(v||this._ease)(e/o),this._from&&(this.ratio=c=1-c),!a&&r&&!m&&!h&&(de(this,"onStart"),this._tTime!==r))return this;for(n=this._pt;n;)n.r(c,n.d),n=n._next;d&&d.render(u<0?u:d._dur*d._ease(e/this._dur),m,t)||this._startAt&&(this._zTime=u),this._onUpdate&&!m&&(s&&io(this,u,m,t),de(this,"onUpdate")),this._repeat&&l!==h&&this.vars.onRepeat&&!m&&this.parent&&de(this,"onRepeat"),(r===this._tDur||!r)&&this._tTime===r&&(s&&!this._onUpdate&&io(this,u,!0,!0),(u||!o)&&(r===this._tDur&&this._ts>0||!r&&this._ts<0)&&ii(this,1),!m&&!(s&&!a)&&(r||a||f)&&(de(this,r===p?"onComplete":"onReverseComplete",!0),this._prom&&!(r<p&&this.timeScale()>0)&&this._prom()))}return this},C.targets=function(){return this._targets},C.invalidate=function(u){return(!u||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(u),F.prototype.invalidate.call(this,u)},C.resetTo=function(u,m,t,a,p){us||ae.wake(),this._ts||this.play();var o=Math.min(this._dur,(this._dp._time-this._start)*this._ts),s;return this._initted||Ao(this,o),s=this._ease(o/this._dur),ev(this,u,m,t,a,s,o,p)?this.resetTo(u,m,t,a,1):(Dr(this,0),this.parent||ou(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},C.kill=function(u,m){if(m===void 0&&(m="all"),!u&&(!m||m==="all"))return this._lazy=this._pt=0,this.parent?ns(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Kt),this;if(this.timeline){var t=this.timeline.totalDuration();return this.timeline.killTweensOf(u,m,_e&&_e.vars.overwrite!==!0)._first||ns(this),this.parent&&t!==this.timeline.totalDuration()&&an(this,this._dur*this.timeline._tDur/t,0,1),this}var a=this._targets,p=u?Te(u):a,o=this._ptLookup,s=this._pt,r,e,n,l,i,h,f;if((!m||m==="all")&&Oc(a,p))return m==="all"&&(this._pt=0),ns(this);for(r=this._op=this._op||[],m!=="all"&&(Vt(m)&&(i={},te(m,function(c){return i[c]=1}),m=i),m=iv(a,m)),f=a.length;f--;)if(~p.indexOf(a[f])){e=o[f],m==="all"?(r[f]=m,l=e,n={}):(n=r[f]=r[f]||{},l=m);for(i in l)h=e&&e[i],h&&((!("kill"in h.d)||h.d.kill(i)===!0)&&Pr(this,h,"_pt"),delete e[i]),n!=="all"&&(n[i]=1)}return this._initted&&!this._pt&&s&&ns(this),this},E.to=function(u,m){return new E(u,m,arguments[2])},E.from=function(u,m){return as(1,arguments)},E.delayedCall=function(u,m,t,a){return new E(m,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:u,onComplete:m,onReverseComplete:m,onCompleteParams:t,onReverseCompleteParams:t,callbackScope:a})},E.fromTo=function(u,m,t){return as(2,arguments)},E.set=function(u,m){return m.duration=0,m.repeatDelay||(m.repeat=0),new E(u,m)},E.killTweensOf=function(u,m,t){return Dt.killTweensOf(u,m,t)},E}(fs);ve(Nt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});te("staggerTo,staggerFrom,staggerFromTo",function(F){Nt[F]=function(){var E=new $t,C=so.call(arguments,0);return C.splice(F==="staggerFromTo"?5:4,0,0),E[F].apply(E,C)}});var Mo=function(E,C,M){return E[C]=M},Ru=function(E,C,M){return E[C](M)},sv=function(E,C,M,u){return E[C](u.fp,M)},rv=function(E,C,M){return E.setAttribute(C,M)},Fr=function(E,C){return Ot(E[C])?Ru:Ar(E[C])&&E.setAttribute?rv:Mo},Du=function(E,C){return C.set(C.t,C.p,Math.round((C.s+C.c*E)*1e6)/1e6,C)},av=function(E,C){return C.set(C.t,C.p,!!(C.s+C.c*E),C)},Po=function(E,C){var M=C._pt,u="";if(!E&&C.b)u=C.b;else if(E===1&&C.e)u=C.e;else{for(;M;)u=M.p+(M.m?M.m(M.s+M.c*E):Math.round((M.s+M.c*E)*1e4)/1e4)+u,M=M._next;u+=C.c}C.set(C.t,C.p,u,C)},Ro=function(E,C){for(var M=C._pt;M;)M.r(E,M.d),M=M._next},ov=function(E,C,M,u){for(var m=this._pt,t;m;)t=m._next,m.p===u&&m.modifier(E,C,M),m=t},hv=function(E){for(var C=this._pt,M,u;C;)u=C._next,C.p===E&&!C.op||C.op===E?Pr(this,C,"_pt"):C.dep||(M=1),C=u;return!M},lv=function(E,C,M,u){u.mSet(E,C,u.m.call(u.tween,M,u.mt),u)},Do=function(E){for(var C=E._pt,M,u,m,t;C;){for(M=C._next,u=m;u&&u.pr>C.pr;)u=u._next;(C._prev=u?u._prev:t)?C._prev._next=C:m=C,(C._next=u)?u._prev=C:t=C,C=M}E._pt=m},ee=function(){function F(C,M,u,m,t,a,p,o,s){this.t=M,this.s=m,this.c=t,this.p=u,this.r=a||Du,this.d=p||this,this.set=o||Mo,this.pr=s||0,this._next=C,C&&(C._prev=this)}var E=F.prototype;return E.modifier=function(M,u,m){this.mSet=this.mSet||this.set,this.set=lv,this.m=M,this.mt=m,this.tween=u},F}();te(go+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(F){return po[F]=1});ce.TweenMax=ce.TweenLite=Nt;ce.TimelineLite=ce.TimelineMax=$t;Dt=new $t({sortChildren:!1,defaults:nn,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});he.stringFilter=To;var Mi=[],xr={},uv=[],Jl=0,fv=0,Qa=function(E){return(xr[E]||uv).map(function(C){return C()})},ho=function(){var E=Date.now(),C=[];E-Jl>2&&(Qa("matchMediaInit"),Mi.forEach(function(M){var u=M.queries,m=M.conditions,t,a,p,o;for(a in u)t=Fe.matchMedia(u[a]).matches,t&&(p=1),t!==m[a]&&(m[a]=t,o=1);o&&(M.revert(),p&&C.push(M))}),Qa("matchMediaRevert"),C.forEach(function(M){return M.onMatch(M,function(u){return M.add(null,u)})}),Jl=E,Qa("matchMedia"))},Fu=function(){function F(C,M){this.selector=M&&ro(M),this.data=[],this._r=[],this.isReverted=!1,this.id=fv++,C&&this.add(C)}var E=F.prototype;return E.add=function(M,u,m){Ot(M)&&(m=u,u=M,M=Ot);var t=this,a=function(){var o=Rt,s=t.selector,r;return o&&o!==t&&o.data.push(t),m&&(t.selector=ro(m)),Rt=t,r=u.apply(t,arguments),Ot(r)&&t._r.push(r),Rt=o,t.selector=s,t.isReverted=!1,r};return t.last=a,M===Ot?a(t,function(p){return t.add(null,p)}):M?t[M]=a:a},E.ignore=function(M){var u=Rt;Rt=null,M(this),Rt=u},E.getTweens=function(){var M=[];return this.data.forEach(function(u){return u instanceof F?M.push.apply(M,u.getTweens()):u instanceof Nt&&!(u.parent&&u.parent.data==="nested")&&M.push(u)}),M},E.clear=function(){this._r.length=this.data.length=0},E.kill=function(M,u){var m=this;if(M?function(){for(var a=m.getTweens(),p=m.data.length,o;p--;)o=m.data[p],o.data==="isFlip"&&(o.revert(),o.getChildren(!0,!0,!1).forEach(function(s){return a.splice(a.indexOf(s),1)}));for(a.map(function(s){return{g:s._dur||s._delay||s._sat&&!s._sat.vars.immediateRender?s.globalTime(0):-1/0,t:s}}).sort(function(s,r){return r.g-s.g||-1/0}).forEach(function(s){return s.t.revert(M)}),p=m.data.length;p--;)o=m.data[p],o instanceof $t?o.data!=="nested"&&(o.scrollTrigger&&o.scrollTrigger.revert(),o.kill()):!(o instanceof Nt)&&o.revert&&o.revert(M);m._r.forEach(function(s){return s(M,m)}),m.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),u)for(var t=Mi.length;t--;)Mi[t].id===this.id&&Mi.splice(t,1)},E.revert=function(M){this.kill(M||{})},F}(),dv=function(){function F(C){this.contexts=[],this.scope=C,Rt&&Rt.data.push(this)}var E=F.prototype;return E.add=function(M,u,m){we(M)||(M={matches:M});var t=new Fu(0,m||this.scope),a=t.conditions={},p,o,s;Rt&&!t.selector&&(t.selector=Rt.selector),this.contexts.push(t),u=t.add("onMatch",u),t.queries=M;for(o in M)o==="all"?s=1:(p=Fe.matchMedia(M[o]),p&&(Mi.indexOf(t)<0&&Mi.push(t),(a[o]=p.matches)&&(s=1),p.addListener?p.addListener(ho):p.addEventListener("change",ho)));return s&&u(t,function(r){return t.add(null,r)}),this},E.revert=function(M){this.kill(M||{})},E.kill=function(M){this.contexts.forEach(function(u){return u.kill(M,!0)})},F}(),Er={registerPlugin:function(){for(var E=arguments.length,C=new Array(E),M=0;M<E;M++)C[M]=arguments[M];C.forEach(function(u){return yu(u)})},timeline:function(E){return new $t(E)},getTweensOf:function(E,C){return Dt.getTweensOf(E,C)},getProperty:function(E,C,M,u){Vt(E)&&(E=Te(E)[0]);var m=ei(E||{}).get,t=M?au:ru;return M==="native"&&(M=""),E&&(C?t((re[C]&&re[C].get||m)(E,C,M,u)):function(a,p,o){return t((re[a]&&re[a].get||m)(E,a,p,o))})},quickSetter:function(E,C,M){if(E=Te(E),E.length>1){var u=E.map(function(s){return qt.quickSetter(s,C,M)}),m=u.length;return function(s){for(var r=m;r--;)u[r](s)}}E=E[0]||{};var t=re[C],a=ei(E),p=a.harness&&(a.harness.aliases||{})[C]||C,o=t?function(s){var r=new t;en._pt=0,r.init(E,M?s+M:s,en,0,[E]),r.render(1,r),en._pt&&Ro(1,en)}:a.set(E,p);return t?o:function(s){return o(E,p,M?s+M:s,a,1)}},quickTo:function(E,C,M){var u,m=qt.to(E,ve((u={},u[C]="+=0.1",u.paused=!0,u.stagger=0,u),M||{})),t=function(p,o,s){return m.resetTo(C,p,o,s)};return t.tween=m,t},isTweening:function(E){return Dt.getTweensOf(E,!0).length>0},defaults:function(E){return E&&E.ease&&(E.ease=Ai(E.ease,nn.ease)),Hl(nn,E||{})},config:function(E){return Hl(he,E||{})},registerEffect:function(E){var C=E.name,M=E.effect,u=E.plugins,m=E.defaults,t=E.extendTimeline;(u||"").split(",").forEach(function(a){return a&&!re[a]&&!ce[a]&&hs(C+" effect requires "+a+" plugin.")}),Ka[C]=function(a,p,o){return M(Te(a),ve(p||{},m),o)},t&&($t.prototype[C]=function(a,p,o){return this.add(Ka[C](a,we(p)?p:(o=p)&&{},this),o)})},registerEase:function(E,C){ct[E]=Ai(C)},parseEase:function(E,C){return arguments.length?Ai(E,C):ct},getById:function(E){return Dt.getById(E)},exportRoot:function(E,C){E===void 0&&(E={});var M=new $t(E),u,m;for(M.smoothChildTiming=oe(E.smoothChildTiming),Dt.remove(M),M._dp=0,M._time=M._tTime=Dt._time,u=Dt._first;u;)m=u._next,(C||!(!u._dur&&u instanceof Nt&&u.vars.onComplete===u._targets[0]))&&Le(M,u,u._start-u._delay),u=m;return Le(Dt,M,0),M},context:function(E,C){return E?new Fu(E,C):Rt},matchMedia:function(E){return new dv(E)},matchMediaRefresh:function(){return Mi.forEach(function(E){var C=E.conditions,M,u;for(u in C)C[u]&&(C[u]=!1,M=1);M&&E.revert()})||ho()},addEventListener:function(E,C){var M=xr[E]||(xr[E]=[]);~M.indexOf(C)||M.push(C)},removeEventListener:function(E,C){var M=xr[E],u=M&&M.indexOf(C);u>=0&&M.splice(u,1)},utils:{wrap:Hc,wrapYoyo:$c,distribute:cu,random:pu,snap:vu,normalize:Wc,getUnit:Zt,clamp:zc,splitColor:Tu,toArray:Te,selector:ro,mapRange:mu,pipe:Xc,unitize:Yc,interpolate:Kc,shuffle:du},install:eu,effects:Ka,ticker:ae,updateRoot:$t.updateRoot,plugins:re,globalTimeline:Dt,core:{PropTween:ee,globals:iu,Tween:Nt,Timeline:$t,Animation:fs,getCache:ei,_removeLinkedListItem:Pr,reverting:function(){return Kt},context:function(E){return E&&Rt&&(Rt.data.push(E),E._ctx=Rt),Rt},suppressOverwrites:function(E){return lo=E}}};te("to,from,fromTo,delayedCall,set,killTweensOf",function(F){return Er[F]=Nt[F]});ae.add($t.updateRoot);en=Er.to({},{duration:0});var cv=function(E,C){for(var M=E._pt;M&&M.p!==C&&M.op!==C&&M.fp!==C;)M=M._next;return M},vv=function(E,C){var M=E._targets,u,m,t;for(u in C)for(m=M.length;m--;)t=E._ptLookup[m][u],t&&(t=t.d)&&(t._pt&&(t=cv(t,u)),t&&t.modifier&&t.modifier(C[u],E,M[m],u))},ka=function(E,C){return{name:E,headless:1,rawVars:1,init:function(u,m,t){t._onInit=function(a){var p,o;if(Vt(m)&&(p={},te(m,function(s){return p[s]=1}),m=p),C){p={};for(o in m)p[o]=C(m[o]);m=p}vv(a,m)}}}},qt=Er.registerPlugin({name:"attr",init:function(E,C,M,u,m){var t,a,p;this.tween=M;for(t in C)p=E.getAttribute(t)||"",a=this.add(E,"setAttribute",(p||0)+"",C[t],u,m,0,0,t),a.op=t,a.b=p,this._props.push(t)},render:function(E,C){for(var M=C._pt;M;)Kt?M.set(M.t,M.p,M.b,M):M.r(E,M.d),M=M._next}},{name:"endArray",headless:1,init:function(E,C){for(var M=C.length;M--;)this.add(E,M,E[M]||0,C[M],0,0,0,0,0,1)}},ka("roundProps",ao),ka("modifiers"),ka("snap",vu))||Er;Nt.version=$t.version=qt.version="3.13.0";tu=1;uo()&&on();var pv=ct.Power0,gv=ct.Power1,mv=ct.Power2,xv=ct.Power3,yv=ct.Power4,Tv=ct.Linear,Sv=ct.Quad,Cv=ct.Cubic,Ev=ct.Quart,Av=ct.Quint,Mv=ct.Strong,Pv=ct.Elastic,Rv=ct.Back,Dv=ct.SteppedEase,Fv=ct.Bounce,Lv=ct.Sine,wv=ct.Expo,Ov=ct.Circ;var Lu,si,un,Bo,Oi,Iv,wu,No,Bv=function(){return typeof window<"u"},He={},wi=180/Math.PI,fn=Math.PI/180,ln=Math.atan2,Ou=1e8,Go=/([A-Z])/g,Nv=/(left|right|width|margin|padding|x)/i,Gv=/[\s,\(]\S/,Oe={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Lo=function(E,C){return C.set(C.t,C.p,Math.round((C.s+C.c*E)*1e4)/1e4+C.u,C)},bv=function(E,C){return C.set(C.t,C.p,E===1?C.e:Math.round((C.s+C.c*E)*1e4)/1e4+C.u,C)},Uv=function(E,C){return C.set(C.t,C.p,E?Math.round((C.s+C.c*E)*1e4)/1e4+C.u:C.b,C)},zv=function(E,C){var M=C.s+C.c*E;C.set(C.t,C.p,~~(M+(M<0?-.5:.5))+C.u,C)},Vu=function(E,C){return C.set(C.t,C.p,E?C.e:C.b,C)},Xu=function(E,C){return C.set(C.t,C.p,E!==1?C.b:C.e,C)},Vv=function(E,C,M){return E.style[C]=M},Xv=function(E,C,M){return E.style.setProperty(C,M)},Yv=function(E,C,M){return E._gsap[C]=M},Wv=function(E,C,M){return E._gsap.scaleX=E._gsap.scaleY=M},Hv=function(E,C,M,u,m){var t=E._gsap;t.scaleX=t.scaleY=M,t.renderTransform(m,t)},$v=function(E,C,M,u,m){var t=E._gsap;t[C]=M,t.renderTransform(m,t)},Ft="transform",le=Ft+"Origin",Kv=function F(E,C){var M=this,u=this.target,m=u.style,t=u._gsap;if(E in He&&m){if(this.tfm=this.tfm||{},E!=="transform")E=Oe[E]||E,~E.indexOf(",")?E.split(",").forEach(function(a){return M.tfm[a]=We(u,a)}):this.tfm[E]=t.x?t[E]:We(u,E),E===le&&(this.tfm.zOrigin=t.zOrigin);else return Oe.transform.split(",").forEach(function(a){return F.call(M,a,C)});if(this.props.indexOf(Ft)>=0)return;t.svg&&(this.svgo=u.getAttribute("data-svg-origin"),this.props.push(le,C,"")),E=Ft}(m||C)&&this.props.push(E,C,m[E])},Yu=function(E){E.translate&&(E.removeProperty("translate"),E.removeProperty("scale"),E.removeProperty("rotate"))},Zv=function(){var E=this.props,C=this.target,M=C.style,u=C._gsap,m,t;for(m=0;m<E.length;m+=3)E[m+1]?E[m+1]===2?C[E[m]](E[m+2]):C[E[m]]=E[m+2]:E[m+2]?M[E[m]]=E[m+2]:M.removeProperty(E[m].substr(0,2)==="--"?E[m]:E[m].replace(Go,"-$1").toLowerCase());if(this.tfm){for(t in this.tfm)u[t]=this.tfm[t];u.svg&&(u.renderTransform(),C.setAttribute("data-svg-origin",this.svgo||"")),m=No(),(!m||!m.isStart)&&!M[Ft]&&(Yu(M),u.zOrigin&&M[le]&&(M[le]+=" "+u.zOrigin+"px",u.zOrigin=0,u.renderTransform()),u.uncache=1)}},Wu=function(E,C){var M={target:E,props:[],revert:Zv,save:Kv};return E._gsap||qt.core.getCache(E),C&&E.style&&E.nodeType&&C.split(",").forEach(function(u){return M.save(u)}),M},Hu,wo=function(E,C){var M=si.createElementNS?si.createElementNS((C||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),E):si.createElement(E);return M&&M.style?M:si.createElement(E)},Se=function F(E,C,M){var u=getComputedStyle(E);return u[C]||u.getPropertyValue(C.replace(Go,"-$1").toLowerCase())||u.getPropertyValue(C)||!M&&F(E,dn(C)||C,1)||""},Iu="O,Moz,ms,Ms,Webkit".split(","),dn=function(E,C,M){var u=C||Oi,m=u.style,t=5;if(E in m&&!M)return E;for(E=E.charAt(0).toUpperCase()+E.substr(1);t--&&!(Iu[t]+E in m););return t<0?null:(t===3?"ms":t>=0?Iu[t]:"")+E},Oo=function(){Bv()&&window.document&&(Lu=window,si=Lu.document,un=si.documentElement,Oi=wo("div")||{style:{}},Iv=wo("div"),Ft=dn(Ft),le=Ft+"Origin",Oi.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Hu=!!dn("perspective"),No=qt.core.reverting,Bo=1)},Bu=function(E){var C=E.ownerSVGElement,M=wo("svg",C&&C.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),u=E.cloneNode(!0),m;u.style.display="block",M.appendChild(u),un.appendChild(M);try{m=u.getBBox()}catch{}return M.removeChild(u),un.removeChild(M),m},Nu=function(E,C){for(var M=C.length;M--;)if(E.hasAttribute(C[M]))return E.getAttribute(C[M])},$u=function(E){var C,M;try{C=E.getBBox()}catch{C=Bu(E),M=1}return C&&(C.width||C.height)||M||(C=Bu(E)),C&&!C.width&&!C.x&&!C.y?{x:+Nu(E,["x","cx","x1"])||0,y:+Nu(E,["y","cy","y1"])||0,width:0,height:0}:C},Ku=function(E){return!!(E.getCTM&&(!E.parentNode||E.ownerSVGElement)&&$u(E))},Ii=function(E,C){if(C){var M=E.style,u;C in He&&C!==le&&(C=Ft),M.removeProperty?(u=C.substr(0,2),(u==="ms"||C.substr(0,6)==="webkit")&&(C="-"+C),M.removeProperty(u==="--"?C:C.replace(Go,"-$1").toLowerCase())):M.removeAttribute(C)}},ri=function(E,C,M,u,m,t){var a=new ee(E._pt,C,M,0,1,t?Xu:Vu);return E._pt=a,a.b=u,a.e=m,E._props.push(M),a},Gu={deg:1,rad:1,turn:1},jv={grid:1,flex:1},ai=function F(E,C,M,u){var m=parseFloat(M)||0,t=(M+"").trim().substr((m+"").length)||"px",a=Oi.style,p=Nv.test(C),o=E.tagName.toLowerCase()==="svg",s=(o?"client":"offset")+(p?"Width":"Height"),r=100,e=u==="px",n=u==="%",l,i,h,f;if(u===t||!m||Gu[u]||Gu[t])return m;if(t!=="px"&&!e&&(m=F(E,C,M,"px")),f=E.getCTM&&Ku(E),(n||t==="%")&&(He[C]||~C.indexOf("adius")))return l=f?E.getBBox()[p?"width":"height"]:E[s],It(n?m/l*r:m/100*l);if(a[p?"width":"height"]=r+(e?t:u),i=u!=="rem"&&~C.indexOf("adius")||u==="em"&&E.appendChild&&!o?E:E.parentNode,f&&(i=(E.ownerSVGElement||{}).parentNode),(!i||i===si||!i.appendChild)&&(i=si.body),h=i._gsap,h&&n&&h.width&&p&&h.time===ae.time&&!h.uncache)return It(m/h.width*r);if(n&&(C==="height"||C==="width")){var c=E.style[C];E.style[C]=r+u,l=E[s],c?E.style[C]=c:Ii(E,C)}else(n||t==="%")&&!jv[Se(i,"display")]&&(a.position=Se(E,"position")),i===E&&(a.position="static"),i.appendChild(Oi),l=Oi[s],i.removeChild(Oi),a.position="absolute";return p&&n&&(h=ei(i),h.time=ae.time,h.width=i[s]),It(e?l*m/r:l&&m?r/l*m:0)},We=function(E,C,M,u){var m;return Bo||Oo(),C in Oe&&C!=="transform"&&(C=Oe[C],~C.indexOf(",")&&(C=C.split(",")[0])),He[C]&&C!=="transform"?(m=ps(E,u),m=C!=="transformOrigin"?m[C]:m.svg?m.origin:wr(Se(E,le))+" "+m.zOrigin+"px"):(m=E.style[C],(!m||m==="auto"||u||~(m+"").indexOf("calc("))&&(m=Lr[C]&&Lr[C](E,C,M)||Se(E,C)||xo(E,C)||(C==="opacity"?1:0))),M&&!~(m+"").trim().indexOf(" ")?ai(E,C,m,M)+M:m},Jv=function(E,C,M,u){if(!M||M==="none"){var m=dn(C,E,1),t=m&&Se(E,m,1);t&&t!==M?(C=m,M=t):C==="borderColor"&&(M=Se(E,"borderTopColor"))}var a=new ee(this._pt,E.style,C,0,1,Po),p=0,o=0,s,r,e,n,l,i,h,f,c,d,v,g;if(a.b=M,a.e=u,M+="",u+="",u.substring(0,6)==="var(--"&&(u=Se(E,u.substring(4,u.indexOf(")")))),u==="auto"&&(i=E.style[C],E.style[C]=u,u=Se(E,C)||u,i?E.style[C]=i:Ii(E,C)),s=[M,u],To(s),M=s[0],u=s[1],e=M.match(Pi)||[],g=u.match(Pi)||[],g.length){for(;r=Pi.exec(u);)h=r[0],c=u.substring(p,r.index),l?l=(l+1)%5:(c.substr(-5)==="rgba("||c.substr(-5)==="hsla(")&&(l=1),h!==(i=e[o++]||"")&&(n=parseFloat(i)||0,v=i.substr((n+"").length),h.charAt(1)==="="&&(h=Ri(n,h)+v),f=parseFloat(h),d=h.substr((f+"").length),p=Pi.lastIndex-d.length,d||(d=d||he.units[C]||v,p===u.length&&(u+=d,a.e+=d)),v!==d&&(n=ai(E,C,i,d)||0),a._pt={_next:a._pt,p:c||o===1?c:",",s:n,c:f-n,m:l&&l<4||C==="zIndex"?Math.round:0});a.c=p<u.length?u.substring(p,u.length):""}else a.r=C==="display"&&u==="none"?Xu:Vu;return co.test(u)&&(a.e=0),this._pt=a,a},bu={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Qv=function(E){var C=E.split(" "),M=C[0],u=C[1]||"50%";return(M==="top"||M==="bottom"||u==="left"||u==="right")&&(E=M,M=u,u=E),C[0]=bu[M]||M,C[1]=bu[u]||u,C.join(" ")},kv=function(E,C){if(C.tween&&C.tween._time===C.tween._dur){var M=C.t,u=M.style,m=C.u,t=M._gsap,a,p,o;if(m==="all"||m===!0)u.cssText="",p=1;else for(m=m.split(","),o=m.length;--o>-1;)a=m[o],He[a]&&(p=1,a=a==="transformOrigin"?le:Ft),Ii(M,a);p&&(Ii(M,Ft),t&&(t.svg&&M.removeAttribute("transform"),u.scale=u.rotate=u.translate="none",ps(M,1),t.uncache=1,Yu(u)))}},Lr={clearProps:function(E,C,M,u,m){if(m.data!=="isFromStart"){var t=E._pt=new ee(E._pt,C,M,0,0,kv);return t.u=u,t.pr=-10,t.tween=m,E._props.push(M),1}}},vs=[1,0,0,1,0,0],Zu={},ju=function(E){return E==="matrix(1, 0, 0, 1, 0, 0)"||E==="none"||!E},Uu=function(E){var C=Se(E,Ft);return ju(C)?vs:C.substr(7).match(fo).map(It)},bo=function(E,C){var M=E._gsap||ei(E),u=E.style,m=Uu(E),t,a,p,o;return M.svg&&E.getAttribute("transform")?(p=E.transform.baseVal.consolidate().matrix,m=[p.a,p.b,p.c,p.d,p.e,p.f],m.join(",")==="1,0,0,1,0,0"?vs:m):(m===vs&&!E.offsetParent&&E!==un&&!M.svg&&(p=u.display,u.display="block",t=E.parentNode,(!t||!E.offsetParent&&!E.getBoundingClientRect().width)&&(o=1,a=E.nextElementSibling,un.appendChild(E)),m=Uu(E),p?u.display=p:Ii(E,"display"),o&&(a?t.insertBefore(E,a):t?t.appendChild(E):un.removeChild(E))),C&&m.length>6?[m[0],m[1],m[4],m[5],m[12],m[13]]:m)},Io=function(E,C,M,u,m,t){var a=E._gsap,p=m||bo(E,!0),o=a.xOrigin||0,s=a.yOrigin||0,r=a.xOffset||0,e=a.yOffset||0,n=p[0],l=p[1],i=p[2],h=p[3],f=p[4],c=p[5],d=C.split(" "),v=parseFloat(d[0])||0,g=parseFloat(d[1])||0,y,x,T,S;M?p!==vs&&(x=n*h-l*i)&&(T=v*(h/x)+g*(-i/x)+(i*c-h*f)/x,S=v*(-l/x)+g*(n/x)-(n*c-l*f)/x,v=T,g=S):(y=$u(E),v=y.x+(~d[0].indexOf("%")?v/100*y.width:v),g=y.y+(~(d[1]||d[0]).indexOf("%")?g/100*y.height:g)),u||u!==!1&&a.smooth?(f=v-o,c=g-s,a.xOffset=r+(f*n+c*i)-f,a.yOffset=e+(f*l+c*h)-c):a.xOffset=a.yOffset=0,a.xOrigin=v,a.yOrigin=g,a.smooth=!!u,a.origin=C,a.originIsAbsolute=!!M,E.style[le]="0px 0px",t&&(ri(t,a,"xOrigin",o,v),ri(t,a,"yOrigin",s,g),ri(t,a,"xOffset",r,a.xOffset),ri(t,a,"yOffset",e,a.yOffset)),E.setAttribute("data-svg-origin",v+" "+g)},ps=function(E,C){var M=E._gsap||new So(E);if("x"in M&&!C&&!M.uncache)return M;var u=E.style,m=M.scaleX<0,t="px",a="deg",p=getComputedStyle(E),o=Se(E,le)||"0",s,r,e,n,l,i,h,f,c,d,v,g,y,x,T,S,A,P,D,R,L,I,w,B,b,V,X,G,U,O,z,N;return s=r=e=i=h=f=c=d=v=0,n=l=1,M.svg=!!(E.getCTM&&Ku(E)),p.translate&&((p.translate!=="none"||p.scale!=="none"||p.rotate!=="none")&&(u[Ft]=(p.translate!=="none"?"translate3d("+(p.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(p.rotate!=="none"?"rotate("+p.rotate+") ":"")+(p.scale!=="none"?"scale("+p.scale.split(" ").join(",")+") ":"")+(p[Ft]!=="none"?p[Ft]:"")),u.scale=u.rotate=u.translate="none"),x=bo(E,M.svg),M.svg&&(M.uncache?(b=E.getBBox(),o=M.xOrigin-b.x+"px "+(M.yOrigin-b.y)+"px",B=""):B=!C&&E.getAttribute("data-svg-origin"),Io(E,B||o,!!B||M.originIsAbsolute,M.smooth!==!1,x)),g=M.xOrigin||0,y=M.yOrigin||0,x!==vs&&(P=x[0],D=x[1],R=x[2],L=x[3],s=I=x[4],r=w=x[5],x.length===6?(n=Math.sqrt(P*P+D*D),l=Math.sqrt(L*L+R*R),i=P||D?ln(D,P)*wi:0,c=R||L?ln(R,L)*wi+i:0,c&&(l*=Math.abs(Math.cos(c*fn))),M.svg&&(s-=g-(g*P+y*R),r-=y-(g*D+y*L))):(N=x[6],O=x[7],X=x[8],G=x[9],U=x[10],z=x[11],s=x[12],r=x[13],e=x[14],T=ln(N,U),h=T*wi,T&&(S=Math.cos(-T),A=Math.sin(-T),B=I*S+X*A,b=w*S+G*A,V=N*S+U*A,X=I*-A+X*S,G=w*-A+G*S,U=N*-A+U*S,z=O*-A+z*S,I=B,w=b,N=V),T=ln(-R,U),f=T*wi,T&&(S=Math.cos(-T),A=Math.sin(-T),B=P*S-X*A,b=D*S-G*A,V=R*S-U*A,z=L*A+z*S,P=B,D=b,R=V),T=ln(D,P),i=T*wi,T&&(S=Math.cos(T),A=Math.sin(T),B=P*S+D*A,b=I*S+w*A,D=D*S-P*A,w=w*S-I*A,P=B,I=b),h&&Math.abs(h)+Math.abs(i)>359.9&&(h=i=0,f=180-f),n=It(Math.sqrt(P*P+D*D+R*R)),l=It(Math.sqrt(w*w+N*N)),T=ln(I,w),c=Math.abs(T)>2e-4?T*wi:0,v=z?1/(z<0?-z:z):0),M.svg&&(B=E.getAttribute("transform"),M.forceCSS=E.setAttribute("transform","")||!ju(Se(E,Ft)),B&&E.setAttribute("transform",B))),Math.abs(c)>90&&Math.abs(c)<270&&(m?(n*=-1,c+=i<=0?180:-180,i+=i<=0?180:-180):(l*=-1,c+=c<=0?180:-180)),C=C||M.uncache,M.x=s-((M.xPercent=s&&(!C&&M.xPercent||(Math.round(E.offsetWidth/2)===Math.round(-s)?-50:0)))?E.offsetWidth*M.xPercent/100:0)+t,M.y=r-((M.yPercent=r&&(!C&&M.yPercent||(Math.round(E.offsetHeight/2)===Math.round(-r)?-50:0)))?E.offsetHeight*M.yPercent/100:0)+t,M.z=e+t,M.scaleX=It(n),M.scaleY=It(l),M.rotation=It(i)+a,M.rotationX=It(h)+a,M.rotationY=It(f)+a,M.skewX=c+a,M.skewY=d+a,M.transformPerspective=v+t,(M.zOrigin=parseFloat(o.split(" ")[2])||!C&&M.zOrigin||0)&&(u[le]=wr(o)),M.xOffset=M.yOffset=0,M.force3D=he.force3D,M.renderTransform=M.svg?_v:Hu?Ju:qv,M.uncache=0,M},wr=function(E){return(E=E.split(" "))[0]+" "+E[1]},Fo=function(E,C,M){var u=Zt(C);return It(parseFloat(C)+parseFloat(ai(E,"x",M+"px",u)))+u},qv=function(E,C){C.z="0px",C.rotationY=C.rotationX="0deg",C.force3D=0,Ju(E,C)},Fi="0deg",cs="0px",Li=") ",Ju=function(E,C){var M=C||this,u=M.xPercent,m=M.yPercent,t=M.x,a=M.y,p=M.z,o=M.rotation,s=M.rotationY,r=M.rotationX,e=M.skewX,n=M.skewY,l=M.scaleX,i=M.scaleY,h=M.transformPerspective,f=M.force3D,c=M.target,d=M.zOrigin,v="",g=f==="auto"&&E&&E!==1||f===!0;if(d&&(r!==Fi||s!==Fi)){var y=parseFloat(s)*fn,x=Math.sin(y),T=Math.cos(y),S;y=parseFloat(r)*fn,S=Math.cos(y),t=Fo(c,t,x*S*-d),a=Fo(c,a,-Math.sin(y)*-d),p=Fo(c,p,T*S*-d+d)}h!==cs&&(v+="perspective("+h+Li),(u||m)&&(v+="translate("+u+"%, "+m+"%) "),(g||t!==cs||a!==cs||p!==cs)&&(v+=p!==cs||g?"translate3d("+t+", "+a+", "+p+") ":"translate("+t+", "+a+Li),o!==Fi&&(v+="rotate("+o+Li),s!==Fi&&(v+="rotateY("+s+Li),r!==Fi&&(v+="rotateX("+r+Li),(e!==Fi||n!==Fi)&&(v+="skew("+e+", "+n+Li),(l!==1||i!==1)&&(v+="scale("+l+", "+i+Li),c.style[Ft]=v||"translate(0, 0)"},_v=function(E,C){var M=C||this,u=M.xPercent,m=M.yPercent,t=M.x,a=M.y,p=M.rotation,o=M.skewX,s=M.skewY,r=M.scaleX,e=M.scaleY,n=M.target,l=M.xOrigin,i=M.yOrigin,h=M.xOffset,f=M.yOffset,c=M.forceCSS,d=parseFloat(t),v=parseFloat(a),g,y,x,T,S;p=parseFloat(p),o=parseFloat(o),s=parseFloat(s),s&&(s=parseFloat(s),o+=s,p+=s),p||o?(p*=fn,o*=fn,g=Math.cos(p)*r,y=Math.sin(p)*r,x=Math.sin(p-o)*-e,T=Math.cos(p-o)*e,o&&(s*=fn,S=Math.tan(o-s),S=Math.sqrt(1+S*S),x*=S,T*=S,s&&(S=Math.tan(s),S=Math.sqrt(1+S*S),g*=S,y*=S)),g=It(g),y=It(y),x=It(x),T=It(T)):(g=r,T=e,y=x=0),(d&&!~(t+"").indexOf("px")||v&&!~(a+"").indexOf("px"))&&(d=ai(n,"x",t,"px"),v=ai(n,"y",a,"px")),(l||i||h||f)&&(d=It(d+l-(l*g+i*x)+h),v=It(v+i-(l*y+i*T)+f)),(u||m)&&(S=n.getBBox(),d=It(d+u/100*S.width),v=It(v+m/100*S.height)),S="matrix("+g+","+y+","+x+","+T+","+d+","+v+")",n.setAttribute("transform",S),c&&(n.style[Ft]=S)},tp=function(E,C,M,u,m){var t=360,a=Vt(m),p=parseFloat(m)*(a&&~m.indexOf("rad")?wi:1),o=p-u,s=u+o+"deg",r,e;return a&&(r=m.split("_")[1],r==="short"&&(o%=t,o!==o%(t/2)&&(o+=o<0?t:-t)),r==="cw"&&o<0?o=(o+t*Ou)%t-~~(o/t)*t:r==="ccw"&&o>0&&(o=(o-t*Ou)%t-~~(o/t)*t)),E._pt=e=new ee(E._pt,C,M,u,o,bv),e.e=s,e.u="deg",E._props.push(M),e},zu=function(E,C){for(var M in C)E[M]=C[M];return E},ep=function(E,C,M){var u=zu({},M._gsap),m="perspective,force3D,transformOrigin,svgOrigin",t=M.style,a,p,o,s,r,e,n,l;u.svg?(o=M.getAttribute("transform"),M.setAttribute("transform",""),t[Ft]=C,a=ps(M,1),Ii(M,Ft),M.setAttribute("transform",o)):(o=getComputedStyle(M)[Ft],t[Ft]=C,a=ps(M,1),t[Ft]=o);for(p in He)o=u[p],s=a[p],o!==s&&m.indexOf(p)<0&&(n=Zt(o),l=Zt(s),r=n!==l?ai(M,p,o,l):parseFloat(o),e=parseFloat(s),E._pt=new ee(E._pt,a,p,r,e-r,Lo),E._pt.u=l||0,E._props.push(p));zu(a,u)};te("padding,margin,Width,Radius",function(F,E){var C="Top",M="Right",u="Bottom",m="Left",t=(E<3?[C,M,u,m]:[C+m,C+M,u+M,u+m]).map(function(a){return E<2?F+a:"border"+a+F});Lr[E>1?"border"+F:F]=function(a,p,o,s,r){var e,n;if(arguments.length<4)return e=t.map(function(l){return We(a,l,o)}),n=e.join(" "),n.split(e[0]).length===5?e[0]:n;e=(s+"").split(" "),n={},t.forEach(function(l,i){return n[l]=e[i]=e[i]||e[(i-1)/2|0]}),a.init(p,n,r)}});var Uo={name:"css",register:Oo,targetTest:function(E){return E.style&&E.nodeType},init:function(E,C,M,u,m){var t=this._props,a=E.style,p=M.vars.startAt,o,s,r,e,n,l,i,h,f,c,d,v,g,y,x,T;Bo||Oo(),this.styles=this.styles||Wu(E),T=this.styles.props,this.tween=M;for(i in C)if(i!=="autoRound"&&(s=C[i],!(re[i]&&Eo(i,C,M,u,E,m)))){if(n=typeof s,l=Lr[i],n==="function"&&(s=s.call(M,u,E,m),n=typeof s),n==="string"&&~s.indexOf("random(")&&(s=hn(s)),l)l(this,E,i,s,M)&&(x=1);else if(i.substr(0,2)==="--")o=(getComputedStyle(E).getPropertyValue(i)+"").trim(),s+="",Xe.lastIndex=0,Xe.test(o)||(h=Zt(o),f=Zt(s)),f?h!==f&&(o=ai(E,i,o,f)+f):h&&(s+=h),this.add(a,"setProperty",o,s,u,m,0,0,i),t.push(i),T.push(i,0,a[i]);else if(n!=="undefined"){if(p&&i in p?(o=typeof p[i]=="function"?p[i].call(M,u,E,m):p[i],Vt(o)&&~o.indexOf("random(")&&(o=hn(o)),Zt(o+"")||o==="auto"||(o+=he.units[i]||Zt(We(E,i))||""),(o+"").charAt(1)==="="&&(o=We(E,i))):o=We(E,i),e=parseFloat(o),c=n==="string"&&s.charAt(1)==="="&&s.substr(0,2),c&&(s=s.substr(2)),r=parseFloat(s),i in Oe&&(i==="autoAlpha"&&(e===1&&We(E,"visibility")==="hidden"&&r&&(e=0),T.push("visibility",0,a.visibility),ri(this,a,"visibility",e?"inherit":"hidden",r?"inherit":"hidden",!r)),i!=="scale"&&i!=="transform"&&(i=Oe[i],~i.indexOf(",")&&(i=i.split(",")[0]))),d=i in He,d){if(this.styles.save(i),n==="string"&&s.substring(0,6)==="var(--"&&(s=Se(E,s.substring(4,s.indexOf(")"))),r=parseFloat(s)),v||(g=E._gsap,g.renderTransform&&!C.parseTransform||ps(E,C.parseTransform),y=C.smoothOrigin!==!1&&g.smooth,v=this._pt=new ee(this._pt,a,Ft,0,1,g.renderTransform,g,0,-1),v.dep=1),i==="scale")this._pt=new ee(this._pt,g,"scaleY",g.scaleY,(c?Ri(g.scaleY,c+r):r)-g.scaleY||0,Lo),this._pt.u=0,t.push("scaleY",i),i+="X";else if(i==="transformOrigin"){T.push(le,0,a[le]),s=Qv(s),g.svg?Io(E,s,0,y,0,this):(f=parseFloat(s.split(" ")[2])||0,f!==g.zOrigin&&ri(this,g,"zOrigin",g.zOrigin,f),ri(this,a,i,wr(o),wr(s)));continue}else if(i==="svgOrigin"){Io(E,s,1,y,0,this);continue}else if(i in Zu){tp(this,g,i,e,c?Ri(e,c+s):s);continue}else if(i==="smoothOrigin"){ri(this,g,"smooth",g.smooth,s);continue}else if(i==="force3D"){g[i]=s;continue}else if(i==="transform"){ep(this,s,E);continue}}else i in a||(i=dn(i)||i);if(d||(r||r===0)&&(e||e===0)&&!Gv.test(s)&&i in a)h=(o+"").substr((e+"").length),r||(r=0),f=Zt(s)||(i in he.units?he.units[i]:h),h!==f&&(e=ai(E,i,o,f)),this._pt=new ee(this._pt,d?g:a,i,e,(c?Ri(e,c+r):r)-e,!d&&(f==="px"||i==="zIndex")&&C.autoRound!==!1?zv:Lo),this._pt.u=f||0,h!==f&&f!=="%"&&(this._pt.b=o,this._pt.r=Uv);else if(i in a)Jv.call(this,E,i,o,c?c+s:s);else if(i in E)this.add(E,i,o||E[i],c?c+s:s,u,m);else if(i!=="parseTransform"){Mr(i,s);continue}d||(i in a?T.push(i,0,a[i]):typeof E[i]=="function"?T.push(i,2,E[i]()):T.push(i,1,o||E[i])),t.push(i)}}x&&Do(this)},render:function(E,C){if(C.tween._time||!No())for(var M=C._pt;M;)M.r(E,M.d),M=M._next;else C.styles.revert()},get:We,aliases:Oe,getSetter:function(E,C,M){var u=Oe[C];return u&&u.indexOf(",")<0&&(C=u),C in He&&C!==le&&(E._gsap.x||We(E,"x"))?M&&wu===M?C==="scale"?Wv:Yv:(wu=M||{})&&(C==="scale"?Hv:$v):E.style&&!Ar(E.style[C])?Vv:~C.indexOf("-")?Xv:Fr(E,C)},core:{_removeProperty:Ii,_getMatrix:bo}};qt.utils.checkPrefix=dn;qt.core.getStyleSaver=Wu;(function(F,E,C,M){var u=te(F+","+E+","+C,function(m){He[m]=1});te(E,function(m){he.units[m]="deg",Zu[m]=1}),Oe[u[13]]=F+","+E,te(M,function(m){var t=m.split(":");Oe[t[1]]=u[t[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");te("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(F){he.units[F]="px"});qt.registerPlugin(Uo);var cn=qt.registerPlugin(Uo)||qt,xx=cn.core.Tween;var ip=["letterImg"];function np(F,E){if(F&1&&wt(0,"img",5,0),F&2){let C=E.$implicit;Ht("src",C.src,Cs)("alt",C.alt)}}var Or=class F{letterImages;letters=[{src:"svg/Joscco_0.svg",alt:"J",alternatives:["svg/Note.svg"],default:"svg/Joscco_0.svg"},{src:"svg/Joscco_1.svg",alt:"o",alternatives:["svg/Zero.svg"],default:"svg/Joscco_1.svg"},{src:"svg/Joscco_2.svg",alt:"s",alternatives:["svg/Sigma.svg"],default:"svg/Joscco_2.svg"},{src:"svg/Joscco_3.svg",alt:"c",alternatives:[],default:"/svg/Joscco_3.svg"},{src:"svg/Joscco_4.svg",alt:"c",alternatives:["svg/KO.svg"],default:"svg/Joscco_4.svg"},{src:"svg/Joscco_5.svg",alt:"o",alternatives:["svg/Head.svg"],default:"svg/Joscco_5.svg"}];lastReplacedIndex=null;ngAfterViewInit(){setInterval(()=>{let E,C;do E=Math.floor(Math.random()*this.letters.length),C=this.letters[E];while(E===this.lastReplacedIndex||C.alternatives.length===0);let M=C.alternatives[Math.floor(Math.random()*C.alternatives.length)];if(this.lastReplacedIndex!==null){let m=this.letters[this.lastReplacedIndex],t=this.letterImages.toArray()[this.lastReplacedIndex].nativeElement;cn.to(t,{scale:0,duration:.3,onComplete:()=>{m.src=m.default,cn.to(t,{scale:1,duration:.3})}})}let u=this.letterImages.toArray()[E].nativeElement;cn.to(u,{scale:0,delay:.1,duration:.3,onComplete:()=>{C.src=M,cn.to(u,{scale:1,duration:.3})}}),this.lastReplacedIndex=E},3e3)}static \u0275fac=function(C){return new(C||F)};static \u0275cmp=bt({type:F,selectors:[["app-logo"]],viewQuery:function(C,M){if(C&1&&Vi(ip,5),C&2){let u;pi(u=gi())&&(M.letterImages=u)}},decls:4,vars:1,consts:[["letterImg",""],["routerLink","",1,"flex","flex-col","items-center","gap-1"],[1,"flex","items-center","-space-x-1"],["class","h-16",3,"src","alt",4,"ngFor","ngForOf"],["src","svg/Name.svg","alt","Jonathan Neuser-Schmitz",1,"w-64"],[1,"h-16",3,"src","alt"]],template:function(C,M){C&1&&(xt(0,"a",1)(1,"div",2),Cn(2,np,2,2,"img",3),At(),wt(3,"img",4),At()),C&2&&(Jt(2),Ht("ngForOf",M.letters))},dependencies:[tn,Wi],encapsulation:2})};var Ir=class F{text="";href="";static \u0275fac=function(C){return new(C||F)};static \u0275cmp=bt({type:F,selectors:[["app-nav-item"]],inputs:{text:"text",href:"href"},decls:2,vars:2,consts:[[1,"text-neutral-800","text-sm","md:text-base","font-semibold","p-2","no-underline","items-center","justify-center","flex","flex-1","h-[50px]","transition-all","duration-400",3,"routerLink"]],template:function(C,M){C&1&&(xt(0,"a",0),ne(1),At()),C&2&&(Ht("routerLink",M.href),Jt(),An(" ",M.text,`
`))},dependencies:[tn],encapsulation:2})};var Br=class F{static \u0275fac=function(C){return new(C||F)};static \u0275cmp=bt({type:F,selectors:[["app-nav-bar"]],decls:8,vars:0,consts:[[1,"bg-white","w-screen","mt-8","mb-4","z-10","flex","flex-nowrap","flex-row","items-center","justify-center"],[1,"w-[450px]","md:w-[700px]","lg:w-[980px]","flex","flex-1","flex-col","justify-center","items-center","gap-4"],[1,"flex","flex-row","flex-nowrap","items-center","gap-2","md:gap-4"],["text","WORK","href","/"],["text","ABOUT","href","/about"],["text","CONTACT","href","/contact"]],template:function(C,M){C&1&&(xt(0,"div",0)(1,"div",1)(2,"div"),wt(3,"app-logo"),At(),xt(4,"div",2),wt(5,"app-nav-item",3)(6,"app-nav-item",4)(7,"app-nav-item",5),At()()())},dependencies:[Or,Ir],encapsulation:2})};var Nr=class F{constructor(E){this.contexts=E}getRouteAnimationData(){return this.contexts.getContext("primary")?.route?.snapshot?.data?.animation}static \u0275fac=function(C){return new(C||F)(Gt(Qe))};static \u0275cmp=bt({type:F,selectors:[["app-root"]],decls:4,vars:1,consts:[[1,"flex","flex-col","w-full","min-h-screen"],[1,"flex-1"]],template:function(C,M){C&1&&(xt(0,"div",0),wt(1,"app-nav-bar"),xt(2,"div",1),wt(3,"router-outlet"),At()()),C&2&&(Jt(2),Ht("@fadeInAndOutAnimations",M.getRouteAnimationData()))},dependencies:[qn,Br],encapsulation:2,data:{animation:[Ul]}})};ma(Nr,Yl).catch(F=>console.error(F));

import{$ as ri,$a as Fe,A as al,Aa as Sl,Ab as Vl,B as He,Ba as Cl,Bb as or,C as dn,Ca as El,Cb as Xl,D as Li,Da as Al,Db as Yl,E as Na,Ea as Rl,Eb as Wl,F as cn,Fa as Pl,Fb as Hl,G as ol,Ga as je,Gb as yn,H as hl,Ha as nr,Hb as hr,I as vn,Ia as Ml,Ib as $l,J as $e,Ja as Dl,Jb as jl,K as ba,Ka as Xt,Kb as is,L as ll,La as Ui,Lb as Zl,M as ul,Ma as Ha,Mb as Kl,N as fl,Na as sr,Nb as Jl,O as dl,Oa as qn,Ob as lr,P as se,Pa as Rt,Q as Qn,Qa as $a,R as Qt,Ra as zi,Rb as ur,S as dt,Sa as ja,Sb as Yi,T as ut,Ta as wl,Tb as fr,U as Oi,Ua as Za,V as cl,Va as Pt,Vb as ue,W as mt,Wa as Vi,Wb as dr,X as ot,Xa as Ze,Xb as ns,Y as rt,Ya as Ka,Yb as hi,Z as Ii,Za as _n,_ as vl,_a as Fl,a as tt,aa as Me,ab as Le,b as zt,ba as er,bb as Ja,ca as ir,cb as rr,d as ec,da as Bi,db as Ll,e as ic,ea as Vt,eb as Ol,f as Fi,fa as pn,fb as Qa,g as _h,ga as Ga,gb as Il,h as tl,ha as gn,hb as Zt,i as _s,ia as kn,ib as vt,j as Oa,ja as pl,jb as xt,k as Ia,ka as gl,kb as Ot,l as ne,la as Ua,lb as Bl,m as Se,ma as Ni,mb as Oe,n as el,na as za,nb as ts,o as We,oa as Va,ob as Nl,p as le,pa as bi,pb as bl,q as ht,qa as ml,qb as Xi,r as Jn,ra as Xa,rb as ai,s as il,sa as xl,sb as oi,t as nl,ta as Gi,tb as Gl,u as Tt,ua as yl,ub as Ul,v as Ba,va as Ya,vb as Wt,w as Ce,wa as Wa,wb as zl,x as sl,xa as mn,xb as es,y as tr,ya as xn,yb as ar,z as rl,za as Tl,zb as ka}from"./chunk-GEJT4EUM.js";var Od=ec((Ks,Gh)=>{"use strict";(function(T,S){typeof Ks=="object"&&typeof Gh=="object"?Gh.exports=S():typeof define=="function"&&define.amd?define("Phaser",[],S):typeof Ks=="object"?Ks.Phaser=S():T.Phaser=S()})(Ks,()=>(()=>{var P={50792:o=>{"use strict";var g=Object.prototype.hasOwnProperty,t="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(t=!1));function v(e,n,l){this.fn=e,this.context=n,this.once=l||!1}function h(e,n,l,i,u){if(typeof l!="function")throw new TypeError("The listener must be a function");var f=new v(l,i||e,u),c=t?t+n:n;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],f]:e._events[c].push(f):(e._events[c]=f,e._eventsCount++),e}function s(e,n){--e._eventsCount===0?e._events=new a:delete e._events[n]}function r(){this._events=new a,this._eventsCount=0}r.prototype.eventNames=function(){var n=[],l,i;if(this._eventsCount===0)return n;for(i in l=this._events)g.call(l,i)&&n.push(t?i.slice(1):i);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(l)):n},r.prototype.listeners=function(n){var l=t?t+n:n,i=this._events[l];if(!i)return[];if(i.fn)return[i.fn];for(var u=0,f=i.length,c=new Array(f);u<f;u++)c[u]=i[u].fn;return c},r.prototype.listenerCount=function(n){var l=t?t+n:n,i=this._events[l];return i?i.fn?1:i.length:0},r.prototype.emit=function(n,l,i,u,f,c){var d=t?t+n:n;if(!this._events[d])return!1;var p=this._events[d],m=arguments.length,y,x;if(p.fn){switch(p.once&&this.removeListener(n,p.fn,void 0,!0),m){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,l),!0;case 3:return p.fn.call(p.context,l,i),!0;case 4:return p.fn.call(p.context,l,i,u),!0;case 5:return p.fn.call(p.context,l,i,u,f),!0;case 6:return p.fn.call(p.context,l,i,u,f,c),!0}for(x=1,y=new Array(m-1);x<m;x++)y[x-1]=arguments[x];p.fn.apply(p.context,y)}else{var C=p.length,E;for(x=0;x<C;x++)switch(p[x].once&&this.removeListener(n,p[x].fn,void 0,!0),m){case 1:p[x].fn.call(p[x].context);break;case 2:p[x].fn.call(p[x].context,l);break;case 3:p[x].fn.call(p[x].context,l,i);break;case 4:p[x].fn.call(p[x].context,l,i,u);break;default:if(!y)for(E=1,y=new Array(m-1);E<m;E++)y[E-1]=arguments[E];p[x].fn.apply(p[x].context,y)}}return!0},r.prototype.on=function(n,l,i){return h(this,n,l,i,!1)},r.prototype.once=function(n,l,i){return h(this,n,l,i,!0)},r.prototype.removeListener=function(n,l,i,u){var f=t?t+n:n;if(!this._events[f])return this;if(!l)return s(this,f),this;var c=this._events[f];if(c.fn)c.fn===l&&(!u||c.once)&&(!i||c.context===i)&&s(this,f);else{for(var d=0,p=[],m=c.length;d<m;d++)(c[d].fn!==l||u&&!c[d].once||i&&c[d].context!==i)&&p.push(c[d]);p.length?this._events[f]=p.length===1?p[0]:p:s(this,f)}return this},r.prototype.removeAllListeners=function(n){var l;return n?(l=t?t+n:n,this._events[l]&&s(this,l)):(this._events=new a,this._eventsCount=0),this},r.prototype.off=r.prototype.removeListener,r.prototype.addListener=r.prototype.on,r.prefixed=t,r.EventEmitter=r,o.exports=r},11517:(o,g,t)=>{var a=t(38829),v=function(h,s,r,e){for(var n=h[0],l=1;l<h.length;l++){var i=h[l];a(i,n,s,r,e),n=i}return h};o.exports=v},80318:(o,g,t)=>{var a=t(66979),v=function(h,s,r,e,n){return a(h,"angle",s,r,e,n)};o.exports=v},60757:o=>{var g=function(t,a,v){for(var h=0;h<t.length;h++){var s=t[h];a.call(v,s)}return t};o.exports=g},69927:o=>{var g=function(t,a,v){v===void 0&&(v=0);for(var h=v;h<t.length;h++){var s=t[h],r=!0;for(var e in a)s[e]!==a[e]&&(r=!1);if(r)return s}return null};o.exports=g},32265:o=>{var g=function(t,a,v){v===void 0&&(v=0);for(var h=t.length-1;h>=v;h--){var s=t[h],r=!0;for(var e in a)s[e]!==a[e]&&(r=!1);if(r)return s}return null};o.exports=g},94420:(o,g,t)=>{var a=t(11879),v=t(60461),h=t(95540),s=t(29747),r=t(41481),e=new r({sys:{queueDepthSort:s,events:{once:s}}},0,0,1,1).setOrigin(0,0),n=function(l,i){i===void 0&&(i={});var u=i.hasOwnProperty("width"),f=i.hasOwnProperty("height"),c=h(i,"width",-1),d=h(i,"height",-1),p=h(i,"cellWidth",1),m=h(i,"cellHeight",p),y=h(i,"position",v.TOP_LEFT),x=h(i,"x",0),C=h(i,"y",0),E=0,R=0,M=c*p,w=d*m;e.setPosition(x,C),e.setSize(p,m);for(var D=0;D<l.length;D++)if(a(l[D],e,y),u&&c===-1)e.x+=p;else if(f&&d===-1)e.y+=m;else if(f&&!u){if(R+=m,e.y+=m,R===w&&(R=0,E+=p,e.y=C,e.x+=p,E===M))break}else if(E+=p,e.x+=p,E===M&&(E=0,R+=m,e.x=x,e.y+=m,R===w))break;return l};o.exports=n},41721:(o,g,t)=>{var a=t(66979),v=function(h,s,r,e,n){return a(h,"alpha",s,r,e,n)};o.exports=v},67285:(o,g,t)=>{var a=t(66979),v=function(h,s,r,e,n){return a(h,"x",s,r,e,n)};o.exports=v},9074:(o,g,t)=>{var a=t(66979),v=function(h,s,r,e,n,l,i){return r==null&&(r=s),a(h,"x",s,e,l,i),a(h,"y",r,n,l,i)};o.exports=v},75222:(o,g,t)=>{var a=t(66979),v=function(h,s,r,e,n){return a(h,"y",s,r,e,n)};o.exports=v},22983:o=>{var g=function(t,a,v,h){v===void 0&&(v=0),h===void 0&&(h=6.28);for(var s=v,r=(h-v)/t.length,e=a.x,n=a.y,l=a.radius,i=0;i<t.length;i++)t[i].x=e+l*Math.cos(s),t[i].y=n+l*Math.sin(s),s+=r;return t};o.exports=g},95253:o=>{var g=function(t,a,v,h){v===void 0&&(v=0),h===void 0&&(h=6.28);for(var s=v,r=(h-v)/t.length,e=a.width/2,n=a.height/2,l=0;l<t.length;l++)t[l].x=a.x+e*Math.cos(s),t[l].y=a.y+n*Math.sin(s),s+=r;return t};o.exports=g},88505:(o,g,t)=>{var a=t(15258),v=t(26708),h=function(s,r,e){var n;e?n=v(r,e,s.length):n=a(r,s.length);for(var l=0;l<s.length;l++){var i=s[l],u=n[l];i.x=u.x,i.y=u.y}return s};o.exports=h},41346:(o,g,t)=>{var a=t(14649),v=t(86003),h=t(49498),s=function(r,e,n){n===void 0&&(n=0);var l=a(e,!1,r.length);n>0?v(l,n):n<0&&h(l,Math.abs(n));for(var i=0;i<r.length;i++)r[i].x=l[i].x,r[i].y=l[i].y;return r};o.exports=s},11575:(o,g,t)=>{var a=t(84993),v=function(h,s,r){var e=a({x1:s.x1,y1:s.y1,x2:s.x2,y2:s.y2},r),n=a({x1:s.x2,y1:s.y2,x2:s.x3,y2:s.y3},r),l=a({x1:s.x3,y1:s.y3,x2:s.x1,y2:s.y1},r);e.pop(),n.pop(),l.pop(),e=e.concat(n,l);for(var i=e.length/h.length,u=0,f=0;f<h.length;f++){var c=h[f],d=e[Math.floor(u)];c.x=d.x,c.y=d.y,u+=i}return h};o.exports=v},29953:o=>{var g=function(t,a,v){for(var h=0;h<t.length;h++){var s=t[h];s.anims&&s.anims.play(a,v)}return t};o.exports=g},66979:o=>{var g=function(t,a,v,h,s,r){h===void 0&&(h=0),s===void 0&&(s=0),r===void 0&&(r=1);var e,n=0,l=t.length;if(r===1)for(e=s;e<l;e++)t[e][a]+=v+n*h,n++;else for(e=s;e>=0;e--)t[e][a]+=v+n*h,n++;return t};o.exports=g},43967:o=>{var g=function(t,a,v,h,s,r){h===void 0&&(h=0),s===void 0&&(s=0),r===void 0&&(r=1);var e,n=0,l=t.length;if(r===1)for(e=s;e<l;e++)t[e][a]=v+n*h,n++;else for(e=s;e>=0;e--)t[e][a]=v+n*h,n++;return t};o.exports=g},88926:(o,g,t)=>{var a=t(28176),v=function(h,s){for(var r=0;r<h.length;r++)a(s,h[r]);return h};o.exports=v},33286:(o,g,t)=>{var a=t(24820),v=function(h,s){for(var r=0;r<h.length;r++)a(s,h[r]);return h};o.exports=v},96e3:(o,g,t)=>{var a=t(65822),v=function(h,s){for(var r=0;r<h.length;r++)a(s,h[r]);return h};o.exports=v},28789:(o,g,t)=>{var a=t(26597),v=function(h,s){for(var r=0;r<h.length;r++)a(s,h[r]);return h};o.exports=v},97154:(o,g,t)=>{var a=t(90260),v=function(h,s){for(var r=0;r<h.length;r++)a(s,h[r]);return h};o.exports=v},20510:(o,g,t)=>{var a=t(66979),v=function(h,s,r,e,n){return a(h,"rotation",s,r,e,n)};o.exports=v},91051:(o,g,t)=>{var a=t(1163),v=t(20339),h=function(s,r,e){for(var n=r.x,l=r.y,i=0;i<s.length;i++){var u=s[i];a(u,n,l,e,Math.max(1,v(u.x,u.y,n,l)))}return s};o.exports=h},76332:(o,g,t)=>{var a=t(1163),v=function(h,s,r,e){var n=s.x,l=s.y;if(e===0)return h;for(var i=0;i<h.length;i++)a(h[i],n,l,r,e);return h};o.exports=v},61619:(o,g,t)=>{var a=t(66979),v=function(h,s,r,e,n){return a(h,"scaleX",s,r,e,n)};o.exports=v},94868:(o,g,t)=>{var a=t(66979),v=function(h,s,r,e,n,l,i){return r==null&&(r=s),a(h,"scaleX",s,e,l,i),a(h,"scaleY",r,n,l,i)};o.exports=v},95532:(o,g,t)=>{var a=t(66979),v=function(h,s,r,e,n){return a(h,"scaleY",s,r,e,n)};o.exports=v},8689:(o,g,t)=>{var a=t(43967),v=function(h,s,r,e,n){return a(h,"alpha",s,r,e,n)};o.exports=v},2645:(o,g,t)=>{var a=t(43967),v=function(h,s,r,e){return a(h,"blendMode",s,0,r,e)};o.exports=v},32372:(o,g,t)=>{var a=t(43967),v=function(h,s,r,e,n){return a(h,"depth",s,r,e,n)};o.exports=v},85373:o=>{var g=function(t,a,v){for(var h=0;h<t.length;h++)t[h].setInteractive(a,v);return t};o.exports=g},81583:(o,g,t)=>{var a=t(43967),v=function(h,s,r,e,n,l,i){return r==null&&(r=s),a(h,"originX",s,e,l,i),a(h,"originY",r,n,l,i),h.forEach(function(u){u.updateDisplayOrigin()}),h};o.exports=v},79939:(o,g,t)=>{var a=t(43967),v=function(h,s,r,e,n){return a(h,"rotation",s,r,e,n)};o.exports=v},2699:(o,g,t)=>{var a=t(43967),v=function(h,s,r,e,n,l,i){return r==null&&(r=s),a(h,"scaleX",s,e,l,i),a(h,"scaleY",r,n,l,i)};o.exports=v},98739:(o,g,t)=>{var a=t(43967),v=function(h,s,r,e,n){return a(h,"scaleX",s,r,e,n)};o.exports=v},98476:(o,g,t)=>{var a=t(43967),v=function(h,s,r,e,n){return a(h,"scaleY",s,r,e,n)};o.exports=v},6207:(o,g,t)=>{var a=t(43967),v=function(h,s,r,e,n,l,i){return r==null&&(r=s),a(h,"scrollFactorX",s,e,l,i),a(h,"scrollFactorY",r,n,l,i)};o.exports=v},6607:(o,g,t)=>{var a=t(43967),v=function(h,s,r,e,n){return a(h,"scrollFactorX",s,r,e,n)};o.exports=v},72248:(o,g,t)=>{var a=t(43967),v=function(h,s,r,e,n){return a(h,"scrollFactorY",s,r,e,n)};o.exports=v},14036:o=>{var g=function(t,a,v,h,s){for(var r=0;r<t.length;r++)t[r].setTint(a,v,h,s);return t};o.exports=g},50159:(o,g,t)=>{var a=t(43967),v=function(h,s,r,e){return a(h,"visible",s,0,r,e)};o.exports=v},77597:(o,g,t)=>{var a=t(43967),v=function(h,s,r,e,n){return a(h,"x",s,r,e,n)};o.exports=v},83194:(o,g,t)=>{var a=t(43967),v=function(h,s,r,e,n,l,i){return r==null&&(r=s),a(h,"x",s,e,l,i),a(h,"y",r,n,l,i)};o.exports=v},67678:(o,g,t)=>{var a=t(43967),v=function(h,s,r,e,n){return a(h,"y",s,r,e,n)};o.exports=v},35850:(o,g,t)=>{var a=t(26099),v=function(h,s,r,e,n){e===void 0&&(e=0),n===void 0&&(n=new a);var l,i,u=h.length;if(u===1)l=h[0].x,i=h[0].y,h[0].x=s,h[0].y=r;else{var f=1,c=0;e===0&&(c=u-1,f=u-2),l=h[c].x,i=h[c].y,h[c].x=s,h[c].y=r;for(var d=0;d<u;d++)if(!(f>=u||f===-1)){var p=h[f],m=p.x,y=p.y;p.x=l,p.y=i,l=m,i=y,e===0?f--:f++}}return n.x=l,n.y=i,n};o.exports=v},8628:(o,g,t)=>{var a=t(33680),v=function(h){return a(h)};o.exports=v},21837:(o,g,t)=>{var a=t(7602),v=function(h,s,r,e,n){n===void 0&&(n=!1);var l=Math.abs(e-r)/h.length,i;if(n)for(i=0;i<h.length;i++)h[i][s]+=a(i*l,r,e);else for(i=0;i<h.length;i++)h[i][s]=a(i*l,r,e);return h};o.exports=v},21910:(o,g,t)=>{var a=t(54261),v=function(h,s,r,e,n){n===void 0&&(n=!1);var l=Math.abs(e-r)/h.length,i;if(n)for(i=0;i<h.length;i++)h[i][s]+=a(i*l,r,e);else for(i=0;i<h.length;i++)h[i][s]=a(i*l,r,e);return h};o.exports=v},62054:o=>{var g=function(t,a,v,h,s){if(s===void 0&&(s=!1),t.length===0)return t;if(t.length===1)return s?t[0][a]+=(h+v)/2:t[0][a]=(h+v)/2,t;var r=Math.abs(h-v)/(t.length-1),e;if(s)for(e=0;e<t.length;e++)t[e][a]+=e*r+v;else for(e=0;e<t.length;e++)t[e][a]=e*r+v;return t};o.exports=g},79815:o=>{var g=function(t){for(var a=0;a<t.length;a++)t[a].visible=!t[a].visible;return t};o.exports=g},39665:(o,g,t)=>{var a=t(15994),v=function(h,s,r){r===void 0&&(r=0);for(var e=0;e<h.length;e++){var n=h[e];n.x=a(n.x,s.left-r,s.right+r),n.y=a(n.y,s.top-r,s.bottom+r)}return h};o.exports=v},61061:(o,g,t)=>{o.exports={AlignTo:t(11517),Angle:t(80318),Call:t(60757),GetFirst:t(69927),GetLast:t(32265),GridAlign:t(94420),IncAlpha:t(41721),IncX:t(67285),IncXY:t(9074),IncY:t(75222),PlaceOnCircle:t(22983),PlaceOnEllipse:t(95253),PlaceOnLine:t(88505),PlaceOnRectangle:t(41346),PlaceOnTriangle:t(11575),PlayAnimation:t(29953),PropertyValueInc:t(66979),PropertyValueSet:t(43967),RandomCircle:t(88926),RandomEllipse:t(33286),RandomLine:t(96e3),RandomRectangle:t(28789),RandomTriangle:t(97154),Rotate:t(20510),RotateAround:t(91051),RotateAroundDistance:t(76332),ScaleX:t(61619),ScaleXY:t(94868),ScaleY:t(95532),SetAlpha:t(8689),SetBlendMode:t(2645),SetDepth:t(32372),SetHitArea:t(85373),SetOrigin:t(81583),SetRotation:t(79939),SetScale:t(2699),SetScaleX:t(98739),SetScaleY:t(98476),SetScrollFactor:t(6207),SetScrollFactorX:t(6607),SetScrollFactorY:t(72248),SetTint:t(14036),SetVisible:t(50159),SetX:t(77597),SetXY:t(83194),SetY:t(67678),ShiftPosition:t(35850),Shuffle:t(8628),SmootherStep:t(21910),SmoothStep:t(21837),Spread:t(62054),ToggleVisible:t(79815),WrapInRectangle:t(39665)}},42099:(o,g,t)=>{var a=t(45319),v=t(83419),h=t(74943),s=t(81957),r=t(41138),e=t(35154),n=t(90126),l=new v({initialize:function(u,f,c){this.manager=u,this.key=f,this.type="frame",this.frames=this.getFrames(u.textureManager,e(c,"frames",[]),e(c,"defaultTextureKey",null),e(c,"sortFrames",!0)),this.frameRate=e(c,"frameRate",null),this.duration=e(c,"duration",null),this.msPerFrame,this.skipMissedFrames=e(c,"skipMissedFrames",!0),this.delay=e(c,"delay",0),this.repeat=e(c,"repeat",0),this.repeatDelay=e(c,"repeatDelay",0),this.yoyo=e(c,"yoyo",!1),this.showBeforeDelay=e(c,"showBeforeDelay",!1),this.showOnStart=e(c,"showOnStart",!1),this.hideOnComplete=e(c,"hideOnComplete",!1),this.randomFrame=e(c,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(h.PAUSE_ALL,this.pause,this),this.manager.on(h.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(i,u,f,c){f===null&&c===null?(i.frameRate=24,i.duration=24/u*1e3):f&&c===null?(i.duration=f,i.frameRate=u/(f/1e3)):(i.frameRate=c,i.duration=u/c*1e3),i.msPerFrame=1e3/i.frameRate},addFrame:function(i){return this.addFrameAt(this.frames.length,i)},addFrameAt:function(i,u){var f=this.getFrames(this.manager.textureManager,u);if(f.length>0){if(i===0)this.frames=f.concat(this.frames);else if(i===this.frames.length)this.frames=this.frames.concat(f);else{var c=this.frames.slice(0,i),d=this.frames.slice(i);this.frames=c.concat(f,d)}this.updateFrameSequence()}return this},checkFrame:function(i){return i>=0&&i<this.frames.length},getFirstTick:function(i){i.accumulator=0,i.nextTick=i.frameRate===i.currentAnim.frameRate&&i.currentFrame.duration||i.msPerFrame},getFrameAt:function(i){return this.frames[i]},getFrames:function(i,u,f,c){c===void 0&&(c=!0);var d=[],p,m,y=1,x,C;if(typeof u=="string"){if(C=u,!i.exists(C))return console.warn('Texture "%s" not found',C),d;var E=i.get(C),R=E.getFrameNames();c&&n(R),u=[],R.forEach(function(L){u.push({key:C,frame:L})})}if(!Array.isArray(u)||u.length===0)return d;for(x=0;x<u.length;x++){var M=u[x],w=e(M,"key",f);if(w){var D=e(M,"frame",0),F=i.getFrame(w,D);if(!F){console.warn('Texture "%s" not found',w);continue}m=new r(w,D,y,F),m.duration=e(M,"duration",0),m.isFirst=!p,p&&(p.nextFrame=m,m.prevFrame=p),d.push(m),p=m,y++}}if(d.length>0){m.isLast=!0,m.nextFrame=d[0],d[0].prevFrame=m;var I=1/(d.length-1);for(x=0;x<d.length;x++)d[x].progress=x*I}return d},getNextTick:function(i){i.accumulator-=i.nextTick,i.nextTick=i.frameRate===i.currentAnim.frameRate&&i.currentFrame.duration||i.msPerFrame},getFrameByProgress:function(i){return i=a(i,0,1),s(i,this.frames,"progress")},nextFrame:function(i){var u=i.currentFrame;u.isLast?i.yoyo?this.handleYoyoFrame(i,!1):i.repeatCounter>0?i.inReverse&&i.forward?i.forward=!1:this.repeatAnimation(i):i.complete():this.updateAndGetNextTick(i,u.nextFrame)},handleYoyoFrame:function(i,u){if(u||(u=!1),i.inReverse===!u&&i.repeatCounter>0){(i.repeatDelay===0||i.pendingRepeat)&&(i.forward=u),this.repeatAnimation(i);return}if(i.inReverse!==u&&i.repeatCounter===0){i.complete();return}i.forward=u;var f=u?i.currentFrame.nextFrame:i.currentFrame.prevFrame;this.updateAndGetNextTick(i,f)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(i){var u=i.currentFrame;u.isFirst?i.yoyo?this.handleYoyoFrame(i,!0):i.repeatCounter>0?i.inReverse&&!i.forward?this.repeatAnimation(i):(i.forward=!0,this.repeatAnimation(i)):i.complete():this.updateAndGetNextTick(i,u.prevFrame)},updateAndGetNextTick:function(i,u){i.setCurrentFrame(u),this.getNextTick(i)},removeFrame:function(i){var u=this.frames.indexOf(i);return u!==-1&&this.removeFrameAt(u),this},removeFrameAt:function(i){return this.frames.splice(i,1),this.updateFrameSequence(),this},repeatAnimation:function(i){if(i._pendingStop===2){if(i._pendingStopValue===0)return i.stop();i._pendingStopValue--}i.repeatDelay>0&&!i.pendingRepeat?(i.pendingRepeat=!0,i.accumulator-=i.nextTick,i.nextTick+=i.repeatDelay):(i.repeatCounter--,i.forward?i.setCurrentFrame(i.currentFrame.nextFrame):i.setCurrentFrame(i.currentFrame.prevFrame),i.isPlaying&&(this.getNextTick(i),i.handleRepeat()))},toJSON:function(){var i={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(u){i.frames.push(u.toJSON())}),i},updateFrameSequence:function(){for(var i=this.frames.length,u=1/(i-1),f,c=0;c<i;c++)f=this.frames[c],f.index=c+1,f.isFirst=!1,f.isLast=!1,f.progress=c*u,c===0?(f.isFirst=!0,i===1?(f.isLast=!0,f.nextFrame=f,f.prevFrame=f):(f.isLast=!1,f.prevFrame=this.frames[i-1],f.nextFrame=this.frames[c+1])):c===i-1&&i>1?(f.isLast=!0,f.prevFrame=this.frames[i-2],f.nextFrame=this.frames[0]):i>1&&(f.prevFrame=this.frames[c-1],f.nextFrame=this.frames[c+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(h.PAUSE_ALL,this.pause,this),this.manager.off(h.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var i=0;i<this.frames.length;i++)this.frames[i].destroy();this.frames=[],this.manager=null}});o.exports=l},41138:(o,g,t)=>{var a=t(83419),v=new a({initialize:function(s,r,e,n,l){l===void 0&&(l=!1),this.textureKey=s,this.textureFrame=r,this.index=e,this.frame=n,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=l},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});o.exports=v},60848:(o,g,t)=>{var a=t(42099),v=t(83419),h=t(90330),s=t(50792),r=t(74943),e=t(8443),n=t(95540),l=t(35154),i=t(36383),u=t(20283),f=t(41836),c=new v({Extends:s,initialize:function(p){s.call(this),this.game=p,this.textureManager=null,this.globalTimeScale=1,this.anims=new h,this.mixes=new h,this.paused=!1,this.name="AnimationManager",p.events.once(e.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(e.DESTROY,this.destroy,this)},addMix:function(d,p,m){var y=this.anims,x=this.mixes,C=typeof d=="string"?d:d.key,E=typeof p=="string"?p:p.key;if(y.has(C)&&y.has(E)){var R=x.get(C);R||(R={}),R[E]=m,x.set(C,R)}return this},removeMix:function(d,p){var m=this.mixes,y=typeof d=="string"?d:d.key,x=m.get(y);if(x)if(p){var C=typeof p=="string"?p:p.key;x.hasOwnProperty(C)&&delete x[C]}else p||m.delete(y);return this},getMix:function(d,p){var m=this.mixes,y=typeof d=="string"?d:d.key,x=typeof p=="string"?p:p.key,C=m.get(y);return C&&C.hasOwnProperty(x)?C[x]:0},add:function(d,p){return this.anims.has(d)?(console.warn("Animation key exists: "+d),this):(p.key=d,this.anims.set(d,p),this.emit(r.ADD_ANIMATION,d,p),this)},exists:function(d){return this.anims.has(d)},createFromAseprite:function(d,p,m){var y=[],x=this.game.cache.json.get(d);if(!x)return console.warn("No Aseprite data found for: "+d),y;var C=this,E=l(x,"meta",null),R=l(x,"frames",null);if(E&&R){var M=l(E,"frameTags",[]);M.forEach(function(w){var D=[],F=n(w,"name",null),I=n(w,"from",0),L=n(w,"to",0),B=n(w,"direction","forward");if(F&&(!p||p&&p.indexOf(F)>-1)){for(var G=0,V=I;V<=L;V++){var X=V.toString(),b=R[X];if(b){var U=n(b,"duration",i.MAX_SAFE_INTEGER);D.push({key:d,frame:X,duration:U}),G+=U}}B==="reverse"&&(D=D.reverse());var O={key:F,frames:D,duration:G,yoyo:B==="pingpong"},z;m?m.anims&&(z=m.anims.create(O)):z=C.create(O),z&&y.push(z)}})}return y},create:function(d){var p=d.key,m=!1;return p&&(m=this.get(p),m?console.warn("AnimationManager key already exists: "+p):(m=new a(this,p,d),this.anims.set(p,m),this.emit(r.ADD_ANIMATION,p,m))),m},fromJSON:function(d,p){p===void 0&&(p=!1),p&&this.anims.clear(),typeof d=="string"&&(d=JSON.parse(d));var m=[];if(d.hasOwnProperty("anims")&&Array.isArray(d.anims)){for(var y=0;y<d.anims.length;y++)m.push(this.create(d.anims[y]));d.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=d.globalTimeScale)}else d.hasOwnProperty("key")&&d.type==="frame"&&m.push(this.create(d));return m},generateFrameNames:function(d,p){var m=l(p,"prefix",""),y=l(p,"start",0),x=l(p,"end",0),C=l(p,"suffix",""),E=l(p,"zeroPad",0),R=l(p,"outputArray",[]),M=l(p,"frames",!1);if(!this.textureManager.exists(d))return console.warn('Texture "%s" not found',d),R;var w=this.textureManager.get(d);if(!w)return R;var D;if(p)for(M||(M=u(y,x)),D=0;D<M.length;D++){var F=m+f(M[D],E,"0",1)+C;w.has(F)?R.push({key:d,frame:F}):console.warn('Frame "%s" not found in texture "%s"',F,d)}else for(M=w.getFrameNames(),D=0;D<M.length;D++)R.push({key:d,frame:M[D]});return R},generateFrameNumbers:function(d,p){var m=l(p,"start",0),y=l(p,"end",-1),x=l(p,"first",!1),C=l(p,"outputArray",[]),E=l(p,"frames",!1);if(!this.textureManager.exists(d))return console.warn('Texture "%s" not found',d),C;var R=this.textureManager.get(d);if(!R)return C;x&&R.has(x)&&C.push({key:d,frame:x}),E||(y===-1&&(y=R.frameTotal-2),E=u(m,y));for(var M=0;M<E.length;M++){var w=E[M];R.has(w)?C.push({key:d,frame:w}):console.warn('Frame "%s" not found in texture "%s"',w,d)}return C},get:function(d){return this.anims.get(d)},getAnimsFromTexture:function(d){for(var p=this.textureManager.get(d),m=p.key,y=this.anims.getArray(),x=[],C=0;C<y.length;C++)for(var E=y[C],R=E.frames,M=0;M<R.length;M++)if(R[M].textureKey===m){x.push(E.key);break}return x},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(r.PAUSE_ALL)),this},play:function(d,p){Array.isArray(p)||(p=[p]);for(var m=0;m<p.length;m++)p[m].anims.play(d);return this},staggerPlay:function(d,p,m,y){m===void 0&&(m=0),y===void 0&&(y=!0),Array.isArray(p)||(p=[p]);var x=p.length;y||x--;for(var C=0;C<p.length;C++){var E=m<0?Math.abs(m)*(x-C):m*C;p[C].anims.playAfterDelay(d,E)}return this},remove:function(d){var p=this.get(d);return p&&(this.emit(r.REMOVE_ANIMATION,d,p),this.anims.delete(d),this.removeMix(d)),p},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(r.RESUME_ALL)),this},toJSON:function(d){var p={anims:[],globalTimeScale:this.globalTimeScale};return d!==void 0&&d!==""?p.anims.push(this.anims.get(d).toJSON()):this.anims.each(function(m,y){p.anims.push(y.toJSON())}),p},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});o.exports=c},9674:(o,g,t)=>{var a=t(42099),v=t(30976),h=t(83419),s=t(90330),r=t(74943),e=t(95540),n=new h({initialize:function(i){this.parent=i,this.animationManager=i.scene.sys.anims,this.animationManager.on(r.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(l){var i=this.parent;if(l===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,i;Array.isArray(l)||(l=[l]);for(var u=0;u<l.length;u++){var f=l[u];this.nextAnim?this.nextAnimsQueue.push(f):this.nextAnim=f}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(l){this.isPlaying&&this.stop();var i=this.animationManager,u=typeof l=="string"?l:e(l,"key",null),f=this.exists(u)?this.get(u):i.get(u);if(!f)console.warn("Missing animation: "+u);else{this.currentAnim=f;var c=f.getTotalFrames(),d=e(l,"frameRate",f.frameRate),p=e(l,"duration",f.duration);f.calculateDuration(this,c,p,d),this.delay=e(l,"delay",f.delay),this.repeat=e(l,"repeat",f.repeat),this.repeatDelay=e(l,"repeatDelay",f.repeatDelay),this.yoyo=e(l,"yoyo",f.yoyo),this.showBeforeDelay=e(l,"showBeforeDelay",f.showBeforeDelay),this.showOnStart=e(l,"showOnStart",f.showOnStart),this.hideOnComplete=e(l,"hideOnComplete",f.hideOnComplete),this.skipMissedFrames=e(l,"skipMissedFrames",f.skipMissedFrames),this.randomFrame=e(l,"randomFrame",f.randomFrame),this.timeScale=e(l,"timeScale",this.timeScale);var m=e(l,"startFrame",0);m>c&&(m=0),this.randomFrame&&(m=v(0,c-1));var y=f.frames[m];m===0&&!this.forward&&(y=f.getLastFrame()),this.currentFrame=y}return this.parent},pause:function(l){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),l!==void 0&&this.setCurrentFrame(l),this.parent},resume:function(l){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),l!==void 0&&this.setCurrentFrame(l),this.parent},playAfterDelay:function(l,i){if(!this.isPlaying)this.delayCounter=i,this.play(l,!0);else{var u=this.nextAnim,f=this.nextAnimsQueue;u&&f.unshift(u),this.nextAnim=l,this._pendingStop=1,this._pendingStopValue=i}return this.parent},playAfterRepeat:function(l,i){if(i===void 0&&(i=1),!this.isPlaying)this.play(l);else{var u=this.nextAnim,f=this.nextAnimsQueue;u&&f.unshift(u),this.repeatCounter!==-1&&i>this.repeatCounter&&(i=this.repeatCounter),this.nextAnim=l,this._pendingStop=2,this._pendingStopValue=i}return this.parent},play:function(l,i){i===void 0&&(i=!1);var u=this.currentAnim,f=this.parent,c=typeof l=="string"?l:l.key;if(i&&this.isPlaying&&u.key===c)return f;if(u&&this.isPlaying){var d=this.animationManager.getMix(u.key,l);if(d>0)return this.playAfterDelay(l,d)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(l)},playReverse:function(l,i){i===void 0&&(i=!1);var u=typeof l=="string"?l:l.key;return i&&this.isPlaying&&this.currentAnim.key===u?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(l))},startAnimation:function(l){this.load(l);var i=this.currentAnim,u=this.parent;return i&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,i.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),u},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(r.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(r.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(r.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(r.ANIMATION_COMPLETE,r.ANIMATION_COMPLETE_KEY)},emitEvents:function(l,i){var u=this.currentAnim;if(u){var f=this.currentFrame,c=this.parent,d=f.textureFrame;c.emit(l,u,f,c,d),i&&c.emit(i+u.key,u,f,c,d)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var l=this.currentFrame;if(!l)return 0;var i=l.progress;return this.inReverse&&(i*=-1),i},setProgress:function(l){return this.forward||(l=1-l),this.setCurrentFrame(this.currentAnim.getFrameByProgress(l)),this.parent},setRepeat:function(l){return this.repeatCounter=l===-1?Number.MAX_VALUE:l,this.parent},globalRemove:function(l,i){i===void 0&&(i=this.currentAnim),this.isPlaying&&i.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(l,i){l===void 0&&(l=!1),i===void 0&&(i=!1);var u=this.currentAnim,f=this.parent;return u?(i&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),u.getFirstTick(this),this.emitEvents(r.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!l,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(u.frames[0]),this.parent):f},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var l=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(l)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var l=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(l)}return this.parent},stopAfterDelay:function(l){return this._pendingStop=1,this._pendingStopValue=l,this.parent},stopAfterRepeat:function(l){return l===void 0&&(l=1),this.repeatCounter!==-1&&l>this.repeatCounter&&(l=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=l,this.parent},stopOnFrame:function(l){return this._pendingStop=3,this._pendingStopValue=l,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(l,i){var u=this.currentAnim;if(!(!this.isPlaying||!u||u.paused)){if(this.accumulator+=i*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=i,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?u.nextFrame(this):u.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var f=0;do this.forward?u.nextFrame(this):u.previousFrame(this),f++;while(this.isPlaying&&this.accumulator>this.nextTick&&f<60)}}},setCurrentFrame:function(l){var i=this.parent;return this.currentFrame=l,i.texture=l.frame.texture,i.frame=l.frame,i.isCropped&&i.frame.updateCropUVs(i._crop,i.flipX,i.flipY),l.setAlpha&&(i.alpha=l.alpha),i.setSizeToFrame(),i._originComponent&&(l.frame.customPivot?i.setOrigin(l.frame.pivotX,l.frame.pivotY):i.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(r.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===l&&this.stop()),i},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(l){return this.anims?this.anims.get(l):null},exists:function(l){return this.anims?this.anims.has(l):!1},create:function(l){var i=l.key,u=!1;return i&&(u=this.get(i),u?console.warn("Animation key already exists: "+i):(u=new a(this,i,l),this.anims||(this.anims=new s),this.anims.set(i,u))),u},createFromAseprite:function(l,i){return this.animationManager.createFromAseprite(l,i,this.parent)},generateFrameNames:function(l,i){return this.animationManager.generateFrameNames(l,i)},generateFrameNumbers:function(l,i){return this.animationManager.generateFrameNumbers(l,i)},remove:function(l){var i=this.get(l);return i&&(this.currentAnim===i&&this.stop(),this.anims.delete(l)),i},destroy:function(){this.animationManager.off(r.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});o.exports=n},57090:o=>{o.exports="add"},25312:o=>{o.exports="animationcomplete"},89580:o=>{o.exports="animationcomplete-"},52860:o=>{o.exports="animationrepeat"},63850:o=>{o.exports="animationrestart"},99085:o=>{o.exports="animationstart"},28087:o=>{o.exports="animationstop"},1794:o=>{o.exports="animationupdate"},52562:o=>{o.exports="pauseall"},57953:o=>{o.exports="remove"},68339:o=>{o.exports="resumeall"},74943:(o,g,t)=>{o.exports={ADD_ANIMATION:t(57090),ANIMATION_COMPLETE:t(25312),ANIMATION_COMPLETE_KEY:t(89580),ANIMATION_REPEAT:t(52860),ANIMATION_RESTART:t(63850),ANIMATION_START:t(99085),ANIMATION_STOP:t(28087),ANIMATION_UPDATE:t(1794),PAUSE_ALL:t(52562),REMOVE_ANIMATION:t(57953),RESUME_ALL:t(68339)}},60421:(o,g,t)=>{o.exports={Animation:t(42099),AnimationFrame:t(41138),AnimationManager:t(60848),AnimationState:t(9674),Events:t(74943)}},2161:(o,g,t)=>{var a=t(83419),v=t(90330),h=t(50792),s=t(24736),r=new a({initialize:function(){this.entries=new v,this.events=new h},add:function(e,n){return this.entries.set(e,n),this.events.emit(s.ADD,this,e,n),this},has:function(e){return this.entries.has(e)},exists:function(e){return this.entries.has(e)},get:function(e){return this.entries.get(e)},remove:function(e){var n=this.get(e);return n&&(this.entries.delete(e),this.events.emit(s.REMOVE,this,e,n.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});o.exports=r},24047:(o,g,t)=>{var a=t(2161),v=t(83419),h=t(8443),s=new v({initialize:function(e){this.game=e,this.binary=new a,this.bitmapFont=new a,this.json=new a,this.physics=new a,this.shader=new a,this.audio=new a,this.video=new a,this.text=new a,this.html=new a,this.obj=new a,this.tilemap=new a,this.xml=new a,this.custom={},this.game.events.once(h.DESTROY,this.destroy,this)},addCustom:function(r){return this.custom.hasOwnProperty(r)||(this.custom[r]=new a),this.custom[r]},destroy:function(){for(var r=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],e=0;e<r.length;e++)this[r[e]].destroy(),this[r[e]]=null;for(var n in this.custom)this.custom[n].destroy();this.custom=null,this.game=null}});o.exports=s},51464:o=>{o.exports="add"},59261:o=>{o.exports="remove"},24736:(o,g,t)=>{o.exports={ADD:t(51464),REMOVE:t(59261)}},83388:(o,g,t)=>{o.exports={BaseCache:t(2161),CacheManager:t(24047),Events:t(24736)}},71911:(o,g,t)=>{var a=t(83419),v=t(31401),h=t(39506),s=t(50792),r=t(19715),e=t(87841),n=t(61340),l=t(80333),i=t(26099),u=new a({Extends:s,Mixins:[v.AlphaSingle,v.Visible],initialize:function(c,d,p,m){c===void 0&&(c=0),d===void 0&&(d=0),p===void 0&&(p=0),m===void 0&&(m=0),s.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new e,this.dirty=!0,this._x=c,this._y=d,this._width=p,this._height=m,this._bounds=new e,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new n,this.transparent=!0,this.backgroundColor=l("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new i(p/2,m/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0,this.renderRoundPixels=!0},addToRenderList:function(f){this.renderList.push(f)},setOrigin:function(f,c){return f===void 0&&(f=.5),c===void 0&&(c=f),this.originX=f,this.originY=c,this},getScroll:function(f,c,d){d===void 0&&(d=new i);var p=this.width*.5,m=this.height*.5;return d.x=f-p,d.y=c-m,this.useBounds&&(d.x=this.clampX(d.x),d.y=this.clampY(d.y)),d},centerOnX:function(f){var c=this.width*.5;return this.midPoint.x=f,this.scrollX=f-c,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(f){var c=this.height*.5;return this.midPoint.y=f,this.scrollY=f-c,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(f,c){return this.centerOnX(f),this.centerOnY(c),this},centerToBounds:function(){if(this.useBounds){var f=this._bounds,c=this.width*.5,d=this.height*.5;this.midPoint.set(f.centerX,f.centerY),this.scrollX=f.centerX-c,this.scrollY=f.centerY-d}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(f){if(this.disableCull)return f;var c=this.matrix.matrix,d=c[0],p=c[1],m=c[2],y=c[3],x=d*y-p*m;if(!x)return f;var C=c[4],E=c[5],R=this.scrollX,M=this.scrollY,w=this.width,D=this.height,F=this.y,I=F+D,L=this.x,B=L+w,G=this.culledObjects,V=f.length;x=1/x,G.length=0;for(var X=0;X<V;++X){var b=f[X];if(!b.hasOwnProperty("width")||b.parentContainer){G.push(b);continue}var U=b.width,O=b.height,z=b.x-R*b.scrollFactorX-U*b.originX,N=b.y-M*b.scrollFactorY-O*b.originY,Y=z*d+N*m+C,W=z*p+N*y+E,H=(z+U)*d+(N+O)*m+C,$=(z+U)*p+(N+O)*y+E;H>L&&Y<B&&$>F&&W<I&&G.push(b)}return G},getWorldPoint:function(f,c,d){d===void 0&&(d=new i);var p=this.matrix.matrix,m=p[0],y=p[1],x=p[2],C=p[3],E=p[4],R=p[5],M=m*C-y*x;if(!M)return d.x=f,d.y=c,d;M=1/M;var w=C*M,D=-y*M,F=-x*M,I=m*M,L=(x*R-C*E)*M,B=(y*E-m*R)*M,G=Math.cos(this.rotation),V=Math.sin(this.rotation),X=this.zoomX,b=this.zoomY,U=this.scrollX,O=this.scrollY,z=f+(U*G-O*V)*X,N=c+(U*V+O*G)*b;return d.x=z*w+N*F+L,d.y=z*D+N*I+B,d},ignore:function(f){var c=this.id;Array.isArray(f)||(f=[f]);for(var d=0;d<f.length;d++){var p=f[d];Array.isArray(p)?this.ignore(p):p.isParent?this.ignore(p.getChildren()):p.cameraFilter|=c}return this},clampX:function(f){var c=this._bounds,d=this.displayWidth,p=c.x+(d-this.width)/2,m=Math.max(p,p+c.width-d);return f<p?f=p:f>m&&(f=m),f},clampY:function(f){var c=this._bounds,d=this.displayHeight,p=c.y+(d-this.height)/2,m=Math.max(p,p+c.height-d);return f<p?f=p:f>m&&(f=m),f},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(f){return f===void 0&&(f=0),this.rotation=h(f),this},setBackgroundColor:function(f){return f===void 0&&(f="rgba(0,0,0,0)"),this.backgroundColor=l(f),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(f,c,d,p,m){return m===void 0&&(m=!1),this._bounds.setTo(f,c,d,p),this.dirty=!0,this.useBounds=!0,m?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(f){f===void 0&&(f=new e);var c=this._bounds;return f.setTo(c.x,c.y,c.width,c.height),f},setName:function(f){return f===void 0&&(f=""),this.name=f,this},setPosition:function(f,c){return c===void 0&&(c=f),this.x=f,this.y=c,this},setRotation:function(f){return f===void 0&&(f=0),this.rotation=f,this},setRoundPixels:function(f){return this.roundPixels=f,this},setScene:function(f,c){c===void 0&&(c=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=f,this.isSceneCamera=c;var d=f.sys;return this.sceneManager=d.game.scene,this.scaleManager=d.scale,this.cameraManager=d.cameras,this.updateSystem(),this},setScroll:function(f,c){return c===void 0&&(c=f),this.scrollX=f,this.scrollY=c,this},setSize:function(f,c){return c===void 0&&(c=f),this.width=f,this.height=c,this},setViewport:function(f,c,d,p){return this.x=f,this.y=c,this.width=d,this.height=p,this},setZoom:function(f,c){return f===void 0&&(f=1),c===void 0&&(c=f),f===0&&(f=.001),c===0&&(c=.001),this.zoomX=f,this.zoomY=c,this},setMask:function(f,c){return c===void 0&&(c=!0),this.mask=f,this._maskCamera=c?this.cameraManager.default:this,this},clearMask:function(f){return f===void 0&&(f=!1),f&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var f={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(f.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),f},update:function(){},setIsSceneCamera:function(f){return this.isSceneCamera=f,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var f=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,c=this.sceneManager;f&&!this._customViewport?c.customViewports++:!f&&this._customViewport&&c.customViewports--,this.dirty=!0,this._customViewport=f}},destroy:function(){this.emit(r.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(f){this._x=f,this.updateSystem()}},y:{get:function(){return this._y},set:function(f){this._y=f,this.updateSystem()}},width:{get:function(){return this._width},set:function(f){this._width=f,this.updateSystem()}},height:{get:function(){return this._height},set:function(f){this._height=f,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(f){f!==this._scrollX&&(this._scrollX=f,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(f){f!==this._scrollY&&(this._scrollY=f,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(f){this._zoomX=f,this._zoomY=f,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(f){this._zoomX=f,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(f){this._zoomY=f,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(f){this._rotation=f,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});o.exports=u},38058:(o,g,t)=>{var a=t(71911),v=t(67502),h=t(45319),s=t(83419),r=t(31401),e=t(20052),n=t(19715),l=t(28915),i=t(87841),u=t(26099),f=new s({Extends:a,Mixins:[r.PostPipeline],initialize:function(d,p,m,y){a.call(this,d,p,m,y),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new e.Fade(this),this.flashEffect=new e.Flash(this),this.shakeEffect=new e.Shake(this),this.panEffect=new e.Pan(this),this.rotateToEffect=new e.RotateTo(this),this.zoomEffect=new e.Zoom(this),this.lerp=new u(1,1),this.followOffset=new u,this.deadzone=null,this._follow=null},setDeadzone:function(c,d){if(c===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=c,this.deadzone.height=d):this.deadzone=new i(0,0,c,d),this._follow){var p=this.width/2,m=this.height/2,y=this._follow.x-this.followOffset.x,x=this._follow.y-this.followOffset.y;this.midPoint.set(y,x),this.scrollX=y-p,this.scrollY=x-m}v(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(c,d,p,m,y,x){return this.fadeEffect.start(!1,c,d,p,m,!0,y,x)},fadeOut:function(c,d,p,m,y,x){return this.fadeEffect.start(!0,c,d,p,m,!0,y,x)},fadeFrom:function(c,d,p,m,y,x,C){return this.fadeEffect.start(!1,c,d,p,m,y,x,C)},fade:function(c,d,p,m,y,x,C){return this.fadeEffect.start(!0,c,d,p,m,y,x,C)},flash:function(c,d,p,m,y,x,C){return this.flashEffect.start(c,d,p,m,y,x,C)},shake:function(c,d,p,m,y){return this.shakeEffect.start(c,d,p,m,y)},pan:function(c,d,p,m,y,x,C){return this.panEffect.start(c,d,p,m,y,x,C)},rotateTo:function(c,d,p,m,y,x,C){return this.rotateToEffect.start(c,d,p,m,y,x,C)},zoomTo:function(c,d,p,m,y,x){return this.zoomEffect.start(c,d,p,m,y,x)},preRender:function(){this.renderList.length=0;var c=this.width,d=this.height,p=c*.5,m=d*.5,y=this.zoomX,x=this.zoomY,C=this.matrix;this.renderRoundPixels=this.roundPixels&&Number.isInteger(y)&&Number.isInteger(x);var E=c*this.originX,R=d*this.originY,M=this._follow,w=this.deadzone,D=this.scrollX,F=this.scrollY;w&&v(w,this.midPoint.x,this.midPoint.y);var I=!1;if(M&&!this.panEffect.isRunning){var L=this.lerp,B=M.x-this.followOffset.x,G=M.y-this.followOffset.y;w?(B<w.x?D=l(D,D-(w.x-B),L.x):B>w.right&&(D=l(D,D+(B-w.right),L.x)),G<w.y?F=l(F,F-(w.y-G),L.y):G>w.bottom&&(F=l(F,F+(G-w.bottom),L.y))):(D=l(D,B-E,L.x),F=l(F,G-R,L.y)),I=!0}this.roundPixels&&(D=Math.floor(D),F=Math.floor(F)),this.useBounds&&(D=this.clampX(D),F=this.clampY(F)),this.scrollX=D,this.scrollY=F;var V=D+p,X=F+m;this.midPoint.set(V,X);var b=Math.floor(c/y+.5),U=Math.floor(d/x+.5),O=Math.floor(V-b/2+.5),z=Math.floor(X-U/2+.5);this.worldView.setTo(O,z,b,U),C.applyITRS(Math.floor(this.x+E+.5),Math.floor(this.y+R+.5),this.rotation,y,x),C.translate(-E,-R),this.shakeEffect.preRender(),I&&this.emit(n.FOLLOW_UPDATE,this,M)},setLerp:function(c,d){return c===void 0&&(c=1),d===void 0&&(d=c),this.lerp.set(c,d),this},setFollowOffset:function(c,d){return c===void 0&&(c=0),d===void 0&&(d=0),this.followOffset.set(c,d),this},startFollow:function(c,d,p,m,y,x){d===void 0&&(d=!1),p===void 0&&(p=1),m===void 0&&(m=p),y===void 0&&(y=0),x===void 0&&(x=y),this._follow=c,this.roundPixels=d,p=h(p,0,1),m=h(m,0,1),this.lerp.set(p,m),this.followOffset.set(y,x);var C=this.width/2,E=this.height/2,R=c.x-y,M=c.y-x;return this.midPoint.set(R,M),this.scrollX=R-C,this.scrollY=M-E,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(c,d){this.visible&&(this.rotateToEffect.update(c,d),this.panEffect.update(c,d),this.zoomEffect.update(c,d),this.shakeEffect.update(c,d),this.flashEffect.update(c,d),this.fadeEffect.update(c,d))},destroy:function(){this.resetFX(),a.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});o.exports=f},32743:(o,g,t)=>{var a=t(38058),v=t(83419),h=t(95540),s=t(37277),r=t(37303),e=t(97480),n=t(44594),l=new v({initialize:function(u){this.scene=u,this.systems=u.sys,this.roundPixels=u.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,u.sys.events.once(n.BOOT,this.boot,this),u.sys.events.on(n.START,this.start,this)},boot:function(){var i=this.systems;i.settings.cameras?this.fromJSON(i.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new a(0,0,i.scale.width,i.scale.height).setScene(this.scene),i.game.scale.on(e.RESIZE,this.onResize,this),this.systems.events.once(n.DESTROY,this.destroy,this)},start:function(){if(!this.main){var i=this.systems;i.settings.cameras?this.fromJSON(i.settings.cameras):this.add(),this.main=this.cameras[0]}var u=this.systems.events;u.on(n.UPDATE,this.update,this),u.once(n.SHUTDOWN,this.shutdown,this)},add:function(i,u,f,c,d,p){i===void 0&&(i=0),u===void 0&&(u=0),f===void 0&&(f=this.scene.sys.scale.width),c===void 0&&(c=this.scene.sys.scale.height),d===void 0&&(d=!1),p===void 0&&(p="");var m=new a(i,u,f,c);return m.setName(p),m.setScene(this.scene),m.setRoundPixels(this.roundPixels),m.id=this.getNextID(),this.cameras.push(m),d&&(this.main=m),m},addExisting:function(i,u){u===void 0&&(u=!1);var f=this.cameras.indexOf(i);return f===-1?(i.id=this.getNextID(),i.setRoundPixels(this.roundPixels),this.cameras.push(i),u&&(this.main=i),i):null},getNextID:function(){for(var i=this.cameras,u=1,f=0;f<32;f++){for(var c=!1,d=0;d<i.length;d++){var p=i[d];if(p&&p.id===u){c=!0;continue}}if(c)u=u<<1;else return u}return 0},getTotal:function(i){i===void 0&&(i=!1);for(var u=0,f=this.cameras,c=0;c<f.length;c++){var d=f[c];(!i||i&&d.visible)&&u++}return u},fromJSON:function(i){Array.isArray(i)||(i=[i]);for(var u=this.scene.sys.scale.width,f=this.scene.sys.scale.height,c=0;c<i.length;c++){var d=i[c],p=h(d,"x",0),m=h(d,"y",0),y=h(d,"width",u),x=h(d,"height",f),C=this.add(p,m,y,x);C.name=h(d,"name",""),C.zoom=h(d,"zoom",1),C.rotation=h(d,"rotation",0),C.scrollX=h(d,"scrollX",0),C.scrollY=h(d,"scrollY",0),C.roundPixels=h(d,"roundPixels",!1),C.visible=h(d,"visible",!0);var E=h(d,"backgroundColor",!1);E&&C.setBackgroundColor(E);var R=h(d,"bounds",null);if(R){var M=h(R,"x",0),w=h(R,"y",0),D=h(R,"width",u),F=h(R,"height",f);C.setBounds(M,w,D,F)}}return this},getCamera:function(i){for(var u=this.cameras,f=0;f<u.length;f++)if(u[f].name===i)return u[f];return null},getCamerasBelowPointer:function(i){for(var u=this.cameras,f=i.x,c=i.y,d=[],p=0;p<u.length;p++){var m=u[p];m.visible&&m.inputEnabled&&r(m,f,c)&&d.unshift(m)}return d},remove:function(i,u){u===void 0&&(u=!0),Array.isArray(i)||(i=[i]);for(var f=0,c=this.cameras,d=0;d<i.length;d++){var p=c.indexOf(i[d]);p!==-1&&(u?c[p].destroy():c[p].renderList=[],c.splice(p,1),f++)}return!this.main&&c[0]&&(this.main=c[0]),f},render:function(i,u){for(var f=this.scene,c=this.cameras,d=0;d<c.length;d++){var p=c[d];if(p.visible&&p.alpha>0){p.preRender();var m=this.getVisibleChildren(u.getChildren(),p);i.render(f,m,p)}}},getVisibleChildren:function(i,u){return i.filter(function(f){return f.willRender(u)})},resetAll:function(){for(var i=0;i<this.cameras.length;i++)this.cameras[i].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(i,u){for(var f=0;f<this.cameras.length;f++)this.cameras[f].update(i,u)},onResize:function(i,u,f,c,d){for(var p=0;p<this.cameras.length;p++){var m=this.cameras[p];m._x===0&&m._y===0&&m._width===c&&m._height===d&&m.setSize(u.width,u.height)}},resize:function(i,u){for(var f=0;f<this.cameras.length;f++)this.cameras[f].setSize(i,u)},shutdown:function(){this.main=void 0;for(var i=0;i<this.cameras.length;i++)this.cameras[i].destroy();this.cameras=[];var u=this.systems.events;u.off(n.UPDATE,this.update,this),u.off(n.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(n.START,this.start,this),this.systems.events.off(n.DESTROY,this.destroy,this),this.systems.game.scale.off(e.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});s.register("CameraManager",l,"cameras"),o.exports=l},5020:(o,g,t)=>{var a=t(45319),v=t(83419),h=t(19715),s=new v({initialize:function(e){this.camera=e,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(r,e,n,l,i,u,f,c){if(r===void 0&&(r=!0),e===void 0&&(e=1e3),n===void 0&&(n=0),l===void 0&&(l=0),i===void 0&&(i=0),u===void 0&&(u=!1),f===void 0&&(f=null),c===void 0&&(c=this.camera.scene),!u&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=e,this.direction=r,this.progress=0,this.red=n,this.green=l,this.blue=i,this.alpha=r?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=f,this._onUpdateScope=c;var d=r?h.FADE_OUT_START:h.FADE_IN_START;return this.camera.emit(d,this.camera,this,e,n,l,i),this.camera},update:function(r,e){this.isRunning&&(this._elapsed+=e,this.progress=a(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(r){if(!this.isRunning&&!this.isComplete)return!1;var e=this.camera;return r.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",r.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(r,e){if(!this.isRunning&&!this.isComplete)return!1;var n=this.camera,l=this.red/255,i=this.green/255,u=this.blue/255;return r.drawFillRect(n.x,n.y,n.width,n.height,e(u,i,l,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var r=this.direction?h.FADE_OUT_COMPLETE:h.FADE_IN_COMPLETE;this.camera.emit(r,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});o.exports=s},10662:(o,g,t)=>{var a=t(45319),v=t(83419),h=t(19715),s=new v({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(r,e,n,l,i,u,f){return r===void 0&&(r=250),e===void 0&&(e=255),n===void 0&&(n=255),l===void 0&&(l=255),i===void 0&&(i=!1),u===void 0&&(u=null),f===void 0&&(f=this.camera.scene),!i&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=r,this.progress=0,this.red=e,this.green=n,this.blue=l,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=u,this._onUpdateScope=f,this.camera.emit(h.FLASH_START,this.camera,this,r,e,n,l),this.camera)},update:function(r,e){this.isRunning&&(this._elapsed+=e,this.progress=a(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(r){if(!this.isRunning)return!1;var e=this.camera;return r.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",r.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(r,e){if(!this.isRunning)return!1;var n=this.camera,l=this.red/255,i=this.green/255,u=this.blue/255;return r.drawFillRect(n.x,n.y,n.width,n.height,e(u,i,l,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(h.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});o.exports=s},20359:(o,g,t)=>{var a=t(45319),v=t(83419),h=t(62640),s=t(19715),r=t(26099),e=new v({initialize:function(l){this.camera=l,this.isRunning=!1,this.duration=0,this.source=new r,this.current=new r,this.destination=new r,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(n,l,i,u,f,c,d){i===void 0&&(i=1e3),u===void 0&&(u=h.Linear),f===void 0&&(f=!1),c===void 0&&(c=null),d===void 0&&(d=this.camera.scene);var p=this.camera;return!f&&this.isRunning||(this.isRunning=!0,this.duration=i,this.progress=0,this.source.set(p.scrollX,p.scrollY),this.destination.set(n,l),p.getScroll(n,l,this.current),typeof u=="string"&&h.hasOwnProperty(u)?this.ease=h[u]:typeof u=="function"&&(this.ease=u),this._elapsed=0,this._onUpdate=c,this._onUpdateScope=d,this.camera.emit(s.PAN_START,this.camera,this,i,n,l)),p},update:function(n,l){if(this.isRunning){this._elapsed+=l;var i=a(this._elapsed/this.duration,0,1);this.progress=i;var u=this.camera;if(this._elapsed<this.duration){var f=this.ease(i);u.getScroll(this.destination.x,this.destination.y,this.current);var c=this.source.x+(this.current.x-this.source.x)*f,d=this.source.y+(this.current.y-this.source.y)*f;u.setScroll(c,d),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,u,i,c,d)}else u.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,u,i,u.scrollX,u.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(s.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});o.exports=e},34208:(o,g,t)=>{var a=t(45319),v=t(83419),h=t(19715),s=t(62640),r=new v({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(e,n,l,i,u,f,c){l===void 0&&(l=1e3),i===void 0&&(i=s.Linear),u===void 0&&(u=!1),f===void 0&&(f=null),c===void 0&&(c=this.camera.scene),n===void 0&&(n=!1),this.shortestPath=n;var d=e;e<0?(d=-1*e,this.clockwise=!1):this.clockwise=!0;var p=360*Math.PI/180;d=d-Math.floor(d/p)*p;var m=this.camera;if(!u&&this.isRunning)return m;if(this.isRunning=!0,this.duration=l,this.progress=0,this.source=m.rotation,this.destination=d,typeof i=="string"&&s.hasOwnProperty(i)?this.ease=s[i]:typeof i=="function"&&(this.ease=i),this._elapsed=0,this._onUpdate=f,this._onUpdateScope=c,this.shortestPath){var y=0,x=0;this.destination>this.source?y=Math.abs(this.destination-this.source):y=Math.abs(this.destination+p)-this.source,this.source>this.destination?x=Math.abs(this.source-this.destination):x=Math.abs(this.source+p)-this.destination,y<x?this.clockwise=!0:y>x&&(this.clockwise=!1)}return this.camera.emit(h.ROTATE_START,this.camera,this,l,d),m},update:function(e,n){if(this.isRunning){this._elapsed+=n;var l=a(this._elapsed/this.duration,0,1);this.progress=l;var i=this.camera;if(this._elapsed<this.duration){var u=this.ease(l);this.current=i.rotation;var f=0,c=360*Math.PI/180,d=this.destination,p=this.current;this.clockwise===!1&&(d=this.current,p=this.destination),d>=p?f=Math.abs(d-p):f=Math.abs(d+c)-p;var m=0;this.clockwise?m=i.rotation+f*u:m=i.rotation-f*u,i.rotation=m,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,i,l,m)}else i.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,i,l,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(h.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});o.exports=r},30330:(o,g,t)=>{var a=t(45319),v=t(83419),h=t(19715),s=t(26099),r=new v({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.intensity=new s,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(e,n,l,i,u){return e===void 0&&(e=100),n===void 0&&(n=.05),l===void 0&&(l=!1),i===void 0&&(i=null),u===void 0&&(u=this.camera.scene),!l&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=e,this.progress=0,typeof n=="number"?this.intensity.set(n):this.intensity.set(n.x,n.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=i,this._onUpdateScope=u,this.camera.emit(h.SHAKE_START,this.camera,this,e,n),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(e,n){if(this.isRunning)if(this._elapsed+=n,this.progress=a(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var l=this.intensity,i=this.camera.width,u=this.camera.height,f=this.camera.zoom;this._offsetX=(Math.random()*l.x*i*2-l.x*i)*f,this._offsetY=(Math.random()*l.y*u*2-l.y*u)*f,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(h.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});o.exports=r},45641:(o,g,t)=>{var a=t(45319),v=t(83419),h=t(62640),s=t(19715),r=new v({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(e,n,l,i,u,f){n===void 0&&(n=1e3),l===void 0&&(l=h.Linear),i===void 0&&(i=!1),u===void 0&&(u=null),f===void 0&&(f=this.camera.scene);var c=this.camera;return!i&&this.isRunning||(this.isRunning=!0,this.duration=n,this.progress=0,this.source=c.zoom,this.destination=e,typeof l=="string"&&h.hasOwnProperty(l)?this.ease=h[l]:typeof l=="function"&&(this.ease=l),this._elapsed=0,this._onUpdate=u,this._onUpdateScope=f,this.camera.emit(s.ZOOM_START,this.camera,this,n,e)),c},update:function(e,n){this.isRunning&&(this._elapsed+=n,this.progress=a(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(s.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});o.exports=r},20052:(o,g,t)=>{o.exports={Fade:t(5020),Flash:t(10662),Pan:t(20359),Shake:t(30330),RotateTo:t(34208),Zoom:t(45641)}},16438:o=>{o.exports="cameradestroy"},32726:o=>{o.exports="camerafadeincomplete"},87807:o=>{o.exports="camerafadeinstart"},45917:o=>{o.exports="camerafadeoutcomplete"},95666:o=>{o.exports="camerafadeoutstart"},47056:o=>{o.exports="cameraflashcomplete"},91261:o=>{o.exports="cameraflashstart"},45047:o=>{o.exports="followupdate"},81927:o=>{o.exports="camerapancomplete"},74264:o=>{o.exports="camerapanstart"},54419:o=>{o.exports="postrender"},79330:o=>{o.exports="prerender"},93183:o=>{o.exports="camerarotatecomplete"},80112:o=>{o.exports="camerarotatestart"},62252:o=>{o.exports="camerashakecomplete"},86017:o=>{o.exports="camerashakestart"},539:o=>{o.exports="camerazoomcomplete"},51892:o=>{o.exports="camerazoomstart"},19715:(o,g,t)=>{o.exports={DESTROY:t(16438),FADE_IN_COMPLETE:t(32726),FADE_IN_START:t(87807),FADE_OUT_COMPLETE:t(45917),FADE_OUT_START:t(95666),FLASH_COMPLETE:t(47056),FLASH_START:t(91261),FOLLOW_UPDATE:t(45047),PAN_COMPLETE:t(81927),PAN_START:t(74264),POST_RENDER:t(54419),PRE_RENDER:t(79330),ROTATE_COMPLETE:t(93183),ROTATE_START:t(80112),SHAKE_COMPLETE:t(62252),SHAKE_START:t(86017),ZOOM_COMPLETE:t(539),ZOOM_START:t(51892)}},87969:(o,g,t)=>{o.exports={Camera:t(38058),BaseCamera:t(71911),CameraManager:t(32743),Effects:t(20052),Events:t(19715)}},63091:(o,g,t)=>{var a=t(83419),v=t(35154),h=new a({initialize:function(r){this.camera=v(r,"camera",null),this.left=v(r,"left",null),this.right=v(r,"right",null),this.up=v(r,"up",null),this.down=v(r,"down",null),this.zoomIn=v(r,"zoomIn",null),this.zoomOut=v(r,"zoomOut",null),this.zoomSpeed=v(r,"zoomSpeed",.01),this.minZoom=v(r,"minZoom",.001),this.maxZoom=v(r,"maxZoom",1e3),this.speedX=0,this.speedY=0;var e=v(r,"speed",null);typeof e=="number"?(this.speedX=e,this.speedY=e):(this.speedX=v(r,"speed.x",0),this.speedY=v(r,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(s){return this.camera=s,this},update:function(s){if(this.active){s===void 0&&(s=1);var r=this.camera;this.up&&this.up.isDown?r.scrollY-=this.speedY*s|0:this.down&&this.down.isDown&&(r.scrollY+=this.speedY*s|0),this.left&&this.left.isDown?r.scrollX-=this.speedX*s|0:this.right&&this.right.isDown&&(r.scrollX+=this.speedX*s|0),this.zoomIn&&this.zoomIn.isDown?(r.zoom-=this.zoomSpeed,r.zoom<this.minZoom&&(r.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(r.zoom+=this.zoomSpeed,r.zoom>this.maxZoom&&(r.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});o.exports=h},58818:(o,g,t)=>{var a=t(83419),v=t(35154),h=new a({initialize:function(r){this.camera=v(r,"camera",null),this.left=v(r,"left",null),this.right=v(r,"right",null),this.up=v(r,"up",null),this.down=v(r,"down",null),this.zoomIn=v(r,"zoomIn",null),this.zoomOut=v(r,"zoomOut",null),this.zoomSpeed=v(r,"zoomSpeed",.01),this.minZoom=v(r,"minZoom",.001),this.maxZoom=v(r,"maxZoom",1e3),this.accelX=0,this.accelY=0;var e=v(r,"acceleration",null);typeof e=="number"?(this.accelX=e,this.accelY=e):(this.accelX=v(r,"acceleration.x",0),this.accelY=v(r,"acceleration.y",0)),this.dragX=0,this.dragY=0;var n=v(r,"drag",null);typeof n=="number"?(this.dragX=n,this.dragY=n):(this.dragX=v(r,"drag.x",0),this.dragY=v(r,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var l=v(r,"maxSpeed",null);typeof l=="number"?(this.maxSpeedX=l,this.maxSpeedY=l):(this.maxSpeedX=v(r,"maxSpeed.x",0),this.maxSpeedY=v(r,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(s){return this.camera=s,this},update:function(s){if(this.active){s===void 0&&(s=1);var r=this.camera;this._speedX>0?(this._speedX-=this.dragX*s,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*s,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*s,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*s,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(r.scrollX-=this._speedX*s|0),this._speedY!==0&&(r.scrollY-=this._speedY*s|0),this._zoom!==0&&(r.zoom+=this._zoom,r.zoom<this.minZoom?r.zoom=this.minZoom:r.zoom>this.maxZoom&&(r.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});o.exports=h},38865:(o,g,t)=>{o.exports={FixedKeyControl:t(63091),SmoothedKeyControl:t(58818)}},26638:(o,g,t)=>{o.exports={Controls:t(38865),Scene2D:t(87969)}},8054:(o,g,t)=>{var a={VERSION:"3.90.0",LOG_VERSION:"v390",BlendModes:t(10312),ScaleModes:t(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};o.exports=a},69547:(o,g,t)=>{var a=t(83419),v=t(8054),h=t(42363),s=t(82264),r=t(95540),e=t(35154),n=t(41212),l=t(29747),i=t(75508),u=t(36060),f=t(80333),c=new a({initialize:function(p){p===void 0&&(p={});var m=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],y="#ffffff",x=e(p,"scale",null);this.width=e(x,"width",1024,p),this.height=e(x,"height",768,p),this.zoom=e(x,"zoom",1,p),this.parent=e(x,"parent",void 0,p),this.scaleMode=e(x,x?"mode":"scaleMode",0,p),this.expandParent=e(x,"expandParent",!0,p),this.autoRound=e(x,"autoRound",!1,p),this.autoCenter=e(x,"autoCenter",0,p),this.resizeInterval=e(x,"resizeInterval",500,p),this.fullscreenTarget=e(x,"fullscreenTarget",null,p),this.minWidth=e(x,"min.width",0,p),this.maxWidth=e(x,"max.width",0,p),this.minHeight=e(x,"min.height",0,p),this.maxHeight=e(x,"max.height",0,p),this.snapWidth=e(x,"snap.width",0,p),this.snapHeight=e(x,"snap.height",0,p),this.renderType=e(p,"type",v.AUTO),this.canvas=e(p,"canvas",null),this.context=e(p,"context",null),this.canvasStyle=e(p,"canvasStyle",null),this.customEnvironment=e(p,"customEnvironment",!1),this.sceneConfig=e(p,"scene",null),this.seed=e(p,"seed",[(Date.now()*Math.random()).toString()]),i.RND=new i.RandomDataGenerator(this.seed),this.gameTitle=e(p,"title",""),this.gameURL=e(p,"url","https://phaser.io/"+v.LOG_VERSION),this.gameVersion=e(p,"version",""),this.autoFocus=e(p,"autoFocus",!0),this.stableSort=e(p,"stableSort",-1),this.stableSort===-1&&(this.stableSort=s.browser.es2019?1:0),s.features.stableSort=this.stableSort,this.domCreateContainer=e(p,"dom.createContainer",!1),this.domPointerEvents=e(p,"dom.pointerEvents","none"),this.inputKeyboard=e(p,"input.keyboard",!0),this.inputKeyboardEventTarget=e(p,"input.keyboard.target",window),this.inputKeyboardCapture=e(p,"input.keyboard.capture",[]),this.inputMouse=e(p,"input.mouse",!0),this.inputMouseEventTarget=e(p,"input.mouse.target",null),this.inputMousePreventDefaultDown=e(p,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=e(p,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=e(p,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=e(p,"input.mouse.preventDefaultWheel",!0),this.inputTouch=e(p,"input.touch",s.input.touch),this.inputTouchEventTarget=e(p,"input.touch.target",null),this.inputTouchCapture=e(p,"input.touch.capture",!0),this.inputActivePointers=e(p,"input.activePointers",1),this.inputSmoothFactor=e(p,"input.smoothFactor",0),this.inputWindowEvents=e(p,"input.windowEvents",!0),this.inputGamepad=e(p,"input.gamepad",!1),this.inputGamepadEventTarget=e(p,"input.gamepad.target",window),this.disableContextMenu=e(p,"disableContextMenu",!1),this.audio=e(p,"audio",{}),this.hideBanner=e(p,"banner",null)===!1,this.hidePhaser=e(p,"banner.hidePhaser",!1),this.bannerTextColor=e(p,"banner.text",y),this.bannerBackgroundColor=e(p,"banner.background",m),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=e(p,"fps",null),this.disablePreFX=e(p,"disablePreFX",!1),this.disablePostFX=e(p,"disablePostFX",!1);var C=e(p,"render",null);this.pipeline=e(C,"pipeline",null,p),this.autoMobilePipeline=e(C,"autoMobilePipeline",!0,p),this.defaultPipeline=e(C,"defaultPipeline",u.MULTI_PIPELINE,p),this.antialias=e(C,"antialias",!0,p),this.antialiasGL=e(C,"antialiasGL",!0,p),this.mipmapFilter=e(C,"mipmapFilter","",p),this.desynchronized=e(C,"desynchronized",!1,p),this.roundPixels=e(C,"roundPixels",!1,p),this.pixelArt=e(C,"pixelArt",this.zoom!==1,p),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=e(C,"transparent",!1,p),this.clearBeforeRender=e(C,"clearBeforeRender",!0,p),this.preserveDrawingBuffer=e(C,"preserveDrawingBuffer",!1,p),this.premultipliedAlpha=e(C,"premultipliedAlpha",!0,p),this.failIfMajorPerformanceCaveat=e(C,"failIfMajorPerformanceCaveat",!1,p),this.powerPreference=e(C,"powerPreference","default",p),this.batchSize=e(C,"batchSize",4096,p),this.maxTextures=e(C,"maxTextures",-1,p),this.maxLights=e(C,"maxLights",10,p);var E=e(p,"backgroundColor",0);this.backgroundColor=f(E),this.transparent&&(this.backgroundColor=f(0),this.backgroundColor.alpha=0),this.preBoot=e(p,"callbacks.preBoot",l),this.postBoot=e(p,"callbacks.postBoot",l),this.physics=e(p,"physics",{}),this.defaultPhysicsSystem=e(this.physics,"default",!1),this.loaderBaseURL=e(p,"loader.baseURL",""),this.loaderPath=e(p,"loader.path",""),this.loaderMaxParallelDownloads=e(p,"loader.maxParallelDownloads",s.os.android?6:32),this.loaderCrossOrigin=e(p,"loader.crossOrigin",void 0),this.loaderResponseType=e(p,"loader.responseType",""),this.loaderAsync=e(p,"loader.async",!0),this.loaderUser=e(p,"loader.user",""),this.loaderPassword=e(p,"loader.password",""),this.loaderTimeout=e(p,"loader.timeout",0),this.loaderMaxRetries=e(p,"loader.maxRetries",2),this.loaderWithCredentials=e(p,"loader.withCredentials",!1),this.loaderImageLoadType=e(p,"loader.imageLoadType","XHR"),this.loaderLocalScheme=e(p,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=e(p,"fx.glow.quality",.1),this.glowFXDistance=e(p,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var R=e(p,"plugins",null),M=h.DefaultScene;R&&(Array.isArray(R)?this.defaultPlugins=R:n(R)&&(this.installGlobalPlugins=r(R,"global",[]),this.installScenePlugins=r(R,"scene",[]),Array.isArray(R.default)?M=R.default:Array.isArray(R.defaultMerge)&&(M=M.concat(R.defaultMerge)))),this.defaultPlugins=M;var w="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=e(p,"images.default",w+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=e(p,"images.missing",w+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=e(p,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=v.WEBGL:window.FORCE_CANVAS&&(this.renderType=v.CANVAS))}});o.exports=c},86054:(o,g,t)=>{var a=t(20623),v=t(27919),h=t(8054),s=t(89357),r=function(e){var n=e.config;if((n.customEnvironment||n.canvas)&&n.renderType===h.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!n.customEnvironment&&!n.canvas&&n.renderType!==h.HEADLESS)if(n.renderType===h.AUTO&&(n.renderType=s.webGL?h.WEBGL:h.CANVAS),n.renderType===h.WEBGL){if(!s.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(n.renderType===h.CANVAS){if(!s.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+n.renderType);n.antialias||v.disableSmoothing();var l=e.scale.baseSize,i=l.width,u=l.height;if(n.canvas?(e.canvas=n.canvas,e.canvas.width=i,e.canvas.height=u):e.canvas=v.create(e,i,u,n.renderType),n.canvasStyle&&(e.canvas.style=n.canvasStyle),n.antialias||a.setCrisp(e.canvas),n.renderType!==h.HEADLESS){var f,c;f=t(68627),c=t(74797),n.renderType===h.WEBGL?e.renderer=new c(e):(e.renderer=new f(e),e.context=e.renderer.gameContext)}};o.exports=r},96391:(o,g,t)=>{var a=t(8054),v=function(h){var s=h.config;if(!s.hideBanner){var r="WebGL";s.renderType===a.CANVAS?r="Canvas":s.renderType===a.HEADLESS&&(r="Headless");var e=s.audio,n=h.device.audio,l;if(n.webAudio&&!e.disableWebAudio?l="Web Audio":e.noAudio||!n.webAudio&&!n.audioData?l="No Audio":l="HTML5 Audio",h.device.browser.ie)window.console&&console.log("Phaser v"+a.VERSION+" / https://phaser.io");else{var i="",u=[i];if(Array.isArray(s.bannerBackgroundColor)){var f;s.bannerBackgroundColor.forEach(function(d){i=i.concat("%c "),u.push("background: "+d),f=d}),u[u.length-1]="color: "+s.bannerTextColor+"; background: "+f}else i=i.concat("%c "),u.push("color: "+s.bannerTextColor+"; background: "+s.bannerBackgroundColor);u.push("background: transparent"),s.gameTitle&&(i=i.concat(s.gameTitle),s.gameVersion&&(i=i.concat(" v"+s.gameVersion)),s.hidePhaser||(i=i.concat(" / ")));var c="";s.hidePhaser||(i=i.concat("Phaser v"+a.VERSION+c+" ("+r+" | "+l+")")),i=i.concat(" %c "+s.gameURL),u[0]=i,console.log.apply(console,u)}}};o.exports=v},50127:(o,g,t)=>{var a=t(40366),v=t(60848),h=t(24047),s=t(27919),r=t(83419),e=t(69547),n=t(83719),l=t(86054),i=t(45893),u=t(96391),f=t(82264),c=t(57264),d=t(50792),p=t(8443),m=t(7003),y=t(37277),x=t(77332),C=t(76531),E=t(60903),R=t(69442),M=t(17130),w=t(65898),D=t(51085),F=t(14747);if(0)var I;var L=new r({initialize:function(G){this.config=new e(G),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new d,this.anims=new v(this),this.textures=new M(this),this.cache=new h(this),this.registry=new i(this,new d),this.input=new m(this,this.config),this.scene=new E(this,this.config.sceneConfig),this.device=f,this.scale=new C(this,this.config),this.sound=null,this.sound=F.create(this),this.loop=new w(this,this.config.fps),this.plugins=new x(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,c(this.boot.bind(this))},boot:function(){if(!y.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),l(this),n(this),u(this),a(this.canvas,this.config.parent),this.textures.once(R.READY,this.texturesReady,this),this.events.emit(p.BOOT)},texturesReady:function(){this.events.emit(p.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),D(this);var B=this.events;B.on(p.HIDDEN,this.onHidden,this),B.on(p.VISIBLE,this.onVisible,this),B.on(p.BLUR,this.onBlur,this),B.on(p.FOCUS,this.onFocus,this)},step:function(B,G){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var V=this.events;V.emit(p.PRE_STEP,B,G),V.emit(p.STEP,B,G),this.scene.update(B,G),V.emit(p.POST_STEP,B,G);var X=this.renderer;X.preRender(),V.emit(p.PRE_RENDER,X,B,G),this.scene.render(X),X.postRender(),V.emit(p.POST_RENDER,X,B,G)}},headlessStep:function(B,G){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var V=this.events;V.emit(p.PRE_STEP,B,G),V.emit(p.STEP,B,G),this.scene.update(B,G),V.emit(p.POST_STEP,B,G),this.scene.isProcessing=!1,V.emit(p.PRE_RENDER,null,B,G),V.emit(p.POST_RENDER,null,B,G)}},onHidden:function(){this.loop.pause(),this.events.emit(p.PAUSE)},pause:function(){var B=this.isPaused;this.isPaused=!0,B||this.events.emit(p.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(p.RESUME,this.loop.pauseDuration)},resume:function(){var B=this.isPaused;this.isPaused=!1,B&&this.events.emit(p.RESUME,0)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(B,G){G===void 0&&(G=!1),this.pendingDestroy=!0,this.removeCanvas=B,this.noReturn=G},runDestroy:function(){this.scene.destroy(),this.events.emit(p.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(s.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});o.exports=L},65898:(o,g,t)=>{var a=t(83419),v=t(35154),h=t(29747),s=t(43092),r=new a({initialize:function(n,l){this.game=n,this.raf=new s,this.started=!1,this.running=!1,this.minFps=v(l,"min",5),this.targetFps=v(l,"target",60),this.fpsLimit=v(l,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=h,this.forceSetTimeOut=v(l,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this.pauseDuration=0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=v(l,"deltaHistory",10),this.panicMax=v(l,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=v(l,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.pauseDuration=this.time-this._pauseTime,this.startTime+=this.pauseDuration},resetDelta:function(){var e=window.performance.now();this.time=e,this.lastTime=e,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0;for(var n=0;n<this.deltaSmoothingMax;n++)this.deltaHistory[n]=Math.min(this._target,this.deltaHistory[n]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(e){if(this.started)return this;this.started=!0,this.running=!0;for(var n=0;n<this.deltaSmoothingMax;n++)this.deltaHistory[n]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=e;var l=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(l,this.forceSetTimeOut,this._target)},smoothDelta:function(e){var n=this.deltaIndex,l=this.deltaHistory,i=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,e=Math.min(e,this._target)),e>this._min&&(e=l[n],e=Math.min(e,this._min)),l[n]=e,this.deltaIndex++,this.deltaIndex>=i&&(this.deltaIndex=0);for(var u=0,f=0;f<i;f++)u+=l[f];return u/=i,u},updateFPS:function(e){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0},stepLimitFPS:function(e){this.now=e;var n=Math.max(0,e-this.lastTime);this.rawDelta=n,this.time+=this.rawDelta,this.smoothStep&&(n=this.smoothDelta(n)),this.delta+=n,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(e,this.delta),this.delta=0),this.lastTime=e,this.frame++},step:function(e){this.now=e;var n=Math.max(0,e-this.lastTime);this.rawDelta=n,this.time+=this.rawDelta,this.smoothStep&&(n=this.smoothDelta(n)),this.delta=n,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.callback(e,n),this.lastTime=e,this.frame++},tick:function(){var e=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(e):this.step(e)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(e){e===void 0&&(e=!1);var n=window.performance.now();if(!this.running){e&&(this.startTime+=-this.lastTime+(this.lastTime+n));var l=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(l,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=n+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});o.exports=r},51085:(o,g,t)=>{var a=t(8443),v=function(h){var s,r=h.events;if(document.hidden!==void 0)s="visibilitychange";else{var e=["webkit","moz","ms"];e.forEach(function(l){document[l+"Hidden"]!==void 0&&(document.hidden=function(){return document[l+"Hidden"]},s=l+"visibilitychange")})}var n=function(l){document.hidden||l.type==="pause"?r.emit(a.HIDDEN):r.emit(a.VISIBLE)};s&&document.addEventListener(s,n,!1),window.onblur=function(){r.emit(a.BLUR)},window.onfocus=function(){r.emit(a.FOCUS)},window.focus&&h.config.autoFocus&&window.focus()};o.exports=v},97217:o=>{o.exports="blur"},47548:o=>{o.exports="boot"},19814:o=>{o.exports="contextlost"},68446:o=>{o.exports="destroy"},41700:o=>{o.exports="focus"},25432:o=>{o.exports="hidden"},65942:o=>{o.exports="pause"},59211:o=>{o.exports="postrender"},47789:o=>{o.exports="poststep"},39066:o=>{o.exports="prerender"},460:o=>{o.exports="prestep"},16175:o=>{o.exports="ready"},42331:o=>{o.exports="resume"},11966:o=>{o.exports="step"},32969:o=>{o.exports="systemready"},94830:o=>{o.exports="visible"},8443:(o,g,t)=>{o.exports={BLUR:t(97217),BOOT:t(47548),CONTEXT_LOST:t(19814),DESTROY:t(68446),FOCUS:t(41700),HIDDEN:t(25432),PAUSE:t(65942),POST_RENDER:t(59211),POST_STEP:t(47789),PRE_RENDER:t(39066),PRE_STEP:t(460),READY:t(16175),RESUME:t(42331),STEP:t(11966),SYSTEM_READY:t(32969),VISIBLE:t(94830)}},42857:(o,g,t)=>{o.exports={Config:t(69547),CreateRenderer:t(86054),DebugHeader:t(96391),Events:t(8443),TimeStep:t(65898),VisibilityHandler:t(51085)}},99584:(o,g,t)=>{var a=t(5290),v=t(27919),h=t(35154),s=function(r){var e=h(r,"data",[]),n=h(r,"canvas",null),l=h(r,"palette",a),i=h(r,"pixelWidth",1),u=h(r,"pixelHeight",i),f=h(r,"resizeCanvas",!0),c=h(r,"clearCanvas",!0),d=h(r,"preRender",null),p=h(r,"postRender",null),m=Math.floor(Math.abs(e[0].length*i)),y=Math.floor(Math.abs(e.length*u));n||(n=v.create2D(this,m,y),f=!1,c=!1),f&&(n.width=m,n.height=y);var x=n.getContext("2d",{willReadFrequently:!0});c&&x.clearRect(0,0,m,y),d&&d(n,x);for(var C=0;C<e.length;C++)for(var E=e[C],R=0;R<E.length;R++){var M=E[R];M!=="."&&M!==" "&&(x.fillStyle=l[M],x.fillRect(R*i,C*u,i,u))}return p&&p(n,x),n};o.exports=s},15822:(o,g,t)=>{o.exports={GenerateTexture:t(99584),Palettes:t(57763)}},5290:o=>{o.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:o=>{o.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:o=>{o.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:o=>{o.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:o=>{o.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(o,g,t)=>{o.exports={ARNE16:t(5290),C64:t(23816),CGA:t(9866),JMP:t(77552),MSX:t(92259)}},46728:(o,g,t)=>{var a=t(83419),v=t(36316),h=t(80021),s=t(26099),r=new a({Extends:h,initialize:function(n,l,i,u){h.call(this,"CubicBezierCurve"),Array.isArray(n)&&(u=new s(n[6],n[7]),i=new s(n[4],n[5]),l=new s(n[2],n[3]),n=new s(n[0],n[1])),this.p0=n,this.p1=l,this.p2=i,this.p3=u},getStartPoint:function(e){return e===void 0&&(e=new s),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,n){n===void 0&&(n=new s);var l=this.p0,i=this.p1,u=this.p2,f=this.p3;return n.set(v(e,l.x,i.x,u.x,f.x),v(e,l.y,i.y,u.y,f.y))},draw:function(e,n){n===void 0&&(n=32);var l=this.getPoints(n);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var i=1;i<l.length;i++)e.lineTo(l[i].x,l[i].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});r.fromJSON=function(e){var n=e.points,l=new s(n[0],n[1]),i=new s(n[2],n[3]),u=new s(n[4],n[5]),f=new s(n[6],n[7]);return new r(l,i,u,f)},o.exports=r},80021:(o,g,t)=>{var a=t(83419),v=t(19217),h=t(87841),s=t(26099),r=new a({initialize:function(n){this.type=n,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new s,this._tmpVec2B=new s},draw:function(e,n){return n===void 0&&(n=32),e.strokePoints(this.getPoints(n))},getBounds:function(e,n){e||(e=new h),n===void 0&&(n=16);var l=this.getLength();n>l&&(n=l/2);var i=Math.max(1,Math.round(l/n));return v(this.getSpacedPoints(i),e)},getDistancePoints:function(e){var n=this.getLength(),l=Math.max(1,n/e);return this.getSpacedPoints(l)},getEndPoint:function(e){return e===void 0&&(e=new s),this.getPointAt(1,e)},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e===void 0&&(e=this.arcLengthDivisions),this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var n=[],l,i=this.getPoint(0,this._tmpVec2A),u=0;n.push(0);for(var f=1;f<=e;f++)l=this.getPoint(f/e,this._tmpVec2B),u+=l.distance(i),n.push(u),i.copy(l);return this.cacheArcLengths=n,n},getPointAt:function(e,n){var l=this.getUtoTmapping(e);return this.getPoint(l,n)},getPoints:function(e,n,l){l===void 0&&(l=[]),e||(n?e=this.getLength()/n:e=this.defaultDivisions);for(var i=0;i<=e;i++)l.push(this.getPoint(i/e));return l},getRandomPoint:function(e){return e===void 0&&(e=new s),this.getPoint(Math.random(),e)},getSpacedPoints:function(e,n,l){l===void 0&&(l=[]),e||(n?e=this.getLength()/n:e=this.defaultDivisions);for(var i=0;i<=e;i++){var u=this.getUtoTmapping(i/e,null,e);l.push(this.getPoint(u))}return l},getStartPoint:function(e){return e===void 0&&(e=new s),this.getPointAt(0,e)},getTangent:function(e,n){n===void 0&&(n=new s);var l=1e-4,i=e-l,u=e+l;return i<0&&(i=0),u>1&&(u=1),this.getPoint(i,this._tmpVec2A),this.getPoint(u,n),n.subtract(this._tmpVec2A).normalize()},getTangentAt:function(e,n){var l=this.getUtoTmapping(e);return this.getTangent(l,n)},getTFromDistance:function(e,n){return e<=0?0:this.getUtoTmapping(0,e,n)},getUtoTmapping:function(e,n,l){var i=this.getLengths(l),u=0,f=i.length,c;n?c=Math.min(n,i[f-1]):c=e*i[f-1];for(var d=0,p=f-1,m;d<=p;)if(u=Math.floor(d+(p-d)/2),m=i[u]-c,m<0)d=u+1;else if(m>0)p=u-1;else{p=u;break}if(u=p,i[u]===c)return u/(f-1);var y=i[u],x=i[u+1],C=x-y,E=(c-y)/C;return(u+E)/(f-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});o.exports=r},73825:(o,g,t)=>{var a=t(83419),v=t(80021),h=t(39506),s=t(35154),r=t(43396),e=t(26099),n=new a({Extends:v,initialize:function(i,u,f,c,d,p,m,y){if(typeof i=="object"){var x=i;i=s(x,"x",0),u=s(x,"y",0),f=s(x,"xRadius",0),c=s(x,"yRadius",f),d=s(x,"startAngle",0),p=s(x,"endAngle",360),m=s(x,"clockwise",!1),y=s(x,"rotation",0)}else c===void 0&&(c=f),d===void 0&&(d=0),p===void 0&&(p=360),m===void 0&&(m=!1),y===void 0&&(y=0);v.call(this,"EllipseCurve"),this.p0=new e(i,u),this._xRadius=f,this._yRadius=c,this._startAngle=h(d),this._endAngle=h(p),this._clockwise=m,this._rotation=h(y)},getStartPoint:function(l){return l===void 0&&(l=new e),this.getPoint(0,l)},getResolution:function(l){return l*2},getPoint:function(l,i){i===void 0&&(i=new e);for(var u=Math.PI*2,f=this._endAngle-this._startAngle,c=Math.abs(f)<Number.EPSILON;f<0;)f+=u;for(;f>u;)f-=u;f<Number.EPSILON&&(c?f=0:f=u),this._clockwise&&!c&&(f===u?f=-u:f=f-u);var d=this._startAngle+l*f,p=this.p0.x+this._xRadius*Math.cos(d),m=this.p0.y+this._yRadius*Math.sin(d);if(this._rotation!==0){var y=Math.cos(this._rotation),x=Math.sin(this._rotation),C=p-this.p0.x,E=m-this.p0.y;p=C*y-E*x+this.p0.x,m=C*x+E*y+this.p0.y}return i.set(p,m)},setXRadius:function(l){return this.xRadius=l,this},setYRadius:function(l){return this.yRadius=l,this},setWidth:function(l){return this.xRadius=l/2,this},setHeight:function(l){return this.yRadius=l/2,this},setStartAngle:function(l){return this.startAngle=l,this},setEndAngle:function(l){return this.endAngle=l,this},setClockwise:function(l){return this.clockwise=l,this},setRotation:function(l){return this.rotation=l,this},x:{get:function(){return this.p0.x},set:function(l){this.p0.x=l}},y:{get:function(){return this.p0.y},set:function(l){this.p0.y=l}},xRadius:{get:function(){return this._xRadius},set:function(l){this._xRadius=l}},yRadius:{get:function(){return this._yRadius},set:function(l){this._yRadius=l}},startAngle:{get:function(){return r(this._startAngle)},set:function(l){this._startAngle=h(l)}},endAngle:{get:function(){return r(this._endAngle)},set:function(l){this._endAngle=h(l)}},clockwise:{get:function(){return this._clockwise},set:function(l){this._clockwise=l}},angle:{get:function(){return r(this._rotation)},set:function(l){this._rotation=h(l)}},rotation:{get:function(){return this._rotation},set:function(l){this._rotation=l}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:r(this._startAngle),endAngle:r(this._endAngle),clockwise:this._clockwise,rotation:r(this._rotation)}}});n.fromJSON=function(l){return new n(l)},o.exports=n},33951:(o,g,t)=>{var a=t(83419),v=t(80021),h=t(19217),s=t(87841),r=t(26099),e=new a({Extends:v,initialize:function(l,i){v.call(this,"LineCurve"),Array.isArray(l)&&(i=new r(l[2],l[3]),l=new r(l[0],l[1])),this.p0=l,this.p1=i,this.arcLengthDivisions=1},getBounds:function(n){return n===void 0&&(n=new s),h([this.p0,this.p1],n)},getStartPoint:function(n){return n===void 0&&(n=new r),n.copy(this.p0)},getResolution:function(n){return n===void 0&&(n=1),n},getPoint:function(n,l){return l===void 0&&(l=new r),n===1?l.copy(this.p1):(l.copy(this.p1).subtract(this.p0).scale(n).add(this.p0),l)},getPointAt:function(n,l){return this.getPoint(n,l)},getTangent:function(n,l){return l===void 0&&(l=new r),l.copy(this.p1).subtract(this.p0).normalize(),l},getUtoTmapping:function(n,l,i){var u;if(l){var f=this.getLengths(i),c=f[f.length-1],d=Math.min(l,c);u=d/c}else u=n;return u},draw:function(n){return n.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),n},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});e.fromJSON=function(n){var l=n.points,i=new r(l[0],l[1]),u=new r(l[2],l[3]);return new e(i,u)},o.exports=e},14744:(o,g,t)=>{var a=t(83419),v=t(80021),h=t(32112),s=t(26099),r=new a({Extends:v,initialize:function(n,l,i){v.call(this,"QuadraticBezierCurve"),Array.isArray(n)&&(i=new s(n[4],n[5]),l=new s(n[2],n[3]),n=new s(n[0],n[1])),this.p0=n,this.p1=l,this.p2=i},getStartPoint:function(e){return e===void 0&&(e=new s),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,n){n===void 0&&(n=new s);var l=this.p0,i=this.p1,u=this.p2;return n.set(h(e,l.x,i.x,u.x),h(e,l.y,i.y,u.y))},draw:function(e,n){n===void 0&&(n=32);var l=this.getPoints(n);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var i=1;i<l.length;i++)e.lineTo(l[i].x,l[i].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});r.fromJSON=function(e){var n=e.points,l=new s(n[0],n[1]),i=new s(n[2],n[3]),u=new s(n[4],n[5]);return new r(l,i,u)},o.exports=r},42534:(o,g,t)=>{var a=t(87842),v=t(83419),h=t(80021),s=t(26099),r=new v({Extends:h,initialize:function(n){n===void 0&&(n=[]),h.call(this,"SplineCurve"),this.points=[],this.addPoints(n)},addPoints:function(e){for(var n=0;n<e.length;n++){var l=new s;typeof e[n]=="number"?(l.x=e[n],l.y=e[n+1],n++):Array.isArray(e[n])?(l.x=e[n][0],l.y=e[n][1]):(l.x=e[n].x,l.y=e[n].y),this.points.push(l)}return this},addPoint:function(e,n){var l=new s(e,n);return this.points.push(l),l},getStartPoint:function(e){return e===void 0&&(e=new s),e.copy(this.points[0])},getResolution:function(e){return e*this.points.length},getPoint:function(e,n){n===void 0&&(n=new s);var l=this.points,i=(l.length-1)*e,u=Math.floor(i),f=i-u,c=l[u===0?u:u-1],d=l[u],p=l[u>l.length-2?l.length-1:u+1],m=l[u>l.length-3?l.length-1:u+2];return n.set(a(f,c.x,d.x,p.x,m.x),a(f,c.y,d.y,p.y,m.y))},toJSON:function(){for(var e=[],n=0;n<this.points.length;n++)e.push(this.points[n].x),e.push(this.points[n].y);return{type:this.type,points:e}}});r.fromJSON=function(e){return new r(e.points)},o.exports=r},25410:(o,g,t)=>{o.exports={Path:t(46669),MoveTo:t(68618),CubicBezier:t(46728),Curve:t(80021),Ellipse:t(73825),Line:t(33951),QuadraticBezier:t(14744),Spline:t(42534)}},68618:(o,g,t)=>{var a=t(83419),v=t(26099),h=new a({initialize:function(r,e){this.active=!1,this.p0=new v(r,e)},getPoint:function(s,r){return r===void 0&&(r=new v),r.copy(this.p0)},getPointAt:function(s,r){return this.getPoint(s,r)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});o.exports=h},46669:(o,g,t)=>{var a=t(83419),v=t(46728),h=t(73825),s=t(39429),r=t(33951),e=t(68618),n=t(14744),l=t(87841),i=t(42534),u=t(26099),f=t(36383),c=new a({initialize:function(p,m){p===void 0&&(p=0),m===void 0&&(m=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new u,this._tmpVec2A=new u,this._tmpVec2B=new u,typeof p=="object"?this.fromJSON(p):this.startPoint.set(p,m)},add:function(d){return this.curves.push(d),this},circleTo:function(d,p,m){return p===void 0&&(p=!1),this.ellipseTo(d,d,0,360,p,m)},closePath:function(){var d=this.curves[0].getPoint(0),p=this.curves[this.curves.length-1].getPoint(1);return d.equals(p)||this.curves.push(new r(p,d)),this},cubicBezierTo:function(d,p,m,y,x,C){var E=this.getEndPoint(),R,M,w;return d instanceof u?(R=d,M=p,w=m):(R=new u(m,y),M=new u(x,C),w=new u(d,p)),this.add(new v(E,R,M,w))},quadraticBezierTo:function(d,p,m,y){var x=this.getEndPoint(),C,E;return d instanceof u?(C=d,E=p):(C=new u(m,y),E=new u(d,p)),this.add(new n(x,C,E))},draw:function(d,p){for(var m=0;m<this.curves.length;m++){var y=this.curves[m];y.active&&y.draw(d,p)}return d},ellipseTo:function(d,p,m,y,x,C){var E=new h(0,0,d,p,m,y,x,C),R=this.getEndPoint(this._tmpVec2A),M=E.getStartPoint(this._tmpVec2B);return R.subtract(M),E.x=R.x,E.y=R.y,this.add(E)},fromJSON:function(d){this.curves=[],this.cacheLengths=[],this.startPoint.set(d.x,d.y),this.autoClose=d.autoClose;for(var p=0;p<d.curves.length;p++){var m=d.curves[p];switch(m.type){case"LineCurve":this.add(r.fromJSON(m));break;case"EllipseCurve":this.add(h.fromJSON(m));break;case"SplineCurve":this.add(i.fromJSON(m));break;case"CubicBezierCurve":this.add(v.fromJSON(m));break;case"QuadraticBezierCurve":this.add(n.fromJSON(m));break}}return this},getBounds:function(d,p){d===void 0&&(d=new l),p===void 0&&(p=16),d.x=Number.MAX_VALUE,d.y=Number.MAX_VALUE;for(var m=new l,y=f.MIN_SAFE_INTEGER,x=f.MIN_SAFE_INTEGER,C=0;C<this.curves.length;C++){var E=this.curves[C];E.active&&(E.getBounds(m,p),d.x=Math.min(d.x,m.x),d.y=Math.min(d.y,m.y),y=Math.max(y,m.right),x=Math.max(x,m.bottom))}return d.right=y,d.bottom=x,d},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var d=[],p=0,m=0;m<this.curves.length;m++)p+=this.curves[m].getLength(),d.push(p);return this.cacheLengths=d,d},getCurveAt:function(d){for(var p=d*this.getLength(),m=this.getCurveLengths(),y=0;y<m.length;){if(m[y]>=p)return this.curves[y];y++}return null},getEndPoint:function(d){return d===void 0&&(d=new u),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,d):d.copy(this.startPoint),d},getLength:function(){var d=this.getCurveLengths();return d[d.length-1]},getPoint:function(d,p){p===void 0&&(p=new u);for(var m=d*this.getLength(),y=this.getCurveLengths(),x=0;x<y.length;){if(y[x]>=m){var C=y[x]-m,E=this.curves[x],R=E.getLength(),M=R===0?0:1-C/R;return E.getPointAt(M,p)}x++}return null},getPoints:function(d,p){!d&&!p&&(d=this.defaultDivisions);for(var m=[],y,x=0;x<this.curves.length;x++){var C=this.curves[x];if(C.active)for(var E=C.getResolution(d),R=C.getPoints(E,p),M=0;M<R.length;M++){var w=R[M];y&&y.equals(w)||(m.push(w),y=w)}}return this.autoClose&&m.length>1&&!m[m.length-1].equals(m[0])&&m.push(m[0]),m},getRandomPoint:function(d){return d===void 0&&(d=new u),this.getPoint(Math.random(),d)},getSpacedPoints:function(d){d===void 0&&(d=40);for(var p=[],m=0;m<=d;m++)p.push(this.getPoint(m/d));return this.autoClose&&p.push(p[0]),p},getStartPoint:function(d){return d===void 0&&(d=new u),d.copy(this.startPoint)},getTangent:function(d,p){p===void 0&&(p=new u);for(var m=d*this.getLength(),y=this.getCurveLengths(),x=0;x<y.length;){if(y[x]>=m){var C=y[x]-m,E=this.curves[x],R=E.getLength(),M=R===0?0:1-C/R;return E.getTangentAt(M,p)}x++}return null},lineTo:function(d,p){d instanceof u?this._tmpVec2B.copy(d):typeof d=="object"?this._tmpVec2B.setFromObject(d):this._tmpVec2B.set(d,p);var m=this.getEndPoint(this._tmpVec2A);return this.add(new r([m.x,m.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(d){return d.unshift(this.getEndPoint()),this.add(new i(d))},moveTo:function(d,p){return d instanceof u?this.add(new e(d.x,d.y)):this.add(new e(d,p))},toJSON:function(){for(var d=[],p=0;p<this.curves.length;p++)d.push(this.curves[p].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:d}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});s.register("path",function(d,p){return new c(d,p)}),o.exports=c},45893:(o,g,t)=>{var a=t(83419),v=t(24882),h=new a({initialize:function(r,e){this.parent=r,this.events=e,e||(this.events=r.events?r.events:r),this.list={},this.values={},this._frozen=!1,!r.hasOwnProperty("sys")&&this.events&&this.events.once(v.DESTROY,this.destroy,this)},get:function(s){var r=this.list;if(Array.isArray(s)){for(var e=[],n=0;n<s.length;n++)e.push(r[s[n]]);return e}else return r[s]},getAll:function(){var s={};for(var r in this.list)this.list.hasOwnProperty(r)&&(s[r]=this.list[r]);return s},query:function(s){var r={};for(var e in this.list)this.list.hasOwnProperty(e)&&e.match(s)&&(r[e]=this.list[e]);return r},set:function(s,r){if(this._frozen)return this;if(typeof s=="string")return this.setValue(s,r);for(var e in s)this.setValue(e,s[e]);return this},inc:function(s,r){if(this._frozen)return this;r===void 0&&(r=1);var e=this.get(s);return e===void 0&&(e=0),this.set(s,e+r),this},toggle:function(s){return this._frozen?this:(this.set(s,!this.get(s)),this)},setValue:function(s,r){if(this._frozen)return this;if(this.has(s))this.values[s]=r;else{var e=this,n=this.list,l=this.events,i=this.parent;Object.defineProperty(this.values,s,{enumerable:!0,configurable:!0,get:function(){return n[s]},set:function(u){if(!e._frozen){var f=n[s];n[s]=u,l.emit(v.CHANGE_DATA,i,s,u,f),l.emit(v.CHANGE_DATA_KEY+s,i,u,f)}}}),n[s]=r,l.emit(v.SET_DATA,i,s,r)}return this},each:function(s,r){for(var e=[this.parent,null,void 0],n=1;n<arguments.length;n++)e.push(arguments[n]);for(var l in this.list)e[1]=l,e[2]=this.list[l],s.apply(r,e);return this},merge:function(s,r){r===void 0&&(r=!0);for(var e in s)s.hasOwnProperty(e)&&(r||!r&&!this.has(e))&&this.setValue(e,s[e]);return this},remove:function(s){if(this._frozen)return this;if(Array.isArray(s))for(var r=0;r<s.length;r++)this.removeValue(s[r]);else return this.removeValue(s);return this},removeValue:function(s){if(this.has(s)){var r=this.list[s];delete this.list[s],delete this.values[s],this.events.emit(v.REMOVE_DATA,this.parent,s,r)}return this},pop:function(s){var r=void 0;return!this._frozen&&this.has(s)&&(r=this.list[s],delete this.list[s],delete this.values[s],this.events.emit(v.REMOVE_DATA,this.parent,s,r)),r},has:function(s){return this.list.hasOwnProperty(s)},setFreeze:function(s){return this._frozen=s,this},reset:function(){for(var s in this.list)delete this.list[s],delete this.values[s];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(v.CHANGE_DATA),this.events.off(v.SET_DATA),this.events.off(v.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(s){this._frozen=!!s}},count:{get:function(){var s=0;for(var r in this.list)this.list[r]!==void 0&&s++;return s}}});o.exports=h},63646:(o,g,t)=>{var a=t(83419),v=t(45893),h=t(37277),s=t(44594),r=new a({Extends:v,initialize:function(n){v.call(this,n,n.sys.events),this.scene=n,this.systems=n.sys,n.sys.events.once(s.BOOT,this.boot,this),n.sys.events.on(s.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(s.DESTROY,this.destroy,this)},start:function(){this.events.once(s.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){v.prototype.destroy.call(this),this.events.off(s.START,this.start,this),this.scene=null,this.systems=null}});h.register("DataManagerPlugin",r,"data"),o.exports=r},10700:o=>{o.exports="changedata"},93608:o=>{o.exports="changedata-"},60883:o=>{o.exports="destroy"},69780:o=>{o.exports="removedata"},22166:o=>{o.exports="setdata"},24882:(o,g,t)=>{o.exports={CHANGE_DATA:t(10700),CHANGE_DATA_KEY:t(93608),DESTROY:t(60883),REMOVE_DATA:t(69780),SET_DATA:t(22166)}},44965:(o,g,t)=>{o.exports={DataManager:t(45893),DataManagerPlugin:t(63646),Events:t(24882)}},7098:(o,g,t)=>{var a=t(84148),v={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function h(){if(typeof importScripts=="function")return v;v.audioData=!!window.Audio,v.webAudio=!!(window.AudioContext||window.webkitAudioContext);var s=document.createElement("audio"),r=!!s.canPlayType;try{if(r){var e=function(i,u){var f=s.canPlayType("audio/"+i).replace(/^no$/,"");return u?!!(f||s.canPlayType("audio/"+u).replace(/^no$/,"")):!!f};if(v.ogg=e('ogg; codecs="vorbis"'),v.opus=e('ogg; codecs="opus"',"opus"),v.mp3=e("mpeg"),v.wav=e("wav"),v.m4a=e("x-m4a"),v.aac=e("aac"),v.flac=e("flac","x-flac"),v.webm=e('webm; codecs="vorbis"'),s.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(a.edge)v.dolby=!0;else if(a.safari&&a.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var n=parseInt(RegExp.$1,10),l=parseInt(RegExp.$2,10);(n===10&&l>=11||n>10)&&(v.dolby=!0)}}}}catch{}return v}o.exports=h()},84148:(o,g,t)=>{var a=t(25892),v={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function h(){var s=navigator.userAgent;return/Edg\/\d+/.test(s)?(v.edge=!0,v.es2019=!0):/OPR/.test(s)?(v.opera=!0,v.es2019=!0):/Chrome\/(\d+)/.test(s)&&!a.windowsPhone?(v.chrome=!0,v.chromeVersion=parseInt(RegExp.$1,10),v.es2019=v.chromeVersion>69):/Firefox\D+(\d+)/.test(s)?(v.firefox=!0,v.firefoxVersion=parseInt(RegExp.$1,10),v.es2019=v.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(s)&&a.iOS?(v.mobileSafari=!0,v.es2019=!0):/MSIE (\d+\.\d+);/.test(s)?(v.ie=!0,v.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(s)&&!a.windowsPhone?(v.safari=!0,v.safariVersion=parseInt(RegExp.$1,10),v.es2019=v.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(s)&&(v.ie=!0,v.trident=!0,v.tridentVersion=parseInt(RegExp.$1,10),v.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(s)&&(v.silk=!0),v}o.exports=h()},89289:(o,g,t)=>{var a=t(27919),v={supportInverseAlpha:!1,supportNewBlendModes:!1};function h(){var e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",n="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",l=new Image;return l.onload=function(){var i=new Image;i.onload=function(){var u=a.create2D(i,6),f=u.getContext("2d",{willReadFrequently:!0});if(f.globalCompositeOperation="multiply",f.drawImage(l,0,0),f.drawImage(i,2,0),!f.getImageData(2,0,1,1))return!1;var c=f.getImageData(2,0,1,1).data;a.remove(i),v.supportNewBlendModes=c[0]===255&&c[1]===0&&c[2]===0},i.src=e+"/wCKxvRF"+n},l.src=e+"AP804Oa6"+n,!1}function s(){var e=a.create2D(this,2),n=e.getContext("2d",{willReadFrequently:!0});n.fillStyle="rgba(10, 20, 30, 0.5)",n.fillRect(0,0,1,1);var l=n.getImageData(0,0,1,1);if(l===null)return!1;n.putImageData(l,1,0);var i=n.getImageData(1,0,1,1),u=i.data[0]===l.data[0]&&i.data[1]===l.data[1]&&i.data[2]===l.data[2]&&i.data[3]===l.data[3];return a.remove(this),u}function r(){return typeof importScripts!="function"&&document!==void 0&&(v.supportNewBlendModes=h(),v.supportInverseAlpha=s()),v}o.exports=r()},89357:(o,g,t)=>{var a=t(25892),v=t(84148),h=t(27919),s={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function r(){var n=new ArrayBuffer(4),l=new Uint8Array(n),i=new Uint32Array(n);return l[0]=161,l[1]=178,l[2]=195,l[3]=212,i[0]===3569595041?!0:i[0]===2712847316?!1:null}function e(){if(typeof importScripts=="function")return s;s.canvas=!!window.CanvasRenderingContext2D;try{s.localStorage=!!localStorage.getItem}catch{s.localStorage=!1}s.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,s.fileSystem=!!window.requestFileSystem;var n=!1,l=function(){if(window.WebGLRenderingContext)try{var i=h.createWebGL(this),u=i.getContext("webgl")||i.getContext("experimental-webgl"),f=h.create2D(this),c=f.getContext("2d",{willReadFrequently:!0}),d=c.createImageData(1,1);return n=d.data instanceof Uint8ClampedArray,h.remove(i),h.remove(f),!!u}catch{return!1}return!1};return s.webGL=l(),s.worker=!!window.Worker,s.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,s.getUserMedia=s.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,v.firefox&&v.firefoxVersion<21&&(s.getUserMedia=!1),!a.iOS&&(v.ie||v.firefox||v.chrome)&&(s.canvasBitBltShift=!0),(v.safari||v.mobileSafari)&&(s.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(s.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(s.littleEndian=r()),s.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&s.littleEndian!==null&&n,s}o.exports=e()},91639:o=>{var g={available:!1,cancel:"",keyboard:!1,request:""};function t(){if(typeof importScripts=="function")return g;var a,v="Fullscreen",h="FullScreen",s=["request"+v,"request"+h,"webkitRequest"+v,"webkitRequest"+h,"msRequest"+v,"msRequest"+h,"mozRequest"+h,"mozRequest"+v];for(a=0;a<s.length;a++)if(document.documentElement[s[a]]){g.available=!0,g.request=s[a];break}var r=["cancel"+h,"exit"+v,"webkitCancel"+h,"webkitExit"+v,"msCancel"+h,"msExit"+v,"mozCancel"+h,"mozExit"+v];if(g.available){for(a=0;a<r.length;a++)if(document[r[a]]){g.cancel=r[a];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(g.keyboard=!0),Object.defineProperty(g,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),g}o.exports=t()},31784:(o,g,t)=>{var a=t(84148),v={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function h(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(v.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(v.mspointer=!0),navigator.getGamepads&&(v.gamepads=!0),"onwheel"in window||a.ie&&"WheelEvent"in window?v.wheelEvent="wheel":"onmousewheel"in window?v.wheelEvent="mousewheel":a.firefox&&"MouseScrollEvent"in window&&(v.wheelEvent="DOMMouseScroll")),v}o.exports=h()},25892:o=>{var g={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function t(){if(typeof importScripts=="function")return g;var a=navigator.userAgent;/Windows/.test(a)?g.windows=!0:/Mac OS/.test(a)&&!/like Mac OS/.test(a)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(g.iOS=!0,g.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),g.iOSVersion=parseInt(RegExp.$1,10)):g.macOS=!0:/Android/.test(a)?g.android=!0:/Linux/.test(a)?g.linux=!0:/iP[ao]d|iPhone/i.test(a)?(g.iOS=!0,navigator.appVersion.match(/OS (\d+)/),g.iOSVersion=parseInt(RegExp.$1,10),g.iPhone=a.toLowerCase().indexOf("iphone")!==-1,g.iPad=a.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(a)||/\bKF[A-Z][A-Z]+/.test(a)||/Silk.*Mobile Safari/.test(a)?g.kindle=!0:/CrOS/.test(a)&&(g.chromeOS=!0),(/Windows Phone/i.test(a)||/IEMobile/i.test(a))&&(g.android=!1,g.iOS=!1,g.macOS=!1,g.windows=!0,g.windowsPhone=!0);var v=/Silk/.test(a);return(g.windows||g.macOS||g.linux&&!v||g.chromeOS)&&(g.desktop=!0),(g.windowsPhone||/Windows NT/i.test(a)&&/Touch/i.test(a))&&(g.desktop=!1),navigator.standalone&&(g.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(g.cordova=!0),window.ejecta!==void 0&&(g.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(g.node=!0),g.node&&typeof process.versions=="object"&&(g.nodeWebkit=!!process.versions["node-webkit"],g.electron=!!process.versions.electron),/Crosswalk/.test(a)&&(g.crosswalk=!0),g.pixelRatio=window.devicePixelRatio||1,g}o.exports=t()},43267:(o,g,t)=>{var a=t(95540),v={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function h(){if(typeof importScripts=="function")return v;var s=document.createElement("video"),r=!!s.canPlayType,e=/^no$/;try{r&&(s.canPlayType('video/ogg; codecs="theora"').replace(e,"")&&(v.ogg=!0),s.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(e,"")&&(v.h264=!0,v.mp4=!0),s.canPlayType("video/x-m4v").replace(e,"")&&(v.m4v=!0),s.canPlayType('video/webm; codecs="vp8, vorbis"').replace(e,"")&&(v.webm=!0),s.canPlayType('video/webm; codecs="vp9"').replace(e,"")&&(v.vp9=!0),s.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(e,"")&&(v.hls=!0))}catch{}return s.parentNode&&s.parentNode.removeChild(s),v.getVideoURL=function(n){Array.isArray(n)||(n=[n]);for(var l=0;l<n.length;l++){var i=a(n[l],"url",n[l]);if(i.indexOf("blob:")===0)return{url:i,type:""};var u;if(i.indexOf("data:")===0?u=i.split(",")[0].match(/\/(.*?);/):u=i.match(/\.([a-zA-Z0-9]+)($|\?)/),u=a(n[l],"type",u?u[1]:"").toLowerCase(),v[u])return{url:i,type:u}}return null},v}o.exports=h()},82264:(o,g,t)=>{o.exports={os:t(25892),browser:t(84148),features:t(89357),input:t(31784),audio:t(7098),video:t(43267),fullscreen:t(91639),canvasFeatures:t(89289)}},89422:(o,g,t)=>{var a=t(83419),v=new Float32Array(20),h=new a({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(s){return this._matrix.set(s),this._dirty=!0,this},reset:function(){var s=this._matrix;return s.fill(0),s[0]=1,s[6]=1,s[12]=1,s[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var s=this._data;return this._dirty&&(s.set(this._matrix),s[4]/=255,s[9]/=255,s[14]/=255,s[19]/=255,this._dirty=!1),s},brightness:function(s,r){s===void 0&&(s=0),r===void 0&&(r=!1);var e=s;return this.multiply([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],r)},saturate:function(s,r){s===void 0&&(s=0),r===void 0&&(r=!1);var e=s*2/3+1,n=(e-1)*-.5;return this.multiply([e,n,n,0,0,n,e,n,0,0,n,n,e,0,0,0,0,0,1,0],r)},desaturate:function(s){return s===void 0&&(s=!1),this.saturate(-1,s)},hue:function(s,r){s===void 0&&(s=0),r===void 0&&(r=!1),s=s/180*Math.PI;var e=Math.cos(s),n=Math.sin(s),l=.213,i=.715,u=.072;return this.multiply([l+e*(1-l)+n*-l,i+e*-i+n*-i,u+e*-u+n*(1-u),0,0,l+e*-l+n*.143,i+e*(1-i)+n*.14,u+e*-u+n*-.283,0,0,l+e*-l+n*-(1-l),i+e*-i+n*i,u+e*(1-u)+n*u,0,0,0,0,0,1,0],r)},grayscale:function(s,r){return s===void 0&&(s=1),r===void 0&&(r=!1),this.saturate(-s,r)},blackWhite:function(s){return s===void 0&&(s=!1),this.multiply(h.BLACK_WHITE,s)},contrast:function(s,r){s===void 0&&(s=0),r===void 0&&(r=!1);var e=s+1,n=-.5*(e-1);return this.multiply([e,0,0,0,n,0,e,0,0,n,0,0,e,0,n,0,0,0,1,0],r)},negative:function(s){return s===void 0&&(s=!1),this.multiply(h.NEGATIVE,s)},desaturateLuminance:function(s){return s===void 0&&(s=!1),this.multiply(h.DESATURATE_LUMINANCE,s)},sepia:function(s){return s===void 0&&(s=!1),this.multiply(h.SEPIA,s)},night:function(s,r){return s===void 0&&(s=.1),r===void 0&&(r=!1),this.multiply([s*-2,-s,0,0,0,-s,0,s,0,0,0,s,s*2,0,0,0,0,0,1,0],r)},lsd:function(s){return s===void 0&&(s=!1),this.multiply(h.LSD,s)},brown:function(s){return s===void 0&&(s=!1),this.multiply(h.BROWN,s)},vintagePinhole:function(s){return s===void 0&&(s=!1),this.multiply(h.VINTAGE,s)},kodachrome:function(s){return s===void 0&&(s=!1),this.multiply(h.KODACHROME,s)},technicolor:function(s){return s===void 0&&(s=!1),this.multiply(h.TECHNICOLOR,s)},polaroid:function(s){return s===void 0&&(s=!1),this.multiply(h.POLAROID,s)},shiftToBGR:function(s){return s===void 0&&(s=!1),this.multiply(h.SHIFT_BGR,s)},multiply:function(s,r){r===void 0&&(r=!1),r||this.reset();var e=this._matrix,n=v;return n.set(e),e.set([n[0]*s[0]+n[1]*s[5]+n[2]*s[10]+n[3]*s[15],n[0]*s[1]+n[1]*s[6]+n[2]*s[11]+n[3]*s[16],n[0]*s[2]+n[1]*s[7]+n[2]*s[12]+n[3]*s[17],n[0]*s[3]+n[1]*s[8]+n[2]*s[13]+n[3]*s[18],n[0]*s[4]+n[1]*s[9]+n[2]*s[14]+n[3]*s[19]+n[4],n[5]*s[0]+n[6]*s[5]+n[7]*s[10]+n[8]*s[15],n[5]*s[1]+n[6]*s[6]+n[7]*s[11]+n[8]*s[16],n[5]*s[2]+n[6]*s[7]+n[7]*s[12]+n[8]*s[17],n[5]*s[3]+n[6]*s[8]+n[7]*s[13]+n[8]*s[18],n[5]*s[4]+n[6]*s[9]+n[7]*s[14]+n[8]*s[19]+n[9],n[10]*s[0]+n[11]*s[5]+n[12]*s[10]+n[13]*s[15],n[10]*s[1]+n[11]*s[6]+n[12]*s[11]+n[13]*s[16],n[10]*s[2]+n[11]*s[7]+n[12]*s[12]+n[13]*s[17],n[10]*s[3]+n[11]*s[8]+n[12]*s[13]+n[13]*s[18],n[10]*s[4]+n[11]*s[9]+n[12]*s[14]+n[13]*s[19]+n[14],n[15]*s[0]+n[16]*s[5]+n[17]*s[10]+n[18]*s[15],n[15]*s[1]+n[16]*s[6]+n[17]*s[11]+n[18]*s[16],n[15]*s[2]+n[16]*s[7]+n[17]*s[12]+n[18]*s[17],n[15]*s[3]+n[16]*s[8]+n[17]*s[13]+n[18]*s[18],n[15]*s[4]+n[16]*s[9]+n[17]*s[14]+n[18]*s[19]+n[19]]),this._dirty=!0,this}});h.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],h.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],h.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],h.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],h.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],h.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],h.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],h.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],h.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],h.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],h.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],o.exports=h},51767:(o,g,t)=>{var a=t(83419),v=t(29747),h=new a({initialize:function(r,e,n){this._rgb=[0,0,0],this.onChangeCallback=v,this.dirty=!1,this.set(r,e,n)},set:function(s,r,e){return s===void 0&&(s=0),r===void 0&&(r=0),e===void 0&&(e=0),this._rgb=[s,r,e],this.onChange(),this},equals:function(s,r,e){var n=this._rgb;return n[0]===s&&n[1]===r&&n[2]===e},onChange:function(){this.dirty=!0;var s=this._rgb;this.onChangeCallback.call(this,s[0],s[1],s[2])},r:{get:function(){return this._rgb[0]},set:function(s){this._rgb[0]=s,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(s){this._rgb[1]=s,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(s){this._rgb[2]=s,this.onChange()}},destroy:function(){this.onChangeCallback=null}});o.exports=h},60461:o=>{var g={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};o.exports=g},54312:(o,g,t)=>{var a=t(62235),v=t(35893),h=t(86327),s=t(88417),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,v(n)+l),h(e,a(n)+i),e};o.exports=r},46768:(o,g,t)=>{var a=t(62235),v=t(26541),h=t(86327),s=t(385),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,v(n)-l),h(e,a(n)+i),e};o.exports=r},35827:(o,g,t)=>{var a=t(62235),v=t(54380),h=t(86327),s=t(40136),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,v(n)+l),h(e,a(n)+i),e};o.exports=r},46871:(o,g,t)=>{var a=t(66786),v=t(35893),h=t(7702),s=function(r,e,n,l){return n===void 0&&(n=0),l===void 0&&(l=0),a(r,v(e)+n,h(e)+l),r};o.exports=s},5198:(o,g,t)=>{var a=t(7702),v=t(26541),h=t(20786),s=t(385),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,v(n)-l),h(e,a(n)+i),e};o.exports=r},11879:(o,g,t)=>{var a=t(60461),v=[];v[a.BOTTOM_CENTER]=t(54312),v[a.BOTTOM_LEFT]=t(46768),v[a.BOTTOM_RIGHT]=t(35827),v[a.CENTER]=t(46871),v[a.LEFT_CENTER]=t(5198),v[a.RIGHT_CENTER]=t(80503),v[a.TOP_CENTER]=t(89698),v[a.TOP_LEFT]=t(922),v[a.TOP_RIGHT]=t(21373),v[a.LEFT_BOTTOM]=v[a.BOTTOM_LEFT],v[a.LEFT_TOP]=v[a.TOP_LEFT],v[a.RIGHT_BOTTOM]=v[a.BOTTOM_RIGHT],v[a.RIGHT_TOP]=v[a.TOP_RIGHT];var h=function(s,r,e,n,l){return v[e](s,r,n,l)};o.exports=h},80503:(o,g,t)=>{var a=t(7702),v=t(54380),h=t(20786),s=t(40136),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,v(n)+l),h(e,a(n)+i),e};o.exports=r},89698:(o,g,t)=>{var a=t(35893),v=t(17717),h=t(88417),s=t(66737),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),h(e,a(n)+l),s(e,v(n)-i),e};o.exports=r},922:(o,g,t)=>{var a=t(26541),v=t(17717),h=t(385),s=t(66737),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),h(e,a(n)-l),s(e,v(n)-i),e};o.exports=r},21373:(o,g,t)=>{var a=t(54380),v=t(17717),h=t(40136),s=t(66737),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),h(e,a(n)+l),s(e,v(n)-i),e};o.exports=r},91660:(o,g,t)=>{o.exports={BottomCenter:t(54312),BottomLeft:t(46768),BottomRight:t(35827),Center:t(46871),LeftCenter:t(5198),QuickSet:t(11879),RightCenter:t(80503),TopCenter:t(89698),TopLeft:t(922),TopRight:t(21373)}},71926:(o,g,t)=>{var a=t(60461),v=t(79291),h={In:t(91660),To:t(16694)};h=v(!1,h,a),o.exports=h},21578:(o,g,t)=>{var a=t(62235),v=t(35893),h=t(88417),s=t(66737),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),h(e,v(n)+l),s(e,a(n)+i),e};o.exports=r},10210:(o,g,t)=>{var a=t(62235),v=t(26541),h=t(385),s=t(66737),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),h(e,v(n)-l),s(e,a(n)+i),e};o.exports=r},82341:(o,g,t)=>{var a=t(62235),v=t(54380),h=t(40136),s=t(66737),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),h(e,v(n)+l),s(e,a(n)+i),e};o.exports=r},87958:(o,g,t)=>{var a=t(62235),v=t(26541),h=t(86327),s=t(40136),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,v(n)-l),h(e,a(n)+i),e};o.exports=r},40080:(o,g,t)=>{var a=t(7702),v=t(26541),h=t(20786),s=t(40136),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,v(n)-l),h(e,a(n)+i),e};o.exports=r},88466:(o,g,t)=>{var a=t(26541),v=t(17717),h=t(40136),s=t(66737),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),h(e,a(n)-l),s(e,v(n)-i),e};o.exports=r},38829:(o,g,t)=>{var a=t(60461),v=[];v[a.BOTTOM_CENTER]=t(21578),v[a.BOTTOM_LEFT]=t(10210),v[a.BOTTOM_RIGHT]=t(82341),v[a.LEFT_BOTTOM]=t(87958),v[a.LEFT_CENTER]=t(40080),v[a.LEFT_TOP]=t(88466),v[a.RIGHT_BOTTOM]=t(19211),v[a.RIGHT_CENTER]=t(34609),v[a.RIGHT_TOP]=t(48741),v[a.TOP_CENTER]=t(49440),v[a.TOP_LEFT]=t(81288),v[a.TOP_RIGHT]=t(61323);var h=function(s,r,e,n,l){return v[e](s,r,n,l)};o.exports=h},19211:(o,g,t)=>{var a=t(62235),v=t(54380),h=t(86327),s=t(385),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,v(n)+l),h(e,a(n)+i),e};o.exports=r},34609:(o,g,t)=>{var a=t(7702),v=t(54380),h=t(20786),s=t(385),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,v(n)+l),h(e,a(n)+i),e};o.exports=r},48741:(o,g,t)=>{var a=t(54380),v=t(17717),h=t(385),s=t(66737),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),h(e,a(n)+l),s(e,v(n)-i),e};o.exports=r},49440:(o,g,t)=>{var a=t(35893),v=t(17717),h=t(86327),s=t(88417),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,a(n)+l),h(e,v(n)-i),e};o.exports=r},81288:(o,g,t)=>{var a=t(26541),v=t(17717),h=t(86327),s=t(385),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,a(n)-l),h(e,v(n)-i),e};o.exports=r},61323:(o,g,t)=>{var a=t(54380),v=t(17717),h=t(86327),s=t(40136),r=function(e,n,l,i){return l===void 0&&(l=0),i===void 0&&(i=0),s(e,a(n)+l),h(e,v(n)-i),e};o.exports=r},16694:(o,g,t)=>{o.exports={BottomCenter:t(21578),BottomLeft:t(10210),BottomRight:t(82341),LeftBottom:t(87958),LeftCenter:t(40080),LeftTop:t(88466),QuickSet:t(38829),RightBottom:t(19211),RightCenter:t(34609),RightTop:t(48741),TopCenter:t(49440),TopLeft:t(81288),TopRight:t(61323)}},66786:(o,g,t)=>{var a=t(88417),v=t(20786),h=function(s,r,e){return a(s,r),v(s,e)};o.exports=h},62235:o=>{var g=function(t){return t.y+t.height-t.height*t.originY};o.exports=g},72873:(o,g,t)=>{var a=t(62235),v=t(26541),h=t(54380),s=t(17717),r=t(87841),e=function(n,l){l===void 0&&(l=new r);var i=v(n),u=s(n);return l.x=i,l.y=u,l.width=h(n)-i,l.height=a(n)-u,l};o.exports=e},35893:o=>{var g=function(t){return t.x-t.width*t.originX+t.width*.5};o.exports=g},7702:o=>{var g=function(t){return t.y-t.height*t.originY+t.height*.5};o.exports=g},26541:o=>{var g=function(t){return t.x-t.width*t.originX};o.exports=g},87431:o=>{var g=function(t){return t.width*t.originX};o.exports=g},46928:o=>{var g=function(t){return t.height*t.originY};o.exports=g},54380:o=>{var g=function(t){return t.x+t.width-t.width*t.originX};o.exports=g},17717:o=>{var g=function(t){return t.y-t.height*t.originY};o.exports=g},86327:o=>{var g=function(t,a){return t.y=a-t.height+t.height*t.originY,t};o.exports=g},88417:o=>{var g=function(t,a){var v=t.width*t.originX;return t.x=a+v-t.width*.5,t};o.exports=g},20786:o=>{var g=function(t,a){var v=t.height*t.originY;return t.y=a+v-t.height*.5,t};o.exports=g},385:o=>{var g=function(t,a){return t.x=a+t.width*t.originX,t};o.exports=g},40136:o=>{var g=function(t,a){return t.x=a-t.width+t.width*t.originX,t};o.exports=g},66737:o=>{var g=function(t,a){return t.y=a+t.height*t.originY,t};o.exports=g},58724:(o,g,t)=>{o.exports={CenterOn:t(66786),GetBottom:t(62235),GetBounds:t(72873),GetCenterX:t(35893),GetCenterY:t(7702),GetLeft:t(26541),GetOffsetX:t(87431),GetOffsetY:t(46928),GetRight:t(54380),GetTop:t(17717),SetBottom:t(86327),SetCenterX:t(88417),SetCenterY:t(20786),SetLeft:t(385),SetRight:t(40136),SetTop:t(66737)}},20623:o=>{var g={setCrisp:function(t){var a=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return a.forEach(function(v){t.style["image-rendering"]=v}),t.style.msInterpolationMode="nearest-neighbor",t},setBicubic:function(t){return t.style["image-rendering"]="auto",t.style.msInterpolationMode="bicubic",t}};o.exports=g},27919:(o,g,t)=>{var a=t(8054),v=t(68703),h=[],s=!1,r=function(){var e=function(m,y,x,C,E){y===void 0&&(y=1),x===void 0&&(x=1),C===void 0&&(C=a.CANVAS),E===void 0&&(E=!1);var R,M=i(C);return M===null?(M={parent:m,canvas:document.createElement("canvas"),type:C},C===a.CANVAS&&h.push(M),R=M.canvas):(M.parent=m,R=M.canvas),E&&(M.parent=R),R.width=y,R.height=x,s&&C===a.CANVAS&&v.disable(R.getContext("2d",{willReadFrequently:!1})),R},n=function(m,y,x){return e(m,y,x,a.CANVAS)},l=function(m,y,x){return e(m,y,x,a.WEBGL)},i=function(m){if(m===void 0&&(m=a.CANVAS),m===a.WEBGL)return null;for(var y=0;y<h.length;y++){var x=h[y];if(!x.parent&&x.type===m)return x}return null},u=function(m){var y=m instanceof HTMLCanvasElement;h.forEach(function(x){(y&&x.canvas===m||!y&&x.parent===m)&&(x.parent=null,x.canvas.width=1,x.canvas.height=1)})},f=function(){var m=0;return h.forEach(function(y){y.parent&&m++}),m},c=function(){return h.length-f()},d=function(){s=!0},p=function(){s=!1};return{create2D:n,create:e,createWebGL:l,disableSmoothing:d,enableSmoothing:p,first:i,free:c,pool:h,remove:u,total:f}};o.exports=r()},68703:o=>{var g="",t=function(){var a=function(r){for(var e=["i","webkitI","msI","mozI","oI"],n=0;n<e.length;n++){var l=e[n]+"mageSmoothingEnabled";if(l in r)return l}return null},v=function(r){return g===""&&(g=a(r)),g&&(r[g]=!0),r},h=function(r){return g===""&&(g=a(r)),g&&(r[g]=!1),r},s=function(r){return g!==null?r[g]:null};return{disable:h,enable:v,getPrefix:a,isEnabled:s}};o.exports=t()},65208:o=>{var g=function(t,a){return a===void 0&&(a="none"),t.style.msTouchAction=a,t.style["ms-touch-action"]=a,t.style["touch-action"]=a,t};o.exports=g},91610:o=>{var g=function(t,a){a===void 0&&(a="none");var v=["-webkit-","-khtml-","-moz-","-ms-",""];return v.forEach(function(h){t.style[h+"user-select"]=a}),t.style["-webkit-touch-callout"]=a,t.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",t};o.exports=g},26253:(o,g,t)=>{o.exports={CanvasInterpolation:t(20623),CanvasPool:t(27919),Smoothing:t(68703),TouchAction:t(65208),UserSelect:t(91610)}},40987:(o,g,t)=>{var a=t(83419),v=t(37589),h=t(1e3),s=t(7537),r=t(87837),e=new a({initialize:function(l,i,u,f){l===void 0&&(l=0),i===void 0&&(i=0),u===void 0&&(u=0),f===void 0&&(f=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(l,i,u,f)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(n,l,i,u,f){return u===void 0&&(u=255),f===void 0&&(f=!0),this._locked=!0,this.red=n,this.green=l,this.blue=i,this.alpha=u,this._locked=!1,this.update(f)},setGLTo:function(n,l,i,u){return u===void 0&&(u=1),this._locked=!0,this.redGL=n,this.greenGL=l,this.blueGL=i,this.alphaGL=u,this._locked=!1,this.update(!0)},setFromRGB:function(n){return this._locked=!0,this.red=n.r,this.green=n.g,this.blue=n.b,n.hasOwnProperty("a")&&(this.alpha=n.a),this._locked=!1,this.update(!0)},setFromHSV:function(n,l,i){return s(n,l,i,this)},update:function(n){if(n===void 0&&(n=!1),this._locked)return this;var l=this.r,i=this.g,u=this.b,f=this.a;return this._color=v(l,i,u),this._color32=h(l,i,u,f),this._rgba="rgba("+l+","+i+","+u+","+f/255+")",n&&r(l,i,u,this),this},updateHSV:function(){var n=this.r,l=this.g,i=this.b;return r(n,l,i,this),this},clone:function(){return new e(this.r,this.g,this.b,this.a)},gray:function(n){return this.setTo(n,n,n)},random:function(n,l){n===void 0&&(n=0),l===void 0&&(l=255);var i=Math.floor(n+Math.random()*(l-n)),u=Math.floor(n+Math.random()*(l-n)),f=Math.floor(n+Math.random()*(l-n));return this.setTo(i,u,f)},randomGray:function(n,l){n===void 0&&(n=0),l===void 0&&(l=255);var i=Math.floor(n+Math.random()*(l-n));return this.setTo(i,i,i)},saturate:function(n){return this.s+=n/100,this},desaturate:function(n){return this.s-=n/100,this},lighten:function(n){return this.v+=n/100,this},darken:function(n){return this.v-=n/100,this},brighten:function(n){var l=this.r,i=this.g,u=this.b;return l=Math.max(0,Math.min(255,l-Math.round(255*-(n/100)))),i=Math.max(0,Math.min(255,i-Math.round(255*-(n/100)))),u=Math.max(0,Math.min(255,u-Math.round(255*-(n/100)))),this.setTo(l,i,u)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(n){this.gl[0]=Math.min(Math.abs(n),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(n){this.gl[1]=Math.min(Math.abs(n),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(n){this.gl[2]=Math.min(Math.abs(n),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(n){this.gl[3]=Math.min(Math.abs(n),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(n){n=Math.floor(Math.abs(n)),this.r=Math.min(n,255),this.gl[0]=n/255,this.update(!0)}},green:{get:function(){return this.g},set:function(n){n=Math.floor(Math.abs(n)),this.g=Math.min(n,255),this.gl[1]=n/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(n){n=Math.floor(Math.abs(n)),this.b=Math.min(n,255),this.gl[2]=n/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(n){n=Math.floor(Math.abs(n)),this.a=Math.min(n,255),this.gl[3]=n/255,this.update()}},h:{get:function(){return this._h},set:function(n){this._h=n,s(n,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(n){this._s=n,s(this._h,n,this._v,this)}},v:{get:function(){return this._v},set:function(n){this._v=n,s(this._h,this._s,n,this)}}});o.exports=e},92728:(o,g,t)=>{var a=t(37589),v=function(h){h===void 0&&(h=1024);var s=[],r=255,e,n=255,l=0,i=0;for(e=0;e<=r;e++)s.push({r:n,g:e,b:i,color:a(n,e,i)});for(l=255,e=r;e>=0;e--)s.push({r:e,g:l,b:i,color:a(e,l,i)});for(n=0,e=0;e<=r;e++,l--)s.push({r:n,g:l,b:e,color:a(n,l,e)});for(l=0,i=255,e=0;e<=r;e++,i--,n++)s.push({r:n,g:l,b:i,color:a(n,l,i)});if(h===1024)return s;var u=[],f=0,c=1024/h;for(e=0;e<h;e++)u.push(s[Math.floor(f)]),f+=c;return u};o.exports=v},91588:o=>{var g=function(t){var a={r:t>>16&255,g:t>>8&255,b:t&255,a:255};return t>16777215&&(a.a=t>>>24),a};o.exports=g},62957:o=>{var g=function(t){var a=t.toString(16);return a.length===1?"0"+a:a};o.exports=g},37589:o=>{var g=function(t,a,v){return t<<16|a<<8|v};o.exports=g},1e3:o=>{var g=function(t,a,v,h){return h<<24|t<<16|a<<8|v};o.exports=g},62183:(o,g,t)=>{var a=t(40987),v=t(89528),h=function(s,r,e){var n=e,l=e,i=e;if(r!==0){var u=e<.5?e*(1+r):e+r-e*r,f=2*e-u;n=v(f,u,s+1/3),l=v(f,u,s),i=v(f,u,s-1/3)}var c=new a;return c.setGLTo(n,l,i,1)};o.exports=h},27939:(o,g,t)=>{var a=t(7537),v=function(h,s){h===void 0&&(h=1),s===void 0&&(s=1);for(var r=[],e=0;e<=359;e++)r.push(a(e/359,h,s));return r};o.exports=v},7537:(o,g,t)=>{var a=t(37589);function v(s,r,e,n){var l=(s+r*6)%6,i=Math.min(l,4-l,1);return Math.round(255*(n-n*e*Math.max(0,i)))}var h=function(s,r,e,n){r===void 0&&(r=1),e===void 0&&(e=1);var l=v(5,s,r,e),i=v(3,s,r,e),u=v(1,s,r,e);return n?n.setTo?n.setTo(l,i,u,n.alpha,!0):(n.r=l,n.g=i,n.b=u,n.color=a(l,i,u),n):{r:l,g:i,b:u,color:a(l,i,u)}};o.exports=h},70238:(o,g,t)=>{var a=t(40987),v=function(h){var s=new a;h=h.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(i,u,f,c){return u+u+f+f+c+c});var r=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(h);if(r){var e=parseInt(r[1],16),n=parseInt(r[2],16),l=parseInt(r[3],16);s.setTo(e,n,l)}return s};o.exports=v},89528:o=>{var g=function(t,a,v){return v<0&&(v+=1),v>1&&(v-=1),v<.16666666666666666?t+(a-t)*6*v:v<.5?a:v<.6666666666666666?t+(a-t)*(.6666666666666666-v)*6:t};o.exports=g},30100:(o,g,t)=>{var a=t(40987),v=t(90664),h=function(s){var r=v(s);return new a(r.r,r.g,r.b,r.a)};o.exports=h},90664:o=>{var g=function(t){return t>16777215?{a:t>>>24,r:t>>16&255,g:t>>8&255,b:t&255}:{a:255,r:t>>16&255,g:t>>8&255,b:t&255}};o.exports=g},13699:(o,g,t)=>{var a=t(28915),v=t(37589),h=function(e,n,l,i,u,f,c,d){c===void 0&&(c=100),d===void 0&&(d=0);var p=d/c,m=a(e,i,p),y=a(n,u,p),x=a(l,f,p);return{r:m,g:y,b:x,a:255,color:v(m,y,x)}},s=function(e,n,l,i){return l===void 0&&(l=100),i===void 0&&(i=0),h(e.r,e.g,e.b,n.r,n.g,n.b,l,i)},r=function(e,n,l,i,u,f){return u===void 0&&(u=100),f===void 0&&(f=0),h(e.r,e.g,e.b,n,l,i,u,f)};o.exports={RGBWithRGB:h,ColorWithRGB:r,ColorWithColor:s}},68957:(o,g,t)=>{var a=t(40987),v=function(h){return new a(h.r,h.g,h.b,h.a)};o.exports=v},87388:(o,g,t)=>{var a=t(40987),v=function(h){var s=new a,r=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(h.toLowerCase());if(r){var e=parseInt(r[1],10),n=parseInt(r[2],10),l=parseInt(r[3],10),i=r[4]!==void 0?parseFloat(r[4]):1;s.setTo(e,n,l,i*255)}return s};o.exports=v},87837:o=>{var g=function(t,a,v,h){h===void 0&&(h={h:0,s:0,v:0}),t/=255,a/=255,v/=255;var s=Math.min(t,a,v),r=Math.max(t,a,v),e=r-s,n=0,l=r===0?0:e/r,i=r;return r!==s&&(r===t?n=(a-v)/e+(a<v?6:0):r===a?n=(v-t)/e+2:r===v&&(n=(t-a)/e+4),n/=6),h.hasOwnProperty("_h")?(h._h=n,h._s=l,h._v=i):(h.h=n,h.s=l,h.v=i),h};o.exports=g},75723:(o,g,t)=>{var a=t(62957),v=function(h,s,r,e,n){return e===void 0&&(e=255),n===void 0&&(n="#"),n==="#"?"#"+((1<<24)+(h<<16)+(s<<8)+r).toString(16).slice(1,7):"0x"+a(e)+a(h)+a(s)+a(r)};o.exports=v},85386:(o,g,t)=>{var a=t(30976),v=t(40987),h=function(s,r){return s===void 0&&(s=0),r===void 0&&(r=255),new v(a(s,r),a(s,r),a(s,r))};o.exports=h},80333:(o,g,t)=>{var a=t(70238),v=t(30100),h=t(68957),s=t(87388),r=function(e){var n=typeof e;switch(n){case"string":return e.substr(0,3).toLowerCase()==="rgb"?s(e):a(e);case"number":return v(e);case"object":return h(e)}};o.exports=r},3956:(o,g,t)=>{var a=t(40987);a.ColorSpectrum=t(92728),a.ColorToRGBA=t(91588),a.ComponentToHex=t(62957),a.GetColor=t(37589),a.GetColor32=t(1e3),a.HexStringToColor=t(70238),a.HSLToColor=t(62183),a.HSVColorWheel=t(27939),a.HSVToRGB=t(7537),a.HueToComponent=t(89528),a.IntegerToColor=t(30100),a.IntegerToRGB=t(90664),a.Interpolate=t(13699),a.ObjectToColor=t(68957),a.RandomRGB=t(85386),a.RGBStringToColor=t(87388),a.RGBToHSV=t(87837),a.RGBToString=t(75723),a.ValueToColor=t(80333),o.exports=a},27460:(o,g,t)=>{o.exports={Align:t(71926),BaseShader:t(73894),Bounds:t(58724),Canvas:t(26253),Color:t(3956),ColorMatrix:t(89422),Masks:t(69781),RGB:t(51767)}},6858:(o,g,t)=>{var a=t(83419),v=t(39429),h=new a({initialize:function(r,e,n,l,i,u){e||(e=r.sys.make.image({x:n,y:l,key:i,frame:u,add:!1})),this.bitmapMask=e,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(s){this.bitmapMask=s},preRenderWebGL:function(s,r,e){s.pipelines.BITMAPMASK_PIPELINE.beginMask(this,r,e)},postRenderWebGL:function(s,r,e){s.pipelines.BITMAPMASK_PIPELINE.endMask(this,r,e)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});v.register("bitmapMask",function(s,r,e,n,l){return new h(this.scene,s,r,e,n,l)}),o.exports=h},80661:(o,g,t)=>{var a=t(83419),v=new a({initialize:function(s,r){this.geometryMask=r,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(h){return this.geometryMask=h,this},setInvertAlpha:function(h){return h===void 0&&(h=!0),this.invertAlpha=h,this},preRenderWebGL:function(h,s,r){var e=h.gl;h.flush(),h.maskStack.length===0&&(e.enable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),h.maskCount=0),h.currentCameraMask.mask!==this&&(h.currentMask.mask=this),h.maskStack.push({mask:this,camera:r}),this.applyStencil(h,r,!0),h.maskCount++},applyStencil:function(h,s,r){var e=h.gl,n=this.geometryMask,l=h.maskCount,i=255;e.colorMask(!1,!1,!1,!1),r?(e.stencilFunc(e.EQUAL,l,i),e.stencilOp(e.KEEP,e.KEEP,e.INCR),l++):(e.stencilFunc(e.EQUAL,l+1,i),e.stencilOp(e.KEEP,e.KEEP,e.DECR)),this.level=l,n.renderWebGL(h,n,s),h.flush(),e.colorMask(!0,!0,!0,!0),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),this.invertAlpha?e.stencilFunc(e.NOTEQUAL,l,i):e.stencilFunc(e.EQUAL,l,i)},postRenderWebGL:function(h){var s=h.gl;h.maskStack.pop(),h.maskCount--,h.flush();var r=h.currentMask;if(h.maskStack.length===0)r.mask=null,s.disable(s.STENCIL_TEST);else{var e=h.maskStack[h.maskStack.length-1];e.mask.applyStencil(h,e.camera,!1),h.currentCameraMask.mask!==e.mask?(r.mask=e.mask,r.camera=e.camera):r.mask=null}},preRenderCanvas:function(h,s,r){var e=this.geometryMask;h.currentContext.save(),e.renderCanvas(h,e,r,null,null,!0),h.currentContext.clip()},postRenderCanvas:function(h){h.currentContext.restore()},destroy:function(){this.geometryMask=null}});o.exports=v},69781:(o,g,t)=>{o.exports={BitmapMask:t(6858),GeometryMask:t(80661)}},73894:(o,g,t)=>{var a=t(83419),v=new a({initialize:function(s,r,e,n){(!r||r==="")&&(r=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!e||e==="")&&(e=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),n===void 0&&(n=null),this.key=s,this.fragmentSrc=r,this.vertexSrc=e,this.uniforms=n}});o.exports=v},40366:o=>{var g=function(t,a){var v;if(a)typeof a=="string"?v=document.getElementById(a):typeof a=="object"&&a.nodeType===1&&(v=a);else if(t.parentElement||a===null)return t;return v||(v=document.body),v.appendChild(t),t};o.exports=g},83719:(o,g,t)=>{var a=t(40366),v=function(h){var s=h.config;if(!(!s.parent||!s.domCreateContainer)){var r=document.createElement("div");r.style.cssText=["display: block;","width: "+h.scale.width+"px;","height: "+h.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+s.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),h.domContainer=r,a(r,s.parent)}};o.exports=v},57264:(o,g,t)=>{var a=t(25892),v=function(h){if(document.readyState==="complete"||document.readyState==="interactive"){h();return}var s=function(){document.removeEventListener("deviceready",s,!0),document.removeEventListener("DOMContentLoaded",s,!0),window.removeEventListener("load",s,!0),h()};document.body?a.cordova?document.addEventListener("deviceready",s,!1):(document.addEventListener("DOMContentLoaded",s,!0),window.addEventListener("load",s,!0)):window.setTimeout(s,20)};o.exports=v},57811:o=>{var g=function(t){if(!t)return window.innerHeight;var a=Math.abs(window.orientation),v={w:0,h:0},h=document.createElement("div");return h.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(h),v.w=a===90?h.offsetHeight:window.innerWidth,v.h=a===90?window.innerWidth:h.offsetHeight,document.documentElement.removeChild(h),h=null,Math.abs(window.orientation)!==90?v.h:v.w};o.exports=g},45818:(o,g,t)=>{var a=t(13560),v=function(h,s){var r=window.screen,e=r?r.orientation||r.mozOrientation||r.msOrientation:!1;if(e&&typeof e.type=="string")return e.type;if(typeof e=="string")return e;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?a.ORIENTATION.PORTRAIT:a.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return a.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return a.ORIENTATION.LANDSCAPE}else return s>h?a.ORIENTATION.PORTRAIT:a.ORIENTATION.LANDSCAPE};o.exports=v},74403:o=>{var g=function(t){var a;return t!==""&&(typeof t=="string"?a=document.getElementById(t):t&&t.nodeType===1&&(a=t)),a||(a=document.body),a};o.exports=g},56836:o=>{var g=function(t){var a="";try{if(window.DOMParser){var v=new DOMParser;a=v.parseFromString(t,"text/xml")}else a=new ActiveXObject("Microsoft.XMLDOM"),a.loadXML(t)}catch{a=null}return!a||!a.documentElement||a.getElementsByTagName("parsererror").length?null:a};o.exports=g},35846:o=>{var g=function(t){t.parentNode&&t.parentNode.removeChild(t)};o.exports=g},43092:(o,g,t)=>{var a=t(83419),v=t(29747),h=new a({initialize:function(){this.isRunning=!1,this.callback=v,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var r=this;this.step=function e(n){r.callback(n),r.isRunning&&(r.timeOutID=window.requestAnimationFrame(e))},this.stepTimeout=function e(){r.isRunning&&(r.timeOutID=window.setTimeout(e,r.delay)),r.callback(window.performance.now())}},start:function(s,r,e){this.isRunning||(this.callback=s,this.isSetTimeOut=r,this.delay=e,this.isRunning=!0,this.timeOutID=r?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=v}});o.exports=h},84902:(o,g,t)=>{var a={AddToDOM:t(40366),DOMContentLoaded:t(57264),GetInnerHeight:t(57811),GetScreenOrientation:t(45818),GetTarget:t(74403),ParseXML:t(56836),RemoveFromDOM:t(35846),RequestAnimationFrame:t(43092)};o.exports=a},47565:(o,g,t)=>{var a=t(83419),v=t(50792),h=t(37277),s=new a({Extends:v,initialize:function(){v.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});h.register("EventEmitter",s,"events"),o.exports=s},93055:(o,g,t)=>{o.exports={EventEmitter:t(47565)}},20122:(o,g,t)=>{var a=t(83419),v=t(72898),h=t(14811),s=new a({Extends:v,initialize:function(e,n){n===void 0&&(n=1),v.call(this,h.BARREL,e),this.amount=n}});o.exports=s},32251:(o,g,t)=>{var a=t(83419),v=t(72898),h=t(14811),s=new a({Extends:v,initialize:function(e,n,l,i,u,f,c){l===void 0&&(l=1),i===void 0&&(i=1),u===void 0&&(u=1),f===void 0&&(f=1),c===void 0&&(c=4),v.call(this,h.BLOOM,e),this.steps=c,this.offsetX=l,this.offsetY=i,this.blurStrength=u,this.strength=f,this.glcolor=[1,1,1],n!=null&&(this.color=n)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var e=this.glcolor;e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255}}});o.exports=s},9047:(o,g,t)=>{var a=t(83419),v=t(72898),h=t(14811),s=new a({Extends:v,initialize:function(e,n,l,i,u,f,c){n===void 0&&(n=0),l===void 0&&(l=2),i===void 0&&(i=2),u===void 0&&(u=1),c===void 0&&(c=4),v.call(this,h.BLUR,e),this.quality=n,this.x=l,this.y=i,this.steps=c,this.strength=u,this.glcolor=[1,1,1],f!=null&&(this.color=f)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var e=this.glcolor;e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255}}});o.exports=s},27885:(o,g,t)=>{var a=t(83419),v=t(72898),h=t(14811),s=new a({Extends:v,initialize:function(e,n,l,i,u,f,c,d){n===void 0&&(n=.5),l===void 0&&(l=1),i===void 0&&(i=.2),u===void 0&&(u=!1),f===void 0&&(f=1),c===void 0&&(c=1),d===void 0&&(d=1),v.call(this,h.BOKEH,e),this.radius=n,this.amount=l,this.contrast=i,this.isTiltShift=u,this.strength=d,this.blurX=f,this.blurY=c}});o.exports=s},12578:(o,g,t)=>{var a=t(83419),v=t(72898),h=t(14811),s=new a({Extends:v,initialize:function(e,n,l,i,u,f){n===void 0&&(n=8),u===void 0&&(u=1),f===void 0&&(f=.005),v.call(this,h.CIRCLE,e),this.scale=u,this.feather=f,this.thickness=n,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],l!=null&&(this.color=l),i!=null&&(this.backgroundColor=i)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var e=this.glcolor;e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255}},backgroundColor:{get:function(){var r=this.glcolor2;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var e=this.glcolor2;e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(r){this.glcolor2[3]=r}}});o.exports=s},15802:(o,g,t)=>{var a=t(83419),v=t(89422),h=t(14811),s=new a({Extends:v,initialize:function(e){v.call(this),this.type=h.COLOR_MATRIX,this.gameObject=e,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});o.exports=s},72898:(o,g,t)=>{var a=t(83419),v=new a({initialize:function(s,r){this.type=s,this.gameObject=r,this.active=!0},setActive:function(h){return this.active=h,this},destroy:function(){this.gameObject=null,this.active=!1}});o.exports=v},44553:(o,g,t)=>{var a=t(83419),v=t(72898),h=t(14811),s=new a({Extends:v,initialize:function(e,n,l,i){n===void 0&&(n="__WHITE"),l===void 0&&(l=.005),i===void 0&&(i=.005),v.call(this,h.DISPLACEMENT,e),this.x=l,this.y=i,this.glTexture,this.setTexture(n)},setTexture:function(r){var e=this.gameObject.scene.sys.textures.getFrame(r);return e&&(this.glTexture=e.glTexture),this}});o.exports=s},68531:(o,g,t)=>{var a=t(83419),v=t(72898),h=t(14811),s=new a({Extends:v,initialize:function(e,n,l,i,u){l===void 0&&(l=4),i===void 0&&(i=0),u===void 0&&(u=!1),v.call(this,h.GLOW,e),this.outerStrength=l,this.innerStrength=i,this.knockout=u,this.glcolor=[1,1,1,1],n!==void 0&&(this.color=n)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var e=this.glcolor;e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255}}});o.exports=s},37102:(o,g,t)=>{var a=t(83419),v=t(72898),h=t(14811),s=new a({Extends:v,initialize:function(e,n,l,i,u,f,c,d,p){i===void 0&&(i=.2),u===void 0&&(u=0),f===void 0&&(f=0),c===void 0&&(c=0),d===void 0&&(d=1),p===void 0&&(p=0),v.call(this,h.GRADIENT,e),this.alpha=i,this.size=p,this.fromX=u,this.fromY=f,this.toX=c,this.toY=d,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],n!=null&&(this.color1=n),l!=null&&(this.color2=l)},color1:{get:function(){var r=this.glcolor1;return(r[0]<<16)+(r[1]<<8)+(r[2]|0)},set:function(r){var e=this.glcolor1;e[0]=r>>16&255,e[1]=r>>8&255,e[2]=r&255}},color2:{get:function(){var r=this.glcolor2;return(r[0]<<16)+(r[1]<<8)+(r[2]|0)},set:function(r){var e=this.glcolor2;e[0]=r>>16&255,e[1]=r>>8&255,e[2]=r&255}}});o.exports=s},86886:(o,g,t)=>{var a=t(83419),v=t(72898),h=t(14811),s=new a({Extends:v,initialize:function(e,n){n===void 0&&(n=1),v.call(this,h.PIXELATE,e),this.amount=n}});o.exports=s},92322:(o,g,t)=>{var a=t(83419),v=t(72898),h=t(14811),s=new a({Extends:v,initialize:function(e,n,l,i,u,f,c,d){n===void 0&&(n=0),l===void 0&&(l=0),i===void 0&&(i=.1),u===void 0&&(u=1),c===void 0&&(c=6),d===void 0&&(d=1),v.call(this,h.SHADOW,e),this.x=n,this.y=l,this.decay=i,this.power=u,this.glcolor=[0,0,0,1],this.samples=c,this.intensity=d,f!==void 0&&(this.color=f)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var e=this.glcolor;e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255}}});o.exports=s},39563:(o,g,t)=>{var a=t(83419),v=t(72898),h=t(14811),s=new a({Extends:v,initialize:function(e,n,l,i,u){n===void 0&&(n=.5),l===void 0&&(l=.5),i===void 0&&(i=3),u===void 0&&(u=!1),v.call(this,h.SHINE,e),this.speed=n,this.lineWidth=l,this.gradient=i,this.reveal=u}});o.exports=s},56448:(o,g,t)=>{var a=t(83419),v=t(72898),h=t(14811),s=new a({Extends:v,initialize:function(e,n,l,i,u){n===void 0&&(n=.5),l===void 0&&(l=.5),i===void 0&&(i=.5),u===void 0&&(u=.5),v.call(this,h.VIGNETTE,e),this.x=n,this.y=l,this.radius=i,this.strength=u}});o.exports=s},38433:(o,g,t)=>{var a=t(83419),v=t(72898),h=t(14811),s=new a({Extends:v,initialize:function(e,n,l,i,u){n===void 0&&(n=.1),l===void 0&&(l=0),i===void 0&&(i=0),u===void 0&&(u=!1),v.call(this,h.WIPE,e),this.progress=0,this.wipeWidth=n,this.direction=l,this.axis=i,this.reveal=u}});o.exports=s},14811:o=>{var g={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};o.exports=g},66064:(o,g,t)=>{var a=t(79291),v=t(14811),h={Barrel:t(20122),Controller:t(72898),Bloom:t(32251),Blur:t(9047),Bokeh:t(27885),Circle:t(12578),ColorMatrix:t(15802),Displacement:t(44553),Glow:t(68531),Gradient:t(37102),Pixelate:t(86886),Shadow:t(92322),Shine:t(39563),Vignette:t(56448),Wipe:t(38433)};h=a(!1,h,v),o.exports=h},25305:(o,g,t)=>{var a=t(10312),v=t(23568),h=function(s,r,e){r.x=v(e,"x",0),r.y=v(e,"y",0),r.depth=v(e,"depth",0),r.flipX=v(e,"flipX",!1),r.flipY=v(e,"flipY",!1);var n=v(e,"scale",null);typeof n=="number"?r.setScale(n):n!==null&&(r.scaleX=v(n,"x",1),r.scaleY=v(n,"y",1));var l=v(e,"scrollFactor",null);typeof l=="number"?r.setScrollFactor(l):l!==null&&(r.scrollFactorX=v(l,"x",1),r.scrollFactorY=v(l,"y",1)),r.rotation=v(e,"rotation",0);var i=v(e,"angle",null);i!==null&&(r.angle=i),r.alpha=v(e,"alpha",1);var u=v(e,"origin",null);if(typeof u=="number")r.setOrigin(u);else if(u!==null){var f=v(u,"x",.5),c=v(u,"y",.5);r.setOrigin(f,c)}r.blendMode=v(e,"blendMode",a.NORMAL),r.visible=v(e,"visible",!0);var d=v(e,"add",!0);return d&&s.sys.displayList.add(r),r.preUpdate&&s.sys.updateList.add(r),r};o.exports=h},13059:(o,g,t)=>{var a=t(23568),v=function(h,s){var r=a(s,"anims",null);if(r===null)return h;if(typeof r=="string")h.anims.play(r);else if(typeof r=="object"){var e=h.anims,n=a(r,"key",void 0);if(n){var l=a(r,"startFrame",void 0),i=a(r,"delay",0),u=a(r,"repeat",0),f=a(r,"repeatDelay",0),c=a(r,"yoyo",!1),d=a(r,"play",!1),p=a(r,"delayedPlay",0),m={key:n,delay:i,repeat:u,repeatDelay:f,yoyo:c,startFrame:l};d?e.play(m):p>0?e.playAfterDelay(m,p):e.load(m)}}return h};o.exports=v},8050:(o,g,t)=>{var a=t(83419),v=t(73162),h=t(37277),s=t(51708),r=t(44594),e=t(19186),n=new a({Extends:v,initialize:function(i){v.call(this,i),this.sortChildrenFlag=!1,this.scene=i,this.systems=i.sys,this.events=i.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(r.BOOT,this.boot,this),this.events.on(r.START,this.start,this)},boot:function(){this.events.once(r.DESTROY,this.destroy,this)},addChildCallback:function(l){l.displayList&&l.displayList!==this&&l.removeFromDisplayList(),l.parentContainer&&l.parentContainer.remove(l),l.displayList||(this.queueDepthSort(),l.displayList=this,l.emit(s.ADDED_TO_SCENE,l,this.scene),this.events.emit(r.ADDED_TO_SCENE,l,this.scene))},removeChildCallback:function(l){this.queueDepthSort(),l.displayList=null,l.emit(s.REMOVED_FROM_SCENE,l,this.scene),this.events.emit(r.REMOVED_FROM_SCENE,l,this.scene)},start:function(){this.events.once(r.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(e(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(l,i){return l._depth-i._depth},getChildren:function(){return this.list},shutdown:function(){for(var l=this.list,i=l.length;i--;)l[i]&&l[i].destroy(!0);l.length=0,this.events.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(r.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});h.register("DisplayList",n,"displayList"),o.exports=n},95643:(o,g,t)=>{var a=t(83419),v=t(53774),h=t(45893),s=t(50792),r=t(51708),e=t(44594),n=new a({Extends:s,initialize:function(i,u){s.call(this),this.scene=i,this.displayList=null,this.type=u,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(r.ADDED_TO_SCENE,this.addedToScene,this),this.on(r.REMOVED_FROM_SCENE,this.removedFromScene,this),i.sys.queueDepthSort()},setActive:function(l){return this.active=l,this},setName:function(l){return this.name=l,this},setState:function(l){return this.state=l,this},setDataEnabled:function(){return this.data||(this.data=new h(this)),this},setData:function(l,i){return this.data||(this.data=new h(this)),this.data.set(l,i),this},incData:function(l,i){return this.data||(this.data=new h(this)),this.data.inc(l,i),this},toggleData:function(l){return this.data||(this.data=new h(this)),this.data.toggle(l),this},getData:function(l){return this.data||(this.data=new h(this)),this.data.get(l)},setInteractive:function(l,i,u){return this.scene.sys.input.enable(this,l,i,u),this},disableInteractive:function(l){return l===void 0&&(l=!1),this.scene.sys.input.disable(this,l),this},removeInteractive:function(l){return l===void 0&&(l=!1),this.scene.sys.input.clear(this),l&&this.scene.sys.input.resetCursor(),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return v(this)},willRender:function(l){var i=this.displayList&&this.displayList.active?this.displayList.willRender(l):!0;return!(!i||n.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&l.id)},getIndexList:function(){for(var l=this,i=this.parentContainer,u=[];i&&(u.unshift(i.getIndex(l)),l=i,i.parentContainer);)i=i.parentContainer;return this.displayList?u.unshift(this.displayList.getIndex(l)):u.unshift(this.scene.sys.displayList.getIndex(l)),u},addToDisplayList:function(l){return l===void 0&&(l=this.scene.sys.displayList),this.displayList&&this.displayList!==l&&this.removeFromDisplayList(),l.exists(this)||(this.displayList=l,l.add(this,!0),l.queueDepthSort(),this.emit(r.ADDED_TO_SCENE,this,this.scene),l.events.emit(e.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var l=this.displayList||this.scene.sys.displayList;return l&&l.exists(this)&&(l.remove(this,!0),l.queueDepthSort(),this.displayList=null,this.emit(r.REMOVED_FROM_SCENE,this,this.scene),l.events.emit(e.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},getDisplayList:function(){var l=null;return this.parentContainer?l=this.parentContainer.list:this.displayList&&(l=this.displayList.list),l},destroy:function(l){!this.scene||this.ignoreDestroy||(l===void 0&&(l=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(r.DESTROY,this,l),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});n.RENDER_MASK=15,o.exports=n},44603:(o,g,t)=>{var a=t(83419),v=t(37277),h=t(44594),s=new a({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(h.BOOT,this.boot,this),this.events.on(h.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(h.DESTROY,this.destroy,this)},start:function(){this.events.once(h.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(h.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});s.register=function(r,e){s.prototype.hasOwnProperty(r)||(s.prototype[r]=e)},s.remove=function(r){s.prototype.hasOwnProperty(r)&&delete s.prototype[r]},v.register("GameObjectCreator",s,"make"),o.exports=s},39429:(o,g,t)=>{var a=t(83419),v=t(37277),h=t(44594),s=new a({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(h.BOOT,this.boot,this),this.events.on(h.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(h.DESTROY,this.destroy,this)},start:function(){this.events.once(h.SHUTDOWN,this.shutdown,this)},existing:function(r){return(r.renderCanvas||r.renderWebGL)&&this.displayList.add(r),r.preUpdate&&this.updateList.add(r),r},shutdown:function(){this.events.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(h.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});s.register=function(r,e){s.prototype.hasOwnProperty(r)||(s.prototype[r]=e)},s.remove=function(r){s.prototype.hasOwnProperty(r)&&delete s.prototype[r]},v.register("GameObjectFactory",s,"add"),o.exports=s},91296:(o,g,t)=>{var a=t(61340),v=new a,h=new a,s=new a,r={camera:v,sprite:h,calc:s},e=function(n,l,i){var u=v,f=h,c=s;return f.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY),u.copyFrom(l.matrix),i?(u.multiplyWithOffset(i,-l.scrollX*n.scrollFactorX,-l.scrollY*n.scrollFactorY),f.e=n.x,f.f=n.y):(f.e-=l.scrollX*n.scrollFactorX,f.f-=l.scrollY*n.scrollFactorY),u.multiply(f,c),r};o.exports=e},45027:(o,g,t)=>{var a=t(83419),v=t(25774),h=t(37277),s=t(44594),r=new a({Extends:v,initialize:function(n){v.call(this),this.checkQueue=!0,this.scene=n,this.systems=n.sys,n.sys.events.once(s.BOOT,this.boot,this),n.sys.events.on(s.START,this.start,this)},boot:function(){this.systems.events.once(s.DESTROY,this.destroy,this)},start:function(){var e=this.systems.events;e.on(s.PRE_UPDATE,this.update,this),e.on(s.UPDATE,this.sceneUpdate,this),e.once(s.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(e,n){for(var l=this._active,i=l.length,u=0;u<i;u++){var f=l[u];f.active&&f.preUpdate.call(f,e,n)}},shutdown:function(){for(var e=this._active.length;e--;)this._active[e].destroy(!0);for(e=this._pending.length;e--;)this._pending[e].destroy(!0);for(e=this._destroy.length;e--;)this._destroy[e].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var n=this.systems.events;n.off(s.PRE_UPDATE,this.update,this),n.off(s.UPDATE,this.sceneUpdate,this),n.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(s.START,this.start,this),this.scene=null,this.systems=null}});h.register("UpdateList",r,"updateList"),o.exports=r},3217:o=>{var g=function(t,a,v,h,s,r,e,n,l,i,u,f,c,d,p){var m=v.x-a.displayOriginX+s,y=v.y-a.displayOriginY+r,x=m+v.w,C=y+v.h,E=e.a,R=e.b,M=e.c,w=e.d,D=e.e,F=e.f,I=m*E+y*M+D,L=m*R+y*w+F,B=m*E+C*M+D,G=m*R+C*w+F,V=x*E+C*M+D,X=x*R+C*w+F,b=x*E+y*M+D,U=x*R+y*w+F;n&&(I=Math.round(I),L=Math.round(L),B=Math.round(B),G=Math.round(G),V=Math.round(V),X=Math.round(X),b=Math.round(b),U=Math.round(U)),t.batchQuad(a,I,L,B,G,V,X,b,U,h.u0,h.v0,h.u1,h.v1,l,i,u,f,c,d,p)};o.exports=g},53048:o=>{var g=function(t,a,v,h){if(v===void 0&&(v=!1),h===void 0)return h={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},h;var s=t.text,r=s.length,e=t.maxWidth,n=t.wordWrapCharCode,l=Number.MAX_VALUE,i=Number.MAX_VALUE,u=0,f=0,c=t.fontData.chars,d=t.fontData.lineHeight,p=t.letterSpacing,m=t.lineSpacing,y=0,x=0,C=0,E=null,R=t._align,M=0,w=0,D=t.fontSize/t.fontData.size,F=D*t.scaleX,I=D*t.scaleY,L=null,B=0,G=[],V=Number.MAX_VALUE,X=0,b=0,U=0,O,z,N,Y=[],W=[],H=null,$=function(Ft,jt){for(var Et=0,Lt=0;Lt<Ft.length;Lt++){var bt=Ft.charCodeAt(Lt),te=jt.chars[bt];te&&(Et+=te.xAdvance)}return Et*F};if(e>0){N=s.split(`
`);var j=[];for(O=0;O<N.length;O++){var Z=N[O],J="",K="",Q="",_="";for(z=0;z<Z.length;z++)if(C=Z.charCodeAt(z),J+=Z[z],C===n||z===Z.length-1){_=Q+J;var k=$(_,t.fontData);k<=e?Q=_:(K=K.slice(0,-1),K+=(K?`
`:"")+Q,Q=J),J=""}K=K.slice(0,-1),K+=(K?`
`:"")+Q,j.push(K)}s=j.join(`
`),h.wrappedText=s,r=s.length}var nt=0;for(O=0;O<r;O++){if(C=s.charCodeAt(O),C===10){H!==null&&(Y.push({word:H.word,i:H.i,x:H.x*F,y:H.y*I,w:H.w*F,h:H.h*I}),H=null),L=null,G[b]=U,U>X&&(X=U),U<V&&(V=U),b++,U=0,y=0,x=(d+m)*b;continue}if(E=c[C],!!E){if(M=y,w=x,L!==null){var st=E.kerning[B];M+=st!==void 0?st:0}l>M&&(l=M),i>w&&(i=w);var at=M+E.xAdvance,q=w+d;u<at&&(u=at),f<q&&(f=q);var et=E.xOffset+E.xAdvance+(st!==void 0?st:0);C===n?H!==null&&(Y.push({word:H.word,i:H.i,x:H.x*F,y:H.y*I,w:H.w*F,h:H.h*I}),H=null):(H===null&&(H={word:"",i:nt,x:y,y:x,w:0,h:d}),H.word=H.word.concat(s[O]),H.w+=et),W.push({i:nt,idx:O,char:s[O],code:C,x:(E.xOffset+M)*D,y:(E.yOffset+x)*D,w:E.width*D,h:E.height*D,t:x*D,r:at*D,b:d*D,line:b,glyph:E}),y+=E.xAdvance+p+(st!==void 0?st:0),L=E,B=C,U=at*D,nt++}}if(H!==null&&Y.push({word:H.word,i:H.i,x:H.x*F,y:H.y*I,w:H.w*F,h:H.h*I}),G[b]=U,U>X&&(X=U),U<V&&(V=U),R>0)for(var it=0;it<W.length;it++){var lt=W[it];if(R===1){var gt=(X-G[lt.line])/2;lt.x+=gt,lt.r+=gt}else if(R===2){var wt=X-G[lt.line];lt.x+=wt,lt.r+=wt}}var ct=h.local,pt=h.global;return N=h.lines,ct.x=l*D,ct.y=i*D,ct.width=u*D,ct.height=f*D,pt.x=t.x-t._displayOriginX+l*F,pt.y=t.y-t._displayOriginY+i*I,pt.width=u*F,pt.height=f*I,N.shortest=V,N.longest=X,N.lengths=G,a&&(ct.x=Math.ceil(ct.x),ct.y=Math.ceil(ct.y),ct.width=Math.ceil(ct.width),ct.height=Math.ceil(ct.height),pt.x=Math.ceil(pt.x),pt.y=Math.ceil(pt.y),pt.width=Math.ceil(pt.width),pt.height=Math.ceil(pt.height),N.shortest=Math.ceil(V),N.longest=Math.ceil(X)),v&&(t._displayOriginX=t.originX*ct.width,t._displayOriginY=t.originY*ct.height,pt.x=t.x-t._displayOriginX*t.scaleX,pt.y=t.y-t._displayOriginY*t.scaleY,a&&(pt.x=Math.ceil(pt.x),pt.y=Math.ceil(pt.y))),h.words=Y,h.characters=W,h.lines.height=d,h.scale=D,h.scaleX=t.scaleX,h.scaleY=t.scaleY,h};o.exports=g},61327:(o,g,t)=>{var a=t(21859),v=function(h,s,r,e,n,l,i){var u=h.sys.textures.get(r),f=u.get(e),c=h.sys.cache.xml.get(n);if(f&&c){var d=a(c,f,l,i,u);return h.sys.cache.bitmapFont.add(s,{data:d,texture:r,frame:e,fromAtlas:!0}),!0}else return!1};o.exports=v},6925:(o,g,t)=>{var a=t(35154),v=function(h,s){var r=s.width,e=s.height,n=Math.floor(r/2),l=Math.floor(e/2),i=a(s,"chars","");if(i!==""){var u=a(s,"image",""),f=h.sys.textures.getFrame(u),c=f.cutX,d=f.cutY,p=f.source.width,m=f.source.height,y=a(s,"offset.x",0),x=a(s,"offset.y",0),C=a(s,"spacing.x",0),E=a(s,"spacing.y",0),R=a(s,"lineSpacing",0),M=a(s,"charsPerRow",null);M===null&&(M=p/r,M>i.length&&(M=i.length));for(var w=y,D=x,F={retroFont:!0,font:u,size:r,lineHeight:e+R,chars:{}},I=0,L=0;L<i.length;L++){var B=i.charCodeAt(L),G=(c+w)/p,V=(d+D)/m,X=(c+w+r)/p,b=(d+D+e)/m;F.chars[B]={x:w,y:D,width:r,height:e,centerX:n,centerY:l,xOffset:0,yOffset:0,xAdvance:r,data:{},kerning:{},u0:G,v0:V,u1:X,v1:b},I++,I===M?(I=0,w=y,D+=e+E):w+=r+C}var U={data:F,frame:null,texture:u};return U}};o.exports=v},21859:o=>{function g(a,v){return parseInt(a.getAttribute(v),10)}var t=function(a,v,h,s,r){h===void 0&&(h=0),s===void 0&&(s=0);var e=v.cutX,n=v.cutY,l=v.source.width,i=v.source.height,u=v.sourceIndex,f={},c=a.getElementsByTagName("info")[0],d=a.getElementsByTagName("common")[0];f.font=c.getAttribute("face"),f.size=g(c,"size"),f.lineHeight=g(d,"lineHeight")+s,f.chars={};var p=a.getElementsByTagName("char"),m=v!==void 0&&v.trimmed;if(m)var y=v.height,x=v.width;for(var C=0;C<p.length;C++){var E=p[C],R=g(E,"id"),M=String.fromCharCode(R),w=g(E,"x"),D=g(E,"y"),F=g(E,"width"),I=g(E,"height");m&&(w<x&&(x=w),D<y&&(y=D)),m&&y!==0&&x!==0&&(w-=v.x,D-=v.y);var L=(e+w)/l,B=(n+D)/i,G=(e+w+F)/l,V=(n+D+I)/i;if(f.chars[R]={x:w,y:D,width:F,height:I,centerX:Math.floor(F/2),centerY:Math.floor(I/2),xOffset:g(E,"xoffset"),yOffset:g(E,"yoffset"),xAdvance:g(E,"xadvance")+h,data:{},kerning:{},u0:L,v0:B,u1:G,v1:V},r&&F!==0&&I!==0){var X=r.add(M,u,w,D,F,I);X&&X.setUVs(F,I,L,B,G,V)}}var b=a.getElementsByTagName("kerning");for(C=0;C<b.length;C++){var U=b[C],O=g(U,"first"),z=g(U,"second"),N=g(U,"amount");f.chars[z].kerning[O]=N}return f};o.exports=t},196:(o,g,t)=>{var a=t(87662),v=t(79291),h={Parse:t(6925)};h=v(!1,h,a),o.exports=h},87662:o=>{var g={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};o.exports=g},2638:(o,g,t)=>{var a=t(22186),v=t(83419),h=t(12310),s=new v({Extends:a,Mixins:[h],initialize:function(e,n,l,i,u,f,c){a.call(this,e,n,l,i,u,f,c),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(r,e){return this.cropWidth=r,this.cropHeight=e,this},setDisplayCallback:function(r){return this.displayCallback=r,this},setScrollX:function(r){return this.scrollX=r,this},setScrollY:function(r){return this.scrollY=r,this}});o.exports=s},86741:(o,g,t)=>{var a=t(20926),v=function(h,s,r,e){var n=s._text,l=n.length,i=h.currentContext;if(!(l===0||!a(h,i,s,r,e))){r.addToRenderList(s);var u=s.fromAtlas?s.frame:s.texture.frames.__BASE,f=s.displayCallback,c=s.callbackData,d=s.fontData.chars,p=s.fontData.lineHeight,m=s._letterSpacing,y=0,x=0,C=0,E=null,R=0,M=0,w=0,D=0,F=0,I=0,L=null,B=0,G=s.frame.source.image,V=u.cutX,X=u.cutY,b=0,U=0,O=s._fontSize/s.fontData.size,z=s._align,N=0,Y=0;s.getTextBounds(!1);var W=s._bounds.lines;z===1?Y=(W.longest-W.lengths[0])/2:z===2&&(Y=W.longest-W.lengths[0]),i.translate(-s.displayOriginX,-s.displayOriginY);var H=r.roundPixels;s.cropWidth>0&&s.cropHeight>0&&(i.beginPath(),i.rect(0,0,s.cropWidth,s.cropHeight),i.clip());for(var $=0;$<l;$++){if(U=O,b=0,C=n.charCodeAt($),C===10){N++,z===1?Y=(W.longest-W.lengths[N])/2:z===2&&(Y=W.longest-W.lengths[N]),y=0,x+=p,L=null;continue}if(E=d[C],!!E){if(R=V+E.x,M=X+E.y,w=E.width,D=E.height,F=E.xOffset+y-s.scrollX,I=E.yOffset+x-s.scrollY,L!==null){var j=E.kerning[B];F+=j!==void 0?j:0}if(f){c.index=$,c.charCode=C,c.x=F,c.y=I,c.scale=U,c.rotation=b,c.data=E.data;var Z=f(c);F=Z.x,I=Z.y,U=Z.scale,b=Z.rotation}F*=U,I*=U,F+=Y,y+=E.xAdvance+m+(j!==void 0?j:0),L=E,B=C,!(w===0||D===0||C===32)&&(H&&(F=Math.round(F),I=Math.round(I)),i.save(),i.translate(F,I),i.rotate(b),i.scale(U,U),i.drawImage(G,R,M,w,D,0,0,w,D),i.restore())}}i.restore()}};o.exports=v},11164:(o,g,t)=>{var a=t(2638),v=t(25305),h=t(44603),s=t(23568);h.register("dynamicBitmapText",function(r,e){r===void 0&&(r={});var n=s(r,"font",""),l=s(r,"text",""),i=s(r,"size",!1),u=new a(this.scene,0,0,n,l,i);return e!==void 0&&(r.add=e),v(this.scene,u,r),u})},72566:(o,g,t)=>{var a=t(2638),v=t(39429);v.register("dynamicBitmapText",function(h,s,r,e,n){return this.displayList.add(new a(this.scene,h,s,r,e,n))})},12310:(o,g,t)=>{var a=t(29747),v=a,h=a;v=t(73482),h=t(86741),o.exports={renderWebGL:v,renderCanvas:h}},73482:(o,g,t)=>{var a=t(91296),v=t(61340),h=t(70554),s=new v,r=function(e,n,l,i){var u=n.text,f=u.length;if(f!==0){l.addToRenderList(n);var c=e.pipelines.set(n.pipeline,n),d=a(n,l,i);e.pipelines.preBatch(n);var p=d.sprite,m=d.calc,y=s,x=n.cropWidth>0||n.cropHeight>0;x&&(c.flush(),e.pushScissor(m.tx,m.ty,n.cropWidth*m.scaleX,n.cropHeight*m.scaleY));var C=n.frame,E=C.glTexture,R=n.tintFill,M=h.getTintAppendFloatAlpha(n.tintTopLeft,l.alpha*n._alphaTL),w=h.getTintAppendFloatAlpha(n.tintTopRight,l.alpha*n._alphaTR),D=h.getTintAppendFloatAlpha(n.tintBottomLeft,l.alpha*n._alphaBL),F=h.getTintAppendFloatAlpha(n.tintBottomRight,l.alpha*n._alphaBR),I=c.setGameObject(n),L=0,B=0,G=0,V=0,X=n.letterSpacing,b,U=0,O=0,z,N=n.scrollX,Y=n.scrollY,W=n.fontData,H=W.chars,$=W.lineHeight,j=n.fontSize/W.size,Z=0,J=n._align,K=0,Q=0,_=n.getTextBounds(!1);n.maxWidth>0&&(u=_.wrappedText,f=u.length);var k=n._bounds.lines;J===1?Q=(k.longest-k.lengths[0])/2:J===2&&(Q=k.longest-k.lengths[0]);for(var nt=l.roundPixels,st=n.displayCallback,at=n.callbackData,q=0;q<f;q++){if(G=u.charCodeAt(q),G===10){K++,J===1?Q=(k.longest-k.lengths[K])/2:J===2&&(Q=k.longest-k.lengths[K]),L=0,B+=$,z=null;continue}if(b=H[G],!!b){U=b.width,O=b.height;var et=b.xOffset+L-N,it=b.yOffset+B-Y;if(z!==null){var lt=b.kerning[V]||0;et+=lt,L+=lt}if(L+=b.xAdvance+X,z=b,V=G,!(U===0||O===0||G===32)){if(j=n.fontSize/n.fontData.size,Z=0,st){at.color=0,at.tint.topLeft=M,at.tint.topRight=w,at.tint.bottomLeft=D,at.tint.bottomRight=F,at.index=q,at.charCode=G,at.x=et,at.y=it,at.scale=j,at.rotation=Z,at.data=b.data;var gt=st(at);et=gt.x,it=gt.y,j=gt.scale,Z=gt.rotation,gt.color?(M=gt.color,w=gt.color,D=gt.color,F=gt.color):(M=gt.tint.topLeft,w=gt.tint.topRight,D=gt.tint.bottomLeft,F=gt.tint.bottomRight),M=h.getTintAppendFloatAlpha(M,l.alpha*n._alphaTL),w=h.getTintAppendFloatAlpha(w,l.alpha*n._alphaTR),D=h.getTintAppendFloatAlpha(D,l.alpha*n._alphaBL),F=h.getTintAppendFloatAlpha(F,l.alpha*n._alphaBR)}et*=j,it*=j,et-=n.displayOriginX,it-=n.displayOriginY,et+=Q,y.applyITRS(et,it,Z,j,j),m.multiply(y,p);var wt=b.u0,ct=b.v0,pt=b.u1,Ft=b.v1,jt=U,Et=O,Lt=p.e,bt=p.f,te=Et*p.c+p.e,Ri=Et*p.d+p.f,Pi=jt*p.a+Et*p.c+p.e,Mi=jt*p.b+Et*p.d+p.f,Di=jt*p.a+p.e,wi=jt*p.b+p.f;nt&&(Lt=Math.round(Lt),bt=Math.round(bt),te=Math.round(te),Ri=Math.round(Ri),Pi=Math.round(Pi),Mi=Math.round(Mi),Di=Math.round(Di),wi=Math.round(wi)),c.shouldFlush(6)&&(c.flush(),I=c.setGameObject(n)),c.batchQuad(n,Lt,bt,te,Ri,Pi,Mi,Di,wi,wt,ct,pt,Ft,M,w,D,F,R,E,I)}}}x&&(c.flush(),e.popScissor()),e.pipelines.postBatch(n)}};o.exports=r},22186:(o,g,t)=>{var a=t(83419),v=t(45319),h=t(31401),s=t(95643),r=t(53048),e=t(61327),n=t(21859),l=t(87841),i=t(18658),u=new a({Extends:s,Mixins:[h.Alpha,h.BlendMode,h.Depth,h.GetBounds,h.Mask,h.Origin,h.Pipeline,h.PostPipeline,h.ScrollFactor,h.Texture,h.Tint,h.Transform,h.Visible,i],initialize:function(c,d,p,m,y,x,C){y===void 0&&(y=""),C===void 0&&(C=0),s.call(this,c,"BitmapText"),this.font=m;var E=this.scene.sys.cache.bitmapFont.get(m);if(!E)throw new Error("Invalid BitmapText key: "+m);this.fontData=E.data,this._text="",this._fontSize=x||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=C,this._bounds=r(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=E.fromAtlas,this.setTexture(E.texture,E.frame),this.setPosition(d,p),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(y)},setLeftAlign:function(){return this._align=u.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=u.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=u.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(f){return this._fontSize=f,this._dirty=!0,this},setLetterSpacing:function(f){return f===void 0&&(f=0),this._letterSpacing=f,this._dirty=!0,this},setLineSpacing:function(f){return f===void 0&&(f=0),this.lineSpacing=f,this},setText:function(f){return!f&&f!==0&&(f=""),Array.isArray(f)&&(f=f.join(`
`)),f!==this.text&&(this._text=f.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(f,c,d,p){return f===void 0&&(f=0),c===void 0&&(c=0),d===void 0&&(d=0),p===void 0&&(p=.5),this.dropShadowX=f,this.dropShadowY=c,this.dropShadowColor=d,this.dropShadowAlpha=p,this},setCharacterTint:function(f,c,d,p,m,y,x){f===void 0&&(f=0),c===void 0&&(c=1),d===void 0&&(d=!1),p===void 0&&(p=-1),m===void 0&&(m=p,y=p,x=p);var C=this.text.length;c===-1&&(c=C),f<0&&(f=C+f),f=v(f,0,C-1);for(var E=v(f+c,f,C),R=this.charColors,M=f;M<E;M++){var w=R[M];if(p===-1)R[M]=null;else{var D=d?1:0;w?(w.tintEffect=D,w.tintTL=p,w.tintTR=m,w.tintBL=y,w.tintBR=x):R[M]={tintEffect:D,tintTL:p,tintTR:m,tintBL:y,tintBR:x}}}return this},setWordTint:function(f,c,d,p,m,y,x){c===void 0&&(c=1);for(var C=this.getTextBounds(),E=C.words,R=typeof f=="number",M=0,w=0;w<E.length;w++){var D=E[w];if((R&&w===f||!R&&D.word===f)&&(this.setCharacterTint(D.i,D.word.length,d,p,m,y,x),M++,M===c))return this}return this},getTextBounds:function(f){var c=this._bounds;return(this._dirty||f||this.scaleX!==c.scaleX||this.scaleY!==c.scaleY)&&(r(this,f,!0,c),this._dirty=!1),c},getCharacterAt:function(f,c,d){for(var p=this.getLocalPoint(f,c,null,d),m=this.getTextBounds(),y=m.characters,x=new l,C=0;C<y.length;C++){var E=y[C];if(x.setTo(E.x,E.t,E.r-E.x,E.b),x.contains(p.x,p.y))return E}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(f,c,d){c===void 0&&(c=this._fontSize),d===void 0&&(d=this._align);var p=this.scene.sys.cache.bitmapFont.get(f);return p&&(this.font=f,this.fontData=p.data,this._fontSize=c,this._align=d,this.fromAtlas=p.fromAtlas===!0,this.setTexture(p.texture,p.frame),r(this,!1,!0,this._bounds)),this},setMaxWidth:function(f,c){return this._maxWidth=f,this._dirty=!0,c!==void 0&&(this.wordWrapCharCode=c),this},setDisplaySize:function(f,c){this.setScale(1,1),this.getTextBounds(!1);var d=f/this.width,p=c/this.height;return this.setScale(d,p),this},align:{set:function(f){this._align=f,this._dirty=!0},get:function(){return this._align}},text:{set:function(f){this.setText(f)},get:function(){return this._text}},fontSize:{set:function(f){this._fontSize=f,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(f){this._letterSpacing=f,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(f){this._lineSpacing=f,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(f){this._maxWidth=f,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{set:function(f){this.setScaleX(1),this.getTextBounds(!1);var c=f/this.width;this.setScaleX(c)},get:function(){return this.width}},displayHeight:{set:function(f){this.setScaleY(1),this.getTextBounds(!1);var c=f/this.height;this.setScaleY(c)},get:function(){return this.height}},toJSON:function(){var f=h.ToJSON(this),c={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return f.data=c,f},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});u.ALIGN_LEFT=0,u.ALIGN_CENTER=1,u.ALIGN_RIGHT=2,u.ParseFromAtlas=e,u.ParseXMLBitmapFont=n,o.exports=u},37289:(o,g,t)=>{var a=t(20926),v=function(h,s,r,e){var n=s._text,l=n.length,i=h.currentContext;if(!(l===0||!a(h,i,s,r,e))){r.addToRenderList(s);var u=s.fromAtlas?s.frame:s.texture.frames.__BASE,f=s.fontData.chars,c=s.fontData.lineHeight,d=s._letterSpacing,p=s._lineSpacing,m=0,y=0,x=0,C=null,E=0,R=0,M=0,w=0,D=0,F=0,I=null,L=0,B=u.source.image,G=u.cutX,V=u.cutY,X=s._fontSize/s.fontData.size,b=s._align,U=0,O=0,z=s.getTextBounds(!1);s.maxWidth>0&&(n=z.wrappedText,l=n.length);var N=s._bounds.lines;b===1?O=(N.longest-N.lengths[0])/2:b===2&&(O=N.longest-N.lengths[0]),i.translate(-s.displayOriginX,-s.displayOriginY);for(var Y=r.roundPixels,W=0;W<l;W++){if(x=n.charCodeAt(W),x===10){U++,b===1?O=(N.longest-N.lengths[U])/2:b===2&&(O=N.longest-N.lengths[U]),m=0,y+=c+p,I=null;continue}if(C=f[x],!!C){if(E=G+C.x,R=V+C.y,M=C.width,w=C.height,D=C.xOffset+m,F=C.yOffset+y,I!==null){var H=C.kerning[L];D+=H!==void 0?H:0}D*=X,F*=X,D+=O,m+=C.xAdvance+d+(H!==void 0?H:0),I=C,L=x,!(M===0||w===0||x===32)&&(Y&&(D=Math.round(D),F=Math.round(F)),i.save(),i.translate(D,F),i.scale(X,X),i.drawImage(B,E,R,M,w,0,0,M,w),i.restore())}}i.restore()}};o.exports=v},57336:(o,g,t)=>{var a=t(22186),v=t(25305),h=t(44603),s=t(23568),r=t(35154);h.register("bitmapText",function(e,n){e===void 0&&(e={});var l=r(e,"font",""),i=s(e,"text",""),u=s(e,"size",!1),f=r(e,"align",0),c=new a(this.scene,0,0,l,i,u,f);return n!==void 0&&(e.add=n),v(this.scene,c,e),c})},34914:(o,g,t)=>{var a=t(22186),v=t(39429);v.register("bitmapText",function(h,s,r,e,n,l){return this.displayList.add(new a(this.scene,h,s,r,e,n,l))})},18658:(o,g,t)=>{var a=t(29747),v=a,h=a;v=t(33590),h=t(37289),o.exports={renderWebGL:v,renderCanvas:h}},33590:(o,g,t)=>{var a=t(3217),v=t(91296),h=t(70554),s=function(r,e,n,l){var i=e._text,u=i.length;if(u!==0){n.addToRenderList(e);var f=r.pipelines.set(e.pipeline,e),c=v(e,n,l).calc;r.pipelines.preBatch(e);var d=n.roundPixels,p=n.alpha,m=e.charColors,y=e.tintFill,x=h.getTintAppendFloatAlpha,C=x(e.tintTopLeft,p*e._alphaTL),E=x(e.tintTopRight,p*e._alphaTR),R=x(e.tintBottomLeft,p*e._alphaBL),M=x(e.tintBottomRight,p*e._alphaBR),w=e.frame.glTexture,D=f.setGameObject(e),F=e.getTextBounds(!1),I,L,B,G=F.characters,V=e.dropShadowX,X=e.dropShadowY,b=V!==0||X!==0;if(b){var U=e.dropShadowColor,O=e.dropShadowAlpha,z=x(U,p*O*e._alphaTL),N=x(U,p*O*e._alphaTR),Y=x(U,p*O*e._alphaBL),W=x(U,p*O*e._alphaBR);for(I=0;I<G.length;I++)L=G[I],B=L.glyph,!(L.code===32||B.width===0||B.height===0)&&a(f,e,L,B,V,X,c,d,z,N,Y,W,1,w,D)}for(I=0;I<G.length;I++)if(L=G[I],B=L.glyph,!(L.code===32||B.width===0||B.height===0))if(f.shouldFlush(6)&&(f.flush(),D=f.setGameObject(e)),m[L.i]){var H=m[L.i],$=H.tintEffect,j=x(H.tintTL,p*e._alphaTL),Z=x(H.tintTR,p*e._alphaTR),J=x(H.tintBL,p*e._alphaBL),K=x(H.tintBR,p*e._alphaBR);a(f,e,L,B,0,0,c,d,j,Z,J,K,$,w,D)}else a(f,e,L,B,0,0,c,d,C,E,R,M,y,w,D);r.pipelines.postBatch(e)}};o.exports=s},6107:(o,g,t)=>{var a=t(48011),v=t(46590),h=t(83419),s=t(31401),r=t(4327),e=t(95643),n=t(73162),l=new h({Extends:e,Mixins:[s.Alpha,s.BlendMode,s.Depth,s.Mask,s.Pipeline,s.PostPipeline,s.ScrollFactor,s.Size,s.Texture,s.Transform,s.Visible,a],initialize:function(u,f,c,d,p){e.call(this,u,"Blitter"),this.setTexture(d,p),this.setPosition(f,c),this.initPipeline(),this.initPostPipeline(),this.children=new n,this.renderList=[],this.dirty=!1},create:function(i,u,f,c,d){c===void 0&&(c=!0),d===void 0&&(d=this.children.length),f===void 0?f=this.frame:f instanceof r||(f=this.texture.get(f));var p=new v(this,i,u,f,c);return this.children.addAt(p,d,!1),this.dirty=!0,p},createFromCallback:function(i,u,f,c){for(var d=this.createMultiple(u,f,c),p=0;p<d.length;p++){var m=d[p];i.call(this,m,p)}return d},createMultiple:function(i,u,f){u===void 0&&(u=this.frame.name),f===void 0&&(f=!0),Array.isArray(u)||(u=[u]);var c=[],d=this;return u.forEach(function(p){for(var m=0;m<i;m++)c.push(d.create(0,0,p,f))}),c},childCanRender:function(i){return i.visible&&i.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});o.exports=l},72396:o=>{var g=function(t,a,v,h){var s=a.getRenderList();if(s.length!==0){var r=t.currentContext,e=v.alpha*a.alpha;if(e!==0){v.addToRenderList(a),r.globalCompositeOperation=t.blendModes[a.blendMode],r.imageSmoothingEnabled=!a.frame.source.scaleMode;var n=a.x-v.scrollX*a.scrollFactorX,l=a.y-v.scrollY*a.scrollFactorY;r.save(),h&&h.copyToContext(r);for(var i=v.roundPixels,u=0;u<s.length;u++){var f=s[u],c=f.flipX||f.flipY,d=f.frame,p=d.canvasData,m=d.x,y=d.y,x=1,C=1,E=f.alpha*e;E!==0&&(r.globalAlpha=E,c?(f.flipX&&(x=-1,m-=p.width),f.flipY&&(C=-1,y-=p.height),p.width>0&&p.height>0&&(r.save(),r.translate(f.x+n,f.y+l),r.scale(x,C),r.drawImage(d.source.image,p.x,p.y,p.width,p.height,m,y,p.width,p.height),r.restore())):(i&&(m=Math.round(m),y=Math.round(y)),p.width>0&&p.height>0&&r.drawImage(d.source.image,p.x,p.y,p.width,p.height,m+f.x+n,y+f.y+l,p.width,p.height)))}r.restore()}}};o.exports=g},9403:(o,g,t)=>{var a=t(6107),v=t(25305),h=t(44603),s=t(23568);h.register("blitter",function(r,e){r===void 0&&(r={});var n=s(r,"key",null),l=s(r,"frame",null),i=new a(this.scene,0,0,n,l);return e!==void 0&&(r.add=e),v(this.scene,i,r),i})},12709:(o,g,t)=>{var a=t(6107),v=t(39429);v.register("blitter",function(h,s,r,e){return this.displayList.add(new a(this.scene,h,s,r,e))})},48011:(o,g,t)=>{var a=t(29747),v=a,h=a;v=t(99485),h=t(72396),o.exports={renderWebGL:v,renderCanvas:h}},99485:(o,g,t)=>{var a=t(61340),v=t(70554),h=new a,s=function(r,e,n,l){var i=e.getRenderList(),u=n.alpha*e.alpha;if(!(i.length===0||u===0)){n.addToRenderList(e);var f=r.pipelines.set(this.pipeline,e),c=n.scrollX*e.scrollFactorX,d=n.scrollY*e.scrollFactorY,p=h.copyFrom(n.matrix);l&&(p.multiplyWithOffset(l,-c,-d),c=0,d=0);var m=e.x-c,y=e.y-d,x=-1,C=!1,E=n.roundPixels;r.pipelines.preBatch(e);for(var R=0;R<i.length;R++){var M=i[R],w=M.frame,D=M.alpha*u;if(D!==0){var F=w.width,I=w.height,L=m+M.x+w.x,B=y+M.y+w.y;M.flipX&&(F*=-1,L+=w.width),M.flipY&&(I*=-1,B+=w.height);var G=p.setQuad(L,B,L+F,B+I,E),V=v.getTintAppendFloatAlpha(M.tint,D);if(w.sourceIndex!==x){var X=f.setGameObject(e,w);x=w.sourceIndex}f.batchQuad(e,G[0],G[1],G[2],G[3],G[4],G[5],G[6],G[7],w.u0,w.v0,w.u1,w.v1,V,V,V,V,C,w.glTexture,X)&&(x=-1)}}r.pipelines.postBatch(e)}};o.exports=s},46590:(o,g,t)=>{var a=t(83419),v=t(4327),h=new a({initialize:function(r,e,n,l,i){this.parent=r,this.x=e,this.y=n,this.frame=l,this.data={},this.tint=16777215,this._visible=i,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(s){return s===void 0?this.frame=this.parent.frame:s instanceof v&&s.texture===this.parent.texture?this.frame=s:this.frame=this.parent.texture.get(s),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(s,r,e){return this.x=s,this.y=r,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,e&&this.setFrame(e),this},setPosition:function(s,r){return this.x=s,this.y=r,this},setFlipX:function(s){return this.flipX=s,this},setFlipY:function(s){return this.flipY=s,this},setFlip:function(s,r){return this.flipX=s,this.flipY=r,this},setVisible:function(s){return this.visible=s,this},setAlpha:function(s){return this.alpha=s,this},setTint:function(s){return this.tint=s,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(s){this.parent.dirty|=this._visible!==s,this._visible=s}},alpha:{get:function(){return this._alpha},set:function(s){this.parent.dirty|=this._alpha>0!=s>0,this._alpha=s}}});o.exports=h},16005:(o,g,t)=>{var a=t(45319),v=2,h={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(s,r,e,n){return s===void 0&&(s=1),r===void 0?this.alpha=s:(this._alphaTL=a(s,0,1),this._alphaTR=a(r,0,1),this._alphaBL=a(e,0,1),this._alphaBR=a(n,0,1)),this},alpha:{get:function(){return this._alpha},set:function(s){var r=a(s,0,1);this._alpha=r,this._alphaTL=r,this._alphaTR=r,this._alphaBL=r,this._alphaBR=r,r===0?this.renderFlags&=~v:this.renderFlags|=v}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(s){var r=a(s,0,1);this._alphaTL=r,r!==0&&(this.renderFlags|=v)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(s){var r=a(s,0,1);this._alphaTR=r,r!==0&&(this.renderFlags|=v)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(s){var r=a(s,0,1);this._alphaBL=r,r!==0&&(this.renderFlags|=v)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(s){var r=a(s,0,1);this._alphaBR=r,r!==0&&(this.renderFlags|=v)}}};o.exports=h},88509:(o,g,t)=>{var a=t(45319),v=2,h={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(s){return s===void 0&&(s=1),this.alpha=s,this},alpha:{get:function(){return this._alpha},set:function(s){var r=a(s,0,1);this._alpha=r,r===0?this.renderFlags&=~v:this.renderFlags|=v}}};o.exports=h},90065:(o,g,t)=>{var a=t(10312),v={_blendMode:a.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(h){typeof h=="string"&&(h=a[h]),h|=0,h>=-1&&(this._blendMode=h)}},setBlendMode:function(h){return this.blendMode=h,this}};o.exports=v},94215:o=>{var g={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,a){return this.width=t,this.height=a,this},setDisplaySize:function(t,a){return this.displayWidth=t,this.displayHeight=a,this}};o.exports=g},61683:o=>{var g={texture:null,frame:null,isCropped:!1,setCrop:function(t,a,v,h){if(t===void 0)this.isCropped=!1;else if(this.frame){if(typeof t=="number")this.frame.setCropUVs(this._crop,t,a,v,h,this.flipX,this.flipY);else{var s=t;this.frame.setCropUVs(this._crop,s.x,s.y,s.width,s.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};o.exports=g},89272:(o,g,t)=>{var a=t(37105),v={_depth:0,depth:{get:function(){return this._depth},set:function(h){this.displayList&&this.displayList.queueDepthSort(),this._depth=h}},setDepth:function(h){return h===void 0&&(h=0),this.depth=h,this},setToTop:function(){var h=this.getDisplayList();return h&&a.BringToTop(h,this),this},setToBack:function(){var h=this.getDisplayList();return h&&a.SendToBack(h,this),this},setAbove:function(h){var s=this.getDisplayList();return s&&h&&a.MoveAbove(s,this,h),this},setBelow:function(h){var s=this.getDisplayList();return s&&h&&a.MoveBelow(s,this,h),this}};o.exports=v},47059:(o,g,t)=>{var a=t(83419),v=t(66064),h=t(19133),s=new a({initialize:function(e,n){this.gameObject=e,this.isPost=n,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(r){return r===void 0&&(r=0),this.padding=r,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(r){if(!this.isPost){var e=this.gameObject.scene.sys.renderer;e&&e.pipelines?(this.gameObject.pipeline=e.pipelines.FX_PIPELINE,r!==void 0&&(this.padding=r),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var r=this.list,e=0;e<r.length;e++)r[e].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(r){var e;if(this.isPost){var n=this.gameObject.getPostPipeline(String(r.type));for(Array.isArray(n)||(n=[n]),e=0;e<n.length;e++){var l=n[e];if(l.controller===r){this.gameObject.removePostPipeline(l),r.destroy();break}}}else{var i=this.list;for(e=0;e<i.length;e++)i[e]===r&&(h(i,e),r.destroy())}return this.gameObject},disable:function(r){return r===void 0&&(r=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,r&&this.clear(),this.gameObject},add:function(r,e){if(this.isPost){var n=String(r.type);this.gameObject.setPostPipeline(n,e);var l=this.gameObject.getPostPipeline(n);if(l)return Array.isArray(l)&&(l=l.pop()),l&&(l.controller=r),r}else return this.enabled||this.enable(),this.list.push(r),r},addGlow:function(r,e,n,l,i,u){return this.add(new v.Glow(this.gameObject,r,e,n,l),{quality:i,distance:u})},addShadow:function(r,e,n,l,i,u,f){return this.add(new v.Shadow(this.gameObject,r,e,n,l,i,u,f))},addPixelate:function(r){return this.add(new v.Pixelate(this.gameObject,r))},addVignette:function(r,e,n,l){return this.add(new v.Vignette(this.gameObject,r,e,n,l))},addShine:function(r,e,n,l){return this.add(new v.Shine(this.gameObject,r,e,n,l))},addBlur:function(r,e,n,l,i,u){return this.add(new v.Blur(this.gameObject,r,e,n,l,i,u))},addGradient:function(r,e,n,l,i,u,f,c){return this.add(new v.Gradient(this.gameObject,r,e,n,l,i,u,f,c))},addBloom:function(r,e,n,l,i,u){return this.add(new v.Bloom(this.gameObject,r,e,n,l,i,u))},addColorMatrix:function(){return this.add(new v.ColorMatrix(this.gameObject))},addCircle:function(r,e,n,l,i){return this.add(new v.Circle(this.gameObject,r,e,n,l,i))},addBarrel:function(r){return this.add(new v.Barrel(this.gameObject,r))},addDisplacement:function(r,e,n){return this.add(new v.Displacement(this.gameObject,r,e,n))},addWipe:function(r,e,n){return this.add(new v.Wipe(this.gameObject,r,e,n))},addReveal:function(r,e,n){return this.add(new v.Wipe(this.gameObject,r,e,n,!0))},addBokeh:function(r,e,n){return this.add(new v.Bokeh(this.gameObject,r,e,n))},addTiltShift:function(r,e,n,l,i,u){return this.add(new v.Bokeh(this.gameObject,r,e,n,!0,l,i,u))},destroy:function(){this.clear(),this.gameObject=null}});o.exports=s},54434:o=>{var g={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(t){return this.flipX=t,this},setFlipY:function(t){return this.flipY=t,this},setFlip:function(t,a){return this.flipX=t,this.flipY=a,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};o.exports=g},8004:(o,g,t)=>{var a=t(87841),v=t(11520),h=t(26099),s={prepareBoundsOutput:function(r,e){if(e===void 0&&(e=!1),this.rotation!==0&&v(r,this.x,this.y,this.rotation),e&&this.parentContainer){var n=this.parentContainer.getBoundsTransformMatrix();n.transformPoint(r.x,r.y,r)}return r},getCenter:function(r,e){return r===void 0&&(r=new h),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,e)},getTopLeft:function(r,e){return r||(r=new h),r.x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,e)},getTopCenter:function(r,e){return r||(r=new h),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,e)},getTopRight:function(r,e){return r||(r=new h),r.x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,e)},getLeftCenter:function(r,e){return r||(r=new h),r.x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,e)},getRightCenter:function(r,e){return r||(r=new h),r.x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,e)},getBottomLeft:function(r,e){return r||(r=new h),r.x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,e)},getBottomCenter:function(r,e){return r||(r=new h),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,e)},getBottomRight:function(r,e){return r||(r=new h),r.x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,e)},getBounds:function(r){r===void 0&&(r=new a);var e,n,l,i,u,f,c,d;if(this.parentContainer){var p=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(r),p.transformPoint(r.x,r.y,r),e=r.x,n=r.y,this.getTopRight(r),p.transformPoint(r.x,r.y,r),l=r.x,i=r.y,this.getBottomLeft(r),p.transformPoint(r.x,r.y,r),u=r.x,f=r.y,this.getBottomRight(r),p.transformPoint(r.x,r.y,r),c=r.x,d=r.y}else this.getTopLeft(r),e=r.x,n=r.y,this.getTopRight(r),l=r.x,i=r.y,this.getBottomLeft(r),u=r.x,f=r.y,this.getBottomRight(r),c=r.x,d=r.y;return r.x=Math.min(e,l,u,c),r.y=Math.min(n,i,f,d),r.width=Math.max(e,l,u,c)-r.x,r.height=Math.max(n,i,f,d)-r.y,r}};o.exports=s},8573:(o,g,t)=>{var a=t(6858),v=t(80661),h={mask:null,setMask:function(s){return this.mask=s,this},clearMask:function(s){return s===void 0&&(s=!1),s&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(s,r,e,n,l){return s===void 0&&(this.texture||this.shader||this.geom)&&(s=this),new a(this.scene,s,r,e,n,l)},createGeometryMask:function(s){return s===void 0&&(this.type==="Graphics"||this.geom)&&(s=this),new v(this.scene,s)}};o.exports=h},27387:o=>{var g={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(t){this._displayOriginX=t,this.originX=t/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(t){this._displayOriginY=t,this.originY=t/this.height}},setOrigin:function(t,a){return t===void 0&&(t=.5),a===void 0&&(a=t),this.originX=t,this.originY=a,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(t,a){return t===void 0&&(t=0),a===void 0&&(a=t),this.displayOriginX=t,this.displayOriginY=a,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};o.exports=g},37640:(o,g,t)=>{var a=t(39506),v=t(57355),h=t(35154),s=t(86353),r=t(26099),e={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:s.PLAYING_FORWARD,setPath:function(n,l){l===void 0&&(l=this.pathConfig);var i=this.pathTween;return i&&i.isPlaying()&&i.stop(),this.path=n,l&&this.startFollow(l),this},setRotateToPath:function(n,l){return l===void 0&&(l=0),this.rotateToPath=n,this.pathRotationOffset=l,this},isFollowing:function(){var n=this.pathTween;return n&&n.isPlaying()},startFollow:function(n,l){n===void 0&&(n={}),l===void 0&&(l=0);var i=this.pathTween;i&&i.isPlaying()&&i.stop(),typeof n=="number"&&(n={duration:n}),n.from=h(n,"from",0),n.to=h(n,"to",1);var u=v(n,"positionOnPath",!1);this.rotateToPath=v(n,"rotateToPath",!1),this.pathRotationOffset=h(n,"rotationOffset",0);var f=h(n,"startAt",l);if(f&&(n.onStart=function(d){var p=d.data[0];p.progress=f,p.elapsed=p.duration*f;var m=p.ease(p.progress);p.current=p.start+(p.end-p.start)*m,p.setTargetValue()}),this.pathOffset||(this.pathOffset=new r(this.x,this.y)),this.pathVector||(this.pathVector=new r),this.pathDelta||(this.pathDelta=new r),this.pathDelta.reset(),n.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(n),this.path.getStartPoint(this.pathOffset),u&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=s.PLAYING_FORWARD,this.rotateToPath){var c=this.path.getPoint(.1);this.rotation=Math.atan2(c.y-this.y,c.x-this.x)+a(this.pathRotationOffset)}return this.pathConfig=n,this},pauseFollow:function(){var n=this.pathTween;return n&&n.isPlaying()&&n.pause(),this},resumeFollow:function(){var n=this.pathTween;return n&&n.isPaused()&&n.resume(),this},stopFollow:function(){var n=this.pathTween;return n&&n.isPlaying()&&n.stop(),this},pathUpdate:function(){var n=this.pathTween;if(n&&n.data){var l=n.data[0],i=this.pathDelta,u=this.pathVector;if(i.copy(u).negate(),l.state===s.COMPLETE){this.path.getPoint(l.end,u),i.add(u),u.add(this.pathOffset),this.setPosition(u.x,u.y);return}else if(l.state!==s.PLAYING_FORWARD&&l.state!==s.PLAYING_BACKWARD)return;this.path.getPoint(n.getValue(),u),i.add(u),u.add(this.pathOffset);var f=this.x,c=this.y;this.setPosition(u.x,u.y);var d=this.x-f,p=this.y-c;if(d===0&&p===0)return;if(l.state!==this._prevDirection){this._prevDirection=l.state;return}this.rotateToPath&&(this.rotation=Math.atan2(p,d)+a(this.pathRotationOffset))}}};o.exports=e},72699:(o,g,t)=>{var a=t(62644),v={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(h){this.pipelineData={};var s=this.scene.sys.renderer;if(!s)return!1;var r=s.pipelines;if(r){h===void 0&&(h=r.default);var e=r.get(h);if(e)return this.defaultPipeline=e,this.pipeline=e,!0}return!1},setPipeline:function(h,s,r){var e=this.scene.sys.renderer;if(!e)return this;var n=e.pipelines;if(n){var l=n.get(h);l&&(this.pipeline=l),s&&(this.pipelineData=r?a(s):s)}return this},setPipelineData:function(h,s){var r=this.pipelineData;return s===void 0?delete r[h]:r[h]=s,this},resetPipeline:function(h){return h===void 0&&(h=!1),this.pipeline=this.defaultPipeline,h&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline===null?null:this.pipeline.name}};o.exports=v},17581:(o,g,t)=>{var a=t(62644),v=t(47059),h=t(19133),s={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(r){this.postPipelines=[],this.postPipelineData={},this.postFX=new v(this,!0),r&&(this.preFX=new v(this,!1))},setPostPipeline:function(r,e,n){var l=this.scene.sys.renderer;if(!l)return this;var i=l.pipelines;if(i){Array.isArray(r)||(r=[r]);for(var u=0;u<r.length;u++){var f=i.getPostPipeline(r[u],this,e);f&&this.postPipelines.push(f)}e&&(this.postPipelineData=n?a(e):e)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(r,e){var n=this.postPipelineData;return e===void 0?delete n[r]:n[r]=e,this},getPostPipeline:function(r){for(var e=typeof r=="string",n=this.postPipelines,l=[],i=0;i<n.length;i++){var u=n[i];(e&&u.name===r||!e&&u instanceof r)&&l.push(u)}return l.length===1?l[0]:l},resetPostPipeline:function(r){r===void 0&&(r=!1);for(var e=this.postPipelines,n=0;n<e.length;n++)e[n].destroy();this.postPipelines=[],this.hasPostPipeline=!1,r&&(this.postPipelineData={})},removePostPipeline:function(r){for(var e=typeof r=="string",n=this.postPipelines,l=n.length-1;l>=0;l--){var i=n[l];(e&&i.name===r||!e&&i===r)&&(i.destroy(),h(n,l))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};o.exports=s},80227:o=>{var g={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(t,a){return a===void 0&&(a=t),this.scrollFactorX=t,this.scrollFactorY=a,this}};o.exports=g},16736:o=>{var g={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(t){this.scaleX=t/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(t){this.scaleY=t/this.frame.realHeight}},setSizeToFrame:function(t){t||(t=this.frame),this.width=t.realWidth,this.height=t.realHeight;var a=this.input;return a&&!a.customHitArea&&(a.hitArea.width=this.width,a.hitArea.height=this.height),this},setSize:function(t,a){return this.width=t,this.height=a,this},setDisplaySize:function(t,a){return this.displayWidth=t,this.displayHeight=a,this}};o.exports=g},37726:(o,g,t)=>{var a=t(4327),v=8,h={texture:null,frame:null,isCropped:!1,setTexture:function(s,r,e,n){return this.texture=this.scene.sys.textures.get(s),this.setFrame(r,e,n)},setFrame:function(s,r,e){return r===void 0&&(r=!0),e===void 0&&(e=!0),s instanceof a?(this.texture=this.scene.sys.textures.get(s.texture.key),this.frame=s):this.frame=this.texture.get(s),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~v:this.renderFlags|=v,this._sizeComponent&&r&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};o.exports=h},79812:(o,g,t)=>{var a=t(4327),v=8,h={texture:null,frame:null,isCropped:!1,setCrop:function(s,r,e,n){if(s===void 0)this.isCropped=!1;else if(this.frame){if(typeof s=="number")this.frame.setCropUVs(this._crop,s,r,e,n,this.flipX,this.flipY);else{var l=s;this.frame.setCropUVs(this._crop,l.x,l.y,l.width,l.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(s,r){return this.texture=this.scene.sys.textures.get(s),this.setFrame(r)},setFrame:function(s,r,e){return r===void 0&&(r=!0),e===void 0&&(e=!0),s instanceof a?(this.texture=this.scene.sys.textures.get(s.texture.key),this.frame=s):this.frame=this.texture.get(s),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~v:this.renderFlags|=v,this._sizeComponent&&r&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};o.exports=h},27472:o=>{var g={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(t,a,v,h){return t===void 0&&(t=16777215),a===void 0&&(a=t,v=t,h=t),this.tintTopLeft=t,this.tintTopRight=a,this.tintBottomLeft=v,this.tintBottomRight=h,this.tintFill=!1,this},setTintFill:function(t,a,v,h){return this.setTint(t,a,v,h),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(t){this.setTint(t,t,t,t)}},isTinted:{get:function(){var t=16777215;return this.tintFill||this.tintTopLeft!==t||this.tintTopRight!==t||this.tintBottomLeft!==t||this.tintBottomRight!==t}}};o.exports=g},53774:o=>{var g=function(t){var a={name:t.name,type:t.type,x:t.x,y:t.y,depth:t.depth,scale:{x:t.scaleX,y:t.scaleY},origin:{x:t.originX,y:t.originY},flipX:t.flipX,flipY:t.flipY,rotation:t.rotation,alpha:t.alpha,visible:t.visible,blendMode:t.blendMode,textureKey:"",frameKey:"",data:{}};return t.texture&&(a.textureKey=t.texture.key,a.frameKey=t.frame.name),a};o.exports=g},16901:(o,g,t)=>{var a=t(36383),v=t(61340),h=t(85955),s=t(86554),r=t(30954),e=t(26099),n=4,l={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(i){this._scaleX=i,this._scaleY=i,i===0?this.renderFlags&=~n:this.renderFlags|=n}},scaleX:{get:function(){return this._scaleX},set:function(i){this._scaleX=i,i===0?this.renderFlags&=~n:this._scaleY!==0&&(this.renderFlags|=n)}},scaleY:{get:function(){return this._scaleY},set:function(i){this._scaleY=i,i===0?this.renderFlags&=~n:this._scaleX!==0&&(this.renderFlags|=n)}},angle:{get:function(){return r(this._rotation*a.RAD_TO_DEG)},set:function(i){this.rotation=r(i)*a.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(i){this._rotation=s(i)}},setPosition:function(i,u,f,c){return i===void 0&&(i=0),u===void 0&&(u=i),f===void 0&&(f=0),c===void 0&&(c=0),this.x=i,this.y=u,this.z=f,this.w=c,this},copyPosition:function(i){return i.x!==void 0&&(this.x=i.x),i.y!==void 0&&(this.y=i.y),i.z!==void 0&&(this.z=i.z),i.w!==void 0&&(this.w=i.w),this},setRandomPosition:function(i,u,f,c){return i===void 0&&(i=0),u===void 0&&(u=0),f===void 0&&(f=this.scene.sys.scale.width),c===void 0&&(c=this.scene.sys.scale.height),this.x=i+Math.random()*f,this.y=u+Math.random()*c,this},setRotation:function(i){return i===void 0&&(i=0),this.rotation=i,this},setAngle:function(i){return i===void 0&&(i=0),this.angle=i,this},setScale:function(i,u){return i===void 0&&(i=1),u===void 0&&(u=i),this.scaleX=i,this.scaleY=u,this},setX:function(i){return i===void 0&&(i=0),this.x=i,this},setY:function(i){return i===void 0&&(i=0),this.y=i,this},setZ:function(i){return i===void 0&&(i=0),this.z=i,this},setW:function(i){return i===void 0&&(i=0),this.w=i,this},getLocalTransformMatrix:function(i){return i===void 0&&(i=new v),i.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(i,u){i===void 0&&(i=new v);var f=this.parentContainer;if(!f)return this.getLocalTransformMatrix(i);var c=!1;for(u||(u=new v,c=!0),i.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);f;)u.applyITRS(f.x,f.y,f._rotation,f._scaleX,f._scaleY),u.multiply(i,i),f=f.parentContainer;return c&&u.destroy(),i},getLocalPoint:function(i,u,f,c){f||(f=new e),c||(c=this.scene.sys.cameras.main);var d=c.scrollX,p=c.scrollY,m=i+d*this.scrollFactorX-d,y=u+p*this.scrollFactorY-p;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(m,y,f):h(m,y,this.x,this.y,this.rotation,this.scaleX,this.scaleY,f),this._originComponent&&(f.x+=this._displayOriginX,f.y+=this._displayOriginY),f},getWorldPoint:function(i,u,f){i===void 0&&(i=new e);var c=this.parentContainer;if(!c)return i.x=this.x,i.y=this.y,i;var d=this.getWorldTransformMatrix(u,f);return i.x=d.tx,i.y=d.ty,i},getParentRotation:function(){for(var i=0,u=this.parentContainer;u;)i+=u.rotation,u=u.parentContainer;return i}};o.exports=l},61340:(o,g,t)=>{var a=t(83419),v=t(36383),h=t(26099),s=new a({initialize:function(e,n,l,i,u,f){e===void 0&&(e=1),n===void 0&&(n=0),l===void 0&&(l=0),i===void 0&&(i=1),u===void 0&&(u=0),f===void 0&&(f=0),this.matrix=new Float32Array([e,n,l,i,u,f,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(r){this.matrix[0]=r}},b:{get:function(){return this.matrix[1]},set:function(r){this.matrix[1]=r}},c:{get:function(){return this.matrix[2]},set:function(r){this.matrix[2]=r}},d:{get:function(){return this.matrix[3]},set:function(r){this.matrix[3]=r}},e:{get:function(){return this.matrix[4]},set:function(r){this.matrix[4]=r}},f:{get:function(){return this.matrix[5]},set:function(r){this.matrix[5]=r}},tx:{get:function(){return this.matrix[4]},set:function(r){this.matrix[4]=r}},ty:{get:function(){return this.matrix[5]},set:function(r){this.matrix[5]=r}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var r=this.matrix,e=r[0],n=r[1],l=r[2],i=r[3];return e||n?n>0?Math.acos(e/this.scaleX):-Math.acos(e/this.scaleX):l||i?v.TAU-(i>0?Math.acos(-l/this.scaleY):-Math.acos(l/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var r=this.matrix;return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r[4]=0,r[5]=0,this},translate:function(r,e){var n=this.matrix;return n[4]=n[0]*r+n[2]*e+n[4],n[5]=n[1]*r+n[3]*e+n[5],this},scale:function(r,e){var n=this.matrix;return n[0]*=r,n[1]*=r,n[2]*=e,n[3]*=e,this},rotate:function(r){var e=Math.sin(r),n=Math.cos(r),l=this.matrix,i=l[0],u=l[1],f=l[2],c=l[3];return l[0]=i*n+f*e,l[1]=u*n+c*e,l[2]=i*-e+f*n,l[3]=u*-e+c*n,this},multiply:function(r,e){var n=this.matrix,l=r.matrix,i=n[0],u=n[1],f=n[2],c=n[3],d=n[4],p=n[5],m=l[0],y=l[1],x=l[2],C=l[3],E=l[4],R=l[5],M=e===void 0?n:e.matrix;return M[0]=m*i+y*f,M[1]=m*u+y*c,M[2]=x*i+C*f,M[3]=x*u+C*c,M[4]=E*i+R*f+d,M[5]=E*u+R*c+p,M},multiplyWithOffset:function(r,e,n){var l=this.matrix,i=r.matrix,u=l[0],f=l[1],c=l[2],d=l[3],p=l[4],m=l[5],y=e*u+n*c+p,x=e*f+n*d+m,C=i[0],E=i[1],R=i[2],M=i[3],w=i[4],D=i[5];return l[0]=C*u+E*c,l[1]=C*f+E*d,l[2]=R*u+M*c,l[3]=R*f+M*d,l[4]=w*u+D*c+y,l[5]=w*f+D*d+x,this},transform:function(r,e,n,l,i,u){var f=this.matrix,c=f[0],d=f[1],p=f[2],m=f[3],y=f[4],x=f[5];return f[0]=r*c+e*p,f[1]=r*d+e*m,f[2]=n*c+l*p,f[3]=n*d+l*m,f[4]=i*c+u*p+y,f[5]=i*d+u*m+x,this},transformPoint:function(r,e,n){n===void 0&&(n={x:0,y:0});var l=this.matrix,i=l[0],u=l[1],f=l[2],c=l[3],d=l[4],p=l[5];return n.x=r*i+e*f+d,n.y=r*u+e*c+p,n},invert:function(){var r=this.matrix,e=r[0],n=r[1],l=r[2],i=r[3],u=r[4],f=r[5],c=e*i-n*l;return r[0]=i/c,r[1]=-n/c,r[2]=-l/c,r[3]=e/c,r[4]=(l*f-i*u)/c,r[5]=-(e*f-n*u)/c,this},copyFrom:function(r){var e=this.matrix;return e[0]=r.a,e[1]=r.b,e[2]=r.c,e[3]=r.d,e[4]=r.e,e[5]=r.f,this},copyFromArray:function(r){var e=this.matrix;return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],this},copyToContext:function(r){var e=this.matrix;return r.transform(e[0],e[1],e[2],e[3],e[4],e[5]),r},setToContext:function(r){return r.setTransform(this.a,this.b,this.c,this.d,this.e,this.f),r},copyToArray:function(r){var e=this.matrix;return r===void 0?r=[e[0],e[1],e[2],e[3],e[4],e[5]]:(r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5]),r},setTransform:function(r,e,n,l,i,u){var f=this.matrix;return f[0]=r,f[1]=e,f[2]=n,f[3]=l,f[4]=i,f[5]=u,this},decomposeMatrix:function(){var r=this.decomposedMatrix,e=this.matrix,n=e[0],l=e[1],i=e[2],u=e[3],f=n*u-l*i;if(r.translateX=e[4],r.translateY=e[5],n||l){var c=Math.sqrt(n*n+l*l);r.rotation=l>0?Math.acos(n/c):-Math.acos(n/c),r.scaleX=c,r.scaleY=f/c}else if(i||u){var d=Math.sqrt(i*i+u*u);r.rotation=Math.PI*.5-(u>0?Math.acos(-i/d):-Math.acos(i/d)),r.scaleX=f/d,r.scaleY=d}else r.rotation=0,r.scaleX=0,r.scaleY=0;return r},applyITRS:function(r,e,n,l,i){var u=this.matrix,f=Math.sin(n),c=Math.cos(n);return u[4]=r,u[5]=e,u[0]=c*l,u[1]=f*l,u[2]=-f*i,u[3]=c*i,this},applyInverse:function(r,e,n){n===void 0&&(n=new h);var l=this.matrix,i=l[0],u=l[1],f=l[2],c=l[3],d=l[4],p=l[5],m=1/(i*c+f*-u);return n.x=c*m*r+-f*m*e+(p*f-d*c)*m,n.y=i*m*e+-u*m*r+(-p*i+d*u)*m,n},setQuad:function(r,e,n,l,i,u){i===void 0&&(i=!1),u===void 0&&(u=this.quad);var f=this.matrix,c=f[0],d=f[1],p=f[2],m=f[3],y=f[4],x=f[5],C=r*c+e*p+y,E=r*d+e*m+x,R=r*c+l*p+y,M=r*d+l*m+x,w=n*c+l*p+y,D=n*d+l*m+x,F=n*c+e*p+y,I=n*d+e*m+x;if(i){var L=Math.floor(C+.5),B=Math.floor(E+.5),G=L-C,V=B-E;u[0]=L,u[1]=B,u[2]=R+G,u[3]=M+V,u[4]=w+G,u[5]=D+V,u[6]=F+G,u[7]=I+V}else u[0]=C,u[1]=E,u[2]=R,u[3]=M,u[4]=w,u[5]=D,u[6]=F,u[7]=I;return u},getX:function(r,e){return r*this.a+e*this.c+this.e},getY:function(r,e){return r*this.b+e*this.d+this.f},getXRound:function(r,e,n){var l=this.getX(r,e);return n&&(l=Math.floor(l+.5)),l},getYRound:function(r,e,n){var l=this.getY(r,e);return n&&(l=Math.floor(l+.5)),l},getCSSMatrix:function(){var r=this.matrix;return"matrix("+r[0]+","+r[1]+","+r[2]+","+r[3]+","+r[4]+","+r[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});o.exports=s},59715:o=>{var g=1,t={_visible:!0,visible:{get:function(){return this._visible},set:function(a){a?(this._visible=!0,this.renderFlags|=g):(this._visible=!1,this.renderFlags&=~g)}},setVisible:function(a){return this.visible=a,this}};o.exports=t},31401:(o,g,t)=>{o.exports={Alpha:t(16005),AlphaSingle:t(88509),BlendMode:t(90065),ComputedSize:t(94215),Crop:t(61683),Depth:t(89272),Flip:t(54434),FX:t(47059),GetBounds:t(8004),Mask:t(8573),Origin:t(27387),PathFollower:t(37640),Pipeline:t(72699),PostPipeline:t(17581),ScrollFactor:t(80227),Size:t(16736),Texture:t(37726),TextureCrop:t(79812),Tint:t(27472),ToJSON:t(53774),Transform:t(16901),TransformMatrix:t(61340),Visible:t(59715)}},31559:(o,g,t)=>{var a=t(37105),v=t(10312),h=t(83419),s=t(31401),r=t(51708),e=t(95643),n=t(87841),l=t(29959),i=t(36899),u=t(26099),f=new s.TransformMatrix,c=new h({Extends:e,Mixins:[s.AlphaSingle,s.BlendMode,s.ComputedSize,s.Depth,s.Mask,s.PostPipeline,s.Transform,s.Visible,l],initialize:function(p,m,y,x){e.call(this,p,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new s.TransformMatrix,this._sortKey="",this._sysEvents=p.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(m,y),this.setBlendMode(v.SKIP_CHECK),x&&this.add(x)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(d){return d===void 0&&(d=!0),this.exclusive=d,this},getBounds:function(d){if(d===void 0&&(d=new n),d.setTo(this.x,this.y,0,0),this.parentContainer){var p=this.parentContainer.getBoundsTransformMatrix(),m=p.transformPoint(this.x,this.y);d.setTo(m.x,m.y,0,0)}if(this.list.length>0){var y=this.list,x=new n,C=!1;d.setEmpty();for(var E=0;E<y.length;E++){var R=y[E];R.getBounds&&(R.getBounds(x),C?i(x,d,d):(d.setTo(x.x,x.y,x.width,x.height),C=!0))}}return d},addHandler:function(d){d.once(r.DESTROY,this.onChildDestroyed,this),this.exclusive&&(d.parentContainer&&d.parentContainer.remove(d),d.parentContainer=this,d.removeFromDisplayList(),d.addedToScene())},removeHandler:function(d){d.off(r.DESTROY,this.remove,this),this.exclusive&&(d.parentContainer=null,d.removedFromScene(),d.addToDisplayList())},pointToContainer:function(d,p){p===void 0&&(p=new u),this.parentContainer?this.parentContainer.pointToContainer(d,p):(p.x=d.x,p.y=d.y);var m=f;return m.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),m.invert(),m.transformPoint(d.x,d.y,p),p},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(f,this.localTransform)},add:function(d){return a.Add(this.list,d,this.maxSize,this.addHandler,this),this},addAt:function(d,p){return a.AddAt(this.list,d,p,this.maxSize,this.addHandler,this),this},getAt:function(d){return this.list[d]},getIndex:function(d){return this.list.indexOf(d)},sort:function(d,p){return d?(p===void 0&&(p=function(m,y){return m[d]-y[d]}),a.StableSort(this.list,p),this):this},getByName:function(d){return a.GetFirst(this.list,"name",d)},getRandom:function(d,p){return a.GetRandom(this.list,d,p)},getFirst:function(d,p,m,y){return a.GetFirst(this.list,d,p,m,y)},getAll:function(d,p,m,y){return a.GetAll(this.list,d,p,m,y)},count:function(d,p,m,y){return a.CountAllMatching(this.list,d,p,m,y)},swap:function(d,p){return a.Swap(this.list,d,p),this},moveTo:function(d,p){return a.MoveTo(this.list,d,p),this},moveAbove:function(d,p){return a.MoveAbove(this.list,d,p),this},moveBelow:function(d,p){return a.MoveBelow(this.list,d,p),this},remove:function(d,p){var m=a.Remove(this.list,d,this.removeHandler,this);if(p&&m){Array.isArray(m)||(m=[m]);for(var y=0;y<m.length;y++)m[y].destroy()}return this},removeAt:function(d,p){var m=a.RemoveAt(this.list,d,this.removeHandler,this);return p&&m&&m.destroy(),this},removeBetween:function(d,p,m){var y=a.RemoveBetween(this.list,d,p,this.removeHandler,this);if(m)for(var x=0;x<y.length;x++)y[x].destroy();return this},removeAll:function(d){var p=this.list;if(d){for(var m=0;m<p.length;m++)p[m]&&p[m].scene&&(p[m].off(r.DESTROY,this.onChildDestroyed,this),p[m].destroy());this.list=[]}else a.RemoveBetween(p,0,p.length,this.removeHandler,this);return this},bringToTop:function(d){return a.BringToTop(this.list,d),this},sendToBack:function(d){return a.SendToBack(this.list,d),this},moveUp:function(d){return a.MoveUp(this.list,d),this},moveDown:function(d){return a.MoveDown(this.list,d),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return a.Shuffle(this.list),this},replace:function(d,p,m){var y=a.Replace(this.list,d,p);return y&&(this.addHandler(p),this.removeHandler(d),m&&d.destroy()),this},exists:function(d){return this.list.indexOf(d)>-1},setAll:function(d,p,m,y){return a.SetAll(this.list,d,p,m,y),this},each:function(d,p){var m=[null],y,x=this.list.slice(),C=x.length;for(y=2;y<arguments.length;y++)m.push(arguments[y]);for(y=0;y<C;y++)m[0]=x[y],d.apply(p,m);return this},iterate:function(d,p){var m=[null],y;for(y=2;y<arguments.length;y++)m.push(arguments[y]);for(y=0;y<this.list.length;y++)m[0]=this.list[y],d.apply(p,m);return this},setScrollFactor:function(d,p,m){return p===void 0&&(p=d),m===void 0&&(m=!1),this.scrollFactorX=d,this.scrollFactorY=p,m&&(a.SetAll(this.list,"scrollFactorX",d),a.SetAll(this.list,"scrollFactorY",p)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.list=[]},onChildDestroyed:function(d){a.Remove(this.list,d),this.exclusive&&(d.parentContainer=null,d.removedFromScene())}});o.exports=c},53584:o=>{var g=function(t,a,v,h){v.addToRenderList(a);var s=a.list;if(s.length!==0){var r=a.localTransform;h?(r.loadIdentity(),r.multiply(h),r.translate(a.x,a.y),r.rotate(a.rotation),r.scale(a.scaleX,a.scaleY)):r.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY);var e=a.blendMode!==-1;e||t.setBlendMode(0);var n=a._alpha,l=a.scrollFactorX,i=a.scrollFactorY;a.mask&&a.mask.preRenderCanvas(t,null,v);for(var u=0;u<s.length;u++){var f=s[u];if(f.willRender(v)){var c=f.alpha,d=f.scrollFactorX,p=f.scrollFactorY;!e&&f.blendMode!==t.currentBlendMode&&t.setBlendMode(f.blendMode),f.setScrollFactor(d*l,p*i),f.setAlpha(c*n),f.renderCanvas(t,f,v,r),f.setAlpha(c),f.setScrollFactor(d,p)}}a.mask&&a.mask.postRenderCanvas(t)}};o.exports=g},77143:(o,g,t)=>{var a=t(25305),v=t(31559),h=t(44603),s=t(23568),r=t(95540);h.register("container",function(e,n){e===void 0&&(e={});var l=s(e,"x",0),i=s(e,"y",0),u=r(e,"children",null),f=new v(this.scene,l,i,u);return n!==void 0&&(e.add=n),a(this.scene,f,e),f})},24961:(o,g,t)=>{var a=t(31559),v=t(39429);v.register("container",function(h,s,r){return this.displayList.add(new a(this.scene,h,s,r))})},29959:(o,g,t)=>{var a=t(29747),v=a,h=a;v=t(72249),h=t(53584),o.exports={renderWebGL:v,renderCanvas:h}},72249:o=>{var g=function(t,a,v,h){v.addToRenderList(a);var s=a.list,r=s.length;if(r!==0){var e=a.localTransform;h?(e.loadIdentity(),e.multiply(h),e.translate(a.x,a.y),e.rotate(a.rotation),e.scale(a.scaleX,a.scaleY)):e.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY),t.pipelines.preBatch(a);var n=a.blendMode!==-1;n||t.setBlendMode(0);for(var l=a.alpha,i=a.scrollFactorX,u=a.scrollFactorY,f=0;f<r;f++){var c=s[f];if(c.willRender(v)){var d,p,m,y;if(c.alphaTopLeft!==void 0)d=c.alphaTopLeft,p=c.alphaTopRight,m=c.alphaBottomLeft,y=c.alphaBottomRight;else{var x=c.alpha;d=x,p=x,m=x,y=x}var C=c.scrollFactorX,E=c.scrollFactorY;!n&&c.blendMode!==t.currentBlendMode&&t.setBlendMode(c.blendMode);var R=c.mask;R&&R.preRenderWebGL(t,c,v);var M=c.type;M!==t.currentType&&(t.newType=!0,t.currentType=M),t.nextTypeMatch=f<r-1?s[f+1].type===t.currentType:!1,c.setScrollFactor(C*i,E*u),c.setAlpha(d*l,p*l,m*l,y*l),c.renderWebGL(t,c,v,e,a),c.setAlpha(d,p,m,y),c.setScrollFactor(C,E),R&&R.postRenderWebGL(t,v),t.newType=!1}}t.pipelines.postBatch(a)}};o.exports=g},47407:o=>{o.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(o,g,t)=>{var a=t(83419),v=t(31401),h=t(441),s=t(95643),r=t(41212),e=t(35846),n=t(44594),l=t(61369),i=new a({Extends:s,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.Origin,v.ScrollFactor,v.Transform,v.Visible,h],initialize:function(f,c,d,p,m,y){if(s.call(this,f,"DOMElement"),this.parent=f.sys.game.domContainer,!this.parent)throw new Error("No DOM Container set in game config");this.cache=f.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new l,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(c,d),typeof p=="string"?p[0]==="#"?this.setElement(p.substr(1),m,y):this.createElement(p,m,y):p&&this.setElement(p,m,y),f.sys.events.on(n.SLEEP,this.handleSceneEvent,this),f.sys.events.on(n.WAKE,this.handleSceneEvent,this),f.sys.events.on(n.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(u){var f=this.node,c=f.style;f&&(c.display=u.settings.visible?"block":"none")},setSkew:function(u,f){return u===void 0&&(u=0),f===void 0&&(f=u),this.skewX=u,this.skewY=f,this},setPerspective:function(u){return this.parent.style.perspective=u+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(u){this.parent.style.perspective=u+"px"}},addListener:function(u){if(this.node){u=u.split(" ");for(var f=0;f<u.length;f++)this.node.addEventListener(u[f],this.handler,!1)}return this},removeListener:function(u){if(this.node){u=u.split(" ");for(var f=0;f<u.length;f++)this.node.removeEventListener(u[f],this.handler)}return this},dispatchNativeEvent:function(u){this.emit(u.type,u)},createElement:function(u,f,c){return this.setElement(document.createElement(u),f,c)},setElement:function(u,f,c){this.removeElement();var d;if(typeof u=="string"?(u[0]==="#"&&(u=u.substr(1)),d=document.getElementById(u)):typeof u=="object"&&u.nodeType===1&&(d=u),!d)return this;if(this.node=d,f&&r(f))for(var p in f)d.style[p]=f[p];else typeof f=="string"&&(d.style=f);return d.style.zIndex="0",d.style.display="inline",d.style.position="absolute",d.phaser=this,this.parent.appendChild(d),c&&(d.innerText=c),this.updateSize()},createFromCache:function(u,f){var c=this.cache.get(u);return c&&this.createFromHTML(c,f),this},createFromHTML:function(u,f){f===void 0&&(f="div"),this.removeElement();var c=document.createElement(f);return this.node=c,c.style.zIndex="0",c.style.display="inline",c.style.position="absolute",c.phaser=this,this.parent.appendChild(c),c.innerHTML=u,this.updateSize()},removeElement:function(){return this.node&&(e(this.node),this.node=null),this},updateSize:function(){var u=this.node;return this.width=u.clientWidth,this.height=u.clientHeight,this.displayWidth=this.width*this.scaleX,this.displayHeight=this.height*this.scaleY,this},getChildByProperty:function(u,f){if(this.node){for(var c=this.node.querySelectorAll("*"),d=0;d<c.length;d++)if(c[d][u]===f)return c[d]}return null},getChildByID:function(u){return this.getChildByProperty("id",u)},getChildByName:function(u){return this.getChildByProperty("name",u)},setClassName:function(u){return this.node&&(this.node.className=u,this.updateSize()),this},setText:function(u){return this.node&&(this.node.innerText=u,this.updateSize()),this},setHTML:function(u){return this.node&&(this.node.innerHTML=u,this.updateSize()),this},preRender:function(){var u=this.parentContainer,f=this.node;f&&u&&!u.willRender()&&(f.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(n.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(n.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(n.PRE_RENDER,this.preRender,this)}});o.exports=i},49381:(o,g,t)=>{var a=t(47407),v=t(95643),h=t(61340),s=new h,r=new h,e=new h,n=function(l,i,u,f){if(i.node){var c=i.node.style,d=i.scene.sys.settings;if(!c||!d.visible||v.RENDER_MASK!==i.renderFlags||i.cameraFilter!==0&&i.cameraFilter&u.id||i.parentContainer&&!i.parentContainer.willRender()){c.display="none";return}var p=i.parentContainer,m=u.alpha*i.alpha;p&&(m*=p.alpha);var y=s,x=r,C=e,E=0,R=0,M="0%",w="0%";f?(E=i.width*i.scaleX*i.originX,R=i.height*i.scaleY*i.originY,x.applyITRS(i.x-E,i.y-R,i.rotation,i.scaleX,i.scaleY),y.copyFrom(u.matrix),y.multiplyWithOffset(f,-u.scrollX*i.scrollFactorX,-u.scrollY*i.scrollFactorY),x.e=i.x-E,x.f=i.y-R,y.multiply(x,C)):(E=i.width*i.originX,R=i.height*i.originY,x.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY),y.copyFrom(u.matrix),M=100*i.originX+"%",w=100*i.originY+"%",x.e-=u.scrollX*i.scrollFactorX,x.f-=u.scrollY*i.scrollFactorY,y.multiply(x,C),C.e-=E,C.f-=R),i.transformOnly||(c.display="block",c.opacity=m,c.zIndex=i._depth,c.pointerEvents=i.pointerEvents,c.mixBlendMode=a[i._blendMode]),c.transform=C.getCSSMatrix()+" skew("+i.skewX+"rad, "+i.skewY+"rad) rotate3d("+i.rotate3d.x+","+i.rotate3d.y+","+i.rotate3d.z+","+i.rotate3d.w+i.rotate3dAngle+")",c.transformOrigin=M+" "+w}};o.exports=n},2611:(o,g,t)=>{var a=t(3069),v=t(39429);v.register("dom",function(h,s,r,e,n){var l=new a(this.scene,h,s,r,e,n);return this.displayList.add(l),l})},441:(o,g,t)=>{var a=t(29747),v=a,h=a;v=t(49381),h=t(49381),o.exports={renderWebGL:v,renderCanvas:h}},62980:o=>{o.exports="addedtoscene"},41337:o=>{o.exports="destroy"},44947:o=>{o.exports="removedfromscene"},49358:o=>{o.exports="complete"},35163:o=>{o.exports="created"},97249:o=>{o.exports="error"},19483:o=>{o.exports="locked"},56059:o=>{o.exports="loop"},26772:o=>{o.exports="metadata"},64437:o=>{o.exports="playing"},83411:o=>{o.exports="play"},75780:o=>{o.exports="seeked"},67799:o=>{o.exports="seeking"},63500:o=>{o.exports="stalled"},55541:o=>{o.exports="stop"},53208:o=>{o.exports="textureready"},4992:o=>{o.exports="unlocked"},12:o=>{o.exports="unsupported"},51708:(o,g,t)=>{o.exports={ADDED_TO_SCENE:t(62980),DESTROY:t(41337),REMOVED_FROM_SCENE:t(44947),VIDEO_COMPLETE:t(49358),VIDEO_CREATED:t(35163),VIDEO_ERROR:t(97249),VIDEO_LOCKED:t(19483),VIDEO_LOOP:t(56059),VIDEO_METADATA:t(26772),VIDEO_PLAY:t(83411),VIDEO_PLAYING:t(64437),VIDEO_SEEKED:t(75780),VIDEO_SEEKING:t(67799),VIDEO_STALLED:t(63500),VIDEO_STOP:t(55541),VIDEO_TEXTURE:t(53208),VIDEO_UNLOCKED:t(4992),VIDEO_UNSUPPORTED:t(12)}},42421:(o,g,t)=>{var a=t(83419),v=t(31401),h=t(95643),s=t(64993),r=new a({Extends:h,Mixins:[v.Alpha,v.BlendMode,v.Depth,v.Flip,v.Origin,v.ScrollFactor,v.Size,v.Texture,v.Tint,v.Transform,v.Visible,s],initialize:function(n){h.call(this,n,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});o.exports=r},70217:()=>{},56315:(o,g,t)=>{var a=t(42421),v=t(39429);v.register("extern",function(){var h=new a(this.scene);return this.displayList.add(h),h})},64993:(o,g,t)=>{var a=t(29747),v=a,h=a;v=t(80287),h=t(70217),o.exports={renderWebGL:v,renderCanvas:h}},80287:(o,g,t)=>{var a=t(91296),v=function(h,s,r,e){h.pipelines.clear();var n=a(s,r,e).calc;s.render.call(s,h,r,n),h.pipelines.rebind()};o.exports=v},85592:o=>{o.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(o,g,t)=>{var a=t(71911),v=t(83419),h=t(85592),s=t(31401),r=t(8497),e=t(95643),n=t(95540),l=t(35154),i=t(36383),u=t(84503),f=new v({Extends:e,Mixins:[s.AlphaSingle,s.BlendMode,s.Depth,s.Mask,s.Pipeline,s.PostPipeline,s.Transform,s.Visible,s.ScrollFactor,u],initialize:function(d,p){var m=l(p,"x",0),y=l(p,"y",0);e.call(this,d,"Graphics"),this.setPosition(m,y),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(p)},setDefaultStyles:function(c){return l(c,"lineStyle",null)&&(this.defaultStrokeWidth=l(c,"lineStyle.width",1),this.defaultStrokeColor=l(c,"lineStyle.color",16777215),this.defaultStrokeAlpha=l(c,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),l(c,"fillStyle",null)&&(this.defaultFillColor=l(c,"fillStyle.color",16777215),this.defaultFillAlpha=l(c,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(c,d,p){return p===void 0&&(p=1),this.commandBuffer.push(h.LINE_STYLE,c,d,p),this._lineWidth=c,this},fillStyle:function(c,d){return d===void 0&&(d=1),this.commandBuffer.push(h.FILL_STYLE,c,d),this},fillGradientStyle:function(c,d,p,m,y,x,C,E){return y===void 0&&(y=1),x===void 0&&(x=y),C===void 0&&(C=y),E===void 0&&(E=y),this.commandBuffer.push(h.GRADIENT_FILL_STYLE,y,x,C,E,c,d,p,m),this},lineGradientStyle:function(c,d,p,m,y,x){return x===void 0&&(x=1),this.commandBuffer.push(h.GRADIENT_LINE_STYLE,c,x,d,p,m,y),this},beginPath:function(){return this.commandBuffer.push(h.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(h.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(h.FILL_PATH),this},fill:function(){return this.commandBuffer.push(h.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(h.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(h.STROKE_PATH),this},fillCircleShape:function(c){return this.fillCircle(c.x,c.y,c.radius)},strokeCircleShape:function(c){return this.strokeCircle(c.x,c.y,c.radius)},fillCircle:function(c,d,p){return this.beginPath(),this.arc(c,d,p,0,i.PI2),this.fillPath(),this},strokeCircle:function(c,d,p){return this.beginPath(),this.arc(c,d,p,0,i.PI2),this.strokePath(),this},fillRectShape:function(c){return this.fillRect(c.x,c.y,c.width,c.height)},strokeRectShape:function(c){return this.strokeRect(c.x,c.y,c.width,c.height)},fillRect:function(c,d,p,m){return this.commandBuffer.push(h.FILL_RECT,c,d,p,m),this},strokeRect:function(c,d,p,m){var y=this._lineWidth/2,x=c-y,C=c+y;return this.beginPath(),this.moveTo(c,d),this.lineTo(c,d+m),this.strokePath(),this.beginPath(),this.moveTo(c+p,d),this.lineTo(c+p,d+m),this.strokePath(),this.beginPath(),this.moveTo(x,d),this.lineTo(C+p,d),this.strokePath(),this.beginPath(),this.moveTo(x,d+m),this.lineTo(C+p,d+m),this.strokePath(),this},fillRoundedRect:function(c,d,p,m,y){y===void 0&&(y=20);var x=y,C=y,E=y,R=y;typeof y!="number"&&(x=n(y,"tl",20),C=n(y,"tr",20),E=n(y,"bl",20),R=n(y,"br",20));var M=x>=0,w=C>=0,D=E>=0,F=R>=0;return x=Math.abs(x),C=Math.abs(C),E=Math.abs(E),R=Math.abs(R),this.beginPath(),this.moveTo(c+x,d),this.lineTo(c+p-C,d),w?this.arc(c+p-C,d+C,C,-i.TAU,0):this.arc(c+p,d,C,Math.PI,i.TAU,!0),this.lineTo(c+p,d+m-R),F?this.arc(c+p-R,d+m-R,R,0,i.TAU):this.arc(c+p,d+m,R,-i.TAU,Math.PI,!0),this.lineTo(c+E,d+m),D?this.arc(c+E,d+m-E,E,i.TAU,Math.PI):this.arc(c,d+m,E,0,-i.TAU,!0),this.lineTo(c,d+x),M?this.arc(c+x,d+x,x,-Math.PI,-i.TAU):this.arc(c,d,x,i.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(c,d,p,m,y){y===void 0&&(y=20);var x=y,C=y,E=y,R=y,M=Math.min(p,m)/2;typeof y!="number"&&(x=n(y,"tl",20),C=n(y,"tr",20),E=n(y,"bl",20),R=n(y,"br",20));var w=x>=0,D=C>=0,F=E>=0,I=R>=0;return x=Math.min(Math.abs(x),M),C=Math.min(Math.abs(C),M),E=Math.min(Math.abs(E),M),R=Math.min(Math.abs(R),M),this.beginPath(),this.moveTo(c+x,d),this.lineTo(c+p-C,d),this.moveTo(c+p-C,d),D?this.arc(c+p-C,d+C,C,-i.TAU,0):this.arc(c+p,d,C,Math.PI,i.TAU,!0),this.lineTo(c+p,d+m-R),this.moveTo(c+p,d+m-R),I?this.arc(c+p-R,d+m-R,R,0,i.TAU):this.arc(c+p,d+m,R,-i.TAU,Math.PI,!0),this.lineTo(c+E,d+m),this.moveTo(c+E,d+m),F?this.arc(c+E,d+m-E,E,i.TAU,Math.PI):this.arc(c,d+m,E,0,-i.TAU,!0),this.lineTo(c,d+x),this.moveTo(c,d+x),w?this.arc(c+x,d+x,x,-Math.PI,-i.TAU):this.arc(c,d,x,i.TAU,0,!0),this.strokePath(),this},fillPointShape:function(c,d){return this.fillPoint(c.x,c.y,d)},fillPoint:function(c,d,p){return!p||p<1?p=1:(c-=p/2,d-=p/2),this.commandBuffer.push(h.FILL_RECT,c,d,p,p),this},fillTriangleShape:function(c){return this.fillTriangle(c.x1,c.y1,c.x2,c.y2,c.x3,c.y3)},strokeTriangleShape:function(c){return this.strokeTriangle(c.x1,c.y1,c.x2,c.y2,c.x3,c.y3)},fillTriangle:function(c,d,p,m,y,x){return this.commandBuffer.push(h.FILL_TRIANGLE,c,d,p,m,y,x),this},strokeTriangle:function(c,d,p,m,y,x){return this.commandBuffer.push(h.STROKE_TRIANGLE,c,d,p,m,y,x),this},strokeLineShape:function(c){return this.lineBetween(c.x1,c.y1,c.x2,c.y2)},lineBetween:function(c,d,p,m){return this.beginPath(),this.moveTo(c,d),this.lineTo(p,m),this.strokePath(),this},lineTo:function(c,d){return this.commandBuffer.push(h.LINE_TO,c,d),this},moveTo:function(c,d){return this.commandBuffer.push(h.MOVE_TO,c,d),this},strokePoints:function(c,d,p,m){d===void 0&&(d=!1),p===void 0&&(p=!1),m===void 0&&(m=c.length),this.beginPath(),this.moveTo(c[0].x,c[0].y);for(var y=1;y<m;y++)this.lineTo(c[y].x,c[y].y);return d&&this.lineTo(c[0].x,c[0].y),p&&this.closePath(),this.strokePath(),this},fillPoints:function(c,d,p,m){d===void 0&&(d=!1),p===void 0&&(p=!1),m===void 0&&(m=c.length),this.beginPath(),this.moveTo(c[0].x,c[0].y);for(var y=1;y<m;y++)this.lineTo(c[y].x,c[y].y);return d&&this.lineTo(c[0].x,c[0].y),p&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(c,d){d===void 0&&(d=32);var p=c.getPoints(d);return this.strokePoints(p,!0)},strokeEllipse:function(c,d,p,m,y){y===void 0&&(y=32);var x=new r(c,d,p,m),C=x.getPoints(y);return this.strokePoints(C,!0)},fillEllipseShape:function(c,d){d===void 0&&(d=32);var p=c.getPoints(d);return this.fillPoints(p,!0)},fillEllipse:function(c,d,p,m,y){y===void 0&&(y=32);var x=new r(c,d,p,m),C=x.getPoints(y);return this.fillPoints(C,!0)},arc:function(c,d,p,m,y,x,C){return x===void 0&&(x=!1),C===void 0&&(C=0),this.commandBuffer.push(h.ARC,c,d,p,m,y,x,C),this},slice:function(c,d,p,m,y,x,C){return x===void 0&&(x=!1),C===void 0&&(C=0),this.commandBuffer.push(h.BEGIN_PATH),this.commandBuffer.push(h.MOVE_TO,c,d),this.commandBuffer.push(h.ARC,c,d,p,m,y,x,C),this.commandBuffer.push(h.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(h.SAVE),this},restore:function(){return this.commandBuffer.push(h.RESTORE),this},translateCanvas:function(c,d){return this.commandBuffer.push(h.TRANSLATE,c,d),this},scaleCanvas:function(c,d){return this.commandBuffer.push(h.SCALE,c,d),this},rotateCanvas:function(c){return this.commandBuffer.push(h.ROTATE,c),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(c,d,p){var m=this.scene.sys,y=m.game.renderer;d===void 0&&(d=m.scale.width),p===void 0&&(p=m.scale.height),f.TargetCamera.setScene(this.scene),f.TargetCamera.setViewport(0,0,d,p),f.TargetCamera.scrollX=this.x,f.TargetCamera.scrollY=this.y;var x,C,E={willReadFrequently:!0};if(typeof c=="string")if(m.textures.exists(c)){x=m.textures.get(c);var R=x.getSourceImage();R instanceof HTMLCanvasElement&&(C=R.getContext("2d",E))}else x=m.textures.createCanvas(c,d,p),C=x.getSourceImage().getContext("2d",E);else c instanceof HTMLCanvasElement&&(C=c.getContext("2d",E));return C&&(this.renderCanvas(y,this,f.TargetCamera,null,C,!1),x&&x.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});f.TargetCamera=new a,o.exports=f},32768:(o,g,t)=>{var a=t(85592),v=t(20926),h=function(s,r,e,n,l,i){var u=r.commandBuffer,f=u.length,c=l||s.currentContext;if(!(f===0||!v(s,c,r,e,n))){e.addToRenderList(r);var d=1,p=1,m=0,y=0,x=1,C=0,E=0,R=0;c.beginPath();for(var M=0;M<f;++M){var w=u[M];switch(w){case a.ARC:c.arc(u[M+1],u[M+2],u[M+3],u[M+4],u[M+5],u[M+6]),M+=7;break;case a.LINE_STYLE:x=u[M+1],m=u[M+2],d=u[M+3],C=(m&16711680)>>>16,E=(m&65280)>>>8,R=m&255,c.strokeStyle="rgba("+C+","+E+","+R+","+d+")",c.lineWidth=x,M+=3;break;case a.FILL_STYLE:y=u[M+1],p=u[M+2],C=(y&16711680)>>>16,E=(y&65280)>>>8,R=y&255,c.fillStyle="rgba("+C+","+E+","+R+","+p+")",M+=2;break;case a.BEGIN_PATH:c.beginPath();break;case a.CLOSE_PATH:c.closePath();break;case a.FILL_PATH:i||c.fill();break;case a.STROKE_PATH:i||c.stroke();break;case a.FILL_RECT:i?c.rect(u[M+1],u[M+2],u[M+3],u[M+4]):c.fillRect(u[M+1],u[M+2],u[M+3],u[M+4]),M+=4;break;case a.FILL_TRIANGLE:c.beginPath(),c.moveTo(u[M+1],u[M+2]),c.lineTo(u[M+3],u[M+4]),c.lineTo(u[M+5],u[M+6]),c.closePath(),i||c.fill(),M+=6;break;case a.STROKE_TRIANGLE:c.beginPath(),c.moveTo(u[M+1],u[M+2]),c.lineTo(u[M+3],u[M+4]),c.lineTo(u[M+5],u[M+6]),c.closePath(),i||c.stroke(),M+=6;break;case a.LINE_TO:c.lineTo(u[M+1],u[M+2]),M+=2;break;case a.MOVE_TO:c.moveTo(u[M+1],u[M+2]),M+=2;break;case a.LINE_FX_TO:c.lineTo(u[M+1],u[M+2]),M+=5;break;case a.MOVE_FX_TO:c.moveTo(u[M+1],u[M+2]),M+=5;break;case a.SAVE:c.save();break;case a.RESTORE:c.restore();break;case a.TRANSLATE:c.translate(u[M+1],u[M+2]),M+=2;break;case a.SCALE:c.scale(u[M+1],u[M+2]),M+=2;break;case a.ROTATE:c.rotate(u[M+1]),M+=1;break;case a.GRADIENT_FILL_STYLE:M+=5;break;case a.GRADIENT_LINE_STYLE:M+=6;break}}c.restore()}};o.exports=h},87079:(o,g,t)=>{var a=t(44603),v=t(43831);a.register("graphics",function(h,s){h===void 0&&(h={}),s!==void 0&&(h.add=s);var r=new v(this.scene,h);return h.add&&this.scene.sys.displayList.add(r),r})},1201:(o,g,t)=>{var a=t(43831),v=t(39429);v.register("graphics",function(h){return this.displayList.add(new a(this.scene,h))})},84503:(o,g,t)=>{var a=t(29747),v=a,h=a;v=t(77545),h=t(32768),h=t(32768),o.exports={renderWebGL:v,renderCanvas:h}},77545:(o,g,t)=>{var a=t(85592),v=t(91296),h=t(61340),s=t(70554),r=function(u,f,c){this.x=u,this.y=f,this.width=c},e=function(u,f,c){this.points=[],this.pointsLength=1,this.points[0]=new r(u,f,c)},n=[],l=new h,i=function(u,f,c,d){if(f.commandBuffer.length!==0){c.addToRenderList(f);var p=u.pipelines.set(f.pipeline,f);u.pipelines.preBatch(f);for(var m=v(f,c,d).calc,y=l.loadIdentity(),x=f.commandBuffer,C=c.alpha*f.alpha,E=1,R=p.fillTint,M=p.strokeTint,w=0,D=0,F=0,I=.01,L=Math.PI*2,B,G=[],V=0,X=!0,b=null,U=s.getTintAppendFloatAlpha,O=0;O<x.length;O++)switch(B=x[O],B){case a.BEGIN_PATH:{G.length=0,b=null,X=!0;break}case a.CLOSE_PATH:{X=!1,b&&b.points.length&&b.points.push(b.points[0]);break}case a.FILL_PATH:{for(V=0;V<G.length;V++)p.batchFillPath(G[V].points,y,m);break}case a.STROKE_PATH:{for(V=0;V<G.length;V++)p.batchStrokePath(G[V].points,E,X,y,m);break}case a.LINE_STYLE:{E=x[++O];var z=x[++O],N=x[++O]*C,Y=U(z,N);M.TL=Y,M.TR=Y,M.BL=Y,M.BR=Y;break}case a.FILL_STYLE:{var W=x[++O],H=x[++O]*C,$=U(W,H);R.TL=$,R.TR=$,R.BL=$,R.BR=$;break}case a.GRADIENT_FILL_STYLE:{var j=x[++O]*C,Z=x[++O]*C,J=x[++O]*C,K=x[++O]*C;R.TL=U(x[++O],j),R.TR=U(x[++O],Z),R.BL=U(x[++O],J),R.BR=U(x[++O],K);break}case a.GRADIENT_LINE_STYLE:{E=x[++O];var Q=x[++O]*C;M.TL=U(x[++O],Q),M.TR=U(x[++O],Q),M.BL=U(x[++O],Q),M.BR=U(x[++O],Q);break}case a.ARC:{var _=0,k=x[++O],nt=x[++O],st=x[++O],at=x[++O],q=x[++O],et=x[++O],it=x[++O];for(q-=at,et?q<-L?q=-L:q>0&&(q=-L+q%L):q>L?q=L:q<0&&(q=L+q%L),b===null&&(b=new e(k+Math.cos(at)*st,nt+Math.sin(at)*st,E),G.push(b),_+=I);_<1+it;)F=q*_+at,w=k+Math.cos(F)*st,D=nt+Math.sin(F)*st,b.points.push(new r(w,D,E)),_+=I;F=q+at,w=k+Math.cos(F)*st,D=nt+Math.sin(F)*st,b.points.push(new r(w,D,E));break}case a.FILL_RECT:{p.batchFillRect(x[++O],x[++O],x[++O],x[++O],y,m);break}case a.FILL_TRIANGLE:{p.batchFillTriangle(x[++O],x[++O],x[++O],x[++O],x[++O],x[++O],y,m);break}case a.STROKE_TRIANGLE:{p.batchStrokeTriangle(x[++O],x[++O],x[++O],x[++O],x[++O],x[++O],E,y,m);break}case a.LINE_TO:{b!==null?b.points.push(new r(x[++O],x[++O],E)):(b=new e(x[++O],x[++O],E),G.push(b));break}case a.MOVE_TO:{b=new e(x[++O],x[++O],E),G.push(b);break}case a.SAVE:{n.push(y.copyToArray());break}case a.RESTORE:{y.copyFromArray(n.pop());break}case a.TRANSLATE:{k=x[++O],nt=x[++O],y.translate(k,nt);break}case a.SCALE:{k=x[++O],nt=x[++O],y.scale(k,nt);break}case a.ROTATE:{y.rotate(x[++O]);break}}u.pipelines.postBatch(f)}};o.exports=i},26479:(o,g,t)=>{var a=t(61061),v=t(83419),h=t(51708),s=t(50792),r=t(46710),e=t(95540),n=t(35154),l=t(97022),i=t(41212),u=t(88492),f=t(35072),c=t(68287),d=new v({Extends:s,initialize:function(m,y,x){s.call(this),x?y&&!Array.isArray(y)&&(y=[y]):Array.isArray(y)?i(y[0])&&(x=y,y=null):i(y)&&(x=y,y=null),this.scene=m,this.children=new f,this.isParent=!0,this.type="Group",this.classType=e(x,"classType",c),this.name=e(x,"name",""),this.active=e(x,"active",!0),this.maxSize=e(x,"maxSize",-1),this.defaultKey=e(x,"defaultKey",null),this.defaultFrame=e(x,"defaultFrame",null),this.runChildUpdate=e(x,"runChildUpdate",!1),this.createCallback=e(x,"createCallback",null),this.removeCallback=e(x,"removeCallback",null),this.createMultipleCallback=e(x,"createMultipleCallback",null),this.internalCreateCallback=e(x,"internalCreateCallback",null),this.internalRemoveCallback=e(x,"internalRemoveCallback",null),y&&this.addMultiple(y),x&&this.createMultiple(x),this.on(h.ADDED_TO_SCENE,this.addedToScene,this),this.on(h.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(p,m,y,x,C,E){if(p===void 0&&(p=0),m===void 0&&(m=0),y===void 0&&(y=this.defaultKey),x===void 0&&(x=this.defaultFrame),C===void 0&&(C=!0),E===void 0&&(E=!0),this.isFull())return null;var R=new this.classType(this.scene,p,m,y,x);return R.addToDisplayList(this.scene.sys.displayList),R.addToUpdateList(),R.visible=C,R.setActive(E),this.add(R),R},createMultiple:function(p){if(this.isFull())return[];Array.isArray(p)||(p=[p]);var m=[];if(p[0].key)for(var y=0;y<p.length;y++){var x=this.createFromConfig(p[y]);m=m.concat(x)}return m},createFromConfig:function(p){if(this.isFull())return[];this.classType=e(p,"classType",this.classType);var m=e(p,"key",void 0),y=e(p,"frame",null),x=e(p,"visible",!0),C=e(p,"active",!0),E=[];if(m===void 0)return E;Array.isArray(m)||(m=[m]),Array.isArray(y)||(y=[y]);var R=e(p,"repeat",0),M=e(p,"randomKey",!1),w=e(p,"randomFrame",!1),D=e(p,"yoyo",!1),F=e(p,"quantity",!1),I=e(p,"frameQuantity",1),L=e(p,"max",0),B=u(m,y,{max:L,qty:F||I,random:M,randomB:w,repeat:R,yoyo:D});p.createCallback&&(this.createCallback=p.createCallback),p.removeCallback&&(this.removeCallback=p.removeCallback),p.internalCreateCallback&&(this.internalCreateCallback=p.internalCreateCallback),p.internalRemoveCallback&&(this.internalRemoveCallback=p.internalRemoveCallback);for(var G=0;G<B.length;G++){var V=this.create(0,0,B[G].a,B[G].b,x,C);if(!V)break;E.push(V)}if(l(p,"setXY")){var X=n(p,"setXY.x",0),b=n(p,"setXY.y",0),U=n(p,"setXY.stepX",0),O=n(p,"setXY.stepY",0);a.SetXY(E,X,b,U,O)}if(l(p,"setRotation")){var z=n(p,"setRotation.value",0),N=n(p,"setRotation.step",0);a.SetRotation(E,z,N)}if(l(p,"setScale")){var Y=n(p,"setScale.x",1),W=n(p,"setScale.y",Y),H=n(p,"setScale.stepX",0),$=n(p,"setScale.stepY",0);a.SetScale(E,Y,W,H,$)}if(l(p,"setOrigin")){var j=n(p,"setOrigin.x",.5),Z=n(p,"setOrigin.y",j),J=n(p,"setOrigin.stepX",0),K=n(p,"setOrigin.stepY",0);a.SetOrigin(E,j,Z,J,K)}if(l(p,"setAlpha")){var Q=n(p,"setAlpha.value",1),_=n(p,"setAlpha.step",0);a.SetAlpha(E,Q,_)}if(l(p,"setDepth")){var k=n(p,"setDepth.value",0),nt=n(p,"setDepth.step",0);a.SetDepth(E,k,nt)}if(l(p,"setScrollFactor")){var st=n(p,"setScrollFactor.x",1),at=n(p,"setScrollFactor.y",st),q=n(p,"setScrollFactor.stepX",0),et=n(p,"setScrollFactor.stepY",0);a.SetScrollFactor(E,st,at,q,et)}var it=e(p,"hitArea",null),lt=e(p,"hitAreaCallback",null);it&&a.SetHitArea(E,it,lt);var gt=e(p,"gridAlign",!1);return gt&&a.GridAlign(E,gt),this.createMultipleCallback&&this.createMultipleCallback.call(this,E),E},preUpdate:function(p,m){if(!(!this.runChildUpdate||this.children.size===0))for(var y=this.children.entries.slice(),x=0;x<y.length;x++){var C=y[x];C.active&&C.update(p,m)}},add:function(p,m){return m===void 0&&(m=!1),this.isFull()?this:(this.children.set(p),this.internalCreateCallback&&this.internalCreateCallback.call(this,p),this.createCallback&&this.createCallback.call(this,p),m&&(p.addToDisplayList(this.scene.sys.displayList),p.addToUpdateList()),p.on(h.DESTROY,this.remove,this),this)},addMultiple:function(p,m){if(m===void 0&&(m=!1),Array.isArray(p))for(var y=0;y<p.length;y++)this.add(p[y],m);return this},remove:function(p,m,y){return m===void 0&&(m=!1),y===void 0&&(y=!1),this.children.contains(p)?(this.children.delete(p),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,p),this.removeCallback&&this.removeCallback.call(this,p),p.off(h.DESTROY,this.remove,this),y?p.destroy():m&&(p.removeFromDisplayList(),p.removeFromUpdateList()),this):this},clear:function(p,m){p===void 0&&(p=!1),m===void 0&&(m=!1);for(var y=this.children,x=0;x<y.size;x++){var C=y.entries[x];C.off(h.DESTROY,this.remove,this),m?C.destroy():p&&(C.removeFromDisplayList(),C.removeFromUpdateList())}return this.children.clear(),this},contains:function(p){return this.children.contains(p)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(p,m,y,x){return r(this.children.entries,p,m,y,x)},getFirst:function(p,m,y,x,C,E,R){return this.getHandler(!0,1,p,m,y,x,C,E,R)},getFirstNth:function(p,m,y,x,C,E,R,M){return this.getHandler(!0,p,m,y,x,C,E,R,M)},getLast:function(p,m,y,x,C,E,R){return this.getHandler(!1,1,p,m,y,x,C,E,R)},getLastNth:function(p,m,y,x,C,E,R,M){return this.getHandler(!1,p,m,y,x,C,E,R,M)},getHandler:function(p,m,y,x,C,E,R,M,w){y===void 0&&(y=!1),x===void 0&&(x=!1);var D,F,I=0,L=this.children.entries;if(p)for(F=0;F<L.length;F++)if(D=L[F],D.active===y){if(I++,I===m)break}else D=null;else for(F=L.length-1;F>=0;F--)if(D=L[F],D.active===y){if(I++,I===m)break}else D=null;return D?(typeof C=="number"&&(D.x=C),typeof E=="number"&&(D.y=E),D):x?this.create(C,E,R,M,w):null},get:function(p,m,y,x,C){return this.getFirst(!1,!0,p,m,y,x,C)},getFirstAlive:function(p,m,y,x,C,E){return this.getFirst(!0,p,m,y,x,C,E)},getFirstDead:function(p,m,y,x,C,E){return this.getFirst(!1,p,m,y,x,C,E)},playAnimation:function(p,m){return a.PlayAnimation(this.children.entries,p,m),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(p){p===void 0&&(p=!0);for(var m=0,y=0;y<this.children.size;y++)this.children.entries[y].active===p&&m++;return m},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var p=this.getTotalUsed(),m=this.maxSize===-1?999999999999:this.maxSize;return m-p},setActive:function(p){return this.active=p,this},setName:function(p){return this.name=p,this},propertyValueSet:function(p,m,y,x,C){return a.PropertyValueSet(this.children.entries,p,m,y,x,C),this},propertyValueInc:function(p,m,y,x,C){return a.PropertyValueInc(this.children.entries,p,m,y,x,C),this},setX:function(p,m){return a.SetX(this.children.entries,p,m),this},setY:function(p,m){return a.SetY(this.children.entries,p,m),this},setXY:function(p,m,y,x){return a.SetXY(this.children.entries,p,m,y,x),this},incX:function(p,m){return a.IncX(this.children.entries,p,m),this},incY:function(p,m){return a.IncY(this.children.entries,p,m),this},incXY:function(p,m,y,x){return a.IncXY(this.children.entries,p,m,y,x),this},shiftPosition:function(p,m,y){return a.ShiftPosition(this.children.entries,p,m,y),this},angle:function(p,m){return a.Angle(this.children.entries,p,m),this},rotate:function(p,m){return a.Rotate(this.children.entries,p,m),this},rotateAround:function(p,m){return a.RotateAround(this.children.entries,p,m),this},rotateAroundDistance:function(p,m,y){return a.RotateAroundDistance(this.children.entries,p,m,y),this},setAlpha:function(p,m){return a.SetAlpha(this.children.entries,p,m),this},setTint:function(p,m,y,x){return a.SetTint(this.children.entries,p,m,y,x),this},setOrigin:function(p,m,y,x){return a.SetOrigin(this.children.entries,p,m,y,x),this},scaleX:function(p,m){return a.ScaleX(this.children.entries,p,m),this},scaleY:function(p,m){return a.ScaleY(this.children.entries,p,m),this},scaleXY:function(p,m,y,x){return a.ScaleXY(this.children.entries,p,m,y,x),this},setDepth:function(p,m){return a.SetDepth(this.children.entries,p,m),this},setBlendMode:function(p){return a.SetBlendMode(this.children.entries,p),this},setHitArea:function(p,m){return a.SetHitArea(this.children.entries,p,m),this},shuffle:function(){return a.Shuffle(this.children.entries),this},kill:function(p){this.children.contains(p)&&p.setActive(!1)},killAndHide:function(p){this.children.contains(p)&&(p.setActive(!1),p.setVisible(!1))},setVisible:function(p,m,y){return a.SetVisible(this.children.entries,p,m,y),this},toggleVisible:function(){return a.ToggleVisible(this.children.entries),this},destroy:function(p,m){p===void 0&&(p=!1),m===void 0&&(m=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(h.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(m,p),this.scene=void 0,this.children=void 0)}});o.exports=d},94975:(o,g,t)=>{var a=t(44603),v=t(26479);a.register("group",function(h){return new v(this.scene,null,h)})},3385:(o,g,t)=>{var a=t(26479),v=t(39429);v.register("group",function(h,s){return this.updateList.add(new a(this.scene,h,s))})},88571:(o,g,t)=>{var a=t(83419),v=t(31401),h=t(95643),s=t(59819),r=new a({Extends:h,Mixins:[v.Alpha,v.BlendMode,v.Depth,v.Flip,v.GetBounds,v.Mask,v.Origin,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Size,v.TextureCrop,v.Tint,v.Transform,v.Visible,s],initialize:function(n,l,i,u,f){h.call(this,n,"Image"),this._crop=this.resetCropObject(),this.setTexture(u,f),this.setPosition(l,i),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});o.exports=r},40652:o=>{var g=function(t,a,v,h){v.addToRenderList(a),t.batchSprite(a,a.frame,v,h)};o.exports=g},82459:(o,g,t)=>{var a=t(25305),v=t(44603),h=t(23568),s=t(88571);v.register("image",function(r,e){r===void 0&&(r={});var n=h(r,"key",null),l=h(r,"frame",null),i=new s(this.scene,0,0,n,l);return e!==void 0&&(r.add=e),a(this.scene,i,r),i})},2117:(o,g,t)=>{var a=t(88571),v=t(39429);v.register("image",function(h,s,r,e){return this.displayList.add(new a(this.scene,h,s,r,e))})},59819:(o,g,t)=>{var a=t(29747),v=a,h=a;v=t(99517),h=t(40652),o.exports={renderWebGL:v,renderCanvas:h}},99517:o=>{var g=function(t,a,v,h){v.addToRenderList(a),this.pipeline.batchSprite(a,v,h)};o.exports=g},77856:(o,g,t)=>{var a={Events:t(51708),DisplayList:t(8050),GameObjectCreator:t(44603),GameObjectFactory:t(39429),UpdateList:t(45027),Components:t(31401),GetCalcMatrix:t(91296),BuildGameObject:t(25305),BuildGameObjectAnimation:t(13059),GameObject:t(95643),BitmapText:t(22186),Blitter:t(6107),Bob:t(46590),Container:t(31559),DOMElement:t(3069),DynamicBitmapText:t(2638),Extern:t(42421),Graphics:t(43831),Group:t(26479),Image:t(88571),Layer:t(93595),Particles:t(18404),PathFollower:t(1159),RenderTexture:t(591),RetroFont:t(196),Rope:t(77757),Sprite:t(68287),Text:t(50171),GetTextSize:t(14220),MeasureText:t(79557),TextStyle:t(35762),TileSprite:t(20839),Zone:t(41481),Video:t(18471),Shape:t(17803),Arc:t(23629),Curve:t(89),Ellipse:t(19921),Grid:t(30479),IsoBox:t(61475),IsoTriangle:t(16933),Line:t(57847),Polygon:t(24949),Rectangle:t(74561),Star:t(55911),Triangle:t(36931),Factories:{Blitter:t(12709),Container:t(24961),DOMElement:t(2611),DynamicBitmapText:t(72566),Extern:t(56315),Graphics:t(1201),Group:t(3385),Image:t(2117),Layer:t(20005),Particles:t(676),PathFollower:t(90145),RenderTexture:t(60505),Rope:t(96819),Sprite:t(46409),StaticBitmapText:t(34914),Text:t(68005),TileSprite:t(91681),Zone:t(84175),Video:t(89025),Arc:t(42563),Curve:t(40511),Ellipse:t(1543),Grid:t(34137),IsoBox:t(3933),IsoTriangle:t(49803),Line:t(2481),Polygon:t(64827),Rectangle:t(87959),Star:t(93697),Triangle:t(45245)},Creators:{Blitter:t(9403),Container:t(77143),DynamicBitmapText:t(11164),Graphics:t(87079),Group:t(94975),Image:t(82459),Layer:t(25179),Particles:t(92730),RenderTexture:t(34495),Rope:t(26209),Sprite:t(15567),StaticBitmapText:t(57336),Text:t(71259),TileSprite:t(14167),Zone:t(95261),Video:t(11511)}};a.Shader=t(20071),a.Mesh=t(4703),a.NineSlice=t(28103),a.PointLight=t(80321),a.Plane=t(33663),a.Factories.Shader=t(74177),a.Factories.Mesh=t(9225),a.Factories.NineSlice=t(47521),a.Factories.PointLight=t(71255),a.Factories.Plane=t(30985),a.Creators.Shader=t(54935),a.Creators.Mesh=t(20527),a.Creators.NineSlice=t(28279),a.Creators.PointLight=t(39829),a.Creators.Plane=t(56015),a.Light=t(41432),a.LightsManager=t(61356),a.LightsPlugin=t(88992),o.exports=a},93595:(o,g,t)=>{var a=t(10312),v=t(83419),h=t(31401),s=t(53774),r=t(45893),e=t(50792),n=t(51708),l=t(73162),i=t(33963),u=t(44594),f=t(19186),c=new v({Extends:l,Mixins:[h.AlphaSingle,h.BlendMode,h.Depth,h.Mask,h.PostPipeline,h.Visible,e,i],initialize:function(p,m){l.call(this,p),e.call(this),this.scene=p,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=p.sys,this.events=p.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(a.SKIP_CHECK),m&&this.add(m),p.sys.queueDepthSort()},setActive:function(d){return this.active=d,this},setName:function(d){return this.name=d,this},setState:function(d){return this.state=d,this},setDataEnabled:function(){return this.data||(this.data=new r(this)),this},setData:function(d,p){return this.data||(this.data=new r(this)),this.data.set(d,p),this},incData:function(d,p){return this.data||(this.data=new r(this)),this.data.inc(d,p),this},toggleData:function(d){return this.data||(this.data=new r(this)),this.data.toggle(d),this},getData:function(d){return this.data||(this.data=new r(this)),this.data.get(d)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return s(this)},willRender:function(d){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&d.id)},getIndexList:function(){for(var d=this,p=this.parentContainer,m=[];p&&(m.unshift(p.getIndex(d)),d=p,p.parentContainer);)p=p.parentContainer;return m.unshift(this.displayList.getIndex(d)),m},addChildCallback:function(d){var p=d.displayList;p&&p!==this&&d.removeFromDisplayList(),d.displayList||(this.queueDepthSort(),d.displayList=this,d.emit(n.ADDED_TO_SCENE,d,this.scene),this.events.emit(u.ADDED_TO_SCENE,d,this.scene))},removeChildCallback:function(d){this.queueDepthSort(),d.displayList=null,d.emit(n.REMOVED_FROM_SCENE,d,this.scene),this.events.emit(u.REMOVED_FROM_SCENE,d,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(f(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(d,p){return d._depth-p._depth},getChildren:function(){return this.list},addToDisplayList:function(d){return d===void 0&&(d=this.scene.sys.displayList),this.displayList&&this.displayList!==d&&this.removeFromDisplayList(),d.exists(this)||(this.displayList=d,d.add(this,!0),d.queueDepthSort(),this.emit(n.ADDED_TO_SCENE,this,this.scene),d.events.emit(u.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var d=this.displayList||this.scene.sys.displayList;return d.exists(this)&&(d.remove(this,!0),d.queueDepthSort(),this.displayList=null,this.emit(n.REMOVED_FROM_SCENE,this,this.scene),d.events.emit(u.REMOVED_FROM_SCENE,this,this.scene)),this},getDisplayList:function(){var d=null;return this.parentContainer?d=this.parentContainer.list:this.displayList&&(d=this.displayList.list),d},destroy:function(d){if(!(!this.scene||this.ignoreDestroy)){this.emit(n.DESTROY,this);for(var p=this.list;p.length;)p[0].destroy(d);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});o.exports=c},2956:o=>{var g=function(t,a,v){var h=a.list;if(h.length!==0){a.depthSort();var s=a.blendMode!==-1;s||t.setBlendMode(0);var r=a._alpha;a.mask&&a.mask.preRenderCanvas(t,null,v);for(var e=0;e<h.length;e++){var n=h[e];if(n.willRender(v)){var l=n.alpha;!s&&n.blendMode!==t.currentBlendMode&&t.setBlendMode(n.blendMode),n.setAlpha(l*r),n.renderCanvas(t,n,v),n.setAlpha(l)}}a.mask&&a.mask.postRenderCanvas(t)}};o.exports=g},25179:(o,g,t)=>{var a=t(25305),v=t(93595),h=t(44603),s=t(23568);h.register("layer",function(r,e){r===void 0&&(r={});var n=s(r,"children",null),l=new v(this.scene,n);return e!==void 0&&(r.add=e),a(this.scene,l,r),l})},20005:(o,g,t)=>{var a=t(93595),v=t(39429);v.register("layer",function(h){return this.displayList.add(new a(this.scene,h))})},33963:(o,g,t)=>{var a=t(29747),v=a,h=a;v=t(15869),h=t(2956),o.exports={renderWebGL:v,renderCanvas:h}},15869:o=>{var g=function(t,a,v){var h=a.list,s=h.length;if(s!==0){a.depthSort(),t.pipelines.preBatch(a);var r=a.blendMode!==-1;r||t.setBlendMode(0);for(var e=a.alpha,n=0;n<s;n++){var l=h[n];if(l.willRender(v)){var i,u,f,c;if(l.alphaTopLeft!==void 0)i=l.alphaTopLeft,u=l.alphaTopRight,f=l.alphaBottomLeft,c=l.alphaBottomRight;else{var d=l.alpha;i=d,u=d,f=d,c=d}!r&&l.blendMode!==t.currentBlendMode&&t.setBlendMode(l.blendMode);var p=l.mask;p&&p.preRenderWebGL(t,l,v);var m=l.type;m!==t.currentType&&(t.newType=!0,t.currentType=m),t.nextTypeMatch=n<s-1?h[n+1].type===t.currentType:!1,l.setAlpha(i*e,u*e,f*e,c*e),l.renderWebGL(t,l,v),l.setAlpha(i,u,f,c),p&&p.postRenderWebGL(t,v),t.newType=!1}}t.pipelines.postBatch(a)}};o.exports=g},41432:(o,g,t)=>{var a=t(96503),v=t(83419),h=t(31401),s=t(51767),r=t(70554),e=new v({Extends:a,Mixins:[h.Origin,h.ScrollFactor,h.Visible],initialize:function(l,i,u,f,c,d,p){a.call(this,l,i,u),this.color=new s(f,c,d),this.intensity=p,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(u)},displayWidth:{get:function(){return this.diameter},set:function(n){this.diameter=n}},displayHeight:{get:function(){return this.diameter},set:function(n){this.diameter=n}},width:{get:function(){return this.diameter},set:function(n){this.diameter=n}},height:{get:function(){return this.diameter},set:function(n){this.diameter=n}},willRender:function(n){return!(e.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&n.id)},setColor:function(n){var l=r.getFloatsFromUintRGB(n);return this.color.set(l[0],l[1],l[2]),this},setIntensity:function(n){return this.intensity=n,this},setRadius:function(n){return this.radius=n,this}});e.RENDER_MASK=15,o.exports=e},61356:(o,g,t)=>{var a=t(81491),v=t(83419),h=t(20339),s=t(41432),r=t(80321),e=t(51767),n=t(19133),l=t(19186),i=t(70554),u=new v({initialize:function(){this.lights=[],this.ambientColor=new e(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(f,c,d,p,m,y){return this.systems.displayList.add(new r(this.scene,f,c,d,p,m,y))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(f){for(var c=this.lights,d=f.worldView,p=[],m=0;m<c.length;m++){var y=c[m];y.willRender(f)&&a(y,d)&&p.push({light:y,distance:h(y.x,y.y,d.centerX,d.centerY)})}return p.length>this.maxLights&&(l(p,this.sortByDistance),p=p.slice(0,this.maxLights)),this.visibleLights=p.length,p},sortByDistance:function(f,c){return f.distance>=c.distance},setAmbientColor:function(f){var c=i.getFloatsFromUintRGB(f);return this.ambientColor.set(c[0],c[1],c[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(f,c,d,p,m){f===void 0&&(f=0),c===void 0&&(c=0),d===void 0&&(d=128),p===void 0&&(p=16777215),m===void 0&&(m=1);var y=i.getFloatsFromUintRGB(p),x=new s(f,c,d,y[0],y[1],y[2],m);return this.lights.push(x),x},removeLight:function(f){var c=this.lights.indexOf(f);return c>=0&&n(this.lights,c),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});o.exports=u},88992:(o,g,t)=>{var a=t(83419),v=t(61356),h=t(37277),s=t(44594),r=new a({Extends:v,initialize:function(n){this.scene=n,this.systems=n.sys,n.sys.settings.isBooted||n.sys.events.once(s.BOOT,this.boot,this),v.call(this)},boot:function(){var e=this.systems.events;e.on(s.SHUTDOWN,this.shutdown,this),e.on(s.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});h.register("LightsPlugin",r,"lights"),o.exports=r},4703:(o,g,t)=>{var a=t(83419),v=t(31401),h=t(39506),s=t(83997),r=t(95643),e=t(34684),n=t(92515),l=t(91296),i=t(37867),u=t(29807),f=t(43396),c=t(19186),d=t(25836),p=t(39318),m=new a({Extends:r,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.Mask,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Size,v.Texture,v.Transform,v.Visible,u],initialize:function(x,C,E,R,M,w,D,F,I,L,B,G){C===void 0&&(C=0),E===void 0&&(E=0),R===void 0&&(R="__WHITE"),r.call(this,x,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new d,this.modelScale=new d(1,1,1),this.modelRotation=new d,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new i,this.viewPosition=new d,this.viewMatrix=new i,this.projectionMatrix=new i,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var V=x.sys.renderer;this.setPosition(C,E),this.setTexture(R,M),this.setSize(V.width,V.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(V.width,V.height),w&&this.addVertices(w,D,F,I,L,B,G)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(y){return this.viewPosition.addScale(d.LEFT,y),this.dirtyCache[10]=1,this},panY:function(y){return this.viewPosition.y+=d.DOWN.y*y,this.dirtyCache[10]=1,this},panZ:function(y){return this.viewPosition.z+=y,this.dirtyCache[10]=1,this},setPerspective:function(y,x,C,E,R){return C===void 0&&(C=45),E===void 0&&(E=.01),R===void 0&&(R=1e3),this.fov=C,this.projectionMatrix.perspective(h(C),y/x,E,R),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(y,x,C,E){return y===void 0&&(y=this.scene.sys.renderer.getAspectRatio()),x===void 0&&(x=1),C===void 0&&(C=-1e3),E===void 0&&(E=1e3),this.fov=0,this.projectionMatrix.ortho(-y,y,-x,x,C,E),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(y){y.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(y,x,C,E,R,M,w,D,F){var I=this.scene.sys.cache.obj.get(y),L;return I&&(L=e(I,this,x,C,E,R,M,w,D,F)),(!L||L.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",y),this},sortByDepth:function(y,x){return y.depth-x.depth},depthSort:function(){return c(this.faces,this.sortByDepth),this},addVertex:function(y,x,C,E,R,M,w){var D=new p(y,x,C,E,R,M,w);return this.vertices.push(D),D},addFace:function(y,x,C){var E=new s(y,x,C);return this.faces.push(E),this.dirtyCache[9]=-1,E},addVertices:function(y,x,C,E,R,M,w){var D=n(y,x,C,E,R,M,w);return D?(this.faces=this.faces.concat(D.faces),this.vertices=this.vertices.concat(D.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(y){return this.faces[y]},hasFaceAt:function(y,x,C){C===void 0&&(C=this.scene.sys.cameras.main);for(var E=l(this,C).calc,R=this.faces,M=0;M<R.length;M++){var w=R[M];if(w.contains(y,x,E))return!0}return!1},getFaceAt:function(y,x,C){C===void 0&&(C=this.scene.sys.cameras.main);for(var E=l(this,C).calc,R=this.faces,M=[],w=0;w<R.length;w++){var D=R[w];D.contains(y,x,E)&&M.push(D)}return c(M,this.sortByDepth)},setDebug:function(y,x){return this.debugGraphic=y,!y&&!x?this.debugCallback=null:x?this.debugCallback=x:this.debugCallback=this.renderDebug,this},isDirty:function(){var y=this.modelPosition,x=this.modelRotation,C=this.modelScale,E=this.dirtyCache,R=y.x,M=y.y,w=y.z,D=x.x,F=x.y,I=x.z,L=C.x,B=C.y,G=C.z,V=this.getFaceCount(),X=E[0],b=E[1],U=E[2],O=E[3],z=E[4],N=E[5],Y=E[6],W=E[7],H=E[8],$=E[9];return E[0]=R,E[1]=M,E[2]=w,E[3]=D,E[4]=F,E[5]=I,E[6]=L,E[7]=B,E[8]=G,E[9]=V,X!==R||b!==M||U!==w||O!==D||z!==F||N!==I||Y!==L||W!==B||H!==G||$!==V},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var y=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!y[10]&&!this.isDirty())){var x=this.width,C=this.height,E=this.viewMatrix,R=this.viewPosition;y[10]&&(E.identity(),E.translate(R),E.invert(),y[10]=0);var M=this.transformMatrix;M.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var w=R.z,D=this.faces,F=0;F<D.length;F++)D[F].transformCoordinatesLocal(M,x,C,w);this.depthSort()}},renderDebug:function(y,x){for(var C=y.debugGraphic,E=0;E<x.length;E++){var R=x[E],M=R.vertex1.tx,w=R.vertex1.ty,D=R.vertex2.tx,F=R.vertex2.ty,I=R.vertex3.tx,L=R.vertex3.ty;C.strokeTriangle(M,w,D,F,I,L)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(y){y===void 0&&(y={});var x=(function(C,E,R){for(var M=this.faces,w=0;w<M.length;w++){var D=M[w];if(D.contains(E,R))return!0}return!1}).bind(this);return this.scene.sys.input.enable(this,y,x),this},setTint:function(y){y===void 0&&(y=16777215);for(var x=this.vertices,C=0;C<x.length;C++)x[C].color=y;return this},uvScroll:function(y,x){for(var C=this.faces,E=0;E<C.length;E++)C[E].scrollUV(y,x);return this},uvScale:function(y,x){for(var C=this.faces,E=0;E<C.length;E++)C[E].scaleUV(y,x);return this},tint:{set:function(y){this.setTint(y)}},rotateX:{get:function(){return f(this.modelRotation.x)},set:function(y){this.modelRotation.x=h(y)}},rotateY:{get:function(){return f(this.modelRotation.y)},set:function(y){this.modelRotation.y=h(y)}},rotateZ:{get:function(){return f(this.modelRotation.z)},set:function(y){this.modelRotation.z=h(y)}}});o.exports=m},36488:o=>{var g=function(){};o.exports=g},20527:(o,g,t)=>{var a=t(25305),v=t(44603),h=t(23568),s=t(35154),r=t(4703);v.register("mesh",function(e,n){e===void 0&&(e={});var l=h(e,"key",null),i=h(e,"frame",null),u=s(e,"vertices",[]),f=s(e,"uvs",[]),c=s(e,"indicies",[]),d=s(e,"containsZ",!1),p=s(e,"normals",[]),m=s(e,"colors",16777215),y=s(e,"alphas",1),x=new r(this.scene,0,0,l,i,u,f,c,d,p,m,y);return n!==void 0&&(e.add=n),a(this.scene,x,e),x})},9225:(o,g,t)=>{var a=t(4703),v=t(39429);v.register("mesh",function(h,s,r,e,n,l,i,u,f,c,d){return this.displayList.add(new a(this.scene,h,s,r,e,n,l,i,u,f,c,d))})},29807:(o,g,t)=>{var a=t(29747),v=a,h=a;v=t(48833),h=t(36488),o.exports={renderWebGL:v,renderCanvas:h}},48833:(o,g,t)=>{var a=t(91296),v=function(h,s,r,e){var n=s.faces,l=n.length;if(l!==0){r.addToRenderList(s);var i=h.pipelines.set(s.pipeline,s),u=a(s,r,e).calc;h.pipelines.preBatch(s);for(var f=i.setGameObject(s),c=i.vertexViewF32,d=i.vertexViewU32,p=i.vertexCount*i.currentShader.vertexComponentCount-1,m=s.tintFill,y=[],x=s.debugCallback,C=u.a,E=u.b,R=u.c,M=u.d,w=u.e,D=u.f,F=s.viewPosition.z,I=s.hideCCW,L=r.roundPixels,B=r.alpha*s.alpha,G=0,V=0;V<l;V++){var X=n[V];X.isInView(r,I,F,B,C,E,R,M,w,D,L)&&(i.shouldFlush(3)&&(i.flush(),f=i.setGameObject(s),p=i.vertexCount*i.currentShader.vertexComponentCount-1),p=X.load(c,d,p,f,m),G++,i.vertexCount+=3,i.currentBatch.count=i.vertexCount-i.currentBatch.start,x&&y.push(X))}s.totalFrame+=G,x&&x.call(s,s,y),h.pipelines.postBatch(s)}};o.exports=v},28103:(o,g,t)=>{var a=t(83419),v=t(31401),h=t(95643),s=t(78023),r=t(39318),e=new a({Extends:h,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.GetBounds,v.Mask,v.Origin,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Texture,v.Transform,v.Visible,s],initialize:function(l,i,u,f,c,d,p,m,y,x,C){h.call(this,l,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var E=l.textures.getFrame(f,c);this.is3Slice=!x&&!C,E&&E.scale9&&(this.is3Slice=E.is3Slice);for(var R=this.is3Slice?18:54,M=0;M<R;M++)this.vertices.push(new r);this.setPosition(i,u),this.setTexture(f,c),this.setSlices(d,p,m,y,x,C,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(n,l,i,u,f,c,d){i===void 0&&(i=10),u===void 0&&(u=10),f===void 0&&(f=0),c===void 0&&(c=0),d===void 0&&(d=!1);var p=this.frame,m=!1;if(this.is3Slice&&d&&f!==0&&c!==0&&(m=!0),m)console.warn("Cannot change 9 slice to 3 slice");else{if(p&&p.scale9&&!d){var y=p.data.scale9Borders,x=y.x,C=y.y;i=x,u=p.width-y.w-x,f=C,c=p.height-y.h-C,n===void 0&&(n=p.width),l===void 0&&(l=p.height)}else n===void 0&&(n=256),l===void 0&&(l=256);this._width=n,this._height=l,this.leftWidth=i,this.rightWidth=u,this.topHeight=f,this.bottomHeight=c,this.is3Slice&&(l=p.height,this._height=l,this.topHeight=l,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var n=this.leftWidth,l=this.rightWidth,i=this.topHeight,u=this.bottomHeight,f=this.frame.width,c=this.frame.height;this.updateQuadUVs(0,0,0,n/f,i/c),this.updateQuadUVs(6,n/f,0,1-l/f,i/c),this.updateQuadUVs(12,1-l/f,0,1,i/c),this.is3Slice||(this.updateQuadUVs(18,0,i/c,n/f,1-u/c),this.updateQuadUVs(24,n/f,i/c,1-l/f,1-u/c),this.updateQuadUVs(30,1-l/f,i/c,1,1-u/c),this.updateQuadUVs(36,0,1-u/c,n/f,1),this.updateQuadUVs(42,n/f,1-u/c,1-l/f,1),this.updateQuadUVs(48,1-l/f,1-u/c,1,1))},updateVertices:function(){var n=this.leftWidth,l=this.rightWidth,i=this.topHeight,u=this.bottomHeight,f=this.width,c=this.height;this.updateQuad(0,-.5,.5,-.5+n/f,.5-i/c),this.updateQuad(6,-.5+n/f,.5,.5-l/f,.5-i/c),this.updateQuad(12,.5-l/f,.5,.5,.5-i/c),this.is3Slice||(this.updateQuad(18,-.5,.5-i/c,-.5+n/f,-.5+u/c),this.updateQuad(24,-.5+n/f,.5-i/c,.5-l/f,-.5+u/c),this.updateQuad(30,.5-l/f,.5-i/c,.5,-.5+u/c),this.updateQuad(36,-.5,-.5+u/c,-.5+n/f,-.5),this.updateQuad(42,-.5+n/f,-.5+u/c,.5-l/f,-.5),this.updateQuad(48,.5-l/f,-.5+u/c,.5,-.5))},updateQuad:function(n,l,i,u,f){var c=this.width,d=this.height,p=this.originX,m=this.originY,y=this.vertices;y[n+0].resize(l,i,c,d,p,m),y[n+1].resize(l,f,c,d,p,m),y[n+2].resize(u,i,c,d,p,m),y[n+3].resize(l,f,c,d,p,m),y[n+4].resize(u,f,c,d,p,m),y[n+5].resize(u,i,c,d,p,m)},updateQuadUVs:function(n,l,i,u,f){var c=this.vertices,d=this.frame,p=d.u0,m=d.v0,y=d.u1,x=d.v1;if(p!==0||y!==1){var C=y-p;l=p+l*C,u=p+u*C}if(m!==0||x!==1){var E=x-m;i=m+i*E,f=m+f*E}c[n+0].setUVs(l,i),c[n+1].setUVs(l,f),c[n+2].setUVs(u,i),c[n+3].setUVs(l,f),c[n+4].setUVs(u,f),c[n+5].setUVs(u,i)},clearTint:function(){return this.setTint(16777215),this},setTint:function(n){return n===void 0&&(n=16777215),this.tint=n,this.tintFill=!1,this},setTintFill:function(n){return this.setTint(n),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(n){this._width=Math.max(n,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(n){this.is3Slice||(this._height=Math.max(n,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(n){this.scaleX=n/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(n){this.scaleY=n/this.height}},setSize:function(n,l){this.width=n,this.height=l,this.updateDisplayOrigin();var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=this.width,i.hitArea.height=this.height),this},setDisplaySize:function(n,l){return this.displayWidth=n,this.displayHeight=l,this},originX:{get:function(){return this._originX},set:function(n){this._originX=n,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(n){this._originY=n,this.updateVertices()}},setOrigin:function(n,l){return n===void 0&&(n=.5),l===void 0&&(l=n),this._originX=n,this._originY=l,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var n=this.frame.height;this._height=n,this.topHeight=n,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});o.exports=e},28279:(o,g,t)=>{var a=t(25305),v=t(44603),h=t(23568),s=t(35154),r=t(28103);v.register("nineslice",function(e,n){e===void 0&&(e={});var l=h(e,"key",null),i=h(e,"frame",null),u=s(e,"width",256),f=s(e,"height",256),c=s(e,"leftWidth",10),d=s(e,"rightWidth",10),p=s(e,"topHeight",0),m=s(e,"bottomHeight",0),y=new r(this.scene,0,0,l,i,u,f,c,d,p,m);return n!==void 0&&(e.add=n),a(this.scene,y,e),y})},47521:(o,g,t)=>{var a=t(28103),v=t(39429);v.register("nineslice",function(h,s,r,e,n,l,i,u,f,c){return this.displayList.add(new a(this.scene,h,s,r,e,n,l,i,u,f,c))})},78023:(o,g,t)=>{var a=t(29747),v=a,h=a;v=t(52230),o.exports={renderWebGL:v,renderCanvas:h}},52230:(o,g,t)=>{var a=t(91296),v=t(70554),h=function(s,r,e,n){var l=r.vertices,i=l.length;if(i!==0){e.addToRenderList(r);var u=s.pipelines.set(r.pipeline,r),f=a(r,e,n,!1).calc;s.pipelines.preBatch(r);var c=u.setGameObject(r),d=u.vertexViewF32,p=u.vertexViewU32,m=u.vertexCount*u.currentShader.vertexComponentCount-1,y=e.roundPixels,x=r.tintFill,C=e.alpha*r.alpha,E=v.getTintAppendFloatAlpha(r.tint,C),R=u.vertexAvailable(),M=-1;R<i&&(M=R);for(var w=0;w<i;w++){var D=l[w];w===M&&(u.flush(),c=u.setGameObject(r),m=0),d[++m]=f.getXRound(D.vx,D.vy,y),d[++m]=f.getYRound(D.vx,D.vy,y),d[++m]=D.u,d[++m]=D.v,d[++m]=c,d[++m]=x,p[++m]=E,u.vertexCount++,u.currentBatch.count=u.vertexCount-u.currentBatch.start}s.pipelines.postBatch(r)}};o.exports=h},76472:(o,g,t)=>{var a=t(83419),v=t(44777),h=t(37589),s=t(6113),r=t(91389),e=t(90664),n=new a({Extends:v,initialize:function(i){v.call(this,i,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var l=this.propertyValue,i=l,u=this.defaultEmit,f=this.defaultUpdate;if(this.method===9){this.start=l[0],this.ease=s("Linear"),this.interpolation=r("linear"),u=this.easedValueEmit,f=this.easeValueUpdate,i=l[0],this.active=!0,this.r.length=0,this.g.length=0,this.b.length=0;for(var c=0;c<l.length;c++){var d=e(l[c]);this.r.push(d.r),this.g.push(d.g),this.b.push(d.b)}}return this.onEmit=u,this.onUpdate=f,this.current=i,this},setEase:function(l){this.easeName=l,this.ease=s(l)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(l,i,u){var f=this.ease(u),c=this.interpolation(this.r,f),d=this.interpolation(this.g,f),p=this.interpolation(this.b,f),m=h(c,d,p);return this.current=m,m}});o.exports=n},44777:(o,g,t)=>{var a=t(30976),v=t(45319),h=t(83419),s=t(99472),r=t(6113),e=t(95540),n=t(91389),l=t(77720),i=t(15994),u=new h({initialize:function(c,d,p){p===void 0&&(p=!1),this.propertyKey=c,this.propertyValue=d,this.defaultValue=d,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=p,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(f,c){f===void 0&&(f={}),c&&(this.propertyKey=c),this.propertyValue=e(f,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(f){var c;switch(this.method){case 1:case 3:case 8:c=f;break;case 2:this.propertyValue.indexOf(f)>=0&&(c=f);break;case 4:var d=(this.end-this.start)/this.steps;c=l(f,d),this.counter=c;break;case 5:case 6:case 7:c=v(f,this.start,this.end);break;case 9:c=this.start[0];break}return this.current=c,this},getMethod:function(){var f=this.propertyValue;if(f===null)return 0;var c=typeof f;if(c==="number")return 1;if(Array.isArray(f))return 2;if(c==="function")return 3;if(c==="object"){if(this.hasBoth(f,"start","end"))return this.has(f,"steps")?4:5;if(this.hasBoth(f,"min","max"))return 6;if(this.has(f,"random"))return 7;if(this.hasEither(f,"onEmit","onUpdate"))return 8;if(this.hasEither(f,"values","interpolation"))return 9}return 0},setMethods:function(){var f=this.propertyValue,c=f,d=this.defaultEmit,p=this.defaultUpdate;switch(this.method){case 1:d=this.staticValueEmit;break;case 2:d=this.randomStaticValueEmit,c=f[0];break;case 3:this._onEmit=f,d=this.proxyEmit,c=this.defaultValue;break;case 4:this.start=f.start,this.end=f.end,this.steps=f.steps,this.counter=this.start,this.yoyo=this.has(f,"yoyo")?f.yoyo:!1,this.direction=0,d=this.steppedEmit,c=this.start;break;case 5:this.start=f.start,this.end=f.end;var m=this.has(f,"ease")?f.ease:"Linear";this.ease=r(m,f.easeParams),d=this.has(f,"random")&&f.random?this.randomRangedValueEmit:this.easedValueEmit,p=this.easeValueUpdate,c=this.start;break;case 6:this.start=f.min,this.end=f.max,d=this.has(f,"int")&&f.int?this.randomRangedIntEmit:this.randomRangedValueEmit,c=this.start;break;case 7:var y=f.random;Array.isArray(y)&&(this.start=y[0],this.end=y[1]),d=this.randomRangedIntEmit,c=this.start;break;case 8:this._onEmit=this.has(f,"onEmit")?f.onEmit:this.defaultEmit,this._onUpdate=this.has(f,"onUpdate")?f.onUpdate:this.defaultUpdate,d=this.proxyEmit,p=this.proxyUpdate,c=this.defaultValue;break;case 9:this.start=f.values;var x=this.has(f,"ease")?f.ease:"Linear";this.ease=r(x,f.easeParams),this.interpolation=n(f.interpolation),d=this.easedValueEmit,p=this.easeValueUpdate,c=this.start[0];break}return this.onEmit=d,this.onUpdate=p,this.current=c,this},has:function(f,c){return f.hasOwnProperty(c)},hasBoth:function(f,c,d){return f.hasOwnProperty(c)&&f.hasOwnProperty(d)},hasEither:function(f,c,d){return f.hasOwnProperty(c)||f.hasOwnProperty(d)},defaultEmit:function(){return this.defaultValue},defaultUpdate:function(f,c,d,p){return p},proxyEmit:function(f,c,d){var p=this._onEmit(f,c,d);return this.current=p,p},proxyUpdate:function(f,c,d,p){var m=this._onUpdate(f,c,d,p);return this.current=m,m},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var f=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[f],this.current},randomRangedValueEmit:function(f,c){var d=s(this.start,this.end);return f&&f.data[c]&&(f.data[c].min=d,f.data[c].max=this.end),this.current=d,d},randomRangedIntEmit:function(f,c){var d=a(this.start,this.end);return f&&f.data[c]&&(f.data[c].min=d,f.data[c].max=this.end),this.current=d,d},steppedEmit:function(){var f=this.counter,c=f,d=(this.end-this.start)/this.steps;if(this.yoyo){var p;this.direction===0?(c+=d,c>=this.end&&(p=c-this.end,c=this.end-p,this.direction=1)):(c-=d,c<=this.start&&(p=this.start-c,c=this.start+p,this.direction=0)),this.counter=c}else this.counter=i(c+d,this.start,this.end);return this.current=f,f},easedValueEmit:function(f,c){if(f&&f.data[c]){var d=f.data[c];d.min=this.start,d.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(f,c,d){var p=f.data[c],m,y=this.ease(d);return this.interpolation?m=this.interpolation(this.start,y):m=(p.max-p.min)*y+p.min,this.current=m,m},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});o.exports=u},24502:(o,g,t)=>{var a=t(83419),v=t(95540),h=t(20286),s=new a({Extends:h,initialize:function(e,n,l,i,u){if(typeof e=="object"){var f=e;e=v(f,"x",0),n=v(f,"y",0),l=v(f,"power",0),i=v(f,"epsilon",100),u=v(f,"gravity",50)}else e===void 0&&(e=0),n===void 0&&(n=0),l===void 0&&(l=0),i===void 0&&(i=100),u===void 0&&(u=50);h.call(this,e,n,!0),this._gravity=u,this._power=l*u,this._epsilon=i*i},update:function(r,e){var n=this.x-r.x,l=this.y-r.y,i=n*n+l*l;if(i!==0){var u=Math.sqrt(i);i<this._epsilon&&(i=this._epsilon);var f=this._power*e/(i*u)*100;r.velocityX+=n*f,r.velocityY+=l*f}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(r){this._epsilon=r*r}},power:{get:function(){return this._power/this._gravity},set:function(r){this._power=r*this._gravity}},gravity:{get:function(){return this._gravity},set:function(r){var e=this.power;this._gravity=r,this.power=e}}});o.exports=s},56480:(o,g,t)=>{var a=t(9674),v=t(45319),h=t(83419),s=t(39506),r=t(87841),e=t(11520),n=t(26099),l=new h({initialize:function(u){this.emitter=u,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new n,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=u.scene,this.anims=null,this.emitter.anims.length>0&&(this.anims=new a(this)),this.bounds=new r},emit:function(i,u,f,c,d,p){return this.emitter.emit(i,u,f,c,d,p)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(i,u){i===void 0&&(i=0),u===void 0&&(u=0),this.x=i,this.y=u},fire:function(i,u){var f=this.emitter,c=f.ops,d=f.getAnim();if(d?this.anims.play(d):(this.frame=f.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(f.getEmitZone(this),i===void 0?this.x+=c.x.onEmit(this,"x"):c.x.steps>0?this.x+=i+c.x.onEmit(this,"x"):this.x+=i,u===void 0?this.y+=c.y.onEmit(this,"y"):c.y.steps>0?this.y+=u+c.y.onEmit(this,"y"):this.y+=u,this.life=c.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=c.delay.onEmit(this,"delay"),this.holdCurrent=c.hold.onEmit(this,"hold"),this.scaleX=c.scaleX.onEmit(this,"scaleX"),this.scaleY=c.scaleY.active?c.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=c.rotate.onEmit(this,"rotate"),this.rotation=s(this.angle),f.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&f.getDeathZone(this))return this.lifeCurrent=0,!1;var p=c.speedX.onEmit(this,"speedX"),m=c.speedY.active?c.speedY.onEmit(this,"speedY"):p;if(f.radial){var y=s(c.angle.onEmit(this,"angle"));this.velocityX=Math.cos(y)*Math.abs(p),this.velocityY=Math.sin(y)*Math.abs(m)}else if(f.moveTo){var x=c.moveToX.onEmit(this,"moveToX"),C=c.moveToY.onEmit(this,"moveToY"),E=this.life/1e3;this.velocityX=(x-this.x)/E,this.velocityY=(C-this.y)/E}else this.velocityX=p,this.velocityY=m;return f.acceleration&&(this.accelerationX=c.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=c.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=c.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=c.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=c.bounce.onEmit(this,"bounce"),this.alpha=c.alpha.onEmit(this,"alpha"),c.color.active?this.tint=c.color.onEmit(this,"tint"):this.tint=c.tint.onEmit(this,"tint"),!0},update:function(i,u,f){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=i,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=i,!1;this.anims&&this.anims.update(0,i);var c=this.emitter,d=c.ops,p=1-this.lifeCurrent/this.life;if(this.lifeT=p,this.x=d.x.onUpdate(this,"x",p,this.x),this.y=d.y.onUpdate(this,"y",p,this.y),c.moveTo){var m=d.moveToX.onUpdate(this,"moveToX",p,c.moveToX),y=d.moveToY.onUpdate(this,"moveToY",p,c.moveToY),x=this.lifeCurrent/1e3;this.velocityX=(m-this.x)/x,this.velocityY=(y-this.y)/x}return this.computeVelocity(c,i,u,f,p),this.scaleX=d.scaleX.onUpdate(this,"scaleX",p,this.scaleX),d.scaleY.active?this.scaleY=d.scaleY.onUpdate(this,"scaleY",p,this.scaleY):this.scaleY=this.scaleX,this.angle=d.rotate.onUpdate(this,"rotate",p,this.angle),this.rotation=s(this.angle),c.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=v(d.alpha.onUpdate(this,"alpha",p,this.alpha),0,1),d.color.active?this.tint=d.color.onUpdate(this,"color",p,this.tint):this.tint=d.tint.onUpdate(this,"tint",p,this.tint),this.lifeCurrent-=i,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(i,u,f,c,d){var p=i.ops,m=this.velocityX,y=this.velocityY,x=p.accelerationX.onUpdate(this,"accelerationX",d,this.accelerationX),C=p.accelerationY.onUpdate(this,"accelerationY",d,this.accelerationY),E=p.maxVelocityX.onUpdate(this,"maxVelocityX",d,this.maxVelocityX),R=p.maxVelocityY.onUpdate(this,"maxVelocityY",d,this.maxVelocityY);this.bounce=p.bounce.onUpdate(this,"bounce",d,this.bounce),m+=i.gravityX*f+x*f,y+=i.gravityY*f+C*f,m=v(m,-E,E),y=v(y,-R,R),this.velocityX=m,this.velocityY=y,this.x+=m*f,this.y+=y*f,i.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var M=0;M<c.length;M++){var w=c[M];w.active&&w.update(this,u,f,d)}},setSizeToFrame:function(){},getBounds:function(i){i===void 0&&(i=this.emitter.getWorldTransformMatrix());var u=Math.abs(i.scaleX)*this.scaleX,f=Math.abs(i.scaleY)*this.scaleY,c=this.x,d=this.y,p=this.rotation,m=this.frame.width*u/2,y=this.frame.height*f/2,x=this.bounds,C=new n(c-m,d-y),E=new n(c+m,d-y),R=new n(c-m,d+y),M=new n(c+m,d+y);return p!==0&&(e(C,c,d,p),e(E,c,d,p),e(R,c,d,p),e(M,c,d,p)),i.transformPoint(C.x,C.y,C),i.transformPoint(E.x,E.y,E),i.transformPoint(R.x,R.y,R),i.transformPoint(M.x,M.y,M),x.x=Math.min(C.x,E.x,R.x,M.x),x.y=Math.min(C.y,E.y,R.y,M.y),x.width=Math.max(C.x,E.x,R.x,M.x)-x.x,x.height=Math.max(C.y,E.y,R.y,M.y)-x.y,x},destroy:function(){this.anims&&this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});o.exports=l},69601:(o,g,t)=>{var a=t(83419),v=t(20286),h=t(87841),s=new a({Extends:v,initialize:function(e,n,l,i,u,f,c,d){u===void 0&&(u=!0),f===void 0&&(f=!0),c===void 0&&(c=!0),d===void 0&&(d=!0),v.call(this,e,n,!0),this.bounds=new h(e,n,l,i),this.collideLeft=u,this.collideRight=f,this.collideTop=c,this.collideBottom=d},update:function(r){var e=this.bounds,n=-r.bounce,l=r.worldPosition;l.x<e.x&&this.collideLeft?(r.x+=e.x-l.x,r.velocityX*=n):l.x>e.right&&this.collideRight&&(r.x-=l.x-e.right,r.velocityX*=n),l.y<e.y&&this.collideTop?(r.y+=e.y-l.y,r.velocityY*=n):l.y>e.bottom&&this.collideBottom&&(r.y-=l.y-e.bottom,r.velocityY*=n)}});o.exports=s},31600:(o,g,t)=>{var a=t(83419),v=t(31401),h=t(53774),s=t(43459),r=t(26388),e=t(19909),n=t(76472),l=t(44777),i=t(20696),u=t(95643),f=t(95540),c=t(26546),d=t(24502),p=t(69036),m=t(1985),y=t(97022),x=t(86091),C=t(73162),E=t(20074),R=t(269),M=t(56480),w=t(69601),D=t(68875),F=t(87841),I=t(59996),L=t(72905),B=t(90668),G=t(19186),V=t(61340),X=t(26099),b=t(15994),U=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],O=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],z=new a({Extends:u,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.Mask,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Texture,v.Transform,v.Visible,B],initialize:function(Y,W,H,$,j){u.call(this,Y,"ParticleEmitter"),this.particleClass=M,this.config=null,this.ops={accelerationX:new l("accelerationX",0),accelerationY:new l("accelerationY",0),alpha:new l("alpha",1),angle:new l("angle",{min:0,max:360},!0),bounce:new l("bounce",0),color:new n("color"),delay:new l("delay",0,!0),hold:new l("hold",0,!0),lifespan:new l("lifespan",1e3,!0),maxVelocityX:new l("maxVelocityX",1e4),maxVelocityY:new l("maxVelocityY",1e4),moveToX:new l("moveToX",0),moveToY:new l("moveToY",0),quantity:new l("quantity",1,!0),rotate:new l("rotate",0),scaleX:new l("scaleX",1),scaleY:new l("scaleY",1),speedX:new l("speedX",0,!0),speedY:new l("speedY",0,!0),tint:new l("tint",16777215),x:new l("x",0),y:new l("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new X,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new V,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new C(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(W,H),this.setTexture($),j&&this.setConfig(j)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(N){if(!N)return this;this.config=N;var Y=0,W="",H=this.ops;for(Y=0;Y<O.length;Y++)W=O[Y],H[W].loadConfig(N);for(Y=0;Y<U.length;Y++)W=U[Y],y(N,W)&&(this[W]=f(N,W));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=p(N,["moveToX","moveToY"]),y(N,"speed")&&(H.speedX.loadConfig(N,"speed"),H.speedY.active=!1),(m(N,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),y(N,"scale")&&(H.scaleX.loadConfig(N,"scale"),H.scaleY.active=!1),y(N,"callbackScope")){var $=f(N,"callbackScope",null);this.emitCallbackScope=$,this.deathCallbackScope=$}if(y(N,"emitZone")&&this.addEmitZone(N.emitZone),y(N,"deathZone")&&this.addDeathZone(N.deathZone),y(N,"bounds")){var j=this.addParticleBounds(N.bounds);j.collideLeft=f(N,"collideLeft",!0),j.collideRight=f(N,"collideRight",!0),j.collideTop=f(N,"collideTop",!0),j.collideBottom=f(N,"collideBottom",!0)}return y(N,"followOffset")&&this.followOffset.setFromObject(f(N,"followOffset",0)),y(N,"texture")&&this.setTexture(N.texture),y(N,"frame")?this.setEmitterFrame(N.frame):y(N,"anim")&&this.setAnim(N.anim),y(N,"reserve")&&this.reserve(N.reserve),y(N,"advance")&&this.fastForward(N.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(i.START,this),this},updateConfig:function(N){return N&&(this.config?this.setConfig(R(this.config,N)):this.setConfig(N)),this},toJSON:function(){var N=h(this),Y=0,W="";for(Y=0;Y<U.length;Y++)W=U[Y],N[W]=this[W];var H=this.ops;for(Y=0;Y<O.length;Y++)W=O[Y],H[W]&&(N[W]=H[W].toJSON());return H.speedY.active||(delete N.speedX,N.speed=H.speedX.toJSON()),this.scaleX===this.scaleY&&(delete N.scaleX,delete N.scaleY,N.scale=H.scaleX.toJSON()),N},resetCounters:function(N,Y){var W=this.counters;W.fill(0),W[0]=N,Y&&(W[5]=1)},startFollow:function(N,Y,W,H){return Y===void 0&&(Y=0),W===void 0&&(W=0),H===void 0&&(H=!1),this.follow=N,this.followOffset.set(Y,W),this.trackVisible=H,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var N=this.frames,Y=N.length,W;return Y===1?W=N[0]:this.randomFrame?W=c(N):(W=N[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===Y&&(this.currentFrame=0))),this.texture.get(W)},setEmitterFrame:function(N,Y,W){Y===void 0&&(Y=!0),W===void 0&&(W=1),this.randomFrame=Y,this.frameQuantity=W,this.currentFrame=0;var H=typeof N;if(this.frames.length=0,Array.isArray(N))this.frames=this.frames.concat(N);else if(H==="string"||H==="number")this.frames.push(N);else if(H==="object"){var $=N;N=f($,"frames",null),N&&(this.frames=this.frames.concat(N));var j=f($,"cycle",!1);this.randomFrame=!j,this.frameQuantity=f($,"quantity",W)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var N=this.anims,Y=N.length;if(Y===0)return null;if(Y===1)return N[0];if(this.randomAnim)return c(N);var W=N[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=b(this.currentAnim+1,0,Y)),W},setAnim:function(N,Y,W){Y===void 0&&(Y=!0),W===void 0&&(W=1),this.randomAnim=Y,this.animQuantity=W,this.currentAnim=0;var H=typeof N;if(this.anims.length=0,Array.isArray(N))this.anims=this.anims.concat(N);else if(H==="string")this.anims.push(N);else if(H==="object"){var $=N;N=f($,"anims",null),N&&(this.anims=this.anims.concat(N));var j=f($,"cycle",!1);this.randomAnim=!j,this.animQuantity=f($,"quantity",W)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(N){return N===void 0&&(N=!0),this.radial=N,this},addParticleBounds:function(N,Y,W,H,$,j,Z,J){if(typeof N=="object"){var K=N;N=K.x,Y=K.y,W=y(K,"w")?K.w:K.width,H=y(K,"h")?K.h:K.height}return this.addParticleProcessor(new w(N,Y,W,H,$,j,Z,J))},setParticleSpeed:function(N,Y){return Y===void 0&&(Y=N),this.ops.speedX.onChange(N),N===Y?this.ops.speedY.active=!1:this.ops.speedY.onChange(Y),this.radial=!0,this},setParticleScale:function(N,Y){return N===void 0&&(N=1),Y===void 0&&(Y=N),this.ops.scaleX.onChange(N),this.ops.scaleY.onChange(Y),this},setParticleGravity:function(N,Y){return this.gravityX=N,this.gravityY=Y,this},setParticleAlpha:function(N){return this.ops.alpha.onChange(N),this},setParticleTint:function(N){return this.ops.tint.onChange(N),this},setEmitterAngle:function(N){return this.ops.angle.onChange(N),this},setParticleLifespan:function(N){return this.ops.lifespan.onChange(N),this},setQuantity:function(N){return this.quantity=N,this},setFrequency:function(N,Y){return this.frequency=N,this.flowCounter=N>0?N:0,Y&&(this.quantity=Y),this},addDeathZone:function(N){Array.isArray(N)||(N=[N]);for(var Y,W=[],H=0;H<N.length;H++)if(Y=N[H],Y instanceof r)W.push(Y);else if(typeof Y.contains=="function")Y=new r(Y,!0),W.push(Y);else{var $=f(Y,"type","onEnter"),j=f(Y,"source",null);if(j&&typeof j.contains=="function"){var Z=$==="onEnter";Y=new r(j,Z),W.push(Y)}}return this.deathZones=this.deathZones.concat(W),W},removeDeathZone:function(N){return L(this.deathZones,N),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(N){Array.isArray(N)||(N=[N]);for(var Y,W=[],H=0;H<N.length;H++)if(Y=N[H],Y instanceof D||Y instanceof e)W.push(Y);else{var $=f(Y,"source",null);if($){var j=f(Y,"type","random");if(j==="random"&&typeof $.getRandomPoint=="function")Y=new D($),W.push(Y);else if(j==="edge"&&typeof $.getPoints=="function"){var Z=f(Y,"quantity",1),J=f(Y,"stepRate",0),K=f(Y,"yoyo",!1),Q=f(Y,"seamless",!0),_=f(Y,"total",-1);Y=new e($,Z,J,K,Q,_),W.push(Y)}}}return this.emitZones=this.emitZones.concat(W),W},removeEmitZone:function(N){return L(this.emitZones,N),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(N){var Y=this.emitZones,W=Y.length;if(W!==0){var H=Y[this.zoneIndex];H.getPoint(N),H.total>-1&&(this.zoneTotal++,this.zoneTotal===H.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===W&&(this.zoneIndex=0)))}},getDeathZone:function(N){for(var Y=this.deathZones,W=0;W<Y.length;W++){var H=Y[W];if(H.willKill(N))return this.emit(i.DEATH_ZONE,this,N,H),!0}return!1},setEmitZone:function(N){var Y;return isFinite(N)?Y=N:Y=this.emitZones.indexOf(N),Y>=0&&(this.zoneIndex=Y),this},addParticleProcessor:function(N){return this.processors.exists(N)||(N.emitter&&N.emitter.removeParticleProcessor(N),this.processors.add(N),N.emitter=this),N},removeParticleProcessor:function(N){return this.processors.exists(N)&&(this.processors.remove(N,!0),N.emitter=null),N},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(N){return this.addParticleProcessor(new d(N))},reserve:function(N){var Y=this.dead;if(this.maxParticles>0){var W=this.getParticleCount();W+N>this.maxParticles&&(N=this.maxParticles-(W+N))}for(var H=0;H<N;H++)Y.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(N,Y){return N===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof N=="function"&&(this.emitCallback=N,Y&&(this.emitCallbackScope=Y)),this},onParticleDeath:function(N,Y){return N===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof N=="function"&&(this.deathCallback=N,Y&&(this.deathCallbackScope=Y)),this},killAll:function(){for(var N=this.dead,Y=this.alive;Y.length>0;)N.push(Y.pop());return this},forEachAlive:function(N,Y){for(var W=this.alive,H=W.length,$=0;$<H;$++)N.call(Y,W[$],this);return this},forEachDead:function(N,Y){for(var W=this.dead,H=W.length,$=0;$<H;$++)N.call(Y,W[$],this);return this},start:function(N,Y){return N===void 0&&(N=0),this.emitting||(N>0&&this.fastForward(N),this.emitting=!0,this.resetCounters(this.frequency,!0),Y!==void 0&&(this.duration=Math.abs(Y)),this.emit(i.START,this)),this},stop:function(N){return N===void 0&&(N=!1),this.emitting&&(this.emitting=!1,N&&this.killAll(),this.emit(i.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(N,Y){return N===void 0&&(N=""),Y===void 0&&(Y=this.true),this.sortProperty=N,this.sortOrderAsc=Y,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(N){return this.sortProperty!==""?N=this.depthSortCallback:N=null,this.sortCallback=N,this},depthSort:function(){return G(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(N,Y){var W=this.sortProperty;return this.sortOrderAsc?N[W]-Y[W]:Y[W]-N[W]},flow:function(N,Y,W){return Y===void 0&&(Y=1),this.emitting=!1,this.frequency=N,this.quantity=Y,W!==void 0&&(this.stopAfter=W),this.start()},explode:function(N,Y,W){this.frequency=-1,this.resetCounters(-1,!0);var H=this.emitParticle(N,Y,W);return this.emit(i.EXPLODE,this,H),H},emitParticleAt:function(N,Y,W){return this.emitParticle(W,N,Y)},emitParticle:function(N,Y,W){if(!this.atLimit()){N===void 0&&(N=this.ops.quantity.onEmit());for(var H=this.dead,$=this.stopAfter,j=this.follow?this.follow.x+this.followOffset.x:Y,Z=this.follow?this.follow.y+this.followOffset.y:W,J=0;J<N;J++){var K=H.pop();if(K||(K=new this.particleClass(this)),K.fire(j,Z)?(this.particleBringToTop?this.alive.push(K):this.alive.unshift(K),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,K,this)):this.dead.push(K),$>0&&(this.stopCounter++,this.stopCounter>=$)||this.atLimit())break}return K}},fastForward:function(N,Y){Y===void 0&&(Y=1e3/60);var W=0;for(this.skipping=!0;W<Math.abs(N);)this.preUpdate(0,Y),W+=Y;return this.skipping=!1,this},preUpdate:function(N,Y){Y*=this.timeScale;var W=Y/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var H=this.getProcessors(),$=this.alive,j=this.dead,Z=0,J=[],K=$.length;for(Z=0;Z<K;Z++){var Q=$[Z];Q.update(Y,W,H)&&J.push({index:Z,particle:Q})}if(K=J.length,K>0){var _=this.deathCallback,k=this.deathCallbackScope;for(Z=K-1;Z>=0;Z--){var nt=J[Z];$.splice(nt.index,1),j.push(nt.particle),_&&_.call(k,nt.particle),nt.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&$.length===0&&(this.completeFlag=0,this.emit(i.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=Y;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=Y,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(N){for(var Y=this.getWorldTransformMatrix(),W=this.alive,H=W.length,$=[],j=0;j<H;j++){var Z=W[j];I(N,Z.getBounds(Y))&&$.push(Z)}return $},getBounds:function(N,Y,W,H){N===void 0&&(N=0),Y===void 0&&(Y=0),W===void 0&&(W=1e3/60),H===void 0&&(H=new F);var $=this.getWorldTransformMatrix(),j,Z,J=this.alive,K=!1;if(H.setTo(0,0,0,0),Y>0){var Q=0;for(this.skipping=!0;Q<Math.abs(Y);){for(this.preUpdate(0,W),j=0;j<J.length;j++)Z=J[j].getBounds($),K?E(H,Z):(K=!0,s(Z,H));Q+=W}this.skipping=!1}else for(j=0;j<J.length;j++)Z=J[j].getBounds($),K?E(H,Z):(K=!0,s(Z,H));return N>0&&x(H,N,N),H},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(N){this.ops.x.onChange(N)}},particleY:{get:function(){return this.ops.y.current},set:function(N){this.ops.y.onChange(N)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(N){this.ops.accelerationX.onChange(N)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(N){this.ops.accelerationY.onChange(N)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(N){this.ops.maxVelocityX.onChange(N)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(N){this.ops.maxVelocityY.onChange(N)}},speed:{get:function(){return this.ops.speedX.current},set:function(N){this.ops.speedX.onChange(N),this.ops.speedY.onChange(N)}},speedX:{get:function(){return this.ops.speedX.current},set:function(N){this.ops.speedX.onChange(N)}},speedY:{get:function(){return this.ops.speedY.current},set:function(N){this.ops.speedY.onChange(N)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(N){this.ops.moveToX.onChange(N)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(N){this.ops.moveToY.onChange(N)}},bounce:{get:function(){return this.ops.bounce.current},set:function(N){this.ops.bounce.onChange(N)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(N){this.ops.scaleX.onChange(N)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(N){this.ops.scaleY.onChange(N)}},particleColor:{get:function(){return this.ops.color.current},set:function(N){this.ops.color.onChange(N)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(N){this.ops.color.setEase(N)}},particleTint:{get:function(){return this.ops.tint.current},set:function(N){this.ops.tint.onChange(N)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(N){this.ops.alpha.onChange(N)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(N){this.ops.lifespan.onChange(N)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(N){this.ops.angle.onChange(N)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(N){this.ops.rotate.onChange(N)}},quantity:{get:function(){return this.ops.quantity.current},set:function(N){this.ops.quantity.onChange(N)}},delay:{get:function(){return this.ops.delay.current},set:function(N){this.ops.delay.onChange(N)}},hold:{get:function(){return this.ops.hold.current},set:function(N){this.ops.hold.onChange(N)}},flowCounter:{get:function(){return this.counters[0]},set:function(N){this.counters[0]=N}},frameCounter:{get:function(){return this.counters[1]},set:function(N){this.counters[1]=N}},animCounter:{get:function(){return this.counters[2]},set:function(N){this.counters[2]=N}},elapsed:{get:function(){return this.counters[3]},set:function(N){this.counters[3]=N}},stopCounter:{get:function(){return this.counters[4]},set:function(N){this.counters[4]=N}},completeFlag:{get:function(){return this.counters[5]},set:function(N){this.counters[5]=N}},zoneIndex:{get:function(){return this.counters[6]},set:function(N){this.counters[6]=N}},zoneTotal:{get:function(){return this.counters[7]},set:function(N){this.counters[7]=N}},currentFrame:{get:function(){return this.counters[8]},set:function(N){this.counters[8]=N}},currentAnim:{get:function(){return this.counters[9]},set:function(N){this.counters[9]=N}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var N,Y=this.ops;for(N=0;N<O.length;N++){var W=O[N];Y[W].destroy()}for(N=0;N<this.alive.length;N++)this.alive[N].destroy();for(N=0;N<this.dead.length;N++)this.dead[N].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});o.exports=z},9871:(o,g,t)=>{var a=t(59996),v=t(61340),h=new v,s=new v,r=new v,e=new v,n=function(l,i,u,f){var c=h,d=s,p=r,m=e;f?(m.loadIdentity(),m.multiply(f),m.translate(i.x,i.y),m.rotate(i.rotation),m.scale(i.scaleX,i.scaleY)):m.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY);var y=l.currentContext,x=u.roundPixels,C=u.alpha,E=i.alpha,R=i.alive,M=R.length,w=i.viewBounds;if(!(!i.visible||M===0||w&&!a(w,u.worldView))){i.sortCallback&&i.depthSort(),u.addToRenderList(i);var D=i.scrollFactorX,F=i.scrollFactorY;y.save(),y.globalCompositeOperation=l.blendModes[i.blendMode];for(var I=0;I<M;I++){var L=R[I],B=L.alpha*E*C;if(!(B<=0||L.scaleX===0||L.scaleY===0)){p.applyITRS(L.x,L.y,L.rotation,L.scaleX,L.scaleY),c.copyFrom(u.matrix),c.multiplyWithOffset(m,-u.scrollX*D,-u.scrollY*F),p.e=L.x,p.f=L.y,c.multiply(p,d);var G=L.frame,V=G.canvasData;if(V.width>0&&V.height>0){var X=-G.halfWidth,b=-G.halfHeight;y.globalAlpha=B,y.save(),d.setToContext(y),x&&(X=Math.round(X),b=Math.round(b)),y.imageSmoothingEnabled=!G.source.scaleMode,y.drawImage(G.source.image,V.x,V.y,V.width,V.height,X,b,V.width,V.height),y.restore()}}}y.restore()}};o.exports=n},92730:(o,g,t)=>{var a=t(25305),v=t(44603),h=t(23568),s=t(95540),r=t(31600);v.register("particles",function(e,n){e===void 0&&(e={});var l=h(e,"key",null),i=s(e,"config",null),u=new r(this.scene,0,0,l);return n!==void 0&&(e.add=n),a(this.scene,u,e),i&&u.setConfig(i),u})},676:(o,g,t)=>{var a=t(39429),v=t(31600);a.register("particles",function(h,s,r,e){return h!==void 0&&typeof h=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new v(this.scene,h,s,r,e))})},90668:(o,g,t)=>{var a=t(29747),v=a,h=a;v=t(21188),h=t(9871),o.exports={renderWebGL:v,renderCanvas:h}},21188:(o,g,t)=>{var a=t(59996),v=t(61340),h=t(70554),s=new v,r=new v,e=new v,n=new v,l=function(i,u,f,c){var d=i.pipelines.set(u.pipeline),p=s,m=r,y=e,x=n;c?(x.loadIdentity(),x.multiply(c),x.translate(u.x,u.y),x.rotate(u.rotation),x.scale(u.scaleX,u.scaleY)):x.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY);var C=h.getTintAppendFloatAlpha,E=f.alpha,R=u.alpha;i.pipelines.preBatch(u);var M=u.alive,w=M.length,D=u.viewBounds;if(!(w===0||D&&!a(D,f.worldView))){u.sortCallback&&u.depthSort(),f.addToRenderList(u),p.copyFrom(f.matrix),p.multiplyWithOffset(x,-f.scrollX*u.scrollFactorX,-f.scrollY*u.scrollFactorY),i.setBlendMode(u.blendMode),u.mask&&(u.mask.preRenderWebGL(i,u,f),i.pipelines.set(u.pipeline));for(var F=u.tintFill,I,L,B=0;B<w;B++){var G=M[B],V=G.alpha*R*E;if(!(V<=0||G.scaleX===0||G.scaleY===0)){y.applyITRS(G.x,G.y,G.rotation,G.scaleX,G.scaleY),y.e=G.x,y.f=G.y,p.multiply(y,m);var X=G.frame;X.glTexture!==L&&(L=X.glTexture,I=d.setGameObject(u,X));var b=-X.halfWidth,U=-X.halfHeight,O=m.setQuad(b,U,b+X.width,U+X.height),z=C(G.tint,V);d.shouldFlush(6)&&(d.flush(),I=d.setGameObject(u,X)),d.batchQuad(u,O[0],O[1],O[2],O[3],O[4],O[5],O[6],O[7],X.u0,X.v0,X.u1,X.v1,z,z,z,z,F,L,I)}}u.mask&&u.mask.postRenderWebGL(i,f),i.pipelines.postBatch(u)}};o.exports=l},20286:(o,g,t)=>{var a=t(83419),v=new a({initialize:function(s,r,e){s===void 0&&(s=0),r===void 0&&(r=0),e===void 0&&(e=!0),this.emitter,this.x=s,this.y=r,this.active=e},update:function(){},destroy:function(){this.emitter=null}});o.exports=v},9774:o=>{o.exports="complete"},812:o=>{o.exports="deathzone"},30522:o=>{o.exports="explode"},96695:o=>{o.exports="start"},18677:o=>{o.exports="stop"},20696:(o,g,t)=>{o.exports={COMPLETE:t(9774),DEATH_ZONE:t(812),EXPLODE:t(30522),START:t(96695),STOP:t(18677)}},18404:(o,g,t)=>{o.exports={EmitterColorOp:t(76472),EmitterOp:t(44777),Events:t(20696),GravityWell:t(24502),Particle:t(56480),ParticleBounds:t(69601),ParticleEmitter:t(31600),ParticleProcessor:t(20286),Zones:t(21024)}},26388:(o,g,t)=>{var a=t(83419),v=new a({initialize:function(s,r){this.source=s,this.killOnEnter=r},willKill:function(h){var s=h.worldPosition,r=this.source.contains(s.x,s.y);return r&&this.killOnEnter||!r&&!this.killOnEnter}});o.exports=v},19909:(o,g,t)=>{var a=t(83419),v=new a({initialize:function(s,r,e,n,l,i){n===void 0&&(n=!1),l===void 0&&(l=!0),i===void 0&&(i=-1),this.source=s,this.points=[],this.quantity=r,this.stepRate=e,this.yoyo=n,this.counter=-1,this.seamless=l,this._length=0,this._direction=0,this.total=i,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var h=this.points[0],s=this.points[this.points.length-1];h.x===s.x&&h.y===s.y&&this.points.pop()}var r=this._length;return this._length=this.points.length,this._length<r&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(h){return this.source=h,this.updateSource()},getPoint:function(h){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var s=this.points[this.counter];s&&(h.x=s.x,h.y=s.y)}});o.exports=v},68875:(o,g,t)=>{var a=t(83419),v=t(26099),h=new a({initialize:function(r){this.source=r,this._tempVec=new v,this.total=-1},getPoint:function(s){var r=this._tempVec;this.source.getRandomPoint(r),s.x=r.x,s.y=r.y}});o.exports=h},21024:(o,g,t)=>{o.exports={DeathZone:t(26388),EdgeZone:t(19909),RandomZone:t(68875)}},1159:(o,g,t)=>{var a=t(83419),v=t(31401),h=t(68287),s=new a({Extends:h,Mixins:[v.PathFollower],initialize:function(e,n,l,i,u,f){h.call(this,e,l,i,u,f),this.path=n},preUpdate:function(r,e){this.anims.update(r,e),this.pathUpdate(r)}});o.exports=s},90145:(o,g,t)=>{var a=t(39429),v=t(1159);a.register("follower",function(h,s,r,e,n){var l=new v(this.scene,h,s,r,e,n);return this.displayList.add(l),this.updateList.add(l),l})},33663:(o,g,t)=>{var a=t(9674),v=t(83419),h=t(48803),s=t(90664),r=t(4703),e=t(45650),n=new v({Extends:r,initialize:function(i,u,f,c,d,p,m,y){c||(c="__DEFAULT"),r.call(this,i,u,f,c,d),this.type="Plane",this.anims=new a(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(p,m,y),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(l,i,u){l===void 0&&(l=8),i===void 0&&(i=8),u===void 0&&(u=!1);var f=!1;return u&&(f=!0),this.gridWidth=l,this.gridHeight=i,this.isTiled=u,this.clear(),h({mesh:this,widthSegments:l,heightSegments:i,isOrtho:!1,tile:u,flipY:f}),this},setSizeToFrame:function(l){l===void 0&&(l=!0);var i=this.frame;if(this.setPerspective(this.width/i.width,this.height/i.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!l)return this;var u=this.gridWidth,f=this.gridHeight,c=this.vertices,d=i.u0,p=i.u1,m=i.v0,y=i.v1,x,C,E=0;if(this.isTiled)for(m=i.v1,y=i.v0,C=0;C<f;C++)for(x=0;x<u;x++)c[E++].setUVs(d,y),c[E++].setUVs(d,m),c[E++].setUVs(p,y),c[E++].setUVs(d,m),c[E++].setUVs(p,m),c[E++].setUVs(p,y);else{var R=u+1,M=f+1,w=p-d,D=y-m,F=[];for(C=0;C<M;C++)for(x=0;x<R;x++){var I=d+w*(x/u),L=m+D*(C/f);F.push(I,L)}for(C=0;C<f;C++)for(x=0;x<u;x++){var B=(x+R*C)*2,G=(x+R*(C+1))*2,V=(x+1+R*(C+1))*2,X=(x+1+R*C)*2;c[E++].setUVs(F[B],F[B+1]),c[E++].setUVs(F[G],F[G+1]),c[E++].setUVs(F[X],F[X+1]),c[E++].setUVs(F[G],F[G+1]),c[E++].setUVs(F[V],F[V+1]),c[E++].setUVs(F[X],F[X+1])}}return this},setViewHeight:function(l){l===void 0&&(l=this.frame.height);var i=this.fov*(Math.PI/180);this.viewPosition.z=this.height/l/Math.tan(i/2),this.dirtyCache[10]=1},createCheckerboard:function(l,i,u,f,c){l===void 0&&(l=16777215),i===void 0&&(i=255),u===void 0&&(u=255),f===void 0&&(f=255),c===void 0&&(c=128);for(var d=s(l),p=s(i),m=[],y=0;y<16;y++)for(var x=0;x<16;x++)y<8&&x<8||y>7&&x>7?m.push(d.r,d.g,d.b,u):m.push(p.r,p.g,p.b,f);var C=this.scene.sys.textures.addUint8Array(e(),new Uint8Array(m),16,16);return this.removeCheckerboard(),this.setTexture(C),this.setSizeToFrame(),this.setViewHeight(c),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(l,i){return this.anims.play(l,i)},playReverse:function(l,i){return this.anims.playReverse(l,i)},playAfterDelay:function(l,i){return this.anims.playAfterDelay(l,i)},playAfterRepeat:function(l,i){return this.anims.playAfterRepeat(l,i)},stop:function(){return this.anims.stop()},stopAfterDelay:function(l){return this.anims.stopAfterDelay(l)},stopAfterRepeat:function(l){return this.anims.stopAfterRepeat(l)},stopOnFrame:function(l){return this.anims.stopOnFrame(l)},preUpdate:function(l,i){r.prototype.preUpdate.call(this,l,i),this.anims.update(l,i)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});o.exports=n},56015:(o,g,t)=>{var a=t(25305),v=t(13059),h=t(44603),s=t(23568),r=t(35154),e=t(33663);h.register("plane",function(n,l){n===void 0&&(n={});var i=s(n,"key",null),u=s(n,"frame",null),f=r(n,"width",8),c=r(n,"height",8),d=r(n,"tile",!1),p=new e(this.scene,0,0,i,u,f,c,d);l!==void 0&&(n.add=l);var m=r(n,"checkerboard",null);if(m){var y=r(m,"color1",16777215),x=r(m,"color2",255),C=r(m,"alpha1",255),E=r(m,"alpha2",255),R=r(m,"height",128);p.createCheckerboard(y,x,C,E,R)}return a(this.scene,p,n),v(p,n),p})},30985:(o,g,t)=>{var a=t(33663),v=t(39429);v.register("plane",function(h,s,r,e,n,l,i){return this.displayList.add(new a(this.scene,h,s,r,e,n,l,i))})},80321:(o,g,t)=>{var a=t(83419),v=t(31401),h=t(95643),s=t(30100),r=t(36060),e=t(67277),n=new a({Extends:h,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.Mask,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Transform,v.Visible,e],initialize:function(i,u,f,c,d,p,m){c===void 0&&(c=16777215),d===void 0&&(d=128),p===void 0&&(p=1),m===void 0&&(m=.1),h.call(this,i,"PointLight"),this.initPipeline(r.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(u,f),this.color=s(c),this.intensity=p,this.attenuation=m,this.width=d*2,this.height=d*2,this._radius=d},radius:{get:function(){return this._radius},set:function(l){this._radius=l,this.width=l*2,this.height=l*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});o.exports=n},39829:(o,g,t)=>{var a=t(25305),v=t(44603),h=t(23568),s=t(80321);v.register("pointlight",function(r,e){r===void 0&&(r={});var n=h(r,"color",16777215),l=h(r,"radius",128),i=h(r,"intensity",1),u=h(r,"attenuation",.1),f=new s(this.scene,0,0,n,l,i,u);return e!==void 0&&(r.add=e),a(this.scene,f,r),f})},71255:(o,g,t)=>{var a=t(39429),v=t(80321);a.register("pointlight",function(h,s,r,e,n,l){return this.displayList.add(new v(this.scene,h,s,r,e,n,l))})},67277:(o,g,t)=>{var a=t(29747),v=a,h=a;v=t(57787),o.exports={renderWebGL:v,renderCanvas:h}},57787:(o,g,t)=>{var a=t(91296),v=function(h,s,r,e){r.addToRenderList(s);var n=h.pipelines.set(s.pipeline),l=a(s,r,e).calc,i=s.width,u=s.height,f=-s._radius,c=-s._radius,d=f+i,p=c+u,m=l.getX(0,0),y=l.getY(0,0),x=l.getX(f,c),C=l.getY(f,c),E=l.getX(f,p),R=l.getY(f,p),M=l.getX(d,p),w=l.getY(d,p),D=l.getX(d,c),F=l.getY(d,c);h.pipelines.preBatch(s),n.batchPointLight(s,r,x,C,E,R,M,w,D,F,m,y),h.pipelines.postBatch(s)};o.exports=v},591:(o,g,t)=>{var a=t(83419),v=t(81320),h=t(88571),s=new a({Extends:h,initialize:function(e,n,l,i,u,f){n===void 0&&(n=0),l===void 0&&(l=0),i===void 0&&(i=32),u===void 0&&(u=32),f===void 0&&(f=!0);var c=new v(e.sys.textures,"",i,u,f);h.call(this,e,n,l,c),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(r,e){this.width=r,this.height=e,this.updateDisplayOrigin();var n=this.input;return n&&!n.customHitArea&&(n.hitArea.width=r,n.hitArea.height=e),this},resize:function(r,e,n){return this.texture.setSize(r,e,n),this.setSize(this.texture.width,this.texture.height),this},saveTexture:function(r){var e=this.texture;return e.key=r,e.manager.addDynamicTexture(e)&&(this._saved=!0),e},fill:function(r,e,n,l,i,u){return this.texture.fill(r,e,n,l,i,u),this},clear:function(){return this.texture.clear(),this},stamp:function(r,e,n,l,i){return this.texture.stamp(r,e,n,l,i),this},erase:function(r,e,n){return this.texture.erase(r,e,n),this},draw:function(r,e,n,l,i){return this.texture.draw(r,e,n,l,i),this},drawFrame:function(r,e,n,l,i,u){return this.texture.drawFrame(r,e,n,l,i,u),this},repeat:function(r,e,n,l,i,u,f,c,d){return this.texture.repeat(r,e,n,l,i,u,f,c,d),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(r,e,n,l,i){return this.texture.batchDraw(r,e,n,l,i),this},batchDrawFrame:function(r,e,n,l,i,u){return this.texture.batchDrawFrame(r,e,n,l,i,u),this},endDraw:function(r){return this.texture.endDraw(r),this},snapshotArea:function(r,e,n,l,i,u,f){return this.texture.snapshotArea(r,e,n,l,i,u,f),this},snapshot:function(r,e,n){return this.snapshotArea(0,0,this.width,this.height,r,e,n)},snapshotPixel:function(r,e,n){return this.snapshotArea(r,e,1,1,n,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});o.exports=s},34495:(o,g,t)=>{var a=t(25305),v=t(44603),h=t(23568),s=t(591);v.register("renderTexture",function(r,e){r===void 0&&(r={});var n=h(r,"x",0),l=h(r,"y",0),i=h(r,"width",32),u=h(r,"height",32),f=new s(this.scene,n,l,i,u);return e!==void 0&&(r.add=e),a(this.scene,f,r),f})},60505:(o,g,t)=>{var a=t(39429),v=t(591);a.register("renderTexture",function(h,s,r,e){return this.displayList.add(new v(this.scene,h,s,r,e))})},77757:(o,g,t)=>{var a=t(9674),v=t(83419),h=t(31401),s=t(95643),r=t(36060),e=t(38745),n=t(26099),l=new v({Extends:s,Mixins:[h.AlphaSingle,h.BlendMode,h.Depth,h.Flip,h.Mask,h.Pipeline,h.PostPipeline,h.Size,h.Texture,h.Transform,h.Visible,h.ScrollFactor,e],initialize:function(u,f,c,d,p,m,y,x,C){d===void 0&&(d="__DEFAULT"),m===void 0&&(m=2),y===void 0&&(y=!0),s.call(this,u,"Rope"),this.anims=new a(this),this.points=m,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=d==="__DEFAULT",this.dirty=!1,this.horizontal=y,this._flipX=!1,this._flipY=!1,this._perp=new n,this.debugCallback=null,this.debugGraphic=null,this.setTexture(d,p),this.setPosition(f,c),this.setSizeToFrame(),this.initPipeline(r.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(m)&&this.resizeArrays(m.length),this.setPoints(m,x,C),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(i,u){var f=this.anims.currentFrame;this.anims.update(i,u),this.anims.currentFrame!==f&&(this.updateUVs(),this.updateVertices())},play:function(i,u,f){return this.anims.play(i,u,f),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(i,u,f){return i===void 0&&(i=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(i,u,f))},setVertical:function(i,u,f){return i===void 0&&(i=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(i,u,f)):this},setTintFill:function(i){return i===void 0&&(i=!1),this.tintFill=i,this},setAlphas:function(i,u){var f=this.points.length;if(f<1)return this;var c=this.alphas;i===void 0?i=[1]:!Array.isArray(i)&&u===void 0&&(i=[i]);var d,p=0;if(u!==void 0)for(d=0;d<f;d++)p=d*2,c[p]=i,c[p+1]=u;else if(i.length===f)for(d=0;d<f;d++)p=d*2,c[p]=i[d],c[p+1]=i[d];else{var m=i[0];for(d=0;d<f;d++)p=d*2,i.length>p&&(m=i[p]),c[p]=m,i.length>p+1&&(m=i[p+1]),c[p+1]=m}return this},setColors:function(i){var u=this.points.length;if(u<1)return this;var f=this.colors;i===void 0?i=[16777215]:Array.isArray(i)||(i=[i]);var c,d=0;if(i.length===u)for(c=0;c<u;c++)d=c*2,f[d]=i[c],f[d+1]=i[c];else{var p=i[0];for(c=0;c<u;c++)d=c*2,i.length>d&&(p=i[d]),f[d]=p,i.length>d+1&&(p=i[d+1]),f[d+1]=p}return this},setPoints:function(i,u,f){if(i===void 0&&(i=2),typeof i=="number"){var c=i;c<2&&(c=2),i=[];var d,p,m;if(this.horizontal)for(m=-this.frame.halfWidth,p=this.frame.width/(c-1),d=0;d<c;d++)i.push({x:m+d*p,y:0});else for(m=-this.frame.halfHeight,p=this.frame.height/(c-1),d=0;d<c;d++)i.push({x:0,y:m+d*p})}var y=i.length,x=this.points.length;return y<1?(console.warn("Rope: Not enough points given"),this):(y===1&&(i.unshift({x:0,y:0}),y++),x!==y&&this.resizeArrays(y),this.dirty=!0,this.points=i,this.updateUVs(),u!=null&&this.setColors(u),f!=null&&this.setAlphas(f),this)},updateUVs:function(){for(var i=this.uv,u=this.points.length,f=this.frame.u0,c=this.frame.v0,d=this.frame.u1,p=this.frame.v1,m=(d-f)/(u-1),y=(p-c)/(u-1),x=0;x<u;x++){var C=x*4,E,R,M,w;this.horizontal?(this._flipX?(E=d-x*m,M=d-x*m):(E=f+x*m,M=f+x*m),this._flipY?(R=p,w=c):(R=c,w=p)):(this._flipX?(E=f,M=d):(E=d,M=f),this._flipY?(R=p-x*y,w=p-x*y):(R=c+x*y,w=c+x*y)),i[C+0]=E,i[C+1]=R,i[C+2]=M,i[C+3]=w}return this},resizeArrays:function(i){var u=this.colors,f=this.alphas;this.vertices=new Float32Array(i*4),this.uv=new Float32Array(i*4),u=new Uint32Array(i*2),f=new Float32Array(i*2);for(var c=0;c<i*2;c++)u[c]=16777215,f[c]=1;return this.colors=u,this.alphas=f,this.dirty=!0,this},updateVertices:function(){var i=this._perp,u=this.points,f=this.vertices,c=u.length;if(this.dirty=!1,!(c<1)){for(var d,p=u[0],m=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,y=0;y<c;y++){var x=u[y],C=y*4;y<c-1?d=u[y+1]:d=x,i.x=d.y-p.y,i.y=-(d.x-p.x);var E=i.length();i.x/=E,i.y/=E,i.x*=m,i.y*=m,f[C]=x.x+i.x,f[C+1]=x.y+i.y,f[C+2]=x.x-i.x,f[C+3]=x.y-i.y,p=x}return this}},setDebug:function(i,u){return this.debugGraphic=i,!i&&!u?this.debugCallback=null:u?this.debugCallback=u:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(i,u,f){var c=i.debugGraphic,d=f[0],p=f[1],m=f[2],y=f[3];c.lineBetween(d,p,m,y);for(var x=4;x<u;x+=4){var C=f[x+0],E=f[x+1],R=f[x+2],M=f[x+3];c.lineBetween(d,p,C,E),c.lineBetween(m,y,R,M),c.lineBetween(m,y,C,E),c.lineBetween(C,E,R,M),d=C,p=E,m=R,y=M}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(i){return this._flipX=i,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(i){return this._flipY=i,this.updateUVs()}}});o.exports=l},95262:o=>{var g=function(){};o.exports=g},26209:(o,g,t)=>{var a=t(25305),v=t(44603),h=t(23568),s=t(35154),r=t(77757);v.register("rope",function(e,n){e===void 0&&(e={});var l=h(e,"key",null),i=h(e,"frame",null),u=h(e,"horizontal",!0),f=s(e,"points",void 0),c=s(e,"colors",void 0),d=s(e,"alphas",void 0),p=new r(this.scene,0,0,l,i,f,u,c,d);return n!==void 0&&(e.add=n),a(this.scene,p,e),p})},96819:(o,g,t)=>{var a=t(77757),v=t(39429);v.register("rope",function(h,s,r,e,n,l,i,u){return this.displayList.add(new a(this.scene,h,s,r,e,n,l,i,u))})},38745:(o,g,t)=>{var a=t(29747),v=a,h=a;v=t(20439),h=t(95262),o.exports={renderWebGL:v,renderCanvas:h}},20439:(o,g,t)=>{var a=t(91296),v=t(70554),h=function(s,r,e,n){e.addToRenderList(r);var l=s.pipelines.set(r.pipeline,r),i=a(r,e,n).calc,u=r.vertices,f=r.uv,c=r.colors,d=r.alphas,p=r.alpha,m=v.getTintAppendFloatAlpha,y=e.roundPixels,x=u.length,C=Math.floor(x*.5);l.flush(),s.pipelines.preBatch(r);var E=l.setGameObject(r),R=l.vertexViewF32,M=l.vertexViewU32,w=l.vertexCount*l.currentShader.vertexComponentCount-1,D=0,F=r.tintFill;r.dirty&&r.updateVertices();for(var I=r.debugCallback,L=[],B=0;B<x;B+=2){var G=u[B+0],V=u[B+1],X=G*i.a+V*i.c+i.e,b=G*i.b+V*i.d+i.f;y&&(X=Math.round(X),b=Math.round(b)),R[++w]=X,R[++w]=b,R[++w]=f[B+0],R[++w]=f[B+1],R[++w]=E,R[++w]=F,M[++w]=m(c[D],e.alpha*(d[D]*p)),D++,I&&(L[B+0]=X,L[B+1]=b)}I&&I.call(r,r,x,L),l.vertexCount+=C,l.currentBatch.count=l.vertexCount-l.currentBatch.start,s.pipelines.postBatch(r)};o.exports=h},20071:(o,g,t)=>{var a=t(83419),v=t(31401),h=t(95643),s=t(95540),r=t(79291),e=t(61622),n=t(25479),l=t(61340),i=t(95428),u=t(92503),f=new a({Extends:h,Mixins:[v.ComputedSize,v.Depth,v.GetBounds,v.Mask,v.Origin,v.ScrollFactor,v.Transform,v.Visible,n],initialize:function(d,p,m,y,x,C,E,R){m===void 0&&(m=0),y===void 0&&(y=0),x===void 0&&(x=128),C===void 0&&(C=128),h.call(this,d,"Shader"),this.blendMode=-1,this.shader;var M=d.sys.renderer;this.renderer=M,this.gl=M.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=M.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new l,this._tempMatrix2=new l,this._tempMatrix3=new l,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=M.width,this._rendererHeight=M.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(m,y),this.setSize(x,C),this.setOrigin(.5,.5),this.setShader(p,E,R),this.renderer.on(u.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(c){return this.renderToTexture?!0:!(h.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&c.id)},setRenderToTexture:function(c,d){if(d===void 0&&(d=!1),!this.renderToTexture){var p=this.width,m=this.height,y=this.renderer;this.glTexture=y.createTextureFromSource(null,p,m,0),this.framebuffer=y.createFramebuffer(p,m,this.glTexture,!1),this._rendererWidth=p,this._rendererHeight=m,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),c&&(this.texture=this.scene.sys.textures.addGLTexture(c,this.glTexture))}return this.shader&&(y.pipelines.clear(),this.load(),this.flush(),y.pipelines.rebind()),this},setShader:function(c,d,p){if(this.renderer.contextLost)return this._deferSetShader={key:c,textures:d,textureData:p},this;if(d===void 0&&(d=[]),typeof c=="string"){var m=this.scene.sys.cache.shader;if(!m.has(c))return console.warn("Shader missing: "+c),this;this.shader=m.get(c)}else this.shader=c;var y=this.gl,x=this.renderer;this.program&&x.deleteProgram(this.program);var C=x.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);y.uniformMatrix4fv(y.getUniformLocation(C.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),y.uniformMatrix4fv(y.getUniformLocation(C.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),y.uniform2f(y.getUniformLocation(C.webGLProgram,"uResolution"),this.width,this.height),this.program=C;var E=new Date,R={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[E.getFullYear(),E.getMonth(),E.getDate(),E.getHours()*60*60+E.getMinutes()*60+E.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=r(!0,{},this.shader.uniforms,R):this.uniforms=R;for(var M=0;M<4;M++)d[M]&&this.setSampler2D("iChannel"+M,d[M],M,p);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(c){return this.pointer=c,this},projOrtho:function(c,d,p,m){if(this.renderer.contextLost){this._deferProjOrtho={left:c,right:d,bottom:p,top:m};return}var y=-1e3,x=1e3,C=1/(c-d),E=1/(p-m),R=1/(y-x),M=this.projectionMatrix;M[0]=-2*C,M[5]=-2*E,M[10]=2*R,M[12]=(c+d)*C,M[13]=(m+p)*E,M[14]=(x+y)*R;var w=this.program,D=this.gl,F=this.renderer;F.setProgram(w),D.uniformMatrix4fv(D.getUniformLocation(w.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=d,this._rendererHeight=p},initUniforms:function(){var c=this.renderer.glFuncMap,d=this.program;this._textureCount=0;for(var p in this.uniforms){var m=this.uniforms[p],y=m.type,x=c[y];m.uniformLocation=this.renderer.createUniformLocation(d,p),y!=="sampler2D"&&(m.glMatrix=x.matrix,m.glValueLength=x.length,m.glFunc=x.func)}},setSampler2DBuffer:function(c,d,p,m,y,x){y===void 0&&(y=0),x===void 0&&(x={});var C=this.uniforms[c];return C.value=d,x.width=p,x.height=m,C.textureData=x,this._textureCount=y,this.initSampler2D(C),this},setSampler2D:function(c,d,p,m){p===void 0&&(p=0);var y=this.scene.sys.textures;if(y.exists(d)){var x=y.getFrame(d);if(x.glTexture&&x.glTexture.isRenderTexture)return this.setSampler2DBuffer(c,x.glTexture,x.width,x.height,p,m);var C=this.uniforms[c],E=x.source;C.textureKey=d,C.source=E.image,C.value=x.glTexture,E.isGLTexture&&(m||(m={}),m.width=E.width,m.height=E.height),m&&(C.textureData=m),this._textureCount=p,this.initSampler2D(C)}return this},setUniform:function(c,d){return e(this.uniforms,c,d),this},getUniform:function(c){return s(this.uniforms,c,null)},setChannel0:function(c,d){return this.setSampler2D("iChannel0",c,0,d)},setChannel1:function(c,d){return this.setSampler2D("iChannel1",c,1,d)},setChannel2:function(c,d){return this.setSampler2D("iChannel2",c,2,d)},setChannel3:function(c,d){return this.setSampler2D("iChannel3",c,3,d)},initSampler2D:function(c){if(c.value){var d=c.textureData;if(d&&!c.value.isRenderTexture){var p=this.gl,m=c.value,y=p[s(d,"magFilter","linear").toUpperCase()],x=p[s(d,"minFilter","linear").toUpperCase()],C=p[s(d,"wrapS","repeat").toUpperCase()],E=p[s(d,"wrapT","repeat").toUpperCase()],R=p[s(d,"format","rgba").toUpperCase()],M=s(d,"flipY",!1),w=s(d,"width",m.width),D=s(d,"height",m.height),F=s(d,"source",m.pixels);d.repeat&&(C=p.REPEAT,E=p.REPEAT),d.width&&(F=null),m.update(F,w,D,M,C,E,x,y,R)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var c=this.gl,d=this.uniforms,p,m,y,x,C,E=0;for(var R in d)p=d[R],y=p.glFunc,m=p.glValueLength,x=p.uniformLocation,C=p.value,C!==null&&(m===1?p.glMatrix?y.call(c,x.webGLUniformLocation,p.transpose,C):y.call(c,x.webGLUniformLocation,C):m===2?y.call(c,x.webGLUniformLocation,C.x,C.y):m===3?y.call(c,x.webGLUniformLocation,C.x,C.y,C.z):m===4?y.call(c,x.webGLUniformLocation,C.x,C.y,C.z,C.w):p.type==="sampler2D"&&(c.activeTexture(c.TEXTURE0+E),c.bindTexture(c.TEXTURE_2D,C.webGLTexture),c.uniform1i(x.webGLUniformLocation,E),E++))},load:function(c){var d=this.gl,p=this.width,m=this.height,y=this.renderer,x=this.program,C=this.viewMatrix;if(!this.renderToTexture){var E=-this._displayOriginX,R=-this._displayOriginY;C[0]=c[0],C[1]=c[1],C[4]=c[2],C[5]=c[3],C[8]=c[4],C[9]=c[5],C[12]=C[0]*E+C[4]*R,C[13]=C[1]*E+C[5]*R}d.useProgram(x.webGLProgram),d.uniformMatrix4fv(d.getUniformLocation(x.webGLProgram,"uViewMatrix"),!1,C),d.uniformMatrix4fv(d.getUniformLocation(x.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),d.uniform2f(d.getUniformLocation(x.webGLProgram,"uResolution"),this.width,this.height);var M=this.uniforms,w=M.resolution;w.value.x=p,w.value.y=m,M.time.value=y.game.loop.getDuration();var D=this.pointer;if(D){var F=M.mouse,I=D.x/p,L=1-D.y/m;F.value.x=I.toFixed(2),F.value.y=L.toFixed(2)}this.syncUniforms()},flush:function(){var c=this.width,d=this.height,p=this.program,m=this.gl,y=this.vertexBuffer,x=this.renderer,C=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(x.setFramebuffer(this.framebuffer),m.clearColor(0,0,0,0),m.clear(m.COLOR_BUFFER_BIT)),m.bindBuffer(m.ARRAY_BUFFER,y.webGLBuffer);var E=m.getAttribLocation(p.webGLProgram,"inPosition");E!==-1&&(m.enableVertexAttribArray(E),m.vertexAttribPointer(E,2,m.FLOAT,!1,C,0));var R=this.vertexViewF32;R[3]=d,R[4]=c,R[5]=d,R[8]=c,R[9]=d,R[10]=c;var M=6;m.bufferSubData(m.ARRAY_BUFFER,0,this.bytes.subarray(0,M*C)),m.drawArrays(m.TRIANGLES,0,M),this.renderToTexture&&x.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(this._deferSetShader!==null){var c=this._deferSetShader.key,d=this._deferSetShader.textures,p=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(c,d,p)}if(this._deferProjOrtho!==null){var m=this._deferProjOrtho.left,y=this._deferProjOrtho.right,x=this._deferProjOrtho.bottom,C=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(m,y,x,C)}},preDestroy:function(){var c=this.renderer;c.off(u.RESTORE_WEBGL,this.onContextRestored,this),c.deleteProgram(this.program),c.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(c.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),i(this.uniforms,function(d){c.deleteUniformLocation(d.uniformLocation),d.uniformLocation=null})}});o.exports=f},80464:o=>{var g=function(){};o.exports=g},54935:(o,g,t)=>{var a=t(25305),v=t(44603),h=t(23568),s=t(20071);v.register("shader",function(r,e){r===void 0&&(r={});var n=h(r,"key",null),l=h(r,"x",0),i=h(r,"y",0),u=h(r,"width",128),f=h(r,"height",128),c=new s(this.scene,n,l,i,u,f);return e!==void 0&&(r.add=e),a(this.scene,c,r),c})},74177:(o,g,t)=>{var a=t(20071),v=t(39429);v.register("shader",function(h,s,r,e,n,l,i){return this.displayList.add(new a(this.scene,h,s,r,e,n,l,i))})},25479:(o,g,t)=>{var a=t(29747),v=a,h=a;v=t(19257),h=t(80464),o.exports={renderWebGL:v,renderCanvas:h}},19257:(o,g,t)=>{var a=t(91296),v=function(h,s,r,e){if(s.shader){if(r.addToRenderList(s),h.pipelines.clear(),s.renderToTexture)s.load(),s.flush();else{var n=a(s,r,e).calc;(h.width!==s._rendererWidth||h.height!==s._rendererHeight)&&s.projOrtho(0,h.width,h.height,0),s.load(n.matrix),s.flush()}h.pipelines.rebind()}};o.exports=v},10441:(o,g,t)=>{var a=t(70554),v=function(h,s,r,e,n,l){for(var i=a.getTintAppendFloatAlpha(r.fillColor,r.fillAlpha*e),u=r.pathData,f=r.pathIndexes,c=0;c<f.length;c+=3){var d=f[c]*2,p=f[c+1]*2,m=f[c+2]*2,y=u[d+0]-n,x=u[d+1]-l,C=u[p+0]-n,E=u[p+1]-l,R=u[m+0]-n,M=u[m+1]-l,w=s.getX(y,x),D=s.getY(y,x),F=s.getX(C,E),I=s.getY(C,E),L=s.getX(R,M),B=s.getY(R,M);h.batchTri(r,w,D,F,I,L,B,0,0,1,1,i,i,i,2)}};o.exports=v},65960:o=>{var g=function(t,a,v,h){var s=v||a.fillColor,r=h||a.fillAlpha,e=(s&16711680)>>>16,n=(s&65280)>>>8,l=s&255;t.fillStyle="rgba("+e+","+n+","+l+","+r+")"};o.exports=g},75177:o=>{var g=function(t,a,v,h){var s=v||a.strokeColor,r=h||a.strokeAlpha,e=(s&16711680)>>>16,n=(s&65280)>>>8,l=s&255;t.strokeStyle="rgba("+e+","+n+","+l+","+r+")",t.lineWidth=a.lineWidth};o.exports=g},17803:(o,g,t)=>{var a=t(83419),v=t(31401),h=t(95643),s=t(23031),r=new a({Extends:h,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.GetBounds,v.Mask,v.Origin,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Transform,v.Visible],initialize:function(n,l,i){l===void 0&&(l="Shape"),h.call(this,n,l),this.geom=i,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new s,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(e,n){return n===void 0&&(n=1),e===void 0?this.isFilled=!1:(this.fillColor=e,this.fillAlpha=n,this.isFilled=!0),this},setStrokeStyle:function(e,n,l){return l===void 0&&(l=1),e===void 0?this.isStroked=!1:(this.lineWidth=e,this.strokeColor=n,this.strokeAlpha=l,this.isStroked=!0),this},setClosePath:function(e){return this.closePath=e,this},setSize:function(e,n){return this.width=e,this.height=n,this},setDisplaySize:function(e,n){return this.displayWidth=e,this.displayHeight=n,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}}});o.exports=r},34682:(o,g,t)=>{var a=t(70554),v=function(h,s,r,e,n){var l=h.strokeTint,i=a.getTintAppendFloatAlpha(s.strokeColor,s.strokeAlpha*r);l.TL=i,l.TR=i,l.BL=i,l.BR=i;var u=s.pathData,f=u.length-1,c=s.lineWidth,d=c/2,p=u[0]-e,m=u[1]-n;s.closePath||(f-=2);for(var y=2;y<f;y+=2){var x=u[y]-e,C=u[y+1]-n;h.batchLine(p,m,x,C,d,d,c,y-2,s.closePath?y===f-1:!1),p=x,m=C}};o.exports=v},23629:(o,g,t)=>{var a=t(13609),v=t(83419),h=t(39506),s=t(94811),r=t(96503),e=t(36383),n=t(17803),l=new v({Extends:n,Mixins:[a],initialize:function(u,f,c,d,p,m,y,x,C){f===void 0&&(f=0),c===void 0&&(c=0),d===void 0&&(d=128),p===void 0&&(p=0),m===void 0&&(m=360),y===void 0&&(y=!1),n.call(this,u,"Arc",new r(0,0,d)),this._startAngle=p,this._endAngle=m,this._anticlockwise=y,this._iterations=.01,this.setPosition(f,c);var E=this.geom.radius*2;this.setSize(E,E),x!==void 0&&this.setFillStyle(x,C),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(i){this._iterations=i,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(i){this.geom.radius=i;var u=i*2;this.setSize(u,u),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(i){this._startAngle=i,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(i){this._endAngle=i,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(i){this._anticlockwise=i,this.updateData()}},setRadius:function(i){return this.radius=i,this},setIterations:function(i){return i===void 0&&(i=.01),this.iterations=i,this},setStartAngle:function(i,u){return this._startAngle=i,u!==void 0&&(this._anticlockwise=u),this.updateData()},setEndAngle:function(i,u){return this._endAngle=i,u!==void 0&&(this._anticlockwise=u),this.updateData()},updateData:function(){var i=this._iterations,u=i,f=this.geom.radius,c=h(this._startAngle),d=h(this._endAngle),p=this._anticlockwise,m=f,y=f;d-=c,p?d<-e.PI2?d=-e.PI2:d>0&&(d=-e.PI2+d%e.PI2):d>e.PI2?d=e.PI2:d<0&&(d=e.PI2+d%e.PI2);for(var x=[m+Math.cos(c)*f,y+Math.sin(c)*f],C;u<1;)C=d*u+c,x.push(m+Math.cos(C)*f,y+Math.sin(C)*f),u+=i;return C=d+c,x.push(m+Math.cos(C)*f,y+Math.sin(C)*f),x.push(m+Math.cos(c)*f,y+Math.sin(c)*f),this.pathIndexes=s(x),this.pathData=x,this}});o.exports=l},42542:(o,g,t)=>{var a=t(39506),v=t(65960),h=t(75177),s=t(20926),r=function(e,n,l,i){l.addToRenderList(n);var u=e.currentContext;if(s(e,u,n,l,i)){var f=n.radius;u.beginPath(),u.arc(f-n.originX*(f*2),f-n.originY*(f*2),f,a(n._startAngle),a(n._endAngle),n.anticlockwise),n.closePath&&u.closePath(),n.isFilled&&(v(u,n),u.fill()),n.isStroked&&(h(u,n),u.stroke()),u.restore()}};o.exports=r},42563:(o,g,t)=>{var a=t(23629),v=t(39429);v.register("arc",function(h,s,r,e,n,l,i,u){return this.displayList.add(new a(this.scene,h,s,r,e,n,l,i,u))}),v.register("circle",function(h,s,r,e,n){return this.displayList.add(new a(this.scene,h,s,r,0,360,!1,e,n))})},13609:(o,g,t)=>{var a=t(29747),v=a,h=a;v=t(41447),h=t(42542),o.exports={renderWebGL:v,renderCanvas:h}},41447:(o,g,t)=>{var a=t(91296),v=t(10441),h=t(34682),s=function(r,e,n,l){n.addToRenderList(e);var i=r.pipelines.set(e.pipeline),u=a(e,n,l),f=i.calcMatrix.copyFrom(u.calc),c=e._displayOriginX,d=e._displayOriginY,p=n.alpha*e.alpha;r.pipelines.preBatch(e),e.isFilled&&v(i,f,e,p,c,d),e.isStroked&&h(i,e,p,c,d),r.pipelines.postBatch(e)};o.exports=s},89:(o,g,t)=>{var a=t(83419),v=t(33141),h=t(94811),s=t(87841),r=t(17803),e=new a({Extends:r,Mixins:[v],initialize:function(l,i,u,f,c,d){i===void 0&&(i=0),u===void 0&&(u=0),r.call(this,l,"Curve",f),this._smoothness=32,this._curveBounds=new s,this.closePath=!1,this.setPosition(i,u),c!==void 0&&this.setFillStyle(c,d),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(n){this._smoothness=n,this.updateData()}},setSmoothness:function(n){return this._smoothness=n,this.updateData()},updateData:function(){var n=this._curveBounds,l=this._smoothness;this.geom.getBounds(n,l),this.setSize(n.width,n.height),this.updateDisplayOrigin();for(var i=[],u=this.geom.getPoints(l),f=0;f<u.length;f++)i.push(u[f].x,u[f].y);return i.push(u[0].x,u[0].y),this.pathIndexes=h(i),this.pathData=i,this}});o.exports=e},3170:(o,g,t)=>{var a=t(65960),v=t(75177),h=t(20926),s=function(r,e,n,l){n.addToRenderList(e);var i=r.currentContext;if(h(r,i,e,n,l)){var u=e._displayOriginX+e._curveBounds.x,f=e._displayOriginY+e._curveBounds.y,c=e.pathData,d=c.length-1,p=c[0]-u,m=c[1]-f;i.beginPath(),i.moveTo(p,m),e.closePath||(d-=2);for(var y=2;y<d;y+=2){var x=c[y]-u,C=c[y+1]-f;i.lineTo(x,C)}e.closePath&&i.closePath(),e.isFilled&&(a(i,e),i.fill()),e.isStroked&&(v(i,e),i.stroke()),i.restore()}};o.exports=s},40511:(o,g,t)=>{var a=t(39429),v=t(89);a.register("curve",function(h,s,r,e,n){return this.displayList.add(new v(this.scene,h,s,r,e,n))})},33141:(o,g,t)=>{var a=t(29747),v=a,h=a;v=t(53987),h=t(3170),o.exports={renderWebGL:v,renderCanvas:h}},53987:(o,g,t)=>{var a=t(10441),v=t(91296),h=t(34682),s=function(r,e,n,l){n.addToRenderList(e);var i=r.pipelines.set(e.pipeline),u=v(e,n,l),f=i.calcMatrix.copyFrom(u.calc),c=e._displayOriginX+e._curveBounds.x,d=e._displayOriginY+e._curveBounds.y,p=n.alpha*e.alpha;r.pipelines.preBatch(e),e.isFilled&&a(i,f,e,p,c,d),e.isStroked&&h(i,e,p,c,d),r.pipelines.postBatch(e)};o.exports=s},19921:(o,g,t)=>{var a=t(83419),v=t(94811),h=t(54205),s=t(8497),r=t(17803),e=new a({Extends:r,Mixins:[h],initialize:function(l,i,u,f,c,d,p){i===void 0&&(i=0),u===void 0&&(u=0),f===void 0&&(f=128),c===void 0&&(c=128),r.call(this,l,"Ellipse",new s(f/2,c/2,f,c)),this._smoothness=64,this.setPosition(i,u),this.width=f,this.height=c,d!==void 0&&this.setFillStyle(d,p),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(n){this._smoothness=n,this.updateData()}},setSize:function(n,l){return this.width=n,this.height=l,this.geom.setPosition(n/2,l/2),this.geom.setSize(n,l),this.updateDisplayOrigin(),this.updateData()},setSmoothness:function(n){return this._smoothness=n,this.updateData()},updateData:function(){for(var n=[],l=this.geom.getPoints(this._smoothness),i=0;i<l.length;i++)n.push(l[i].x,l[i].y);return n.push(l[0].x,l[0].y),this.pathIndexes=v(n),this.pathData=n,this}});o.exports=e},7930:(o,g,t)=>{var a=t(65960),v=t(75177),h=t(20926),s=function(r,e,n,l){n.addToRenderList(e);var i=r.currentContext;if(h(r,i,e,n,l)){var u=e._displayOriginX,f=e._displayOriginY,c=e.pathData,d=c.length-1,p=c[0]-u,m=c[1]-f;i.beginPath(),i.moveTo(p,m),e.closePath||(d-=2);for(var y=2;y<d;y+=2){var x=c[y]-u,C=c[y+1]-f;i.lineTo(x,C)}i.closePath(),e.isFilled&&(a(i,e),i.fill()),e.isStroked&&(v(i,e),i.stroke()),i.restore()}};o.exports=s},1543:(o,g,t)=>{var a=t(19921),v=t(39429);v.register("ellipse",function(h,s,r,e,n,l){return this.displayList.add(new a(this.scene,h,s,r,e,n,l))})},54205:(o,g,t)=>{var a=t(29747),v=a,h=a;v=t(19467),h=t(7930),o.exports={renderWebGL:v,renderCanvas:h}},19467:(o,g,t)=>{var a=t(10441),v=t(91296),h=t(34682),s=function(r,e,n,l){n.addToRenderList(e);var i=r.pipelines.set(e.pipeline),u=v(e,n,l),f=i.calcMatrix.copyFrom(u.calc),c=e._displayOriginX,d=e._displayOriginY,p=n.alpha*e.alpha;r.pipelines.preBatch(e),e.isFilled&&a(i,f,e,p,c,d),e.isStroked&&h(i,e,p,c,d),r.pipelines.postBatch(e)};o.exports=s},30479:(o,g,t)=>{var a=t(83419),v=t(17803),h=t(26015),s=new a({Extends:v,Mixins:[h],initialize:function(e,n,l,i,u,f,c,d,p,m,y){n===void 0&&(n=0),l===void 0&&(l=0),i===void 0&&(i=128),u===void 0&&(u=128),f===void 0&&(f=32),c===void 0&&(c=32),v.call(this,e,"Grid",null),this.cellWidth=f,this.cellHeight=c,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(n,l),this.setSize(i,u),this.setFillStyle(d,p),m!==void 0&&this.setOutlineStyle(m,y),this.updateDisplayOrigin()},setFillStyle:function(r,e){return e===void 0&&(e=1),r===void 0?this.showCells=!1:(this.fillColor=r,this.fillAlpha=e,this.showCells=!0),this},setAltFillStyle:function(r,e){return e===void 0&&(e=1),r===void 0?this.showAltCells=!1:(this.altFillColor=r,this.altFillAlpha=e,this.showAltCells=!0),this},setOutlineStyle:function(r,e){return e===void 0&&(e=1),r===void 0?this.showOutline=!1:(this.outlineFillColor=r,this.outlineFillAlpha=e,this.showOutline=!0),this}});o.exports=s},49912:(o,g,t)=>{var a=t(65960),v=t(75177),h=t(20926),s=function(r,e,n,l){n.addToRenderList(e);var i=r.currentContext;if(h(r,i,e,n,l)){var u=-e._displayOriginX,f=-e._displayOriginY,c=n.alpha*e.alpha,d=e.width,p=e.height,m=e.cellWidth,y=e.cellHeight,x=Math.ceil(d/m),C=Math.ceil(p/y),E=m,R=y,M=m-(x*m-d),w=y-(C*y-p),D=e.showCells,F=e.showAltCells,I=e.showOutline,L=0,B=0,G=0,V=0,X=0;if(I&&(E--,R--,M===m&&M--,w===y&&w--),D&&e.fillAlpha>0)for(a(i,e),B=0;B<C;B++)for(F&&(G=B%2),L=0;L<x;L++){if(F&&G){G=0;continue}G++,V=L<x-1?E:M,X=B<C-1?R:w,i.fillRect(u+L*m,f+B*y,V,X)}if(F&&e.altFillAlpha>0)for(a(i,e,e.altFillColor,e.altFillAlpha*c),B=0;B<C;B++)for(F&&(G=B%2),L=0;L<x;L++){if(F&&!G){G=1;continue}G=0,V=L<x-1?E:M,X=B<C-1?R:w,i.fillRect(u+L*m,f+B*y,V,X)}if(I&&e.outlineFillAlpha>0){for(v(i,e,e.outlineFillColor,e.outlineFillAlpha*c),L=1;L<x;L++){var b=L*m;i.beginPath(),i.moveTo(b+u,f),i.lineTo(b+u,p+f),i.stroke()}for(B=1;B<C;B++){var U=B*y;i.beginPath(),i.moveTo(u,U+f),i.lineTo(u+d,U+f),i.stroke()}}i.restore()}};o.exports=s},34137:(o,g,t)=>{var a=t(39429),v=t(30479);a.register("grid",function(h,s,r,e,n,l,i,u,f,c){return this.displayList.add(new v(this.scene,h,s,r,e,n,l,i,u,f,c))})},26015:(o,g,t)=>{var a=t(29747),v=a,h=a;v=t(46161),h=t(49912),o.exports={renderWebGL:v,renderCanvas:h}},46161:(o,g,t)=>{var a=t(91296),v=t(70554),h=function(s,r,e,n){e.addToRenderList(r);var l=s.pipelines.set(r.pipeline),i=a(r,e,n),u=l.calcMatrix.copyFrom(i.calc);u.translate(-r._displayOriginX,-r._displayOriginY);var f=e.alpha*r.alpha,c=r.width,d=r.height,p=r.cellWidth,m=r.cellHeight,y=Math.ceil(c/p),x=Math.ceil(d/m),C=p,E=m,R=p-(y*p-c),M=m-(x*m-d),w,D,F=r.showCells,I=r.showAltCells,L=r.showOutline,B=0,G=0,V=0,X=0,b=0;if(L&&(C--,E--,R===p&&R--,M===m&&M--),s.pipelines.preBatch(r),F&&r.fillAlpha>0)for(w=l.fillTint,D=v.getTintAppendFloatAlpha(r.fillColor,r.fillAlpha*f),w.TL=D,w.TR=D,w.BL=D,w.BR=D,G=0;G<x;G++)for(I&&(V=G%2),B=0;B<y;B++){if(I&&V){V=0;continue}V++,X=B<y-1?C:R,b=G<x-1?E:M,l.batchFillRect(B*p,G*m,X,b)}if(I&&r.altFillAlpha>0)for(w=l.fillTint,D=v.getTintAppendFloatAlpha(r.altFillColor,r.altFillAlpha*f),w.TL=D,w.TR=D,w.BL=D,w.BR=D,G=0;G<x;G++)for(I&&(V=G%2),B=0;B<y;B++){if(I&&!V){V=1;continue}V=0,X=B<y-1?C:R,b=G<x-1?E:M,l.batchFillRect(B*p,G*m,X,b)}if(L&&r.outlineFillAlpha>0){var U=l.strokeTint,O=v.getTintAppendFloatAlpha(r.outlineFillColor,r.outlineFillAlpha*f);for(U.TL=O,U.TR=O,U.BL=O,U.BR=O,B=1;B<y;B++){var z=B*p;l.batchLine(z,0,z,d,r.lineWidth,r.lineWidth,1,0,!1)}for(G=1;G<x;G++){var N=G*m;l.batchLine(0,N,c,N,r.lineWidth,r.lineWidth,1,0,!1)}}s.pipelines.postBatch(r)};o.exports=h},61475:(o,g,t)=>{var a=t(99651),v=t(83419),h=t(17803),s=new v({Extends:h,Mixins:[a],initialize:function(e,n,l,i,u,f,c,d){n===void 0&&(n=0),l===void 0&&(l=0),i===void 0&&(i=48),u===void 0&&(u=32),f===void 0&&(f=15658734),c===void 0&&(c=10066329),d===void 0&&(d=13421772),h.call(this,e,"IsoBox",null),this.projection=4,this.fillTop=f,this.fillLeft=c,this.fillRight=d,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(n,l),this.setSize(i,u),this.updateDisplayOrigin()},setProjection:function(r){return this.projection=r,this},setFaces:function(r,e,n){return r===void 0&&(r=!0),e===void 0&&(e=!0),n===void 0&&(n=!0),this.showTop=r,this.showLeft=e,this.showRight=n,this},setFillStyle:function(r,e,n){return this.fillTop=r,this.fillLeft=e,this.fillRight=n,this.isFilled=!0,this}});o.exports=s},11508:(o,g,t)=>{var a=t(65960),v=t(20926),h=function(s,r,e,n){e.addToRenderList(r);var l=s.currentContext;if(v(s,l,r,e,n)&&r.isFilled){var i=r.width,u=r.height,f=i/2,c=i/r.projection;r.showTop&&(a(l,r,r.fillTop),l.beginPath(),l.moveTo(-f,-u),l.lineTo(0,-c-u),l.lineTo(f,-u),l.lineTo(f,-1),l.lineTo(0,c-1),l.lineTo(-f,-1),l.lineTo(-f,-u),l.fill()),r.showLeft&&(a(l,r,r.fillLeft),l.beginPath(),l.moveTo(-f,0),l.lineTo(0,c),l.lineTo(0,c-u),l.lineTo(-f,-u),l.lineTo(-f,0),l.fill()),r.showRight&&(a(l,r,r.fillRight),l.beginPath(),l.moveTo(f,0),l.lineTo(0,c),l.lineTo(0,c-u),l.lineTo(f,-u),l.lineTo(f,0),l.fill()),l.restore()}};o.exports=h},3933:(o,g,t)=>{var a=t(39429),v=t(61475);a.register("isobox",function(h,s,r,e,n,l,i){return this.displayList.add(new v(this.scene,h,s,r,e,n,l,i))})},99651:(o,g,t)=>{var a=t(29747),v=a,h=a;v=t(68149),h=t(11508),o.exports={renderWebGL:v,renderCanvas:h}},68149:(o,g,t)=>{var a=t(91296),v=t(70554),h=function(s,r,e,n){e.addToRenderList(r);var l=s.pipelines.set(r.pipeline),i=a(r,e,n),u=l.calcMatrix.copyFrom(i.calc),f=r.width,c=r.height,d=f/2,p=f/r.projection,m=e.alpha*r.alpha;if(r.isFilled){var y,x,C,E,R,M,w,D,F;s.pipelines.preBatch(r),r.showTop&&(y=v.getTintAppendFloatAlpha(r.fillTop,m),x=u.getX(-d,-c),C=u.getY(-d,-c),E=u.getX(0,-p-c),R=u.getY(0,-p-c),M=u.getX(d,-c),w=u.getY(d,-c),D=u.getX(0,p-c),F=u.getY(0,p-c),l.batchQuad(r,x,C,E,R,M,w,D,F,0,0,1,1,y,y,y,y,2)),r.showLeft&&(y=v.getTintAppendFloatAlpha(r.fillLeft,m),x=u.getX(-d,0),C=u.getY(-d,0),E=u.getX(0,p),R=u.getY(0,p),M=u.getX(0,p-c),w=u.getY(0,p-c),D=u.getX(-d,-c),F=u.getY(-d,-c),l.batchQuad(r,x,C,E,R,M,w,D,F,0,0,1,1,y,y,y,y,2)),r.showRight&&(y=v.getTintAppendFloatAlpha(r.fillRight,m),x=u.getX(d,0),C=u.getY(d,0),E=u.getX(0,p),R=u.getY(0,p),M=u.getX(0,p-c),w=u.getY(0,p-c),D=u.getX(d,-c),F=u.getY(d,-c),l.batchQuad(r,x,C,E,R,M,w,D,F,0,0,1,1,y,y,y,y,2)),s.pipelines.postBatch(r)}};o.exports=h},16933:(o,g,t)=>{var a=t(83419),v=t(60561),h=t(17803),s=new a({Extends:h,Mixins:[v],initialize:function(e,n,l,i,u,f,c,d,p){n===void 0&&(n=0),l===void 0&&(l=0),i===void 0&&(i=48),u===void 0&&(u=32),f===void 0&&(f=!1),c===void 0&&(c=15658734),d===void 0&&(d=10066329),p===void 0&&(p=13421772),h.call(this,e,"IsoTriangle",null),this.projection=4,this.fillTop=c,this.fillLeft=d,this.fillRight=p,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=f,this.isFilled=!0,this.setPosition(n,l),this.setSize(i,u),this.updateDisplayOrigin()},setProjection:function(r){return this.projection=r,this},setReversed:function(r){return this.isReversed=r,this},setFaces:function(r,e,n){return r===void 0&&(r=!0),e===void 0&&(e=!0),n===void 0&&(n=!0),this.showTop=r,this.showLeft=e,this.showRight=n,this},setFillStyle:function(r,e,n){return this.fillTop=r,this.fillLeft=e,this.fillRight=n,this.isFilled=!0,this}});o.exports=s},79590:(o,g,t)=>{var a=t(65960),v=t(20926),h=function(s,r,e,n){e.addToRenderList(r);var l=s.currentContext;if(v(s,l,r,e,n)&&r.isFilled){var i=r.width,u=r.height,f=i/2,c=i/r.projection,d=r.isReversed;r.showTop&&d&&(a(l,r,r.fillTop),l.beginPath(),l.moveTo(-f,-u),l.lineTo(0,-c-u),l.lineTo(f,-u),l.lineTo(0,c-u),l.fill()),r.showLeft&&(a(l,r,r.fillLeft),l.beginPath(),d?(l.moveTo(-f,-u),l.lineTo(0,c),l.lineTo(0,c-u)):(l.moveTo(-f,0),l.lineTo(0,c),l.lineTo(0,c-u)),l.fill()),r.showRight&&(a(l,r,r.fillRight),l.beginPath(),d?(l.moveTo(f,-u),l.lineTo(0,c),l.lineTo(0,c-u)):(l.moveTo(f,0),l.lineTo(0,c),l.lineTo(0,c-u)),l.fill()),l.restore()}};o.exports=h},49803:(o,g,t)=>{var a=t(39429),v=t(16933);a.register("isotriangle",function(h,s,r,e,n,l,i,u){return this.displayList.add(new v(this.scene,h,s,r,e,n,l,i,u))})},60561:(o,g,t)=>{var a=t(29747),v=a,h=a;v=t(51503),h=t(79590),o.exports={renderWebGL:v,renderCanvas:h}},51503:(o,g,t)=>{var a=t(91296),v=t(70554),h=function(s,r,e,n){e.addToRenderList(r);var l=s.pipelines.set(r.pipeline),i=a(r,e,n),u=l.calcMatrix.copyFrom(i.calc),f=r.width,c=r.height,d=f/2,p=f/r.projection,m=r.isReversed,y=e.alpha*r.alpha;if(r.isFilled){s.pipelines.preBatch(r);var x,C,E,R,M,w,D;if(r.showTop&&m){x=v.getTintAppendFloatAlpha(r.fillTop,y),C=u.getX(-d,-c),E=u.getY(-d,-c),R=u.getX(0,-p-c),M=u.getY(0,-p-c),w=u.getX(d,-c),D=u.getY(d,-c);var F=u.getX(0,p-c),I=u.getY(0,p-c);l.batchQuad(r,C,E,R,M,w,D,F,I,0,0,1,1,x,x,x,x,2)}r.showLeft&&(x=v.getTintAppendFloatAlpha(r.fillLeft,y),m?(C=u.getX(-d,-c),E=u.getY(-d,-c),R=u.getX(0,p),M=u.getY(0,p),w=u.getX(0,p-c),D=u.getY(0,p-c)):(C=u.getX(-d,0),E=u.getY(-d,0),R=u.getX(0,p),M=u.getY(0,p),w=u.getX(0,p-c),D=u.getY(0,p-c)),l.batchTri(r,C,E,R,M,w,D,0,0,1,1,x,x,x,2)),r.showRight&&(x=v.getTintAppendFloatAlpha(r.fillRight,y),m?(C=u.getX(d,-c),E=u.getY(d,-c),R=u.getX(0,p),M=u.getY(0,p),w=u.getX(0,p-c),D=u.getY(0,p-c)):(C=u.getX(d,0),E=u.getY(d,0),R=u.getX(0,p),M=u.getY(0,p),w=u.getX(0,p-c),D=u.getY(0,p-c)),l.batchTri(r,C,E,R,M,w,D,0,0,1,1,x,x,x,2)),s.pipelines.postBatch(r)}};o.exports=h},57847:(o,g,t)=>{var a=t(83419),v=t(17803),h=t(23031),s=t(36823),r=new a({Extends:v,Mixins:[s],initialize:function(n,l,i,u,f,c,d,p,m){l===void 0&&(l=0),i===void 0&&(i=0),u===void 0&&(u=0),f===void 0&&(f=0),c===void 0&&(c=128),d===void 0&&(d=0),v.call(this,n,"Line",new h(u,f,c,d));var y=Math.max(1,this.geom.right-this.geom.left),x=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(l,i),this.setSize(y,x),p!==void 0&&this.setStrokeStyle(1,p,m),this.updateDisplayOrigin()},setLineWidth:function(e,n){return n===void 0&&(n=e),this._startWidth=e,this._endWidth=n,this.lineWidth=e,this},setTo:function(e,n,l,i){return this.geom.setTo(e,n,l,i),this}});o.exports=r},17440:(o,g,t)=>{var a=t(75177),v=t(20926),h=function(s,r,e,n){e.addToRenderList(r);var l=s.currentContext;if(v(s,l,r,e,n)){var i=r._displayOriginX,u=r._displayOriginY;r.isStroked&&(a(l,r),l.beginPath(),l.moveTo(r.geom.x1-i,r.geom.y1-u),l.lineTo(r.geom.x2-i,r.geom.y2-u),l.stroke()),l.restore()}};o.exports=h},2481:(o,g,t)=>{var a=t(39429),v=t(57847);a.register("line",function(h,s,r,e,n,l,i,u){return this.displayList.add(new v(this.scene,h,s,r,e,n,l,i,u))})},36823:(o,g,t)=>{var a=t(29747),v=a,h=a;v=t(77385),h=t(17440),o.exports={renderWebGL:v,renderCanvas:h}},77385:(o,g,t)=>{var a=t(91296),v=t(70554),h=function(s,r,e,n){e.addToRenderList(r);var l=s.pipelines.set(r.pipeline),i=a(r,e,n);l.calcMatrix.copyFrom(i.calc);var u=r._displayOriginX,f=r._displayOriginY,c=e.alpha*r.alpha;if(s.pipelines.preBatch(r),r.isStroked){var d=l.strokeTint,p=v.getTintAppendFloatAlpha(r.strokeColor,r.strokeAlpha*c);d.TL=p,d.TR=p,d.BL=p,d.BR=p,l.batchLine(r.geom.x1-u,r.geom.y1-f,r.geom.x2-u,r.geom.y2-f,r._startWidth/2,r._endWidth/2,1,0,!1,i.sprite,i.camera)}s.pipelines.postBatch(r)};o.exports=h},24949:(o,g,t)=>{var a=t(90273),v=t(83419),h=t(94811),s=t(13829),r=t(25717),e=t(17803),n=t(5469),l=new v({Extends:e,Mixins:[a],initialize:function(u,f,c,d,p,m){f===void 0&&(f=0),c===void 0&&(c=0),e.call(this,u,"Polygon",new r(d));var y=s(this.geom);this.setPosition(f,c),this.setSize(y.width,y.height),p!==void 0&&this.setFillStyle(p,m),this.updateDisplayOrigin(),this.updateData()},smooth:function(i){i===void 0&&(i=1);for(var u=0;u<i;u++)n(this.geom);return this.updateData()},setTo:function(i){this.geom.setTo(i);var u=s(this.geom);return this.setSize(u.width,u.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var i=[],u=this.geom.points,f=0;f<u.length;f++)i.push(u[f].x,u[f].y);return i.push(u[0].x,u[0].y),this.pathIndexes=h(i),this.pathData=i,this}});o.exports=l},38710:(o,g,t)=>{var a=t(65960),v=t(75177),h=t(20926),s=function(r,e,n,l){n.addToRenderList(e);var i=r.currentContext;if(h(r,i,e,n,l)){var u=e._displayOriginX,f=e._displayOriginY,c=e.pathData,d=c.length-1,p=c[0]-u,m=c[1]-f;i.beginPath(),i.moveTo(p,m),e.closePath||(d-=2);for(var y=2;y<d;y+=2){var x=c[y]-u,C=c[y+1]-f;i.lineTo(x,C)}e.closePath&&i.closePath(),e.isFilled&&(a(i,e),i.fill()),e.isStroked&&(v(i,e),i.stroke()),i.restore()}};o.exports=s},64827:(o,g,t)=>{var a=t(39429),v=t(24949);a.register("polygon",function(h,s,r,e,n){return this.displayList.add(new v(this.scene,h,s,r,e,n))})},90273:(o,g,t)=>{var a=t(29747),v=a,h=a;v=t(73695),h=t(38710),o.exports={renderWebGL:v,renderCanvas:h}},73695:(o,g,t)=>{var a=t(10441),v=t(91296),h=t(34682),s=function(r,e,n,l){n.addToRenderList(e);var i=r.pipelines.set(e.pipeline),u=v(e,n,l),f=i.calcMatrix.copyFrom(u.calc),c=e._displayOriginX,d=e._displayOriginY,p=n.alpha*e.alpha;r.pipelines.preBatch(e),e.isFilled&&a(i,f,e,p,c,d),e.isStroked&&h(i,e,p,c,d),r.pipelines.postBatch(e)};o.exports=s},74561:(o,g,t)=>{var a=t(83419),v=t(94811),h=t(87841),s=t(17803),r=t(95597),e=new a({Extends:s,Mixins:[r],initialize:function(l,i,u,f,c,d,p){i===void 0&&(i=0),u===void 0&&(u=0),f===void 0&&(f=128),c===void 0&&(c=128),s.call(this,l,"Rectangle",new h(0,0,f,c)),this.radius=20,this.isRounded=!1,this.setPosition(i,u),this.setSize(f,c),d!==void 0&&this.setFillStyle(d,p),this.updateDisplayOrigin(),this.updateData()},setRounded:function(n){return n===void 0&&(n=16),this.radius=n,this.isRounded=n>0,this.updateRoundedData()},setSize:function(n,l){this.width=n,this.height=l,this.geom.setSize(n,l),this.updateData(),this.updateDisplayOrigin();var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=n,i.hitArea.height=l),this},updateData:function(){if(this.isRounded)return this.updateRoundedData();var n=[],l=this.geom,i=this._tempLine;return l.getLineA(i),n.push(i.x1,i.y1,i.x2,i.y2),l.getLineB(i),n.push(i.x2,i.y2),l.getLineC(i),n.push(i.x2,i.y2),l.getLineD(i),n.push(i.x2,i.y2),this.pathData=n,this},updateRoundedData:function(){var n=[],l=this.width/2,i=this.height/2,u=Math.min(l,i),f=Math.min(this.radius,u),c=l,d=i,p=Math.max(1,Math.floor(f/5));return this.arcTo(n,c-l+f,d-i+f,f,Math.PI,Math.PI*1.5,p),n.push(c+l-f,d-i),this.arcTo(n,c+l-f,d-i+f,f,Math.PI*1.5,Math.PI*2,p),n.push(c+l,d+i-f),this.arcTo(n,c+l-f,d+i-f,f,0,Math.PI*.5,p),n.push(c-l+f,d+i),this.arcTo(n,c-l+f,d+i-f,f,Math.PI*.5,Math.PI,p),n.push(c-l,d-i+f),this.pathIndexes=v(n),this.pathData=n,this},arcTo:function(n,l,i,u,f,c,d){for(var p=(c-f)/d,m=0;m<=d;m++){var y=f+p*m;n.push(l+Math.cos(y)*u,i+Math.sin(y)*u)}}});o.exports=e},48682:(o,g,t)=>{var a=t(65960),v=t(75177),h=t(20926),s=function(e,n,l,i,u,f){var c=Math.min(i/2,u/2),d=Math.min(f,c);if(d===0){e.rect(n,l,i,u);return}e.moveTo(n+d,l),e.lineTo(n+i-d,l),e.arcTo(n+i,l,n+i,l+d,d),e.lineTo(n+i,l+u-d),e.arcTo(n+i,l+u,n+i-d,l+u,d),e.lineTo(n+d,l+u),e.arcTo(n,l+u,n,l+u-d,d),e.lineTo(n,l+d),e.arcTo(n,l,n+d,l,d),e.closePath()},r=function(e,n,l,i){l.addToRenderList(n);var u=e.currentContext;if(h(e,u,n,l,i)){var f=n._displayOriginX,c=n._displayOriginY;n.isFilled&&(a(u,n),n.isRounded?(u.beginPath(),s(u,-f,-c,n.width,n.height,n.radius),u.fill()):u.fillRect(-f,-c,n.width,n.height)),n.isStroked&&(v(u,n),u.beginPath(),n.isRounded?s(u,-f,-c,n.width,n.height,n.radius):u.rect(-f,-c,n.width,n.height),u.stroke()),u.restore()}};o.exports=r},87959:(o,g,t)=>{var a=t(39429),v=t(74561);a.register("rectangle",function(h,s,r,e,n,l){return this.displayList.add(new v(this.scene,h,s,r,e,n,l))})},95597:(o,g,t)=>{var a=t(29747),v=a,h=a;v=t(52059),h=t(48682),o.exports={renderWebGL:v,renderCanvas:h}},52059:(o,g,t)=>{var a=t(10441),v=t(91296),h=t(34682),s=t(70554),r=function(e,n,l,i){l.addToRenderList(n);var u=e.pipelines.set(n.pipeline),f=v(n,l,i);u.calcMatrix.copyFrom(f.calc);var c=n._displayOriginX,d=n._displayOriginY,p=l.alpha*n.alpha;if(e.pipelines.preBatch(n),n.isRounded&&n.isFilled)a(u,f.calc,n,p,c,d);else if(n.isFilled){var m=u.fillTint,y=s.getTintAppendFloatAlpha(n.fillColor,n.fillAlpha*p);m.TL=y,m.TR=y,m.BL=y,m.BR=y,u.batchFillRect(-c,-d,n.width,n.height)}n.isStroked&&h(u,n,p,c,d),e.pipelines.postBatch(n)};o.exports=r},55911:(o,g,t)=>{var a=t(81991),v=t(83419),h=t(94811),s=t(17803),r=new v({Extends:s,Mixins:[a],initialize:function(n,l,i,u,f,c,d,p){l===void 0&&(l=0),i===void 0&&(i=0),u===void 0&&(u=5),f===void 0&&(f=32),c===void 0&&(c=64),s.call(this,n,"Star",null),this._points=u,this._innerRadius=f,this._outerRadius=c,this.setPosition(l,i),this.setSize(c*2,c*2),d!==void 0&&this.setFillStyle(d,p),this.updateDisplayOrigin(),this.updateData()},setPoints:function(e){return this._points=e,this.updateData()},setInnerRadius:function(e){return this._innerRadius=e,this.updateData()},setOuterRadius:function(e){return this._outerRadius=e,this.updateData()},points:{get:function(){return this._points},set:function(e){this._points=e,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(e){this._innerRadius=e,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(e){this._outerRadius=e,this.updateData()}},updateData:function(){var e=[],n=this._points,l=this._innerRadius,i=this._outerRadius,u=Math.PI/2*3,f=Math.PI/n,c=i,d=i;e.push(c,d+-i);for(var p=0;p<n;p++)e.push(c+Math.cos(u)*i,d+Math.sin(u)*i),u+=f,e.push(c+Math.cos(u)*l,d+Math.sin(u)*l),u+=f;return e.push(c,d+-i),this.pathIndexes=h(e),this.pathData=e,this}});o.exports=r},64272:(o,g,t)=>{var a=t(65960),v=t(75177),h=t(20926),s=function(r,e,n,l){n.addToRenderList(e);var i=r.currentContext;if(h(r,i,e,n,l)){var u=e._displayOriginX,f=e._displayOriginY,c=e.pathData,d=c.length-1,p=c[0]-u,m=c[1]-f;i.beginPath(),i.moveTo(p,m),e.closePath||(d-=2);for(var y=2;y<d;y+=2){var x=c[y]-u,C=c[y+1]-f;i.lineTo(x,C)}i.closePath(),e.isFilled&&(a(i,e),i.fill()),e.isStroked&&(v(i,e),i.stroke()),i.restore()}};o.exports=s},93697:(o,g,t)=>{var a=t(55911),v=t(39429);v.register("star",function(h,s,r,e,n,l,i){return this.displayList.add(new a(this.scene,h,s,r,e,n,l,i))})},81991:(o,g,t)=>{var a=t(29747),v=a,h=a;v=t(57017),h=t(64272),o.exports={renderWebGL:v,renderCanvas:h}},57017:(o,g,t)=>{var a=t(10441),v=t(91296),h=t(34682),s=function(r,e,n,l){n.addToRenderList(e);var i=r.pipelines.set(e.pipeline),u=v(e,n,l),f=i.calcMatrix.copyFrom(u.calc),c=e._displayOriginX,d=e._displayOriginY,p=n.alpha*e.alpha;r.pipelines.preBatch(e),e.isFilled&&a(i,f,e,p,c,d),e.isStroked&&h(i,e,p,c,d),r.pipelines.postBatch(e)};o.exports=s},36931:(o,g,t)=>{var a=t(83419),v=t(17803),h=t(16483),s=t(96195),r=new a({Extends:v,Mixins:[s],initialize:function(n,l,i,u,f,c,d,p,m,y,x){l===void 0&&(l=0),i===void 0&&(i=0),u===void 0&&(u=0),f===void 0&&(f=128),c===void 0&&(c=64),d===void 0&&(d=0),p===void 0&&(p=128),m===void 0&&(m=128),v.call(this,n,"Triangle",new h(u,f,c,d,p,m));var C=this.geom.right-this.geom.left,E=this.geom.bottom-this.geom.top;this.setPosition(l,i),this.setSize(C,E),y!==void 0&&this.setFillStyle(y,x),this.updateDisplayOrigin(),this.updateData()},setTo:function(e,n,l,i,u,f){return this.geom.setTo(e,n,l,i,u,f),this.updateData()},updateData:function(){var e=[],n=this.geom,l=this._tempLine;return n.getLineA(l),e.push(l.x1,l.y1,l.x2,l.y2),n.getLineB(l),e.push(l.x2,l.y2),n.getLineC(l),e.push(l.x2,l.y2),this.pathData=e,this}});o.exports=r},85172:(o,g,t)=>{var a=t(65960),v=t(75177),h=t(20926),s=function(r,e,n,l){n.addToRenderList(e);var i=r.currentContext;if(h(r,i,e,n,l)){var u=e._displayOriginX,f=e._displayOriginY,c=e.geom.x1-u,d=e.geom.y1-f,p=e.geom.x2-u,m=e.geom.y2-f,y=e.geom.x3-u,x=e.geom.y3-f;i.beginPath(),i.moveTo(c,d),i.lineTo(p,m),i.lineTo(y,x),i.closePath(),e.isFilled&&(a(i,e),i.fill()),e.isStroked&&(v(i,e),i.stroke()),i.restore()}};o.exports=s},45245:(o,g,t)=>{var a=t(39429),v=t(36931);a.register("triangle",function(h,s,r,e,n,l,i,u,f,c){return this.displayList.add(new v(this.scene,h,s,r,e,n,l,i,u,f,c))})},96195:(o,g,t)=>{var a=t(29747),v=a,h=a;v=t(83253),h=t(85172),o.exports={renderWebGL:v,renderCanvas:h}},83253:(o,g,t)=>{var a=t(91296),v=t(34682),h=t(70554),s=function(r,e,n,l){n.addToRenderList(e);var i=r.pipelines.set(e.pipeline),u=a(e,n,l);i.calcMatrix.copyFrom(u.calc);var f=e._displayOriginX,c=e._displayOriginY,d=n.alpha*e.alpha;if(r.pipelines.preBatch(e),e.isFilled){var p=i.fillTint,m=h.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*d);p.TL=m,p.TR=m,p.BL=m,p.BR=m;var y=e.geom.x1-f,x=e.geom.y1-c,C=e.geom.x2-f,E=e.geom.y2-c,R=e.geom.x3-f,M=e.geom.y3-c;i.batchFillTriangle(y,x,C,E,R,M,u.sprite,u.camera)}e.isStroked&&v(i,e,d,f,c),r.pipelines.postBatch(e)};o.exports=s},68287:(o,g,t)=>{var a=t(9674),v=t(83419),h=t(31401),s=t(95643),r=t(92751),e=new v({Extends:s,Mixins:[h.Alpha,h.BlendMode,h.Depth,h.Flip,h.GetBounds,h.Mask,h.Origin,h.Pipeline,h.PostPipeline,h.ScrollFactor,h.Size,h.TextureCrop,h.Tint,h.Transform,h.Visible,r],initialize:function(l,i,u,f,c){s.call(this,l,"Sprite"),this._crop=this.resetCropObject(),this.anims=new a(this),this.setTexture(f,c),this.setPosition(i,u),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(n,l){this.anims.update(n,l)},play:function(n,l){return this.anims.play(n,l)},playReverse:function(n,l){return this.anims.playReverse(n,l)},playAfterDelay:function(n,l){return this.anims.playAfterDelay(n,l)},playAfterRepeat:function(n,l){return this.anims.playAfterRepeat(n,l)},chain:function(n){return this.anims.chain(n)},stop:function(){return this.anims.stop()},stopAfterDelay:function(n){return this.anims.stopAfterDelay(n)},stopAfterRepeat:function(n){return this.anims.stopAfterRepeat(n)},stopOnFrame:function(n){return this.anims.stopOnFrame(n)},toJSON:function(){return h.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});o.exports=e},76552:o=>{var g=function(t,a,v,h){v.addToRenderList(a),t.batchSprite(a,a.frame,v,h)};o.exports=g},15567:(o,g,t)=>{var a=t(25305),v=t(13059),h=t(44603),s=t(23568),r=t(68287);h.register("sprite",function(e,n){e===void 0&&(e={});var l=s(e,"key",null),i=s(e,"frame",null),u=new r(this.scene,0,0,l,i);return n!==void 0&&(e.add=n),a(this.scene,u,e),v(u,e),u})},46409:(o,g,t)=>{var a=t(39429),v=t(68287);a.register("sprite",function(h,s,r,e){return this.displayList.add(new v(this.scene,h,s,r,e))})},92751:(o,g,t)=>{var a=t(29747),v=a,h=a;v=t(9409),h=t(76552),o.exports={renderWebGL:v,renderCanvas:h}},9409:o=>{var g=function(t,a,v,h){v.addToRenderList(a),a.pipeline.batchSprite(a,v,h)};o.exports=g},14220:o=>{var g=function(t,a,v){var h=t.canvas,s=t.context,r=t.style,e=[],n=0,l=v.length;r.maxLines>0&&r.maxLines<v.length&&(l=r.maxLines),r.syncFont(h,s);for(var i=t.letterSpacing,u=0;u<l;u++){var f=r.strokeThickness;if(i===0)f+=s.measureText(v[u]).width;else{for(var c=v[u],d=0;d<c.length;d++)f+=s.measureText(c[d]).width;c.length>1&&(f+=i*(c.length-1))}r.wordWrap&&(f-=s.measureText(" ").width),e[u]=Math.ceil(f),n=Math.max(n,e[u])}var p=a.fontSize+r.strokeThickness,m=p*l,y=t.lineSpacing;return l>1&&(m+=y*(l-1)),{width:n,height:m,lines:l,lineWidths:e,lineSpacing:y,lineHeight:p}};o.exports=g},79557:(o,g,t)=>{var a=t(27919),v=function(h){var s=a.create(this),r=s.getContext("2d",{willReadFrequently:!0});h.syncFont(s,r);var e=r.measureText(h.testString);if("actualBoundingBoxAscent"in e){var n=e.actualBoundingBoxAscent,l=e.actualBoundingBoxDescent;return a.remove(s),{ascent:n,descent:l,fontSize:n+l}}var i=Math.ceil(e.width*h.baselineX),u=i,f=2*u;u=u*h.baselineY|0,s.width=i,s.height=f,r.fillStyle="#f00",r.fillRect(0,0,i,f),r.font=h._font,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(h.testString,0,u);var c={ascent:0,descent:0,fontSize:0},d=r.getImageData(0,0,i,f);if(!d)return c.ascent=u,c.descent=u+6,c.fontSize=c.ascent+c.descent,a.remove(s),c;var p=d.data,m=p.length,y=i*4,x,C,E=0,R=!1;for(x=0;x<u;x++){for(C=0;C<y;C+=4)if(p[E+C]!==255){R=!0;break}if(!R)E+=y;else break}for(c.ascent=u-x,E=m-y,R=!1,x=f;x>u;x--){for(C=0;C<y;C+=4)if(p[E+C]!==255){R=!0;break}if(!R)E-=y;else break}return c.descent=x-u,c.fontSize=c.ascent+c.descent,a.remove(s),c};o.exports=v},50171:(o,g,t)=>{var a=t(40366),v=t(27919),h=t(83419),s=t(31401),r=t(95643),e=t(14220),n=t(35154),l=t(35846),i=t(61771),u=t(35762),f=t(45650),c=new h({Extends:r,Mixins:[s.Alpha,s.BlendMode,s.ComputedSize,s.Crop,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.PostPipeline,s.ScrollFactor,s.Tint,s.Transform,s.Visible,i],initialize:function(p,m,y,x,C){m===void 0&&(m=0),y===void 0&&(y=0),r.call(this,p,"Text"),this.renderer=p.sys.renderer,this.setPosition(m,y),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=v.create(this),this.context,this.style=new u(this,C),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=f(),this.texture=p.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(x),C&&C.padding&&this.setPadding(C.padding),C&&C.lineSpacing&&this.setLineSpacing(C.lineSpacing),C&&C.letterSpacing&&this.setLetterSpacing(C.letterSpacing)},initRTL:function(){if(!this.style.rtl){this.canvas.dir="ltr",this.context.direction="ltr";return}this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",a(this.canvas,this.scene.sys.canvas),this.originX=1},runWordWrap:function(d){var p=this.style;if(p.wordWrapCallback){var m=p.wordWrapCallback.call(p.wordWrapCallbackScope,d,this);return Array.isArray(m)&&(m=m.join(`
`)),m}else return p.wordWrapWidth?p.wordWrapUseAdvanced?this.advancedWordWrap(d,this.context,this.style.wordWrapWidth):this.basicWordWrap(d,this.context,this.style.wordWrapWidth):d},advancedWordWrap:function(d,p,m){for(var y="",x=d.replace(/ +/gi," ").split(this.splitRegExp),C=x.length,E=0;E<C;E++){var R=x[E],M="";R=R.replace(/^ *|\s*$/gi,"");var w=R.length*this.letterSpacing,D=p.measureText(R).width+w;if(D<m){y+=R+`
`;continue}for(var F=m,I=R.split(" "),L=0;L<I.length;L++){var B=I[L],G=B+" ",V=G.length*this.letterSpacing,X=p.measureText(G).width+V;if(X>F){if(L===0){for(var b=G;b.length;){b=b.slice(0,-1);var U=b.length*this.letterSpacing;if(X=p.measureText(b).width+U,X<=F)break}if(!b.length)throw new Error("wordWrapWidth < a single character");var O=B.substr(b.length);I[L]=O,M+=b}var z=I[L].length?L:L+1,N=I.slice(z).join(" ").replace(/[ \n]*$/gi,"");x.splice(E+1,0,N),C=x.length;break}else M+=G,F-=X}y+=M.replace(/[ \n]*$/gi,"")+`
`}return y=y.replace(/[\s|\n]*$/gi,""),y},basicWordWrap:function(d,p,m){for(var y="",x=d.split(this.splitRegExp),C=x.length-1,E=p.measureText(" ").width,R=0;R<=C;R++){for(var M=m,w=x[R].split(" "),D=w.length-1,F=0;F<=D;F++){var I=w[F],L=I.length*this.letterSpacing,B=p.measureText(I).width+L,G=B;F<D&&(G+=E),G>M&&F>0&&(y+=`
`,M=m),y+=I,F<D?(y+=" ",M-=G):M-=B}R<C&&(y+=`
`)}return y},getWrappedText:function(d){d===void 0&&(d=this._text),this.style.syncFont(this.canvas,this.context);var p=this.runWordWrap(d);return p.split(this.splitRegExp)},setText:function(d){return!d&&d!==0&&(d=""),Array.isArray(d)&&(d=d.join(`
`)),d!==this._text&&(this._text=d.toString(),this.updateText()),this},appendText:function(d,p){p===void 0&&(p=!0),!d&&d!==0&&(d=""),Array.isArray(d)&&(d=d.join(`
`)),d=d.toString();var m=this._text.concat(p?`
`+d:d);return m!==this._text&&(this._text=m,this.updateText()),this},setStyle:function(d){return this.style.setStyle(d)},setFont:function(d){return this.style.setFont(d)},setFontFamily:function(d){return this.style.setFontFamily(d)},setFontSize:function(d){return this.style.setFontSize(d)},setFontStyle:function(d){return this.style.setFontStyle(d)},setFixedSize:function(d,p){return this.style.setFixedSize(d,p)},setBackgroundColor:function(d){return this.style.setBackgroundColor(d)},setFill:function(d){return this.style.setFill(d)},setColor:function(d){return this.style.setColor(d)},setStroke:function(d,p){return this.style.setStroke(d,p)},setShadow:function(d,p,m,y,x,C){return this.style.setShadow(d,p,m,y,x,C)},setShadowOffset:function(d,p){return this.style.setShadowOffset(d,p)},setShadowColor:function(d){return this.style.setShadowColor(d)},setShadowBlur:function(d){return this.style.setShadowBlur(d)},setShadowStroke:function(d){return this.style.setShadowStroke(d)},setShadowFill:function(d){return this.style.setShadowFill(d)},setWordWrapWidth:function(d,p){return this.style.setWordWrapWidth(d,p)},setWordWrapCallback:function(d,p){return this.style.setWordWrapCallback(d,p)},setAlign:function(d){return this.style.setAlign(d)},setResolution:function(d){return this.style.setResolution(d)},setLineSpacing:function(d){return this.lineSpacing=d,this.updateText()},setLetterSpacing:function(d){return this.letterSpacing=d,this.updateText()},setPadding:function(d,p,m,y){if(typeof d=="object"){var x=d,C=n(x,"x",null);C!==null?(d=C,m=C):(d=n(x,"left",0),m=n(x,"right",d));var E=n(x,"y",null);E!==null?(p=E,y=E):(p=n(x,"top",0),y=n(x,"bottom",p))}else d===void 0&&(d=0),p===void 0&&(p=d),m===void 0&&(m=d),y===void 0&&(y=p);return this.padding.left=d,this.padding.top=p,this.padding.right=m,this.padding.bottom=y,this.updateText()},setMaxLines:function(d){return this.style.setMaxLines(d)},setRTL:function(d){d===void 0&&(d=!0);var p=this.style;return p.rtl===d?this:(p.rtl=d,d?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",a(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),p.align==="left"?p.align="right":p.align==="right"&&(p.align="left"),this)},updateText:function(){var d=this.canvas,p=this.context,m=this.style,y=m.resolution,x=m.metrics;m.syncFont(d,p);var C=this._text;(m.wordWrapWidth||m.wordWrapCallback)&&(C=this.runWordWrap(this._text));var E=C.split(this.splitRegExp),R=e(this,x,E),M=this.padding,w;m.fixedWidth===0?(this.width=R.width+M.left+M.right,w=R.width):(this.width=m.fixedWidth,w=this.width-M.left-M.right,w<R.width&&(w=R.width)),m.fixedHeight===0?this.height=R.height+M.top+M.bottom:this.height=m.fixedHeight;var D=this.width,F=this.height;this.updateDisplayOrigin(),D*=y,F*=y,D=Math.max(D,1),F=Math.max(F,1),d.width!==D||d.height!==F?(d.width=D,d.height=F,this.frame.setSize(D,F),m.syncFont(d,p),m.rtl&&(p.direction="rtl")):p.clearRect(0,0,D,F),p.save(),p.scale(y,y),m.backgroundColor&&(p.fillStyle=m.backgroundColor,p.fillRect(0,0,D,F)),m.syncStyle(d,p),p.translate(M.left,M.top);for(var I,L,B=0;B<R.lines;B++){if(I=m.strokeThickness/2,L=m.strokeThickness/2+B*R.lineHeight+x.ascent,B>0&&(L+=R.lineSpacing*B),m.rtl)I=D-I-M.left-M.right;else if(m.align==="right")I+=w-R.lineWidths[B];else if(m.align==="center")I+=(w-R.lineWidths[B])/2;else if(m.align==="justify"){var G=.85;if(R.lineWidths[B]/R.width>=G){var V=R.width-R.lineWidths[B],X=p.measureText(" ").width,b=E[B].trim(),U=b.split(" ");V+=(E[B].length-b.length)*X;for(var O=Math.floor(V/X),z=0;O>0;)U[z]+=" ",z=(z+1)%(U.length-1||1),--O;E[B]=U.join(" ")}}this.autoRound&&(I=Math.round(I),L=Math.round(L));var N=this.letterSpacing;if(m.strokeThickness&&N===0&&(m.syncShadow(p,m.shadowStroke),p.strokeText(E[B],I,L)),m.color)if(m.syncShadow(p,m.shadowFill),N!==0)for(var Y=0,W=E[B].split(""),H=0;H<W.length;H++)m.strokeThickness&&(m.syncShadow(p,m.shadowStroke),p.strokeText(W[H],I+Y,L),m.syncShadow(p,m.shadowFill)),p.fillText(W[H],I+Y,L),Y+=p.measureText(W[H]).width+N;else p.fillText(E[B],I,L)}p.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(d,this.frame.source.glTexture,!0));var $=this.input;return $&&!$.customHitArea&&($.hitArea.width=this.width,$.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(d){this.setText(d)}},toJSON:function(){var d=s.ToJSON(this),p={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return d.data=p,d},preDestroy:function(){l(this.canvas),v.remove(this.canvas);var d=this.texture;d&&d.destroy()}});o.exports=c},79724:o=>{var g=function(t,a,v,h){a.width===0||a.height===0||(v.addToRenderList(a),t.batchSprite(a,a.frame,v,h))};o.exports=g},71259:(o,g,t)=>{var a=t(25305),v=t(44603),h=t(23568),s=t(50171);v.register("text",function(r,e){r===void 0&&(r={});var n=h(r,"text",""),l=h(r,"style",null),i=h(r,"padding",null);i!==null&&(l.padding=i);var u=new s(this.scene,0,0,n,l);return e!==void 0&&(r.add=e),a(this.scene,u,r),u.autoRound=h(r,"autoRound",!0),u.resolution=h(r,"resolution",1),u})},68005:(o,g,t)=>{var a=t(50171),v=t(39429);v.register("text",function(h,s,r,e){return this.displayList.add(new a(this.scene,h,s,r,e))})},61771:(o,g,t)=>{var a=t(29747),v=a,h=a;v=t(34397),h=t(79724),o.exports={renderWebGL:v,renderCanvas:h}},35762:(o,g,t)=>{var a=t(83419),v=t(23568),h=t(35154),s=t(79557),r={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|M\xC3\u2030qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},e=new a({initialize:function(l,i){this.parent=l,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(i,!1,!0)},setStyle:function(n,l,i){l===void 0&&(l=!0),i===void 0&&(i=!1);for(var u in r){var f=i?r[u][1]:this[u];u==="wordWrapCallback"||u==="wordWrapCallbackScope"?this[u]=h(n,r[u][0],f):n&&u==="fontSize"&&typeof n.fontSize=="number"?this[u]=n.fontSize.toString()+"px":this[u]=v(n,r[u][0],f)}var c=h(n,"font",null);c!==null&&this.setFont(c,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var d=h(n,"fill",null);d!==null&&(this.color=d);var p=h(n,"metrics",!1);return p?this.metrics={ascent:h(p,"ascent",0),descent:h(p,"descent",0),fontSize:h(p,"fontSize",0)}:(l||!this.metrics)&&(this.metrics=s(this)),l?this.parent.updateText():this.parent},syncFont:function(n,l){l.font=this._font},syncStyle:function(n,l){l.textBaseline="alphabetic",l.fillStyle=this.color,l.strokeStyle=this.stroke,l.lineWidth=this.strokeThickness,l.lineCap="round",l.lineJoin="round"},syncShadow:function(n,l){l?(n.shadowOffsetX=this.shadowOffsetX,n.shadowOffsetY=this.shadowOffsetY,n.shadowColor=this.shadowColor,n.shadowBlur=this.shadowBlur):(n.shadowOffsetX=0,n.shadowOffsetY=0,n.shadowColor=0,n.shadowBlur=0)},update:function(n){return n&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=s(this)),this.parent.updateText()},setFont:function(n,l){l===void 0&&(l=!0);var i=n,u="",f="";if(typeof n!="string")i=h(n,"fontFamily","Courier"),u=h(n,"fontSize","16px"),f=h(n,"fontStyle","");else{var c=n.split(" "),d=0;f=c.length>2?c[d++]:"",u=c[d++]||"16px",i=c[d++]||"Courier"}return(i!==this.fontFamily||u!==this.fontSize||f!==this.fontStyle)&&(this.fontFamily=i,this.fontSize=u,this.fontStyle=f,l&&this.update(!0)),this.parent},setFontFamily:function(n){return this.fontFamily!==n&&(this.fontFamily=n,this.update(!0)),this.parent},setFontStyle:function(n){return this.fontStyle!==n&&(this.fontStyle=n,this.update(!0)),this.parent},setFontSize:function(n){return typeof n=="number"&&(n=n.toString()+"px"),this.fontSize!==n&&(this.fontSize=n,this.update(!0)),this.parent},setTestString:function(n){return this.testString=n,this.update(!0)},setFixedSize:function(n,l){return this.fixedWidth=n,this.fixedHeight=l,n&&(this.parent.width=n),l&&(this.parent.height=l),this.update(!1)},setBackgroundColor:function(n){return this.backgroundColor=n,this.update(!1)},setFill:function(n){return this.color=n,this.update(!1)},setColor:function(n){return this.color=n,this.update(!1)},setResolution:function(n){return this.resolution=n,this.update(!1)},setStroke:function(n,l){return l===void 0&&(l=this.strokeThickness),n===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==n||this.strokeThickness!==l)&&(this.stroke=n,this.strokeThickness=l,this.update(!0)),this.parent},setShadow:function(n,l,i,u,f,c){return n===void 0&&(n=0),l===void 0&&(l=0),i===void 0&&(i="#000"),u===void 0&&(u=0),f===void 0&&(f=!1),c===void 0&&(c=!0),this.shadowOffsetX=n,this.shadowOffsetY=l,this.shadowColor=i,this.shadowBlur=u,this.shadowStroke=f,this.shadowFill=c,this.update(!1)},setShadowOffset:function(n,l){return n===void 0&&(n=0),l===void 0&&(l=n),this.shadowOffsetX=n,this.shadowOffsetY=l,this.update(!1)},setShadowColor:function(n){return n===void 0&&(n="#000"),this.shadowColor=n,this.update(!1)},setShadowBlur:function(n){return n===void 0&&(n=0),this.shadowBlur=n,this.update(!1)},setShadowStroke:function(n){return this.shadowStroke=n,this.update(!1)},setShadowFill:function(n){return this.shadowFill=n,this.update(!1)},setWordWrapWidth:function(n,l){return l===void 0&&(l=!1),this.wordWrapWidth=n,this.wordWrapUseAdvanced=l,this.update(!1)},setWordWrapCallback:function(n,l){return l===void 0&&(l=null),this.wordWrapCallback=n,this.wordWrapCallbackScope=l,this.update(!1)},setAlign:function(n){return n===void 0&&(n="left"),this.align=n,this.update(!1)},setMaxLines:function(n){return n===void 0&&(n=0),this.maxLines=n,this.update(!1)},getTextMetrics:function(){var n=this.metrics;return{ascent:n.ascent,descent:n.descent,fontSize:n.fontSize}},toJSON:function(){var n={};for(var l in r)n[l]=this[l];return n.metrics=this.getTextMetrics(),n},destroy:function(){this.parent=void 0}});o.exports=e},34397:(o,g,t)=>{var a=t(70554),v=function(h,s,r,e){if(!(s.width===0||s.height===0)){r.addToRenderList(s);var n=s.frame,l=n.width,i=n.height,u=a.getTintAppendFloatAlpha,f=h.pipelines.set(s.pipeline,s),c=f.setTexture2D(n.glTexture,s);f.batchTexture(s,n.glTexture,l,i,s.x,s.y,l/s.style.resolution,i/s.style.resolution,s.scaleX,s.scaleY,s.rotation,s.flipX,s.flipY,s.scrollFactorX,s.scrollFactorY,s.displayOriginX,s.displayOriginY,0,0,l,i,u(s.tintTopLeft,r.alpha*s._alphaTL),u(s.tintTopRight,r.alpha*s._alphaTR),u(s.tintBottomLeft,r.alpha*s._alphaBL),u(s.tintBottomRight,r.alpha*s._alphaBR),s.tintFill,0,0,r,e,!1,c)}};o.exports=v},20839:(o,g,t)=>{var a=t(27919),v=t(83419),h=t(31401),s=t(95643),r=t(98439),e=t(68703),n=t(56295),l=t(45650),i=t(26099),u=8,f=new v({Extends:s,Mixins:[h.Alpha,h.BlendMode,h.ComputedSize,h.Crop,h.Depth,h.Flip,h.GetBounds,h.Mask,h.Origin,h.Pipeline,h.PostPipeline,h.ScrollFactor,h.Tint,h.Transform,h.Visible,n],initialize:function(d,p,m,y,x,C,E){var R=d.sys.renderer;s.call(this,d,"TileSprite");var M=d.sys.textures.get(C),w=M.get(E);w.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),M=d.sys.textures.get("__MISSING"),w=M.get()),M.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),M=d.sys.textures.get("__MISSING"),w=M.get()),!y||!x?(y=y||w.width,x=x||w.height):(y=Math.floor(y),x=Math.floor(x)),this._tilePosition=new i,this._tileScale=new i(1,1),this.dirty=!1,this.renderer=R,this.canvas=a.create(this,y,x),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=M,this.displayFrame=w,this._crop=this.resetCropObject(),this._textureKey=l(),this.texture=d.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=r(w.width),this.potHeight=r(w.height),this.fillCanvas=a.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(p,m),this.setSize(y,x),this.setFrame(E),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(c,d){return this.displayTexture=this.scene.sys.textures.get(c),this.setFrame(d)},setFrame:function(c){var d=this.displayTexture.get(c);return this.potWidth=r(d.width),this.potHeight=r(d.height),this.canvas.width=0,!d.cutWidth||!d.cutHeight?this.renderFlags&=~u:this.renderFlags|=u,this.displayFrame=d,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(c,d){return c!==void 0&&(this.tilePositionX=c),d!==void 0&&(this.tilePositionY=d),this},setTileScale:function(c,d){return c===void 0&&(c=this.tileScaleX),d===void 0&&(d=c),this.tileScaleX=c,this.tileScaleY=d,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var c=this.displayFrame;if(c.source.isRenderTexture||c.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var d=this.fillContext,p=this.fillCanvas,m=this.potWidth,y=this.potHeight;(!this.renderer||!this.renderer.gl)&&(m=c.cutWidth,y=c.cutHeight),d.clearRect(0,0,m,y),p.width=m,p.height=y,d.drawImage(c.source.image,c.cutX,c.cutY,c.cutWidth,c.cutHeight,0,0,m,y),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(p,this.fillPattern):this.fillPattern=d.createPattern(p,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var c=this.canvas;if((c.width!==this.width||c.height!==this.height)&&(c.width=this.width,c.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var d=this.context;this.scene.sys.game.config.antialias||e.disable(d);var p=this._tileScale.x,m=this._tileScale.y,y=this._tilePosition.x,x=this._tilePosition.y;d.clearRect(0,0,this.width,this.height),d.save(),d.scale(p,m),d.translate(-y,-x),d.fillStyle=this.fillPattern,d.fillRect(y,x,this.width/p,this.height/m),d.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),a.remove(this.canvas),a.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var c=this.texture;c&&c.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(c){this._tilePosition.x=c,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(c){this._tilePosition.y=c,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(c){this._tileScale.x=c,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(c){this._tileScale.y=c,this.dirty=!0}}});o.exports=f},46992:o=>{var g=function(t,a,v,h){a.updateCanvas(),v.addToRenderList(a),t.batchSprite(a,a.frame,v,h)};o.exports=g},14167:(o,g,t)=>{var a=t(25305),v=t(44603),h=t(23568),s=t(20839);v.register("tileSprite",function(r,e){r===void 0&&(r={});var n=h(r,"x",0),l=h(r,"y",0),i=h(r,"width",512),u=h(r,"height",512),f=h(r,"key",""),c=h(r,"frame",""),d=new s(this.scene,n,l,i,u,f,c);return e!==void 0&&(r.add=e),a(this.scene,d,r),d})},91681:(o,g,t)=>{var a=t(20839),v=t(39429);v.register("tileSprite",function(h,s,r,e,n,l){return this.displayList.add(new a(this.scene,h,s,r,e,n,l))})},56295:(o,g,t)=>{var a=t(29747),v=a,h=a;v=t(18553),h=t(46992),o.exports={renderWebGL:v,renderCanvas:h}},18553:(o,g,t)=>{var a=t(70554),v=function(h,s,r,e){s.updateCanvas();var n=s.width,l=s.height;if(!(n===0||l===0)){r.addToRenderList(s);var i=a.getTintAppendFloatAlpha,u=h.pipelines.set(s.pipeline,s),f=u.setTexture2D(s.fillPattern,s);u.batchTexture(s,s.fillPattern,s.displayFrame.width*s.tileScaleX,s.displayFrame.height*s.tileScaleY,s.x,s.y,n,l,s.scaleX,s.scaleY,s.rotation,s.flipX,s.flipY,s.scrollFactorX,s.scrollFactorY,s.originX*n,s.originY*l,0,0,n,l,i(s.tintTopLeft,r.alpha*s._alphaTL),i(s.tintTopRight,r.alpha*s._alphaTR),i(s.tintBottomLeft,r.alpha*s._alphaBL),i(s.tintBottomRight,r.alpha*s._alphaBR),s.tintFill,s.tilePositionX%s.displayFrame.width/s.displayFrame.width,s.tilePositionY%s.displayFrame.height/s.displayFrame.height,r,e,!1,f)}};o.exports=v},18471:(o,g,t)=>{var a=t(45319),v=t(83419),h=t(31401),s=t(51708),r=t(8443),e=t(95643),n=t(36383),l=t(14463),i=t(45650),u=t(10247),f=new v({Extends:e,Mixins:[h.Alpha,h.BlendMode,h.ComputedSize,h.Depth,h.Flip,h.GetBounds,h.Mask,h.Origin,h.Pipeline,h.PostPipeline,h.ScrollFactor,h.TextureCrop,h.Tint,h.Transform,h.Visible,u],initialize:function(d,p,m,y){e.call(this,d,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=i(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._getFrame=!1,this._rfvCallbackId=0;var x=d.sys.game;this._device=x.device.video,this.setPosition(p,m),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),x.events.on(r.PAUSE,this.globalPause,this),x.events.on(r.RESUME,this.globalResume,this);var C=d.sys.sound;C&&C.on(l.GLOBAL_MUTE,this.globalMute,this),y&&this.load(y)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(c){var d=this.scene.sys.cache.video.get(c);return d?(this.cacheKey=c,this.loadHandler(d.url,d.noAudio,d.crossOrigin)):console.warn("No video in cache for key: "+c),this},changeSource:function(c,d,p,m,y){d===void 0&&(d=!0),p===void 0&&(p=!1),this.cacheKey!==c&&(this.load(c),d&&this.play(p,m,y))},getVideoKey:function(){return this.cacheKey},loadURL:function(c,d,p){d===void 0&&(d=!1);var m=this._device.getVideoURL(c);return m?(this.cacheKey="",this.loadHandler(m.url,d,p)):console.warn("No supported video format found for "+c),this},loadMediaStream:function(c,d,p){return this.loadHandler(null,d,p,c)},loadHandler:function(c,d,p,m){d||(d=!1);var y=this.video;if(y?(this.removeLoadEventHandlers(),this.stop()):(y=document.createElement("video"),y.controls=!1,y.setAttribute("playsinline","playsinline"),y.setAttribute("preload","auto"),y.setAttribute("disablePictureInPicture","true")),d?(y.muted=!0,y.defaultMuted=!0,y.setAttribute("autoplay","autoplay")):(y.muted=!1,y.defaultMuted=!1,y.removeAttribute("autoplay")),p?y.setAttribute("crossorigin",p):y.removeAttribute("crossorigin"),m)if("srcObject"in y)try{y.srcObject=m}catch(C){if(C.name!=="TypeError")throw C;y.src=URL.createObjectURL(m)}else y.src=URL.createObjectURL(m);else y.src=c;this.retry=0,this.video=y,this._playCalled=!1,y.load(),this.addLoadEventHandlers();var x=this.scene.sys.textures.get(this._key);return this.setTexture(x),this},requestVideoFrame:function(c,d){var p=this.video;if(p){var m=d.width,y=d.height,x=this.videoTexture,C=this.videoTextureSource,E=!x||C.source!==p;E?(this._codePaused=p.paused,this._codeMuted=p.muted,x?(C.source=p,C.width=m,C.height=y,x.get().setSize(m,y)):(x=this.scene.sys.textures.create(this._key,p,m,y),x.add("__BASE",0,0,0,m,y),this.setTexture(x),this.videoTexture=x,this.videoTextureSource=x.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(s.VIDEO_TEXTURE,this,x)),this.setSizeToFrame(),this.updateDisplayOrigin()):C.update(),this.isStalled=!1,this.metadata=d;var R=d.mediaTime;E&&(this._lastUpdate=R,this.emit(s.VIDEO_CREATED,this,m,y),this.frameReady||(this.frameReady=!0,this.emit(s.VIDEO_PLAY,this))),this._playingMarker?R>=this._markerOut&&(p.loop?(p.currentTime=this._markerIn,this.emit(s.VIDEO_LOOP,this)):(this.stop(!1),this.emit(s.VIDEO_COMPLETE,this))):R<this._lastUpdate&&this.emit(s.VIDEO_LOOP,this),this._lastUpdate=R,this._getFrame?(this.removeEventHandlers(),p.pause(),this._getFrame=!1):this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(c,d,p){d===void 0&&(d=-1),p===void 0&&(p=n.MAX_SAFE_INTEGER);var m=this.video;return!m||this.isPlaying()?(m||console.warn("Video not loaded"),this):(c===void 0&&(c=m.loop),m.loop=c,this._markerIn=d,this._markerOut=p,this._playingMarker=d>-1&&p>d&&p<n.MAX_SAFE_INTEGER,this._playCalled||(this._getFrame=!1,this._rfvCallbackId=m.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},getFirstFrame:function(){var c=this.video;return!c||this.isPlaying()?(c||console.warn("Video not loaded"),this):(this._playCalled||(this._getFrame=!0,this._rfvCallbackId=c.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this.createPlayPromise()),this)},addLoadEventHandlers:function(){var c=this.video;c&&(c.addEventListener("error",this._loadCallbackHandler),c.addEventListener("abort",this._loadCallbackHandler),c.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var c=this.video;c&&(c.removeEventListener("error",this._loadCallbackHandler),c.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var c=this.video;if(c){var d=this._callbacks;for(var p in d)c.addEventListener(p,d[p])}},removeEventHandlers:function(){var c=this.video;if(c){var d=this._callbacks;for(var p in d)c.removeEventListener(p,d[p])}},createPlayPromise:function(c){c===void 0&&(c=!0);var d=this.video,p=d.play();if(p!==void 0){var m=this.playSuccess.bind(this),y=this.playError.bind(this);if(!c){var x=this;y=function(){x.failedPlayAttempts++}}p.then(m).catch(y)}else d.addEventListener("playing",this._callbacks.legacy),c||this.failedPlayAttempts++},addMarker:function(c,d,p){return!isNaN(d)&&d>=0&&!isNaN(p)&&p>d&&(this.markers[c]=[d,p]),this},playMarker:function(c,d){var p=this.markers[c];return p&&this.play(d,p[0],p[1]),this},removeMarker:function(c){return delete this.markers[c],this},snapshot:function(c,d){return c===void 0&&(c=this.width),d===void 0&&(d=this.height),this.snapshotArea(0,0,this.width,this.height,c,d)},snapshotArea:function(c,d,p,m,y,x){c===void 0&&(c=0),d===void 0&&(d=0),p===void 0&&(p=this.width),m===void 0&&(m=this.height),y===void 0&&(y=p),x===void 0&&(x=m);var C=this.video,E=this.snapshotTexture;return E?(E.setSize(y,x),C&&E.context.drawImage(C,c,d,p,m,0,0,y,x)):(E=this.scene.sys.textures.createCanvas(i(),y,x),this.snapshotTexture=E,C&&E.context.drawImage(C,c,d,p,m,0,0,y,x)),E.update()},saveSnapshotTexture:function(c){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,c):this.snapshotTexture=this.scene.sys.textures.createCanvas(c,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(s.VIDEO_UNLOCKED,this));var c=this.scene.sys.sound;c&&c.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(c){var d=c.name;d==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(s.VIDEO_LOCKED,this)):d==="NotSupportedError"?(this.stop(!1),this.emit(s.VIDEO_UNSUPPORTED,this,c)):(this.stop(!1),this.emit(s.VIDEO_ERROR,this,c))},legacyPlayHandler:function(){var c=this.video;c&&(this.playSuccess(),c.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(s.VIDEO_PLAYING,this)},loadErrorHandler:function(c){this.stop(!1),this.emit(s.VIDEO_ERROR,this,c)},metadataHandler:function(c){this.emit(s.VIDEO_METADATA,this,c)},setSizeToFrame:function(c){c||(c=this.frame),this.width=c.realWidth,this.height=c.realHeight,this.scaleX!==1&&(this.scaleX=this.displayWidth/this.width),this.scaleY!==1&&(this.scaleY=this.displayHeight/this.height);var d=this.input;return d&&!d.customHitArea&&(d.hitArea.width=this.width,d.hitArea.height=this.height),this},stalledHandler:function(c){this.isStalled=!0,this.emit(s.VIDEO_STALLED,this,c)},completeHandler:function(){this._playCalled=!1,this.emit(s.VIDEO_COMPLETE,this)},preUpdate:function(c,d){var p=this.video;!p||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=d,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(c){var d=this.video;if(d){var p=d.duration;if(p!==1/0&&!isNaN(p)){var m=p*c;this.setCurrentTime(m)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(c){var d=this.video;if(d){if(typeof c=="string"){var p=c[0],m=parseFloat(c.substr(1));p==="+"?c=d.currentTime+m:p==="-"&&(c=d.currentTime-m)}d.currentTime=c}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(s.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(s.VIDEO_SEEKED,this)},getProgress:function(){var c=this.video;if(c){var d=c.duration;if(d!==1/0&&!isNaN(d))return c.currentTime/d}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(c){c===void 0&&(c=!0),this._codeMuted=c;var d=this.video;return d&&(d.muted=this._systemMuted?!0:c),this},isMuted:function(){return this._codeMuted},globalMute:function(c,d){this._systemMuted=d;var p=this.video;p&&(p.muted=this._codeMuted?!0:d)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(c){c===void 0&&(c=!0);var d=this.video;return this._codePaused=c,d&&!d.ended&&(c?d.paused||(this.removeEventHandlers(),d.pause()):c||(this._playCalled?d.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(c){return c===void 0&&(c=1),this.video&&(this.video.volume=a(c,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(c){return this.video&&(this.video.playbackRate=c),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(c){return c===void 0&&(c=!0),this.video&&(this.video.loop=c),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(c,d){return d===void 0&&(d=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,c),this.videoTextureSource.setFlipY(d)),this._key=c,this.flipY=d,!!this.videoTexture},stop:function(c){c===void 0&&(c=!0);var d=this.video;return d&&(this.removeEventHandlers(),d.cancelVideoFrameCallback(this._rfvCallbackId),d.pause()),this.retry=0,this._playCalled=!1,c&&this.emit(s.VIDEO_STOP,this),this},removeVideoElement:function(){var c=this.video;if(c){for(c.parentNode&&c.parentNode.removeChild(c);c.hasChildNodes();)c.removeChild(c.firstChild);c.removeAttribute("autoplay"),c.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var c=this.scene.sys.game.events;c.off(r.PAUSE,this.globalPause,this),c.off(r.RESUME,this.globalResume,this);var d=this.scene.sys.sound;d&&d.off(l.GLOBAL_MUTE,this.globalMute,this)}});o.exports=f},58352:o=>{var g=function(t,a,v,h){a.videoTexture&&(v.addToRenderList(a),t.batchSprite(a,a.frame,v,h))};o.exports=g},11511:(o,g,t)=>{var a=t(25305),v=t(44603),h=t(23568),s=t(18471);v.register("video",function(r,e){r===void 0&&(r={});var n=h(r,"key",null),l=new s(this.scene,0,0,n);return e!==void 0&&(r.add=e),a(this.scene,l,r),l})},89025:(o,g,t)=>{var a=t(18471),v=t(39429);v.register("video",function(h,s,r){return this.displayList.add(new a(this.scene,h,s,r))})},10247:(o,g,t)=>{var a=t(29747),v=a,h=a;v=t(29849),h=t(58352),o.exports={renderWebGL:v,renderCanvas:h}},29849:o=>{var g=function(t,a,v,h){a.videoTexture&&(v.addToRenderList(a),a.pipeline.batchSprite(a,v,h))};o.exports=g},41481:(o,g,t)=>{var a=t(10312),v=t(96503),h=t(87902),s=t(83419),r=t(31401),e=t(95643),n=t(87841),l=t(37303),i=new s({Extends:e,Mixins:[r.Depth,r.GetBounds,r.Origin,r.Transform,r.ScrollFactor,r.Visible],initialize:function(f,c,d,p,m){p===void 0&&(p=1),m===void 0&&(m=p),e.call(this,f,"Zone"),this.setPosition(c,d),this.width=p,this.height=m,this.blendMode=a.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(u){this.scaleX=u/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(u){this.scaleY=u/this.height}},setSize:function(u,f,c){c===void 0&&(c=!0),this.width=u,this.height=f,this.updateDisplayOrigin();var d=this.input;return c&&d&&!d.customHitArea&&(d.hitArea.width=u,d.hitArea.height=f),this},setDisplaySize:function(u,f){return this.displayWidth=u,this.displayHeight=f,this},setCircleDropZone:function(u){return this.setDropZone(new v(0,0,u),h)},setRectangleDropZone:function(u,f){return this.setDropZone(new n(0,0,u,f),l)},setDropZone:function(u,f){return this.input||this.setInteractive(u,f,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(u,f,c){c.addToRenderList(f)},renderWebGL:function(u,f,c){c.addToRenderList(f)}});o.exports=i},95261:(o,g,t)=>{var a=t(44603),v=t(23568),h=t(41481);a.register("zone",function(s){var r=v(s,"x",0),e=v(s,"y",0),n=v(s,"width",1),l=v(s,"height",n);return new h(this.scene,r,e,n,l)})},84175:(o,g,t)=>{var a=t(41481),v=t(39429);v.register("zone",function(h,s,r,e){return this.displayList.add(new a(this.scene,h,s,r,e))})},95166:o=>{var g=function(t){return t.radius>0?Math.PI*t.radius*t.radius:0};o.exports=g},96503:(o,g,t)=>{var a=t(83419),v=t(87902),h=t(26241),s=t(79124),r=t(23777),e=t(28176),n=new a({initialize:function(i,u,f){i===void 0&&(i=0),u===void 0&&(u=0),f===void 0&&(f=0),this.type=r.CIRCLE,this.x=i,this.y=u,this._radius=f,this._diameter=f*2},contains:function(l,i){return v(this,l,i)},getPoint:function(l,i){return h(this,l,i)},getPoints:function(l,i,u){return s(this,l,i,u)},getRandomPoint:function(l){return e(this,l)},setTo:function(l,i,u){return this.x=l,this.y=i,this._radius=u,this._diameter=u*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(l,i){return i===void 0&&(i=l),this.x=l,this.y=i,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(l){this._radius=l,this._diameter=l*2}},diameter:{get:function(){return this._diameter},set:function(l){this._diameter=l,this._radius=l*.5}},left:{get:function(){return this.x-this._radius},set:function(l){this.x=l+this._radius}},right:{get:function(){return this.x+this._radius},set:function(l){this.x=l-this._radius}},top:{get:function(){return this.y-this._radius},set:function(l){this.y=l+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(l){this.y=l-this._radius}}});o.exports=n},71562:o=>{var g=function(t){return 2*(Math.PI*t.radius)};o.exports=g},92110:(o,g,t)=>{var a=t(2141),v=function(h,s,r){return r===void 0&&(r=new a),r.x=h.x+h.radius*Math.cos(s),r.y=h.y+h.radius*Math.sin(s),r};o.exports=v},42250:(o,g,t)=>{var a=t(96503),v=function(h){return new a(h.x,h.y,h.radius)};o.exports=v},87902:o=>{var g=function(t,a,v){if(t.radius>0&&a>=t.left&&a<=t.right&&v>=t.top&&v<=t.bottom){var h=(t.x-a)*(t.x-a),s=(t.y-v)*(t.y-v);return h+s<=t.radius*t.radius}else return!1};o.exports=g},5698:(o,g,t)=>{var a=t(87902),v=function(h,s){return a(h,s.x,s.y)};o.exports=v},70588:(o,g,t)=>{var a=t(87902),v=function(h,s){return a(h,s.x,s.y)&&a(h,s.right,s.y)&&a(h,s.x,s.bottom)&&a(h,s.right,s.bottom)};o.exports=v},26394:o=>{var g=function(t,a){return a.setTo(t.x,t.y,t.radius)};o.exports=g},76278:o=>{var g=function(t,a){return t.x===a.x&&t.y===a.y&&t.radius===a.radius};o.exports=g},2074:(o,g,t)=>{var a=t(87841),v=function(h,s){return s===void 0&&(s=new a),s.x=h.left,s.y=h.top,s.width=h.diameter,s.height=h.diameter,s};o.exports=v},26241:(o,g,t)=>{var a=t(92110),v=t(62945),h=t(36383),s=t(2141),r=function(e,n,l){l===void 0&&(l=new s);var i=v(n,0,h.PI2);return a(e,i,l)};o.exports=r},79124:(o,g,t)=>{var a=t(71562),v=t(92110),h=t(62945),s=t(36383),r=function(e,n,l,i){i===void 0&&(i=[]),!n&&l>0&&(n=a(e)/l);for(var u=0;u<n;u++){var f=h(u/n,0,s.PI2);i.push(v(e,f))}return i};o.exports=r},50884:o=>{var g=function(t,a,v){return t.x+=a,t.y+=v,t};o.exports=g},39212:o=>{var g=function(t,a){return t.x+=a.x,t.y+=a.y,t};o.exports=g},28176:(o,g,t)=>{var a=t(2141),v=function(h,s){s===void 0&&(s=new a);var r=2*Math.PI*Math.random(),e=Math.random()+Math.random(),n=e>1?2-e:e,l=n*Math.cos(r),i=n*Math.sin(r);return s.x=h.x+l*h.radius,s.y=h.y+i*h.radius,s};o.exports=v},88911:(o,g,t)=>{var a=t(96503);a.Area=t(95166),a.Circumference=t(71562),a.CircumferencePoint=t(92110),a.Clone=t(42250),a.Contains=t(87902),a.ContainsPoint=t(5698),a.ContainsRect=t(70588),a.CopyFrom=t(26394),a.Equals=t(76278),a.GetBounds=t(2074),a.GetPoint=t(26241),a.GetPoints=t(79124),a.Offset=t(50884),a.OffsetPoint=t(39212),a.Random=t(28176),o.exports=a},23777:o=>{var g={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};o.exports=g},78874:o=>{var g=function(t){return t.isEmpty()?0:t.getMajorRadius()*t.getMinorRadius()*Math.PI};o.exports=g},92990:o=>{var g=function(t){var a=t.width/2,v=t.height/2,h=Math.pow(a-v,2)/Math.pow(a+v,2);return Math.PI*(a+v)*(1+3*h/(10+Math.sqrt(4-3*h)))};o.exports=g},79522:(o,g,t)=>{var a=t(2141),v=function(h,s,r){r===void 0&&(r=new a);var e=h.width/2,n=h.height/2;return r.x=h.x+e*Math.cos(s),r.y=h.y+n*Math.sin(s),r};o.exports=v},58102:(o,g,t)=>{var a=t(8497),v=function(h){return new a(h.x,h.y,h.width,h.height)};o.exports=v},81154:o=>{var g=function(t,a,v){if(t.width<=0||t.height<=0)return!1;var h=(a-t.x)/t.width,s=(v-t.y)/t.height;return h*=h,s*=s,h+s<.25};o.exports=g},46662:(o,g,t)=>{var a=t(81154),v=function(h,s){return a(h,s.x,s.y)};o.exports=v},1632:(o,g,t)=>{var a=t(81154),v=function(h,s){return a(h,s.x,s.y)&&a(h,s.right,s.y)&&a(h,s.x,s.bottom)&&a(h,s.right,s.bottom)};o.exports=v},65534:o=>{var g=function(t,a){return a.setTo(t.x,t.y,t.width,t.height)};o.exports=g},8497:(o,g,t)=>{var a=t(83419),v=t(81154),h=t(90549),s=t(48320),r=t(23777),e=t(24820),n=new a({initialize:function(i,u,f,c){i===void 0&&(i=0),u===void 0&&(u=0),f===void 0&&(f=0),c===void 0&&(c=0),this.type=r.ELLIPSE,this.x=i,this.y=u,this.width=f,this.height=c},contains:function(l,i){return v(this,l,i)},getPoint:function(l,i){return h(this,l,i)},getPoints:function(l,i,u){return s(this,l,i,u)},getRandomPoint:function(l){return e(this,l)},setTo:function(l,i,u,f){return this.x=l,this.y=i,this.width=u,this.height=f,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(l,i){return i===void 0&&(i=l),this.x=l,this.y=i,this},setSize:function(l,i){return i===void 0&&(i=l),this.width=l,this.height=i,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(l){this.x=l+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(l){this.x=l-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(l){this.y=l+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(l){this.y=l-this.height/2}}});o.exports=n},36146:o=>{var g=function(t,a){return t.x===a.x&&t.y===a.y&&t.width===a.width&&t.height===a.height};o.exports=g},23694:(o,g,t)=>{var a=t(87841),v=function(h,s){return s===void 0&&(s=new a),s.x=h.left,s.y=h.top,s.width=h.width,s.height=h.height,s};o.exports=v},90549:(o,g,t)=>{var a=t(79522),v=t(62945),h=t(36383),s=t(2141),r=function(e,n,l){l===void 0&&(l=new s);var i=v(n,0,h.PI2);return a(e,i,l)};o.exports=r},48320:(o,g,t)=>{var a=t(92990),v=t(79522),h=t(62945),s=t(36383),r=function(e,n,l,i){i===void 0&&(i=[]),!n&&l>0&&(n=a(e)/l);for(var u=0;u<n;u++){var f=h(u/n,0,s.PI2);i.push(v(e,f))}return i};o.exports=r},73424:o=>{var g=function(t,a,v){return t.x+=a,t.y+=v,t};o.exports=g},44808:o=>{var g=function(t,a){return t.x+=a.x,t.y+=a.y,t};o.exports=g},24820:(o,g,t)=>{var a=t(2141),v=function(h,s){s===void 0&&(s=new a);var r=Math.random()*Math.PI*2,e=Math.sqrt(Math.random());return s.x=h.x+e*Math.cos(r)*h.width/2,s.y=h.y+e*Math.sin(r)*h.height/2,s};o.exports=v},49203:(o,g,t)=>{var a=t(8497);a.Area=t(78874),a.Circumference=t(92990),a.CircumferencePoint=t(79522),a.Clone=t(58102),a.Contains=t(81154),a.ContainsPoint=t(46662),a.ContainsRect=t(1632),a.CopyFrom=t(65534),a.Equals=t(36146),a.GetBounds=t(23694),a.GetPoint=t(90549),a.GetPoints=t(48320),a.Offset=t(73424),a.OffsetPoint=t(44808),a.Random=t(24820),o.exports=a},55738:(o,g,t)=>{var a=t(23777),v=t(79291),h={Circle:t(88911),Ellipse:t(49203),Intersects:t(91865),Line:t(2529),Mesh:t(73090),Point:t(43711),Polygon:t(58423),Rectangle:t(93232),Triangle:t(84435)};h=v(!1,h,a),o.exports=h},2044:(o,g,t)=>{var a=t(20339),v=function(h,s){return a(h.x,h.y,s.x,s.y)<=h.radius+s.radius};o.exports=v},81491:o=>{var g=function(t,a){var v=a.width/2,h=a.height/2,s=Math.abs(t.x-a.x-v),r=Math.abs(t.y-a.y-h),e=v+t.radius,n=h+t.radius;if(s>e||r>n)return!1;if(s<=v||r<=h)return!0;var l=s-v,i=r-h,u=l*l,f=i*i,c=t.radius*t.radius;return u+f<=c};o.exports=g},63376:(o,g,t)=>{var a=t(2141),v=t(2044),h=function(s,r,e){if(e===void 0&&(e=[]),v(s,r)){var n=s.x,l=s.y,i=s.radius,u=r.x,f=r.y,c=r.radius,d,p,m,y,x;if(l===f)x=(c*c-i*i-u*u+n*n)/(2*(n-u)),d=1,p=-2*f,m=u*u+x*x-2*u*x+f*f-c*c,y=p*p-4*d*m,y===0?e.push(new a(x,-p/(2*d))):y>0&&(e.push(new a(x,(-p+Math.sqrt(y))/(2*d))),e.push(new a(x,(-p-Math.sqrt(y))/(2*d))));else{var C=(n-u)/(l-f),E=(c*c-i*i-u*u+n*n-f*f+l*l)/(2*(l-f));d=C*C+1,p=2*l*C-2*E*C-2*n,m=n*n+l*l+E*E-i*i-2*l*E,y=p*p-4*d*m,y===0?(x=-p/(2*d),e.push(new a(x,E-x*C))):y>0&&(x=(-p+Math.sqrt(y))/(2*d),e.push(new a(x,E-x*C)),x=(-p-Math.sqrt(y))/(2*d),e.push(new a(x,E-x*C)))}}return e};o.exports=h},97439:(o,g,t)=>{var a=t(4042),v=t(81491),h=function(s,r,e){if(e===void 0&&(e=[]),v(s,r)){var n=r.getLineA(),l=r.getLineB(),i=r.getLineC(),u=r.getLineD();a(n,s,e),a(l,s,e),a(i,s,e),a(u,s,e)}return e};o.exports=h},4042:(o,g,t)=>{var a=t(2141),v=t(80462),h=function(s,r,e){if(e===void 0&&(e=[]),v(s,r)){var n=s.x1,l=s.y1,i=s.x2,u=s.y2,f=r.x,c=r.y,d=r.radius,p=i-n,m=u-l,y=n-f,x=l-c,C=p*p+m*m,E=2*(p*y+m*x),R=y*y+x*x-d*d,M=E*E-4*C*R,w,D;if(M===0){var F=-E/(2*C);w=n+F*p,D=l+F*m,F>=0&&F<=1&&e.push(new a(w,D))}else if(M>0){var I=(-E-Math.sqrt(M))/(2*C);w=n+I*p,D=l+I*m,I>=0&&I<=1&&e.push(new a(w,D));var L=(-E+Math.sqrt(M))/(2*C);w=n+L*p,D=l+L*m,L>=0&&L<=1&&e.push(new a(w,D))}}return e};o.exports=h},36100:(o,g,t)=>{var a=t(25836),v=function(h,s,r,e){r===void 0&&(r=!1);var n=h.x1,l=h.y1,i=h.x2,u=h.y2,f=s.x1,c=s.y1,d=s.x2,p=s.y2,m=i-n,y=u-l,x=d-f,C=p-c,E=m*C-y*x;if(E===0)return null;var R,M,w;if(r){if(R=(m*(c-l)+y*(n-f))/(x*y-C*m),m!==0)M=(f+x*R-n)/m;else if(y!==0)M=(c+C*R-l)/y;else return null;if(M<0||R<0||R>1)return null;w=M}else{if(R=((f-n)*C-(c-l)*x)/E,M=((l-c)*m-(n-f)*y)/E,R<0||R>1||M<0||M>1)return null;w=R}return e===void 0&&(e=new a),e.set(n+m*w,l+y*w,w)};o.exports=v},3073:(o,g,t)=>{var a=t(36100),v=t(23031),h=t(25836),s=new v,r=new h,e=function(n,l,i,u){i===void 0&&(i=!1),u===void 0&&(u=new h);var f=!1;u.set(),r.set();for(var c=l[l.length-1],d=0;d<l.length;d++){var p=l[d];s.setTo(c.x,c.y,p.x,p.y),c=p,a(n,s,i,r)&&(!f||r.z<u.z)&&(u.copy(r),f=!0)}return f?u:null};o.exports=e},56362:(o,g,t)=>{var a=t(25836),v=t(61369),h=t(3073),s=new a,r=function(e,n,l,i){i===void 0&&(i=new v),Array.isArray(n)||(n=[n]);var u=!1;i.set(),s.set();for(var f=0;f<n.length;f++)h(e,n[f].points,l,s)&&(!u||s.z<i.z)&&(i.set(s.x,s.y,s.z,f),u=!0);return u?i:null};o.exports=r},60646:(o,g,t)=>{var a=t(2141),v=t(76112),h=t(92773),s=function(r,e,n){if(n===void 0&&(n=[]),h(r,e))for(var l=e.getLineA(),i=e.getLineB(),u=e.getLineC(),f=e.getLineD(),c=[new a,new a,new a,new a],d=[v(l,r,c[0]),v(i,r,c[1]),v(u,r,c[2]),v(f,r,c[3])],p=0;p<4;p++)d[p]&&n.push(c[p]);return n};o.exports=s},71147:(o,g,t)=>{var a=t(61369),v=t(56362),h=t(23031),s=new h;function r(l,i,u,f,c){var d=Math.cos(l),p=Math.sin(l);s.setTo(i,u,i+d,u+p);var m=v(s,f,!0);m&&c.push(new a(m.x,m.y,l,m.w))}function e(l,i){return l.z-i.z}var n=function(l,i,u){Array.isArray(u)||(u=[u]);for(var f=[],c=[],d=0;d<u.length;d++)for(var p=u[d].points,m=0;m<p.length;m++){var y=Math.atan2(p[m].y-i,p[m].x-l);c.indexOf(y)===-1&&(r(y,l,i,u,f),r(y-1e-5,l,i,u,f),r(y+1e-5,l,i,u,f),c.push(y))}return f.sort(e)};o.exports=n},68389:(o,g,t)=>{var a=t(87841),v=t(59996),h=function(s,r,e){return e===void 0&&(e=new a),v(s,r)&&(e.x=Math.max(s.x,r.x),e.y=Math.max(s.y,r.y),e.width=Math.min(s.right,r.right)-e.x,e.height=Math.min(s.bottom,r.bottom)-e.y),e};o.exports=h},52784:(o,g,t)=>{var a=t(60646),v=t(59996),h=function(s,r,e){if(e===void 0&&(e=[]),v(s,r)){var n=s.getLineA(),l=s.getLineB(),i=s.getLineC(),u=s.getLineD();a(n,r,e),a(l,r,e),a(i,r,e),a(u,r,e)}return e};o.exports=h},26341:(o,g,t)=>{var a=t(89265),v=t(60646),h=function(s,r,e){if(e===void 0&&(e=[]),a(s,r)){var n=r.getLineA(),l=r.getLineB(),i=r.getLineC();v(n,s,e),v(l,s,e),v(i,s,e)}return e};o.exports=h},38720:(o,g,t)=>{var a=t(4042),v=t(67636),h=function(s,r,e){if(e===void 0&&(e=[]),v(s,r)){var n=s.getLineA(),l=s.getLineB(),i=s.getLineC();a(n,r,e),a(l,r,e),a(i,r,e)}return e};o.exports=h},13882:(o,g,t)=>{var a=t(2141),v=t(2822),h=t(76112),s=function(r,e,n){if(n===void 0&&(n=[]),v(r,e))for(var l=r.getLineA(),i=r.getLineB(),u=r.getLineC(),f=[new a,new a,new a],c=[h(l,e,f[0]),h(i,e,f[1]),h(u,e,f[2])],d=0;d<3;d++)c[d]&&n.push(f[d]);return n};o.exports=s},75636:(o,g,t)=>{var a=t(82944),v=t(13882),h=function(s,r,e){if(e===void 0&&(e=[]),a(s,r)){var n=r.getLineA(),l=r.getLineB(),i=r.getLineC();v(s,n,e),v(s,l,e),v(s,i,e)}return e};o.exports=h},80462:(o,g,t)=>{var a=t(87902),v=t(2141),h=new v,s=function(r,e,n){if(n===void 0&&(n=h),a(e,r.x1,r.y1))return n.x=r.x1,n.y=r.y1,!0;if(a(e,r.x2,r.y2))return n.x=r.x2,n.y=r.y2,!0;var l=r.x2-r.x1,i=r.y2-r.y1,u=e.x-r.x1,f=e.y-r.y1,c=l*l+i*i,d=l,p=i;if(c>0){var m=(u*l+f*i)/c;d*=m,p*=m}n.x=r.x1+d,n.y=r.y1+p;var y=d*d+p*p;return y<=c&&d*l+p*i>=0&&a(e,n.x,n.y)};o.exports=s},76112:o=>{var g=function(t,a,v){var h=t.x1,s=t.y1,r=t.x2,e=t.y2,n=a.x1,l=a.y1,i=a.x2,u=a.y2;if(h===r&&s===e||n===i&&l===u)return!1;var f=(u-l)*(r-h)-(i-n)*(e-s);if(f===0)return!1;var c=((i-n)*(s-l)-(u-l)*(h-n))/f,d=((r-h)*(s-l)-(e-s)*(h-n))/f;return c<0||c>1||d<0||d>1?!1:(v&&(v.x=h+c*(r-h),v.y=s+c*(e-s)),!0)};o.exports=g},92773:o=>{var g=function(t,a){var v=t.x1,h=t.y1,s=t.x2,r=t.y2,e=a.x,n=a.y,l=a.right,i=a.bottom,u=0;if(v>=e&&v<=l&&h>=n&&h<=i||s>=e&&s<=l&&r>=n&&r<=i)return!0;if(v<e&&s>=e){if(u=h+(r-h)*(e-v)/(s-v),u>n&&u<=i)return!0}else if(v>l&&s<=l&&(u=h+(r-h)*(l-v)/(s-v),u>=n&&u<=i))return!0;if(h<n&&r>=n){if(u=v+(s-v)*(n-h)/(r-h),u>=e&&u<=l)return!0}else if(h>i&&r<=i&&(u=v+(s-v)*(i-h)/(r-h),u>=e&&u<=l))return!0;return!1};o.exports=g},16204:o=>{var g=function(t,a,v){v===void 0&&(v=1);var h=a.x1,s=a.y1,r=a.x2,e=a.y2,n=t.x,l=t.y,i=(r-h)*(r-h)+(e-s)*(e-s);if(i===0)return!1;var u=((n-h)*(r-h)+(l-s)*(e-s))/i;if(u<0)return Math.sqrt((h-n)*(h-n)+(s-l)*(s-l))<=v;if(u>=0&&u<=1){var f=((s-l)*(r-h)-(h-n)*(e-s))/i;return Math.abs(f)*Math.sqrt(i)<=v}else return Math.sqrt((r-n)*(r-n)+(e-l)*(e-l))<=v};o.exports=g},14199:(o,g,t)=>{var a=t(16204),v=function(h,s){if(!a(h,s))return!1;var r=Math.min(s.x1,s.x2),e=Math.max(s.x1,s.x2),n=Math.min(s.y1,s.y2),l=Math.max(s.y1,s.y2);return h.x>=r&&h.x<=e&&h.y>=n&&h.y<=l};o.exports=v},59996:o=>{var g=function(t,a){return t.width<=0||t.height<=0||a.width<=0||a.height<=0?!1:!(t.right<a.x||t.bottom<a.y||t.x>a.right||t.y>a.bottom)};o.exports=g},89265:(o,g,t)=>{var a=t(76112),v=t(37303),h=t(48653),s=t(77493),r=function(e,n){if(n.left>e.right||n.right<e.left||n.top>e.bottom||n.bottom<e.top)return!1;var l=n.getLineA(),i=n.getLineB(),u=n.getLineC();if(v(e,l.x1,l.y1)||v(e,l.x2,l.y2)||v(e,i.x1,i.y1)||v(e,i.x2,i.y2)||v(e,u.x1,u.y1)||v(e,u.x2,u.y2))return!0;var f=e.getLineA(),c=e.getLineB(),d=e.getLineC(),p=e.getLineD();if(a(l,f)||a(l,c)||a(l,d)||a(l,p)||a(i,f)||a(i,c)||a(i,d)||a(i,p)||a(u,f)||a(u,c)||a(u,d)||a(u,p))return!0;var m=s(e),y=h(n,m,!0);return y.length>0};o.exports=r},84411:o=>{var g=function(t,a,v,h,s,r){return r===void 0&&(r=0),!(a>t.right+r||v<t.left-r||h>t.bottom+r||s<t.top-r)};o.exports=g},67636:(o,g,t)=>{var a=t(80462),v=t(10690),h=function(s,r){return s.left>r.right||s.right<r.left||s.top>r.bottom||s.bottom<r.top?!1:!!(v(s,r.x,r.y)||a(s.getLineA(),r)||a(s.getLineB(),r)||a(s.getLineC(),r))};o.exports=h},2822:(o,g,t)=>{var a=t(76112),v=function(h,s){return!!(h.contains(s.x1,s.y1)||h.contains(s.x2,s.y2)||a(h.getLineA(),s)||a(h.getLineB(),s)||a(h.getLineC(),s))};o.exports=v},82944:(o,g,t)=>{var a=t(48653),v=t(71694),h=t(76112),s=function(r,e){if(r.left>e.right||r.right<e.left||r.top>e.bottom||r.bottom<e.top)return!1;var n=r.getLineA(),l=r.getLineB(),i=r.getLineC(),u=e.getLineA(),f=e.getLineB(),c=e.getLineC();if(h(n,u)||h(n,f)||h(n,c)||h(l,u)||h(l,f)||h(l,c)||h(i,u)||h(i,f)||h(i,c))return!0;var d=v(r),p=a(e,d,!0);return p.length>0||(d=v(e),p=a(r,d,!0),p.length>0)};o.exports=s},91865:(o,g,t)=>{o.exports={CircleToCircle:t(2044),CircleToRectangle:t(81491),GetCircleToCircle:t(63376),GetCircleToRectangle:t(97439),GetLineToCircle:t(4042),GetLineToLine:t(36100),GetLineToPoints:t(3073),GetLineToPolygon:t(56362),GetLineToRectangle:t(60646),GetRaysFromPointToPolygon:t(71147),GetRectangleIntersection:t(68389),GetRectangleToRectangle:t(52784),GetRectangleToTriangle:t(26341),GetTriangleToCircle:t(38720),GetTriangleToLine:t(13882),GetTriangleToTriangle:t(75636),LineToCircle:t(80462),LineToLine:t(76112),LineToRectangle:t(92773),PointToLine:t(16204),PointToLineSegment:t(14199),RectangleToRectangle:t(59996),RectangleToTriangle:t(89265),RectangleToValues:t(84411),TriangleToCircle:t(67636),TriangleToLine:t(2822),TriangleToTriangle:t(82944)}},91938:o=>{var g=function(t){return Math.atan2(t.y2-t.y1,t.x2-t.x1)};o.exports=g},84993:o=>{var g=function(t,a,v){a===void 0&&(a=1),v===void 0&&(v=[]);var h=Math.round(t.x1),s=Math.round(t.y1),r=Math.round(t.x2),e=Math.round(t.y2),n=Math.abs(r-h),l=Math.abs(e-s),i=h<r?1:-1,u=s<e?1:-1,f=n-l;v.push({x:h,y:s});for(var c=1;!(h===r&&s===e);){var d=f<<1;d>-l&&(f-=l,h+=i),d<n&&(f+=n,s+=u),c%a===0&&v.push({x:h,y:s}),c++}return v};o.exports=g},36469:o=>{var g=function(t,a,v){var h=a-(t.x1+t.x2)/2,s=v-(t.y1+t.y2)/2;return t.x1+=h,t.y1+=s,t.x2+=h,t.y2+=s,t};o.exports=g},31116:(o,g,t)=>{var a=t(23031),v=function(h){return new a(h.x1,h.y1,h.x2,h.y2)};o.exports=v},59944:o=>{var g=function(t,a){return a.setTo(t.x1,t.y1,t.x2,t.y2)};o.exports=g},59220:o=>{var g=function(t,a){return t.x1===a.x1&&t.y1===a.y1&&t.x2===a.x2&&t.y2===a.y2};o.exports=g},78177:(o,g,t)=>{var a=t(35001),v=function(h,s,r){r===void 0&&(r=s);var e=a(h),n=h.x2-h.x1,l=h.y2-h.y1;return s&&(h.x1=h.x1-n/e*s,h.y1=h.y1-l/e*s),r&&(h.x2=h.x2+n/e*r,h.y2=h.y2+l/e*r),h};o.exports=v},26708:(o,g,t)=>{var a=t(52816),v=t(6113),h=t(2141),s=function(r,e,n,l,i){l===void 0&&(l=0),i===void 0&&(i=[]);var u=[],f=r.x1,c=r.y1,d=r.x2-f,p=r.y2-c,m=v(e,i),y,x,C=n-1;for(y=0;y<C;y++)x=m(y/C),u.push(new h(f+d*x,c+p*x));if(x=m(1),u.push(new h(f+d*x,c+p*x)),l>0){var E=u[0],R=[E];for(y=1;y<u.length-1;y++){var M=u[y];a(E,M)>=l&&(R.push(M),E=M)}var w=u[u.length-1];return a(E,w)<l&&R.pop(),R.push(w),R}else return u};o.exports=s},32125:(o,g,t)=>{var a=t(2141),v=function(h,s){return s===void 0&&(s=new a),s.x=(h.x1+h.x2)/2,s.y=(h.y1+h.y2)/2,s};o.exports=v},99569:(o,g,t)=>{var a=t(2141),v=function(h,s,r){r===void 0&&(r=new a);var e=h.x1,n=h.y1,l=h.x2,i=h.y2,u=(l-e)*(l-e)+(i-n)*(i-n);if(u===0)return r;var f=((s.x-e)*(l-e)+(s.y-n)*(i-n))/u;return r.x=e+f*(l-e),r.y=n+f*(i-n),r};o.exports=v},34638:(o,g,t)=>{var a=t(36383),v=t(91938),h=t(2141),s=function(r,e){e===void 0&&(e=new h);var n=v(r)-a.TAU;return e.x=Math.cos(n),e.y=Math.sin(n),e};o.exports=s},13151:(o,g,t)=>{var a=t(2141),v=function(h,s,r){return r===void 0&&(r=new a),r.x=h.x1+(h.x2-h.x1)*s,r.y=h.y1+(h.y2-h.y1)*s,r};o.exports=v},15258:(o,g,t)=>{var a=t(35001),v=t(2141),h=function(s,r,e,n){n===void 0&&(n=[]),!r&&e>0&&(r=a(s)/e);for(var l=s.x1,i=s.y1,u=s.x2,f=s.y2,c=0;c<r;c++){var d=c/r,p=l+(u-l)*d,m=i+(f-i)*d;n.push(new v(p,m))}return n};o.exports=h},26408:o=>{var g=function(t,a){var v=t.x1,h=t.y1,s=t.x2,r=t.y2,e=(s-v)*(s-v)+(r-h)*(r-h);if(e===0)return!1;var n=((h-a.y)*(s-v)-(v-a.x)*(r-h))/e;return Math.abs(n)*Math.sqrt(e)};o.exports=g},98770:o=>{var g=function(t){return Math.abs(t.y1-t.y2)};o.exports=g},35001:o=>{var g=function(t){return Math.sqrt((t.x2-t.x1)*(t.x2-t.x1)+(t.y2-t.y1)*(t.y2-t.y1))};o.exports=g},23031:(o,g,t)=>{var a=t(83419),v=t(13151),h=t(15258),s=t(23777),r=t(65822),e=t(26099),n=new a({initialize:function(i,u,f,c){i===void 0&&(i=0),u===void 0&&(u=0),f===void 0&&(f=0),c===void 0&&(c=0),this.type=s.LINE,this.x1=i,this.y1=u,this.x2=f,this.y2=c},getPoint:function(l,i){return v(this,l,i)},getPoints:function(l,i,u){return h(this,l,i,u)},getRandomPoint:function(l){return r(this,l)},setTo:function(l,i,u,f){return l===void 0&&(l=0),i===void 0&&(i=0),u===void 0&&(u=0),f===void 0&&(f=0),this.x1=l,this.y1=i,this.x2=u,this.y2=f,this},setFromObjects:function(l,i){return this.x1=l.x,this.y1=l.y,this.x2=i.x,this.y2=i.y,this},getPointA:function(l){return l===void 0&&(l=new e),l.set(this.x1,this.y1),l},getPointB:function(l){return l===void 0&&(l=new e),l.set(this.x2,this.y2),l},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(l){this.x1<=this.x2?this.x1=l:this.x2=l}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(l){this.x1>this.x2?this.x1=l:this.x2=l}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(l){this.y1<=this.y2?this.y1=l:this.y2=l}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(l){this.y1>this.y2?this.y1=l:this.y2=l}}});o.exports=n},64795:(o,g,t)=>{var a=t(36383),v=t(15994),h=t(91938),s=function(r){var e=h(r)-a.TAU;return v(e,-Math.PI,Math.PI)};o.exports=s},52616:(o,g,t)=>{var a=t(36383),v=t(91938),h=function(s){return Math.cos(v(s)-a.TAU)};o.exports=h},87231:(o,g,t)=>{var a=t(36383),v=t(91938),h=function(s){return Math.sin(v(s)-a.TAU)};o.exports=h},89662:o=>{var g=function(t,a,v){return t.x1+=a,t.y1+=v,t.x2+=a,t.y2+=v,t};o.exports=g},71165:o=>{var g=function(t){return-((t.x2-t.x1)/(t.y2-t.y1))};o.exports=g},65822:(o,g,t)=>{var a=t(2141),v=function(h,s){s===void 0&&(s=new a);var r=Math.random();return s.x=h.x1+r*(h.x2-h.x1),s.y=h.y1+r*(h.y2-h.y1),s};o.exports=v},69777:(o,g,t)=>{var a=t(91938),v=t(64795),h=function(s,r){return 2*v(r)-Math.PI-a(s)};o.exports=h},39706:(o,g,t)=>{var a=t(64400),v=function(h,s){var r=(h.x1+h.x2)/2,e=(h.y1+h.y2)/2;return a(h,r,e,s)};o.exports=v},82585:(o,g,t)=>{var a=t(64400),v=function(h,s,r){return a(h,s.x,s.y,r)};o.exports=v},64400:o=>{var g=function(t,a,v,h){var s=Math.cos(h),r=Math.sin(h),e=t.x1-a,n=t.y1-v;return t.x1=e*s-n*r+a,t.y1=e*r+n*s+v,e=t.x2-a,n=t.y2-v,t.x2=e*s-n*r+a,t.y2=e*r+n*s+v,t};o.exports=g},62377:o=>{var g=function(t,a,v,h,s){return t.x1=a,t.y1=v,t.x2=a+Math.cos(h)*s,t.y2=v+Math.sin(h)*s,t};o.exports=g},71366:o=>{var g=function(t){return(t.y2-t.y1)/(t.x2-t.x1)};o.exports=g},10809:o=>{var g=function(t){return Math.abs(t.x1-t.x2)};o.exports=g},2529:(o,g,t)=>{var a=t(23031);a.Angle=t(91938),a.BresenhamPoints=t(84993),a.CenterOn=t(36469),a.Clone=t(31116),a.CopyFrom=t(59944),a.Equals=t(59220),a.Extend=t(78177),a.GetEasedPoints=t(26708),a.GetMidPoint=t(32125),a.GetNearestPoint=t(99569),a.GetNormal=t(34638),a.GetPoint=t(13151),a.GetPoints=t(15258),a.GetShortestDistance=t(26408),a.Height=t(98770),a.Length=t(35001),a.NormalAngle=t(64795),a.NormalX=t(52616),a.NormalY=t(87231),a.Offset=t(89662),a.PerpSlope=t(71165),a.Random=t(65822),a.ReflectAngle=t(69777),a.Rotate=t(39706),a.RotateAroundPoint=t(82585),a.RotateAroundXY=t(64400),a.SetToAngle=t(62377),a.Slope=t(71366),a.Width=t(10809),o.exports=a},83997:(o,g,t)=>{var a=t(83419),v=t(87841),h=t(26099);function s(e,n,l,i){var u=e-l,f=n-i,c=u*u+f*f;return Math.sqrt(c)}var r=new a({initialize:function(n,l,i){this.vertex1=n,this.vertex2=l,this.vertex3=i,this.bounds=new v,this._inCenter=new h},getInCenter:function(e){e===void 0&&(e=!0);var n=this.vertex1,l=this.vertex2,i=this.vertex3,u,f,c,d,p,m;e?(u=n.x,f=n.y,c=l.x,d=l.y,p=i.x,m=i.y):(u=n.vx,f=n.vy,c=l.vx,d=l.vy,p=i.vx,m=i.vy);var y=s(p,m,c,d),x=s(u,f,p,m),C=s(c,d,u,f),E=y+x+C;return this._inCenter.set((u*y+c*x+p*C)/E,(f*y+d*x+m*C)/E)},contains:function(e,n,l){var i=this.vertex1,u=this.vertex2,f=this.vertex3,c=i.vx,d=i.vy,p=u.vx,m=u.vy,y=f.vx,x=f.vy;if(l){var C=l.a,E=l.b,R=l.c,M=l.d,w=l.e,D=l.f;c=i.vx*C+i.vy*R+w,d=i.vx*E+i.vy*M+D,p=u.vx*C+u.vy*R+w,m=u.vx*E+u.vy*M+D,y=f.vx*C+f.vy*R+w,x=f.vx*E+f.vy*M+D}var F=y-c,I=x-d,L=p-c,B=m-d,G=e-c,V=n-d,X=F*F+I*I,b=F*L+I*B,U=F*G+I*V,O=L*L+B*B,z=L*G+B*V,N=X*O-b*b,Y=N===0?0:1/N,W=(O*U-b*z)*Y,H=(X*z-b*U)*Y;return W>=0&&H>=0&&W+H<1},isCounterClockwise:function(e){var n=this.vertex1,l=this.vertex2,i=this.vertex3,u=(l.vx-n.vx)*(i.vy-n.vy)-(l.vy-n.vy)*(i.vx-n.vx);return e<=0?u>=0:u<0},load:function(e,n,l,i,u){return l=this.vertex1.load(e,n,l,i,u),l=this.vertex2.load(e,n,l,i,u),l=this.vertex3.load(e,n,l,i,u),l},transformCoordinatesLocal:function(e,n,l,i){return this.vertex1.transformCoordinatesLocal(e,n,l,i),this.vertex2.transformCoordinatesLocal(e,n,l,i),this.vertex3.transformCoordinatesLocal(e,n,l,i),this},updateBounds:function(){var e=this.vertex1,n=this.vertex2,l=this.vertex3,i=this.bounds;return i.x=Math.min(e.vx,n.vx,l.vx),i.y=Math.min(e.vy,n.vy,l.vy),i.width=Math.max(e.vx,n.vx,l.vx)-i.x,i.height=Math.max(e.vy,n.vy,l.vy)-i.y,this},isInView:function(e,n,l,i,u,f,c,d,p,m,y){this.update(i,u,f,c,d,p,m,y);var x=this.vertex1,C=this.vertex2,E=this.vertex3;if(x.ta<=0&&C.ta<=0&&E.ta<=0||n&&!this.isCounterClockwise(l))return!1;var R=this.bounds;R.x=Math.min(x.tx,C.tx,E.tx),R.y=Math.min(x.ty,C.ty,E.ty),R.width=Math.max(x.tx,C.tx,E.tx)-R.x,R.height=Math.max(x.ty,C.ty,E.ty)-R.y;var M=e.x+e.width,w=e.y+e.height;return R.width<=0||R.height<=0||e.width<=0||e.height<=0?!1:!(R.right<e.x||R.bottom<e.y||R.x>M||R.y>w)},scrollUV:function(e,n){return this.vertex1.scrollUV(e,n),this.vertex2.scrollUV(e,n),this.vertex3.scrollUV(e,n),this},scaleUV:function(e,n){return this.vertex1.scaleUV(e,n),this.vertex2.scaleUV(e,n),this.vertex3.scaleUV(e,n),this},setColor:function(e){return this.vertex1.color=e,this.vertex2.color=e,this.vertex3.color=e,this},update:function(e,n,l,i,u,f,c,d){return this.vertex1.update(n,l,i,u,f,c,d,e),this.vertex2.update(n,l,i,u,f,c,d,e),this.vertex3.update(n,l,i,u,f,c,d,e),this},translate:function(e,n){n===void 0&&(n=0);var l=this.vertex1,i=this.vertex2,u=this.vertex3;return l.x+=e,l.y+=n,i.x+=e,i.y+=n,u.x+=e,u.y+=n,this},x:{get:function(){return this.getInCenter().x},set:function(e){var n=this.getInCenter();this.translate(e-n.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(e){var n=this.getInCenter();this.translate(0,e-n.y)}},alpha:{get:function(){var e=this.vertex1,n=this.vertex2,l=this.vertex3;return(e.alpha+n.alpha+l.alpha)/3},set:function(e){this.vertex1.alpha=e,this.vertex2.alpha=e,this.vertex3.alpha=e}},depth:{get:function(){var e=this.vertex1,n=this.vertex2,l=this.vertex3;return(e.vz+n.vz+l.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});o.exports=r},48803:(o,g,t)=>{var a=t(83997),v=t(95540),h=t(37867),s=t(25836),r=t(39318),e=new s,n=new s,l=new h,i=function(u){var f=v(u,"mesh"),c=v(u,"texture",null),d=v(u,"frame"),p=v(u,"width",1),m=v(u,"height",p),y=v(u,"widthSegments",1),x=v(u,"heightSegments",y),C=v(u,"x",0),E=v(u,"y",0),R=v(u,"z",0),M=v(u,"rotateX",0),w=v(u,"rotateY",0),D=v(u,"rotateZ",0),F=v(u,"zIsUp",!0),I=v(u,"isOrtho",f?f.dirtyCache[11]:!1),L=v(u,"colors",[16777215]),B=v(u,"alphas",[1]),G=v(u,"tile",!1),V=v(u,"flipY",!1),X=v(u,"width",null),b={faces:[],verts:[]};e.set(C,E,R),n.set(M,w,D),l.fromRotationXYTranslation(n,e,F);var U;if(!c&&f)c=f.texture,d||(U=f.frame);else if(f&&typeof c=="string")c=f.scene.sys.textures.get(c);else if(!c)return b;U||(U=c.get(d)),!X&&I&&c&&f&&(p=U.width/f.height,m=U.height/f.height);var O=p/2,z=m/2,N=Math.floor(y),Y=Math.floor(x),W=N+1,H=Y+1,$=p/N,j=m/Y,Z=[],J=[],K,Q,_=0,k=1,nt=0,st=1;U&&(_=U.u0,k=U.u1,V?(nt=U.v1,st=U.v0):(nt=U.v0,st=U.v1));var at=k-_,q=st-nt;for(Q=0;Q<H;Q++){var et=Q*j-z;for(K=0;K<W;K++){var it=K*$-O;J.push(it,-et);var lt=_+at*(K/N),gt=nt+q*(Q/Y);Z.push(lt,gt)}}Array.isArray(L)||(L=[L]),Array.isArray(B)||(B=[B]);var wt=0,ct=0;for(Q=0;Q<Y;Q++)for(K=0;K<N;K++){var pt=(K+W*Q)*2,Ft=(K+W*(Q+1))*2,jt=(K+1+W*(Q+1))*2,Et=(K+1+W*Q)*2,Lt=L[ct],bt=B[wt],te=new r(J[pt],J[pt+1],0,Z[pt],Z[pt+1],Lt,bt).transformMat4(l),Ri=new r(J[Ft],J[Ft+1],0,Z[Ft],Z[Ft+1],Lt,bt).transformMat4(l),Pi=new r(J[Et],J[Et+1],0,Z[Et],Z[Et+1],Lt,bt).transformMat4(l),Mi=new r(J[Ft],J[Ft+1],0,Z[Ft],Z[Ft+1],Lt,bt).transformMat4(l),Di=new r(J[jt],J[jt+1],0,Z[jt],Z[jt+1],Lt,bt).transformMat4(l),wi=new r(J[Et],J[Et+1],0,Z[Et],Z[Et+1],Lt,bt).transformMat4(l);G&&(te.setUVs(_,st),Ri.setUVs(_,nt),Pi.setUVs(k,st),Mi.setUVs(_,nt),Di.setUVs(k,nt),wi.setUVs(k,st)),ct++,ct===L.length&&(ct=0),wt++,wt===B.length&&(wt=0),b.verts.push(te,Ri,Pi,Mi,Di,wi),b.faces.push(new a(te,Ri,Pi),new a(Mi,Di,wi))}return f&&(f.faces=f.faces.concat(b.faces),f.vertices=f.vertices.concat(b.verts)),b};o.exports=i},34684:(o,g,t)=>{var a=t(83997),v=t(37867),h=t(25836),s=t(39318),r=new h,e=new h,n=new v,l=function(i,u,f,c,d,p,m,y,x,C){f===void 0&&(f=1),c===void 0&&(c=0),d===void 0&&(d=0),p===void 0&&(p=0),m===void 0&&(m=0),y===void 0&&(y=0),x===void 0&&(x=0),C===void 0&&(C=!0);var E={faces:[],verts:[]},R=i.materials;r.set(c,d,p),e.set(m,y,x),n.fromRotationXYTranslation(e,r,C);for(var M=0;M<i.models.length;M++)for(var w=i.models[M],D=w.vertices,F=w.textureCoords,I=w.faces,L=0;L<I.length;L++){var B=I[L],G=B.vertices[0],V=B.vertices[1],X=B.vertices[2],b=D[G.vertexIndex],U=D[V.vertexIndex],O=D[X.vertexIndex],z=G.textureCoordsIndex,N=V.textureCoordsIndex,Y=X.textureCoordsIndex,W=z===-1?{u:0,v:1}:F[z],H=N===-1?{u:0,v:0}:F[N],$=Y===-1?{u:1,v:1}:F[Y],j=16777215;B.material!==""&&R[B.material]&&(j=R[B.material]);var Z=new s(b.x*f,b.y*f,b.z*f,W.u,W.v,j).transformMat4(n),J=new s(U.x*f,U.y*f,U.z*f,H.u,H.v,j).transformMat4(n),K=new s(O.x*f,O.y*f,O.z*f,$.u,$.v,j).transformMat4(n);E.verts.push(Z,J,K),E.faces.push(new a(Z,J,K))}return u&&(u.faces=u.faces.concat(E.faces),u.vertices=u.vertices.concat(E.verts)),E};o.exports=l},92515:(o,g,t)=>{var a=t(83997),v=t(39318),h=function(s,r,e,n,l,i,u,f){if(n===void 0&&(n=!1),i===void 0&&(i=16777215),u===void 0&&(u=1),f===void 0&&(f=!1),s.length!==r.length&&!n){console.warn("GenerateVerts: vertices and uvs count not equal");return}var c={faces:[],vertices:[]},d,p,m,y,x,C,E,R,M,w,D,F=n?3:2,I=Array.isArray(i),L=Array.isArray(u);if(Array.isArray(e)&&e.length>0)for(d=0;d<e.length;d++){var B=e[d],G=e[d]*2,V=e[d]*F;p=s[V],m=s[V+1],y=n?s[V+2]:0,x=r[G],C=r[G+1],f&&(C=1-C),E=I?i[B]:i,R=L?u[B]:u,M=0,w=0,D=0,l&&(M=l[V],w=l[V+1],D=n?l[V+2]:0),c.vertices.push(new v(p,m,y,x,C,E,R,M,w,D))}else{var X=0,b=0;for(d=0;d<s.length;d+=F)p=s[d],m=s[d+1],y=n?s[d+2]:0,x=r[X],C=r[X+1],E=I?i[b]:i,R=L?u[b]:u,M=0,w=0,D=0,l&&(M=l[d],w=l[d+1],D=n?l[d+2]:0),c.vertices.push(new v(p,m,y,x,C,E,R,M,w,D)),X+=2,b++}for(d=0;d<c.vertices.length;d+=3){var U=c.vertices[d],O=c.vertices[d+1],z=c.vertices[d+2];c.faces.push(new a(U,O,z))}return c};o.exports=h},85048:o=>{var g=!0,t="untitled",a="",v="";function h(p){var m=p.indexOf("#");return m>-1?p.substring(0,m):p}function s(p){return p.models.length===0&&p.models.push({faces:[],name:t,textureCoords:[],vertexNormals:[],vertices:[]}),a="",p.models[p.models.length-1]}function r(p,m){var y=p.length>=2?p[1]:t;m.models.push({faces:[],name:y,textureCoords:[],vertexNormals:[],vertices:[]}),a=""}function e(p){p.length===2&&(a=p[1])}function n(p,m){var y=p.length,x=y>=2?parseFloat(p[1]):0,C=y>=3?parseFloat(p[2]):0,E=y>=4?parseFloat(p[3]):0;s(m).vertices.push({x,y:C,z:E})}function l(p,m){var y=p.length,x=y>=2?parseFloat(p[1]):0,C=y>=3?parseFloat(p[2]):0,E=y>=4?parseFloat(p[3]):0;isNaN(x)&&(x=0),isNaN(C)&&(C=0),isNaN(E)&&(E=0),g&&(C=1-C),s(m).textureCoords.push({u:x,v:C,w:E})}function i(p,m){var y=p.length,x=y>=2?parseFloat(p[1]):0,C=y>=3?parseFloat(p[2]):0,E=y>=4?parseFloat(p[3]):0;s(m).vertexNormals.push({x,y:C,z:E})}function u(p,m){var y=p.length-1;if(!(y<3)){for(var x={group:a,material:v,vertices:[]},C=0;C<y;C++){var E=p[C+1],R=E.split("/"),M=R.length;if(!(M<1||M>3)){var w=0,D=0,F=0;w=parseInt(R[0],10),M>1&&R[1]!==""&&(D=parseInt(R[1],10)),M>2&&(F=parseInt(R[2],10)),w!==0&&(w<0&&(w=s(m).vertices.length+1+w),D-=1,w-=1,F-=1,x.vertices.push({textureCoordsIndex:D,vertexIndex:w,vertexNormalIndex:F}))}}s(m).faces.push(x)}}function f(p,m){p.length>=2&&m.materialLibraries.push(p[1])}function c(p){p.length>=2&&(v=p[1])}var d=function(p,m){m===void 0&&(m=!0),g=m;var y={materials:{},materialLibraries:[],models:[]};a="",v="";for(var x=p.split(`
`),C=0;C<x.length;C++){var E=h(x[C]),R=E.replace(/\s\s+/g," ").trim().split(" ");switch(R[0].toLowerCase()){case"o":r(R,y);break;case"g":e(R);break;case"v":n(R,y);break;case"vt":l(R,y);break;case"vn":i(R,y);break;case"f":u(R,y);break;case"mtllib":f(R,y);break;case"usemtl":c(R);break}}return y};o.exports=d},61485:(o,g,t)=>{var a=t(37589),v=function(h){for(var s={},r=h.split(`
`),e="",n=0;n<r.length;n++){var l=r[n].trim();if(!(l.indexOf("#")===0||l==="")){var i=l.replace(/\s\s+/g," ").trim().split(" ");switch(i[0].toLowerCase()){case"newmtl":{e=i[1];break}case"kd":{var u=Math.floor(i[1]*255),f=i.length>=2?Math.floor(i[2]*255):u,c=i.length>=3?Math.floor(i[3]*255):u;s[e]=a(u,f,c);break}}}}return s};o.exports=v},92570:o=>{var g=function(t,a,v,h){var s,r;if(v===void 0&&h===void 0){var e=t.getInCenter();s=e.x,r=e.y}var n=Math.cos(a),l=Math.sin(a),i=t.vertex1,u=t.vertex2,f=t.vertex3,c=i.x-s,d=i.y-r;i.set(c*n-d*l+s,c*l+d*n+r),c=u.x-s,d=u.y-r,u.set(c*n-d*l+s,c*l+d*n+r),c=f.x-s,d=f.y-r,f.set(c*n-d*l+s,c*l+d*n+r)};o.exports=g},39318:(o,g,t)=>{var a=t(83419),v=t(70554),h=t(25836),s=new a({Extends:h,initialize:function(e,n,l,i,u,f,c,d,p,m){f===void 0&&(f=16777215),c===void 0&&(c=1),d===void 0&&(d=0),p===void 0&&(p=0),m===void 0&&(m=0),h.call(this,e,n,l),this.vx=0,this.vy=0,this.vz=0,this.nx=d,this.ny=p,this.nz=m,this.u=i,this.v=u,this.color=f,this.alpha=c,this.tx=0,this.ty=0,this.ta=0,this.tu=i,this.tv=u},setUVs:function(r,e){return this.u=r,this.v=e,this.tu=r,this.tv=e,this},scrollUV:function(r,e){return this.tu+=r,this.tv+=e,this},scaleUV:function(r,e){return this.tu=this.u*r,this.tv=this.v*e,this},transformCoordinatesLocal:function(r,e,n,l){var i=this.x,u=this.y,f=this.z,c=r.val,d=i*c[0]+u*c[4]+f*c[8]+c[12],p=i*c[1]+u*c[5]+f*c[9]+c[13],m=i*c[2]+u*c[6]+f*c[10]+c[14],y=i*c[3]+u*c[7]+f*c[11]+c[15];this.vx=d/y*e,this.vy=-(p/y)*n,l<=0?this.vz=m/y:this.vz=-(m/y)},resize:function(r,e,n,l,i,u){return this.x=r,this.y=e,this.vx=this.x*n,this.vy=-this.y*l,this.vz=0,i<.5?this.vx+=n*(.5-i):i>.5&&(this.vx-=n*(i-.5)),u<.5?this.vy+=l*(.5-u):u>.5&&(this.vy-=l*(u-.5)),this},update:function(r,e,n,l,i,u,f,c){var d=this.vx*r+this.vy*n+i,p=this.vx*e+this.vy*l+u;return f&&(d=Math.round(d),p=Math.round(p)),this.tx=d,this.ty=p,this.ta=this.alpha*c,this},load:function(r,e,n,l,i){return r[++n]=this.tx,r[++n]=this.ty,r[++n]=this.tu,r[++n]=this.tv,r[++n]=l,r[++n]=i,e[++n]=v.getTintAppendFloatAlpha(this.color,this.ta),n}});o.exports=s},73090:(o,g,t)=>{var a={Face:t(83997),GenerateGridVerts:t(48803),GenerateObjVerts:t(34684),GenerateVerts:t(92515),ParseObj:t(85048),ParseObjMaterial:t(61485),RotateFace:t(92570),Vertex:t(39318)};o.exports=a},96550:o=>{var g=function(t){return t.setTo(Math.ceil(t.x),Math.ceil(t.y))};o.exports=g},99706:(o,g,t)=>{var a=t(2141),v=function(h){return new a(h.x,h.y)};o.exports=v},68010:o=>{var g=function(t,a){return a.setTo(t.x,t.y)};o.exports=g},27814:o=>{var g=function(t,a){return t.x===a.x&&t.y===a.y};o.exports=g},73565:o=>{var g=function(t){return t.setTo(Math.floor(t.x),Math.floor(t.y))};o.exports=g},87555:(o,g,t)=>{var a=t(2141),v=function(h,s){if(s===void 0&&(s=new a),!Array.isArray(h))throw new Error("GetCentroid points argument must be an array");var r=h.length;if(r<1)throw new Error("GetCentroid points array must not be empty");if(r===1)s.x=h[0].x,s.y=h[0].y;else{for(var e=0;e<r;e++)s.x+=h[e].x,s.y+=h[e].y;s.x/=r,s.y/=r}return s};o.exports=v},28793:o=>{var g=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)};o.exports=g},44405:o=>{var g=function(t){return t.x*t.x+t.y*t.y};o.exports=g},20873:(o,g,t)=>{var a=t(87841),v=function(h,s){s===void 0&&(s=new a);for(var r=Number.NEGATIVE_INFINITY,e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY,i=0;i<h.length;i++){var u=h[i];u.x>r&&(r=u.x),u.x<e&&(e=u.x),u.y>n&&(n=u.y),u.y<l&&(l=u.y)}return s.x=e,s.y=l,s.width=r-e,s.height=n-l,s};o.exports=v},26152:(o,g,t)=>{var a=t(2141),v=function(h,s,r,e){return r===void 0&&(r=0),e===void 0&&(e=new a),e.x=h.x+(s.x-h.x)*r,e.y=h.y+(s.y-h.y)*r,e};o.exports=v},55767:o=>{var g=function(t){return t.setTo(t.y,t.x)};o.exports=g},79432:(o,g,t)=>{var a=t(2141),v=function(h,s){return s===void 0&&(s=new a),s.setTo(-h.x,-h.y)};o.exports=v},2141:(o,g,t)=>{var a=t(83419),v=t(23777),h=new a({initialize:function(r,e){r===void 0&&(r=0),e===void 0&&(e=r),this.type=v.POINT,this.x=r,this.y=e},setTo:function(s,r){return s===void 0&&(s=0),r===void 0&&(r=s),this.x=s,this.y=r,this}});o.exports=h},72930:(o,g,t)=>{var a=t(2141),v=t(44405),h=function(s,r,e){e===void 0&&(e=new a);var n=s.x*r.x+s.y*r.y,l=n/v(r);return l!==0&&(e.x=l*r.x,e.y=l*r.y),e};o.exports=h},62880:(o,g,t)=>{var a=t(2141),v=function(h,s,r){r===void 0&&(r=new a);var e=h.x*s.x+h.y*s.y;return e!==0&&(r.x=e*s.x,r.y=e*s.y),r};o.exports=v},15093:(o,g,t)=>{var a=t(28793),v=function(h,s){if(h.x!==0||h.y!==0){var r=a(h);h.x/=r,h.y/=r}return h.x*=s,h.y*=s,h};o.exports=v},43711:(o,g,t)=>{var a=t(2141);a.Ceil=t(96550),a.Clone=t(99706),a.CopyFrom=t(68010),a.Equals=t(27814),a.Floor=t(73565),a.GetCentroid=t(87555),a.GetMagnitude=t(28793),a.GetMagnitudeSq=t(44405),a.GetRectangleFromPoints=t(20873),a.Interpolate=t(26152),a.Invert=t(55767),a.Negative=t(79432),a.Project=t(72930),a.ProjectUnit=t(62880),a.SetMagnitude=t(15093),o.exports=a},12306:(o,g,t)=>{var a=t(25717),v=function(h){return new a(h.points)};o.exports=v},63814:o=>{var g=function(t,a,v){for(var h=!1,s=-1,r=t.points.length-1;++s<t.points.length;r=s){var e=t.points[s].x,n=t.points[s].y,l=t.points[r].x,i=t.points[r].y;(n<=v&&v<i||i<=v&&v<n)&&a<(l-e)*(v-n)/(i-n)+e&&(h=!h)}return h};o.exports=g},99338:(o,g,t)=>{var a=t(63814),v=function(h,s){return a(h,s.x,s.y)};o.exports=v},94811:o=>{"use strict";function g(b,U,O){O=O||2;var z=U&&U.length,N=z?U[0]*O:b.length,Y=t(b,0,N,O,!0),W=[];if(!Y||Y.next===Y.prev)return W;var H,$,j,Z,J,K,Q;if(z&&(Y=n(b,U,Y,O)),b.length>80*O){H=j=b[0],$=Z=b[1];for(var _=O;_<N;_+=O)J=b[_],K=b[_+1],J<H&&(H=J),K<$&&($=K),J>j&&(j=J),K>Z&&(Z=K);Q=Math.max(j-H,Z-$),Q=Q!==0?32767/Q:0}return v(Y,W,O,H,$,Q,0),W}function t(b,U,O,z,N){var Y,W;if(N===X(b,U,O,z)>0)for(Y=U;Y<O;Y+=z)W=B(Y,b[Y],b[Y+1],W);else for(Y=O-z;Y>=U;Y-=z)W=B(Y,b[Y],b[Y+1],W);return W&&E(W,W.next)&&(G(W),W=W.next),W}function a(b,U){if(!b)return b;U||(U=b);var O=b,z;do if(z=!1,!O.steiner&&(E(O,O.next)||C(O.prev,O,O.next)===0)){if(G(O),O=U=O.prev,O===O.next)break;z=!0}else O=O.next;while(z||O!==U);return U}function v(b,U,O,z,N,Y,W){if(b){!W&&Y&&c(b,z,N,Y);for(var H=b,$,j;b.prev!==b.next;){if($=b.prev,j=b.next,Y?s(b,z,N,Y):h(b)){U.push($.i/O|0),U.push(b.i/O|0),U.push(j.i/O|0),G(b),b=j.next,H=j.next;continue}if(b=j,b===H){W?W===1?(b=r(a(b),U,O),v(b,U,O,z,N,Y,2)):W===2&&e(b,U,O,z,N,Y):v(a(b),U,O,z,N,Y,1);break}}}}function h(b){var U=b.prev,O=b,z=b.next;if(C(U,O,z)>=0)return!1;for(var N=U.x,Y=O.x,W=z.x,H=U.y,$=O.y,j=z.y,Z=N<Y?N<W?N:W:Y<W?Y:W,J=H<$?H<j?H:j:$<j?$:j,K=N>Y?N>W?N:W:Y>W?Y:W,Q=H>$?H>j?H:j:$>j?$:j,_=z.next;_!==U;){if(_.x>=Z&&_.x<=K&&_.y>=J&&_.y<=Q&&y(N,H,Y,$,W,j,_.x,_.y)&&C(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function s(b,U,O,z){var N=b.prev,Y=b,W=b.next;if(C(N,Y,W)>=0)return!1;for(var H=N.x,$=Y.x,j=W.x,Z=N.y,J=Y.y,K=W.y,Q=H<$?H<j?H:j:$<j?$:j,_=Z<J?Z<K?Z:K:J<K?J:K,k=H>$?H>j?H:j:$>j?$:j,nt=Z>J?Z>K?Z:K:J>K?J:K,st=p(Q,_,U,O,z),at=p(k,nt,U,O,z),q=b.prevZ,et=b.nextZ;q&&q.z>=st&&et&&et.z<=at;){if(q.x>=Q&&q.x<=k&&q.y>=_&&q.y<=nt&&q!==N&&q!==W&&y(H,Z,$,J,j,K,q.x,q.y)&&C(q.prev,q,q.next)>=0||(q=q.prevZ,et.x>=Q&&et.x<=k&&et.y>=_&&et.y<=nt&&et!==N&&et!==W&&y(H,Z,$,J,j,K,et.x,et.y)&&C(et.prev,et,et.next)>=0))return!1;et=et.nextZ}for(;q&&q.z>=st;){if(q.x>=Q&&q.x<=k&&q.y>=_&&q.y<=nt&&q!==N&&q!==W&&y(H,Z,$,J,j,K,q.x,q.y)&&C(q.prev,q,q.next)>=0)return!1;q=q.prevZ}for(;et&&et.z<=at;){if(et.x>=Q&&et.x<=k&&et.y>=_&&et.y<=nt&&et!==N&&et!==W&&y(H,Z,$,J,j,K,et.x,et.y)&&C(et.prev,et,et.next)>=0)return!1;et=et.nextZ}return!0}function r(b,U,O){var z=b;do{var N=z.prev,Y=z.next.next;!E(N,Y)&&R(N,z,z.next,Y)&&F(N,Y)&&F(Y,N)&&(U.push(N.i/O|0),U.push(z.i/O|0),U.push(Y.i/O|0),G(z),G(z.next),z=b=Y),z=z.next}while(z!==b);return a(z)}function e(b,U,O,z,N,Y){var W=b;do{for(var H=W.next.next;H!==W.prev;){if(W.i!==H.i&&x(W,H)){var $=L(W,H);W=a(W,W.next),$=a($,$.next),v(W,U,O,z,N,Y,0),v($,U,O,z,N,Y,0);return}H=H.next}W=W.next}while(W!==b)}function n(b,U,O,z){var N=[],Y,W,H,$,j;for(Y=0,W=U.length;Y<W;Y++)H=U[Y]*z,$=Y<W-1?U[Y+1]*z:b.length,j=t(b,H,$,z,!1),j===j.next&&(j.steiner=!0),N.push(m(j));for(N.sort(l),Y=0;Y<N.length;Y++)O=i(N[Y],O);return O}function l(b,U){return b.x-U.x}function i(b,U){var O=u(b,U);if(!O)return U;var z=L(O,b);return a(z,z.next),a(O,O.next)}function u(b,U){var O=U,z=b.x,N=b.y,Y=-1/0,W;do{if(N<=O.y&&N>=O.next.y&&O.next.y!==O.y){var H=O.x+(N-O.y)*(O.next.x-O.x)/(O.next.y-O.y);if(H<=z&&H>Y&&(Y=H,W=O.x<O.next.x?O:O.next,H===z))return W}O=O.next}while(O!==U);if(!W)return null;var $=W,j=W.x,Z=W.y,J=1/0,K;O=W;do z>=O.x&&O.x>=j&&z!==O.x&&y(N<Z?z:Y,N,j,Z,N<Z?Y:z,N,O.x,O.y)&&(K=Math.abs(N-O.y)/(z-O.x),F(O,b)&&(K<J||K===J&&(O.x>W.x||O.x===W.x&&f(W,O)))&&(W=O,J=K)),O=O.next;while(O!==$);return W}function f(b,U){return C(b.prev,b,U.prev)<0&&C(U.next,b,b.next)<0}function c(b,U,O,z){var N=b;do N.z===0&&(N.z=p(N.x,N.y,U,O,z)),N.prevZ=N.prev,N.nextZ=N.next,N=N.next;while(N!==b);N.prevZ.nextZ=null,N.prevZ=null,d(N)}function d(b){var U,O,z,N,Y,W,H,$,j=1;do{for(O=b,b=null,Y=null,W=0;O;){for(W++,z=O,H=0,U=0;U<j&&(H++,z=z.nextZ,!!z);U++);for($=j;H>0||$>0&&z;)H!==0&&($===0||!z||O.z<=z.z)?(N=O,O=O.nextZ,H--):(N=z,z=z.nextZ,$--),Y?Y.nextZ=N:b=N,N.prevZ=Y,Y=N;O=z}Y.nextZ=null,j*=2}while(W>1);return b}function p(b,U,O,z,N){return b=(b-O)*N|0,U=(U-z)*N|0,b=(b|b<<8)&16711935,b=(b|b<<4)&252645135,b=(b|b<<2)&858993459,b=(b|b<<1)&1431655765,U=(U|U<<8)&16711935,U=(U|U<<4)&252645135,U=(U|U<<2)&858993459,U=(U|U<<1)&1431655765,b|U<<1}function m(b){var U=b,O=b;do(U.x<O.x||U.x===O.x&&U.y<O.y)&&(O=U),U=U.next;while(U!==b);return O}function y(b,U,O,z,N,Y,W,H){return(N-W)*(U-H)>=(b-W)*(Y-H)&&(b-W)*(z-H)>=(O-W)*(U-H)&&(O-W)*(Y-H)>=(N-W)*(z-H)}function x(b,U){return b.next.i!==U.i&&b.prev.i!==U.i&&!D(b,U)&&(F(b,U)&&F(U,b)&&I(b,U)&&(C(b.prev,b,U.prev)||C(b,U.prev,U))||E(b,U)&&C(b.prev,b,b.next)>0&&C(U.prev,U,U.next)>0)}function C(b,U,O){return(U.y-b.y)*(O.x-U.x)-(U.x-b.x)*(O.y-U.y)}function E(b,U){return b.x===U.x&&b.y===U.y}function R(b,U,O,z){var N=w(C(b,U,O)),Y=w(C(b,U,z)),W=w(C(O,z,b)),H=w(C(O,z,U));return!!(N!==Y&&W!==H||N===0&&M(b,O,U)||Y===0&&M(b,z,U)||W===0&&M(O,b,z)||H===0&&M(O,U,z))}function M(b,U,O){return U.x<=Math.max(b.x,O.x)&&U.x>=Math.min(b.x,O.x)&&U.y<=Math.max(b.y,O.y)&&U.y>=Math.min(b.y,O.y)}function w(b){return b>0?1:b<0?-1:0}function D(b,U){var O=b;do{if(O.i!==b.i&&O.next.i!==b.i&&O.i!==U.i&&O.next.i!==U.i&&R(O,O.next,b,U))return!0;O=O.next}while(O!==b);return!1}function F(b,U){return C(b.prev,b,b.next)<0?C(b,U,b.next)>=0&&C(b,b.prev,U)>=0:C(b,U,b.prev)<0||C(b,b.next,U)<0}function I(b,U){var O=b,z=!1,N=(b.x+U.x)/2,Y=(b.y+U.y)/2;do O.y>Y!=O.next.y>Y&&O.next.y!==O.y&&N<(O.next.x-O.x)*(Y-O.y)/(O.next.y-O.y)+O.x&&(z=!z),O=O.next;while(O!==b);return z}function L(b,U){var O=new V(b.i,b.x,b.y),z=new V(U.i,U.x,U.y),N=b.next,Y=U.prev;return b.next=U,U.prev=b,O.next=N,N.prev=O,z.next=O,O.prev=z,Y.next=z,z.prev=Y,z}function B(b,U,O,z){var N=new V(b,U,O);return z?(N.next=z.next,N.prev=z,z.next.prev=N,z.next=N):(N.prev=N,N.next=N),N}function G(b){b.next.prev=b.prev,b.prev.next=b.next,b.prevZ&&(b.prevZ.nextZ=b.nextZ),b.nextZ&&(b.nextZ.prevZ=b.prevZ)}function V(b,U,O){this.i=b,this.x=U,this.y=O,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}g.deviation=function(b,U,O,z){var N=U&&U.length,Y=N?U[0]*O:b.length,W=Math.abs(X(b,0,Y,O));if(N)for(var H=0,$=U.length;H<$;H++){var j=U[H]*O,Z=H<$-1?U[H+1]*O:b.length;W-=Math.abs(X(b,j,Z,O))}var J=0;for(H=0;H<z.length;H+=3){var K=z[H]*O,Q=z[H+1]*O,_=z[H+2]*O;J+=Math.abs((b[K]-b[_])*(b[Q+1]-b[K+1])-(b[K]-b[Q])*(b[_+1]-b[K+1]))}return W===0&&J===0?0:Math.abs((J-W)/W)};function X(b,U,O,z){for(var N=0,Y=U,W=O-z;Y<O;Y+=z)N+=(b[W]-b[Y])*(b[Y+1]+b[W+1]),W=Y;return N}g.flatten=function(b){for(var U=b[0][0].length,O={vertices:[],holes:[],dimensions:U},z=0,N=0;N<b.length;N++){for(var Y=0;Y<b[N].length;Y++)for(var W=0;W<U;W++)O.vertices.push(b[N][Y][W]);N>0&&(z+=b[N-1].length,O.holes.push(z))}return O},o.exports=g},13829:(o,g,t)=>{var a=t(87841),v=function(h,s){s===void 0&&(s=new a);for(var r=1/0,e=1/0,n=-r,l=-e,i,u=0;u<h.points.length;u++)i=h.points[u],r=Math.min(r,i.x),e=Math.min(e,i.y),n=Math.max(n,i.x),l=Math.max(l,i.y);return s.x=r,s.y=e,s.width=n-r,s.height=l-e,s};o.exports=v},26173:o=>{var g=function(t,a){a===void 0&&(a=[]);for(var v=0;v<t.points.length;v++)a.push(t.points[v].x),a.push(t.points[v].y);return a};o.exports=g},9564:(o,g,t)=>{var a=t(35001),v=t(23031),h=t(30052),s=function(r,e,n,l){l===void 0&&(l=[]);var i=r.points,u=h(r);!e&&n>0&&(e=u/n);for(var f=0;f<e;f++)for(var c=u*(f/e),d=0,p=0;p<i.length;p++){var m=i[p],y=i[(p+1)%i.length],x=new v(m.x,m.y,y.x,y.y),C=a(x);if(c<d||c>d+C){d+=C;continue}var E=x.getPoint((c-d)/C);l.push(E);break}return l};o.exports=s},30052:(o,g,t)=>{var a=t(35001),v=t(23031),h=function(s){for(var r=s.points,e=0,n=0;n<r.length;n++){var l=r[n],i=r[(n+1)%r.length],u=new v(l.x,l.y,i.x,i.y);e+=a(u)}return e};o.exports=h},25717:(o,g,t)=>{var a=t(83419),v=t(63814),h=t(9564),s=t(23777),r=new a({initialize:function(n){this.type=s.POLYGON,this.area=0,this.points=[],n&&this.setTo(n)},contains:function(e,n){return v(this,e,n)},setTo:function(e){if(this.area=0,this.points=[],typeof e=="string"&&(e=e.split(" ")),!Array.isArray(e))return this;for(var n,l=0;l<e.length;l++)n={x:0,y:0},typeof e[l]=="number"||typeof e[l]=="string"?(n.x=parseFloat(e[l]),n.y=parseFloat(e[l+1]),l++):Array.isArray(e[l])?(n.x=e[l][0],n.y=e[l][1]):(n.x=e[l].x,n.y=e[l].y),this.points.push(n);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var e=0,n,l,i=0;i<this.points.length-1;i++)n=this.points[i],l=this.points[i+1],e+=(l.x-n.x)*(n.y+l.y);return n=this.points[0],l=this.points[this.points.length-1],e+=(n.x-l.x)*(l.y+n.y),this.area=-e*.5,this.area},getPoints:function(e,n,l){return h(this,e,n,l)}});o.exports=r},8133:o=>{var g=function(t){return t.points.reverse(),t};o.exports=g},29524:o=>{function g(r,e){var n=r.x-e.x,l=r.y-e.y;return n*n+l*l}function t(r,e,n){var l=e.x,i=e.y,u=n.x-l,f=n.y-i;if(u!==0||f!==0){var c=((r.x-l)*u+(r.y-i)*f)/(u*u+f*f);c>1?(l=n.x,i=n.y):c>0&&(l+=u*c,i+=f*c)}return u=r.x-l,f=r.y-i,u*u+f*f}function a(r,e){for(var n=r[0],l=[n],i,u=1,f=r.length;u<f;u++)i=r[u],g(i,n)>e&&(l.push(i),n=i);return n!==i&&l.push(i),l}function v(r,e,n,l,i){for(var u=l,f,c=e+1;c<n;c++){var d=t(r[c],r[e],r[n]);d>u&&(f=c,u=d)}u>l&&(f-e>1&&v(r,e,f,l,i),i.push(r[f]),n-f>1&&v(r,f,n,l,i))}function h(r,e){var n=r.length-1,l=[r[0]];return v(r,0,n,e,l),l.push(r[n]),l}var s=function(r,e,n){e===void 0&&(e=1),n===void 0&&(n=!1);var l=r.points;if(l.length>2){var i=e*e;n||(l=a(l,i)),r.setTo(h(l,i))}return r};o.exports=s},5469:o=>{var g=function(a,v){return a[0]=v[0],a[1]=v[1],a},t=function(a){var v,h=[],s=a.points;for(v=0;v<s.length;v++)h.push([s[v].x,s[v].y]);var r=[];for(h.length>0&&r.push(g([0,0],h[0])),v=0;v<h.length-1;v++){var e=h[v],n=h[v+1],l=e[0],i=e[1],u=n[0],f=n[1];r.push([.85*l+.15*u,.85*i+.15*f]),r.push([.15*l+.85*u,.15*i+.85*f])}return h.length>1&&r.push(g([0,0],h[h.length-1])),a.setTo(r)};o.exports=t},24709:o=>{var g=function(t,a,v){for(var h=t.points,s=0;s<h.length;s++)h[s].x+=a,h[s].y+=v;return t};o.exports=g},58423:(o,g,t)=>{var a=t(25717);a.Clone=t(12306),a.Contains=t(63814),a.ContainsPoint=t(99338),a.Earcut=t(94811),a.GetAABB=t(13829),a.GetNumberArray=t(26173),a.GetPoints=t(9564),a.Perimeter=t(30052),a.Reverse=t(8133),a.Simplify=t(29524),a.Smooth=t(5469),a.Translate=t(24709),o.exports=a},62224:o=>{var g=function(t){return t.width*t.height};o.exports=g},98615:o=>{var g=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t};o.exports=g},31688:o=>{var g=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t.width=Math.ceil(t.width),t.height=Math.ceil(t.height),t};o.exports=g},67502:o=>{var g=function(t,a,v){return t.x=a-t.width/2,t.y=v-t.height/2,t};o.exports=g},65085:(o,g,t)=>{var a=t(87841),v=function(h){return new a(h.x,h.y,h.width,h.height)};o.exports=v},37303:o=>{var g=function(t,a,v){return t.width<=0||t.height<=0?!1:t.x<=a&&t.x+t.width>=a&&t.y<=v&&t.y+t.height>=v};o.exports=g},96553:(o,g,t)=>{var a=t(37303),v=function(h,s){return a(h,s.x,s.y)};o.exports=v},70273:o=>{var g=function(t,a){return a.width*a.height>t.width*t.height?!1:a.x>t.x&&a.x<t.right&&a.right>t.x&&a.right<t.right&&a.y>t.y&&a.y<t.bottom&&a.bottom>t.y&&a.bottom<t.bottom};o.exports=g},43459:o=>{var g=function(t,a){return a.setTo(t.x,t.y,t.width,t.height)};o.exports=g},77493:o=>{var g=function(t,a){return a===void 0&&(a=[]),a.push({x:t.x,y:t.y}),a.push({x:t.right,y:t.y}),a.push({x:t.right,y:t.bottom}),a.push({x:t.x,y:t.bottom}),a};o.exports=g},9219:o=>{var g=function(t,a){return t.x===a.x&&t.y===a.y&&t.width===a.width&&t.height===a.height};o.exports=g},53751:(o,g,t)=>{var a=t(8249),v=function(h,s){var r=a(h);return r<a(s)?h.setSize(s.height*r,s.height):h.setSize(s.width,s.width/r),h.setPosition(s.centerX-h.width/2,s.centerY-h.height/2)};o.exports=v},16088:(o,g,t)=>{var a=t(8249),v=function(h,s){var r=a(h);return r>a(s)?h.setSize(s.height*r,s.height):h.setSize(s.width,s.width/r),h.setPosition(s.centerX-h.width/2,s.centerY-h.height/2)};o.exports=v},80774:o=>{var g=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t};o.exports=g},83859:o=>{var g=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t.width=Math.floor(t.width),t.height=Math.floor(t.height),t};o.exports=g},19217:(o,g,t)=>{var a=t(87841),v=t(36383),h=function(s,r){if(r===void 0&&(r=new a),s.length===0)return r;for(var e=Number.MAX_VALUE,n=Number.MAX_VALUE,l=v.MIN_SAFE_INTEGER,i=v.MIN_SAFE_INTEGER,u,f,c,d=0;d<s.length;d++)u=s[d],Array.isArray(u)?(f=u[0],c=u[1]):(f=u.x,c=u.y),e=Math.min(e,f),n=Math.min(n,c),l=Math.max(l,f),i=Math.max(i,c);return r.x=e,r.y=n,r.width=l-e,r.height=i-n,r};o.exports=h},9477:(o,g,t)=>{var a=t(87841),v=function(h,s,r,e,n){return n===void 0&&(n=new a),n.setTo(Math.min(h,r),Math.min(s,e),Math.abs(h-r),Math.abs(s-e))};o.exports=v},8249:o=>{var g=function(t){return t.height===0?NaN:t.width/t.height};o.exports=g},27165:(o,g,t)=>{var a=t(2141),v=function(h,s){return s===void 0&&(s=new a),s.x=h.centerX,s.y=h.centerY,s};o.exports=v},20812:(o,g,t)=>{var a=t(13019),v=t(2141),h=function(s,r,e){if(e===void 0&&(e=new v),r<=0||r>=1)return e.x=s.x,e.y=s.y,e;var n=a(s)*r;return r>.5?(n-=s.width+s.height,n<=s.width?(e.x=s.right-n,e.y=s.bottom):(e.x=s.x,e.y=s.bottom-(n-s.width))):n<=s.width?(e.x=s.x+n,e.y=s.y):(e.x=s.right,e.y=s.y+(n-s.width)),e};o.exports=h},34819:(o,g,t)=>{var a=t(20812),v=t(13019),h=function(s,r,e,n){n===void 0&&(n=[]),!r&&e>0&&(r=v(s)/e);for(var l=0;l<r;l++){var i=l/r;n.push(a(s,i))}return n};o.exports=h},51313:(o,g,t)=>{var a=t(2141),v=function(h,s){return s===void 0&&(s=new a),s.x=h.width,s.y=h.height,s};o.exports=v},86091:(o,g,t)=>{var a=t(67502),v=function(h,s,r){var e=h.centerX,n=h.centerY;return h.setSize(h.width+s*2,h.height+r*2),a(h,e,n)};o.exports=v},53951:(o,g,t)=>{var a=t(87841),v=t(59996),h=function(s,r,e){return e===void 0&&(e=new a),v(s,r)?(e.x=Math.max(s.x,r.x),e.y=Math.max(s.y,r.y),e.width=Math.min(s.right,r.right)-e.x,e.height=Math.min(s.bottom,r.bottom)-e.y):e.setEmpty(),e};o.exports=h},14649:(o,g,t)=>{var a=t(13019),v=t(2141),h=function(s,r,e,n){if(n===void 0&&(n=[]),!r&&!e)return n;r?e=Math.round(a(s)/r):r=a(s)/e;for(var l=s.x,i=s.y,u=0,f=0;f<e;f++)switch(n.push(new v(l,i)),u){case 0:l+=r,l>=s.right&&(u=1,i+=l-s.right,l=s.right);break;case 1:i+=r,i>=s.bottom&&(u=2,l-=i-s.bottom,i=s.bottom);break;case 2:l-=r,l<=s.left&&(u=3,i-=s.left-l,l=s.left);break;case 3:i-=r,i<=s.top&&(u=0,i=s.top);break}return n};o.exports=h},33595:o=>{var g=function(t,a){for(var v=t.x,h=t.right,s=t.y,r=t.bottom,e=0;e<a.length;e++)v=Math.min(v,a[e].x),h=Math.max(h,a[e].x),s=Math.min(s,a[e].y),r=Math.max(r,a[e].y);return t.x=v,t.y=s,t.width=h-v,t.height=r-s,t};o.exports=g},20074:o=>{var g=function(t,a){var v=Math.min(t.x,a.x),h=Math.max(t.right,a.right);t.x=v,t.width=h-v;var s=Math.min(t.y,a.y),r=Math.max(t.bottom,a.bottom);return t.y=s,t.height=r-s,t};o.exports=g},92171:o=>{var g=function(t,a,v){var h=Math.min(t.x,a),s=Math.max(t.right,a);t.x=h,t.width=s-h;var r=Math.min(t.y,v),e=Math.max(t.bottom,v);return t.y=r,t.height=e-r,t};o.exports=g},42981:o=>{var g=function(t,a,v){return t.x+=a,t.y+=v,t};o.exports=g},46907:o=>{var g=function(t,a){return t.x+=a.x,t.y+=a.y,t};o.exports=g},60170:o=>{var g=function(t,a){return t.x<a.right&&t.right>a.x&&t.y<a.bottom&&t.bottom>a.y};o.exports=g},13019:o=>{var g=function(t){return 2*(t.width+t.height)};o.exports=g},85133:(o,g,t)=>{var a=t(2141),v=t(39506),h=function(s,r,e){e===void 0&&(e=new a),r=v(r);var n=Math.sin(r),l=Math.cos(r),i=l>0?s.width/2:s.width/-2,u=n>0?s.height/2:s.height/-2;return Math.abs(i*n)<Math.abs(u*l)?u=i*n/l:i=u*l/n,e.x=i+s.centerX,e.y=u+s.centerY,e};o.exports=h},26597:(o,g,t)=>{var a=t(2141),v=function(h,s){return s===void 0&&(s=new a),s.x=h.x+Math.random()*h.width,s.y=h.y+Math.random()*h.height,s};o.exports=v},86470:(o,g,t)=>{var a=t(30976),v=t(70273),h=t(2141),s=function(r,e,n){if(n===void 0&&(n=new h),v(r,e))switch(a(0,3)){case 0:n.x=r.x+Math.random()*(e.right-r.x),n.y=r.y+Math.random()*(e.top-r.y);break;case 1:n.x=e.x+Math.random()*(r.right-e.x),n.y=e.bottom+Math.random()*(r.bottom-e.bottom);break;case 2:n.x=r.x+Math.random()*(e.x-r.x),n.y=e.y+Math.random()*(r.bottom-e.y);break;case 3:n.x=e.right+Math.random()*(r.right-e.right),n.y=r.y+Math.random()*(e.bottom-r.y);break}return n};o.exports=s},87841:(o,g,t)=>{var a=t(83419),v=t(37303),h=t(20812),s=t(34819),r=t(23777),e=t(23031),n=t(26597),l=new a({initialize:function(u,f,c,d){u===void 0&&(u=0),f===void 0&&(f=0),c===void 0&&(c=0),d===void 0&&(d=0),this.type=r.RECTANGLE,this.x=u,this.y=f,this.width=c,this.height=d},contains:function(i,u){return v(this,i,u)},getPoint:function(i,u){return h(this,i,u)},getPoints:function(i,u,f){return s(this,i,u,f)},getRandomPoint:function(i){return n(this,i)},setTo:function(i,u,f,c){return this.x=i,this.y=u,this.width=f,this.height=c,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(i,u){return u===void 0&&(u=i),this.x=i,this.y=u,this},setSize:function(i,u){return u===void 0&&(u=i),this.width=i,this.height=u,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(i){return i===void 0&&(i=new e),i.setTo(this.x,this.y,this.right,this.y),i},getLineB:function(i){return i===void 0&&(i=new e),i.setTo(this.right,this.y,this.right,this.bottom),i},getLineC:function(i){return i===void 0&&(i=new e),i.setTo(this.right,this.bottom,this.x,this.bottom),i},getLineD:function(i){return i===void 0&&(i=new e),i.setTo(this.x,this.bottom,this.x,this.y),i},left:{get:function(){return this.x},set:function(i){i>=this.right?this.width=0:this.width=this.right-i,this.x=i}},right:{get:function(){return this.x+this.width},set:function(i){i<=this.x?this.width=0:this.width=i-this.x}},top:{get:function(){return this.y},set:function(i){i>=this.bottom?this.height=0:this.height=this.bottom-i,this.y=i}},bottom:{get:function(){return this.y+this.height},set:function(i){i<=this.y?this.height=0:this.height=i-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(i){this.x=i-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(i){this.y=i-this.height/2}}});o.exports=l},94845:o=>{var g=function(t,a){return t.width===a.width&&t.height===a.height};o.exports=g},31730:o=>{var g=function(t,a,v){return v===void 0&&(v=a),t.width*=a,t.height*=v,t};o.exports=g},36899:(o,g,t)=>{var a=t(87841),v=function(h,s,r){r===void 0&&(r=new a);var e=Math.min(h.x,s.x),n=Math.min(h.y,s.y),l=Math.max(h.right,s.right)-e,i=Math.max(h.bottom,s.bottom)-n;return r.setTo(e,n,l,i)};o.exports=v},93232:(o,g,t)=>{var a=t(87841);a.Area=t(62224),a.Ceil=t(98615),a.CeilAll=t(31688),a.CenterOn=t(67502),a.Clone=t(65085),a.Contains=t(37303),a.ContainsPoint=t(96553),a.ContainsRect=t(70273),a.CopyFrom=t(43459),a.Decompose=t(77493),a.Equals=t(9219),a.FitInside=t(53751),a.FitOutside=t(16088),a.Floor=t(80774),a.FloorAll=t(83859),a.FromPoints=t(19217),a.FromXY=t(9477),a.GetAspectRatio=t(8249),a.GetCenter=t(27165),a.GetPoint=t(20812),a.GetPoints=t(34819),a.GetSize=t(51313),a.Inflate=t(86091),a.Intersection=t(53951),a.MarchingAnts=t(14649),a.MergePoints=t(33595),a.MergeRect=t(20074),a.MergeXY=t(92171),a.Offset=t(42981),a.OffsetPoint=t(46907),a.Overlaps=t(60170),a.Perimeter=t(13019),a.PerimeterPoint=t(85133),a.Random=t(26597),a.RandomOutside=t(86470),a.SameDimensions=t(94845),a.Scale=t(31730),a.Union=t(36899),o.exports=a},41658:o=>{var g=function(t){var a=t.x1,v=t.y1,h=t.x2,s=t.y2,r=t.x3,e=t.y3;return Math.abs(((r-a)*(s-v)-(h-a)*(e-v))/2)};o.exports=g},39208:(o,g,t)=>{var a=t(16483),v=function(h,s,r){var e=r*(Math.sqrt(3)/2),n=h,l=s,i=h+r/2,u=s+e,f=h-r/2,c=s+e;return new a(n,l,i,u,f,c)};o.exports=v},39545:(o,g,t)=>{var a=t(94811),v=t(16483),h=function(s,r,e,n,l){r===void 0&&(r=null),e===void 0&&(e=1),n===void 0&&(n=1),l===void 0&&(l=[]);for(var i=a(s,r),u,f,c,d,p,m,y,x,C,E=0;E<i.length;E+=3)u=i[E],f=i[E+1],c=i[E+2],d=s[u*2]*e,p=s[u*2+1]*n,m=s[f*2]*e,y=s[f*2+1]*n,x=s[c*2]*e,C=s[c*2+1]*n,l.push(new v(d,p,m,y,x,C));return l};o.exports=h},90301:(o,g,t)=>{var a=t(16483),v=function(h,s,r,e){e===void 0&&(e=r);var n=h,l=s,i=h,u=s-e,f=h+r,c=s;return new a(n,l,i,u,f,c)};o.exports=v},23707:(o,g,t)=>{var a=t(97523),v=t(13584),h=function(s,r,e,n){n===void 0&&(n=a);var l=n(s),i=r-l.x,u=e-l.y;return v(s,i,u)};o.exports=h},97523:(o,g,t)=>{var a=t(2141),v=function(h,s){return s===void 0&&(s=new a),s.x=(h.x1+h.x2+h.x3)/3,s.y=(h.y1+h.y2+h.y3)/3,s};o.exports=v},24951:(o,g,t)=>{var a=t(26099);function v(s,r,e,n){return s*n-r*e}var h=function(s,r){r===void 0&&(r=new a);var e=s.x3,n=s.y3,l=s.x1-e,i=s.y1-n,u=s.x2-e,f=s.y2-n,c=2*v(l,i,u,f),d=v(i,l*l+i*i,f,u*u+f*f),p=v(l,l*l+i*i,u,u*u+f*f);return r.x=e-d/c,r.y=n+p/c,r};o.exports=h},85614:(o,g,t)=>{var a=t(96503),v=function(h,s){s===void 0&&(s=new a);var r=h.x1,e=h.y1,n=h.x2,l=h.y2,i=h.x3,u=h.y3,f=n-r,c=l-e,d=i-r,p=u-e,m=f*(r+n)+c*(e+l),y=d*(r+i)+p*(e+u),x=2*(f*(u-l)-c*(i-n)),C,E;if(Math.abs(x)<1e-6){var R=Math.min(r,n,i),M=Math.min(e,l,u);C=(Math.max(r,n,i)-R)*.5,E=(Math.max(e,l,u)-M)*.5,s.x=R+C,s.y=M+E,s.radius=Math.sqrt(C*C+E*E)}else s.x=(p*m-c*y)/x,s.y=(f*y-d*m)/x,C=s.x-r,E=s.y-e,s.radius=Math.sqrt(C*C+E*E);return s};o.exports=v},74422:(o,g,t)=>{var a=t(16483),v=function(h){return new a(h.x1,h.y1,h.x2,h.y2,h.x3,h.y3)};o.exports=v},10690:o=>{var g=function(t,a,v){var h=t.x3-t.x1,s=t.y3-t.y1,r=t.x2-t.x1,e=t.y2-t.y1,n=a-t.x1,l=v-t.y1,i=h*h+s*s,u=h*r+s*e,f=h*n+s*l,c=r*r+e*e,d=r*n+e*l,p=i*c-u*u,m=p===0?0:1/p,y=(c*f-u*d)*m,x=(i*d-u*f)*m;return y>=0&&x>=0&&y+x<1};o.exports=g},48653:o=>{var g=function(t,a,v,h){v===void 0&&(v=!1),h===void 0&&(h=[]);for(var s=t.x3-t.x1,r=t.y3-t.y1,e=t.x2-t.x1,n=t.y2-t.y1,l=s*s+r*r,i=s*e+r*n,u=e*e+n*n,f=l*u-i*i,c=f===0?0:1/f,d,p,m,y,x,C,E=t.x1,R=t.y1,M=0;M<a.length&&(m=a[M].x-E,y=a[M].y-R,x=s*m+r*y,C=e*m+n*y,d=(u*x-i*C)*c,p=(l*C-i*x)*c,!(d>=0&&p>=0&&d+p<1&&(h.push({x:a[M].x,y:a[M].y}),v)));M++);return h};o.exports=g},96006:(o,g,t)=>{var a=t(10690),v=function(h,s){return a(h,s.x,s.y)};o.exports=v},71326:o=>{var g=function(t,a){return a.setTo(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)};o.exports=g},71694:o=>{var g=function(t,a){return a===void 0&&(a=[]),a.push({x:t.x1,y:t.y1}),a.push({x:t.x2,y:t.y2}),a.push({x:t.x3,y:t.y3}),a};o.exports=g},33522:o=>{var g=function(t,a){return t.x1===a.x1&&t.y1===a.y1&&t.x2===a.x2&&t.y2===a.y2&&t.x3===a.x3&&t.y3===a.y3};o.exports=g},20437:(o,g,t)=>{var a=t(2141),v=t(35001),h=function(s,r,e){e===void 0&&(e=new a);var n=s.getLineA(),l=s.getLineB(),i=s.getLineC();if(r<=0||r>=1)return e.x=n.x1,e.y=n.y1,e;var u=v(n),f=v(l),c=v(i),d=u+f+c,p=d*r,m=0;return p<u?(m=p/u,e.x=n.x1+(n.x2-n.x1)*m,e.y=n.y1+(n.y2-n.y1)*m):p>u+f?(p-=u+f,m=p/c,e.x=i.x1+(i.x2-i.x1)*m,e.y=i.y1+(i.y2-i.y1)*m):(p-=u,m=p/f,e.x=l.x1+(l.x2-l.x1)*m,e.y=l.y1+(l.y2-l.y1)*m),e};o.exports=h},80672:(o,g,t)=>{var a=t(35001),v=t(2141),h=function(s,r,e,n){n===void 0&&(n=[]);var l=s.getLineA(),i=s.getLineB(),u=s.getLineC(),f=a(l),c=a(i),d=a(u),p=f+c+d;!r&&e>0&&(r=p/e);for(var m=0;m<r;m++){var y=p*(m/r),x=0,C=new v;y<f?(x=y/f,C.x=l.x1+(l.x2-l.x1)*x,C.y=l.y1+(l.y2-l.y1)*x):y>f+c?(y-=f+c,x=y/d,C.x=u.x1+(u.x2-u.x1)*x,C.y=u.y1+(u.y2-u.y1)*x):(y-=f,x=y/c,C.x=i.x1+(i.x2-i.x1)*x,C.y=i.y1+(i.y2-i.y1)*x),n.push(C)}return n};o.exports=h},39757:(o,g,t)=>{var a=t(2141);function v(s,r,e,n){var l=s-e,i=r-n,u=l*l+i*i;return Math.sqrt(u)}var h=function(s,r){r===void 0&&(r=new a);var e=s.x1,n=s.y1,l=s.x2,i=s.y2,u=s.x3,f=s.y3,c=v(u,f,l,i),d=v(e,n,u,f),p=v(l,i,e,n),m=c+d+p;return r.x=(e*c+l*d+u*p)/m,r.y=(n*c+i*d+f*p)/m,r};o.exports=h},13584:o=>{var g=function(t,a,v){return t.x1+=a,t.y1+=v,t.x2+=a,t.y2+=v,t.x3+=a,t.y3+=v,t};o.exports=g},1376:(o,g,t)=>{var a=t(35001),v=function(h){var s=h.getLineA(),r=h.getLineB(),e=h.getLineC();return a(s)+a(r)+a(e)};o.exports=v},90260:(o,g,t)=>{var a=t(2141),v=function(h,s){s===void 0&&(s=new a);var r=h.x2-h.x1,e=h.y2-h.y1,n=h.x3-h.x1,l=h.y3-h.y1,i=Math.random(),u=Math.random();return i+u>=1&&(i=1-i,u=1-u),s.x=h.x1+(r*i+n*u),s.y=h.y1+(e*i+l*u),s};o.exports=v},52172:(o,g,t)=>{var a=t(99614),v=t(39757),h=function(s,r){var e=v(s);return a(s,e.x,e.y,r)};o.exports=h},49907:(o,g,t)=>{var a=t(99614),v=function(h,s,r){return a(h,s.x,s.y,r)};o.exports=v},99614:o=>{var g=function(t,a,v,h){var s=Math.cos(h),r=Math.sin(h),e=t.x1-a,n=t.y1-v;return t.x1=e*s-n*r+a,t.y1=e*r+n*s+v,e=t.x2-a,n=t.y2-v,t.x2=e*s-n*r+a,t.y2=e*r+n*s+v,e=t.x3-a,n=t.y3-v,t.x3=e*s-n*r+a,t.y3=e*r+n*s+v,t};o.exports=g},16483:(o,g,t)=>{var a=t(83419),v=t(10690),h=t(20437),s=t(80672),r=t(23777),e=t(23031),n=t(90260),l=new a({initialize:function(u,f,c,d,p,m){u===void 0&&(u=0),f===void 0&&(f=0),c===void 0&&(c=0),d===void 0&&(d=0),p===void 0&&(p=0),m===void 0&&(m=0),this.type=r.TRIANGLE,this.x1=u,this.y1=f,this.x2=c,this.y2=d,this.x3=p,this.y3=m},contains:function(i,u){return v(this,i,u)},getPoint:function(i,u){return h(this,i,u)},getPoints:function(i,u,f){return s(this,i,u,f)},getRandomPoint:function(i){return n(this,i)},setTo:function(i,u,f,c,d,p){return i===void 0&&(i=0),u===void 0&&(u=0),f===void 0&&(f=0),c===void 0&&(c=0),d===void 0&&(d=0),p===void 0&&(p=0),this.x1=i,this.y1=u,this.x2=f,this.y2=c,this.x3=d,this.y3=p,this},getLineA:function(i){return i===void 0&&(i=new e),i.setTo(this.x1,this.y1,this.x2,this.y2),i},getLineB:function(i){return i===void 0&&(i=new e),i.setTo(this.x2,this.y2,this.x3,this.y3),i},getLineC:function(i){return i===void 0&&(i=new e),i.setTo(this.x3,this.y3,this.x1,this.y1),i},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(i){var u=0;this.x1<=this.x2&&this.x1<=this.x3?u=this.x1-i:this.x2<=this.x1&&this.x2<=this.x3?u=this.x2-i:u=this.x3-i,this.x1-=u,this.x2-=u,this.x3-=u}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(i){var u=0;this.x1>=this.x2&&this.x1>=this.x3?u=this.x1-i:this.x2>=this.x1&&this.x2>=this.x3?u=this.x2-i:u=this.x3-i,this.x1-=u,this.x2-=u,this.x3-=u}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(i){var u=0;this.y1<=this.y2&&this.y1<=this.y3?u=this.y1-i:this.y2<=this.y1&&this.y2<=this.y3?u=this.y2-i:u=this.y3-i,this.y1-=u,this.y2-=u,this.y3-=u}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(i){var u=0;this.y1>=this.y2&&this.y1>=this.y3?u=this.y1-i:this.y2>=this.y1&&this.y2>=this.y3?u=this.y2-i:u=this.y3-i,this.y1-=u,this.y2-=u,this.y3-=u}}});o.exports=l},84435:(o,g,t)=>{var a=t(16483);a.Area=t(41658),a.BuildEquilateral=t(39208),a.BuildFromPolygon=t(39545),a.BuildRight=t(90301),a.CenterOn=t(23707),a.Centroid=t(97523),a.CircumCenter=t(24951),a.CircumCircle=t(85614),a.Clone=t(74422),a.Contains=t(10690),a.ContainsArray=t(48653),a.ContainsPoint=t(96006),a.CopyFrom=t(71326),a.Decompose=t(71694),a.Equals=t(33522),a.GetPoint=t(20437),a.GetPoints=t(80672),a.InCenter=t(39757),a.Perimeter=t(1376),a.Offset=t(13584),a.Random=t(90260),a.Rotate=t(52172),a.RotateAroundPoint=t(49907),a.RotateAroundXY=t(99614),o.exports=a},74457:o=>{var g=function(t,a,v){return{gameObject:t,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:a,hitAreaCallback:v,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragStartCamera:null,dragX:0,dragY:0}};o.exports=g},84409:o=>{var g=function(t,a){return function(v,h,s,r){var e=t.getPixelAlpha(h,s,r.texture.key,r.frame.name);return e&&e>=a}};o.exports=g},7003:(o,g,t)=>{var a=t(83419),v=t(93301),h=t(50792),s=t(8214),r=t(8443),e=t(78970),n=t(85098),l=t(42515),i=t(36210),u=t(61340),f=t(85955),c=new a({initialize:function(p,m){this.game=p,this.scaleManager,this.canvas,this.config=m,this.enabled=!0,this.events=new h,this.isOver=!0,this.defaultCursor="",this.keyboard=m.inputKeyboard?new e(this):null,this.mouse=m.inputMouse?new n(this):null,this.touch=m.inputTouch?new i(this):null,this.pointers=[],this.pointersTotal=m.inputActivePointers;for(var y=0;y<=this.pointersTotal;y++){var x=new l(this,y);x.smoothFactor=m.inputSmoothFactor,this.pointers.push(x)}this.mousePointer=m.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new u,this._tempMatrix2=new u,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],p.events.once(r.BOOT,this.boot,this)},boot:function(){var d=this.game,p=d.events;this.canvas=d.canvas,this.scaleManager=d.scale,this.events.emit(s.MANAGER_BOOT),p.on(r.PRE_RENDER,this.preRender,this),p.once(r.DESTROY,this.destroy,this)},setCanvasOver:function(d){this.isOver=!0,this.events.emit(s.GAME_OVER,d)},setCanvasOut:function(d){this.isOver=!1,this.events.emit(s.GAME_OUT,d)},preRender:function(){var d=this.game.loop.now,p=this.game.loop.delta,m=this.game.scene.getScenes(!0,!0);this.time=d,this.events.emit(s.MANAGER_UPDATE);for(var y=0;y<m.length;y++){var x=m[y];if(x.sys.input&&x.sys.input.updatePoll(d,p)&&this.globalTopOnly)return}},setDefaultCursor:function(d){this.defaultCursor=d,this.canvas.style.cursor!==d&&(this.canvas.style.cursor=d)},setCursor:function(d){d.cursor&&(this.canvas.style.cursor=d.cursor)},resetCursor:function(d,p){(p||d&&d.cursor)&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(d){d===void 0&&(d=1);var p=[];this.pointersTotal+d>10&&(d=10-this.pointersTotal);for(var m=0;m<d;m++){var y=this.pointers.length,x=new l(this,y);x.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(x),this.pointersTotal++,p.push(x)}return p},updateInputPlugins:function(d,p){var m=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var y=0;y<m.length;y++){var x=m[y];if(x.sys.input){var C=x.sys.input.update(d,p);if(C&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(d){for(var p=this.pointers,m=[],y=0;y<d.changedTouches.length;y++)for(var x=d.changedTouches[y],C=1;C<p.length;C++){var E=p[C];if(!E.active){E.touchstart(x,d),this.activePointer=E,m.push(E);break}}this.updateInputPlugins(v.TOUCH_START,m)},onTouchMove:function(d){for(var p=this.pointers,m=[],y=0;y<d.changedTouches.length;y++)for(var x=d.changedTouches[y],C=1;C<p.length;C++){var E=p[C];if(E.active&&E.identifier===x.identifier){var R=document.elementFromPoint(x.clientX,x.clientY),M=R===this.canvas;!this.isOver&&M?this.setCanvasOver(d):this.isOver&&!M&&this.setCanvasOut(d),this.isOver&&(E.touchmove(x,d),this.activePointer=E,m.push(E));break}}this.updateInputPlugins(v.TOUCH_MOVE,m)},onTouchEnd:function(d){for(var p=this.pointers,m=[],y=0;y<d.changedTouches.length;y++)for(var x=d.changedTouches[y],C=1;C<p.length;C++){var E=p[C];if(E.active&&E.identifier===x.identifier){E.touchend(x,d),m.push(E);break}}this.updateInputPlugins(v.TOUCH_END,m)},onTouchCancel:function(d){for(var p=this.pointers,m=[],y=0;y<d.changedTouches.length;y++)for(var x=d.changedTouches[y],C=1;C<p.length;C++){var E=p[C];if(E.active&&E.identifier===x.identifier){E.touchcancel(x,d),m.push(E);break}}this.updateInputPlugins(v.TOUCH_CANCEL,m)},onMouseDown:function(d){var p=this.mousePointer;p.down(d),p.updateMotion(),this.activePointer=p,this.updateInputPlugins(v.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(d){var p=this.mousePointer;p.move(d),p.updateMotion(),this.activePointer=p,this.updateInputPlugins(v.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(d){var p=this.mousePointer;p.up(d),p.updateMotion(),this.activePointer=p,this.updateInputPlugins(v.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(d){var p=this.mousePointer;p.wheel(d),this.activePointer=p,this.updateInputPlugins(v.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(d){var p=this.mouse.locked;this.mousePointer.locked=p,this.events.emit(s.POINTERLOCK_CHANGE,d,p)},inputCandidate:function(d,p){var m=d.input;if(!m||!m.enabled||!d.willRender(p))return!1;var y=!0,x=d.parentContainer;if(x)do{if(!x.willRender(p)){y=!1;break}x=x.parentContainer}while(x);return y},hitTest:function(d,p,m,y){y===void 0&&(y=this._tempHitTest);var x=this._tempPoint,C=m.scrollX,E=m.scrollY;y.length=0;var R=d.x,M=d.y;m.getWorldPoint(R,M,x),d.worldX=x.x,d.worldY=x.y;for(var w={x:0,y:0},D=this._tempMatrix,F=this._tempMatrix2,I=0;I<p.length;I++){var L=p[I];if(this.inputCandidate(L,m)){var B=x.x+C*L.scrollFactorX-C,G=x.y+E*L.scrollFactorY-E;L.parentContainer?(L.getWorldTransformMatrix(D,F),D.applyInverse(B,G,w)):f(B,G,L.x,L.y,L.rotation,L.scaleX,L.scaleY,w),this.pointWithinHitArea(L,w.x,w.y)&&y.push(L)}}return y},pointWithinHitArea:function(d,p,m){p+=d.displayOriginX,m+=d.displayOriginY;var y=d.input;return y&&y.hitAreaCallback(y.hitArea,p,m,d)?(y.localX=p,y.localY=m,!0):!1},pointWithinInteractiveObject:function(d,p,m){return d.hitArea?(p+=d.gameObject.displayOriginX,m+=d.gameObject.displayOriginY,d.localX=p,d.localY=m,d.hitAreaCallback(d.hitArea,p,m,d)):!1},transformPointer:function(d,p,m,y){var x=d.position,C=d.prevPosition;C.x=x.x,C.y=x.y;var E=this.scaleManager.transformX(p),R=this.scaleManager.transformY(m),M=d.smoothFactor;!y||M===0?(x.x=E,x.y=R):(x.x=E*M+C.x*(1-M),x.y=R*M+C.y*(1-M))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(r.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var d=0;d<this.pointers.length;d++)this.pointers[d].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});o.exports=c},48205:(o,g,t)=>{var a=t(96503),v=t(87902),h=t(83419),s=t(93301),r=t(74457),e=t(84409),n=t(20339),l=t(8497),i=t(81154),u=t(8214),f=t(50792),c=t(95540),d=t(23777),p=t(89639),m=t(41212),y=t(37277),x=t(87841),C=t(37303),E=t(44594),R=t(16483),M=t(10690),w=new h({Extends:f,initialize:function(F){f.call(this),this.scene=F,this.systems=F.sys,this.settings=F.sys.settings,this.manager=F.sys.game.input,this.pluginEvents=new f,this.enabled=!0,this.displayList,this.cameras,p.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var I={cancelled:!1};this._eventContainer={stopPropagation:function(){I.cancelled=!0}},this._eventData=I,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,F.sys.events.once(E.BOOT,this.boot,this),F.sys.events.on(E.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(E.DESTROY,this.destroy,this),this.pluginEvents.emit(u.BOOT)},start:function(){var D=this.systems.events;D.on(E.TRANSITION_START,this.transitionIn,this),D.on(E.TRANSITION_OUT,this.transitionOut,this),D.on(E.TRANSITION_COMPLETE,this.transitionComplete,this),D.on(E.PRE_UPDATE,this.preUpdate,this),D.once(E.SHUTDOWN,this.shutdown,this),this.manager.events.on(u.GAME_OUT,this.onGameOut,this),this.manager.events.on(u.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(u.START)},onGameOver:function(D){this.isActive()&&this.emit(u.GAME_OVER,D.timeStamp,D)},onGameOut:function(D){this.isActive()&&this.emit(u.GAME_OUT,D.timeStamp,D)},preUpdate:function(){this.pluginEvents.emit(u.PRE_UPDATE);var D=this._pendingRemoval,F=this._pendingInsertion,I=D.length,L=F.length;if(!(I===0&&L===0)){for(var B=this._list,G=0;G<I;G++){var V=D[G],X=B.indexOf(V);X>-1&&(B.splice(X,1),this.clear(V,!0))}this._pendingRemoval.length=0,this._list=B.concat(F.splice(0))}},isActive:function(){return this.manager&&this.manager.enabled&&this.enabled&&this.scene.sys.canInput()},setCursor:function(D){this.manager&&this.manager.setCursor(D)},resetCursor:function(){this.manager&&this.manager.resetCursor(null,!0)},updatePoll:function(D,F){if(!this.isActive())return!1;if(this.pluginEvents.emit(u.UPDATE,D,F),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var I,L=this.manager,B=L.pointers;for(I=0;I<B.length;I++)B[I].updateMotion();if(this._list.length===0)return!1;var G=this.pollRate;if(G===-1)return!1;if(G>0)if(this._pollTimer-=F,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var V=!1;for(I=0;I<B.length;I++){var X=0,b=B[I];this._tempZones=[],this._temp=this.hitTestPointer(b),this.sortGameObjects(this._temp,b),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),X+=this.processOverOutEvents(b),this.getDragState(b)===2&&this.processDragThresholdEvent(b,D),X>0&&(V=!0)}return V},update:function(D,F){if(!this.isActive())return!1;for(var I=!1,L=0;L<F.length;L++){var B=0,G=F[L];switch(this._tempZones=[],this._temp=this.hitTestPointer(G),this.sortGameObjects(this._temp,G),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),D){case s.MOUSE_DOWN:B+=this.processDragDownEvent(G),B+=this.processDownEvents(G),B+=this.processOverOutEvents(G);break;case s.MOUSE_UP:B+=this.processDragUpEvent(G),B+=this.processUpEvents(G),B+=this.processOverOutEvents(G);break;case s.TOUCH_START:B+=this.processDragDownEvent(G),B+=this.processDownEvents(G),B+=this.processOverEvents(G);break;case s.TOUCH_END:case s.TOUCH_CANCEL:B+=this.processDragUpEvent(G),B+=this.processUpEvents(G),B+=this.processOutEvents(G);break;case s.MOUSE_MOVE:case s.TOUCH_MOVE:B+=this.processDragMoveEvent(G),B+=this.processMoveEvents(G),B+=this.processOverOutEvents(G);break;case s.MOUSE_WHEEL:B+=this.processWheelEvent(G);break}B>0&&(I=!0)}return this._updatedThisFrame=!0,I},clear:function(D,F){F===void 0&&(F=!1),this.disable(D);var I=D.input;I&&(this.removeDebug(D),this.manager.resetCursor(I),I.gameObject=void 0,I.target=void 0,I.hitArea=void 0,I.hitAreaCallback=void 0,I.callbackContext=void 0,D.input=null),F||this.queueForRemoval(D);var L=this._draggable.indexOf(D);return L>-1&&this._draggable.splice(L,1),D},disable:function(D,F){F===void 0&&(F=!1);var I=D.input;I&&(I.enabled=!1,I.dragState=0);for(var L=this._drag,B=this._over,G=this.manager,V=0,X;V<G.pointers.length;V++)X=L[V].indexOf(D),X>-1&&L[V].splice(X,1),X=B[V].indexOf(D),X>-1&&B[V].splice(X,1);return F&&this.resetCursor(),this},enable:function(D,F,I,L){return L===void 0&&(L=!1),D.input?D.input.enabled=!0:this.setHitArea(D,F,I),D.input&&L&&!D.input.dropZone&&(D.input.dropZone=L),this},hitTestPointer:function(D){for(var F=this.cameras.getCamerasBelowPointer(D),I=0;I<F.length;I++){for(var L=F[I],B=this.manager.hitTest(D,this._list,L),G=0;G<B.length;G++){var V=B[G];V.input.dropZone&&this._tempZones.push(V)}if(B.length>0)return D.camera=L,B}return D.camera=F[0],[]},processDownEvents:function(D){var F=0,I=this._temp,L=this._eventData,B=this._eventContainer;L.cancelled=!1;for(var G=0;G<I.length;G++){var V=I[G];if(!(!V.input||!V.input.enabled)&&(F++,V.emit(u.GAMEOBJECT_POINTER_DOWN,D,V.input.localX,V.input.localY,B),L.cancelled||!this.isActive()||V.input&&V.input.enabled&&(this.emit(u.GAMEOBJECT_DOWN,D,V,B),L.cancelled||!this.isActive())))break}return!L.cancelled&&this.isActive()&&(D.downElement===this.manager.game.canvas?this.emit(u.POINTER_DOWN,D,I):this.emit(u.POINTER_DOWN_OUTSIDE,D)),F},getDragState:function(D){return this._dragState[D.id]},setDragState:function(D,F){this._dragState[D.id]=F},processDragThresholdEvent:function(D,F){var I=!1,L=this.dragTimeThreshold,B=this.dragDistanceThreshold;if((B>0&&n(D.x,D.y,D.downX,D.downY)>=B||L>0&&F>=D.downTime+L)&&(I=!0),I)return this.setDragState(D,3),this.processDragStartList(D)},processDragStartList:function(D){if(this.getDragState(D)!==3)return 0;var F=this._drag[D.id];F.length>1&&(F=F.slice(0));for(var I=0;I<F.length;I++){var L=F[I],B=L.input;B.dragState=2,B.dragStartX=L.x,B.dragStartY=L.y,B.dragStartXGlobal=D.worldX,B.dragStartYGlobal=D.worldY,B.dragStartCamera=D.camera,B.dragX=B.dragStartXGlobal-B.dragStartX,B.dragY=B.dragStartYGlobal-B.dragStartY,L.emit(u.GAMEOBJECT_DRAG_START,D,B.dragX,B.dragY),this.emit(u.DRAG_START,D,L)}return this.setDragState(D,4),F.length},processDragDownEvent:function(D){var F=this._temp;if(this._draggable.length===0||F.length===0||!D.primaryDown||this.getDragState(D)!==0)return 0;this.setDragState(D,1);for(var I=[],L=0;L<F.length;L++){var B=F[L];B.input.draggable&&B.input.dragState===0&&I.push(B)}return I.length===0?(this.setDragState(D,0),0):(I.length>1&&(this.sortGameObjects(I,D),this.topOnly&&I.splice(1)),this._drag[D.id]=I,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(D,3),this.processDragStartList(D)):(this.setDragState(D,2),0))},processDragMoveEvent:function(D){if(this.getDragState(D)===2&&this.processDragThresholdEvent(D,this.manager.game.loop.now),this.getDragState(D)!==4)return 0;var F=this._tempZones,I=this._drag[D.id];I.length>1&&(I=I.slice(0));for(var L=0;L<I.length;L++){var B=I[L],G=B.input,V=G.target;if(V){var X=F.indexOf(V);X===0?(B.emit(u.GAMEOBJECT_DRAG_OVER,D,V),this.emit(u.DRAG_OVER,D,B,V)):X>0?(B.emit(u.GAMEOBJECT_DRAG_LEAVE,D,V),this.emit(u.DRAG_LEAVE,D,B,V),G.target=F[0],V=G.target,B.emit(u.GAMEOBJECT_DRAG_ENTER,D,V),this.emit(u.DRAG_ENTER,D,B,V)):(B.emit(u.GAMEOBJECT_DRAG_LEAVE,D,V),this.emit(u.DRAG_LEAVE,D,B,V),F[0]?(G.target=F[0],V=G.target,B.emit(u.GAMEOBJECT_DRAG_ENTER,D,V),this.emit(u.DRAG_ENTER,D,B,V)):G.target=null)}else!V&&F[0]&&(G.target=F[0],V=G.target,B.emit(u.GAMEOBJECT_DRAG_ENTER,D,V),this.emit(u.DRAG_ENTER,D,B,V));var b,U,O=D.positionToCamera(G.dragStartCamera);if(!B.parentContainer)b=O.x-G.dragX,U=O.y-G.dragY;else{var z=O.x-G.dragStartXGlobal,N=O.y-G.dragStartYGlobal,Y=B.getParentRotation(),W=z*Math.cos(Y)+N*Math.sin(Y),H=N*Math.cos(Y)-z*Math.sin(Y);W*=1/B.parentContainer.scaleX,H*=1/B.parentContainer.scaleY,b=W+G.dragStartX,U=H+G.dragStartY}B.emit(u.GAMEOBJECT_DRAG,D,b,U),this.emit(u.DRAG,D,B,b,U)}return I.length},processDragUpEvent:function(D){var F=this._drag[D.id];F.length>1&&(F=F.slice(0));for(var I=0;I<F.length;I++){var L=F[I],B=L.input;if(B&&B.dragState===2){B.dragState=0,B.dragX=B.localX-L.displayOriginX,B.dragY=B.localY-L.displayOriginY,B.dragStartCamera=null;var G=!1,V=B.target;V&&(L.emit(u.GAMEOBJECT_DROP,D,V),this.emit(u.DROP,D,L,V),B.target=null,G=!0),L.input&&L.input.enabled&&(L.emit(u.GAMEOBJECT_DRAG_END,D,B.dragX,B.dragY,G),this.emit(u.DRAG_END,D,L,G))}}return this.setDragState(D,0),F.splice(0),0},processMoveEvents:function(D){var F=0,I=this._temp,L=this._eventData,B=this._eventContainer;L.cancelled=!1;for(var G=0;G<I.length;G++){var V=I[G];if(!(!V.input||!V.input.enabled)&&(F++,V.emit(u.GAMEOBJECT_POINTER_MOVE,D,V.input.localX,V.input.localY,B),L.cancelled||!this.isActive()||V.input&&V.input.enabled&&(this.emit(u.GAMEOBJECT_MOVE,D,V,B),L.cancelled||!this.isActive()||this.topOnly)))break}return!L.cancelled&&this.isActive()&&this.emit(u.POINTER_MOVE,D,I),F},processWheelEvent:function(D){var F=0,I=this._temp,L=this._eventData,B=this._eventContainer;L.cancelled=!1;for(var G=D.deltaX,V=D.deltaY,X=D.deltaZ,b=0;b<I.length;b++){var U=I[b];if(!(!U.input||!U.input.enabled)&&(F++,U.emit(u.GAMEOBJECT_POINTER_WHEEL,D,G,V,X,B),L.cancelled||!this.isActive()||U.input&&U.input.enabled&&(this.emit(u.GAMEOBJECT_WHEEL,D,U,G,V,X,B),L.cancelled||!this.isActive())))break}return!L.cancelled&&this.isActive()&&this.emit(u.POINTER_WHEEL,D,I,G,V,X),F},processOverEvents:function(D){var F=this._temp,I=0,L=F.length,B=[];if(L>0){var G=this.manager,V=this._eventData,X=this._eventContainer;V.cancelled=!1;for(var b=0;b<L;b++){var U=F[b];if(!(!U.input||!U.input.enabled)&&(B.push(U),G.setCursor(U.input),U.emit(u.GAMEOBJECT_POINTER_OVER,D,U.input.localX,U.input.localY,X),I++,V.cancelled||!this.isActive()||U.input&&U.input.enabled&&(this.emit(u.GAMEOBJECT_OVER,D,U,X),V.cancelled||!this.isActive())))break}!V.cancelled&&this.isActive()&&this.emit(u.POINTER_OVER,D,B)}return this._over[D.id]=B,I},processOutEvents:function(D){var F=this._over[D.id],I=0,L=F.length;if(L>0){var B=this.manager,G=this._eventData,V=this._eventContainer;G.cancelled=!1,this.sortGameObjects(F,D);for(var X=0;X<L;X++){var b=F[X];if(b=F[X],!(!b.input||!b.input.enabled)&&(B.resetCursor(b.input),b.emit(u.GAMEOBJECT_POINTER_OUT,D,V),I++,G.cancelled||!this.isActive()||b.input&&b.input.enabled&&(this.emit(u.GAMEOBJECT_OUT,D,b,V),G.cancelled||!this.isActive())))break}!G.cancelled&&this.isActive()&&this.emit(u.POINTER_OUT,D,F),this._over[D.id]=[]}return I},processOverOutEvents:function(D){var F=this._temp,I,L,B=[],G=[],V=[],X=this._over[D.id],b=this._drag[D.id],U=this.manager;for(I=0;I<X.length;I++)L=X[I],F.indexOf(L)===-1&&b.indexOf(L)===-1?B.push(L):V.push(L);for(I=0;I<F.length;I++)L=F[I],X.indexOf(L)===-1&&G.push(L);var O=B.length,z=0,N=this._eventData,Y=this._eventContainer;if(N.cancelled=!1,O>0){for(this.sortGameObjects(B,D),I=0;I<O&&(L=B[I],!(!(!L.input||!L.input.enabled)&&(U.resetCursor(L.input),L.emit(u.GAMEOBJECT_POINTER_OUT,D,Y),z++,N.cancelled||!this.isActive()||L.input&&L.input.enabled&&(this.emit(u.GAMEOBJECT_OUT,D,L,Y),N.cancelled||!this.isActive()))));I++);(!N.cancelled||this.isActive())&&this.emit(u.POINTER_OUT,D,B)}if(O=G.length,N.cancelled=!1,O>0){for(this.sortGameObjects(G,D),I=0;I<O&&(L=G[I],!(!(!L.input||!L.input.enabled)&&(U.setCursor(L.input),L.emit(u.GAMEOBJECT_POINTER_OVER,D,L.input.localX,L.input.localY,Y),z++,N.cancelled||!this.isActive()||L.input&&L.input.enabled&&(this.emit(u.GAMEOBJECT_OVER,D,L,Y),N.cancelled||!this.isActive()))));I++);!N.cancelled&&this.isActive()&&this.emit(u.POINTER_OVER,D,G)}return X=V.concat(G),this._over[D.id]=this.sortGameObjects(X,D),z},processUpEvents:function(D){var F=this._temp,I=this._eventData,L=this._eventContainer;I.cancelled=!1;for(var B=0;B<F.length;B++){var G=F[B];if(!(!G.input||!G.input.enabled)&&(G.emit(u.GAMEOBJECT_POINTER_UP,D,G.input.localX,G.input.localY,L),I.cancelled||!this.isActive()||G.input&&G.input.enabled&&(this.emit(u.GAMEOBJECT_UP,D,G,L),I.cancelled||!this.isActive())))break}return!I.cancelled&&this.isActive()&&(D.upElement===this.manager.game.canvas?this.emit(u.POINTER_UP,D,F):this.emit(u.POINTER_UP_OUTSIDE,D)),F.length},forceDownState:function(D,F){this.forceState(D,F,u.GAMEOBJECT_POINTER_DOWN,u.GAMEOBJECT_DOWN,!1)},forceUpState:function(D,F){this.forceState(D,F,u.GAMEOBJECT_POINTER_UP,u.GAMEOBJECT_UP,!1)},forceOverState:function(D,F){this.forceState(D,F,u.GAMEOBJECT_POINTER_OVER,u.GAMEOBJECT_OVER,!0)},forceOutState:function(D,F){this.forceState(D,F,u.GAMEOBJECT_POINTER_OUT,u.GAMEOBJECT_OUT,!1)},forceState:function(D,F,I,L,B){var G=this._eventData,V=this._eventContainer;G.cancelled=!1,F.input&&F.input.enabled&&(F.emit(I,D,F.input.localX,F.input.localY,V),B&&this.setCursor(F.input),!G.cancelled&&this.isActive()&&F.input&&F.input.enabled&&this.emit(L,D,F,V))},queueForInsertion:function(D){return this._pendingInsertion.indexOf(D)===-1&&this._list.indexOf(D)===-1&&this._pendingInsertion.push(D),this},queueForRemoval:function(D){return this._pendingRemoval.push(D),this},setDraggable:function(D,F){F===void 0&&(F=!0),Array.isArray(D)||(D=[D]);for(var I=0;I<D.length;I++){var L=D[I];L.input.draggable=F;var B=this._draggable.indexOf(L);F&&B===-1?this._draggable.push(L):!F&&B>-1&&this._draggable.splice(B,1)}return this},makePixelPerfect:function(D){D===void 0&&(D=1);var F=this.systems.textures;return e(F,D)},setHitArea:function(D,F,I){if(F===void 0)return this.setHitAreaFromTexture(D);Array.isArray(D)||(D=[D]);var L=!1,B=!1,G=!1,V=!1,X=!1,b=!0;if(m(F)&&Object.keys(F).length){var U=F,O=D.some(function(H){return H.hasOwnProperty("faces")});if(!O){F=c(U,"hitArea",null),I=c(U,"hitAreaCallback",null),X=c(U,"pixelPerfect",!1);var z=c(U,"alphaTolerance",1);X&&(F={},I=this.makePixelPerfect(z))}L=c(U,"draggable",!1),B=c(U,"dropZone",!1),G=c(U,"cursor",!1),V=c(U,"useHandCursor",!1),(!F||!I)&&(this.setHitAreaFromTexture(D),b=!1)}else typeof F=="function"&&!I&&(I=F,F={});for(var N=0;N<D.length;N++){var Y=D[N];if(X&&Y.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var W=Y.input?Y.input:r(Y,F,I);W.customHitArea=b,W.dropZone=B,W.cursor=V?"pointer":G,Y.input=W,L&&this.setDraggable(Y),this.queueForInsertion(Y)}return this},setHitAreaCircle:function(D,F,I,L,B){B===void 0&&(B=v);var G=new a(F,I,L);return this.setHitArea(D,G,B)},setHitAreaEllipse:function(D,F,I,L,B,G){G===void 0&&(G=i);var V=new l(F,I,L,B);return this.setHitArea(D,V,G)},setHitAreaFromTexture:function(D,F){F===void 0&&(F=C),Array.isArray(D)||(D=[D]);for(var I=0;I<D.length;I++){var L=D[I],B=L.frame,G=0,V=0;if(L.width?(G=L.width,V=L.height):B&&(G=B.realWidth,V=B.realHeight),L.type==="Container"&&(G===0||V===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}G!==0&&V!==0&&(L.input=r(L,new x(0,0,G,V),F),this.queueForInsertion(L))}return this},setHitAreaRectangle:function(D,F,I,L,B,G){G===void 0&&(G=C);var V=new x(F,I,L,B);return this.setHitArea(D,V,G)},setHitAreaTriangle:function(D,F,I,L,B,G,V,X){X===void 0&&(X=M);var b=new R(F,I,L,B,G,V);return this.setHitArea(D,b,X)},enableDebug:function(D,F){F===void 0&&(F=65280);var I=D.input;if(!I||!I.hitArea)return this;var L=I.hitArea,B=L.type,G=I.hitAreaDebug,V=this.systems.add,X=this.systems.updateList;G&&(X.remove(G),G.destroy(),G=null);var b=0,U=0;switch(B){case d.CIRCLE:G=V.arc(0,0,L.radius),b=L.x-L.radius,U=L.y-L.radius;break;case d.ELLIPSE:G=V.ellipse(0,0,L.width,L.height),b=L.x-L.width/2,U=L.y-L.height/2;break;case d.LINE:G=V.line(0,0,L.x1,L.y1,L.x2,L.y2);break;case d.POLYGON:G=V.polygon(0,0,L.points);break;case d.RECTANGLE:G=V.rectangle(0,0,L.width,L.height),b=L.x,U=L.y;break;case d.TRIANGLE:G=V.triangle(0,0,L.x1,L.y1,L.x2,L.y2,L.x3,L.y3);break}return G&&(G.isFilled=!1,G.strokeColor=F,G.preUpdate=function(){G.setVisible(D.visible),G.setStrokeStyle(1/D.scale,G.strokeColor),G.setDisplayOrigin(D.displayOriginX,D.displayOriginY);var O=D.x,z=D.y,N=D.rotation,Y=D.scaleX,W=D.scaleY;if(D.parentContainer){var H=D.getWorldTransformMatrix();O=H.tx,z=H.ty,N=H.rotation,Y=H.scaleX,W=H.scaleY}G.setRotation(N),G.setScale(Y,W),G.setPosition(O+b*Y,z+U*W),G.setScrollFactor(D.scrollFactorX,D.scrollFactorY),G.setDepth(D.depth)},X.add(G),I.hitAreaDebug=G),this},removeDebug:function(D){var F=D.input;if(F&&F.hitAreaDebug){var I=F.hitAreaDebug;I.destroy(),F.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(D){return this.pollRate=D,this._pollTimer=0,this},setGlobalTopOnly:function(D){return this.manager.globalTopOnly=D,this},setTopOnly:function(D){return this.topOnly=D,this},sortGameObjects:function(D,F){if(D.length<2||!F.camera)return D;var I=F.camera.renderList;return D.sort(function(L,B){var G=Math.max(I.indexOf(L),0),V=Math.max(I.indexOf(B),0);return V-G})},sortDropZones:function(D){return D.length<2?D:(this.scene.sys.depthSort(),D.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(D,F){if(!D.parentContainer&&!F.parentContainer)return this.displayList.getIndex(F)-this.displayList.getIndex(D);if(D.parentContainer===F.parentContainer)return F.parentContainer.getIndex(F)-D.parentContainer.getIndex(D);if(D.parentContainer===F)return-1;if(F.parentContainer===D)return 1;for(var I=D.getIndexList(),L=F.getIndexList(),B=Math.min(I.length,L.length),G=0;G<B;G++){var V=I[G],X=L[G];if(V!==X)return X-V}return L.length-I.length;return 0},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(D){return this.manager.addPointer(D)},setDefaultCursor:function(D){return this.manager.setDefaultCursor(D),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(u.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var D=0;D<10;D++)this._drag[D]=[],this._over[D]=[];this.removeAllListeners();var F=this.manager;F.canvas.style.cursor=F.defaultCursor;var I=this.systems.events;I.off(E.TRANSITION_START,this.transitionIn,this),I.off(E.TRANSITION_OUT,this.transitionOut,this),I.off(E.TRANSITION_COMPLETE,this.transitionComplete,this),I.off(E.PRE_UPDATE,this.preUpdate,this),F.events.off(u.GAME_OUT,this.onGameOut,this),F.events.off(u.GAME_OVER,this.onGameOver,this),I.off(E.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var D=this.manager.pointers,F=0;F<D.length;F++)D[F].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(u.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(E.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});y.register("InputPlugin",w,"input"),o.exports=w},89639:(o,g,t)=>{var a=t(35154),v={},h={};h.register=function(s,r,e,n,l){v[s]={plugin:r,mapping:e,settingsKey:n,configKey:l}},h.getPlugin=function(s){return v[s]},h.install=function(s){var r=s.scene.sys,e=r.settings.input,n=r.game.config;for(var l in v){var i=v[l].plugin,u=v[l].mapping,f=v[l].settingsKey,c=v[l].configKey;a(e,f,n[c])&&(s[u]=new i(s))}},h.remove=function(s){v.hasOwnProperty(s)&&delete v[s]},o.exports=h},42515:(o,g,t)=>{var a=t(31040),v=t(83419),h=t(20339),s=t(43855),r=t(47235),e=t(26099),n=t(25892),l=new v({initialize:function(u,f){this.manager=u,this.id=f,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new e,this.prevPosition=new e,this.midPoint=new e(-1,-1),this.velocity=new e,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=f===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(i){var u=i.getWorldPoint(this.x,this.y);return this.worldX=u.x,this.worldY=u.y,this},positionToCamera:function(i,u){return i.getWorldPoint(this.x,this.y,u)},updateMotion:function(){var i=this.position.x,u=this.position.y,f=this.midPoint.x,c=this.midPoint.y;if(!(i===f&&u===c)){var d=r(this.motionFactor,f,i),p=r(this.motionFactor,c,u);s(d,i,.1)&&(d=i),s(p,u,.1)&&(p=u),this.midPoint.set(d,p);var m=i-d,y=u-p;this.velocity.set(m,y),this.angle=a(d,p,i,u),this.distance=Math.sqrt(m*m+y*y)}},up:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.button=i.button,this.upElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),i.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=i.timeStamp,this.wasTouch=!1)},down:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.button=i.button,this.downElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),i.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),n.macOS&&i.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=i.timeStamp),this.wasTouch=!1},move:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.manager.transformPointer(this,i.pageX,i.pageY,!0),this.locked&&(this.movementX=i.movementX||i.mozMovementX||i.webkitMovementX||0,this.movementY=i.movementY||i.mozMovementY||i.webkitMovementY||0),this.moveTime=i.timeStamp,this.wasTouch=!1},wheel:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.deltaX=i.deltaX,this.deltaY=i.deltaY,this.deltaZ=i.deltaZ,this.wasTouch=!1},touchstart:function(i,u){i.pointerId&&(this.pointerId=i.pointerId),this.identifier=i.identifier,this.target=i.target,this.active=!0,this.buttons=1,this.event=u,this.downElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=u.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(i,u){this.event=u,this.manager.transformPointer(this,i.pageX,i.pageY,!0),this.moveTime=u.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(i,u){this.buttons=0,this.event=u,this.upElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=u.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(i,u){this.buttons=0,this.event=u,this.upElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=u.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.buttons===0?this.button===0&&!this.isDown:this.button===0},rightButtonReleased:function(){return this.buttons===0?this.button===2&&!this.isDown:this.button===2},middleButtonReleased:function(){return this.buttons===0?this.button===1&&!this.isDown:this.button===1},backButtonReleased:function(){return this.buttons===0?this.button===3&&!this.isDown:this.button===3},forwardButtonReleased:function(){return this.buttons===0?this.button===4&&!this.isDown:this.button===4},getDistance:function(){return this.isDown?h(this.downX,this.downY,this.x,this.y):h(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?a(this.downX,this.downY,this.x,this.y):a(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(i,u){i===void 0&&(i=10),u===void 0&&(u=[]);for(var f=this.prevPosition.x,c=this.prevPosition.y,d=this.position.x,p=this.position.y,m=0;m<i;m++){var y=1/i*m;u[m]={x:r(y,f,d),y:r(y,c,p)}}return u},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(i){this.position.x=i}},y:{get:function(){return this.position.y},set:function(i){this.position.y=i}},time:{get:function(){return this.event?this.event.timeStamp:0}}});o.exports=l},93301:o=>{var g={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};o.exports=g},7179:o=>{o.exports="boot"},85375:o=>{o.exports="destroy"},39843:o=>{o.exports="dragend"},23388:o=>{o.exports="dragenter"},16133:o=>{o.exports="drag"},27829:o=>{o.exports="dragleave"},53904:o=>{o.exports="dragover"},56058:o=>{o.exports="dragstart"},2642:o=>{o.exports="drop"},88171:o=>{o.exports="gameobjectdown"},36147:o=>{o.exports="dragend"},71692:o=>{o.exports="dragenter"},96149:o=>{o.exports="drag"},81285:o=>{o.exports="dragleave"},74048:o=>{o.exports="dragover"},21322:o=>{o.exports="dragstart"},49378:o=>{o.exports="drop"},86754:o=>{o.exports="gameobjectmove"},86433:o=>{o.exports="gameobjectout"},60709:o=>{o.exports="gameobjectover"},24081:o=>{o.exports="pointerdown"},11172:o=>{o.exports="pointermove"},18907:o=>{o.exports="pointerout"},95579:o=>{o.exports="pointerover"},35368:o=>{o.exports="pointerup"},26972:o=>{o.exports="wheel"},47078:o=>{o.exports="gameobjectup"},73802:o=>{o.exports="gameobjectwheel"},56718:o=>{o.exports="gameout"},25936:o=>{o.exports="gameover"},27503:o=>{o.exports="boot"},50852:o=>{o.exports="process"},96438:o=>{o.exports="update"},59152:o=>{o.exports="pointerlockchange"},47777:o=>{o.exports="pointerdown"},27957:o=>{o.exports="pointerdownoutside"},19444:o=>{o.exports="pointermove"},54251:o=>{o.exports="pointerout"},18667:o=>{o.exports="pointerover"},27192:o=>{o.exports="pointerup"},24652:o=>{o.exports="pointerupoutside"},45132:o=>{o.exports="wheel"},44512:o=>{o.exports="preupdate"},15757:o=>{o.exports="shutdown"},41637:o=>{o.exports="start"},93802:o=>{o.exports="update"},8214:(o,g,t)=>{o.exports={BOOT:t(7179),DESTROY:t(85375),DRAG_END:t(39843),DRAG_ENTER:t(23388),DRAG:t(16133),DRAG_LEAVE:t(27829),DRAG_OVER:t(53904),DRAG_START:t(56058),DROP:t(2642),GAME_OUT:t(56718),GAME_OVER:t(25936),GAMEOBJECT_DOWN:t(88171),GAMEOBJECT_DRAG_END:t(36147),GAMEOBJECT_DRAG_ENTER:t(71692),GAMEOBJECT_DRAG:t(96149),GAMEOBJECT_DRAG_LEAVE:t(81285),GAMEOBJECT_DRAG_OVER:t(74048),GAMEOBJECT_DRAG_START:t(21322),GAMEOBJECT_DROP:t(49378),GAMEOBJECT_MOVE:t(86754),GAMEOBJECT_OUT:t(86433),GAMEOBJECT_OVER:t(60709),GAMEOBJECT_POINTER_DOWN:t(24081),GAMEOBJECT_POINTER_MOVE:t(11172),GAMEOBJECT_POINTER_OUT:t(18907),GAMEOBJECT_POINTER_OVER:t(95579),GAMEOBJECT_POINTER_UP:t(35368),GAMEOBJECT_POINTER_WHEEL:t(26972),GAMEOBJECT_UP:t(47078),GAMEOBJECT_WHEEL:t(73802),MANAGER_BOOT:t(27503),MANAGER_PROCESS:t(50852),MANAGER_UPDATE:t(96438),POINTER_DOWN:t(47777),POINTER_DOWN_OUTSIDE:t(27957),POINTER_MOVE:t(19444),POINTER_OUT:t(54251),POINTER_OVER:t(18667),POINTER_UP:t(27192),POINTER_UP_OUTSIDE:t(24652),POINTER_WHEEL:t(45132),POINTERLOCK_CHANGE:t(59152),PRE_UPDATE:t(44512),SHUTDOWN:t(15757),START:t(41637),UPDATE:t(93802)}},97421:(o,g,t)=>{var a=t(83419),v=new a({initialize:function(s,r){this.pad=s,this.events=s.events,this.index=r,this.value=0,this.threshold=.1},update:function(h){this.value=h},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});o.exports=v},28884:(o,g,t)=>{var a=t(83419),v=t(92734),h=new a({initialize:function(r,e){this.pad=r,this.events=r.manager,this.index=e,this.value=0,this.threshold=1,this.pressed=!1},update:function(s){this.value=s;var r=this.pad,e=this.index;s>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(v.BUTTON_DOWN,r,this,s),this.pad.emit(v.GAMEPAD_BUTTON_DOWN,e,s,this)):this.pressed&&(this.pressed=!1,this.events.emit(v.BUTTON_UP,r,this,s),this.pad.emit(v.GAMEPAD_BUTTON_UP,e,s,this))},destroy:function(){this.pad=null,this.events=null}});o.exports=h},99125:(o,g,t)=>{var a=t(97421),v=t(28884),h=t(83419),s=t(50792),r=t(26099),e=new h({Extends:s,initialize:function(l,i){s.call(this),this.manager=l,this.pad=i,this.id=i.id,this.index=i.index;for(var u=[],f=0;f<i.buttons.length;f++)u.push(new v(this,f));this.buttons=u;var c=[];for(f=0;f<i.axes.length;f++)c.push(new a(this,f));this.axes=c,this.vibration=i.vibrationActuator;var d={value:0,pressed:!1};this._LCLeft=u[14]?u[14]:d,this._LCRight=u[15]?u[15]:d,this._LCTop=u[12]?u[12]:d,this._LCBottom=u[13]?u[13]:d,this._RCLeft=u[2]?u[2]:d,this._RCRight=u[1]?u[1]:d,this._RCTop=u[3]?u[3]:d,this._RCBottom=u[0]?u[0]:d,this._FBLeftTop=u[4]?u[4]:d,this._FBLeftBottom=u[6]?u[6]:d,this._FBRightTop=u[5]?u[5]:d,this._FBRightBottom=u[7]?u[7]:d;var p={value:0};this._HAxisLeft=c[0]?c[0]:p,this._VAxisLeft=c[1]?c[1]:p,this._HAxisRight=c[2]?c[2]:p,this._VAxisRight=c[3]?c[3]:p,this.leftStick=new r,this.rightStick=new r,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(n){return this.axes[n].getValue()},setAxisThreshold:function(n){for(var l=0;l<this.axes.length;l++)this.axes[l].threshold=n},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(n){return this.buttons[n].value},isButtonDown:function(n){return this.buttons[n].pressed},update:function(n){if(!(n.timestamp<this._created)){var l,i=this.buttons,u=n.buttons,f=i.length;for(l=0;l<f;l++)i[l].update(u[l].value);var c=this.axes,d=n.axes;for(f=c.length,l=0;l<f;l++)c[l].update(d[l]);f>=2&&(this.leftStick.set(c[0].getValue(),c[1].getValue()),f>=4&&this.rightStick.set(c[2].getValue(),c[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var n;for(n=0;n<this.buttons.length;n++)this.buttons[n].destroy();for(n=0;n<this.axes.length;n++)this.axes[n].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});o.exports=e},56654:(o,g,t)=>{var a=t(83419),v=t(50792),h=t(92734),s=t(99125),r=t(35154),e=t(89639),n=t(8214),l=new a({Extends:v,initialize:function(u){v.call(this),this.scene=u.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=u,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,u.pluginEvents.once(n.BOOT,this.boot,this),u.pluginEvents.on(n.START,this.start,this)},boot:function(){var i=this.scene.sys.game,u=this.settings.input,f=i.config;this.enabled=r(u,"gamepad",f.inputGamepad)&&i.device.input.gamepads,this.target=r(u,"gamepad.target",f.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(n.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(n.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var i=this,u=this.target,f=function(c){c.defaultPrevented||!i.isActive()||(i.refreshPads(),i.queue.push(c))};this.onGamepadHandler=f,u.addEventListener("gamepadconnected",f,!1),u.addEventListener("gamepaddisconnected",f,!1),this.sceneInputPlugin.pluginEvents.on(n.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(n.UPDATE,this.update);for(var i=0;i<this.gamepads.length;i++)this.gamepads[i].removeAllListeners()},disconnectAll:function(){for(var i=0;i<this.gamepads.length;i++)this.gamepads[i].pad.connected=!1},refreshPads:function(){var i=navigator.getGamepads();if(!i)this.disconnectAll();else for(var u=this.gamepads,f=0;f<i.length;f++){var c=i[f];if(c){var d=c.id,p=c.index,m=u[p];if(m)m.id!==d?(m.destroy(),u[p]=new s(this,c)):m.update(c);else{var y=new s(this,c);u[p]=y,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=y):this._pad3=y:this._pad2=y:this._pad1=y}}}},getAll:function(){for(var i=[],u=this.gamepads,f=0;f<u.length;f++)u[f]&&i.push(u[f]);return i},getPad:function(i){for(var u=this.gamepads,f=0;f<u.length;f++)if(u[f]&&u[f].index===i)return u[f]},update:function(){if(this.enabled){this.refreshPads();var i=this.queue.length;if(i!==0)for(var u=this.queue.splice(0,i),f=0;f<i;f++){var c=u[f],d=this.getPad(c.gamepad.index);c.type==="gamepadconnected"?this.emit(h.CONNECTED,d,c):c.type==="gamepaddisconnected"&&this.emit(h.DISCONNECTED,d,c)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var i=0;i<this.gamepads.length;i++)this.gamepads[i]&&this.gamepads[i].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});e.register("GamepadPlugin",l,"gamepad","gamepad","inputGamepad"),o.exports=l},89651:o=>{o.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:o=>{o.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:o=>{o.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(o,g,t)=>{o.exports={DUALSHOCK_4:t(65294),SNES_USB:t(89651),XBOX_360:t(90089)}},46008:o=>{o.exports="down"},7629:o=>{o.exports="up"},42206:o=>{o.exports="connected"},86544:o=>{o.exports="disconnected"},94784:o=>{o.exports="down"},14325:o=>{o.exports="up"},92734:(o,g,t)=>{o.exports={BUTTON_DOWN:t(46008),BUTTON_UP:t(7629),CONNECTED:t(42206),DISCONNECTED:t(86544),GAMEPAD_BUTTON_DOWN:t(94784),GAMEPAD_BUTTON_UP:t(14325)}},48646:(o,g,t)=>{o.exports={Axis:t(97421),Button:t(28884),Events:t(92734),Gamepad:t(99125),GamepadPlugin:t(56654),Configs:t(64894)}},14350:(o,g,t)=>{var a=t(93301),v=t(79291),h={CreatePixelPerfectHandler:t(84409),CreateInteractiveObject:t(74457),Events:t(8214),Gamepad:t(48646),InputManager:t(7003),InputPlugin:t(48205),InputPluginCache:t(89639),Keyboard:t(51442),Mouse:t(87078),Pointer:t(42515),Touch:t(95618)};h=v(!1,h,a),o.exports=h},78970:(o,g,t)=>{var a=t(72905),v=t(83419),h=t(8443),s=t(8214),r=t(46032),e=t(29747),n=new v({initialize:function(i){this.manager=i,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=e,this.onKeyUp=e,i.events.once(s.MANAGER_BOOT,this.boot,this)},boot:function(){var l=this.manager.config;this.enabled=l.inputKeyboard,this.target=l.inputKeyboardEventTarget,this.addCapture(l.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(h.POST_STEP,this.postUpdate,this)},startListeners:function(){var l=this;this.onKeyDown=function(u){if(!(u.defaultPrevented||!l.enabled||!l.manager)){l.queue.push(u),l.manager.events.emit(s.MANAGER_PROCESS);var f=u.altKey||u.ctrlKey||u.shiftKey||u.metaKey;l.preventDefault&&!f&&l.captures.indexOf(u.keyCode)>-1&&u.preventDefault()}},this.onKeyUp=function(u){if(!(u.defaultPrevented||!l.enabled||!l.manager)){l.queue.push(u),l.manager.events.emit(s.MANAGER_PROCESS);var f=u.altKey||u.ctrlKey||u.shiftKey||u.metaKey;l.preventDefault&&!f&&l.captures.indexOf(u.keyCode)>-1&&u.preventDefault()}};var i=this.target;i&&(i.addEventListener("keydown",this.onKeyDown,!1),i.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var l=this.target;l.removeEventListener("keydown",this.onKeyDown,!1),l.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(l){typeof l=="string"&&(l=l.split(",")),Array.isArray(l)||(l=[l]);for(var i=this.captures,u=0;u<l.length;u++){var f=l[u];typeof f=="string"&&(f=r[f.trim().toUpperCase()]),i.indexOf(f)===-1&&i.push(f)}this.preventDefault=i.length>0},removeCapture:function(l){typeof l=="string"&&(l=l.split(",")),Array.isArray(l)||(l=[l]);for(var i=this.captures,u=0;u<l.length;u++){var f=l[u];typeof f=="string"&&(f=r[f.toUpperCase()]),a(i,f)}this.preventDefault=i.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(h.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});o.exports=n},28846:(o,g,t)=>{var a=t(83419),v=t(50792),h=t(95922),s=t(8443),r=t(35154),e=t(8214),n=t(89639),l=t(30472),i=t(46032),u=t(87960),f=t(74600),c=t(44594),d=t(56583),p=new a({Extends:v,initialize:function(y){v.call(this),this.game=y.systems.game,this.scene=y.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=y,this.manager=y.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,y.pluginEvents.once(e.BOOT,this.boot,this),y.pluginEvents.on(e.START,this.start,this)},boot:function(){var m=this.settings.input;this.enabled=r(m,"keyboard",!0);var y=r(m,"keyboard.capture",null);y&&this.addCaptures(y),this.sceneInputPlugin.pluginEvents.once(e.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(e.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(e.SHUTDOWN,this.shutdown,this),this.game.events.on(s.BLUR,this.resetKeys,this),this.scene.sys.events.on(c.PAUSE,this.resetKeys,this),this.scene.sys.events.on(c.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(m){return this.manager.addCapture(m),this},removeCapture:function(m){return this.manager.removeCapture(m),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:i.UP,down:i.DOWN,left:i.LEFT,right:i.RIGHT,space:i.SPACE,shift:i.SHIFT})},addKeys:function(m,y,x){y===void 0&&(y=!0),x===void 0&&(x=!1);var C={};if(typeof m=="string"){m=m.split(",");for(var E=0;E<m.length;E++){var R=m[E].trim();R&&(C[R]=this.addKey(R,y,x))}}else for(var M in m)C[M]=this.addKey(m[M],y,x);return C},addKey:function(m,y,x){y===void 0&&(y=!0),x===void 0&&(x=!1);var C=this.keys;if(m instanceof l){var E=C.indexOf(m);return E>-1?C[E]=m:C[m.keyCode]=m,y&&this.addCapture(m.keyCode),m.setEmitOnRepeat(x),m}return typeof m=="string"&&(m=i[m.toUpperCase()]),C[m]||(C[m]=new l(this,m),y&&this.addCapture(m),C[m].setEmitOnRepeat(x)),C[m]},removeKey:function(m,y,x){y===void 0&&(y=!1),x===void 0&&(x=!1);var C=this.keys,E;if(m instanceof l){var R=C.indexOf(m);R>-1&&(E=this.keys[R],this.keys[R]=void 0)}else typeof m=="string"&&(m=i[m.toUpperCase()]);return C[m]&&(E=C[m],C[m]=void 0),E&&(E.plugin=null,x&&this.removeCapture(E.keyCode),y&&E.destroy()),this},removeAllKeys:function(m,y){m===void 0&&(m=!1),y===void 0&&(y=!1);for(var x=this.keys,C=0;C<x.length;C++){var E=x[C];E&&(x[C]=void 0,y&&this.removeCapture(E.keyCode),m&&E.destroy())}return this},createCombo:function(m,y){return new u(this,m,y)},checkDown:function(m,y){if(y===void 0&&(y=0),this.enabled&&m.isDown){var x=d(this.time-m.timeDown,y);if(x>m._tick)return m._tick=x,!0}return!1},update:function(){var m=this.manager.queue,y=m.length;if(!(!this.isActive()||y===0))for(var x=this.keys,C=0;C<y;C++){var E=m[C],R=E.keyCode,M=x[R],w=!1;E.cancelled===void 0&&(E.cancelled=0,E.stopImmediatePropagation=function(){E.cancelled=1},E.stopPropagation=function(){E.cancelled=-1}),E.cancelled!==-1&&(R===this.prevCode&&E.timeStamp===this.prevTime&&E.type===this.prevType||(this.prevCode=R,this.prevTime=E.timeStamp,this.prevType=E.type,E.type==="keydown"?(M&&(w=M.isDown,M.onDown(E)),!E.cancelled&&(!M||!w)&&(f[R]&&this.emit(h.KEY_DOWN+f[R],E),E.cancelled||this.emit(h.ANY_KEY_DOWN,E))):(M&&M.onUp(E),E.cancelled||(f[R]&&this.emit(h.KEY_UP+f[R],E),E.cancelled||this.emit(h.ANY_KEY_UP,E))),E.cancelled===1&&(E.cancelled=0)))}},resetKeys:function(){for(var m=this.keys,y=0;y<m.length;y++)m[y]&&m[y].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(e.MANAGER_PROCESS,this.update,this),this.game.events.off(s.BLUR,this.resetKeys),this.scene.sys.events.off(c.PAUSE,this.resetKeys,this),this.scene.sys.events.off(c.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var m=this.keys,y=0;y<m.length;y++)m[y]&&m[y].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});n.register("KeyboardPlugin",p,"keyboard","keyboard","inputKeyboard"),o.exports=p},66970:o=>{var g=function(t,a){return a.timeLastMatched=t.timeStamp,a.index++,a.index===a.size?!0:(a.current=a.keyCodes[a.index],!1)};o.exports=g},87960:(o,g,t)=>{var a=t(83419),v=t(95922),h=t(95540),s=t(68769),r=t(92803),e=new a({initialize:function(l,i,u){if(u===void 0&&(u={}),i.length<2)return!1;this.manager=l,this.enabled=!0,this.keyCodes=[];for(var f=0;f<i.length;f++){var c=i[f];typeof c=="string"?this.keyCodes.push(c.toUpperCase().charCodeAt(0)):typeof c=="number"?this.keyCodes.push(c):c.hasOwnProperty("keyCode")&&this.keyCodes.push(c.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=h(u,"resetOnWrongKey",!0),this.maxKeyDelay=h(u,"maxKeyDelay",0),this.resetOnMatch=h(u,"resetOnMatch",!1),this.deleteOnMatch=h(u,"deleteOnMatch",!1);var d=this,p=function(m){if(!(d.matched||!d.enabled)){var y=s(m,d);y&&(d.manager.emit(v.COMBO_MATCH,d,m),d.resetOnMatch?r(d):d.deleteOnMatch&&d.destroy())}};this.onKeyDown=p,this.manager.on(v.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(v.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});o.exports=e},68769:(o,g,t)=>{var a=t(66970),v=function(h,s){if(s.matched)return!0;var r=!1,e=!1;if(h.keyCode===s.current)if(s.index>0&&s.maxKeyDelay>0){var n=s.timeLastMatched+s.maxKeyDelay;h.timeStamp<=n&&(e=!0,r=a(h,s))}else e=!0,r=a(h,s);return!e&&s.resetOnWrongKey&&(s.index=0,s.current=s.keyCodes[0]),r&&(s.timeLastMatched=h.timeStamp,s.matched=!0,s.timeMatched=h.timeStamp),r};o.exports=v},92803:o=>{var g=function(t){return t.current=t.keyCodes[0],t.index=0,t.timeLastMatched=0,t.matched=!1,t.timeMatched=0,t};o.exports=g},92612:o=>{o.exports="keydown"},23345:o=>{o.exports="keyup"},21957:o=>{o.exports="keycombomatch"},44743:o=>{o.exports="down"},3771:o=>{o.exports="keydown-"},46358:o=>{o.exports="keyup-"},75674:o=>{o.exports="up"},95922:(o,g,t)=>{o.exports={ANY_KEY_DOWN:t(92612),ANY_KEY_UP:t(23345),COMBO_MATCH:t(21957),DOWN:t(44743),KEY_DOWN:t(3771),KEY_UP:t(46358),UP:t(75674)}},51442:(o,g,t)=>{o.exports={Events:t(95922),KeyboardManager:t(78970),KeyboardPlugin:t(28846),Key:t(30472),KeyCodes:t(46032),KeyCombo:t(87960),AdvanceKeyCombo:t(66970),ProcessKeyCombo:t(68769),ResetKeyCombo:t(92803),JustDown:t(90229),JustUp:t(38796),DownDuration:t(37015),UpDuration:t(41170)}},37015:o=>{var g=function(t,a){a===void 0&&(a=50);var v=t.plugin.game.loop.time-t.timeDown;return t.isDown&&v<a};o.exports=g},90229:o=>{var g=function(t){return t._justDown?(t._justDown=!1,!0):!1};o.exports=g},38796:o=>{var g=function(t){return t._justUp?(t._justUp=!1,!0):!1};o.exports=g},30472:(o,g,t)=>{var a=t(83419),v=t(50792),h=t(95922),s=new a({Extends:v,initialize:function(e,n){v.call(this),this.plugin=e,this.keyCode=n,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(r){return this.emitOnRepeat=r,this},onDown:function(r){this.originalEvent=r,this.enabled&&(this.altKey=r.altKey,this.ctrlKey=r.ctrlKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.location=r.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(h.DOWN,this,r):(this.isDown=!0,this.isUp=!1,this.timeDown=r.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(h.DOWN,this,r)))},onUp:function(r){this.originalEvent=r,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=r.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(h.UP,this,r))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});o.exports=s},46032:o=>{var g={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};o.exports=g},74600:(o,g,t)=>{var a=t(46032),v={};for(var h in a)v[a[h]]=h;o.exports=v},41170:o=>{var g=function(t,a){a===void 0&&(a=50);var v=t.plugin.game.loop.time-t.timeUp;return t.isUp&&v<a};o.exports=g},85098:(o,g,t)=>{var a=t(83419),v=t(89357),h=t(8214),s=t(29747),r=new a({initialize:function(n){this.manager=n,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=s,this.onMouseDown=s,this.onMouseUp=s,this.onMouseDownWindow=s,this.onMouseUpWindow=s,this.onMouseOver=s,this.onMouseOut=s,this.onMouseWheel=s,this.pointerLockChange=s,this.isTop=!0,n.events.once(h.MANAGER_BOOT,this.boot,this)},boot:function(){var e=this.manager.config;this.enabled=e.inputMouse,this.target=e.inputMouseEventTarget,this.passive=e.inputMousePassive,this.preventDefaultDown=e.inputMousePreventDefaultDown,this.preventDefaultUp=e.inputMousePreventDefaultUp,this.preventDefaultMove=e.inputMousePreventDefaultMove,this.preventDefaultWheel=e.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,e.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(e){return e.preventDefault(),!1}),this},requestPointerLock:function(){if(v.pointerLock){var e=this.target;e.requestPointerLock=e.requestPointerLock||e.mozRequestPointerLock||e.webkitRequestPointerLock,e.requestPointerLock()}},releasePointerLock:function(){v.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var e=this.target;if(e){var n=this,l=this.manager,i=l.canvas,u=window&&window.focus&&l.game.config.autoFocus;this.onMouseMove=function(c){!c.defaultPrevented&&n.enabled&&l&&l.enabled&&(l.onMouseMove(c),n.preventDefaultMove&&c.preventDefault())},this.onMouseDown=function(c){u&&window.focus(),!c.defaultPrevented&&n.enabled&&l&&l.enabled&&(l.onMouseDown(c),n.preventDefaultDown&&c.target===i&&c.preventDefault())},this.onMouseDownWindow=function(c){c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents||!c.defaultPrevented&&n.enabled&&l&&l.enabled&&c.target!==i&&l.onMouseDown(c)},this.onMouseUp=function(c){!c.defaultPrevented&&n.enabled&&l&&l.enabled&&(l.onMouseUp(c),n.preventDefaultUp&&c.target===i&&c.preventDefault())},this.onMouseUpWindow=function(c){c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents||!c.defaultPrevented&&n.enabled&&l&&l.enabled&&c.target!==i&&l.onMouseUp(c)},this.onMouseOver=function(c){!c.defaultPrevented&&n.enabled&&l&&l.enabled&&l.setCanvasOver(c)},this.onMouseOut=function(c){!c.defaultPrevented&&n.enabled&&l&&l.enabled&&l.setCanvasOut(c)},this.onMouseWheel=function(c){!c.defaultPrevented&&n.enabled&&l&&l.enabled&&l.onMouseWheel(c),n.preventDefaultWheel&&c.target===i&&c.preventDefault()};var f={passive:!0};if(e.addEventListener("mousemove",this.onMouseMove),e.addEventListener("mousedown",this.onMouseDown),e.addEventListener("mouseup",this.onMouseUp),e.addEventListener("mouseover",this.onMouseOver,f),e.addEventListener("mouseout",this.onMouseOut,f),this.preventDefaultWheel?e.addEventListener("wheel",this.onMouseWheel,{passive:!1}):e.addEventListener("wheel",this.onMouseWheel,f),window&&l.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,f),window.top.addEventListener("mouseup",this.onMouseUpWindow,f)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,f),window.addEventListener("mouseup",this.onMouseUpWindow,f),this.isTop=!1}v.pointerLock&&(this.pointerLockChange=function(c){var d=n.target;n.locked=document.pointerLockElement===d||document.mozPointerLockElement===d||document.webkitPointerLockElement===d,l.onPointerLockChange(c)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var e=this.target;e.removeEventListener("mousemove",this.onMouseMove),e.removeEventListener("mousedown",this.onMouseDown),e.removeEventListener("mouseup",this.onMouseUp),e.removeEventListener("mouseover",this.onMouseOver),e.removeEventListener("mouseout",this.onMouseOut),window&&(e=this.isTop?window.top:window,e.removeEventListener("mousedown",this.onMouseDownWindow),e.removeEventListener("mouseup",this.onMouseUpWindow)),v.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});o.exports=r},87078:(o,g,t)=>{o.exports={MouseManager:t(85098)}},36210:(o,g,t)=>{var a=t(83419),v=t(8214),h=t(29747),s=new a({initialize:function(e){this.manager=e,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=h,this.onTouchStartWindow=h,this.onTouchMove=h,this.onTouchEnd=h,this.onTouchEndWindow=h,this.onTouchCancel=h,this.onTouchCancelWindow=h,this.isTop=!0,e.events.once(v.MANAGER_BOOT,this.boot,this)},boot:function(){var r=this.manager.config;this.enabled=r.inputTouch,this.target=r.inputTouchEventTarget,this.capture=r.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,r.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(r){return r.preventDefault(),!1}),this},startListeners:function(){var r=this.target;if(r){var e=this,n=this.manager,l=n.canvas,i=window&&window.focus&&n.game.config.autoFocus;this.onTouchMove=function(d){!d.defaultPrevented&&e.enabled&&n&&n.enabled&&(n.onTouchMove(d),e.capture&&d.cancelable&&d.preventDefault())},this.onTouchStart=function(d){i&&window.focus(),!d.defaultPrevented&&e.enabled&&n&&n.enabled&&(n.onTouchStart(d),e.capture&&d.cancelable&&d.target===l&&d.preventDefault())},this.onTouchStartWindow=function(d){!d.defaultPrevented&&e.enabled&&n&&n.enabled&&d.target!==l&&n.onTouchStart(d)},this.onTouchEnd=function(d){!d.defaultPrevented&&e.enabled&&n&&n.enabled&&(n.onTouchEnd(d),e.capture&&d.cancelable&&d.target===l&&d.preventDefault())},this.onTouchEndWindow=function(d){!d.defaultPrevented&&e.enabled&&n&&n.enabled&&d.target!==l&&n.onTouchEnd(d)},this.onTouchCancel=function(d){!d.defaultPrevented&&e.enabled&&n&&n.enabled&&(n.onTouchCancel(d),e.capture&&d.preventDefault())},this.onTouchCancelWindow=function(d){!d.defaultPrevented&&e.enabled&&n&&n.enabled&&n.onTouchCancel(d)};var u=this.capture,f={passive:!0},c={passive:!1};if(r.addEventListener("touchstart",this.onTouchStart,u?c:f),r.addEventListener("touchmove",this.onTouchMove,u?c:f),r.addEventListener("touchend",this.onTouchEnd,u?c:f),r.addEventListener("touchcancel",this.onTouchCancel,u?c:f),window&&n.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,c),window.top.addEventListener("touchend",this.onTouchEndWindow,c),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,c)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,c),window.addEventListener("touchend",this.onTouchEndWindow,c),window.addEventListener("touchcancel",this.onTouchCancelWindow,c),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var r=this.target;r.removeEventListener("touchstart",this.onTouchStart),r.removeEventListener("touchmove",this.onTouchMove),r.removeEventListener("touchend",this.onTouchEnd),r.removeEventListener("touchcancel",this.onTouchCancel),window&&(r=this.isTop?window.top:window,r.removeEventListener("touchstart",this.onTouchStartWindow),r.removeEventListener("touchend",this.onTouchEndWindow),r.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});o.exports=s},95618:(o,g,t)=>{o.exports={TouchManager:t(36210)}},41299:(o,g,t)=>{var a=t(83419),v=t(23906),h=t(54899),s=t(95540),r=t(98356),e=t(3374),n=t(84376),l=t(92638),i=new a({initialize:function(f,c){if(this.loader=f,this.cache=s(c,"cache",!1),this.type=s(c,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=s(c,"key",!1);var d=this.key;if(f.prefix&&f.prefix!==""&&(this.key=f.prefix+d),!this.key)throw new Error("Invalid File key: "+this.key);var p=s(c,"url");p===void 0?p=f.path+d+"."+s(c,"extension",""):typeof p=="string"&&!p.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(p=f.path+p),this.url=p,this.src="",this.xhrSettings=l(s(c,"responseType",void 0)),s(c,"xhrSettings",!1)&&(this.xhrSettings=e(this.xhrSettings,s(c,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?v.FILE_POPULATED:v.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=s(c,"config",{}),this.multiFile,this.linkFile,this.base64=typeof p=="string"&&p.indexOf("data:")===0,this.retryAttempts=s(c,"maxRetries",f.maxRetries)},setLink:function(u){this.linkFile=u,u.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){if(this.state===v.FILE_POPULATED)this.loader.nextFile(this,!0);else{if(this.state=v.FILE_LOADING,this.src=r(this,this.loader.baseURL),!this.src)throw new Error("URL Error in File: "+this.key+" from: "+this.url);this.src.indexOf("data:")===0&&(this.base64=!0),this.xhrLoader=n(this,this.loader.xhr)}},onLoad:function(u,f){var c=u.responseURL&&this.loader.localSchemes.some(function(m){return u.responseURL.indexOf(m)===0}),d=c&&f.target.status===0,p=!(f.target&&f.target.status!==200)||d;u.readyState===4&&u.status>=400&&u.status<=599&&(p=!1),this.state=v.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,p)},onBase64Load:function(u){this.xhrLoader=u,this.state=v.FILE_LOADED,this.percentComplete=1,this.loader.emit(h.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.retryAttempts>0?(this.retryAttempts--,this.load()):this.loader.nextFile(this,!1)},onProgress:function(u){u.lengthComputable&&(this.bytesLoaded=u.loaded,this.bytesTotal=u.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(h.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=v.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=v.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=v.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(u){if(this.state!==v.FILE_PENDING_DESTROY){u===void 0&&(u=this.data);var f=this.key,c=this.type;this.loader.emit(h.FILE_COMPLETE,f,c,u),this.loader.emit(h.FILE_KEY_COMPLETE+c+"-"+f,f,c,u),this.loader.flagForRemoval(this),this.state=v.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});i.createObjectURL=function(u,f,c){if(typeof URL=="function")u.src=URL.createObjectURL(f);else{var d=new FileReader;d.onload=function(){u.removeAttribute("crossOrigin"),u.src="data:"+(f.type||c)+";base64,"+d.result.split(",")[1]},d.onerror=u.onerror,d.readAsDataURL(f)}},i.revokeObjectURL=function(u){typeof URL=="function"&&URL.revokeObjectURL(u.src)},o.exports=i},74099:o=>{var g={},t={install:function(a){for(var v in g)a[v]=g[v]},register:function(a,v){g[a]=v},destroy:function(){g={}}};o.exports=t},98356:o=>{var g=function(t,a){return t.url?t.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?t.url:a+t.url:!1};o.exports=g},74261:(o,g,t)=>{var a=t(83419),v=t(23906),h=t(35072),s=t(50792),r=t(54899),e=t(74099),n=t(95540),l=t(35154),i=t(41212),u=t(37277),f=t(44594),c=t(92638),d=new a({Extends:s,initialize:function(m){s.call(this);var y=m.sys.game.config,x=m.sys.settings.loader;this.scene=m,this.systems=m.sys,this.cacheManager=m.sys.cache,this.textureManager=m.sys.textures,this.sceneManager=m.sys.game.scene,e.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(n(x,"baseURL",y.loaderBaseURL)),this.setPath(n(x,"path",y.loaderPath)),this.setPrefix(n(x,"prefix",y.loaderPrefix)),this.maxParallelDownloads=n(x,"maxParallelDownloads",y.loaderMaxParallelDownloads),this.xhr=c(n(x,"responseType",y.loaderResponseType),n(x,"async",y.loaderAsync),n(x,"user",y.loaderUser),n(x,"password",y.loaderPassword),n(x,"timeout",y.loaderTimeout),n(x,"withCredentials",y.loaderWithCredentials)),this.crossOrigin=n(x,"crossOrigin",y.loaderCrossOrigin),this.imageLoadType=n(x,"imageLoadType",y.loaderImageLoadType),this.localSchemes=n(x,"localScheme",y.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new h,this.inflight=new h,this.queue=new h,this._deleteQueue=new h,this.totalFailed=0,this.totalComplete=0,this.state=v.LOADER_IDLE,this.multiKeyIndex=0,this.maxRetries=n(x,"maxRetries",y.loaderMaxRetries),m.sys.events.once(f.BOOT,this.boot,this),m.sys.events.on(f.START,this.pluginStart,this)},boot:function(){this.systems.events.once(f.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(f.SHUTDOWN,this.shutdown,this)},setBaseURL:function(p){return p===void 0&&(p=""),p!==""&&p.substr(-1)!=="/"&&(p=p.concat("/")),this.baseURL=p,this},setPath:function(p){return p===void 0&&(p=""),p!==""&&p.substr(-1)!=="/"&&(p=p.concat("/")),this.path=p,this},setPrefix:function(p){return p===void 0&&(p=""),this.prefix=p,this},setCORS:function(p){return this.crossOrigin=p,this},addFile:function(p){Array.isArray(p)||(p=[p]);for(var m=0;m<p.length;m++){var y=p[m];this.keyExists(y)||(this.list.set(y),this.emit(r.ADD,y.key,y.type,this,y),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(p){var m=p.hasCacheConflict();return m||this.list.iterate(function(y){if(y.type===p.type&&y.key===p.key)return m=!0,!1}),!m&&this.isLoading()&&(this.inflight.iterate(function(y){if(y.type===p.type&&y.key===p.key)return m=!0,!1}),this.queue.iterate(function(y){if(y.type===p.type&&y.key===p.key)return m=!0,!1})),m},addPack:function(p,m){if(typeof m=="string"){var y=l(p,m);y&&(p={packKey:y})}var x=0,C=this.baseURL,E=this.path,R=this.prefix;for(var M in p)if(Object.prototype.hasOwnProperty.call(p,M)){var w=p[M],D=n(w,"baseURL",C),F=n(w,"path",E),I=n(w,"prefix",R),L=n(w,"files",null),B=n(w,"defaultType","void");if(Array.isArray(L)){this.setBaseURL(D),this.setPath(F),this.setPrefix(I);for(var G=0;G<L.length;G++){var V=L[G],X=V.hasOwnProperty("type")?V.type:B;this[X]&&(this[X](V),x++)}}}return this.setBaseURL(C),this.setPath(E),this.setPrefix(R),x>0},removePack:function(p,m){var y=this.systems.anims,x=this.cacheManager,C=this.textureManager,E={animation:"json",aseprite:"json",audio:"audio",audioSprite:"audio",binary:"binary",bitmapFont:"bitmapFont",css:null,glsl:"shader",html:"html",json:"json",obj:"obj",plugin:null,scenePlugin:null,script:null,spine:"json",text:"text",tilemapCSV:"tilemap",tilemapImpact:"tilemap",tilemapTiledJSON:"tilemap",video:"video",xml:"xml"},R;if(i(p))R=p;else if(R=x.json.get(p),!R){console.warn("Asset Pack not found in JSON cache:",p);return}m&&(R={_:R[m]});for(var M in R){var w=R[M],D=n(w,"prefix",""),F=n(w,"files"),I=n(w,"defaultType");if(Array.isArray(F))for(var L=0;L<F.length;L++){var B=F[L],G=B.hasOwnProperty("type")?B.type:I;if(!G){console.warn("No type:",B);continue}var V=D+B.key;if(G==="animation"&&y.remove(V),!((G==="aseprite"||G==="atlas"||G==="atlasXML"||G==="htmlTexture"||G==="image"||G==="multiatlas"||G==="spritesheet"||G==="svg"||G==="texture"||G==="unityAtlas")&&(C.remove(V),!E[G]))){if(G==="pack"){this.removePack(V,B.dataKey);continue}if(G==="spine"){var X=x.custom.spine.get(V);if(!X)continue;var b=X.prefix===void 0?"":X.prefix;x.custom.spine.remove(V);var U=x.custom.spineTextures.get(V);if(!U)continue;x.custom.spineTextures.remove(V);for(var O=0;O<U.pages.length;O++){var z=U.pages[O],N=b+z.name,Y=V+":"+N;C.exists(Y)?C.remove(Y):C.remove(N)}}var W=E[G];if(W!==null){if(!W){console.warn("Unknown type:",G);continue}var H=x[W];H.remove(V)}}}}},isLoading:function(){return this.state===v.LOADER_LOADING||this.state===v.LOADER_PROCESSING},isReady:function(){return this.state===v.LOADER_IDLE||this.state===v.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(r.START,this),this.list.size===0?this.loadComplete():(this.state=v.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(f.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(r.PROGRESS,this.progress)},update:function(){this.state===v.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(p){if((p.state===v.FILE_POPULATED||p.state===v.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(p),this.list.delete(p),p.crossOrigin||(p.crossOrigin=this.crossOrigin),p.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(p,m){this.inflight&&(this.inflight.delete(p),this.updateProgress(),m?(this.totalComplete++,this.queue.set(p),this.emit(r.FILE_LOAD,p),p.onProcess()):(this.totalFailed++,this._deleteQueue.set(p),this.emit(r.FILE_LOAD_ERROR,p),this.fileProcessComplete(p)))},fileProcessComplete:function(p){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(p.state===v.FILE_ERRORED?p.multiFile&&p.multiFile.onFileFailed(p):p.state===v.FILE_COMPLETE&&(p.multiFile?p.multiFile.isReadyToProcess()&&(p.multiFile.addToCache(),p.multiFile.pendingDestroy()):(p.addToCache(),p.pendingDestroy())),this.queue.delete(p),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(r.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=v.LOADER_COMPLETE,this.systems.events.off(f.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(r.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(p){this._deleteQueue.set(p)},saveJSON:function(p,m){return this.save(JSON.stringify(p),m)},save:function(p,m,y){m===void 0&&(m="file.json"),y===void 0&&(y="application/json");var x=new Blob([p],{type:y}),C=URL.createObjectURL(x),E=document.createElement("a");return E.download=m,E.textContent="Download "+m,E.href=C,E.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var p=this.systems.game.config,m=this.systems.settings.loader;this.setBaseURL(n(m,"baseURL",p.loaderBaseURL)),this.setPath(n(m,"path",p.loaderPath)),this.setPrefix(n(m,"prefix",p.loaderPrefix)),this.state=v.LOADER_IDLE},shutdown:function(){this.reset(),this.state=v.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(f.UPDATE,this.update,this),this.systems.events.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=v.LOADER_DESTROYED,this.systems.events.off(f.UPDATE,this.update,this),this.systems.events.off(f.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});u.register("Loader",d,"load"),o.exports=d},3374:(o,g,t)=>{var a=t(79291),v=t(92638),h=function(s,r){var e=s===void 0?v():a({},s);if(r)for(var n in r)r[n]!==void 0&&(e[n]=r[n]);return e};o.exports=h},26430:(o,g,t)=>{var a=t(83419),v=t(23906),h=t(54899),s=new a({initialize:function(e,n,l,i){var u=[];i.forEach(function(d){d&&u.push(d)}),this.loader=e,this.type=n,this.key=l;var f=this.key;e.prefix&&e.prefix!==""&&(this.key=e.prefix+f),this.multiKeyIndex=e.multiKeyIndex++,this.files=u,this.state=v.FILE_PENDING,this.complete=!1,this.pending=u.length,this.failed=0,this.config={},this.baseURL=e.baseURL,this.path=e.path,this.prefix=e.prefix;for(var c=0;c<u.length;c++)u[c].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(r){return this.files.push(r),r.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(r){var e=this.files.indexOf(r);e!==-1&&this.pending--},onFileFailed:function(r){var e=this.files.indexOf(r);e!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,r.type,r.key))},pendingDestroy:function(){if(this.state!==v.FILE_PENDING_DESTROY){var r=this.key,e=this.type;this.loader.emit(h.FILE_COMPLETE,r,e),this.loader.emit(h.FILE_KEY_COMPLETE+e+"-"+r,r,e),this.loader.flagForRemoval(this);for(var n=0;n<this.files.length;n++)this.files[n].pendingDestroy();this.state=v.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});o.exports=s},84376:(o,g,t)=>{var a=t(3374),v=function(h,s){var r=a(s,h.xhrSettings);if(h.base64){var e=h.url.split(";base64,").pop()||h.url.split(",").pop(),n;h.xhrSettings.responseType==="arraybuffer"?n={response:Uint8Array.from(atob(e),function(u){return u.charCodeAt(0)}).buffer}:n={responseText:atob(e)},h.onBase64Load(n);return}var l=new XMLHttpRequest;if(l.open("GET",h.src,r.async,r.user,r.password),l.responseType=h.xhrSettings.responseType,l.timeout=r.timeout,r.headers)for(var i in r.headers)l.setRequestHeader(i,r.headers[i]);return r.header&&r.headerValue&&l.setRequestHeader(r.header,r.headerValue),r.requestedWith&&l.setRequestHeader("X-Requested-With",r.requestedWith),r.overrideMimeType&&l.overrideMimeType(r.overrideMimeType),r.withCredentials&&(l.withCredentials=!0),l.onload=h.onLoad.bind(h,l),l.onerror=h.onError.bind(h,l),l.onprogress=h.onProgress.bind(h),l.ontimeout=h.onError.bind(h,l),l.send(),l};o.exports=v},92638:o=>{var g=function(t,a,v,h,s,r){return t===void 0&&(t=""),a===void 0&&(a=!0),v===void 0&&(v=""),h===void 0&&(h=""),s===void 0&&(s=0),r===void 0&&(r=!1),{responseType:t,async:a,user:v,password:h,timeout:s,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:r}};o.exports=g},23906:o=>{var g={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};o.exports=g},42155:o=>{o.exports="addfile"},38991:o=>{o.exports="complete"},27540:o=>{o.exports="filecomplete"},87464:o=>{o.exports="filecomplete-"},94486:o=>{o.exports="loaderror"},13035:o=>{o.exports="load"},38144:o=>{o.exports="fileprogress"},97520:o=>{o.exports="postprocess"},85595:o=>{o.exports="progress"},55680:o=>{o.exports="start"},54899:(o,g,t)=>{o.exports={ADD:t(42155),COMPLETE:t(38991),FILE_COMPLETE:t(27540),FILE_KEY_COMPLETE:t(87464),FILE_LOAD_ERROR:t(94486),FILE_LOAD:t(13035),FILE_PROGRESS:t(38144),POST_PROCESS:t(97520),PROGRESS:t(85595),START:t(55680)}},14135:(o,g,t)=>{var a=t(83419),v=t(74099),h=t(518),s=t(54899),r=new a({Extends:h,initialize:function(n,l,i,u,f){h.call(this,n,l,i,u,f),this.type="animationJSON"},onProcess:function(){this.loader.once(s.POST_PROCESS,this.onLoadComplete,this),h.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});v.register("animation",function(e,n,l,i){if(Array.isArray(e))for(var u=0;u<e.length;u++)this.addFile(new r(this,e[u]));else this.addFile(new r(this,e,n,i,l));return this}),o.exports=r},76272:(o,g,t)=>{var a=t(83419),v=t(74099),h=t(95540),s=t(19550),r=t(41212),e=t(518),n=t(26430),l=new a({Extends:n,initialize:function(u,f,c,d,p,m){var y,x;if(r(f)){var C=f;f=h(C,"key"),y=new s(u,{key:f,url:h(C,"textureURL"),extension:h(C,"textureExtension","png"),normalMap:h(C,"normalMap"),xhrSettings:h(C,"textureXhrSettings")}),x=new e(u,{key:f,url:h(C,"atlasURL"),extension:h(C,"atlasExtension","json"),xhrSettings:h(C,"atlasXhrSettings")})}else y=new s(u,f,c,p),x=new e(u,f,d,m);y.linkFile?n.call(this,u,"atlasjson",f,[y,x,y.linkFile]):n.call(this,u,"atlasjson",f,[y,x])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],u=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(i.key,i.data,u.data,f),u.addToCache(),this.complete=!0}}});v.register("aseprite",function(i,u,f,c,d){var p;if(Array.isArray(i))for(var m=0;m<i.length;m++)p=new l(this,i[m]),this.addFile(p.files);else p=new l(this,i,u,f,c,d),this.addFile(p.files);return this}),o.exports=l},38734:(o,g,t)=>{var a=t(83419),v=t(74099),h=t(95540),s=t(19550),r=t(41212),e=t(518),n=t(26430),l=new a({Extends:n,initialize:function(u,f,c,d,p,m){var y,x;if(r(f)){var C=f;f=h(C,"key"),y=new s(u,{key:f,url:h(C,"textureURL"),extension:h(C,"textureExtension","png"),normalMap:h(C,"normalMap"),xhrSettings:h(C,"textureXhrSettings")}),x=new e(u,{key:f,url:h(C,"atlasURL"),extension:h(C,"atlasExtension","json"),xhrSettings:h(C,"atlasXhrSettings")})}else y=new s(u,f,c,p),x=new e(u,f,d,m);y.linkFile?n.call(this,u,"atlasjson",f,[y,x,y.linkFile]):n.call(this,u,"atlasjson",f,[y,x])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],u=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(i.key,i.data,u.data,f),this.complete=!0}}});v.register("atlas",function(i,u,f,c,d){var p;if(Array.isArray(i))for(var m=0;m<i.length;m++)p=new l(this,i[m]),this.addFile(p.files);else p=new l(this,i,u,f,c,d),this.addFile(p.files);return this}),o.exports=l},74599:(o,g,t)=>{var a=t(83419),v=t(74099),h=t(95540),s=t(19550),r=t(41212),e=t(26430),n=t(57318),l=new a({Extends:e,initialize:function(u,f,c,d,p,m){var y,x;if(r(f)){var C=f;f=h(C,"key"),y=new s(u,{key:f,url:h(C,"textureURL"),extension:h(C,"textureExtension","png"),normalMap:h(C,"normalMap"),xhrSettings:h(C,"textureXhrSettings")}),x=new n(u,{key:f,url:h(C,"atlasURL"),extension:h(C,"atlasExtension","xml"),xhrSettings:h(C,"atlasXhrSettings")})}else y=new s(u,f,c,p),x=new n(u,f,d,m);y.linkFile?e.call(this,u,"atlasxml",f,[y,x,y.linkFile]):e.call(this,u,"atlasxml",f,[y,x])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],u=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(i.key,i.data,u.data,f),this.complete=!0}}});v.register("atlasXML",function(i,u,f,c,d){var p;if(Array.isArray(i))for(var m=0;m<i.length;m++)p=new l(this,i[m]),this.addFile(p.files);else p=new l(this,i,u,f,c,d),this.addFile(p.files);return this}),o.exports=l},21097:(o,g,t)=>{var a=t(83419),v=t(23906),h=t(41299),s=t(74099),r=t(95540),e=t(89749),n=t(41212),l=new a({Extends:h,initialize:function(u,f,c,d,p){if(n(f)){var m=f;f=r(m,"key"),d=r(m,"xhrSettings"),p=r(m,"context",p)}var y={type:"audio",cache:u.cacheManager.audio,extension:c.type,responseType:"arraybuffer",key:f,url:c.url,xhrSettings:d,config:{context:p}};h.call(this,u,y)},onProcess:function(){this.state=v.FILE_PROCESSING;var i=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(u){i.data=u,i.onProcessComplete()},function(u){console.error("Error decoding audio: "+i.key+" - ",u?u.message:null),i.onProcessError()}),this.config.context=null}});l.create=function(i,u,f,c,d){var p=i.systems.game,m=p.config.audio,y=p.device.audio;n(u)&&(f=r(u,"url",[]),c=r(u,"config",{}));var x=l.getAudioURL(p,f);return x?y.webAudio&&!m.disableWebAudio?new l(i,u,x,d,p.sound.context):new e(i,u,x,c):(console.warn('No audio URLs for "%s" can play on this device',u),null)},l.getAudioURL=function(i,u){Array.isArray(u)||(u=[u]);for(var f=0;f<u.length;f++){var c=r(u[f],"url",u[f]);if(c.indexOf("blob:")===0||c.indexOf("data:")===0)return{url:c,type:""};var d=c.match(/\.([a-zA-Z0-9]+)($|\?)/);if(d=r(u[f],"type",d?d[1]:"").toLowerCase(),i.device.audio[d])return{url:c,type:d}}return null},s.register("audio",function(i,u,f,c){var d=this.systems.game,p=d.config.audio,m=d.device.audio;if(p.noAudio||!m.webAudio&&!m.audioData)return this;var y;if(Array.isArray(i))for(var x=0;x<i.length;x++)y=l.create(this,i[x]),y&&this.addFile(y);else y=l.create(this,i,u,f,c),y&&this.addFile(y);return this}),o.exports=l},89524:(o,g,t)=>{var a=t(21097),v=t(83419),h=t(74099),s=t(95540),r=t(41212),e=t(518),n=t(26430),l=new v({Extends:n,initialize:function(u,f,c,d,p,m,y){if(r(f)){var x=f;f=s(x,"key"),c=s(x,"jsonURL"),d=s(x,"audioURL"),p=s(x,"audioConfig"),m=s(x,"audioXhrSettings"),y=s(x,"jsonXhrSettings")}var C;if(!d)C=new e(u,f,c,y),n.call(this,u,"audiosprite",f,[C]),this.config.resourceLoad=!0,this.config.audioConfig=p,this.config.audioXhrSettings=m;else{var E=a.create(u,f,d,p,m);E&&(C=new e(u,f,c,y),n.call(this,u,"audiosprite",f,[E,C]),this.config.resourceLoad=!1)}},onFileComplete:function(i){var u=this.files.indexOf(i);if(u!==-1&&(this.pending--,this.config.resourceLoad&&i.type==="json"&&i.data.hasOwnProperty("resources"))){var f=i.data.resources,c=s(this.config,"audioConfig"),d=s(this.config,"audioXhrSettings"),p=a.create(this.loader,i.key,f,c,d);p&&(this.addToMultiFile(p),this.loader.addFile(p))}},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],u=this.files[1];i.addToCache(),u.addToCache(),this.complete=!0}}});h.register("audioSprite",function(i,u,f,c,d,p){var m=this.systems.game,y=m.config.audio,x=m.device.audio;if(y&&y.noAudio||!x.webAudio&&!x.audioData)return this;var C;if(Array.isArray(i))for(var E=0;E<i.length;E++)C=new l(this,i[E]),C.files&&this.addFile(C.files);else C=new l(this,i,u,f,c,d,p),C.files&&this.addFile(C.files);return this})},85722:(o,g,t)=>{var a=t(83419),v=t(23906),h=t(41299),s=t(74099),r=t(95540),e=t(41212),n=new a({Extends:h,initialize:function(i,u,f,c,d){var p="bin";if(e(u)){var m=u;u=r(m,"key"),f=r(m,"url"),c=r(m,"xhrSettings"),p=r(m,"extension",p),d=r(m,"dataType",d)}var y={type:"binary",cache:i.cacheManager.binary,extension:p,responseType:"arraybuffer",key:u,url:f,xhrSettings:c,config:{dataType:d}};h.call(this,i,y)},onProcess:function(){this.state=v.FILE_PROCESSING;var l=this.config.dataType;this.data=l?new l(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});s.register("binary",function(l,i,u,f){if(Array.isArray(l))for(var c=0;c<l.length;c++)this.addFile(new n(this,l[c]));else this.addFile(new n(this,l,i,f,u));return this}),o.exports=n},97025:(o,g,t)=>{var a=t(83419),v=t(74099),h=t(95540),s=t(19550),r=t(41212),e=t(26430),n=t(21859),l=t(57318),i=new a({Extends:e,initialize:function(f,c,d,p,m,y){var x,C;if(r(c)){var E=c;c=h(E,"key"),x=new s(f,{key:c,url:h(E,"textureURL"),extension:h(E,"textureExtension","png"),normalMap:h(E,"normalMap"),xhrSettings:h(E,"textureXhrSettings")}),C=new l(f,{key:c,url:h(E,"fontDataURL"),extension:h(E,"fontDataExtension","xml"),xhrSettings:h(E,"fontDataXhrSettings")})}else x=new s(f,c,d,m),C=new l(f,c,p,y);x.linkFile?e.call(this,f,"bitmapfont",c,[x,C,x.linkFile]):e.call(this,f,"bitmapfont",c,[x,C])},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],f=this.files[1];u.addToCache();var c=u.cache.get(u.key),d=n(f.data,u.cache.getFrame(u.key),0,0,c);this.loader.cacheManager.bitmapFont.add(u.key,{data:d,texture:u.key,frame:null}),this.complete=!0}}});v.register("bitmapFont",function(u,f,c,d,p){var m;if(Array.isArray(u))for(var y=0;y<u.length;y++)m=new i(this,u[y]),this.addFile(m.files);else m=new i(this,u,f,c,d,p),this.addFile(m.files);return this}),o.exports=i},16024:(o,g,t)=>{var a=t(83419),v=t(23906),h=t(41299),s=t(74099),r=t(95540),e=t(41212),n=new a({Extends:h,initialize:function(i,u,f,c){var d="css";if(e(u)){var p=u;u=r(p,"key"),f=r(p,"url"),c=r(p,"xhrSettings"),d=r(p,"extension",d)}var m={type:"script",cache:!1,extension:d,responseType:"text",key:u,url:f,xhrSettings:c};h.call(this,i,m)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});s.register("css",function(l,i,u){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new n(this,l[f]));else this.addFile(new n(this,l,i,u));return this}),o.exports=n},69559:(o,g,t)=>{var a=t(38734),v=t(85722),h=t(83419),s=t(74099),r=t(95540),e=t(19550),n=t(41212),l=t(518),i=t(31403),u=t(46975),f=t(59327),c=t(26430),d=t(82038),p=t(55222),m=new h({Extends:c,initialize:function(x,C,E,R){if(E.multiAtlasURL){var M=new l(x,{key:C,url:E.multiAtlasURL,xhrSettings:R,config:E});c.call(this,x,"texture",C,[M])}else{var w=E.textureURL.substr(E.textureURL.length-3);E.type||(E.type=w.toLowerCase()==="ktx"?"KTX":"PVR");var D=new v(x,{key:C,url:E.textureURL,extension:w,xhrSettings:R,config:E});if(E.atlasURL){var F=new l(x,{key:C,url:E.atlasURL,xhrSettings:R,config:E});c.call(this,x,"texture",C,[D,F])}else c.call(this,x,"texture",C,[D])}this.config=E},onFileComplete:function(y){var x=this.files.indexOf(y);if(x!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(y.type==="json"&&y.data.hasOwnProperty("textures")){var C=y.data.textures,E=this.config,R=this.loader,M=R.baseURL,w=R.path,D=R.prefix,F=r(E,"multiBaseURL",this.baseURL),I=r(E,"multiPath",this.path),L=r(E,"prefix",this.prefix),B=r(E,"textureXhrSettings");F&&R.setBaseURL(F),I&&R.setPath(I),L&&R.setPrefix(L);for(var G=0;G<C.length;G++){var V=C[G].image,X="CMA"+this.multiKeyIndex+"_"+V,b=new v(R,X,V,B);if(this.addToMultiFile(b),R.addFile(b),C[G].normalMap){var U=new v(R,X,C[G].normalMap,B);U.type="normalMap",b.setLink(U),this.addToMultiFile(U),R.addFile(U)}}R.setBaseURL(M),R.setPath(w),R.setPrefix(D)}}},addToCache:function(){function y(F){console.warn('Compressed Texture Invalid: "'+M.key+'". '+F)}if(this.isReadyToProcess()){var x=this.config;if(x.multiAtlasURL)this.addMultiToCache();else{var C=this.loader.systems.renderer,E=this.loader.textureManager,R,M=this.files[0],w=this.files[1];if(x.type==="PVR"?R=d(M.data):x.type==="KTX"&&(R=i(M.data),R||y("KTX file contains unsupported format.")),R&&!p(R)&&(y("Texture dimensions failed verification. Check the texture format specifications for "+x.format+" 0x"+R.internalFormat.toString(16)+"."),R=null),R&&!C.supportsCompressedTexture(x.format,R.internalFormat)&&(y("Texture format "+x.format+" with internal format "+R.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),R=null),R){R.format=C.getCompressedTextureName(x.format,R.internalFormat);var D=w&&w.data?w.data:null;E.addCompressedTexture(M.key,R,D)}}this.complete=!0}},addMultiToCache:function(){for(var y=this.config,x=this.files[0],C=[],E=[],R=[],M=this.loader.systems.renderer,w=this.loader.textureManager,D,F=1;F<this.files.length;F++){var I=this.files[F];if(I.type!=="normalMap")for(var L=I.key.indexOf("_"),B=I.key.substr(L+1),G=I.data,V=0;V<x.data.textures.length;V++){var X=x.data.textures[V];if(X.image===B){y.type==="PVR"?D=d(G):y.type==="KTX"&&(D=i(G)),D&&M.supportsCompressedTexture(y.format,D.internalFormat)&&(D.format=M.getCompressedTextureName(y.format,D.internalFormat),E.push(D),C.push(X),I.linkFile&&R.push(I.linkFile.data));break}}}R.length===0&&(R=void 0),w.addAtlasJSONArray(this.key,E,C,R),this.complete=!0}});s.register("texture",function(y,x,C){var E=this.systems.renderer,R=function(w,D,F,I){var L={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(n(D)){var B=D;D=r(B,"key"),F=r(B,"url"),I=r(B,"xhrSettings")}var G=!1;for(var V in F)if(E.supportsCompressedTexture(V)){var X=F[V];typeof X=="string"?L.textureURL=X:L=u(X,L),L.format=V.toUpperCase(),G=!0;break}if(!G)console.warn("No supported compressed texture format or IMG fallback",D);else if(L.format==="IMG"){var b,U;L.multiAtlasURL?(U=new f(w,D,L.multiAtlasURL,L.multiPath,L.multiBaseURL,I),b=U.files):L.atlasURL?(U=new a(w,D,L.textureURL,L.atlasURL,I),b=U.files):b=new e(w,D,L.textureURL,I),w.addFile(b)}else{var O=new m(w,D,L,I);w.addFile(O.files)}};if(Array.isArray(y))for(var M=0;M<y.length;M++)R(this,y[M]);else R(this,y,x,C);return this}),o.exports=m},87674:(o,g,t)=>{var a=t(83419),v=t(23906),h=t(41299),s=t(74099),r=t(95540),e=t(98356),n=t(41212),l=new a({Extends:h,initialize:function(u,f,c,d,p,m){var y="ttf";if(n(f)){var x=f;f=r(x,"key"),c=r(x,"url"),d=r(x,"format","truetype"),p=r(x,"descriptors",null),m=r(x,"xhrSettings"),y=r(x,"extension",y)}else d===void 0&&(d="truetype");var C={type:"font",cache:!1,extension:y,responseType:"text",key:f,url:c,xhrSettings:m};h.call(this,u,C),this.data={format:d,descriptors:p},this.state=v.FILE_POPULATED},onProcess:function(){this.state=v.FILE_PROCESSING,this.src=e(this,this.loader.baseURL);var i,u=this.key,f="url("+this.src+') format("'+this.data.format+'")';this.data.descriptors?i=new FontFace(u,f,this.data.descriptors):i=new FontFace(u,f);var c=this;i.load().then(function(){document.fonts.add(i),document.body.classList.add("fonts-loaded"),c.onProcessComplete()}).catch(function(){console.warn("Font failed to load",f),c.onProcessComplete()})}});s.register("font",function(i,u,f,c,d){if(Array.isArray(i))for(var p=0;p<i.length;p++)this.addFile(new l(this,i[p]));else this.addFile(new l(this,i,u,f,c,d));return this}),o.exports=l},47931:(o,g,t)=>{var a=t(83419),v=t(23906),h=t(41299),s=t(74099),r=t(95540),e=t(41212),n=t(73894),l=new a({Extends:h,initialize:function(u,f,c,d,p){var m="glsl";if(e(f)){var y=f;f=r(y,"key"),c=r(y,"url"),d=r(y,"shaderType","fragment"),p=r(y,"xhrSettings"),m=r(y,"extension",m)}else d===void 0&&(d="fragment");var x={type:"glsl",cache:u.cacheManager.shader,extension:m,responseType:"text",key:f,url:c,config:{shaderType:d},xhrSettings:p};h.call(this,u,x)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var i=this.data.split(`
`),u=this.extractBlock(i,0);if(u)for(;u;){var f=this.getShaderName(u.header),c=this.getShaderType(u.header),d=this.getShaderUniforms(u.header),p=u.shader;if(this.cache.has(f)){var m=this.cache.get(f);c==="fragment"?m.fragmentSrc=p:m.vertexSrc=p,m.uniforms||(m.uniforms=d)}else c==="fragment"?this.cache.add(f,new n(f,p,"",d)):this.cache.add(f,new n(f,"",p,d));u=this.extractBlock(i,u.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new n(this.key,this.data)):this.cache.add(this.key,new n(this.key,"",this.data))},getShaderName:function(i){for(var u=0;u<i.length;u++){var f=i[u].trim();if(f.substring(0,5)==="name:")return f.substring(5).trim()}return this.key},getShaderType:function(i){for(var u=0;u<i.length;u++){var f=i[u].trim();if(f.substring(0,5)==="type:")return f.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(i){for(var u={},f=0;f<i.length;f++){var c=i[f].trim();if(c.substring(0,8)==="uniform."){var d=c.indexOf(":");if(d){var p=c.substring(8,d);try{u[p]=JSON.parse(c.substring(d+1))}catch{console.warn("Invalid uniform JSON: "+p)}}}}return u},extractBlock:function(i,u){for(var f=-1,c=-1,d=-1,p=!1,m=!1,y=[],x=[],C=u;C<i.length;C++){var E=i[C].trim();if(E==="---")if(f===-1)f=C,p=!0;else if(p)c=C,p=!1,m=!0;else{m=!1;break}else p?y.push(E):m&&(x.push(E),d=C)}return!p&&c!==-1?{header:y,shader:x.join(`
`),offset:d}:null}});s.register("glsl",function(i,u,f,c){if(Array.isArray(i))for(var d=0;d<i.length;d++)this.addFile(new l(this,i[d]));else this.addFile(new l(this,i,u,f,c));return this}),o.exports=l},89749:(o,g,t)=>{var a=t(83419),v=t(54899),h=t(41299),s=t(95540),r=t(98356),e=t(41212),n=new a({Extends:h,initialize:function(i,u,f,c){if(e(u)){var d=u;u=s(d,"key"),c=s(d,"config",c)}var p={type:"audio",cache:i.cacheManager.audio,extension:f.type,key:u,url:f.url,config:c};h.call(this,i,p),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var l=0;l<this.data.length;l++){var i=this.data[l];i.oncanplaythrough=null,i.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(l){var i=l.target;i.oncanplaythrough=null,i.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(v.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var l=this.config&&this.config.instances||1;this.filesTotal=l,this.filesLoaded=0,this.percentComplete=0;for(var i=0;i<l;i++){var u=new Audio;u.dataset||(u.dataset={}),u.dataset.name=this.key+("0"+i).slice(-2),u.dataset.used="false",this.locked?u.dataset.locked="true":(u.dataset.locked="false",u.preload="auto",u.oncanplaythrough=this.onProgress.bind(this),u.onerror=this.onError.bind(this)),this.data.push(u)}for(i=0;i<this.data.length;i++)u=this.data[i],u.src=r(this,this.loader.baseURL),this.locked||u.load();this.locked&&setTimeout(this.onLoad.bind(this))}});o.exports=n},88470:(o,g,t)=>{var a=t(83419),v=t(23906),h=t(41299),s=t(74099),r=t(95540),e=t(41212),n=new a({Extends:h,initialize:function(i,u,f,c){var d="html";if(e(u)){var p=u;u=r(p,"key"),f=r(p,"url"),c=r(p,"xhrSettings"),d=r(p,"extension",d)}var m={type:"text",cache:i.cacheManager.html,extension:d,responseType:"text",key:u,url:f,xhrSettings:c};h.call(this,i,m)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});s.register("html",function(l,i,u){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new n(this,l[f]));else this.addFile(new n(this,l,i,u));return this}),o.exports=n},14643:(o,g,t)=>{var a=t(83419),v=t(23906),h=t(41299),s=t(74099),r=t(95540),e=t(41212),n=new a({Extends:h,initialize:function(i,u,f,c,d,p){c===void 0&&(c=512),d===void 0&&(d=512);var m="html";if(e(u)){var y=u;u=r(y,"key"),f=r(y,"url"),p=r(y,"xhrSettings"),m=r(y,"extension",m),c=r(y,"width",c),d=r(y,"height",d)}var x={type:"html",cache:i.textureManager,extension:m,responseType:"text",key:u,url:f,xhrSettings:p,config:{width:c,height:d}};h.call(this,i,x)},onProcess:function(){this.state=v.FILE_PROCESSING;var l=this.config.width,i=this.config.height,u=[];u.push('<svg width="'+l+'px" height="'+i+'px" viewBox="0 0 '+l+" "+i+'" xmlns="http://www.w3.org/2000/svg">'),u.push('<foreignObject width="100%" height="100%">'),u.push('<body xmlns="http://www.w3.org/1999/xhtml">'),u.push(this.xhrLoader.responseText),u.push("</body>"),u.push("</foreignObject>"),u.push("</svg>");var f=[u.join(`
`)],c=this;try{var d=new window.Blob(f,{type:"image/svg+xml;charset=utf-8"})}catch{c.state=v.FILE_ERRORED,c.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){h.revokeObjectURL(c.data),c.onProcessComplete()},this.data.onerror=function(){h.revokeObjectURL(c.data),c.onProcessError()},h.createObjectURL(this.data,d,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});s.register("htmlTexture",function(l,i,u,f,c){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new n(this,l[d]));else this.addFile(new n(this,l,i,u,f,c));return this}),o.exports=n},19550:(o,g,t)=>{var a=t(83419),v=t(23906),h=t(41299),s=t(74099),r=t(95540),e=t(41212),n=t(98356),l=new a({Extends:h,initialize:function i(u,f,c,d,p){var m="png",y;if(e(f)){var x=f;f=r(x,"key"),c=r(x,"url"),y=r(x,"normalMap"),d=r(x,"xhrSettings"),m=r(x,"extension",m),p=r(x,"frameConfig")}Array.isArray(c)&&(y=c[1],c=c[0]);var C={type:"image",cache:u.textureManager,extension:m,responseType:"blob",key:f,url:c,xhrSettings:d,config:p};if(h.call(this,u,C),y){var E=new i(u,this.key,y,d,p);E.type="normalMap",this.setLink(E),u.addFile(E)}this.useImageElementLoad=u.imageLoadType==="HTMLImageElement"||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var i=this;this.data.onload=function(){h.revokeObjectURL(i.data),i.onProcessComplete()},this.data.onerror=function(){h.revokeObjectURL(i.data),i.onProcessError()},h.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var i=this.state;this.state=v.FILE_PROCESSING,i===v.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=v.FILE_LOADING,this.src=n(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var i=this;this.data.onload=function(){i.state=v.FILE_LOADED,i.loader.nextFile(i,!0)},this.data.onerror=function(){i.loader.nextFile(i,!1)},this.data.src=this.src},addToCache:function(){var i=this.linkFile;i?i.state>=v.FILE_COMPLETE&&(i.type==="spritesheet"?i.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,i.data,this.data):this.cache.addImage(this.key,this.data,i.data)):this.cache.addImage(this.key,this.data)}});s.register("image",function(i,u,f){if(Array.isArray(i))for(var c=0;c<i.length;c++)this.addFile(new l(this,i[c]));else this.addFile(new l(this,i,u,f));return this}),o.exports=l},518:(o,g,t)=>{var a=t(83419),v=t(23906),h=t(41299),s=t(74099),r=t(95540),e=t(35154),n=t(41212),l=new a({Extends:h,initialize:function(u,f,c,d,p){var m="json";if(n(f)){var y=f;f=r(y,"key"),c=r(y,"url"),d=r(y,"xhrSettings"),m=r(y,"extension",m),p=r(y,"dataKey",p)}var x={type:"json",cache:u.cacheManager.json,extension:m,responseType:"text",key:f,url:c,xhrSettings:d,config:p};h.call(this,u,x),n(c)&&(p?this.data=e(c,p):this.data=c,this.state=v.FILE_POPULATED)},onProcess:function(){if(this.state!==v.FILE_POPULATED){this.state=v.FILE_PROCESSING;try{var i=JSON.parse(this.xhrLoader.responseText)}catch(f){throw this.onProcessError(),f}var u=this.config;typeof u=="string"?this.data=e(i,u,i):this.data=i}this.onProcessComplete()}});s.register("json",function(i,u,f,c){if(Array.isArray(i))for(var d=0;d<i.length;d++)this.addFile(new l(this,i[d]));else this.addFile(new l(this,i,u,c,f));return this}),o.exports=l},59327:(o,g,t)=>{var a=t(83419),v=t(74099),h=t(95540),s=t(19550),r=t(41212),e=t(518),n=t(26430),l=new a({Extends:n,initialize:function(u,f,c,d,p,m,y){if(r(f)){var x=f;f=h(x,"key"),h(x,"url",!1)?c=h(x,"url"):c=h(x,"atlasURL"),m=h(x,"xhrSettings"),d=h(x,"path"),p=h(x,"baseURL"),y=h(x,"textureXhrSettings")}var C=new e(u,f,c,m);n.call(this,u,"multiatlas",f,[C]),this.config.path=d,this.config.baseURL=p,this.config.textureXhrSettings=y},onFileComplete:function(i){var u=this.files.indexOf(i);if(u!==-1&&(this.pending--,i.type==="json"&&i.data.hasOwnProperty("textures"))){var f=i.data.textures,c=this.config,d=this.loader,p=d.baseURL,m=d.path,y=d.prefix,x=h(c,"baseURL",this.baseURL),C=h(c,"path",this.path),E=h(c,"prefix",this.prefix),R=h(c,"textureXhrSettings");d.setBaseURL(x),d.setPath(C),d.setPrefix(E);for(var M=0;M<f.length;M++){var w=f[M].image,D="MA"+this.multiKeyIndex+"_"+w,F=new s(d,D,w,R);if(this.addToMultiFile(F),d.addFile(F),f[M].normalMap){var I=new s(d,D,f[M].normalMap,R);I.type="normalMap",F.setLink(I),this.addToMultiFile(I),d.addFile(I)}}d.setBaseURL(p),d.setPath(m),d.setPrefix(y)}},addToCache:function(){if(this.isReadyToProcess()){for(var i=this.files[0],u=[],f=[],c=[],d=1;d<this.files.length;d++){var p=this.files[d];if(p.type!=="normalMap")for(var m=p.key.indexOf("_"),y=p.key.substr(m+1),x=p.data,C=0;C<i.data.textures.length;C++){var E=i.data.textures[C];if(E.image===y){f.push(x),u.push(E),p.linkFile&&c.push(p.linkFile.data);break}}}c.length===0&&(c=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,f,u,c),this.complete=!0}}});v.register("multiatlas",function(i,u,f,c,d){var p;if(Array.isArray(i))for(var m=0;m<i.length;m++)p=new l(this,i[m]),this.addFile(p.files);else p=new l(this,i,u,f,c,d),this.addFile(p.files);return this}),o.exports=l},99297:(o,g,t)=>{var a=t(83419),v=t(74099),h=t(95540),s=t(41212),r=t(26430),e=t(34328),n=new a({Extends:r,initialize:function(i,u,f,c){var d="js",p=[];if(s(u)){var m=u;u=h(m,"key"),f=h(m,"url"),c=h(m,"xhrSettings"),d=h(m,"extension",d)}Array.isArray(f)||(f=[f]);for(var y=0;y<f.length;y++){var x=new e(i,{key:u+"_"+y.toString(),url:f[y],extension:d,xhrSettings:c});x.onProcess=function(){this.onProcessComplete()},p.push(x)}r.call(this,i,"scripts",u,p)},addToCache:function(){if(this.isReadyToProcess()){for(var l=0;l<this.files.length;l++){var i=this.files[l];i.data=document.createElement("script"),i.data.language="javascript",i.data.type="text/javascript",i.data.defer=!1,i.data.text=i.xhrLoader.responseText,document.head.appendChild(i.data)}this.complete=!0}}});v.register("scripts",function(l,i,u){var f;if(Array.isArray(l))for(var c=0;c<l.length;c++)f=new n(this,l[c]),this.addFile(f.files);else f=new n(this,l,i,u),this.addFile(f.files);return this}),o.exports=n},41846:(o,g,t)=>{var a=t(83419),v=t(74099),h=t(95540),s=t(41212),r=t(26430),e=t(85048),n=t(61485),l=t(78776),i=new a({Extends:r,initialize:function(f,c,d,p,m,y){var x,C,E=f.cacheManager.obj;if(s(c)){var R=c;c=h(R,"key"),x=new l(f,{key:c,type:"obj",cache:E,url:h(R,"url"),extension:h(R,"extension","obj"),xhrSettings:h(R,"xhrSettings"),config:{flipUV:h(R,"flipUV",m)}}),p=h(R,"matURL"),p&&(C=new l(f,{key:c,type:"mat",cache:E,url:p,extension:h(R,"matExtension","mat"),xhrSettings:h(R,"xhrSettings")}))}else x=new l(f,{key:c,url:d,type:"obj",cache:E,extension:"obj",xhrSettings:y,config:{flipUV:m}}),p&&(C=new l(f,{key:c,url:p,type:"mat",cache:E,extension:"mat",xhrSettings:y}));r.call(this,f,"obj",c,[x,C])},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],f=this.files[1],c=e(u.data,u.config.flipUV);f&&(c.materials=n(f.data)),u.cache.add(u.key,c),this.complete=!0}}});v.register("obj",function(u,f,c,d,p){var m;if(Array.isArray(u))for(var y=0;y<u.length;y++)m=new i(this,u[y]),this.addFile(m.files);else m=new i(this,u,f,c,d,p),this.addFile(m.files);return this}),o.exports=i},58610:(o,g,t)=>{var a=t(83419),v=t(23906),h=t(74099),s=t(518),r=new a({Extends:s,initialize:function(n,l,i,u,f){s.call(this,n,l,i,u,f),this.type="packfile"},onProcess:function(){if(this.state!==v.FILE_POPULATED&&(this.state=v.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var e={};e[this.config]=this.data,this.data=e}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});h.register("pack",function(e,n,l,i){if(Array.isArray(e))for(var u=0;u<e.length;u++)this.addFile(new r(this,e[u]));else this.addFile(new r(this,e,n,i,l));return this}),o.exports=r},48988:(o,g,t)=>{var a=t(83419),v=t(23906),h=t(41299),s=t(74099),r=t(95540),e=t(41212),n=new a({Extends:h,initialize:function(i,u,f,c,d,p){var m="js";if(e(u)){var y=u;u=r(y,"key"),f=r(y,"url"),p=r(y,"xhrSettings"),m=r(y,"extension",m),c=r(y,"start"),d=r(y,"mapping")}var x={type:"plugin",cache:!1,extension:m,responseType:"text",key:u,url:f,xhrSettings:p,config:{start:c,mapping:d}};h.call(this,i,x),typeof f=="function"&&(this.data=f,this.state=v.FILE_POPULATED)},onProcess:function(){var l=this.loader.systems.plugins,i=this.config,u=r(i,"start",!1),f=r(i,"mapping",null);if(this.state===v.FILE_POPULATED)l.install(this.key,this.data,u,f);else{this.state=v.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var c=l.install(this.key,window[this.key],u,f);(u||f)&&(this.loader.systems[f]=c,this.loader.scene[f]=c)}this.onProcessComplete()}});s.register("plugin",function(l,i,u,f,c){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new n(this,l[d]));else this.addFile(new n(this,l,i,u,f,c));return this}),o.exports=n},67397:(o,g,t)=>{var a=t(83419),v=t(23906),h=t(41299),s=t(74099),r=t(95540),e=t(41212),n=new a({Extends:h,initialize:function(i,u,f,c,d){var p="svg";if(e(u)){var m=u;u=r(m,"key"),f=r(m,"url"),c=r(m,"svgConfig",{}),d=r(m,"xhrSettings"),p=r(m,"extension",p)}var y={type:"svg",cache:i.textureManager,extension:p,responseType:"text",key:u,url:f,xhrSettings:d,config:{width:r(c,"width"),height:r(c,"height"),scale:r(c,"scale")}};h.call(this,i,y)},onProcess:function(){this.state=v.FILE_PROCESSING;var l=this.xhrLoader.responseText,i=[l],u=this.config.width,f=this.config.height,c=this.config.scale;t:if(u&&f||c){var d=null,p=new DOMParser;d=p.parseFromString(l,"text/xml");var m=d.getElementsByTagName("svg")[0],y=m.hasAttribute("viewBox"),x=parseFloat(m.getAttribute("width")),C=parseFloat(m.getAttribute("height"));if(!y&&x&&C)m.setAttribute("viewBox","0  0 "+x+" "+C);else if(y&&!x&&!C){var E=m.getAttribute("viewBox").split(/\s+|,/);x=E[2],C=E[3]}if(c)if(x&&C)u=x*c,f=C*c;else break t;m.setAttribute("width",u.toString()+"px"),m.setAttribute("height",f.toString()+"px"),i=[new XMLSerializer().serializeToString(m)]}try{var R=new window.Blob(i,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var M=this,w=!1;this.data.onload=function(){w||h.revokeObjectURL(M.data),M.onProcessComplete()},this.data.onerror=function(){w?M.onProcessError():(w=!0,h.revokeObjectURL(M.data),M.data.src="data:image/svg+xml,"+encodeURIComponent(i.join("")))},h.createObjectURL(this.data,R,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});s.register("svg",function(l,i,u,f){if(Array.isArray(l))for(var c=0;c<l.length;c++)this.addFile(new n(this,l[c]));else this.addFile(new n(this,l,i,u,f));return this}),o.exports=n},88423:(o,g,t)=>{var a=t(83419),v=t(23906),h=t(41299),s=t(74099),r=t(95540),e=t(41212),n=new a({Extends:h,initialize:function(i,u,f,c){var d="js";if(e(u)){var p=u;u=r(p,"key"),f=r(p,"url"),c=r(p,"xhrSettings"),d=r(p,"extension",d)}var m={type:"text",extension:d,responseType:"text",key:u,url:f,xhrSettings:c};h.call(this,i,m)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var l=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),i=eval;this.loader.sceneManager.add(this.key,i(l)),this.complete=!0}});s.register("sceneFile",function(l,i,u){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new n(this,l[f]));else this.addFile(new n(this,l,i,u));return this}),o.exports=n},56812:(o,g,t)=>{var a=t(83419),v=t(23906),h=t(41299),s=t(74099),r=t(95540),e=t(41212),n=new a({Extends:h,initialize:function(i,u,f,c,d,p){var m="js";if(e(u)){var y=u;u=r(y,"key"),f=r(y,"url"),p=r(y,"xhrSettings"),m=r(y,"extension",m),c=r(y,"systemKey"),d=r(y,"sceneKey")}var x={type:"scenePlugin",cache:!1,extension:m,responseType:"text",key:u,url:f,xhrSettings:p,config:{systemKey:c,sceneKey:d}};h.call(this,i,x),typeof f=="function"&&(this.data=f,this.state=v.FILE_POPULATED)},onProcess:function(){var l=this.loader.systems.plugins,i=this.config,u=this.key,f=r(i,"systemKey",u),c=r(i,"sceneKey",u);this.state===v.FILE_POPULATED?l.installScenePlugin(f,this.data,c,this.loader.scene,!0):(this.state=v.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),l.installScenePlugin(f,window[this.key],c,this.loader.scene,!0)),this.onProcessComplete()}});s.register("scenePlugin",function(l,i,u,f,c){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new n(this,l[d]));else this.addFile(new n(this,l,i,u,f,c));return this}),o.exports=n},34328:(o,g,t)=>{var a=t(83419),v=t(23906),h=t(41299),s=t(74099),r=t(95540),e=t(41212),n=new a({Extends:h,initialize:function(i,u,f,c,d){var p="js";if(e(u)){var m=u;u=r(m,"key"),f=r(m,"url"),c=r(m,"type","script"),d=r(m,"xhrSettings"),p=r(m,"extension",p)}else c===void 0&&(c="script");var y={type:c,cache:!1,extension:p,responseType:"text",key:u,url:f,xhrSettings:d};h.call(this,i,y)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});s.register("script",function(l,i,u,f){if(Array.isArray(l))for(var c=0;c<l.length;c++)this.addFile(new n(this,l[c]));else this.addFile(new n(this,l,i,u,f));return this}),o.exports=n},85035:(o,g,t)=>{var a=t(83419),v=t(23906),h=t(74099),s=t(19550),r=new a({Extends:s,initialize:function(n,l,i,u,f){s.call(this,n,l,i,f,u),this.type="spritesheet"},addToCache:function(){var e=this.linkFile;e?e.state>=v.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,e.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,e.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});h.register("spritesheet",function(e,n,l,i){if(Array.isArray(e))for(var u=0;u<e.length;u++)this.addFile(new r(this,e[u]));else this.addFile(new r(this,e,n,l,i));return this}),o.exports=r},78776:(o,g,t)=>{var a=t(83419),v=t(23906),h=t(41299),s=t(74099),r=t(95540),e=t(41212),n=new a({Extends:h,initialize:function(i,u,f,c){var d="text",p="txt",m=i.cacheManager.text;if(e(u)){var y=u;u=r(y,"key"),f=r(y,"url"),c=r(y,"xhrSettings"),p=r(y,"extension",p),d=r(y,"type",d),m=r(y,"cache",m)}var x={type:d,cache:m,extension:p,responseType:"text",key:u,url:f,xhrSettings:c};h.call(this,i,x)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});s.register("text",function(l,i,u){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new n(this,l[f]));else this.addFile(new n(this,l,i,u));return this}),o.exports=n},49477:(o,g,t)=>{var a=t(83419),v=t(23906),h=t(41299),s=t(74099),r=t(95540),e=t(41212),n=t(80341),l=new a({Extends:h,initialize:function(u,f,c,d){var p="csv";if(e(f)){var m=f;f=r(m,"key"),c=r(m,"url"),d=r(m,"xhrSettings"),p=r(m,"extension",p)}var y={type:"tilemapCSV",cache:u.cacheManager.tilemap,extension:p,responseType:"text",key:f,url:c,xhrSettings:d};h.call(this,u,y),this.tilemapFormat=n.CSV},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var i={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,i)}});s.register("tilemapCSV",function(i,u,f){if(Array.isArray(i))for(var c=0;c<i.length;c++)this.addFile(new l(this,i[c]));else this.addFile(new l(this,i,u,f));return this}),o.exports=l},40807:(o,g,t)=>{var a=t(83419),v=t(74099),h=t(518),s=t(80341),r=new a({Extends:h,initialize:function(n,l,i,u){h.call(this,n,l,i,u),this.type="tilemapJSON",this.cache=n.cacheManager.tilemap},addToCache:function(){var e={format:s.WELTMEISTER,data:this.data};this.cache.add(this.key,e)}});v.register("tilemapImpact",function(e,n,l){if(Array.isArray(e))for(var i=0;i<e.length;i++)this.addFile(new r(this,e[i]));else this.addFile(new r(this,e,n,l));return this}),o.exports=r},56775:(o,g,t)=>{var a=t(83419),v=t(74099),h=t(518),s=t(80341),r=new a({Extends:h,initialize:function(n,l,i,u){h.call(this,n,l,i,u),this.type="tilemapJSON",this.cache=n.cacheManager.tilemap},addToCache:function(){var e={format:s.TILED_JSON,data:this.data};this.cache.add(this.key,e)}});v.register("tilemapTiledJSON",function(e,n,l){if(Array.isArray(e))for(var i=0;i<e.length;i++)this.addFile(new r(this,e[i]));else this.addFile(new r(this,e,n,l));return this}),o.exports=r},25771:(o,g,t)=>{var a=t(83419),v=t(74099),h=t(95540),s=t(19550),r=t(41212),e=t(26430),n=t(78776),l=new a({Extends:e,initialize:function(u,f,c,d,p,m){var y,x;if(r(f)){var C=f;f=h(C,"key"),y=new s(u,{key:f,url:h(C,"textureURL"),extension:h(C,"textureExtension","png"),normalMap:h(C,"normalMap"),xhrSettings:h(C,"textureXhrSettings")}),x=new n(u,{key:f,url:h(C,"atlasURL"),extension:h(C,"atlasExtension","txt"),xhrSettings:h(C,"atlasXhrSettings")})}else y=new s(u,f,c,p),x=new n(u,f,d,m);y.linkFile?e.call(this,u,"unityatlas",f,[y,x,y.linkFile]):e.call(this,u,"unityatlas",f,[y,x])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],u=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(i.key,i.data,u.data,f),this.complete=!0}}});v.register("unityAtlas",function(i,u,f,c,d){var p;if(Array.isArray(i))for(var m=0;m<i.length;m++)p=new l(this,i[m]),this.addFile(p.files);else p=new l(this,i,u,f,c,d),this.addFile(p.files);return this}),o.exports=l},33720:(o,g,t)=>{var a=t(83419),v=t(23906),h=t(41299),s=t(74099),r=t(98356),e=t(95540),n=t(41212),l=new a({Extends:h,initialize:function(u,f,c,d){if(d===void 0&&(d=!1),n(f)){var p=f;f=e(p,"key"),c=e(p,"url",[]),d=e(p,"noAudio",!1)}var m=u.systems.game.device.video.getVideoURL(c);m||console.warn("VideoFile: No supported format for "+f);var y={type:"video",cache:u.cacheManager.video,extension:m.type,key:f,url:m.url,config:{noAudio:d}};h.call(this,u,y)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=r(this,this.loader.baseURL),this.state=v.FILE_LOADED,this.loader.nextFile(this,!0)}});s.register("video",function(i,u,f){if(Array.isArray(i))for(var c=0;c<i.length;c++)this.addFile(new l(this,i[c]));else this.addFile(new l(this,i,u,f));return this}),o.exports=l},57318:(o,g,t)=>{var a=t(83419),v=t(23906),h=t(41299),s=t(74099),r=t(95540),e=t(41212),n=t(56836),l=new a({Extends:h,initialize:function(u,f,c,d){var p="xml";if(e(f)){var m=f;f=r(m,"key"),c=r(m,"url"),d=r(m,"xhrSettings"),p=r(m,"extension",p)}var y={type:"xml",cache:u.cacheManager.xml,extension:p,responseType:"text",key:f,url:c,xhrSettings:d};h.call(this,u,y)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=n(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});s.register("xml",function(i,u,f){if(Array.isArray(i))for(var c=0;c<i.length;c++)this.addFile(new l(this,i[c]));else this.addFile(new l(this,i,u,f));return this}),o.exports=l},64589:(o,g,t)=>{o.exports={AnimationJSONFile:t(14135),AsepriteFile:t(76272),AtlasJSONFile:t(38734),AtlasXMLFile:t(74599),AudioFile:t(21097),AudioSpriteFile:t(89524),BinaryFile:t(85722),BitmapFontFile:t(97025),CompressedTextureFile:t(69559),CSSFile:t(16024),FontFile:t(87674),GLSLFile:t(47931),HTML5AudioFile:t(89749),HTMLFile:t(88470),HTMLTextureFile:t(14643),ImageFile:t(19550),JSONFile:t(518),MultiAtlasFile:t(59327),MultiScriptFile:t(99297),OBJFile:t(41846),PackFile:t(58610),PluginFile:t(48988),SceneFile:t(88423),ScenePluginFile:t(56812),ScriptFile:t(34328),SpriteSheetFile:t(85035),SVGFile:t(67397),TextFile:t(78776),TilemapCSVFile:t(49477),TilemapImpactFile:t(40807),TilemapJSONFile:t(56775),UnityAtlasFile:t(25771),VideoFile:t(33720),XMLFile:t(57318)}},57777:(o,g,t)=>{var a=t(23906),v=t(79291),h={Events:t(54899),FileTypes:t(64589),File:t(41299),FileTypesManager:t(74099),GetURL:t(98356),LoaderPlugin:t(74261),MergeXHRSettings:t(3374),MultiFile:t(26430),XHRLoader:t(84376),XHRSettings:t(92638)};h=v(!1,h,a),o.exports=h},53307:o=>{var g=function(t){for(var a=0,v=0;v<t.length;v++)a+=+t[v];return a/t.length};o.exports=g},85710:(o,g,t)=>{var a=t(6411),v=function(h,s){return a(h)/a(s)/a(h-s)};o.exports=v},30976:o=>{var g=function(t,a){return Math.floor(Math.random()*(a-t+1)+t)};o.exports=g},87842:o=>{var g=function(t,a,v,h,s){var r=(h-a)*.5,e=(s-v)*.5,n=t*t,l=t*n;return(2*v-2*h+r+e)*l+(-3*v+3*h-2*r-e)*n+r*t+v};o.exports=g},26302:o=>{var g=function(t,a,v){a===void 0&&(a=0),v===void 0&&(v=10);var h=Math.pow(v,-a);return Math.ceil(t*h)/h};o.exports=g},45319:o=>{var g=function(t,a,v){return Math.max(a,Math.min(v,t))};o.exports=g},39506:(o,g,t)=>{var a=t(36383),v=function(h){return h*a.DEG_TO_RAD};o.exports=v},61241:o=>{var g=function(t,a){return Math.abs(t-a)};o.exports=g},38857:(o,g,t)=>{var a=t(45319),v=t(83419),h=t(37867),s=t(29747),r=new h,e=new v({initialize:function n(l,i,u,f){l===void 0&&(l=0),i===void 0&&(i=0),u===void 0&&(u=0),f===void 0&&(f=n.DefaultOrder),this._x=l,this._y=i,this._z=u,this._order=f,this.onChangeCallback=s},x:{get:function(){return this._x},set:function(n){this._x=n,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(n){this._y=n,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(n){this._z=n,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(n){this._order=n,this.onChangeCallback(this)}},set:function(n,l,i,u){return u===void 0&&(u=this._order),this._x=n,this._y=l,this._z=i,this._order=u,this.onChangeCallback(this),this},copy:function(n){return this.set(n.x,n.y,n.z,n.order)},setFromQuaternion:function(n,l,i){return l===void 0&&(l=this._order),i===void 0&&(i=!1),r.fromQuat(n),this.setFromRotationMatrix(r,l,i)},setFromRotationMatrix:function(n,l,i){l===void 0&&(l=this._order),i===void 0&&(i=!1);var u=n.val,f=u[0],c=u[4],d=u[8],p=u[1],m=u[5],y=u[9],x=u[2],C=u[6],E=u[10],R=0,M=0,w=0,D=.99999;switch(l){case"XYZ":{M=Math.asin(a(d,-1,1)),Math.abs(d)<D?(R=Math.atan2(-y,E),w=Math.atan2(-c,f)):R=Math.atan2(C,m);break}case"YXZ":{R=Math.asin(-a(y,-1,1)),Math.abs(y)<D?(M=Math.atan2(d,E),w=Math.atan2(p,m)):M=Math.atan2(-x,f);break}case"ZXY":{R=Math.asin(a(C,-1,1)),Math.abs(C)<D?(M=Math.atan2(-x,E),w=Math.atan2(-c,m)):w=Math.atan2(p,f);break}case"ZYX":{M=Math.asin(-a(x,-1,1)),Math.abs(x)<D?(R=Math.atan2(C,E),w=Math.atan2(p,f)):w=Math.atan2(-c,m);break}case"YZX":{w=Math.asin(a(p,-1,1)),Math.abs(p)<D?(R=Math.atan2(-y,m),M=Math.atan2(-x,f)):M=Math.atan2(d,E);break}case"XZY":{w=Math.asin(-a(c,-1,1)),Math.abs(c)<D?(R=Math.atan2(C,m),M=Math.atan2(d,f)):R=Math.atan2(-y,E);break}}return this._x=R,this._y=M,this._z=w,this._order=l,i&&this.onChangeCallback(this),this}});e.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],e.DefaultOrder="XYZ",o.exports=e},6411:o=>{var g=function(t){if(t===0)return 1;for(var a=t;--t;)a*=t;return a};o.exports=g},99472:o=>{var g=function(t,a){return Math.random()*(a-t)+t};o.exports=g},77623:o=>{var g=function(t,a,v){a===void 0&&(a=0),v===void 0&&(v=10);var h=Math.pow(v,-a);return Math.floor(t*h)/h};o.exports=g},62945:(o,g,t)=>{var a=t(45319),v=function(h,s,r){return h=a(h,0,1),(r-s)*h+s};o.exports=v},38265:o=>{var g=function(t,a){return t/a/1e3};o.exports=g},78702:o=>{var g=function(t){return t==parseFloat(t)?!(t%2):void 0};o.exports=g},94883:o=>{var g=function(t){return t===parseFloat(t)?!(t%2):void 0};o.exports=g},28915:o=>{var g=function(t,a,v){return(a-t)*v+t};o.exports=g},94908:o=>{var g=function(t,a,v){return v===void 0&&(v=0),t.clone().lerp(a,v)};o.exports=g},94434:(o,g,t)=>{var a=t(83419),v=new a({initialize:function(s){this.val=new Float32Array(9),s?this.copy(s):this.identity()},clone:function(){return new v(this)},set:function(h){return this.copy(h)},copy:function(h){var s=this.val,r=h.val;return s[0]=r[0],s[1]=r[1],s[2]=r[2],s[3]=r[3],s[4]=r[4],s[5]=r[5],s[6]=r[6],s[7]=r[7],s[8]=r[8],this},fromMat4:function(h){var s=h.val,r=this.val;return r[0]=s[0],r[1]=s[1],r[2]=s[2],r[3]=s[4],r[4]=s[5],r[5]=s[6],r[6]=s[8],r[7]=s[9],r[8]=s[10],this},fromArray:function(h){var s=this.val;return s[0]=h[0],s[1]=h[1],s[2]=h[2],s[3]=h[3],s[4]=h[4],s[5]=h[5],s[6]=h[6],s[7]=h[7],s[8]=h[8],this},identity:function(){var h=this.val;return h[0]=1,h[1]=0,h[2]=0,h[3]=0,h[4]=1,h[5]=0,h[6]=0,h[7]=0,h[8]=1,this},transpose:function(){var h=this.val,s=h[1],r=h[2],e=h[5];return h[1]=h[3],h[2]=h[6],h[3]=s,h[5]=h[7],h[6]=r,h[7]=e,this},invert:function(){var h=this.val,s=h[0],r=h[1],e=h[2],n=h[3],l=h[4],i=h[5],u=h[6],f=h[7],c=h[8],d=c*l-i*f,p=-c*n+i*u,m=f*n-l*u,y=s*d+r*p+e*m;return y?(y=1/y,h[0]=d*y,h[1]=(-c*r+e*f)*y,h[2]=(i*r-e*l)*y,h[3]=p*y,h[4]=(c*s-e*u)*y,h[5]=(-i*s+e*n)*y,h[6]=m*y,h[7]=(-f*s+r*u)*y,h[8]=(l*s-r*n)*y,this):null},adjoint:function(){var h=this.val,s=h[0],r=h[1],e=h[2],n=h[3],l=h[4],i=h[5],u=h[6],f=h[7],c=h[8];return h[0]=l*c-i*f,h[1]=e*f-r*c,h[2]=r*i-e*l,h[3]=i*u-n*c,h[4]=s*c-e*u,h[5]=e*n-s*i,h[6]=n*f-l*u,h[7]=r*u-s*f,h[8]=s*l-r*n,this},determinant:function(){var h=this.val,s=h[0],r=h[1],e=h[2],n=h[3],l=h[4],i=h[5],u=h[6],f=h[7],c=h[8];return s*(c*l-i*f)+r*(-c*n+i*u)+e*(f*n-l*u)},multiply:function(h){var s=this.val,r=s[0],e=s[1],n=s[2],l=s[3],i=s[4],u=s[5],f=s[6],c=s[7],d=s[8],p=h.val,m=p[0],y=p[1],x=p[2],C=p[3],E=p[4],R=p[5],M=p[6],w=p[7],D=p[8];return s[0]=m*r+y*l+x*f,s[1]=m*e+y*i+x*c,s[2]=m*n+y*u+x*d,s[3]=C*r+E*l+R*f,s[4]=C*e+E*i+R*c,s[5]=C*n+E*u+R*d,s[6]=M*r+w*l+D*f,s[7]=M*e+w*i+D*c,s[8]=M*n+w*u+D*d,this},translate:function(h){var s=this.val,r=h.x,e=h.y;return s[6]=r*s[0]+e*s[3]+s[6],s[7]=r*s[1]+e*s[4]+s[7],s[8]=r*s[2]+e*s[5]+s[8],this},rotate:function(h){var s=this.val,r=s[0],e=s[1],n=s[2],l=s[3],i=s[4],u=s[5],f=Math.sin(h),c=Math.cos(h);return s[0]=c*r+f*l,s[1]=c*e+f*i,s[2]=c*n+f*u,s[3]=c*l-f*r,s[4]=c*i-f*e,s[5]=c*u-f*n,this},scale:function(h){var s=this.val,r=h.x,e=h.y;return s[0]=r*s[0],s[1]=r*s[1],s[2]=r*s[2],s[3]=e*s[3],s[4]=e*s[4],s[5]=e*s[5],this},fromQuat:function(h){var s=h.x,r=h.y,e=h.z,n=h.w,l=s+s,i=r+r,u=e+e,f=s*l,c=s*i,d=s*u,p=r*i,m=r*u,y=e*u,x=n*l,C=n*i,E=n*u,R=this.val;return R[0]=1-(p+y),R[3]=c+E,R[6]=d-C,R[1]=c-E,R[4]=1-(f+y),R[7]=m+x,R[2]=d+C,R[5]=m-x,R[8]=1-(f+p),this},normalFromMat4:function(h){var s=h.val,r=this.val,e=s[0],n=s[1],l=s[2],i=s[3],u=s[4],f=s[5],c=s[6],d=s[7],p=s[8],m=s[9],y=s[10],x=s[11],C=s[12],E=s[13],R=s[14],M=s[15],w=e*f-n*u,D=e*c-l*u,F=e*d-i*u,I=n*c-l*f,L=n*d-i*f,B=l*d-i*c,G=p*E-m*C,V=p*R-y*C,X=p*M-x*C,b=m*R-y*E,U=m*M-x*E,O=y*M-x*R,z=w*O-D*U+F*b+I*X-L*V+B*G;return z?(z=1/z,r[0]=(f*O-c*U+d*b)*z,r[1]=(c*X-u*O-d*V)*z,r[2]=(u*U-f*X+d*G)*z,r[3]=(l*U-n*O-i*b)*z,r[4]=(e*O-l*X+i*V)*z,r[5]=(n*X-e*U-i*G)*z,r[6]=(E*B-R*L+M*I)*z,r[7]=(R*F-C*B-M*D)*z,r[8]=(C*L-E*F+M*w)*z,this):null}});o.exports=v},37867:(o,g,t)=>{var a=t(83419),v=t(25836),h=1e-6,s=new a({initialize:function(f){this.val=new Float32Array(16),f?this.copy(f):this.identity()},clone:function(){return new s(this)},set:function(u){return this.copy(u)},setValues:function(u,f,c,d,p,m,y,x,C,E,R,M,w,D,F,I){var L=this.val;return L[0]=u,L[1]=f,L[2]=c,L[3]=d,L[4]=p,L[5]=m,L[6]=y,L[7]=x,L[8]=C,L[9]=E,L[10]=R,L[11]=M,L[12]=w,L[13]=D,L[14]=F,L[15]=I,this},copy:function(u){var f=u.val;return this.setValues(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15])},fromArray:function(u){return this.setValues(u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8],u[9],u[10],u[11],u[12],u[13],u[14],u[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(u,f,c){var d=r.fromQuat(c),p=d.val,m=f.x,y=f.y,x=f.z;return this.setValues(p[0]*m,p[1]*m,p[2]*m,0,p[4]*y,p[5]*y,p[6]*y,0,p[8]*x,p[9]*x,p[10]*x,0,u.x,u.y,u.z,1)},xyz:function(u,f,c){this.identity();var d=this.val;return d[12]=u,d[13]=f,d[14]=c,this},scaling:function(u,f,c){this.zero();var d=this.val;return d[0]=u,d[5]=f,d[10]=c,d[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var u=this.val,f=u[1],c=u[2],d=u[3],p=u[6],m=u[7],y=u[11];return u[1]=u[4],u[2]=u[8],u[3]=u[12],u[4]=f,u[6]=u[9],u[7]=u[13],u[8]=c,u[9]=p,u[11]=u[14],u[12]=d,u[13]=m,u[14]=y,this},getInverse:function(u){return this.copy(u),this.invert()},invert:function(){var u=this.val,f=u[0],c=u[1],d=u[2],p=u[3],m=u[4],y=u[5],x=u[6],C=u[7],E=u[8],R=u[9],M=u[10],w=u[11],D=u[12],F=u[13],I=u[14],L=u[15],B=f*y-c*m,G=f*x-d*m,V=f*C-p*m,X=c*x-d*y,b=c*C-p*y,U=d*C-p*x,O=E*F-R*D,z=E*I-M*D,N=E*L-w*D,Y=R*I-M*F,W=R*L-w*F,H=M*L-w*I,$=B*H-G*W+V*Y+X*N-b*z+U*O;return $?($=1/$,this.setValues((y*H-x*W+C*Y)*$,(d*W-c*H-p*Y)*$,(F*U-I*b+L*X)*$,(M*b-R*U-w*X)*$,(x*N-m*H-C*z)*$,(f*H-d*N+p*z)*$,(I*V-D*U-L*G)*$,(E*U-M*V+w*G)*$,(m*W-y*N+C*O)*$,(c*N-f*W-p*O)*$,(D*b-F*V+L*B)*$,(R*V-E*b-w*B)*$,(y*z-m*Y-x*O)*$,(f*Y-c*z+d*O)*$,(F*G-D*X-I*B)*$,(E*X-R*G+M*B)*$)):this},adjoint:function(){var u=this.val,f=u[0],c=u[1],d=u[2],p=u[3],m=u[4],y=u[5],x=u[6],C=u[7],E=u[8],R=u[9],M=u[10],w=u[11],D=u[12],F=u[13],I=u[14],L=u[15];return this.setValues(y*(M*L-w*I)-R*(x*L-C*I)+F*(x*w-C*M),-(c*(M*L-w*I)-R*(d*L-p*I)+F*(d*w-p*M)),c*(x*L-C*I)-y*(d*L-p*I)+F*(d*C-p*x),-(c*(x*w-C*M)-y*(d*w-p*M)+R*(d*C-p*x)),-(m*(M*L-w*I)-E*(x*L-C*I)+D*(x*w-C*M)),f*(M*L-w*I)-E*(d*L-p*I)+D*(d*w-p*M),-(f*(x*L-C*I)-m*(d*L-p*I)+D*(d*C-p*x)),f*(x*w-C*M)-m*(d*w-p*M)+E*(d*C-p*x),m*(R*L-w*F)-E*(y*L-C*F)+D*(y*w-C*R),-(f*(R*L-w*F)-E*(c*L-p*F)+D*(c*w-p*R)),f*(y*L-C*F)-m*(c*L-p*F)+D*(c*C-p*y),-(f*(y*w-C*R)-m*(c*w-p*R)+E*(c*C-p*y)),-(m*(R*I-M*F)-E*(y*I-x*F)+D*(y*M-x*R)),f*(R*I-M*F)-E*(c*I-d*F)+D*(c*M-d*R),-(f*(y*I-x*F)-m*(c*I-d*F)+D*(c*x-d*y)),f*(y*M-x*R)-m*(c*M-d*R)+E*(c*x-d*y))},determinant:function(){var u=this.val,f=u[0],c=u[1],d=u[2],p=u[3],m=u[4],y=u[5],x=u[6],C=u[7],E=u[8],R=u[9],M=u[10],w=u[11],D=u[12],F=u[13],I=u[14],L=u[15],B=f*y-c*m,G=f*x-d*m,V=f*C-p*m,X=c*x-d*y,b=c*C-p*y,U=d*C-p*x,O=E*F-R*D,z=E*I-M*D,N=E*L-w*D,Y=R*I-M*F,W=R*L-w*F,H=M*L-w*I;return B*H-G*W+V*Y+X*N-b*z+U*O},multiply:function(u){var f=this.val,c=f[0],d=f[1],p=f[2],m=f[3],y=f[4],x=f[5],C=f[6],E=f[7],R=f[8],M=f[9],w=f[10],D=f[11],F=f[12],I=f[13],L=f[14],B=f[15],G=u.val,V=G[0],X=G[1],b=G[2],U=G[3];return f[0]=V*c+X*y+b*R+U*F,f[1]=V*d+X*x+b*M+U*I,f[2]=V*p+X*C+b*w+U*L,f[3]=V*m+X*E+b*D+U*B,V=G[4],X=G[5],b=G[6],U=G[7],f[4]=V*c+X*y+b*R+U*F,f[5]=V*d+X*x+b*M+U*I,f[6]=V*p+X*C+b*w+U*L,f[7]=V*m+X*E+b*D+U*B,V=G[8],X=G[9],b=G[10],U=G[11],f[8]=V*c+X*y+b*R+U*F,f[9]=V*d+X*x+b*M+U*I,f[10]=V*p+X*C+b*w+U*L,f[11]=V*m+X*E+b*D+U*B,V=G[12],X=G[13],b=G[14],U=G[15],f[12]=V*c+X*y+b*R+U*F,f[13]=V*d+X*x+b*M+U*I,f[14]=V*p+X*C+b*w+U*L,f[15]=V*m+X*E+b*D+U*B,this},multiplyLocal:function(u){var f=this.val,c=u.val;return this.setValues(f[0]*c[0]+f[1]*c[4]+f[2]*c[8]+f[3]*c[12],f[0]*c[1]+f[1]*c[5]+f[2]*c[9]+f[3]*c[13],f[0]*c[2]+f[1]*c[6]+f[2]*c[10]+f[3]*c[14],f[0]*c[3]+f[1]*c[7]+f[2]*c[11]+f[3]*c[15],f[4]*c[0]+f[5]*c[4]+f[6]*c[8]+f[7]*c[12],f[4]*c[1]+f[5]*c[5]+f[6]*c[9]+f[7]*c[13],f[4]*c[2]+f[5]*c[6]+f[6]*c[10]+f[7]*c[14],f[4]*c[3]+f[5]*c[7]+f[6]*c[11]+f[7]*c[15],f[8]*c[0]+f[9]*c[4]+f[10]*c[8]+f[11]*c[12],f[8]*c[1]+f[9]*c[5]+f[10]*c[9]+f[11]*c[13],f[8]*c[2]+f[9]*c[6]+f[10]*c[10]+f[11]*c[14],f[8]*c[3]+f[9]*c[7]+f[10]*c[11]+f[11]*c[15],f[12]*c[0]+f[13]*c[4]+f[14]*c[8]+f[15]*c[12],f[12]*c[1]+f[13]*c[5]+f[14]*c[9]+f[15]*c[13],f[12]*c[2]+f[13]*c[6]+f[14]*c[10]+f[15]*c[14],f[12]*c[3]+f[13]*c[7]+f[14]*c[11]+f[15]*c[15])},premultiply:function(u){return this.multiplyMatrices(u,this)},multiplyMatrices:function(u,f){var c=u.val,d=f.val,p=c[0],m=c[4],y=c[8],x=c[12],C=c[1],E=c[5],R=c[9],M=c[13],w=c[2],D=c[6],F=c[10],I=c[14],L=c[3],B=c[7],G=c[11],V=c[15],X=d[0],b=d[4],U=d[8],O=d[12],z=d[1],N=d[5],Y=d[9],W=d[13],H=d[2],$=d[6],j=d[10],Z=d[14],J=d[3],K=d[7],Q=d[11],_=d[15];return this.setValues(p*X+m*z+y*H+x*J,C*X+E*z+R*H+M*J,w*X+D*z+F*H+I*J,L*X+B*z+G*H+V*J,p*b+m*N+y*$+x*K,C*b+E*N+R*$+M*K,w*b+D*N+F*$+I*K,L*b+B*N+G*$+V*K,p*U+m*Y+y*j+x*Q,C*U+E*Y+R*j+M*Q,w*U+D*Y+F*j+I*Q,L*U+B*Y+G*j+V*Q,p*O+m*W+y*Z+x*_,C*O+E*W+R*Z+M*_,w*O+D*W+F*Z+I*_,L*O+B*W+G*Z+V*_)},translate:function(u){return this.translateXYZ(u.x,u.y,u.z)},translateXYZ:function(u,f,c){var d=this.val;return d[12]=d[0]*u+d[4]*f+d[8]*c+d[12],d[13]=d[1]*u+d[5]*f+d[9]*c+d[13],d[14]=d[2]*u+d[6]*f+d[10]*c+d[14],d[15]=d[3]*u+d[7]*f+d[11]*c+d[15],this},scale:function(u){return this.scaleXYZ(u.x,u.y,u.z)},scaleXYZ:function(u,f,c){var d=this.val;return d[0]=d[0]*u,d[1]=d[1]*u,d[2]=d[2]*u,d[3]=d[3]*u,d[4]=d[4]*f,d[5]=d[5]*f,d[6]=d[6]*f,d[7]=d[7]*f,d[8]=d[8]*c,d[9]=d[9]*c,d[10]=d[10]*c,d[11]=d[11]*c,this},makeRotationAxis:function(u,f){var c=Math.cos(f),d=Math.sin(f),p=1-c,m=u.x,y=u.y,x=u.z,C=p*m,E=p*y;return this.setValues(C*m+c,C*y-d*x,C*x+d*y,0,C*y+d*x,E*y+c,E*x-d*m,0,C*x-d*y,E*x+d*m,p*x*x+c,0,0,0,0,1)},rotate:function(u,f){var c=this.val,d=f.x,p=f.y,m=f.z,y=Math.sqrt(d*d+p*p+m*m);if(Math.abs(y)<h)return this;y=1/y,d*=y,p*=y,m*=y;var x=Math.sin(u),C=Math.cos(u),E=1-C,R=c[0],M=c[1],w=c[2],D=c[3],F=c[4],I=c[5],L=c[6],B=c[7],G=c[8],V=c[9],X=c[10],b=c[11],U=c[12],O=c[13],z=c[14],N=c[15],Y=d*d*E+C,W=p*d*E+m*x,H=m*d*E-p*x,$=d*p*E-m*x,j=p*p*E+C,Z=m*p*E+d*x,J=d*m*E+p*x,K=p*m*E-d*x,Q=m*m*E+C;return this.setValues(R*Y+F*W+G*H,M*Y+I*W+V*H,w*Y+L*W+X*H,D*Y+B*W+b*H,R*$+F*j+G*Z,M*$+I*j+V*Z,w*$+L*j+X*Z,D*$+B*j+b*Z,R*J+F*K+G*Q,M*J+I*K+V*Q,w*J+L*K+X*Q,D*J+B*K+b*Q,U,O,z,N)},rotateX:function(u){var f=this.val,c=Math.sin(u),d=Math.cos(u),p=f[4],m=f[5],y=f[6],x=f[7],C=f[8],E=f[9],R=f[10],M=f[11];return f[4]=p*d+C*c,f[5]=m*d+E*c,f[6]=y*d+R*c,f[7]=x*d+M*c,f[8]=C*d-p*c,f[9]=E*d-m*c,f[10]=R*d-y*c,f[11]=M*d-x*c,this},rotateY:function(u){var f=this.val,c=Math.sin(u),d=Math.cos(u),p=f[0],m=f[1],y=f[2],x=f[3],C=f[8],E=f[9],R=f[10],M=f[11];return f[0]=p*d-C*c,f[1]=m*d-E*c,f[2]=y*d-R*c,f[3]=x*d-M*c,f[8]=p*c+C*d,f[9]=m*c+E*d,f[10]=y*c+R*d,f[11]=x*c+M*d,this},rotateZ:function(u){var f=this.val,c=Math.sin(u),d=Math.cos(u),p=f[0],m=f[1],y=f[2],x=f[3],C=f[4],E=f[5],R=f[6],M=f[7];return f[0]=p*d+C*c,f[1]=m*d+E*c,f[2]=y*d+R*c,f[3]=x*d+M*c,f[4]=C*d-p*c,f[5]=E*d-m*c,f[6]=R*d-y*c,f[7]=M*d-x*c,this},fromRotationTranslation:function(u,f){var c=u.x,d=u.y,p=u.z,m=u.w,y=c+c,x=d+d,C=p+p,E=c*y,R=c*x,M=c*C,w=d*x,D=d*C,F=p*C,I=m*y,L=m*x,B=m*C;return this.setValues(1-(w+F),R+B,M-L,0,R-B,1-(E+F),D+I,0,M+L,D-I,1-(E+w),0,f.x,f.y,f.z,1)},fromQuat:function(u){var f=u.x,c=u.y,d=u.z,p=u.w,m=f+f,y=c+c,x=d+d,C=f*m,E=f*y,R=f*x,M=c*y,w=c*x,D=d*x,F=p*m,I=p*y,L=p*x;return this.setValues(1-(M+D),E+L,R-I,0,E-L,1-(C+D),w+F,0,R+I,w-F,1-(C+M),0,0,0,0,1)},frustum:function(u,f,c,d,p,m){var y=1/(f-u),x=1/(d-c),C=1/(p-m);return this.setValues(p*2*y,0,0,0,0,p*2*x,0,0,(f+u)*y,(d+c)*x,(m+p)*C,-1,0,0,m*p*2*C,0)},perspective:function(u,f,c,d){var p=1/Math.tan(u/2),m=1/(c-d);return this.setValues(p/f,0,0,0,0,p,0,0,0,0,(d+c)*m,-1,0,0,2*d*c*m,0)},perspectiveLH:function(u,f,c,d){return this.setValues(2*c/u,0,0,0,0,2*c/f,0,0,0,0,-d/(c-d),1,0,0,c*d/(c-d),0)},ortho:function(u,f,c,d,p,m){var y=u-f,x=c-d,C=p-m;return y=y===0?y:1/y,x=x===0?x:1/x,C=C===0?C:1/C,this.setValues(-2*y,0,0,0,0,-2*x,0,0,0,0,2*C,0,(u+f)*y,(d+c)*x,(m+p)*C,1)},lookAtRH:function(u,f,c){var d=this.val;return i.subVectors(u,f),i.lengthSq()===0&&(i.z=1),i.normalize(),n.crossVectors(c,i),n.lengthSq()===0&&(Math.abs(c.z)===1?i.x+=1e-4:i.z+=1e-4,i.normalize(),n.crossVectors(c,i)),n.normalize(),l.crossVectors(i,n),d[0]=n.x,d[1]=n.y,d[2]=n.z,d[4]=l.x,d[5]=l.y,d[6]=l.z,d[8]=i.x,d[9]=i.y,d[10]=i.z,this},lookAt:function(u,f,c){var d=u.x,p=u.y,m=u.z,y=c.x,x=c.y,C=c.z,E=f.x,R=f.y,M=f.z;if(Math.abs(d-E)<h&&Math.abs(p-R)<h&&Math.abs(m-M)<h)return this.identity();var w=d-E,D=p-R,F=m-M,I=1/Math.sqrt(w*w+D*D+F*F);w*=I,D*=I,F*=I;var L=x*F-C*D,B=C*w-y*F,G=y*D-x*w;I=Math.sqrt(L*L+B*B+G*G),I?(I=1/I,L*=I,B*=I,G*=I):(L=0,B=0,G=0);var V=D*G-F*B,X=F*L-w*G,b=w*B-D*L;return I=Math.sqrt(V*V+X*X+b*b),I?(I=1/I,V*=I,X*=I,b*=I):(V=0,X=0,b=0),this.setValues(L,V,w,0,B,X,D,0,G,b,F,0,-(L*d+B*p+G*m),-(V*d+X*p+b*m),-(w*d+D*p+F*m),1)},yawPitchRoll:function(u,f,c){this.zero(),r.zero(),e.zero();var d=this.val,p=r.val,m=e.val,y=Math.sin(c),x=Math.cos(c);return d[10]=1,d[15]=1,d[0]=x,d[1]=y,d[4]=-y,d[5]=x,y=Math.sin(f),x=Math.cos(f),p[0]=1,p[15]=1,p[5]=x,p[10]=x,p[9]=-y,p[6]=y,y=Math.sin(u),x=Math.cos(u),m[5]=1,m[15]=1,m[0]=x,m[2]=-y,m[8]=y,m[10]=x,this.multiplyLocal(r),this.multiplyLocal(e),this},setWorldMatrix:function(u,f,c,d,p){return this.yawPitchRoll(u.y,u.x,u.z),r.scaling(c.x,c.y,c.z),e.xyz(f.x,f.y,f.z),this.multiplyLocal(r),this.multiplyLocal(e),d&&this.multiplyLocal(d),p&&this.multiplyLocal(p),this},multiplyToMat4:function(u,f){var c=this.val,d=u.val,p=c[0],m=c[1],y=c[2],x=c[3],C=c[4],E=c[5],R=c[6],M=c[7],w=c[8],D=c[9],F=c[10],I=c[11],L=c[12],B=c[13],G=c[14],V=c[15],X=d[0],b=d[1],U=d[2],O=d[3],z=d[4],N=d[5],Y=d[6],W=d[7],H=d[8],$=d[9],j=d[10],Z=d[11],J=d[12],K=d[13],Q=d[14],_=d[15];return f.setValues(X*p+b*C+U*w+O*L,b*m+b*E+U*D+O*B,U*y+b*R+U*F+O*G,O*x+b*M+U*I+O*V,z*p+N*C+Y*w+W*L,z*m+N*E+Y*D+W*B,z*y+N*R+Y*F+W*G,z*x+N*M+Y*I+W*V,H*p+$*C+j*w+Z*L,H*m+$*E+j*D+Z*B,H*y+$*R+j*F+Z*G,H*x+$*M+j*I+Z*V,J*p+K*C+Q*w+_*L,J*m+K*E+Q*D+_*B,J*y+K*R+Q*F+_*G,J*x+K*M+Q*I+_*V)},fromRotationXYTranslation:function(u,f,c){var d=f.x,p=f.y,m=f.z,y=Math.sin(u.x),x=Math.cos(u.x),C=Math.sin(u.y),E=Math.cos(u.y),R=d,M=p,w=m,D=-y,F=0-D*C,I=0-x*C,L=D*E,B=x*E;return c||(R=E*d+C*m,M=F*d+x*p+L*m,w=I*d+y*p+B*m),this.setValues(E,F,I,0,0,x,y,0,C,L,B,0,R,M,w,1)},getMaxScaleOnAxis:function(){var u=this.val,f=u[0]*u[0]+u[1]*u[1]+u[2]*u[2],c=u[4]*u[4]+u[5]*u[5]+u[6]*u[6],d=u[8]*u[8]+u[9]*u[9]+u[10]*u[10];return Math.sqrt(Math.max(f,c,d))}}),r=new s,e=new s,n=new v,l=new v,i=new v;o.exports=s},86883:o=>{var g=function(t,a,v){return Math.min(t+a,v)};o.exports=g},50040:o=>{var g=function(t){var a=t.length;if(a===0)return 0;t.sort(function(h,s){return h-s});var v=Math.floor(a/2);return a%2===0?(t[v]+t[v-1])/2:t[v]};o.exports=g},37204:o=>{var g=function(t,a,v){return Math.max(t-a,v)};o.exports=g},65201:o=>{var g=function(t,a,v,h){v===void 0&&(v=a+1);var s=(t-a)/(v-a);return s>1?h!==void 0?(s=(h-t)/(h-v),s<0&&(s=0)):s=1:s<0&&(s=0),s};o.exports=g},15746:(o,g,t)=>{var a=t(83419),v=t(94434),h=t(29747),s=t(25836),r=1e-6,e=new Int8Array([1,2,0]),n=new Float32Array([0,0,0]),l=new s(1,0,0),i=new s(0,1,0),u=new s,f=new v,c=new a({initialize:function(p,m,y,x){this.onChangeCallback=h,this.set(p,m,y,x)},x:{get:function(){return this._x},set:function(d){this._x=d,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(d){this._y=d,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(d){this._z=d,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(d){this._w=d,this.onChangeCallback(this)}},copy:function(d){return this.set(d)},set:function(d,p,m,y,x){return x===void 0&&(x=!0),typeof d=="object"?(this._x=d.x||0,this._y=d.y||0,this._z=d.z||0,this._w=d.w||0):(this._x=d||0,this._y=p||0,this._z=m||0,this._w=y||0),x&&this.onChangeCallback(this),this},add:function(d){return this._x+=d.x,this._y+=d.y,this._z+=d.z,this._w+=d.w,this.onChangeCallback(this),this},subtract:function(d){return this._x-=d.x,this._y-=d.y,this._z-=d.z,this._w-=d.w,this.onChangeCallback(this),this},scale:function(d){return this._x*=d,this._y*=d,this._z*=d,this._w*=d,this.onChangeCallback(this),this},length:function(){var d=this.x,p=this.y,m=this.z,y=this.w;return Math.sqrt(d*d+p*p+m*m+y*y)},lengthSq:function(){var d=this.x,p=this.y,m=this.z,y=this.w;return d*d+p*p+m*m+y*y},normalize:function(){var d=this.x,p=this.y,m=this.z,y=this.w,x=d*d+p*p+m*m+y*y;return x>0&&(x=1/Math.sqrt(x),this._x=d*x,this._y=p*x,this._z=m*x,this._w=y*x),this.onChangeCallback(this),this},dot:function(d){return this.x*d.x+this.y*d.y+this.z*d.z+this.w*d.w},lerp:function(d,p){p===void 0&&(p=0);var m=this.x,y=this.y,x=this.z,C=this.w;return this.set(m+p*(d.x-m),y+p*(d.y-y),x+p*(d.z-x),C+p*(d.w-C))},rotationTo:function(d,p){var m=d.x*p.x+d.y*p.y+d.z*p.z;return m<-.999999?(u.copy(l).cross(d).length()<r&&u.copy(i).cross(d),u.normalize(),this.setAxisAngle(u,Math.PI)):m>.999999?this.set(0,0,0,1):(u.copy(d).cross(p),this._x=u.x,this._y=u.y,this._z=u.z,this._w=1+m,this.normalize())},setAxes:function(d,p,m){var y=f.val;return y[0]=p.x,y[3]=p.y,y[6]=p.z,y[1]=m.x,y[4]=m.y,y[7]=m.z,y[2]=-d.x,y[5]=-d.y,y[8]=-d.z,this.fromMat3(f).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(d,p){p=p*.5;var m=Math.sin(p);return this.set(m*d.x,m*d.y,m*d.z,Math.cos(p))},multiply:function(d){var p=this.x,m=this.y,y=this.z,x=this.w,C=d.x,E=d.y,R=d.z,M=d.w;return this.set(p*M+x*C+m*R-y*E,m*M+x*E+y*C-p*R,y*M+x*R+p*E-m*C,x*M-p*C-m*E-y*R)},slerp:function(d,p){var m=this.x,y=this.y,x=this.z,C=this.w,E=d.x,R=d.y,M=d.z,w=d.w,D=m*E+y*R+x*M+C*w;D<0&&(D=-D,E=-E,R=-R,M=-M,w=-w);var F=1-p,I=p;if(1-D>r){var L=Math.acos(D),B=Math.sin(L);F=Math.sin((1-p)*L)/B,I=Math.sin(p*L)/B}return this.set(F*m+I*E,F*y+I*R,F*x+I*M,F*C+I*w)},invert:function(){var d=this.x,p=this.y,m=this.z,y=this.w,x=d*d+p*p+m*m+y*y,C=x?1/x:0;return this.set(-d*C,-p*C,-m*C,y*C)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(d){d*=.5;var p=this.x,m=this.y,y=this.z,x=this.w,C=Math.sin(d),E=Math.cos(d);return this.set(p*E+x*C,m*E+y*C,y*E-m*C,x*E-p*C)},rotateY:function(d){d*=.5;var p=this.x,m=this.y,y=this.z,x=this.w,C=Math.sin(d),E=Math.cos(d);return this.set(p*E-y*C,m*E+x*C,y*E+p*C,x*E-m*C)},rotateZ:function(d){d*=.5;var p=this.x,m=this.y,y=this.z,x=this.w,C=Math.sin(d),E=Math.cos(d);return this.set(p*E+m*C,m*E-p*C,y*E+x*C,x*E-y*C)},calculateW:function(){var d=this.x,p=this.y,m=this.z;return this.w=-Math.sqrt(1-d*d-p*p-m*m),this},setFromEuler:function(d,p){var m=d.x/2,y=d.y/2,x=d.z/2,C=Math.cos(m),E=Math.cos(y),R=Math.cos(x),M=Math.sin(m),w=Math.sin(y),D=Math.sin(x);switch(d.order){case"XYZ":{this.set(M*E*R+C*w*D,C*w*R-M*E*D,C*E*D+M*w*R,C*E*R-M*w*D,p);break}case"YXZ":{this.set(M*E*R+C*w*D,C*w*R-M*E*D,C*E*D-M*w*R,C*E*R+M*w*D,p);break}case"ZXY":{this.set(M*E*R-C*w*D,C*w*R+M*E*D,C*E*D+M*w*R,C*E*R-M*w*D,p);break}case"ZYX":{this.set(M*E*R-C*w*D,C*w*R+M*E*D,C*E*D-M*w*R,C*E*R+M*w*D,p);break}case"YZX":{this.set(M*E*R+C*w*D,C*w*R+M*E*D,C*E*D-M*w*R,C*E*R-M*w*D,p);break}case"XZY":{this.set(M*E*R-C*w*D,C*w*R-M*E*D,C*E*D+M*w*R,C*E*R+M*w*D,p);break}}return this},setFromRotationMatrix:function(d){var p=d.val,m=p[0],y=p[4],x=p[8],C=p[1],E=p[5],R=p[9],M=p[2],w=p[6],D=p[10],F=m+E+D,I;return F>0?(I=.5/Math.sqrt(F+1),this.set((w-R)*I,(x-M)*I,(C-y)*I,.25/I)):m>E&&m>D?(I=2*Math.sqrt(1+m-E-D),this.set(.25*I,(y+C)/I,(x+M)/I,(w-R)/I)):E>D?(I=2*Math.sqrt(1+E-m-D),this.set((y+C)/I,.25*I,(R+w)/I,(x-M)/I)):(I=2*Math.sqrt(1+D-m-E),this.set((x+M)/I,(R+w)/I,.25*I,(C-y)/I)),this},fromMat3:function(d){var p=d.val,m=p[0]+p[4]+p[8],y;if(m>0)y=Math.sqrt(m+1),this.w=.5*y,y=.5/y,this._x=(p[7]-p[5])*y,this._y=(p[2]-p[6])*y,this._z=(p[3]-p[1])*y;else{var x=0;p[4]>p[0]&&(x=1),p[8]>p[x*3+x]&&(x=2);var C=e[x],E=e[C];y=Math.sqrt(p[x*3+x]-p[C*3+C]-p[E*3+E]+1),n[x]=.5*y,y=.5/y,n[C]=(p[C*3+x]+p[x*3+C])*y,n[E]=(p[E*3+x]+p[x*3+E])*y,this._x=n[0],this._y=n[1],this._z=n[2],this._w=(p[E*3+C]-p[C*3+E])*y}return this.onChangeCallback(this),this}});o.exports=c},43396:(o,g,t)=>{var a=t(36383),v=function(h){return h*a.RAD_TO_DEG};o.exports=v},74362:o=>{var g=function(t,a){a===void 0&&(a=1);var v=Math.random()*2*Math.PI;return t.x=Math.cos(v)*a,t.y=Math.sin(v)*a,t};o.exports=g},60706:o=>{var g=function(t,a){a===void 0&&(a=1);var v=Math.random()*2*Math.PI,h=Math.random()*2-1,s=Math.sqrt(1-h*h)*a;return t.x=Math.cos(v)*s,t.y=Math.sin(v)*s,t.z=h*a,t};o.exports=g},67421:o=>{var g=function(t,a){return a===void 0&&(a=1),t.x=(Math.random()*2-1)*a,t.y=(Math.random()*2-1)*a,t.z=(Math.random()*2-1)*a,t.w=(Math.random()*2-1)*a,t};o.exports=g},36305:o=>{var g=function(t,a){var v=t.x,h=t.y;return t.x=v*Math.cos(a)-h*Math.sin(a),t.y=v*Math.sin(a)+h*Math.cos(a),t};o.exports=g},11520:o=>{var g=function(t,a,v,h){var s=Math.cos(h),r=Math.sin(h),e=t.x-a,n=t.y-v;return t.x=e*s-n*r+a,t.y=e*r+n*s+v,t};o.exports=g},1163:o=>{var g=function(t,a,v,h,s){var r=h+Math.atan2(t.y-v,t.x-a);return t.x=a+s*Math.cos(r),t.y=v+s*Math.sin(r),t};o.exports=g},70336:o=>{var g=function(t,a,v,h,s){return t.x=a+s*Math.cos(h),t.y=v+s*Math.sin(h),t};o.exports=g},72678:(o,g,t)=>{var a=t(25836),v=t(37867),h=t(15746),s=new v,r=new h,e=new a,n=function(l,i,u){return r.setAxisAngle(i,u),s.fromRotationTranslation(r,e.set(0,0,0)),l.transformMat4(s)};o.exports=n},2284:o=>{var g=function(t){return t>0?Math.ceil(t):Math.floor(t)};o.exports=g},41013:o=>{var g=function(t,a,v){a===void 0&&(a=0),v===void 0&&(v=10);var h=Math.pow(v,-a);return Math.round(t*h)/h};o.exports=g},16922:o=>{var g=function(t,a,v,h){a===void 0&&(a=1),v===void 0&&(v=1),h===void 0&&(h=1),h*=Math.PI/t;for(var s=[],r=[],e=0;e<t;e++)v-=a*h,a+=v*h,s[e]=v,r[e]=a;return{sin:r,cos:s,length:t}};o.exports=g},7602:o=>{var g=function(t,a,v){return t<=a?0:t>=v?1:(t=(t-a)/(v-a),t*t*(3-2*t))};o.exports=g},54261:o=>{var g=function(t,a,v){return t=Math.max(0,Math.min(1,(t-a)/(v-a))),t*t*t*(t*(t*6-15)+10)};o.exports=g},44408:(o,g,t)=>{var a=t(26099),v=function(h,s,r,e){e===void 0&&(e=new a);var n=0,l=0,i=s*r;return h>0&&h<=i&&(h>s-1?(l=Math.floor(h/s),n=h-l*s):n=h),e.set(n,l)};o.exports=v},85955:(o,g,t)=>{var a=t(26099),v=function(h,s,r,e,n,l,i,u){u===void 0&&(u=new a);var f=Math.sin(n),c=Math.cos(n),d=c*l,p=f*l,m=-f*i,y=c*i,x=1/(d*y+m*-p);return u.x=y*x*h+-m*x*s+(e*m-r*y)*x,u.y=d*x*s+-p*x*h+(-e*d+r*p)*x,u};o.exports=v},26099:(o,g,t)=>{var a=t(83419),v=t(43855),h=new a({initialize:function(r,e){this.x=0,this.y=0,typeof r=="object"?(this.x=r.x||0,this.y=r.y||0):(e===void 0&&(e=r),this.x=r||0,this.y=e||0)},clone:function(){return new h(this.x,this.y)},copy:function(s){return this.x=s.x||0,this.y=s.y||0,this},setFromObject:function(s){return this.x=s.x||0,this.y=s.y||0,this},set:function(s,r){return r===void 0&&(r=s),this.x=s,this.y=r,this},setTo:function(s,r){return this.set(s,r)},setToPolar:function(s,r){return r==null&&(r=1),this.x=Math.cos(s)*r,this.y=Math.sin(s)*r,this},equals:function(s){return this.x===s.x&&this.y===s.y},fuzzyEquals:function(s,r){return v(this.x,s.x,r)&&v(this.y,s.y,r)},angle:function(){var s=Math.atan2(this.y,this.x);return s<0&&(s+=2*Math.PI),s},setAngle:function(s){return this.setToPolar(s,this.length())},add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.x-=s.x,this.y-=s.y,this},multiply:function(s){return this.x*=s.x,this.y*=s.y,this},scale:function(s){return isFinite(s)?(this.x*=s,this.y*=s):(this.x=0,this.y=0),this},divide:function(s){return this.x/=s.x,this.y/=s.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(s){var r=s.x-this.x,e=s.y-this.y;return Math.sqrt(r*r+e*e)},distanceSq:function(s){var r=s.x-this.x,e=s.y-this.y;return r*r+e*e},length:function(){var s=this.x,r=this.y;return Math.sqrt(s*s+r*r)},setLength:function(s){return this.normalize().scale(s)},lengthSq:function(){var s=this.x,r=this.y;return s*s+r*r},normalize:function(){var s=this.x,r=this.y,e=s*s+r*r;return e>0&&(e=1/Math.sqrt(e),this.x=s*e,this.y=r*e),this},normalizeRightHand:function(){var s=this.x;return this.x=this.y*-1,this.y=s,this},normalizeLeftHand:function(){var s=this.x;return this.x=this.y,this.y=s*-1,this},dot:function(s){return this.x*s.x+this.y*s.y},cross:function(s){return this.x*s.y-this.y*s.x},lerp:function(s,r){r===void 0&&(r=0);var e=this.x,n=this.y;return this.x=e+r*(s.x-e),this.y=n+r*(s.y-n),this},transformMat3:function(s){var r=this.x,e=this.y,n=s.val;return this.x=n[0]*r+n[3]*e+n[6],this.y=n[1]*r+n[4]*e+n[7],this},transformMat4:function(s){var r=this.x,e=this.y,n=s.val;return this.x=n[0]*r+n[4]*e+n[12],this.y=n[1]*r+n[5]*e+n[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(s){var r=this.length();return r&&r>s&&this.scale(s/r),this},reflect:function(s){return s=s.clone().normalize(),this.subtract(s.scale(2*this.dot(s)))},mirror:function(s){return this.reflect(s).negate()},rotate:function(s){var r=Math.cos(s),e=Math.sin(s);return this.set(r*this.x-e*this.y,e*this.x+r*this.y)},project:function(s){var r=this.dot(s)/s.dot(s);return this.copy(s).scale(r)}});h.ZERO=new h,h.RIGHT=new h(1,0),h.LEFT=new h(-1,0),h.UP=new h(0,-1),h.DOWN=new h(0,1),h.ONE=new h(1,1),o.exports=h},25836:(o,g,t)=>{var a=t(83419),v=new a({initialize:function(s,r,e){this.x=0,this.y=0,this.z=0,typeof s=="object"?(this.x=s.x||0,this.y=s.y||0,this.z=s.z||0):(this.x=s||0,this.y=r||0,this.z=e||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(h){return this.x=Math.min(this.x,h.x),this.y=Math.min(this.y,h.y),this.z=Math.min(this.z,h.z),this},max:function(h){return this.x=Math.max(this.x,h.x),this.y=Math.max(this.y,h.y),this.z=Math.max(this.z,h.z),this},clone:function(){return new v(this.x,this.y,this.z)},addVectors:function(h,s){return this.x=h.x+s.x,this.y=h.y+s.y,this.z=h.z+s.z,this},subVectors:function(h,s){return this.x=h.x-s.x,this.y=h.y-s.y,this.z=h.z-s.z,this},crossVectors:function(h,s){var r=h.x,e=h.y,n=h.z,l=s.x,i=s.y,u=s.z;return this.x=e*u-n*i,this.y=n*l-r*u,this.z=r*i-e*l,this},equals:function(h){return this.x===h.x&&this.y===h.y&&this.z===h.z},copy:function(h){return this.x=h.x,this.y=h.y,this.z=h.z||0,this},set:function(h,s,r){return typeof h=="object"?(this.x=h.x||0,this.y=h.y||0,this.z=h.z||0):(this.x=h||0,this.y=s||0,this.z=r||0),this},setFromMatrixPosition:function(h){return this.fromArray(h.val,12)},setFromMatrixColumn:function(h,s){return this.fromArray(h.val,s*4)},fromArray:function(h,s){return s===void 0&&(s=0),this.x=h[s],this.y=h[s+1],this.z=h[s+2],this},add:function(h){return this.x+=h.x,this.y+=h.y,this.z+=h.z||0,this},addScalar:function(h){return this.x+=h,this.y+=h,this.z+=h,this},addScale:function(h,s){return this.x+=h.x*s,this.y+=h.y*s,this.z+=h.z*s||0,this},subtract:function(h){return this.x-=h.x,this.y-=h.y,this.z-=h.z||0,this},multiply:function(h){return this.x*=h.x,this.y*=h.y,this.z*=h.z||1,this},scale:function(h){return isFinite(h)?(this.x*=h,this.y*=h,this.z*=h):(this.x=0,this.y=0,this.z=0),this},divide:function(h){return this.x/=h.x,this.y/=h.y,this.z/=h.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(h){var s=h.x-this.x,r=h.y-this.y,e=h.z-this.z||0;return Math.sqrt(s*s+r*r+e*e)},distanceSq:function(h){var s=h.x-this.x,r=h.y-this.y,e=h.z-this.z||0;return s*s+r*r+e*e},length:function(){var h=this.x,s=this.y,r=this.z;return Math.sqrt(h*h+s*s+r*r)},lengthSq:function(){var h=this.x,s=this.y,r=this.z;return h*h+s*s+r*r},normalize:function(){var h=this.x,s=this.y,r=this.z,e=h*h+s*s+r*r;return e>0&&(e=1/Math.sqrt(e),this.x=h*e,this.y=s*e,this.z=r*e),this},dot:function(h){return this.x*h.x+this.y*h.y+this.z*h.z},cross:function(h){var s=this.x,r=this.y,e=this.z,n=h.x,l=h.y,i=h.z;return this.x=r*i-e*l,this.y=e*n-s*i,this.z=s*l-r*n,this},lerp:function(h,s){s===void 0&&(s=0);var r=this.x,e=this.y,n=this.z;return this.x=r+s*(h.x-r),this.y=e+s*(h.y-e),this.z=n+s*(h.z-n),this},applyMatrix3:function(h){var s=this.x,r=this.y,e=this.z,n=h.val;return this.x=n[0]*s+n[3]*r+n[6]*e,this.y=n[1]*s+n[4]*r+n[7]*e,this.z=n[2]*s+n[5]*r+n[8]*e,this},applyMatrix4:function(h){var s=this.x,r=this.y,e=this.z,n=h.val,l=1/(n[3]*s+n[7]*r+n[11]*e+n[15]);return this.x=(n[0]*s+n[4]*r+n[8]*e+n[12])*l,this.y=(n[1]*s+n[5]*r+n[9]*e+n[13])*l,this.z=(n[2]*s+n[6]*r+n[10]*e+n[14])*l,this},transformMat3:function(h){var s=this.x,r=this.y,e=this.z,n=h.val;return this.x=s*n[0]+r*n[3]+e*n[6],this.y=s*n[1]+r*n[4]+e*n[7],this.z=s*n[2]+r*n[5]+e*n[8],this},transformMat4:function(h){var s=this.x,r=this.y,e=this.z,n=h.val;return this.x=n[0]*s+n[4]*r+n[8]*e+n[12],this.y=n[1]*s+n[5]*r+n[9]*e+n[13],this.z=n[2]*s+n[6]*r+n[10]*e+n[14],this},transformCoordinates:function(h){var s=this.x,r=this.y,e=this.z,n=h.val,l=s*n[0]+r*n[4]+e*n[8]+n[12],i=s*n[1]+r*n[5]+e*n[9]+n[13],u=s*n[2]+r*n[6]+e*n[10]+n[14],f=s*n[3]+r*n[7]+e*n[11]+n[15];return this.x=l/f,this.y=i/f,this.z=u/f,this},transformQuat:function(h){var s=this.x,r=this.y,e=this.z,n=h.x,l=h.y,i=h.z,u=h.w,f=u*s+l*e-i*r,c=u*r+i*s-n*e,d=u*e+n*r-l*s,p=-n*s-l*r-i*e;return this.x=f*u+p*-n+c*-i-d*-l,this.y=c*u+p*-l+d*-n-f*-i,this.z=d*u+p*-i+f*-l-c*-n,this},project:function(h){var s=this.x,r=this.y,e=this.z,n=h.val,l=n[0],i=n[1],u=n[2],f=n[3],c=n[4],d=n[5],p=n[6],m=n[7],y=n[8],x=n[9],C=n[10],E=n[11],R=n[12],M=n[13],w=n[14],D=n[15],F=1/(s*f+r*m+e*E+D);return this.x=(s*l+r*c+e*y+R)*F,this.y=(s*i+r*d+e*x+M)*F,this.z=(s*u+r*p+e*C+w)*F,this},projectViewMatrix:function(h,s){return this.applyMatrix4(h).applyMatrix4(s)},unprojectViewMatrix:function(h,s){return this.applyMatrix4(h).applyMatrix4(s)},unproject:function(h,s){var r=h.x,e=h.y,n=h.z,l=h.w,i=this.x-r,u=l-this.y-1-e,f=this.z;return this.x=2*i/n-1,this.y=2*u/l-1,this.z=2*f-1,this.project(s)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});v.ZERO=new v,v.RIGHT=new v(1,0,0),v.LEFT=new v(-1,0,0),v.UP=new v(0,-1,0),v.DOWN=new v(0,1,0),v.FORWARD=new v(0,0,1),v.BACK=new v(0,0,-1),v.ONE=new v(1,1,1),o.exports=v},61369:(o,g,t)=>{var a=t(83419),v=new a({initialize:function(s,r,e,n){this.x=0,this.y=0,this.z=0,this.w=0,typeof s=="object"?(this.x=s.x||0,this.y=s.y||0,this.z=s.z||0,this.w=s.w||0):(this.x=s||0,this.y=r||0,this.z=e||0,this.w=n||0)},clone:function(){return new v(this.x,this.y,this.z,this.w)},copy:function(h){return this.x=h.x,this.y=h.y,this.z=h.z||0,this.w=h.w||0,this},equals:function(h){return this.x===h.x&&this.y===h.y&&this.z===h.z&&this.w===h.w},set:function(h,s,r,e){return typeof h=="object"?(this.x=h.x||0,this.y=h.y||0,this.z=h.z||0,this.w=h.w||0):(this.x=h||0,this.y=s||0,this.z=r||0,this.w=e||0),this},add:function(h){return this.x+=h.x,this.y+=h.y,this.z+=h.z||0,this.w+=h.w||0,this},subtract:function(h){return this.x-=h.x,this.y-=h.y,this.z-=h.z||0,this.w-=h.w||0,this},scale:function(h){return this.x*=h,this.y*=h,this.z*=h,this.w*=h,this},length:function(){var h=this.x,s=this.y,r=this.z,e=this.w;return Math.sqrt(h*h+s*s+r*r+e*e)},lengthSq:function(){var h=this.x,s=this.y,r=this.z,e=this.w;return h*h+s*s+r*r+e*e},normalize:function(){var h=this.x,s=this.y,r=this.z,e=this.w,n=h*h+s*s+r*r+e*e;return n>0&&(n=1/Math.sqrt(n),this.x=h*n,this.y=s*n,this.z=r*n,this.w=e*n),this},dot:function(h){return this.x*h.x+this.y*h.y+this.z*h.z+this.w*h.w},lerp:function(h,s){s===void 0&&(s=0);var r=this.x,e=this.y,n=this.z,l=this.w;return this.x=r+s*(h.x-r),this.y=e+s*(h.y-e),this.z=n+s*(h.z-n),this.w=l+s*(h.w-l),this},multiply:function(h){return this.x*=h.x,this.y*=h.y,this.z*=h.z||1,this.w*=h.w||1,this},divide:function(h){return this.x/=h.x,this.y/=h.y,this.z/=h.z||1,this.w/=h.w||1,this},distance:function(h){var s=h.x-this.x,r=h.y-this.y,e=h.z-this.z||0,n=h.w-this.w||0;return Math.sqrt(s*s+r*r+e*e+n*n)},distanceSq:function(h){var s=h.x-this.x,r=h.y-this.y,e=h.z-this.z||0,n=h.w-this.w||0;return s*s+r*r+e*e+n*n},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(h){var s=this.x,r=this.y,e=this.z,n=this.w,l=h.val;return this.x=l[0]*s+l[4]*r+l[8]*e+l[12]*n,this.y=l[1]*s+l[5]*r+l[9]*e+l[13]*n,this.z=l[2]*s+l[6]*r+l[10]*e+l[14]*n,this.w=l[3]*s+l[7]*r+l[11]*e+l[15]*n,this},transformQuat:function(h){var s=this.x,r=this.y,e=this.z,n=h.x,l=h.y,i=h.z,u=h.w,f=u*s+l*e-i*r,c=u*r+i*s-n*e,d=u*e+n*r-l*s,p=-n*s-l*r-i*e;return this.x=f*u+p*-n+c*-i-d*-l,this.y=c*u+p*-l+d*-n-f*-i,this.z=d*u+p*-i+f*-l-c*-n,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});v.prototype.sub=v.prototype.subtract,v.prototype.mul=v.prototype.multiply,v.prototype.div=v.prototype.divide,v.prototype.dist=v.prototype.distance,v.prototype.distSq=v.prototype.distanceSq,v.prototype.len=v.prototype.length,v.prototype.lenSq=v.prototype.lengthSq,o.exports=v},60417:o=>{var g=function(t,a,v){return Math.abs(t-a)<=v};o.exports=g},15994:o=>{var g=function(t,a,v){var h=v-a;return a+((t-a)%h+h)%h};o.exports=g},31040:o=>{var g=function(t,a,v,h){return Math.atan2(h-a,v-t)};o.exports=g},55495:o=>{var g=function(t,a){return Math.atan2(a.y-t.y,a.x-t.x)};o.exports=g},128:o=>{var g=function(t,a){return Math.atan2(a.x-t.x,a.y-t.y)};o.exports=g},41273:o=>{var g=function(t,a,v,h){return Math.atan2(v-t,h-a)};o.exports=g},1432:(o,g,t)=>{var a=t(36383),v=function(h){return h>Math.PI&&(h-=a.PI2),Math.abs(((h+a.TAU)%a.PI2-a.PI2)%a.PI2)};o.exports=v},49127:(o,g,t)=>{var a=t(12407),v=function(h,s){return a(s-h)};o.exports=v},52285:(o,g,t)=>{var a=t(12407),v=2*Math.PI,h=function(s,r){var e=a(r-s);return e>0&&(e-=v),e};o.exports=h},67317:(o,g,t)=>{var a=t(86554),v=function(h,s){return a(s-h)};o.exports=v},12407:o=>{var g=function(t){return t=t%(2*Math.PI),t>=0?t:t+2*Math.PI};o.exports=g},53993:(o,g,t)=>{var a=t(99472),v=function(){return a(-Math.PI,Math.PI)};o.exports=v},86564:(o,g,t)=>{var a=t(99472),v=function(){return a(-180,180)};o.exports=v},90154:(o,g,t)=>{var a=t(12407),v=function(h){return a(h+Math.PI)};o.exports=v},48736:(o,g,t)=>{var a=t(36383),v=function(h,s,r){return r===void 0&&(r=.05),h===s||(Math.abs(s-h)<=r||Math.abs(s-h)>=a.PI2-r?h=s:(Math.abs(s-h)>Math.PI&&(s<h?s+=a.PI2:s-=a.PI2),s>h?h+=r:s<h&&(h-=r))),h};o.exports=v},61430:o=>{var g=function(t,a){var v=a-t;if(v===0)return 0;var h=Math.floor((v- -180)/360);return v-h*360};o.exports=g},86554:(o,g,t)=>{var a=t(15994),v=function(h){return a(h,-Math.PI,Math.PI)};o.exports=v},30954:(o,g,t)=>{var a=t(15994),v=function(h){return a(h,-180,180)};o.exports=v},25588:(o,g,t)=>{o.exports={Between:t(31040),BetweenPoints:t(55495),BetweenPointsY:t(128),BetweenY:t(41273),CounterClockwise:t(1432),GetClockwiseDistance:t(49127),GetCounterClockwiseDistance:t(52285),GetShortestDistance:t(67317),Normalize:t(12407),Random:t(53993),RandomDegrees:t(86564),Reverse:t(90154),RotateTo:t(48736),ShortestBetween:t(61430),Wrap:t(86554),WrapDegrees:t(30954)}},36383:o=>{var g={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};o.exports=g},20339:o=>{var g=function(t,a,v,h){var s=t-v,r=a-h;return Math.sqrt(s*s+r*r)};o.exports=g},52816:o=>{var g=function(t,a){var v=t.x-a.x,h=t.y-a.y;return Math.sqrt(v*v+h*h)};o.exports=g},64559:o=>{var g=function(t,a){var v=t.x-a.x,h=t.y-a.y;return v*v+h*h};o.exports=g},82340:o=>{var g=function(t,a,v,h){return Math.max(Math.abs(t-v),Math.abs(a-h))};o.exports=g},14390:o=>{var g=function(t,a,v,h,s){return s===void 0&&(s=2),Math.sqrt(Math.pow(v-t,s)+Math.pow(h-a,s))};o.exports=g},2243:o=>{var g=function(t,a,v,h){return Math.abs(t-v)+Math.abs(a-h)};o.exports=g},89774:o=>{var g=function(t,a,v,h){var s=t-v,r=a-h;return s*s+r*r};o.exports=g},50994:(o,g,t)=>{o.exports={Between:t(20339),BetweenPoints:t(52816),BetweenPointsSquared:t(64559),Chebyshev:t(82340),Power:t(14390),Snake:t(2243),Squared:t(89774)}},62640:(o,g,t)=>{var a=t(54178),v=t(41521),h=t(79980),s=t(85433),r=t(99140),e=t(48857),n=t(81596),l=t(59133),i=t(98516),u=t(35248),f=t(82500),c=t(49752);o.exports={Power0:n,Power1:l.Out,Power2:s.Out,Power3:i.Out,Power4:u.Out,Linear:n,Quad:l.Out,Cubic:s.Out,Quart:i.Out,Quint:u.Out,Sine:f.Out,Expo:e.Out,Circ:h.Out,Elastic:r.Out,Back:a.Out,Bounce:v.Out,Stepped:c,"Quad.easeIn":l.In,"Cubic.easeIn":s.In,"Quart.easeIn":i.In,"Quint.easeIn":u.In,"Sine.easeIn":f.In,"Expo.easeIn":e.In,"Circ.easeIn":h.In,"Elastic.easeIn":r.In,"Back.easeIn":a.In,"Bounce.easeIn":v.In,"Quad.easeOut":l.Out,"Cubic.easeOut":s.Out,"Quart.easeOut":i.Out,"Quint.easeOut":u.Out,"Sine.easeOut":f.Out,"Expo.easeOut":e.Out,"Circ.easeOut":h.Out,"Elastic.easeOut":r.Out,"Back.easeOut":a.Out,"Bounce.easeOut":v.Out,"Quad.easeInOut":l.InOut,"Cubic.easeInOut":s.InOut,"Quart.easeInOut":i.InOut,"Quint.easeInOut":u.InOut,"Sine.easeInOut":f.InOut,"Expo.easeInOut":e.InOut,"Circ.easeInOut":h.InOut,"Elastic.easeInOut":r.InOut,"Back.easeInOut":a.InOut,"Bounce.easeInOut":v.InOut}},1639:o=>{var g=function(t,a){return a===void 0&&(a=1.70158),t*t*((a+1)*t-a)};o.exports=g},50099:o=>{var g=function(t,a){a===void 0&&(a=1.70158);var v=a*1.525;return(t*=2)<1?.5*(t*t*((v+1)*t-v)):.5*((t-=2)*t*((v+1)*t+v)+2)};o.exports=g},41286:o=>{var g=function(t,a){return a===void 0&&(a=1.70158),--t*t*((a+1)*t+a)+1};o.exports=g},54178:(o,g,t)=>{o.exports={In:t(1639),Out:t(41286),InOut:t(50099)}},59590:o=>{var g=function(t){return t=1-t,t<.36363636363636365?1-7.5625*t*t:t<.7272727272727273?1-(7.5625*(t-=.5454545454545454)*t+.75):t<.9090909090909091?1-(7.5625*(t-=.8181818181818182)*t+.9375):1-(7.5625*(t-=.9545454545454546)*t+.984375)};o.exports=g},41788:o=>{var g=function(t){var a=!1;return t<.5?(t=1-t*2,a=!0):t=t*2-1,t<.36363636363636365?t=7.5625*t*t:t<.7272727272727273?t=7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?t=7.5625*(t-=.8181818181818182)*t+.9375:t=7.5625*(t-=.9545454545454546)*t+.984375,a?(1-t)*.5:t*.5+.5};o.exports=g},69905:o=>{var g=function(t){return t<.36363636363636365?7.5625*t*t:t<.7272727272727273?7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?7.5625*(t-=.8181818181818182)*t+.9375:7.5625*(t-=.9545454545454546)*t+.984375};o.exports=g},41521:(o,g,t)=>{o.exports={In:t(59590),Out:t(69905),InOut:t(41788)}},91861:o=>{var g=function(t){return 1-Math.sqrt(1-t*t)};o.exports=g},4177:o=>{var g=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)};o.exports=g},57512:o=>{var g=function(t){return Math.sqrt(1- --t*t)};o.exports=g},79980:(o,g,t)=>{o.exports={In:t(91861),Out:t(57512),InOut:t(4177)}},51150:o=>{var g=function(t){return t*t*t};o.exports=g},82820:o=>{var g=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)};o.exports=g},35033:o=>{var g=function(t){return--t*t*t+1};o.exports=g},85433:(o,g,t)=>{o.exports={In:t(51150),Out:t(35033),InOut:t(82820)}},69965:o=>{var g=function(t,a,v){if(a===void 0&&(a=.1),v===void 0&&(v=.1),t===0)return 0;if(t===1)return 1;var h=v/4;return a<1?a=1:h=v*Math.asin(1/a)/(2*Math.PI),-(a*Math.pow(2,10*(t-=1))*Math.sin((t-h)*(2*Math.PI)/v))};o.exports=g},50665:o=>{var g=function(t,a,v){if(a===void 0&&(a=.1),v===void 0&&(v=.1),t===0)return 0;if(t===1)return 1;var h=v/4;return a<1?a=1:h=v*Math.asin(1/a)/(2*Math.PI),(t*=2)<1?-.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t-h)*(2*Math.PI)/v)):a*Math.pow(2,-10*(t-=1))*Math.sin((t-h)*(2*Math.PI)/v)*.5+1};o.exports=g},7744:o=>{var g=function(t,a,v){if(a===void 0&&(a=.1),v===void 0&&(v=.1),t===0)return 0;if(t===1)return 1;var h=v/4;return a<1?a=1:h=v*Math.asin(1/a)/(2*Math.PI),a*Math.pow(2,-10*t)*Math.sin((t-h)*(2*Math.PI)/v)+1};o.exports=g},99140:(o,g,t)=>{o.exports={In:t(69965),Out:t(7744),InOut:t(50665)}},24590:o=>{var g=function(t){return Math.pow(2,10*(t-1))-.001};o.exports=g},87844:o=>{var g=function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))};o.exports=g},89433:o=>{var g=function(t){return 1-Math.pow(2,-10*t)};o.exports=g},48857:(o,g,t)=>{o.exports={In:t(24590),Out:t(89433),InOut:t(87844)}},48820:(o,g,t)=>{o.exports={Back:t(54178),Bounce:t(41521),Circular:t(79980),Cubic:t(85433),Elastic:t(99140),Expo:t(48857),Linear:t(81596),Quadratic:t(59133),Quartic:t(98516),Quintic:t(35248),Sine:t(82500),Stepped:t(49752)}},7147:o=>{var g=function(t){return t};o.exports=g},81596:(o,g,t)=>{o.exports=t(7147)},34826:o=>{var g=function(t){return t*t};o.exports=g},20544:o=>{var g=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)};o.exports=g},92029:o=>{var g=function(t){return t*(2-t)};o.exports=g},59133:(o,g,t)=>{o.exports={In:t(34826),Out:t(92029),InOut:t(20544)}},64413:o=>{var g=function(t){return t*t*t*t};o.exports=g},78137:o=>{var g=function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)};o.exports=g},45840:o=>{var g=function(t){return 1- --t*t*t*t};o.exports=g},98516:(o,g,t)=>{o.exports={In:t(64413),Out:t(45840),InOut:t(78137)}},87745:o=>{var g=function(t){return t*t*t*t*t};o.exports=g},16509:o=>{var g=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)};o.exports=g},17868:o=>{var g=function(t){return--t*t*t*t*t+1};o.exports=g},35248:(o,g,t)=>{o.exports={In:t(87745),Out:t(17868),InOut:t(16509)}},80461:o=>{var g=function(t){return t===0?0:t===1?1:1-Math.cos(t*Math.PI/2)};o.exports=g},34025:o=>{var g=function(t){return t===0?0:t===1?1:.5*(1-Math.cos(Math.PI*t))};o.exports=g},52768:o=>{var g=function(t){return t===0?0:t===1?1:Math.sin(t*Math.PI/2)};o.exports=g},82500:(o,g,t)=>{o.exports={In:t(80461),Out:t(52768),InOut:t(34025)}},72251:o=>{var g=function(t,a){return a===void 0&&(a=1),t<=0?0:t>=1?1:((a*t|0)+1)*(1/a)};o.exports=g},49752:(o,g,t)=>{o.exports=t(72251)},75698:o=>{var g=function(t,a){return a===void 0&&(a=1e-4),Math.ceil(t-a)};o.exports=g},43855:o=>{var g=function(t,a,v){return v===void 0&&(v=1e-4),Math.abs(t-a)<v};o.exports=g},25777:o=>{var g=function(t,a){return a===void 0&&(a=1e-4),Math.floor(t+a)};o.exports=g},5470:o=>{var g=function(t,a,v){return v===void 0&&(v=1e-4),t>a-v};o.exports=g},94977:o=>{var g=function(t,a,v){return v===void 0&&(v=1e-4),t<a+v};o.exports=g},48379:(o,g,t)=>{o.exports={Ceil:t(75698),Equal:t(43855),Floor:t(25777),GreaterThan:t(5470),LessThan:t(94977)}},75508:(o,g,t)=>{var a=t(36383),v=t(79291),h={Angle:t(25588),Distance:t(50994),Easing:t(48820),Fuzzy:t(48379),Interpolation:t(38289),Pow2:t(49001),Snap:t(73697),RandomDataGenerator:t(28453),Average:t(53307),Bernstein:t(85710),Between:t(30976),CatmullRom:t(87842),CeilTo:t(26302),Clamp:t(45319),DegToRad:t(39506),Difference:t(61241),Euler:t(38857),Factorial:t(6411),FloatBetween:t(99472),FloorTo:t(77623),FromPercent:t(62945),GetSpeed:t(38265),IsEven:t(78702),IsEvenStrict:t(94883),Linear:t(28915),LinearXY:t(94908),MaxAdd:t(86883),Median:t(50040),MinSub:t(37204),Percent:t(65201),RadToDeg:t(43396),RandomXY:t(74362),RandomXYZ:t(60706),RandomXYZW:t(67421),Rotate:t(36305),RotateAround:t(11520),RotateAroundDistance:t(1163),RotateTo:t(70336),RoundAwayFromZero:t(2284),RoundTo:t(41013),SinCosTableGenerator:t(16922),SmootherStep:t(54261),SmoothStep:t(7602),ToXY:t(44408),TransformXY:t(85955),Within:t(60417),Wrap:t(15994),Vector2:t(26099),Vector3:t(25836),Vector4:t(61369),Matrix3:t(94434),Matrix4:t(37867),Quaternion:t(15746),RotateVec3:t(72678)};h=v(!1,h,a),o.exports=h},89318:(o,g,t)=>{var a=t(85710),v=function(h,s){for(var r=0,e=h.length-1,n=0;n<=e;n++)r+=Math.pow(1-s,e-n)*Math.pow(s,n)*h[n]*a(e,n);return r};o.exports=v},77259:(o,g,t)=>{var a=t(87842),v=function(h,s){var r=h.length-1,e=r*s,n=Math.floor(e);return h[0]===h[r]?(s<0&&(n=Math.floor(e=r*(1+s))),a(e-n,h[(n-1+r)%r],h[n],h[(n+1)%r],h[(n+2)%r])):s<0?h[0]-(a(-e,h[0],h[0],h[1],h[1])-h[0]):s>1?h[r]-(a(e-r,h[r],h[r],h[r-1],h[r-1])-h[r]):a(e-n,h[n?n-1:0],h[n],h[r<n+1?r:n+1],h[r<n+2?r:n+2])};o.exports=v},36316:o=>{function g(s,r){var e=1-s;return e*e*e*r}function t(s,r){var e=1-s;return 3*e*e*s*r}function a(s,r){return 3*(1-s)*s*s*r}function v(s,r){return s*s*s*r}var h=function(s,r,e,n,l){return g(s,r)+t(s,e)+a(s,n)+v(s,l)};o.exports=h},28392:(o,g,t)=>{var a=t(28915),v=function(h,s){var r=h.length-1,e=r*s,n=Math.floor(e);return s<0?a(h[0],h[1],e):s>1?a(h[r],h[r-1],r-e):a(h[n],h[n+1>r?r:n+1],e-n)};o.exports=v},32112:o=>{function g(h,s){var r=1-h;return r*r*s}function t(h,s){return 2*(1-h)*h*s}function a(h,s){return h*h*s}var v=function(h,s,r,e){return g(h,s)+t(h,r)+a(h,e)};o.exports=v},47235:(o,g,t)=>{var a=t(7602),v=function(h,s,r){return s+(r-s)*a(h,0,1)};o.exports=v},50178:(o,g,t)=>{var a=t(54261),v=function(h,s,r){return s+(r-s)*a(h,0,1)};o.exports=v},38289:(o,g,t)=>{o.exports={Bezier:t(89318),CatmullRom:t(77259),CubicBezier:t(36316),Linear:t(28392),QuadraticBezier:t(32112),SmoothStep:t(47235),SmootherStep:t(50178)}},98439:o=>{var g=function(t){var a=Math.log(t)/.6931471805599453;return 1<<Math.ceil(a)};o.exports=g},50030:o=>{var g=function(t,a){return t>0&&(t&t-1)===0&&a>0&&(a&a-1)===0};o.exports=g},81230:o=>{var g=function(t){return t>0&&(t&t-1)===0};o.exports=g},49001:(o,g,t)=>{o.exports={GetNext:t(98439),IsSize:t(50030),IsValue:t(81230)}},28453:(o,g,t)=>{var a=t(83419),v=new a({initialize:function(s){s===void 0&&(s=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],s&&this.init(s)},rnd:function(){var h=2091639*this.s0+this.c*23283064365386963e-26;return this.c=h|0,this.s0=this.s1,this.s1=this.s2,this.s2=h-this.c,this.s2},hash:function(h){var s,r=this.n;h=h.toString();for(var e=0;e<h.length;e++)r+=h.charCodeAt(e),s=.02519603282416938*r,r=s>>>0,s-=r,s*=r,r=s>>>0,s-=r,r+=s*4294967296;return this.n=r,(r>>>0)*23283064365386963e-26},init:function(h){typeof h=="string"?this.state(h):this.sow(h)},sow:function(h){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!h)for(var s=0;s<h.length&&h[s]!=null;s++){var r=h[s];this.s0-=this.hash(r),this.s0+=~~(this.s0<0),this.s1-=this.hash(r),this.s1+=~~(this.s1<0),this.s2-=this.hash(r),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(h,s){return Math.floor(this.realInRange(0,s-h+1)+h)},between:function(h,s){return Math.floor(this.realInRange(0,s-h+1)+h)},realInRange:function(h,s){return this.frac()*(s-h)+h},normal:function(){return 1-2*this.frac()},uuid:function(){var h="",s="";for(s=h="";h++<36;s+=~h%5|h*3&4?(h^15?8^this.frac()*(h^20?16:4):4).toString(16):"-");return s},pick:function(h){return h[this.integerInRange(0,h.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(h){return h[~~(Math.pow(this.frac(),2)*(h.length-.5)+.5)]},timestamp:function(h,s){return this.realInRange(h||9466848e5,s||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(h){return typeof h=="string"&&h.match(/^!rnd/)&&(h=h.split(","),this.c=parseFloat(h[1]),this.s0=parseFloat(h[2]),this.s1=parseFloat(h[3]),this.s2=parseFloat(h[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(h){for(var s=h.length-1,r=s;r>0;r--){var e=Math.floor(this.frac()*(r+1)),n=h[e];h[e]=h[r],h[r]=n}return h}});o.exports=v},63448:o=>{var g=function(t,a,v,h){return v===void 0&&(v=0),a===0?t:(t-=v,t=a*Math.ceil(t/a),h?(v+t)/a:v+t)};o.exports=g},56583:o=>{var g=function(t,a,v,h){return v===void 0&&(v=0),a===0?t:(t-=v,t=a*Math.floor(t/a),h?(v+t)/a:v+t)};o.exports=g},77720:o=>{var g=function(t,a,v,h){return v===void 0&&(v=0),a===0?t:(t-=v,t=a*Math.round(t/a),h?(v+t)/a:v+t)};o.exports=g},73697:(o,g,t)=>{o.exports={Ceil:t(63448),Floor:t(56583),To:t(77720)}},85454:(o,g,t)=>{t(63595);var a=t(8054),v=t(79291),h={Actions:t(61061),Animations:t(60421),BlendModes:t(10312),Cache:t(83388),Cameras:t(26638),Core:t(42857),Class:t(83419),Create:t(15822),Curves:t(25410),Data:t(44965),Display:t(27460),DOM:t(84902),Events:t(93055),FX:t(66064),Game:t(50127),GameObjects:t(77856),Geom:t(55738),Input:t(14350),Loader:t(57777),Math:t(75508),Physics:t(44563),Plugins:t(18922),Renderer:t(36909),Scale:t(93364),ScaleModes:t(29795),Scene:t(97482),Scenes:t(62194),Structs:t(41392),Textures:t(27458),Tilemaps:t(62501),Time:t(90291),Tweens:t(43066),Utils:t(91799)};h.Sound=t(23717),h=v(!1,h,a),o.exports=h,t.g.Phaser=h},71289:(o,g,t)=>{var a=t(83419),v=t(92209),h=t(88571),s=new a({Extends:h,Mixins:[v.Acceleration,v.Angular,v.Bounce,v.Collision,v.Debug,v.Drag,v.Enable,v.Friction,v.Gravity,v.Immovable,v.Mass,v.Pushable,v.Size,v.Velocity],initialize:function(e,n,l,i,u){h.call(this,e,n,l,i,u),this.body=null}});o.exports=s},86689:(o,g,t)=>{var a=t(83419),v=t(39506),h=t(20339),s=t(89774),r=t(66022),e=t(95540),n=t(46975),l=t(72441),i=t(47956),u=t(37277),f=t(44594),c=t(26099),d=t(82248),p=new a({initialize:function(y){this.scene=y,this.systems=y.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,y.sys.events.once(f.BOOT,this.boot,this),y.sys.events.on(f.START,this.start,this)},boot:function(){this.world=new d(this.scene,this.config),this.add=new r(this.world),this.systems.events.once(f.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new d(this.scene,this.config),this.add=new r(this.world));var m=this.systems.events;e(this.config,"customUpdate",!1)||m.on(f.UPDATE,this.world.update,this.world),m.on(f.POST_UPDATE,this.world.postUpdate,this.world),m.once(f.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(f.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(f.UPDATE,this.world.update,this.world)},getConfig:function(){var m=this.systems.game.config.physics,y=this.systems.settings.physics,x=n(e(y,"arcade",{}),e(m,"arcade",{}));return x},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(m,y,x,C,E){return x===void 0&&(x=null),C===void 0&&(C=null),E===void 0&&(E=x),this.world.collideObjects(m,y,x,C,E,!0)},collide:function(m,y,x,C,E){return x===void 0&&(x=null),C===void 0&&(C=null),E===void 0&&(E=x),this.world.collideObjects(m,y,x,C,E,!1)},collideTiles:function(m,y,x,C,E){return this.world.collideTiles(m,y,x,C,E)},overlapTiles:function(m,y,x,C,E){return this.world.overlapTiles(m,y,x,C,E)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(m,y,x,C,E,R){C===void 0&&(C=60);var M=Math.atan2(x-m.y,y-m.x);return m.body.acceleration.setToPolar(M,C),E!==void 0&&R!==void 0&&m.body.maxVelocity.set(E,R),M},accelerateToObject:function(m,y,x,C,E){return this.accelerateTo(m,y.x,y.y,x,C,E)},closest:function(m,y){y||(y=this.world.bodies.entries);for(var x=Number.MAX_VALUE,C=null,E=m.x,R=m.y,M=y.length,w=0;w<M;w++){var D=y[w],F=D.body||D;if(!(m===D||m===F||m===F.gameObject||m===F.center)){var I=s(E,R,F.center.x,F.center.y);I<x&&(C=D,x=I)}}return C},furthest:function(m,y){y||(y=this.world.bodies.entries);for(var x=-1,C=null,E=m.x,R=m.y,M=y.length,w=0;w<M;w++){var D=y[w],F=D.body||D;if(!(m===D||m===F||m===F.gameObject||m===F.center)){var I=s(E,R,F.center.x,F.center.y);I>x&&(C=D,x=I)}}return C},moveTo:function(m,y,x,C,E){C===void 0&&(C=60),E===void 0&&(E=0);var R=Math.atan2(x-m.y,y-m.x);return E>0&&(C=h(m.x,m.y,y,x)/(E/1e3)),m.body.velocity.setToPolar(R,C),R},moveToObject:function(m,y,x,C){return this.moveTo(m,y.x,y.y,x,C)},velocityFromAngle:function(m,y,x){return y===void 0&&(y=60),x===void 0&&(x=new c),x.setToPolar(v(m),y)},velocityFromRotation:function(m,y,x){return y===void 0&&(y=60),x===void 0&&(x=new c),x.setToPolar(m,y)},overlapRect:function(m,y,x,C,E,R){return i(this.world,m,y,x,C,E,R)},overlapCirc:function(m,y,x,C,E){return l(this.world,m,y,x,C,E)},shutdown:function(){if(this.world){var m=this.systems.events;m.off(f.UPDATE,this.world.update,this.world),m.off(f.POST_UPDATE,this.world.postUpdate,this.world),m.off(f.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(f.START,this.start,this),this.scene=null,this.systems=null}});u.register("ArcadePhysics",p,"arcadePhysics"),o.exports=p},13759:(o,g,t)=>{var a=t(83419),v=t(92209),h=t(68287),s=new a({Extends:h,Mixins:[v.Acceleration,v.Angular,v.Bounce,v.Collision,v.Debug,v.Drag,v.Enable,v.Friction,v.Gravity,v.Immovable,v.Mass,v.Pushable,v.Size,v.Velocity],initialize:function(e,n,l,i,u){h.call(this,e,n,l,i,u),this.body=null}});o.exports=s},37742:(o,g,t)=>{var a=t(83419),v=t(78389),h=t(37747),s=t(63012),r=t(43396),e=t(87841),n=t(37303),l=t(95829),i=t(26099),u=new a({Mixins:[v],initialize:function(c,d){var p=64,m=64,y={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},x=d!==void 0;x&&d.displayWidth&&(p=d.displayWidth,m=d.displayHeight),x||(d=y),this.world=c,this.gameObject=x?d:void 0,this.isBody=!0,this.transform={x:d.x,y:d.y,rotation:d.angle,scaleX:d.scaleX,scaleY:d.scaleY,displayOriginX:d.displayOriginX,displayOriginY:d.displayOriginY},this.debugShowBody=c.defaults.debugShowBody,this.debugShowVelocity=c.defaults.debugShowVelocity,this.debugBodyColor=c.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new i,this.position=new i(d.x-d.scaleX*d.displayOriginX,d.y-d.scaleY*d.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=d.angle,this.preRotation=d.angle,this.width=p,this.height=m,this.sourceWidth=p,this.sourceHeight=m,d.frame&&(this.sourceWidth=d.frame.realWidth,this.sourceHeight=d.frame.realHeight),this.halfWidth=Math.abs(p/2),this.halfHeight=Math.abs(m/2),this.center=new i(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new i,this.newVelocity=new i,this.deltaMax=new i,this.acceleration=new i,this.allowDrag=!0,this.drag=new i,this.allowGravity=!0,this.gravity=new i,this.bounce=new i,this.worldBounce=null,this.customBoundsRectangle=c.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new i(1e4,1e4),this.maxSpeed=-1,this.friction=new i(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=h.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new i(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=l(!1),this.touching=l(!0),this.wasTouching=l(!0),this.blocked=l(!0),this.syncBounds=!1,this.physicsType=h.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=d.scaleX,this._sy=d.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new e,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var f=this.gameObject,c=this.transform;if(f.parentContainer){var d=f.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);c.x=d.tx,c.y=d.ty,c.rotation=r(d.rotation),c.scaleX=d.scaleX,c.scaleY=d.scaleY,c.displayOriginX=f.displayOriginX,c.displayOriginY=f.displayOriginY}else c.x=f.x,c.y=f.y,c.rotation=f.angle,c.scaleX=f.scaleX,c.scaleY=f.scaleY,c.displayOriginX=f.displayOriginX,c.displayOriginY=f.displayOriginY;var p=!1;if(this.syncBounds){var m=f.getBounds(this._bounds);this.width=m.width,this.height=m.height,p=!0}else{var y=Math.abs(c.scaleX),x=Math.abs(c.scaleY);(this._sx!==y||this._sy!==x)&&(this.width=this.sourceWidth*y,this.height=this.sourceHeight*x,this._sx=y,this._sy=x,p=!0)}p&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var f=this.transform;this.position.x=f.x+f.scaleX*(this.offset.x-f.displayOriginX),this.position.y=f.y+f.scaleY*(this.offset.y-f.displayOriginY),this.updateCenter()},resetFlags:function(f){f===void 0&&(f=!1);var c=this.wasTouching,d=this.touching,p=this.blocked;f?l(!0,c):(c.none=d.none,c.up=d.up,c.down=d.down,c.left=d.left,c.right=d.right),l(!0,d),l(!0,p),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(f,c){if(f&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var d=this.position;this.prev.x=d.x,this.prev.y=d.y,this.prevFrame.x=d.x,this.prevFrame.y=d.y}f&&this.update(c)},update:function(f){var c=this.prev,d=this.position,p=this.velocity;if(c.set(d.x,d.y),!this.moves){this._dx=d.x-c.x,this._dy=d.y-c.y;return}if(this.directControl){var m=this.autoFrame;p.set((d.x-m.x)/f,(d.y-m.y)/f),this.world.updateMotion(this,f),this._dx=d.x-m.x,this._dy=d.y-m.y}else this.world.updateMotion(this,f),this.newVelocity.set(p.x*f,p.y*f),d.add(this.newVelocity),this._dx=d.x-c.x,this._dy=d.y-c.y;var y=p.x,x=p.y;if(this.updateCenter(),this.angle=Math.atan2(x,y),this.speed=Math.sqrt(y*y+x*x),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var C=this.blocked;this.world.emit(s.WORLD_BOUNDS,this,C.up,C.down,C.left,C.right)}},postUpdate:function(){var f=this.position,c=f.x-this.prevFrame.x,d=f.y-this.prevFrame.y,p=this.gameObject;if(this.moves){var m=this.deltaMax.x,y=this.deltaMax.y;m!==0&&c!==0&&(c<0&&c<-m?c=-m:c>0&&c>m&&(c=m)),y!==0&&d!==0&&(d<0&&d<-y?d=-y:d>0&&d>y&&(d=y)),p&&(p.x+=c,p.y+=d)}c<0?this.facing=h.FACING_LEFT:c>0&&(this.facing=h.FACING_RIGHT),d<0?this.facing=h.FACING_UP:d>0&&(this.facing=h.FACING_DOWN),this.allowRotation&&p&&(p.angle+=this.deltaZ()),this._tx=c,this._ty=d,this.autoFrame.set(f.x,f.y)},setBoundsRectangle:function(f){return this.customBoundsRectangle=f||this.world.bounds,this},checkWorldBounds:function(){var f=this.position,c=this.velocity,d=this.blocked,p=this.customBoundsRectangle,m=this.world.checkCollision,y=this.worldBounce?-this.worldBounce.x:-this.bounce.x,x=this.worldBounce?-this.worldBounce.y:-this.bounce.y,C=!1;return f.x<p.x&&m.left?(f.x=p.x,c.x*=y,d.left=!0,C=!0):this.right>p.right&&m.right&&(f.x=p.right-this.width,c.x*=y,d.right=!0,C=!0),f.y<p.y&&m.up?(f.y=p.y,c.y*=x,d.up=!0,C=!0):this.bottom>p.bottom&&m.down&&(f.y=p.bottom-this.height,c.y*=x,d.down=!0,C=!0),C&&(this.blocked.none=!1,this.updateCenter()),C},setOffset:function(f,c){return c===void 0&&(c=f),this.offset.set(f,c),this},setGameObject:function(f,c){if(c===void 0&&(c=!0),!f||!f.hasTransformComponent)return this;var d=this.world;return this.gameObject&&this.gameObject.body&&(d.disable(this.gameObject),this.gameObject.body=null),f.body&&d.disable(f),this.gameObject=f,f.body=this,this.setSize(),this.enable=c,this},setSize:function(f,c,d){d===void 0&&(d=!0);var p=this.gameObject;if(p&&(!f&&p.frame&&(f=p.frame.realWidth),!c&&p.frame&&(c=p.frame.realHeight)),this.sourceWidth=f,this.sourceHeight=c,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),d&&p&&p.getCenter){var m=(p.width-f)/2,y=(p.height-c)/2;this.offset.set(m,y)}return this.isCircle=!1,this.radius=0,this},setCircle:function(f,c,d){return c===void 0&&(c=this.offset.x),d===void 0&&(d=this.offset.y),f>0?(this.isCircle=!0,this.radius=f,this.sourceWidth=f*2,this.sourceHeight=f*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(c,d),this.updateCenter()):this.isCircle=!1,this},reset:function(f,c){this.stop();var d=this.gameObject;d&&(d.setPosition(f,c),this.rotation=d.angle,this.preRotation=d.angle);var p=this.position;d&&d.getTopLeft?d.getTopLeft(p):p.set(f,c),this.prev.copy(p),this.prevFrame.copy(p),this.autoFrame.copy(p),d&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(f){return f.x=this.x,f.y=this.y,f.right=this.right,f.bottom=this.bottom,f},hitTest:function(f,c){if(!this.isCircle)return n(this,f,c);if(this.radius>0&&f>=this.left&&f<=this.right&&c>=this.top&&c<=this.bottom){var d=(this.center.x-f)*(this.center.x-f),p=(this.center.y-c)*(this.center.y-c);return d+p<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(f){var c=this.position,d=c.x+this.halfWidth,p=c.y+this.halfHeight;this.debugShowBody&&(f.lineStyle(f.defaultStrokeWidth,this.debugBodyColor),this.isCircle?f.strokeCircle(d,p,this.width/2):(this.checkCollision.up&&f.lineBetween(c.x,c.y,c.x+this.width,c.y),this.checkCollision.right&&f.lineBetween(c.x+this.width,c.y,c.x+this.width,c.y+this.height),this.checkCollision.down&&f.lineBetween(c.x,c.y+this.height,c.x+this.width,c.y+this.height),this.checkCollision.left&&f.lineBetween(c.x,c.y,c.x,c.y+this.height))),this.debugShowVelocity&&(f.lineStyle(f.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),f.lineBetween(d,p,d+this.velocity.x/2,p+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(f){return f===void 0&&(f=!0),this.directControl=f,this},setCollideWorldBounds:function(f,c,d,p){f===void 0&&(f=!0),this.collideWorldBounds=f;var m=c!==void 0,y=d!==void 0;return(m||y)&&(this.worldBounce||(this.worldBounce=new i),m&&(this.worldBounce.x=c),y&&(this.worldBounce.y=d)),p!==void 0&&(this.onWorldBounds=p),this},setVelocity:function(f,c){return this.velocity.set(f,c),f=this.velocity.x,c=this.velocity.y,this.speed=Math.sqrt(f*f+c*c),this},setVelocityX:function(f){return this.setVelocity(f,this.velocity.y)},setVelocityY:function(f){return this.setVelocity(this.velocity.x,f)},setMaxVelocity:function(f,c){return this.maxVelocity.set(f,c),this},setMaxVelocityX:function(f){return this.maxVelocity.x=f,this},setMaxVelocityY:function(f){return this.maxVelocity.y=f,this},setMaxSpeed:function(f){return this.maxSpeed=f,this},setSlideFactor:function(f,c){return this.slideFactor.set(f,c),this},setBounce:function(f,c){return this.bounce.set(f,c),this},setBounceX:function(f){return this.bounce.x=f,this},setBounceY:function(f){return this.bounce.y=f,this},setAcceleration:function(f,c){return this.acceleration.set(f,c),this},setAccelerationX:function(f){return this.acceleration.x=f,this},setAccelerationY:function(f){return this.acceleration.y=f,this},setAllowDrag:function(f){return f===void 0&&(f=!0),this.allowDrag=f,this},setAllowGravity:function(f){return f===void 0&&(f=!0),this.allowGravity=f,this},setAllowRotation:function(f){return f===void 0&&(f=!0),this.allowRotation=f,this},setDrag:function(f,c){return this.drag.set(f,c),this},setDamping:function(f){return this.useDamping=f,this},setDragX:function(f){return this.drag.x=f,this},setDragY:function(f){return this.drag.y=f,this},setGravity:function(f,c){return this.gravity.set(f,c),this},setGravityX:function(f){return this.gravity.x=f,this},setGravityY:function(f){return this.gravity.y=f,this},setFriction:function(f,c){return this.friction.set(f,c),this},setFrictionX:function(f){return this.friction.x=f,this},setFrictionY:function(f){return this.friction.y=f,this},setAngularVelocity:function(f){return this.angularVelocity=f,this},setAngularAcceleration:function(f){return this.angularAcceleration=f,this},setAngularDrag:function(f){return this.angularDrag=f,this},setMass:function(f){return this.mass=f,this},setImmovable:function(f){return f===void 0&&(f=!0),this.immovable=f,this},setEnable:function(f){return f===void 0&&(f=!0),this.enable=f,this},processX:function(f,c,d,p){this.x+=f,this.updateCenter(),c!==null&&(this.velocity.x=c*this.slideFactor.x);var m=this.blocked;d&&(m.left=!0,m.none=!1),p&&(m.right=!0,m.none=!1)},processY:function(f,c,d,p){this.y+=f,this.updateCenter(),c!==null&&(this.velocity.y=c*this.slideFactor.y);var m=this.blocked;d&&(m.up=!0,m.none=!1),p&&(m.down=!0,m.none=!1)},x:{get:function(){return this.position.x},set:function(f){this.position.x=f}},y:{get:function(){return this.position.y},set:function(f){this.position.y=f}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});o.exports=u},79342:(o,g,t)=>{var a=t(83419),v=new a({initialize:function(s,r,e,n,l,i,u){this.world=s,this.name="",this.active=!0,this.overlapOnly=r,this.object1=e,this.object2=n,this.collideCallback=l,this.processCallback=i,this.callbackContext=u},setName:function(h){return this.name=h,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});o.exports=v},66022:(o,g,t)=>{var a=t(71289),v=t(13759),h=t(37742),s=t(83419),r=t(37747),e=t(60758),n=t(72624),l=t(71464),i=new s({initialize:function(f){this.world=f,this.scene=f.scene,this.sys=f.scene.sys},collider:function(u,f,c,d,p){return this.world.addCollider(u,f,c,d,p)},overlap:function(u,f,c,d,p){return this.world.addOverlap(u,f,c,d,p)},existing:function(u,f){var c=f?r.STATIC_BODY:r.DYNAMIC_BODY;return this.world.enableBody(u,c),u},staticImage:function(u,f,c,d){var p=new a(this.scene,u,f,c,d);return this.sys.displayList.add(p),this.world.enableBody(p,r.STATIC_BODY),p},image:function(u,f,c,d){var p=new a(this.scene,u,f,c,d);return this.sys.displayList.add(p),this.world.enableBody(p,r.DYNAMIC_BODY),p},staticSprite:function(u,f,c,d){var p=new v(this.scene,u,f,c,d);return this.sys.displayList.add(p),this.sys.updateList.add(p),this.world.enableBody(p,r.STATIC_BODY),p},sprite:function(u,f,c,d){var p=new v(this.scene,u,f,c,d);return this.sys.displayList.add(p),this.sys.updateList.add(p),this.world.enableBody(p,r.DYNAMIC_BODY),p},staticGroup:function(u,f){return this.sys.updateList.add(new l(this.world,this.world.scene,u,f))},group:function(u,f){return this.sys.updateList.add(new e(this.world,this.world.scene,u,f))},body:function(u,f,c,d){var p=new h(this.world);return p.position.set(u,f),c&&d&&p.setSize(c,d),this.world.add(p,r.DYNAMIC_BODY),p},staticBody:function(u,f,c,d){var p=new n(this.world);return p.position.set(u,f),c&&d&&p.setSize(c,d),this.world.add(p,r.STATIC_BODY),p},destroy:function(){this.world=null,this.scene=null,this.sys=null}});o.exports=i},79599:o=>{var g=function(t){var a=0;if(!Array.isArray(t))a=t;else for(var v=0;v<t.length;v++)a|=t[v];return a};o.exports=g},64897:(o,g,t)=>{var a=t(37747),v=function(h,s,r,e){var n=0,l=h.deltaAbsX()+s.deltaAbsX()+e;return h._dx===0&&s._dx===0?(h.embedded=!0,s.embedded=!0):h._dx>s._dx?(n=h.right-s.x,n>l&&!r||h.checkCollision.right===!1||s.checkCollision.left===!1?n=0:(h.touching.none=!1,h.touching.right=!0,s.touching.none=!1,s.touching.left=!0,s.physicsType===a.STATIC_BODY&&!r&&(h.blocked.none=!1,h.blocked.right=!0),h.physicsType===a.STATIC_BODY&&!r&&(s.blocked.none=!1,s.blocked.left=!0))):h._dx<s._dx&&(n=h.x-s.width-s.x,-n>l&&!r||h.checkCollision.left===!1||s.checkCollision.right===!1?n=0:(h.touching.none=!1,h.touching.left=!0,s.touching.none=!1,s.touching.right=!0,s.physicsType===a.STATIC_BODY&&!r&&(h.blocked.none=!1,h.blocked.left=!0),h.physicsType===a.STATIC_BODY&&!r&&(s.blocked.none=!1,s.blocked.right=!0))),h.overlapX=n,s.overlapX=n,n};o.exports=v},45170:(o,g,t)=>{var a=t(37747),v=function(h,s,r,e){var n=0,l=h.deltaAbsY()+s.deltaAbsY()+e;return h._dy===0&&s._dy===0?(h.embedded=!0,s.embedded=!0):h._dy>s._dy?(n=h.bottom-s.y,n>l&&!r||h.checkCollision.down===!1||s.checkCollision.up===!1?n=0:(h.touching.none=!1,h.touching.down=!0,s.touching.none=!1,s.touching.up=!0,s.physicsType===a.STATIC_BODY&&!r&&(h.blocked.none=!1,h.blocked.down=!0),h.physicsType===a.STATIC_BODY&&!r&&(s.blocked.none=!1,s.blocked.up=!0))):h._dy<s._dy&&(n=h.y-s.bottom,-n>l&&!r||h.checkCollision.up===!1||s.checkCollision.down===!1?n=0:(h.touching.none=!1,h.touching.up=!0,s.touching.none=!1,s.touching.down=!0,s.physicsType===a.STATIC_BODY&&!r&&(h.blocked.none=!1,h.blocked.up=!0),h.physicsType===a.STATIC_BODY&&!r&&(s.blocked.none=!1,s.blocked.down=!0))),h.overlapY=n,s.overlapY=n,n};o.exports=v},60758:(o,g,t)=>{var a=t(13759),v=t(83419),h=t(78389),s=t(37747),r=t(95540),e=t(26479),n=t(41212),l=new v({Extends:e,Mixins:[h],initialize:function(u,f,c,d){if(!c&&!d)d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(n(c))d=c,c=null,d.internalCreateCallback=this.createCallbackHandler,d.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(c)&&n(c[0])){var p=this;c.forEach(function(m){m.internalCreateCallback=p.createCallbackHandler,m.internalRemoveCallback=p.removeCallbackHandler,m.classType=r(m,"classType",a)}),d=null}else d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=u,d&&(d.classType=r(d,"classType",a)),this.physicsType=s.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=2147483647,this.defaults={setCollideWorldBounds:r(d,"collideWorldBounds",!1),setBoundsRectangle:r(d,"customBoundsRectangle",null),setAccelerationX:r(d,"accelerationX",0),setAccelerationY:r(d,"accelerationY",0),setAllowDrag:r(d,"allowDrag",!0),setAllowGravity:r(d,"allowGravity",!0),setAllowRotation:r(d,"allowRotation",!0),setDamping:r(d,"useDamping",!1),setBounceX:r(d,"bounceX",0),setBounceY:r(d,"bounceY",0),setDragX:r(d,"dragX",0),setDragY:r(d,"dragY",0),setEnable:r(d,"enable",!0),setGravityX:r(d,"gravityX",0),setGravityY:r(d,"gravityY",0),setFrictionX:r(d,"frictionX",0),setFrictionY:r(d,"frictionY",0),setMaxSpeed:r(d,"maxSpeed",-1),setMaxVelocityX:r(d,"maxVelocityX",1e4),setMaxVelocityY:r(d,"maxVelocityY",1e4),setVelocityX:r(d,"velocityX",0),setVelocityY:r(d,"velocityY",0),setAngularVelocity:r(d,"angularVelocity",0),setAngularAcceleration:r(d,"angularAcceleration",0),setAngularDrag:r(d,"angularDrag",0),setMass:r(d,"mass",1),setImmovable:r(d,"immovable",!1)},e.call(this,f,c,d),this.type="PhysicsGroup"},createCallbackHandler:function(i){i.body||this.world.enableBody(i,s.DYNAMIC_BODY);var u=i.body;for(var f in this.defaults)u[f](this.defaults[f])},removeCallbackHandler:function(i){i.body&&this.world.disableBody(i)},setVelocity:function(i,u,f){f===void 0&&(f=0);for(var c=this.getChildren(),d=0;d<c.length;d++)c[d].body.velocity.set(i+d*f,u+d*f);return this},setVelocityX:function(i,u){u===void 0&&(u=0);for(var f=this.getChildren(),c=0;c<f.length;c++)f[c].body.velocity.x=i+c*u;return this},setVelocityY:function(i,u){u===void 0&&(u=0);for(var f=this.getChildren(),c=0;c<f.length;c++)f[c].body.velocity.y=i+c*u;return this}});o.exports=l},3017:o=>{var g,t,a,v,h,s,r,e,n,l,i,u,f,c,d,p,m,y=function(w,D,F){g=w,t=D;var I=g.velocity.x,L=t.velocity.x;return a=g.pushable,n=g._dx<0,l=g._dx>0,i=g._dx===0,d=Math.abs(g.right-t.x)<=Math.abs(t.right-g.x),r=L-I*g.bounce.x,v=t.pushable,u=t._dx<0,f=t._dx>0,c=t._dx===0,p=!d,e=I-L*t.bounce.x,m=Math.abs(F),x()},x=function(){return l&&d&&t.blocked.right?(g.processX(-m,r,!1,!0),1):n&&p&&t.blocked.left?(g.processX(m,r,!0),1):f&&p&&g.blocked.right?(t.processX(-m,e,!1,!0),2):u&&d&&g.blocked.left?(t.processX(m,e,!0),2):0},C=function(){var w=g.velocity.x,D=t.velocity.x,F=Math.sqrt(D*D*t.mass/g.mass)*(D>0?1:-1),I=Math.sqrt(w*w*g.mass/t.mass)*(w>0?1:-1),L=(F+I)*.5;return F-=L,I-=L,h=L+F*g.bounce.x,s=L+I*t.bounce.x,n&&p?E(0):u&&d?E(1):l&&d?E(2):f&&p?E(3):!1},E=function(w){if(a&&v)m*=.5,w===0||w===3?(g.processX(m,h),t.processX(-m,s)):(g.processX(-m,h),t.processX(m,s));else if(a&&!v)w===0||w===3?g.processX(m,r,!0):g.processX(-m,r,!1,!0);else if(!a&&v)w===0||w===3?t.processX(-m,e,!1,!0):t.processX(m,e,!0);else{var D=m*.5;w===0?c?(g.processX(m,0,!0),t.processX(0,null,!1,!0)):f?(g.processX(D,0,!0),t.processX(-D,0,!1,!0)):(g.processX(D,t.velocity.x,!0),t.processX(-D,null,!1,!0)):w===1?i?(g.processX(0,null,!1,!0),t.processX(m,0,!0)):l?(g.processX(-D,0,!1,!0),t.processX(D,0,!0)):(g.processX(-D,null,!1,!0),t.processX(D,g.velocity.x,!0)):w===2?c?(g.processX(-m,0,!1,!0),t.processX(0,null,!0)):u?(g.processX(-D,0,!1,!0),t.processX(D,0,!0)):(g.processX(-D,t.velocity.x,!1,!0),t.processX(D,null,!0)):w===3&&(i?(g.processX(0,null,!0),t.processX(-m,0,!1,!0)):n?(g.processX(D,0,!0),t.processX(-D,0,!1,!0)):(g.processX(D,t.velocity.y,!0),t.processX(-D,null,!1,!0)))}return!0},R=function(w){if(w===1?t.velocity.x=0:d?t.processX(m,e,!0):t.processX(-m,e,!1,!0),g.moves){var D=g.directControl?g.y-g.autoFrame.y:g.y-g.prev.y;t.y+=D*g.friction.y,t._dy=t.y-t.prev.y}},M=function(w){if(w===2?g.velocity.x=0:p?g.processX(m,r,!0):g.processX(-m,r,!1,!0),t.moves){var D=t.directControl?t.y-t.autoFrame.y:t.y-t.prev.y;g.y+=D*t.friction.y,g._dy=g.y-g.prev.y}};o.exports={BlockCheck:x,Check:C,Set:y,Run:E,RunImmovableBody1:R,RunImmovableBody2:M}},47962:o=>{var g,t,a,v,h,s,r,e,n,l,i,u,f,c,d,p,m,y=function(w,D,F){g=w,t=D;var I=g.velocity.y,L=t.velocity.y;return a=g.pushable,n=g._dy<0,l=g._dy>0,i=g._dy===0,d=Math.abs(g.bottom-t.y)<=Math.abs(t.bottom-g.y),r=L-I*g.bounce.y,v=t.pushable,u=t._dy<0,f=t._dy>0,c=t._dy===0,p=!d,e=I-L*t.bounce.y,m=Math.abs(F),x()},x=function(){return l&&d&&t.blocked.down?(g.processY(-m,r,!1,!0),1):n&&p&&t.blocked.up?(g.processY(m,r,!0),1):f&&p&&g.blocked.down?(t.processY(-m,e,!1,!0),2):u&&d&&g.blocked.up?(t.processY(m,e,!0),2):0},C=function(){var w=g.velocity.y,D=t.velocity.y,F=Math.sqrt(D*D*t.mass/g.mass)*(D>0?1:-1),I=Math.sqrt(w*w*g.mass/t.mass)*(w>0?1:-1),L=(F+I)*.5;return F-=L,I-=L,h=L+F*g.bounce.y,s=L+I*t.bounce.y,n&&p?E(0):u&&d?E(1):l&&d?E(2):f&&p?E(3):!1},E=function(w){if(a&&v)m*=.5,w===0||w===3?(g.processY(m,h),t.processY(-m,s)):(g.processY(-m,h),t.processY(m,s));else if(a&&!v)w===0||w===3?g.processY(m,r,!0):g.processY(-m,r,!1,!0);else if(!a&&v)w===0||w===3?t.processY(-m,e,!1,!0):t.processY(m,e,!0);else{var D=m*.5;w===0?c?(g.processY(m,0,!0),t.processY(0,null,!1,!0)):f?(g.processY(D,0,!0),t.processY(-D,0,!1,!0)):(g.processY(D,t.velocity.y,!0),t.processY(-D,null,!1,!0)):w===1?i?(g.processY(0,null,!1,!0),t.processY(m,0,!0)):l?(g.processY(-D,0,!1,!0),t.processY(D,0,!0)):(g.processY(-D,null,!1,!0),t.processY(D,g.velocity.y,!0)):w===2?c?(g.processY(-m,0,!1,!0),t.processY(0,null,!0)):u?(g.processY(-D,0,!1,!0),t.processY(D,0,!0)):(g.processY(-D,t.velocity.y,!1,!0),t.processY(D,null,!0)):w===3&&(i?(g.processY(0,null,!0),t.processY(-m,0,!1,!0)):n?(g.processY(D,0,!0),t.processY(-D,0,!1,!0)):(g.processY(D,t.velocity.y,!0),t.processY(-D,null,!1,!0)))}return!0},R=function(w){if(w===1?t.velocity.y=0:d?t.processY(m,e,!0):t.processY(-m,e,!1,!0),g.moves){var D=g.directControl?g.x-g.autoFrame.x:g.x-g.prev.x;t.x+=D*g.friction.x,t._dx=t.x-t.prev.x}},M=function(w){if(w===2?g.velocity.y=0:p?g.processY(m,r,!0):g.processY(-m,r,!1,!0),t.moves){var D=t.directControl?t.x-t.autoFrame.x:t.x-t.prev.x;g.x+=D*t.friction.x,g._dx=g.x-g.prev.x}};o.exports={BlockCheck:x,Check:C,Set:y,Run:E,RunImmovableBody1:R,RunImmovableBody2:M}},14087:(o,g,t)=>{var a=t(64897),v=t(3017),h=function(s,r,e,n,l){l===void 0&&(l=a(s,r,e,n));var i=s.immovable,u=r.immovable;if(e||l===0||i&&u||s.customSeparateX||r.customSeparateX)return l!==0||s.embedded&&r.embedded;var f=v.Set(s,r,l);return!i&&!u?f>0?!0:v.Check():(i?v.RunImmovableBody1(f):u&&v.RunImmovableBody2(f),!0)};o.exports=h},89936:(o,g,t)=>{var a=t(45170),v=t(47962),h=function(s,r,e,n,l){l===void 0&&(l=a(s,r,e,n));var i=s.immovable,u=r.immovable;if(e||l===0||i&&u||s.customSeparateY||r.customSeparateY)return l!==0||s.embedded&&r.embedded;var f=v.Set(s,r,l);return!i&&!u?f>0?!0:v.Check():(i?v.RunImmovableBody1(f):u&&v.RunImmovableBody2(f),!0)};o.exports=h},95829:o=>{var g=function(t,a){return a===void 0&&(a={}),a.none=t,a.up=!1,a.down=!1,a.left=!1,a.right=!1,t||(a.up=!0,a.down=!0,a.left=!0,a.right=!0),a};o.exports=g},72624:(o,g,t)=>{var a=t(87902),v=t(83419),h=t(78389),s=t(37747),r=t(37303),e=t(95829),n=t(26099),l=new v({Mixins:[h],initialize:function(u,f){var c=64,d=64,p={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},m=f!==void 0;m&&f.displayWidth&&(c=f.displayWidth,d=f.displayHeight),m||(f=p),this.world=u,this.gameObject=m?f:void 0,this.isBody=!0,this.debugShowBody=u.defaults.debugShowStaticBody,this.debugBodyColor=u.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new n,this.position=new n(f.x-c*f.originX,f.y-d*f.originY),this.width=c,this.height=d,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new n(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=n.ZERO,this.allowGravity=!1,this.gravity=n.ZERO,this.bounce=n.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=e(!1),this.touching=e(!0),this.wasTouching=e(!0),this.blocked=e(!0),this.physicsType=s.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(i,u,f){if(u===void 0&&(u=!0),f===void 0&&(f=!0),!i||!i.hasTransformComponent)return this;var c=this.world;return this.gameObject&&this.gameObject.body&&(c.disable(this.gameObject),this.gameObject.body=null),i.body&&c.disable(i),this.gameObject=i,i.body=this,this.setSize(),u&&this.updateFromGameObject(),this.enable=f,this},updateFromGameObject:function(){this.world.staticTree.remove(this);var i=this.gameObject;return i.getTopLeft(this.position),this.width=i.displayWidth,this.height=i.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(i,u){return u===void 0&&(u=i),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(i,u),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(i,u,f){f===void 0&&(f=!0);var c=this.gameObject;if(c&&c.frame&&(i||(i=c.frame.realWidth),u||(u=c.frame.realHeight)),this.world.staticTree.remove(this),this.width=i,this.height=u,this.halfWidth=Math.floor(i/2),this.halfHeight=Math.floor(u/2),f&&c&&c.getCenter){var d=c.displayWidth/2,p=c.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(d-this.halfWidth,p-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(i,u,f){return u===void 0&&(u=this.offset.x),f===void 0&&(f=this.offset.y),i>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=i,this.width=i*2,this.height=i*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(u,f),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(i,u){var f=this.gameObject;i===void 0&&(i=f.x),u===void 0&&(u=f.y),this.world.staticTree.remove(this),f.setPosition(i,u),f.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(i){return i.x=this.x,i.y=this.y,i.right=this.right,i.bottom=this.bottom,i},hitTest:function(i,u){return this.isCircle?a(this,i,u):r(this,i,u)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(i){var u=this.position,f=u.x+this.halfWidth,c=u.y+this.halfHeight;this.debugShowBody&&(i.lineStyle(i.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?i.strokeCircle(f,c,this.width/2):i.strokeRect(u.x,u.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(i){return i<=0&&(i=.1),this.mass=i,this},x:{get:function(){return this.position.x},set:function(i){this.world.staticTree.remove(this),this.position.x=i,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(i){this.world.staticTree.remove(this),this.position.y=i,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});o.exports=l},71464:(o,g,t)=>{var a=t(13759),v=t(83419),h=t(78389),s=t(37747),r=t(95540),e=t(26479),n=t(41212),l=new v({Extends:e,Mixins:[h],initialize:function(u,f,c,d){!c&&!d?d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:a}:n(c)?(d=c,c=null,d.internalCreateCallback=this.createCallbackHandler,d.internalRemoveCallback=this.removeCallbackHandler,d.createMultipleCallback=this.createMultipleCallbackHandler,d.classType=r(d,"classType",a)):Array.isArray(c)&&n(c[0])?(d=c,c=null,d.forEach(function(p){p.internalCreateCallback=this.createCallbackHandler,p.internalRemoveCallback=this.removeCallbackHandler,p.createMultipleCallback=this.createMultipleCallbackHandler,p.classType=r(p,"classType",a)})):d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=u,this.physicsType=s.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,e.call(this,f,c,d),this.type="StaticPhysicsGroup"},createCallbackHandler:function(i){i.body||this.world.enableBody(i,s.STATIC_BODY)},removeCallbackHandler:function(i){i.body&&this.world.disableBody(i)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var i=this.children.entries,u=0;u<i.length;u++)i[u].body.reset();return this}});o.exports=l},82248:(o,g,t)=>{var a=t(55495),v=t(37742),h=t(45319),s=t(83419),r=t(79342),e=t(37747),n=t(20339),l=t(52816),i=t(50792),u=t(63012),f=t(43855),c=t(5470),d=t(94977),p=t(64897),m=t(45170),y=t(96523),x=t(35154),C=t(36383),E=t(25774),R=t(96602),M=t(87841),w=t(59542),D=t(40012),F=t(14087),I=t(89936),L=t(35072),B=t(72624),G=t(2483),V=t(61340),X=t(26099),b=t(15994),U=new s({Extends:i,initialize:function(z,N){i.call(this),this.scene=z,this.bodies=new L,this.staticBodies=new L,this.pendingDestroy=new L,this.colliders=new E,this.gravity=new X(x(N,"gravity.x",0),x(N,"gravity.y",0)),this.bounds=new M(x(N,"x",0),x(N,"y",0),x(N,"width",z.sys.scale.width),x(N,"height",z.sys.scale.height)),this.checkCollision={up:x(N,"checkCollision.up",!0),down:x(N,"checkCollision.down",!0),left:x(N,"checkCollision.left",!0),right:x(N,"checkCollision.right",!0)},this.fps=x(N,"fps",60),this.fixedStep=x(N,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=x(N,"timeScale",1),this.OVERLAP_BIAS=x(N,"overlapBias",4),this.TILE_BIAS=x(N,"tileBias",16),this.forceX=x(N,"forceX",!1),this.isPaused=x(N,"isPaused",!1),this._total=0,this.drawDebug=x(N,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:x(N,"debugShowBody",!0),debugShowStaticBody:x(N,"debugShowStaticBody",!0),debugShowVelocity:x(N,"debugShowVelocity",!0),bodyDebugColor:x(N,"debugBodyColor",16711935),staticBodyDebugColor:x(N,"debugStaticBodyColor",255),velocityDebugColor:x(N,"debugVelocityColor",65280)},this.maxEntries=x(N,"maxEntries",16),this.useTree=x(N,"useTree",!0),this.tree=new w(this.maxEntries),this.staticTree=new w(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new V,this._tempMatrix2=new V,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(O,z){z===void 0&&(z=e.DYNAMIC_BODY),Array.isArray(O)||(O=[O]);for(var N=0;N<O.length;N++){var Y=O[N];if(Y.isParent)for(var W=Y.getChildren(),H=0;H<W.length;H++){var $=W[H];$.isParent?this.enable($,z):this.enableBody($,z)}else this.enableBody(Y,z)}},enableBody:function(O,z){return z===void 0&&(z=e.DYNAMIC_BODY),O.hasTransformComponent&&(O.body||(z===e.DYNAMIC_BODY?O.body=new v(this,O):z===e.STATIC_BODY&&(O.body=new B(this,O))),this.add(O.body)),O},add:function(O){return O.physicsType===e.DYNAMIC_BODY?this.bodies.set(O):O.physicsType===e.STATIC_BODY&&(this.staticBodies.set(O),this.staticTree.insert(O)),O.enable=!0,O},disable:function(O){Array.isArray(O)||(O=[O]);for(var z=0;z<O.length;z++){var N=O[z];if(N.isParent)for(var Y=N.getChildren(),W=0;W<Y.length;W++){var H=Y[W];H.isParent?this.disable(H):this.disableBody(H.body)}else this.disableBody(N.body)}},disableBody:function(O){this.remove(O),O.enable=!1},remove:function(O){O.physicsType===e.DYNAMIC_BODY?(this.tree.remove(O),this.bodies.delete(O)):O.physicsType===e.STATIC_BODY&&(this.staticBodies.delete(O),this.staticTree.remove(O))},createDebugGraphic:function(){var O=this.scene.sys.add.graphics({x:0,y:0});return O.setDepth(Number.MAX_VALUE),this.debugGraphic=O,this.drawDebug=!0,O},setBounds:function(O,z,N,Y,W,H,$,j){return this.bounds.setTo(O,z,N,Y),W!==void 0&&this.setBoundsCollision(W,H,$,j),this},setBoundsCollision:function(O,z,N,Y){return O===void 0&&(O=!0),z===void 0&&(z=!0),N===void 0&&(N=!0),Y===void 0&&(Y=!0),this.checkCollision.left=O,this.checkCollision.right=z,this.checkCollision.up=N,this.checkCollision.down=Y,this},pause:function(){return this.isPaused=!0,this.emit(u.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(u.RESUME),this},addCollider:function(O,z,N,Y,W){N===void 0&&(N=null),Y===void 0&&(Y=null),W===void 0&&(W=N);var H=new r(this,!1,O,z,N,Y,W);return this.colliders.add(H),H},addOverlap:function(O,z,N,Y,W){N===void 0&&(N=null),Y===void 0&&(Y=null),W===void 0&&(W=N);var H=new r(this,!0,O,z,N,Y,W);return this.colliders.add(H),H},removeCollider:function(O){return this.colliders.remove(O),this},setFPS:function(O){return this.fps=O,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(O,z){if(!(this.isPaused||this.bodies.size===0)){var N,Y=this._frameTime,W=this._frameTimeMS*this.timeScale;this._elapsed+=z;var H,$=this.bodies.entries,j=this._elapsed>=W;for(this.fixedStep||(Y=z*.001,j=!0,this._elapsed=0),N=0;N<$.length;N++)H=$[N],H.enable&&H.preUpdate(j,Y);if(j){this._elapsed-=W,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load($));var Z=this.colliders.update();for(N=0;N<Z.length;N++){var J=Z[N];J.active&&J.update()}this.emit(u.WORLD_STEP,Y)}for(;this._elapsed>=W;)this._elapsed-=W,this.step(Y)}},step:function(O){var z,N,Y=this.bodies.entries,W=Y.length;for(z=0;z<W;z++)N=Y[z],N.enable&&N.update(O);this.useTree&&(this.tree.clear(),this.tree.load(Y));var H=this.colliders.update();for(z=0;z<H.length;z++){var $=H[z];$.active&&$.update()}this.emit(u.WORLD_STEP,O),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var O,z,N=this.bodies.entries,Y=N.length,W=this.bodies,H=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,O=0;O<Y;O++)z=N[O],z.enable&&z.postUpdate();if(this.drawDebug){var $=this.debugGraphic;for($.clear(),O=0;O<Y;O++)z=N[O],z.willDrawDebug()&&z.drawDebug($);for(N=H.entries,Y=N.length,O=0;O<Y;O++)z=N[O],z.willDrawDebug()&&z.drawDebug($)}var j=this.pendingDestroy;if(j.size>0){var Z=this.tree,J=this.staticTree;for(N=j.entries,Y=N.length,O=0;O<Y;O++)z=N[O],z.physicsType===e.DYNAMIC_BODY?(Z.remove(z),W.delete(z)):z.physicsType===e.STATIC_BODY&&(J.remove(z),H.delete(z)),z.world=void 0,z.gameObject=void 0;j.clear()}},updateMotion:function(O,z){O.allowRotation&&this.computeAngularVelocity(O,z),this.computeVelocity(O,z)},computeAngularVelocity:function(O,z){var N=O.angularVelocity,Y=O.angularAcceleration,W=O.angularDrag,H=O.maxAngular;Y?N+=Y*z:O.allowDrag&&W&&(W*=z,c(N-W,0,.1)?N-=W:d(N+W,0,.1)?N+=W:N=0),N=h(N,-H,H);var $=N-O.angularVelocity;O.angularVelocity+=$,O.rotation+=O.angularVelocity*z},computeVelocity:function(O,z){var N=O.velocity.x,Y=O.acceleration.x,W=O.drag.x,H=O.maxVelocity.x,$=O.velocity.y,j=O.acceleration.y,Z=O.drag.y,J=O.maxVelocity.y,K=O.speed,Q=O.maxSpeed,_=O.allowDrag,k=O.useDamping;O.allowGravity&&(N+=(this.gravity.x+O.gravity.x)*z,$+=(this.gravity.y+O.gravity.y)*z),Y?N+=Y*z:_&&W&&(k?(W=Math.pow(W,z),N*=W,K=Math.sqrt(N*N+$*$),f(K,0,.001)&&(N=0)):(W*=z,c(N-W,0,.01)?N-=W:d(N+W,0,.01)?N+=W:N=0)),j?$+=j*z:_&&Z&&(k?(Z=Math.pow(Z,z),$*=Z,K=Math.sqrt(N*N+$*$),f(K,0,.001)&&($=0)):(Z*=z,c($-Z,0,.01)?$-=Z:d($+Z,0,.01)?$+=Z:$=0)),N=h(N,-H,H),$=h($,-J,J),O.velocity.set(N,$),Q>-1&&O.velocity.length()>Q&&(O.velocity.normalize().scale(Q),K=Q),O.speed=K},separate:function(O,z,N,Y,W){var H,$,j=!1,Z=!0;if(!O.enable||!z.enable||O.checkCollision.none||z.checkCollision.none||!this.intersects(O,z)||(O.collisionMask&z.collisionCategory)===0||(z.collisionMask&O.collisionCategory)===0||N&&N.call(Y,O.gameObject||O,z.gameObject||z)===!1)return j;if(O.isCircle||z.isCircle){var J=this.separateCircle(O,z,W);J.result?(j=!0,Z=!1):(H=J.x,$=J.y,Z=!0)}if(Z){var K=!1,Q=!1,_=this.OVERLAP_BIAS;W?(K=F(O,z,W,_,H),Q=I(O,z,W,_,$)):this.forceX||Math.abs(this.gravity.y+O.gravity.y)<Math.abs(this.gravity.x+O.gravity.x)?(K=F(O,z,W,_,H),this.intersects(O,z)&&(Q=I(O,z,W,_,$))):(Q=I(O,z,W,_,$),this.intersects(O,z)&&(K=F(O,z,W,_,H))),j=K||Q}return j&&(W?(O.onOverlap||z.onOverlap)&&this.emit(u.OVERLAP,O.gameObject,z.gameObject,O,z):(O.onCollide||z.onCollide)&&this.emit(u.COLLIDE,O.gameObject,z.gameObject,O,z)),j},separateCircle:function(O,z,N){p(O,z,!1,0),m(O,z,!1,0);var Y=O.isCircle,W=z.isCircle,H=O.center,$=z.center,j=O.immovable,Z=z.immovable,J=O.velocity,K=z.velocity,Q=0,_=!0;if(Y!==W){_=!1;var k=H.x,nt=H.y,st=O.halfWidth,at=z.position.x,q=z.position.y,et=z.right,it=z.bottom;W&&(k=$.x,nt=$.y,st=z.halfWidth,at=O.position.x,q=O.position.y,et=O.right,it=O.bottom),nt<q?k<at?Q=n(k,nt,at,q)-st:k>et&&(Q=n(k,nt,et,q)-st):nt>it&&(k<at?Q=n(k,nt,at,it)-st:k>et&&(Q=n(k,nt,et,it)-st)),Q*=-1}else Q=O.halfWidth+z.halfWidth-l(H,$);O.overlapR=Q,z.overlapR=Q;var lt=a(H,$),gt=(Q+C.EPSILON)*Math.cos(lt),wt=(Q+C.EPSILON)*Math.sin(lt),ct={overlap:Q,result:!1,x:gt,y:wt};if(N&&(!_||_&&Q!==0))return ct.result=!0,ct;if(!_&&Q===0||j&&Z||O.customSeparateX||z.customSeparateX)return ct.x=void 0,ct.y=void 0,ct;var pt=!O.pushable&&!z.pushable;if(_){var Ft=H.x-$.x,jt=H.y-$.y,Et=Math.sqrt(Math.pow(Ft,2)+Math.pow(jt,2)),Lt=($.x-H.x)/Et||0,bt=($.y-H.y)/Et||0,te=2*(J.x*Lt+J.y*bt-K.x*Lt-K.y*bt)/(O.mass+z.mass);(j||Z||!O.pushable||!z.pushable)&&(te*=2),!j&&O.pushable&&(J.x=J.x-te/O.mass*Lt,J.y=J.y-te/O.mass*bt,J.multiply(O.bounce)),!Z&&z.pushable&&(K.x=K.x+te/z.mass*Lt,K.y=K.y+te/z.mass*bt,K.multiply(z.bounce)),!j&&!Z&&(gt*=.5,wt*=.5),(!j||O.pushable||pt)&&(O.x-=gt,O.y-=wt,O.updateCenter()),(!Z||z.pushable||pt)&&(z.x+=gt,z.y+=wt,z.updateCenter()),ct.result=!0}else!j&&(O.pushable||pt)&&(O.x-=gt,O.y-=wt,O.updateCenter()),!Z&&(z.pushable||pt)&&(z.x+=gt,z.y+=wt,z.updateCenter()),ct.x=void 0,ct.y=void 0;return ct},intersects:function(O,z){return O===z?!1:!O.isCircle&&!z.isCircle?!(O.right<=z.left||O.bottom<=z.top||O.left>=z.right||O.top>=z.bottom):O.isCircle?z.isCircle?l(O.center,z.center)<=O.halfWidth+z.halfWidth:this.circleBodyIntersects(O,z):this.circleBodyIntersects(z,O)},circleBodyIntersects:function(O,z){var N=h(O.center.x,z.left,z.right),Y=h(O.center.y,z.top,z.bottom),W=(O.center.x-N)*(O.center.x-N),H=(O.center.y-Y)*(O.center.y-Y);return W+H<=O.halfWidth*O.halfWidth},overlap:function(O,z,N,Y,W){return N===void 0&&(N=null),Y===void 0&&(Y=null),W===void 0&&(W=N),this.collideObjects(O,z,N,Y,W,!0)},collide:function(O,z,N,Y,W){return N===void 0&&(N=null),Y===void 0&&(Y=null),W===void 0&&(W=N),this.collideObjects(O,z,N,Y,W,!1)},collideObjects:function(O,z,N,Y,W,H){var $,j;O.isParent&&(O.physicsType===void 0||z===void 0||O===z)&&(O=O.children.entries),z&&z.isParent&&z.physicsType===void 0&&(z=z.children.entries);var Z=Array.isArray(O),J=Array.isArray(z);if(this._total=0,!Z&&!J)this.collideHandler(O,z,N,Y,W,H);else if(!Z&&J)for($=0;$<z.length;$++)this.collideHandler(O,z[$],N,Y,W,H);else if(Z&&!J)if(z)for($=0;$<O.length;$++)this.collideHandler(O[$],z,N,Y,W,H);else for($=0;$<O.length;$++){var K=O[$];for(j=$+1;j<O.length;j++)$!==j&&this.collideHandler(K,O[j],N,Y,W,H)}else for($=0;$<O.length;$++)for(j=0;j<z.length;j++)this.collideHandler(O[$],z[j],N,Y,W,H);return this._total>0},collideHandler:function(O,z,N,Y,W,H){if(z===void 0&&O.isParent)return this.collideGroupVsGroup(O,O,N,Y,W,H);if(!O||!z)return!1;if(O.body||O.isBody){if(z.body||z.isBody)return this.collideSpriteVsSprite(O,z,N,Y,W,H);if(z.isParent)return this.collideSpriteVsGroup(O,z,N,Y,W,H);if(z.isTilemap)return this.collideSpriteVsTilemapLayer(O,z,N,Y,W,H)}else if(O.isParent){if(z.body||z.isBody)return this.collideSpriteVsGroup(z,O,N,Y,W,H);if(z.isParent)return this.collideGroupVsGroup(O,z,N,Y,W,H);if(z.isTilemap)return this.collideGroupVsTilemapLayer(O,z,N,Y,W,H)}else if(O.isTilemap){if(z.body||z.isBody)return this.collideSpriteVsTilemapLayer(z,O,N,Y,W,H);if(z.isParent)return this.collideGroupVsTilemapLayer(z,O,N,Y,W,H)}},canCollide:function(O,z){return O&&z&&(O.collisionMask&z.collisionCategory)!==0&&(z.collisionMask&O.collisionCategory)!==0},collideSpriteVsSprite:function(O,z,N,Y,W,H){var $=O.isBody?O:O.body,j=z.isBody?z:z.body;return this.canCollide($,j)?(this.separate($,j,Y,W,H)&&(N&&N.call(W,O,z),this._total++),!0):!1},collideSpriteVsGroup:function(O,z,N,Y,W,H){var $=O.isBody?O:O.body;if(!(z.getLength()===0||!$||!$.enable||$.checkCollision.none||!this.canCollide($,z))){var j,Z,J;if(this.useTree||z.physicsType===e.STATIC_BODY){var K=this.treeMinMax;K.minX=$.left,K.minY=$.top,K.maxX=$.right,K.maxY=$.bottom;var Q=z.physicsType===e.DYNAMIC_BODY?this.tree.search(K):this.staticTree.search(K);for(Z=Q.length,j=0;j<Z;j++)J=Q[j],!($===J||!J.enable||J.checkCollision.none||!z.contains(J.gameObject))&&this.separate($,J,Y,W,H)&&(N&&N.call(W,$.gameObject,J.gameObject),this._total++)}else{var _=z.getChildren(),k=z.children.entries.indexOf(O);for(Z=_.length,j=0;j<Z;j++)J=_[j].body,!(!J||j===k||!J.enable)&&this.separate($,J,Y,W,H)&&(N&&N.call(W,$.gameObject,J.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(O,z,N,Y,W,H){if(!this.canCollide(O,z))return!1;var $=O.getChildren();if($.length===0)return!1;for(var j=!1,Z=0;Z<$.length;Z++)($[Z].body||$[Z].isBody)&&this.collideSpriteVsTilemapLayer($[Z],z,N,Y,W,H)&&(j=!0);return j},collideTiles:function(O,z,N,Y,W){return z.length===0||O.body&&!O.body.enable||O.isBody&&!O.enable?!1:this.collideSpriteVsTilesHandler(O,z,N,Y,W,!1,!1)},overlapTiles:function(O,z,N,Y,W){return z.length===0||O.body&&!O.body.enable||O.isBody&&!O.enable?!1:this.collideSpriteVsTilesHandler(O,z,N,Y,W,!0,!1)},collideSpriteVsTilemapLayer:function(O,z,N,Y,W,H){var $=O.isBody?O:O.body;if(!$.enable||$.checkCollision.none||!this.canCollide($,z))return!1;var j=z.layer,Z=$.x-j.tileWidth*z.scaleX,J=$.y-j.tileHeight*z.scaleY,K=$.width+j.tileWidth*z.scaleX,Q=$.height+j.tileHeight*z.scaleY,_=H?null:this.tileFilterOptions,k=y(Z,J,K,Q,_,z.scene.cameras.main,z.layer);return k.length===0?!1:this.collideSpriteVsTilesHandler(O,k,N,Y,W,H,!0)},collideSpriteVsTilesHandler:function(O,z,N,Y,W,H,$){for(var j=O.isBody?O:O.body,Z,J={left:0,right:0,top:0,bottom:0},K,Q=!1,_=0;_<z.length;_++){Z=z[_],K=Z.tilemapLayer;var k=K.tileToWorldXY(Z.x,Z.y);J.left=k.x,J.top=k.y,J.right=J.left+Z.width*K.scaleX,J.bottom=J.top+Z.height*K.scaleY,G(J,j)&&(!Y||Y.call(W,O,Z))&&R(Z,O)&&(H||D(_,j,Z,J,K,this.TILE_BIAS,$))&&(this._total++,Q=!0,N&&N.call(W,O,Z),H&&j.onOverlap?this.emit(u.TILE_OVERLAP,O,Z,j):j.onCollide&&this.emit(u.TILE_COLLIDE,O,Z,j))}return Q},collideGroupVsGroup:function(O,z,N,Y,W,H){if(!(O.getLength()===0||z.getLength()===0||!this.canCollide(O,z)))for(var $=O.getChildren(),j=0;j<$.length;j++)this.collideSpriteVsGroup($[j],z,N,Y,W,H)},wrap:function(O,z){O.body?this.wrapObject(O,z):O.getChildren?this.wrapArray(O.getChildren(),z):Array.isArray(O)?this.wrapArray(O,z):this.wrapObject(O,z)},wrapArray:function(O,z){for(var N=0;N<O.length;N++)this.wrapObject(O[N],z)},wrapObject:function(O,z){z===void 0&&(z=0),O.x=b(O.x,this.bounds.left-z,this.bounds.right+z),O.y=b(O.y,this.bounds.top-z,this.bounds.bottom+z)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});o.exports=U},1093:o=>{var g={setAcceleration:function(t,a){return this.body.acceleration.set(t,a),this},setAccelerationX:function(t){return this.body.acceleration.x=t,this},setAccelerationY:function(t){return this.body.acceleration.y=t,this}};o.exports=g},59023:o=>{var g={setAngularVelocity:function(t){return this.body.angularVelocity=t,this},setAngularAcceleration:function(t){return this.body.angularAcceleration=t,this},setAngularDrag:function(t){return this.body.angularDrag=t,this}};o.exports=g},62069:o=>{var g={setBounce:function(t,a){return this.body.bounce.set(t,a),this},setBounceX:function(t){return this.body.bounce.x=t,this},setBounceY:function(t){return this.body.bounce.y=t,this},setCollideWorldBounds:function(t,a,v,h){return this.body.setCollideWorldBounds(t,a,v,h),this}};o.exports=g},78389:(o,g,t)=>{var a=t(79599),v={setCollisionCategory:function(h){var s=this.body?this.body:this;return s.collisionCategory=h,this},willCollideWith:function(h){var s=this.body?this.body:this;return(s.collisionMask&h)!==0},addCollidesWith:function(h){var s=this.body?this.body:this;return s.collisionMask=s.collisionMask|h,this},removeCollidesWith:function(h){var s=this.body?this.body:this;return s.collisionMask=s.collisionMask&~h,this},setCollidesWith:function(h){var s=this.body?this.body:this;return s.collisionMask=a(h),this},resetCollisionCategory:function(){var h=this.body?this.body:this;return h.collisionCategory=1,h.collisionMask=2147483647,this}};o.exports=v},87118:o=>{var g={setDebug:function(t,a,v){return this.debugShowBody=t,this.debugShowVelocity=a,this.debugBodyColor=v,this},setDebugBodyColor:function(t){return this.body.debugBodyColor=t,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(t){this.body.debugShowBody=t}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(t){this.body.debugShowVelocity=t}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(t){this.body.debugBodyColor=t}}};o.exports=g},52819:o=>{var g={setDrag:function(t,a){return this.body.drag.set(t,a),this},setDragX:function(t){return this.body.drag.x=t,this},setDragY:function(t){return this.body.drag.y=t,this},setDamping:function(t){return this.body.useDamping=t,this}};o.exports=g},4074:o=>{var g={setDirectControl:function(t){return this.body.setDirectControl(t),this},enableBody:function(t,a,v,h,s){return t&&this.body.reset(a,v),h&&(this.body.gameObject.active=!0),s&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(t,a){return t===void 0&&(t=!1),a===void 0&&(a=!1),this.body.stop(),this.body.enable=!1,t&&(this.body.gameObject.active=!1),a&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};o.exports=g},40831:o=>{var g={setFriction:function(t,a){return this.body.friction.set(t,a),this},setFrictionX:function(t){return this.body.friction.x=t,this},setFrictionY:function(t){return this.body.friction.y=t,this}};o.exports=g},26775:o=>{var g={setGravity:function(t,a){return this.body.gravity.set(t,a),this},setGravityX:function(t){return this.body.gravity.x=t,this},setGravityY:function(t){return this.body.gravity.y=t,this}};o.exports=g},9437:o=>{var g={setImmovable:function(t){return t===void 0&&(t=!0),this.body.immovable=t,this}};o.exports=g},30621:o=>{var g={setMass:function(t){return this.body.mass=t,this}};o.exports=g},72441:(o,g,t)=>{var a=t(47956),v=t(96503),h=t(2044),s=t(81491),r=function(e,n,l,i,u,f){var c=a(e,n-i,l-i,2*i,2*i,u,f);if(c.length===0)return c;for(var d=new v(n,l,i),p=new v,m=[],y=0;y<c.length;y++){var x=c[y];x.isCircle?(p.setTo(x.center.x,x.center.y,x.halfWidth),h(d,p)&&m.push(x)):s(d,x)&&m.push(x)}return m};o.exports=r},47956:o=>{var g=function(t,a,v,h,s,r,e){r===void 0&&(r=!0),e===void 0&&(e=!1);var n=[],l=[],i=t.treeMinMax;if(i.minX=a,i.minY=v,i.maxX=a+h,i.maxY=v+s,e&&(l=t.staticTree.search(i)),r&&t.useTree)n=t.tree.search(i);else if(r){var u=t.bodies,f={position:{x:a,y:v},left:a,top:v,right:a+h,bottom:v+s,isCircle:!1},c=t.intersects;u.iterate(function(d){c(d,f)&&n.push(d)})}return l.concat(n)};o.exports=g},62121:o=>{var g={setPushable:function(t){return t===void 0&&(t=!0),this.body.pushable=t,this}};o.exports=g},29384:o=>{var g={setOffset:function(t,a){return this.body.setOffset(t,a),this},setSize:function(t,a,v){return this.body.setSize(t,a,v),this},setBodySize:function(t,a,v){return this.body.setSize(t,a,v),this},setCircle:function(t,a,v){return this.body.setCircle(t,a,v),this}};o.exports=g},15098:o=>{var g={setVelocity:function(t,a){return this.body.setVelocity(t,a),this},setVelocityX:function(t){return this.body.setVelocityX(t),this},setVelocityY:function(t){return this.body.setVelocityY(t),this},setMaxVelocity:function(t,a){return this.body.maxVelocity.set(t,a),this}};o.exports=g},92209:(o,g,t)=>{o.exports={Acceleration:t(1093),Angular:t(59023),Bounce:t(62069),Collision:t(78389),Debug:t(87118),Drag:t(52819),Enable:t(4074),Friction:t(40831),Gravity:t(26775),Immovable:t(9437),Mass:t(30621),OverlapCirc:t(72441),OverlapRect:t(47956),Pushable:t(62121),Size:t(29384),Velocity:t(15098)}},37747:o=>{var g={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};o.exports=g},20009:o=>{o.exports="collide"},36768:o=>{o.exports="overlap"},60473:o=>{o.exports="pause"},89954:o=>{o.exports="resume"},61804:o=>{o.exports="tilecollide"},7161:o=>{o.exports="tileoverlap"},34689:o=>{o.exports="worldbounds"},16006:o=>{o.exports="worldstep"},63012:(o,g,t)=>{o.exports={COLLIDE:t(20009),OVERLAP:t(36768),PAUSE:t(60473),RESUME:t(89954),TILE_COLLIDE:t(61804),TILE_OVERLAP:t(7161),WORLD_BOUNDS:t(34689),WORLD_STEP:t(16006)}},27064:(o,g,t)=>{var a=t(37747),v=t(79291),h={ArcadePhysics:t(86689),Body:t(37742),Collider:t(79342),Components:t(92209),Events:t(63012),Factory:t(66022),GetCollidesWith:t(79599),GetOverlapX:t(64897),GetOverlapY:t(45170),SeparateX:t(14087),SeparateY:t(89936),Group:t(60758),Image:t(71289),Sprite:t(13759),StaticBody:t(72624),StaticGroup:t(71464),Tilemap:t(55173),World:t(82248)};h=v(!1,h,a),o.exports=h},96602:o=>{var g=function(t,a){return t.collisionCallback?!t.collisionCallback.call(t.collisionCallbackContext,a,t):t.layer.callbacks[t.index]?!t.layer.callbacks[t.index].callback.call(t.layer.callbacks[t.index].callbackContext,a,t):!0};o.exports=g},36294:o=>{var g=function(t,a){a<0?(t.blocked.none=!1,t.blocked.left=!0):a>0&&(t.blocked.none=!1,t.blocked.right=!0),t.position.x-=a,t.updateCenter(),t.bounce.x===0?t.velocity.x=0:t.velocity.x=-t.velocity.x*t.bounce.x};o.exports=g},67013:o=>{var g=function(t,a){a<0?(t.blocked.none=!1,t.blocked.up=!0):a>0&&(t.blocked.none=!1,t.blocked.down=!0),t.position.y-=a,t.updateCenter(),t.bounce.y===0?t.velocity.y=0:t.velocity.y=-t.velocity.y*t.bounce.y};o.exports=g},40012:(o,g,t)=>{var a=t(21329),v=t(53442),h=t(2483),s=function(r,e,n,l,i,u,f){var c=l.left,d=l.top,p=l.right,m=l.bottom,y=n.faceLeft||n.faceRight,x=n.faceTop||n.faceBottom;if(f||(y=!0,x=!0),!y&&!x)return!1;var C=0,E=0,R=0,M=1;if(e.deltaAbsX()>e.deltaAbsY()?R=-1:e.deltaAbsX()<e.deltaAbsY()&&(M=-1),e.deltaX()!==0&&e.deltaY()!==0&&y&&x&&(R=Math.min(Math.abs(e.position.x-p),Math.abs(e.right-c)),M=Math.min(Math.abs(e.position.y-m),Math.abs(e.bottom-d))),R<M){if(y&&(C=a(e,n,c,p,u,f),C!==0&&!h(l,e)))return!0;x&&(E=v(e,n,d,m,u,f))}else{if(x&&(E=v(e,n,d,m,u,f),E!==0&&!h(l,e)))return!0;y&&(C=a(e,n,c,p,u,f))}return C!==0||E!==0};o.exports=s},21329:(o,g,t)=>{var a=t(36294),v=function(h,s,r,e,n,l){var i=0,u=s.faceLeft,f=s.faceRight,c=s.collideLeft,d=s.collideRight;return l||(u=!0,f=!0,c=!0,d=!0),h.deltaX()<0&&d&&h.checkCollision.left?f&&h.x<e&&(i=h.x-e,i<-n&&(i=0)):h.deltaX()>0&&c&&h.checkCollision.right&&u&&h.right>r&&(i=h.right-r,i>n&&(i=0)),i!==0&&(h.customSeparateX?h.overlapX=i:a(h,i)),i};o.exports=v},53442:(o,g,t)=>{var a=t(67013),v=function(h,s,r,e,n,l){var i=0,u=s.faceTop,f=s.faceBottom,c=s.collideUp,d=s.collideDown;return l||(u=!0,f=!0,c=!0,d=!0),h.deltaY()<0&&d&&h.checkCollision.up?f&&h.y<e&&(i=h.y-e,i<-n&&(i=0)):h.deltaY()>0&&c&&h.checkCollision.down&&u&&h.bottom>r&&(i=h.bottom-r,i>n&&(i=0)),i!==0&&(h.customSeparateY?h.overlapY=i:a(h,i)),i};o.exports=v},2483:o=>{var g=function(t,a){return!(a.right<=t.left||a.bottom<=t.top||a.position.x>=t.right||a.position.y>=t.bottom)};o.exports=g},55173:(o,g,t)=>{var a={ProcessTileCallbacks:t(96602),ProcessTileSeparationX:t(36294),ProcessTileSeparationY:t(67013),SeparateTile:t(40012),TileCheckX:t(21329),TileCheckY:t(53442),TileIntersectsBody:t(2483)};o.exports=a},44563:(o,g,t)=>{o.exports={Arcade:t(27064),Matter:t(3875)}},68174:(o,g,t)=>{var a=t(83419),v=t(26099),h=new a({initialize:function(){this.boundsCenter=new v,this.centerDiff=new v},parseBody:function(s){if(s=s.hasOwnProperty("body")?s.body:s,!s.hasOwnProperty("bounds")||!s.hasOwnProperty("centerOfMass"))return!1;var r=this.boundsCenter,e=this.centerDiff,n=s.bounds.max.x-s.bounds.min.x,l=s.bounds.max.y-s.bounds.min.y,i=n*s.centerOfMass.x,u=l*s.centerOfMass.y;return r.set(n/2,l/2),e.set(i-r.x,u-r.y),!0},getTopLeft:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var n=this.boundsCenter,l=this.centerDiff;return new v(r+n.x+l.x,e+n.y+l.y)}return!1},getTopCenter:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var n=this.boundsCenter,l=this.centerDiff;return new v(r+l.x,e+n.y+l.y)}return!1},getTopRight:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var n=this.boundsCenter,l=this.centerDiff;return new v(r-(n.x-l.x),e+n.y+l.y)}return!1},getLeftCenter:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var n=this.boundsCenter,l=this.centerDiff;return new v(r+n.x+l.x,e+l.y)}return!1},getCenter:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var n=this.centerDiff;return new v(r+n.x,e+n.y)}return!1},getRightCenter:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var n=this.boundsCenter,l=this.centerDiff;return new v(r-(n.x-l.x),e+l.y)}return!1},getBottomLeft:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var n=this.boundsCenter,l=this.centerDiff;return new v(r+n.x+l.x,e-(n.y-l.y))}return!1},getBottomCenter:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var n=this.boundsCenter,l=this.centerDiff;return new v(r+l.x,e-(n.y-l.y))}return!1},getBottomRight:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var n=this.boundsCenter,l=this.centerDiff;return new v(r-(n.x-l.x),e-(n.y-l.y))}return!1}});o.exports=h},19933:(o,g,t)=>{var a=t(6790);a.Body=t(22562),a.Composite=t(69351),a.World=t(4372),a.Collision=t(52284),a.Detector=t(81388),a.Pairs=t(99561),a.Pair=t(4506),a.Query=t(73296),a.Resolver=t(66272),a.Constraint=t(48140),a.Common=t(53402),a.Engine=t(48413),a.Events=t(35810),a.Sleeping=t(53614),a.Plugin=t(73832),a.Bodies=t(66280),a.Composites=t(74116),a.Axes=t(66615),a.Bounds=t(15647),a.Svg=t(74058),a.Vector=t(31725),a.Vertices=t(41598),a.World.add=a.Composite.add,a.World.remove=a.Composite.remove,a.World.addComposite=a.Composite.addComposite,a.World.addBody=a.Composite.addBody,a.World.addConstraint=a.Composite.addConstraint,a.World.clear=a.Composite.clear,o.exports=a},28137:(o,g,t)=>{var a=t(66280),v=t(83419),h=t(74116),s=t(48140),r=t(74058),e=t(75803),n=t(23181),l=t(34803),i=t(73834),u=t(19496),f=t(85791),c=t(98713),d=t(41598),p=new v({initialize:function(y){this.world=y,this.scene=y.scene,this.sys=y.scene.sys},rectangle:function(m,y,x,C,E){var R=a.rectangle(m,y,x,C,E);return this.world.add(R),R},trapezoid:function(m,y,x,C,E,R){var M=a.trapezoid(m,y,x,C,E,R);return this.world.add(M),M},circle:function(m,y,x,C,E){var R=a.circle(m,y,x,C,E);return this.world.add(R),R},polygon:function(m,y,x,C,E){var R=a.polygon(m,y,x,C,E);return this.world.add(R),R},fromVertices:function(m,y,x,C,E,R,M){typeof x=="string"&&(x=d.fromPath(x));var w=a.fromVertices(m,y,x,C,E,R,M);return this.world.add(w),w},fromPhysicsEditor:function(m,y,x,C,E){E===void 0&&(E=!0);var R=u.parseBody(m,y,x,C);return E&&!this.world.has(R)&&this.world.add(R),R},fromSVG:function(m,y,x,C,E,R){C===void 0&&(C=1),E===void 0&&(E={}),R===void 0&&(R=!0);for(var M=x.getElementsByTagName("path"),w=[],D=0;D<M.length;D++){var F=r.pathToVertices(M[D],30);C!==1&&d.scale(F,C,C),w.push(F)}var I=a.fromVertices(m,y,w,E);return R&&this.world.add(I),I},fromJSON:function(m,y,x,C,E){C===void 0&&(C={}),E===void 0&&(E=!0);var R=f.parseBody(m,y,x,C);return R&&E&&this.world.add(R),R},imageStack:function(m,y,x,C,E,R,M,w,D){M===void 0&&(M=0),w===void 0&&(w=0),D===void 0&&(D={});var F=this.world,I=this.sys.displayList;D.addToWorld=!1;var L=h.stack(x,C,E,R,M,w,function(B,G){var V=new n(F,B,G,m,y,D);return I.add(V),V.body});return F.add(L),L},stack:function(m,y,x,C,E,R,M){var w=h.stack(m,y,x,C,E,R,M);return this.world.add(w),w},pyramid:function(m,y,x,C,E,R,M){var w=h.pyramid(m,y,x,C,E,R,M);return this.world.add(w),w},chain:function(m,y,x,C,E,R){return h.chain(m,y,x,C,E,R)},mesh:function(m,y,x,C,E){return h.mesh(m,y,x,C,E)},newtonsCradle:function(m,y,x,C,E){var R=h.newtonsCradle(m,y,x,C,E);return this.world.add(R),R},car:function(m,y,x,C,E){var R=h.car(m,y,x,C,E);return this.world.add(R),R},softBody:function(m,y,x,C,E,R,M,w,D,F){var I=h.softBody(m,y,x,C,E,R,M,w,D,F);return this.world.add(I),I},joint:function(m,y,x,C,E){return this.constraint(m,y,x,C,E)},spring:function(m,y,x,C,E){return this.constraint(m,y,x,C,E)},constraint:function(m,y,x,C,E){C===void 0&&(C=1),E===void 0&&(E={}),E.bodyA=m.type==="body"?m:m.body,E.bodyB=y.type==="body"?y:y.body,isNaN(x)||(E.length=x),E.stiffness=C;var R=s.create(E);return this.world.add(R),R},worldConstraint:function(m,y,x,C){x===void 0&&(x=1),C===void 0&&(C={}),C.bodyB=m.type==="body"?m:m.body,isNaN(y)||(C.length=y),C.stiffness=x;var E=s.create(C);return this.world.add(E),E},mouseSpring:function(m){return this.pointerConstraint(m)},pointerConstraint:function(m){m===void 0&&(m={}),m.hasOwnProperty("render")||(m.render={visible:!1});var y=new c(this.scene,this.world,m);return this.world.add(y.constraint),y},image:function(m,y,x,C,E){var R=new n(this.world,m,y,x,C,E);return this.sys.displayList.add(R),R},tileBody:function(m,y){return new i(this.world,m,y)},sprite:function(m,y,x,C,E){var R=new l(this.world,m,y,x,C,E);return this.sys.displayList.add(R),this.sys.updateList.add(R),R},gameObject:function(m,y,x){return e(this.world,m,y,x)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});o.exports=p},75803:(o,g,t)=>{var a=t(31884),v=t(95540),h=t(26099);function s(e){return!!e.get&&typeof e.get=="function"||!!e.set&&typeof e.set=="function"}var r=function(e,n,l,i){l===void 0&&(l={}),i===void 0&&(i=!0);var u=n.x,f=n.y;n.body={temp:!0,position:{x:u,y:f}};var c=[a.Bounce,a.Collision,a.Force,a.Friction,a.Gravity,a.Mass,a.Sensor,a.SetBody,a.Sleep,a.Static,a.Transform,a.Velocity];if(c.forEach(function(p){for(var m in p)s(p[m])?Object.defineProperty(n,m,{get:p[m].get,set:p[m].set}):Object.defineProperty(n,m,{value:p[m]})}),n.world=e,n._tempVec2=new h(u,f),l.hasOwnProperty("type")&&l.type==="body")n.setExistingBody(l,i);else{var d=v(l,"shape",null);d||(d="rectangle"),l.addToWorld=i,n.setBody(d,l)}return n};o.exports=r},23181:(o,g,t)=>{var a=t(83419),v=t(31884),h=t(95643),s=t(95540),r=t(88571),e=t(72699),n=t(26099),l=new a({Extends:r,Mixins:[v.Bounce,v.Collision,v.Force,v.Friction,v.Gravity,v.Mass,v.Sensor,v.SetBody,v.Sleep,v.Static,v.Transform,v.Velocity,e],initialize:function(u,f,c,d,p,m){h.call(this,u.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(d,p),this.setSizeToFrame(),this.setOrigin(),this.world=u,this._tempVec2=new n(f,c);var y=s(m,"shape",null);y?this.setBody(y,m):this.setRectangle(this.width,this.height,m),this.setPosition(f,c),this.initPipeline(),this.initPostPipeline(!0)}});o.exports=l},42045:(o,g,t)=>{var a=t(60461),v=t(66615),h=t(66280),s=t(22562),r=t(68174),e=t(15647),n=t(83419),l=t(52284),i=t(53402),u=t(69351),f=t(74116),c=t(48140),d=t(81388),p=t(20339),m=t(28137),y=t(95540),x=t(35154),C=t(46975),E=t(4506),R=t(99561),M=t(37277),w=t(73296),D=t(66272),F=t(44594),I=t(74058),L=t(31725),B=t(41598),G=t(68243);i.setDecomp(t(55973));var V=new n({initialize:function(b){this.scene=b,this.systems=b.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=s,this.composite=u,this.collision=l,this.detector=d,this.pair=E,this.pairs=R,this.query=w,this.resolver=D,this.constraint=c,this.bodies=h,this.composites=f,this.axes=v,this.bounds=e,this.svg=I,this.vector=L,this.vertices=B,this.verts=B,this._tempVec2=L.create(),D._restingThresh=x(this.config,"restingThresh",4),D._restingThreshTangent=x(this.config,"restingThreshTangent",6),D._positionDampen=x(this.config,"positionDampen",.9),D._positionWarming=x(this.config,"positionWarming",.8),D._frictionNormalMultiplier=x(this.config,"frictionNormalMultiplier",5),b.sys.events.once(F.BOOT,this.boot,this),b.sys.events.on(F.START,this.start,this)},boot:function(){this.world=new G(this.scene,this.config),this.add=new m(this.world),this.bodyBounds=new r,this.systems.events.once(F.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new G(this.scene,this.config),this.add=new m(this.world));var X=this.systems.events;X.on(F.UPDATE,this.world.update,this.world),X.on(F.POST_UPDATE,this.world.postUpdate,this.world),X.once(F.SHUTDOWN,this.shutdown,this)},getConfig:function(){var X=this.systems.game.config.physics,b=this.systems.settings.physics,U=C(y(b,"matter",{}),y(X,"matter",{}));return U},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(X,b){this.world.step(X,b)},containsPoint:function(X,b,U){X=this.getMatterBodies(X);var O=L.create(b,U),z=w.point(X,O);return z.length>0},intersectPoint:function(X,b,U){U=this.getMatterBodies(U);var O=L.create(X,b),z=[],N=w.point(U,O);return N.forEach(function(Y){z.indexOf(Y)===-1&&z.push(Y)}),z},intersectRect:function(X,b,U,O,z,N){z===void 0&&(z=!1),N=this.getMatterBodies(N);var Y={min:{x:X,y:b},max:{x:X+U,y:b+O}},W=[],H=w.region(N,Y,z);return H.forEach(function($){W.indexOf($)===-1&&W.push($)}),W},intersectRay:function(X,b,U,O,z,N){z===void 0&&(z=1),N=this.getMatterBodies(N);for(var Y=[],W=w.ray(N,L.create(X,b),L.create(U,O),z),H=0;H<W.length;H++)Y.push(W[H].body);return Y},intersectBody:function(X,b){b=this.getMatterBodies(b);for(var U=[],O=w.collides(X,b),z=0;z<O.length;z++){var N=O[z];N.bodyA===X?U.push(N.bodyB):U.push(N.bodyA)}return U},overlap:function(X,b,U,O,z){U===void 0&&(U=null),O===void 0&&(O=null),z===void 0&&(z=U),Array.isArray(X)||(X=[X]),X=this.getMatterBodies(X),b=this.getMatterBodies(b);for(var N=!1,Y=0;Y<X.length;Y++)for(var W=X[Y],H=w.collides(W,b),$=0;$<H.length;$++){var j=H[$],Z=j.bodyA.id===W.id?j.bodyB:j.bodyA;if(!O||O.call(z,W,Z,j)){if(N=!0,U)U.call(z,W,Z,j);else if(!O)return!0}}return N},setCollisionCategory:function(X,b){return X=this.getMatterBodies(X),X.forEach(function(U){U.collisionFilter.category=b}),this},setCollisionGroup:function(X,b){return X=this.getMatterBodies(X),X.forEach(function(U){U.collisionFilter.group=b}),this},setCollidesWith:function(X,b){X=this.getMatterBodies(X);var U=0;if(!Array.isArray(b))U=b;else for(var O=0;O<b.length;O++)U|=b[O];return X.forEach(function(z){z.collisionFilter.mask=U}),this},getMatterBodies:function(X){if(!X)return this.world.getAllBodies();Array.isArray(X)||(X=[X]);for(var b=[],U=0;U<X.length;U++){var O=X[U].hasOwnProperty("body")?X[U].body:X[U];b.push(O)}return b},setVelocity:function(X,b,U){X=this.getMatterBodies(X);var O=this._tempVec2;return O.x=b,O.y=U,X.forEach(function(z){s.setVelocity(z,O)}),this},setVelocityX:function(X,b){X=this.getMatterBodies(X);var U=this._tempVec2;return U.x=b,X.forEach(function(O){U.y=O.velocity.y,s.setVelocity(O,U)}),this},setVelocityY:function(X,b){X=this.getMatterBodies(X);var U=this._tempVec2;return U.y=b,X.forEach(function(O){U.x=O.velocity.x,s.setVelocity(O,U)}),this},setAngularVelocity:function(X,b){return X=this.getMatterBodies(X),X.forEach(function(U){s.setAngularVelocity(U,b)}),this},applyForce:function(X,b){X=this.getMatterBodies(X);var U=this._tempVec2;return X.forEach(function(O){U.x=O.position.x,U.y=O.position.y,s.applyForce(O,U,b)}),this},applyForceFromPosition:function(X,b,U,O){X=this.getMatterBodies(X);var z=this._tempVec2;return X.forEach(function(N){O===void 0&&(O=N.angle),z.x=U*Math.cos(O),z.y=U*Math.sin(O),s.applyForce(N,b,z)}),this},applyForceFromAngle:function(X,b,U){X=this.getMatterBodies(X);var O=this._tempVec2;return X.forEach(function(z){U===void 0&&(U=z.angle),O.x=b*Math.cos(U),O.y=b*Math.sin(U),s.applyForce(z,{x:z.position.x,y:z.position.y},O)}),this},getConstraintLength:function(X){var b=X.pointA.x,U=X.pointA.y,O=X.pointB.x,z=X.pointB.y;return X.bodyA&&(b+=X.bodyA.position.x,U+=X.bodyA.position.y),X.bodyB&&(O+=X.bodyB.position.x,z+=X.bodyB.position.y),p(b,U,O,z)},alignBody:function(X,b,U,O){X=X.hasOwnProperty("body")?X.body:X;var z;switch(O){case a.TOP_LEFT:case a.LEFT_TOP:z=this.bodyBounds.getTopLeft(X,b,U);break;case a.TOP_CENTER:z=this.bodyBounds.getTopCenter(X,b,U);break;case a.TOP_RIGHT:case a.RIGHT_TOP:z=this.bodyBounds.getTopRight(X,b,U);break;case a.LEFT_CENTER:z=this.bodyBounds.getLeftCenter(X,b,U);break;case a.CENTER:z=this.bodyBounds.getCenter(X,b,U);break;case a.RIGHT_CENTER:z=this.bodyBounds.getRightCenter(X,b,U);break;case a.LEFT_BOTTOM:case a.BOTTOM_LEFT:z=this.bodyBounds.getBottomLeft(X,b,U);break;case a.BOTTOM_CENTER:z=this.bodyBounds.getBottomCenter(X,b,U);break;case a.BOTTOM_RIGHT:case a.RIGHT_BOTTOM:z=this.bodyBounds.getBottomRight(X,b,U);break}return z&&s.setPosition(X,z),this},shutdown:function(){var X=this.systems.events;this.world&&(X.off(F.UPDATE,this.world.update,this.world),X.off(F.POST_UPDATE,this.world.postUpdate,this.world)),X.off(F.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(F.START,this.start,this),this.scene=null,this.systems=null}});M.register("MatterPhysics",V,"matterPhysics"),o.exports=V},34803:(o,g,t)=>{var a=t(9674),v=t(83419),h=t(31884),s=t(95643),r=t(95540),e=t(72699),n=t(68287),l=t(26099),i=new v({Extends:n,Mixins:[h.Bounce,h.Collision,h.Force,h.Friction,h.Gravity,h.Mass,h.Sensor,h.SetBody,h.Sleep,h.Static,h.Transform,h.Velocity,e],initialize:function(f,c,d,p,m,y){s.call(this,f.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new a(this),this.setTexture(p,m),this.setSizeToFrame(),this.setOrigin(),this.world=f,this._tempVec2=new l(c,d);var x=r(y,"shape",null);x?this.setBody(x,y):this.setRectangle(this.width,this.height,y),this.setPosition(c,d),this.initPipeline(),this.initPostPipeline(!0)}});o.exports=i},73834:(o,g,t)=>{var a=t(66280),v=t(22562),h=t(83419),s=t(31884),r=t(62644),e=t(50792),n=t(95540),l=t(97022),i=t(41598),u=new h({Extends:e,Mixins:[s.Bounce,s.Collision,s.Friction,s.Gravity,s.Mass,s.Sensor,s.Sleep,s.Static],initialize:function(c,d,p){e.call(this),this.tile=d,this.world=c,d.physics.matterBody&&d.physics.matterBody.destroy(),d.physics.matterBody=this;var m=n(p,"body",null),y=n(p,"addToWorld",!0);if(m)this.setBody(m,y);else{var x=d.getCollisionGroup(),C=n(x,"objects",[]);C.length>0?this.setFromTileCollision(p):this.setFromTileRectangle(p)}if(d.flipX||d.flipY){var E={x:d.getCenterX(),y:d.getCenterY()},R=d.flipX?-1:1,M=d.flipY?-1:1;v.scale(m,R,M,E)}},setFromTileRectangle:function(f){f===void 0&&(f={}),l(f,"isStatic")||(f.isStatic=!0),l(f,"addToWorld")||(f.addToWorld=!0);var c=this.tile.getBounds(),d=c.x+c.width/2,p=c.y+c.height/2,m=a.rectangle(d,p,c.width,c.height,f);return this.setBody(m,f.addToWorld),this},setFromTileCollision:function(f){f===void 0&&(f={}),l(f,"isStatic")||(f.isStatic=!0),l(f,"addToWorld")||(f.addToWorld=!0);for(var c=this.tile.tilemapLayer.scaleX,d=this.tile.tilemapLayer.scaleY,p=this.tile.getLeft(),m=this.tile.getTop(),y=this.tile.getCollisionGroup(),x=n(y,"objects",[]),C=[],E=0;E<x.length;E++){var R=x[E],M=p+R.x*c,w=m+R.y*d,D=R.width*c,F=R.height*d,I=null;if(R.rectangle)I=a.rectangle(M+D/2,w+F/2,D,F,f);else if(R.ellipse)I=a.circle(M+D/2,w+F/2,D/2,f);else if(R.polygon||R.polyline){var L=R.polygon?R.polygon:R.polyline,B=L.map(function(b){return{x:b.x*c,y:b.y*d}}),G=i.create(B),V=i.centre(G);M+=V.x,w+=V.y,I=a.fromVertices(M,w,G,f)}I&&C.push(I)}if(C.length===1)this.setBody(C[0],f.addToWorld);else if(C.length>1){var X=r(f);X.parts=C,this.setBody(v.create(X),X.addToWorld)}return this},setBody:function(f,c){return c===void 0&&(c=!0),this.body&&this.removeBody(),this.body=f,this.body.gameObject=this,c&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});o.exports=u},19496:(o,g,t)=>{var a=t(66280),v=t(22562),h=t(53402),s=t(95540),r=t(41598),e={parseBody:function(n,l,i,u){u===void 0&&(u={});for(var f=s(i,"fixtures",[]),c=[],d=0;d<f.length;d++)for(var p=this.parseFixture(f[d]),m=0;m<p.length;m++)c.push(p[m]);var y=h.clone(i,!0);h.extend(y,u,!0),delete y.fixtures,delete y.type;var x=v.create(y);return v.setParts(x,c),v.setPosition(x,{x:n,y:l}),x},parseFixture:function(n){var l=h.extend({},!1,n);delete l.circle,delete l.vertices;var i;if(n.circle){var u=s(n.circle,"x"),f=s(n.circle,"y"),c=s(n.circle,"radius");i=[a.circle(u,f,c,l)]}else n.vertices&&(i=this.parseVertices(n.vertices,l));return i},parseVertices:function(n,l){l===void 0&&(l={});for(var i=[],u=0;u<n.length;u++)r.clockwiseSort(n[u]),i.push(v.create(h.extend({position:r.centre(n[u]),vertices:n[u]},l)));return a.flagCoincidentParts(i)}};o.exports=e},85791:(o,g,t)=>{var a=t(66280),v=t(22562),h={parseBody:function(s,r,e,n){n===void 0&&(n={});var l,i=e.vertices;if(i.length===1)n.vertices=i[0],l=v.create(n),a.flagCoincidentParts(l.parts);else{for(var u=[],f=0;f<i.length;f++){var c=v.create({vertices:i[f]});u.push(c)}a.flagCoincidentParts(u),n.parts=u,l=v.create(n)}return l.label=e.label,v.setPosition(l,{x:s,y:r}),l}};o.exports=h},98713:(o,g,t)=>{var a=t(15647),v=t(83419),h=t(69351),s=t(48140),r=t(81388),e=t(1121),n=t(8214),l=t(46975),i=t(53614),u=t(26099),f=t(41598),c=new v({initialize:function(p,m,y){y===void 0&&(y={});var x={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=p,this.world=m,this.camera=null,this.pointer=null,this.active=!0,this.position=new u,this.body=null,this.part=null,this.constraint=s.create(l(y,x)),this.world.on(e.BEFORE_UPDATE,this.update,this),p.sys.input.on(n.POINTER_DOWN,this.onDown,this),p.sys.input.on(n.POINTER_UP,this.onUp,this)},onDown:function(d){this.pointer||(this.pointer=d,this.camera=d.camera)},onUp:function(d){d===this.pointer&&(this.pointer=null)},getBody:function(d){var p=this.position,m=this.constraint;this.camera.getWorldPoint(d.x,d.y,p);for(var y=h.allBodies(this.world.localWorld),x=0;x<y.length;x++){var C=y[x];if(!C.ignorePointer&&a.contains(C.bounds,p)&&r.canCollide(C.collisionFilter,m.collisionFilter)&&this.hitTestBody(C,p))return this.world.emit(e.DRAG_START,C,this.part,this),!0}return!1},hitTestBody:function(d,p){for(var m=this.constraint,y=d.parts.length,x=y>1?1:0,C=x;C<y;C++){var E=d.parts[C];if(f.contains(E.vertices,p))return m.pointA=p,m.pointB={x:p.x-d.position.x,y:p.y-d.position.y},m.bodyB=d,m.angleB=d.angle,i.set(d,!1),this.part=E,this.body=d,!0}return!1},update:function(){var d=this.pointer,p=this.body;if(!this.active||!d){p&&this.stopDrag();return}if(!d.isDown&&p){this.stopDrag();return}else if(d.isDown){if(!this.camera||!p&&!this.getBody(d))return;p=this.body;var m=this.position,y=this.constraint;this.camera.getWorldPoint(d.x,d.y,m),y.pointA.x=m.x,y.pointA.y=m.y,i.set(p,!1),this.world.emit(e.DRAG,p,this)}},stopDrag:function(){var d=this.body,p=this.constraint;p.bodyB=null,p.pointB=null,this.pointer=null,this.body=null,this.part=null,d&&this.world.emit(e.DRAG_END,d,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(e.BEFORE_UPDATE,this.update),this.scene.sys.input.off(n.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(n.POINTER_UP,this.onUp,this)}});o.exports=c},68243:(o,g,t)=>{var a=t(66280),v=t(22562),h=t(83419),s=t(53402),r=t(69351),e=t(48413),n=t(50792),l=t(1121),i=t(95540),u=t(35154),f=t(22562),c=t(35810),d=t(73834),p=t(4372),m=t(13037),y=t(31725),x=new h({Extends:n,initialize:function(E,R){n.call(this),this.scene=E,this.engine=e.create(R),this.localWorld=this.engine.world;var M=u(R,"gravity",null);M?this.setGravity(M.x,M.y,M.scale):M===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=u(R,"enabled",!0),this.getDelta=u(R,"getDelta",this.update60Hz);var w=i(R,"runner",{}),D=i(w,"fps",!1);D&&(w.delta=1e3/i(w,"fps",60)),this.runner=m.create(w),this.autoUpdate=u(R,"autoUpdate",!0);var F=u(R,"debug",!1);if(this.drawDebug=typeof F=="object"?!0:F,this.debugGraphic,this.debugConfig={showAxes:i(F,"showAxes",!1),showAngleIndicator:i(F,"showAngleIndicator",!1),angleColor:i(F,"angleColor",15208787),showBroadphase:i(F,"showBroadphase",!1),broadphaseColor:i(F,"broadphaseColor",16757760),showBounds:i(F,"showBounds",!1),boundsColor:i(F,"boundsColor",16777215),showVelocity:i(F,"showVelocity",!1),velocityColor:i(F,"velocityColor",44783),showCollisions:i(F,"showCollisions",!1),collisionColor:i(F,"collisionColor",16094476),showSeparations:i(F,"showSeparations",!1),separationColor:i(F,"separationColor",16753920),showBody:i(F,"showBody",!0),showStaticBody:i(F,"showStaticBody",!0),showInternalEdges:i(F,"showInternalEdges",!1),renderFill:i(F,"renderFill",!1),renderLine:i(F,"renderLine",!0),fillColor:i(F,"fillColor",1075465),fillOpacity:i(F,"fillOpacity",1),lineColor:i(F,"lineColor",2678297),lineOpacity:i(F,"lineOpacity",1),lineThickness:i(F,"lineThickness",1),staticFillColor:i(F,"staticFillColor",857979),staticLineColor:i(F,"staticLineColor",1255396),showSleeping:i(F,"showSleeping",!1),staticBodySleepOpacity:i(F,"staticBodySleepOpacity",.7),sleepFillColor:i(F,"sleepFillColor",4605510),sleepLineColor:i(F,"sleepLineColor",10066585),showSensors:i(F,"showSensors",!0),sensorFillColor:i(F,"sensorFillColor",857979),sensorLineColor:i(F,"sensorLineColor",1255396),showPositions:i(F,"showPositions",!0),positionSize:i(F,"positionSize",4),positionColor:i(F,"positionColor",14697178),showJoint:i(F,"showJoint",!0),jointColor:i(F,"jointColor",14737474),jointLineOpacity:i(F,"jointLineOpacity",1),jointLineThickness:i(F,"jointLineThickness",2),pinSize:i(F,"pinSize",4),pinColor:i(F,"pinColor",4382944),springColor:i(F,"springColor",14697184),anchorColor:i(F,"anchorColor",15724527),anchorSize:i(F,"anchorSize",4),showConvexHulls:i(F,"showConvexHulls",!1),hullColor:i(F,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),i(R,"setBounds",!1)){var I=R.setBounds;if(typeof I=="boolean")this.setBounds();else{var L=i(I,"x",0),B=i(I,"y",0),G=i(I,"width",E.sys.scale.width),V=i(I,"height",E.sys.scale.height),X=i(I,"thickness",64),b=i(I,"left",!0),U=i(I,"right",!0),O=i(I,"top",!0),z=i(I,"bottom",!0);this.setBounds(L,B,G,V,X,b,U,O,z)}}},setCompositeRenderStyle:function(C){var E=C.bodies,R=C.constraints,M=C.composites,w,D,F;for(w=0;w<E.length;w++)D=E[w],F=D.render,this.setBodyRenderStyle(D,F.lineColor,F.lineOpacity,F.lineThickness,F.fillColor,F.fillOpacity);for(w=0;w<R.length;w++)D=R[w],F=D.render,this.setConstraintRenderStyle(D,F.lineColor,F.lineOpacity,F.lineThickness,F.pinSize,F.anchorColor,F.anchorSize);for(w=0;w<M.length;w++)D=M[w],this.setCompositeRenderStyle(D);return this},setBodyRenderStyle:function(C,E,R,M,w,D){var F=C.render,I=this.debugConfig;return F?(E==null&&(E=C.isStatic?I.staticLineColor:I.lineColor),R==null&&(R=I.lineOpacity),M==null&&(M=I.lineThickness),w==null&&(w=C.isStatic?I.staticFillColor:I.fillColor),D==null&&(D=I.fillOpacity),E!==!1&&(F.lineColor=E),R!==!1&&(F.lineOpacity=R),M!==!1&&(F.lineThickness=M),w!==!1&&(F.fillColor=w),D!==!1&&(F.fillOpacity=D),this):this},setConstraintRenderStyle:function(C,E,R,M,w,D,F){var I=C.render,L=this.debugConfig;if(!I)return this;if(E==null){var B=I.type;B==="line"?E=L.jointColor:B==="pin"?E=L.pinColor:B==="spring"&&(E=L.springColor)}return R==null&&(R=L.jointLineOpacity),M==null&&(M=L.jointLineThickness),w==null&&(w=L.pinSize),D==null&&(D=L.anchorColor),F==null&&(F=L.anchorSize),E!==!1&&(I.lineColor=E),R!==!1&&(I.lineOpacity=R),M!==!1&&(I.lineThickness=M),w!==!1&&(I.pinSize=w),D!==!1&&(I.anchorColor=D),F!==!1&&(I.anchorSize=F),this},setEventsProxy:function(){var C=this,E=this.engine,R=this.localWorld;this.drawDebug&&(c.on(R,"compositeModified",function(M){C.setCompositeRenderStyle(M)}),c.on(R,"beforeAdd",function(M){for(var w=[].concat(M.object),D=0;D<w.length;D++){var F=w[D],I=F.render;F.type==="body"?C.setBodyRenderStyle(F,I.lineColor,I.lineOpacity,I.lineThickness,I.fillColor,I.fillOpacity):F.type==="composite"?C.setCompositeRenderStyle(F):F.type==="constraint"&&C.setConstraintRenderStyle(F,I.lineColor,I.lineOpacity,I.lineThickness,I.pinSize,I.anchorColor,I.anchorSize)}})),c.on(R,"beforeAdd",function(M){C.emit(l.BEFORE_ADD,M)}),c.on(R,"afterAdd",function(M){C.emit(l.AFTER_ADD,M)}),c.on(R,"beforeRemove",function(M){C.emit(l.BEFORE_REMOVE,M)}),c.on(R,"afterRemove",function(M){C.emit(l.AFTER_REMOVE,M)}),c.on(E,"beforeUpdate",function(M){C.emit(l.BEFORE_UPDATE,M)}),c.on(E,"afterUpdate",function(M){C.emit(l.AFTER_UPDATE,M)}),c.on(E,"collisionStart",function(M){var w=M.pairs,D,F;w.length>0&&w.map(function(I){D=I.bodyA,F=I.bodyB,D.gameObject&&D.gameObject.emit("collide",D,F,I),F.gameObject&&F.gameObject.emit("collide",F,D,I),c.trigger(D,"onCollide",{pair:I}),c.trigger(F,"onCollide",{pair:I}),D.onCollideCallback&&D.onCollideCallback(I),F.onCollideCallback&&F.onCollideCallback(I),D.onCollideWith[F.id]&&D.onCollideWith[F.id](F,I),F.onCollideWith[D.id]&&F.onCollideWith[D.id](D,I)}),C.emit(l.COLLISION_START,M,D,F)}),c.on(E,"collisionActive",function(M){var w=M.pairs,D,F;w.length>0&&w.map(function(I){D=I.bodyA,F=I.bodyB,D.gameObject&&D.gameObject.emit("collideActive",D,F,I),F.gameObject&&F.gameObject.emit("collideActive",F,D,I),c.trigger(D,"onCollideActive",{pair:I}),c.trigger(F,"onCollideActive",{pair:I}),D.onCollideActiveCallback&&D.onCollideActiveCallback(I),F.onCollideActiveCallback&&F.onCollideActiveCallback(I)}),C.emit(l.COLLISION_ACTIVE,M,D,F)}),c.on(E,"collisionEnd",function(M){var w=M.pairs,D,F;w.length>0&&w.map(function(I){D=I.bodyA,F=I.bodyB,D.gameObject&&D.gameObject.emit("collideEnd",D,F,I),F.gameObject&&F.gameObject.emit("collideEnd",F,D,I),c.trigger(D,"onCollideEnd",{pair:I}),c.trigger(F,"onCollideEnd",{pair:I}),D.onCollideEndCallback&&D.onCollideEndCallback(I),F.onCollideEndCallback&&F.onCollideEndCallback(I)}),C.emit(l.COLLISION_END,M,D,F)})},setBounds:function(C,E,R,M,w,D,F,I,L){return C===void 0&&(C=0),E===void 0&&(E=0),R===void 0&&(R=this.scene.sys.scale.width),M===void 0&&(M=this.scene.sys.scale.height),w===void 0&&(w=64),D===void 0&&(D=!0),F===void 0&&(F=!0),I===void 0&&(I=!0),L===void 0&&(L=!0),this.updateWall(D,"left",C-w,E-w,w,M+w*2),this.updateWall(F,"right",C+R,E-w,w,M+w*2),this.updateWall(I,"top",C,E-w,R,w),this.updateWall(L,"bottom",C,E+M,R,w),this},updateWall:function(C,E,R,M,w,D){var F=this.walls[E];C?(F&&p.remove(this.localWorld,F),R+=w/2,M+=D/2,this.walls[E]=this.create(R,M,w,D,{isStatic:!0,friction:0,frictionStatic:0})):(F&&p.remove(this.localWorld,F),this.walls[E]=null)},createDebugGraphic:function(){var C=this.scene.sys.add.graphics({x:0,y:0});return C.setDepth(Number.MAX_VALUE),this.debugGraphic=C,this.drawDebug=!0,C},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(C,E,R){return C===void 0&&(C=0),E===void 0&&(E=1),R===void 0&&(R=.001),this.localWorld.gravity.x=C,this.localWorld.gravity.y=E,this.localWorld.gravity.scale=R,this},create:function(C,E,R,M,w){var D=a.rectangle(C,E,R,M,w);return p.add(this.localWorld,D),D},add:function(C){return p.add(this.localWorld,C),this},remove:function(C,E){Array.isArray(C)||(C=[C]);for(var R=0;R<C.length;R++){var M=C[R],w=M.body?M.body:M;r.remove(this.localWorld,w,E)}return this},removeConstraint:function(C,E){return r.remove(this.localWorld,C,E),this},convertTilemapLayer:function(C,E){var R=C.layer,M=C.getTilesWithin(0,0,R.width,R.height,{isColliding:!0});return this.convertTiles(M,E),this},convertTiles:function(C,E){if(C.length===0)return this;for(var R=0;R<C.length;R++)new d(this,C[R],E);return this},nextGroup:function(C){return f.nextGroup(C)},nextCategory:function(){return f.nextCategory()},pause:function(){return this.enabled=!1,this.emit(l.PAUSE),this},resume:function(){return this.enabled=!0,this.runner.timeLastTick=s.now(),this.emit(l.RESUME),this},update:function(C){if(!(!this.enabled||!this.autoUpdate)){var E=this.engine,R=this.runner,M=s.now(),w=R.delta,D=0,F=C-R.timeLastTick;if((!F||!R.timeLastTick||F>Math.max(m._maxFrameDelta,R.maxFrameTime))&&(F=R.frameDelta||m._frameDeltaFallback),R.frameDeltaSmoothing){R.frameDeltaHistory.push(F),R.frameDeltaHistory=R.frameDeltaHistory.slice(-R.frameDeltaHistorySize);var I=R.frameDeltaHistory.slice(0).sort(),L=R.frameDeltaHistory.slice(I.length*m._smoothingLowerBound,I.length*m._smoothingUpperBound),B=m._mean(L);F=B||F}R.frameDeltaSnapping&&(F=1e3/Math.round(1e3/F)),R.frameDelta=F,R.timeLastTick=C,R.timeBuffer+=R.frameDelta,R.timeBuffer=s.clamp(R.timeBuffer,0,R.frameDelta+w*m._timeBufferMargin),R.lastUpdatesDeferred=0;for(var G=R.maxUpdates||Math.ceil(R.maxFrameTime/w),V=s.now();w>0&&R.timeBuffer>=w*m._timeBufferMargin;){e.update(E,w),R.timeBuffer-=w,D+=1;var X=s.now()-M,b=s.now()-V,U=X+m._elapsedNextEstimate*b/D;if(D>=G||U>R.maxFrameTime){R.lastUpdatesDeferred=Math.round(Math.max(0,R.timeBuffer/w-m._timeBufferMargin));break}}}},step:function(C){e.update(this.engine,C)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(C){var E=C.hasOwnProperty("body")?C.body:C;return r.get(this.localWorld,E.id,E.type)!==null},getAllBodies:function(){return r.allBodies(this.localWorld)},getAllConstraints:function(){return r.allConstraints(this.localWorld)},getAllComposites:function(){return r.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var C=this.debugConfig,E=this.engine,R=this.debugGraphic,M=r.allBodies(this.localWorld);this.debugGraphic.clear(),C.showBroadphase&&E.broadphase.controller&&this.renderGrid(E.broadphase,R,C.broadphaseColor,.5),C.showBounds&&this.renderBodyBounds(M,R,C.boundsColor,.5),(C.showBody||C.showStaticBody)&&this.renderBodies(M),C.showJoint&&this.renderJoints(),(C.showAxes||C.showAngleIndicator)&&this.renderBodyAxes(M,R,C.showAxes,C.angleColor,.5),C.showVelocity&&this.renderBodyVelocity(M,R,C.velocityColor,1,2),C.showSeparations&&this.renderSeparations(E.pairs.list,R,C.separationColor),C.showCollisions&&this.renderCollisions(E.pairs.list,R,C.collisionColor)}},renderGrid:function(C,E,R,M){E.lineStyle(1,R,M);for(var w=s.keys(C.buckets),D=0;D<w.length;D++){var F=w[D];if(!(C.buckets[F].length<2)){var I=F.split(/C|R/);E.strokeRect(parseInt(I[1],10)*C.bucketWidth,parseInt(I[2],10)*C.bucketHeight,C.bucketWidth,C.bucketHeight)}}return this},renderSeparations:function(C,E,R){E.lineStyle(1,R,1);for(var M=0;M<C.length;M++){var w=C[M];if(w.isActive){var D=w.collision,F=D.bodyA,I=D.bodyB,L=F.position,B=I.position,G=D.penetration,V=!F.isStatic&&!I.isStatic?4:1;I.isStatic&&(V=0),E.lineBetween(B.x,B.y,B.x-G.x*V,B.y-G.y*V),V=!F.isStatic&&!I.isStatic?4:1,F.isStatic&&(V=0),E.lineBetween(L.x,L.y,L.x-G.x*V,L.y-G.y*V)}}return this},renderCollisions:function(C,E,R){E.lineStyle(1,R,.5),E.fillStyle(R,1);var M,w;for(M=0;M<C.length;M++)if(w=C[M],!!w.isActive)for(var D=0;D<w.contactCount;D++){var F=w.contacts[D],I=F.vertex;I&&E.fillRect(I.x-2,I.y-2,5,5)}for(M=0;M<C.length;M++)if(w=C[M],!!w.isActive){var L=w.collision,B=w.contacts;if(w.contactCount>0){var G=B[0].vertex.x,V=B[0].vertex.y;w.contactCount===2&&(G=(B[0].vertex.x+B[1].vertex.x)/2,V=(B[0].vertex.y+B[1].vertex.y)/2),L.bodyB===L.supports[0].body||L.bodyA.isStatic?E.lineBetween(G-L.normal.x*8,V-L.normal.y*8,G,V):E.lineBetween(G+L.normal.x*8,V+L.normal.y*8,G,V)}}return this},renderBodyBounds:function(C,E,R,M){E.lineStyle(1,R,M);for(var w=0;w<C.length;w++){var D=C[w];if(D.render.visible){var F=D.bounds;if(F)E.strokeRect(F.min.x,F.min.y,F.max.x-F.min.x,F.max.y-F.min.y);else for(var I=D.parts,L=I.length>1?1:0;L<I.length;L++){var B=I[L];E.strokeRect(B.bounds.min.x,B.bounds.min.y,B.bounds.max.x-B.bounds.min.x,B.bounds.max.y-B.bounds.min.y)}}}return this},renderBodyAxes:function(C,E,R,M,w){E.lineStyle(1,M,w);for(var D=0;D<C.length;D++){var F=C[D],I=F.parts;if(F.render.visible){var L,B,G;if(R)for(B=I.length>1?1:0;B<I.length;B++)for(L=I[B],G=0;G<L.axes.length;G++){var V=L.axes[G];E.lineBetween(L.position.x,L.position.y,L.position.x+V.x*20,L.position.y+V.y*20)}else for(B=I.length>1?1:0;B<I.length;B++)for(L=I[B],G=0;G<L.axes.length;G++)E.lineBetween(L.position.x,L.position.y,(L.vertices[0].x+L.vertices[L.vertices.length-1].x)/2,(L.vertices[0].y+L.vertices[L.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(C,E,R,M,w){E.lineStyle(w,R,M);for(var D=0;D<C.length;D++){var F=C[D];F.render.visible&&E.lineBetween(F.position.x,F.position.y,F.position.x+(F.position.x-F.positionPrev.x)*2,F.position.y+(F.position.y-F.positionPrev.y)*2)}return this},renderBodies:function(C){for(var E=this.debugGraphic,R=this.debugConfig,M=R.showBody,w=R.showStaticBody,D=R.showSleeping,F=R.showInternalEdges,I=R.showConvexHulls,L=R.renderFill,B=R.renderLine,G=R.staticBodySleepOpacity,V=R.sleepFillColor,X=R.sleepLineColor,b=R.hullColor,U=0;U<C.length;U++){var O=C[U];if(O.render.visible&&!(!w&&O.isStatic||!M&&!O.isStatic)){var z=O.render.lineColor,N=O.render.lineOpacity,Y=O.render.lineThickness,W=O.render.fillColor,H=O.render.fillOpacity;D&&O.isSleeping&&(O.isStatic?(N*=G,H*=G):(z=X,W=V)),L||(W=null),B||(z=null),this.renderBody(O,E,F,z,N,Y,W,H);var $=O.parts.length;I&&$>1&&this.renderConvexHull(O,E,b,Y)}}},renderBody:function(C,E,R,M,w,D,F,I){M===void 0&&(M=null),w===void 0&&(w=null),D===void 0&&(D=1),F===void 0&&(F=null),I===void 0&&(I=null);for(var L=this.debugConfig,B=L.sensorFillColor,G=L.sensorLineColor,V=C.parts,X=V.length,b=X>1?1:0;b<X;b++){var U=V[b],O=U.render,z=O.opacity;if(!(!O.visible||z===0||U.isSensor&&!L.showSensors)){var N=U.circleRadius;if(E.beginPath(),U.isSensor?(F!==null&&E.fillStyle(B,I*z),M!==null&&E.lineStyle(D,G,w*z)):(F!==null&&E.fillStyle(F,I*z),M!==null&&E.lineStyle(D,M,w*z)),N)E.arc(U.position.x,U.position.y,N,0,2*Math.PI);else{var Y=U.vertices,W=Y.length;E.moveTo(Y[0].x,Y[0].y);for(var H=1;H<W;H++){var $=Y[H];if(!Y[H-1].isInternal||R?E.lineTo($.x,$.y):E.moveTo($.x,$.y),H<W&&$.isInternal&&!R){var j=(H+1)%W;E.moveTo(Y[j].x,Y[j].y)}}E.closePath()}F!==null&&E.fillPath(),M!==null&&E.strokePath()}}if(L.showPositions&&!C.isStatic){var Z=C.position.x,J=C.position.y,K=Math.ceil(L.positionSize/2);E.fillStyle(L.positionColor,1),E.fillRect(Z-K,J-K,L.positionSize,L.positionSize)}return this},renderConvexHull:function(C,E,R,M){M===void 0&&(M=1);var w=C.parts,D=w.length;if(D>1){var F=C.vertices;E.lineStyle(M,R),E.beginPath(),E.moveTo(F[0].x,F[0].y);for(var I=1;I<F.length;I++)E.lineTo(F[I].x,F[I].y);E.lineTo(F[0].x,F[0].y),E.strokePath()}return this},renderJoints:function(){for(var C=this.debugGraphic,E=r.allConstraints(this.localWorld),R=0;R<E.length;R++){var M=E[R].render,w=M.lineColor,D=M.lineOpacity,F=M.lineThickness,I=M.pinSize,L=M.anchorColor,B=M.anchorSize;this.renderConstraint(E[R],C,w,D,F,I,L,B)}},renderConstraint:function(C,E,R,M,w,D,F,I){var L=C.render;if(!L.visible||!C.pointA||!C.pointB)return this;E.lineStyle(w,R,M);var B=C.bodyA,G=C.bodyB,V,X;if(B?V=y.add(B.position,C.pointA):V=C.pointA,L.type==="pin")E.strokeCircle(V.x,V.y,D);else{if(G?X=y.add(G.position,C.pointB):X=C.pointB,E.beginPath(),E.moveTo(V.x,V.y),L.type==="spring")for(var b=y.sub(X,V),U=y.perp(y.normalise(b)),O=Math.ceil(s.clamp(C.length/5,12,20)),z,N=1;N<O;N+=1)z=N%2===0?1:-1,E.lineTo(V.x+b.x*(N/O)+U.x*z*4,V.y+b.y*(N/O)+U.y*z*4);E.lineTo(X.x,X.y)}return E.strokePath(),L.anchors&&I>0&&(E.fillStyle(F),E.fillCircle(V.x,V.y,I),E.fillCircle(X.x,X.y,I)),this},resetCollisionIDs:function(){return v._nextCollidingGroupId=1,v._nextNonCollidingGroupId=-1,v._nextCategory=1,this},shutdown:function(){c.off(this.engine),this.removeAllListeners(),p.clear(this.localWorld,!1),e.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});o.exports=x},70410:o=>{var g={setBounce:function(t){return this.body.restitution=t,this}};o.exports=g},66968:o=>{var g={setCollisionCategory:function(t){return this.body.collisionFilter.category=t,this},setCollisionGroup:function(t){return this.body.collisionFilter.group=t,this},setCollidesWith:function(t){var a=0;if(!Array.isArray(t))a=t;else for(var v=0;v<t.length;v++)a|=t[v];return this.body.collisionFilter.mask=a,this},setOnCollide:function(t){return this.body.onCollideCallback=t,this},setOnCollideEnd:function(t){return this.body.onCollideEndCallback=t,this},setOnCollideActive:function(t){return this.body.onCollideActiveCallback=t,this},setOnCollideWith:function(t,a){Array.isArray(t)||(t=[t]);for(var v=0;v<t.length;v++){var h=t[v].hasOwnProperty("body")?t[v].body:t[v];this.body.setOnCollideWith(h,a)}return this}};o.exports=g},51607:(o,g,t)=>{var a=t(22562),v={applyForce:function(h){return this._tempVec2.set(this.body.position.x,this.body.position.y),a.applyForce(this.body,this._tempVec2,h),this},applyForceFrom:function(h,s){return a.applyForce(this.body,h,s),this},thrust:function(h){var s=this.body.angle;return this._tempVec2.set(h*Math.cos(s),h*Math.sin(s)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(h){var s=this.body.angle-Math.PI/2;return this._tempVec2.set(h*Math.cos(s),h*Math.sin(s)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(h){var s=this.body.angle+Math.PI/2;return this._tempVec2.set(h*Math.cos(s),h*Math.sin(s)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(h){var s=this.body.angle-Math.PI;return this._tempVec2.set(h*Math.cos(s),h*Math.sin(s)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};o.exports=v},5436:o=>{var g={setFriction:function(t,a,v){return this.body.friction=t,a!==void 0&&(this.body.frictionAir=a),v!==void 0&&(this.body.frictionStatic=v),this},setFrictionAir:function(t){return this.body.frictionAir=t,this},setFrictionStatic:function(t){return this.body.frictionStatic=t,this}};o.exports=g},39858:o=>{var g={setIgnoreGravity:function(t){return this.body.ignoreGravity=t,this}};o.exports=g},37302:(o,g,t)=>{var a=t(22562),v=t(26099),h={setMass:function(s){return a.setMass(this.body,s),this},setDensity:function(s){return a.setDensity(this.body,s),this},centerOfMass:{get:function(){return new v(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};o.exports=h},39132:o=>{var g={setSensor:function(t){return this.body.isSensor=t,this},isSensor:function(){return this.body.isSensor}};o.exports=g},57772:(o,g,t)=>{var a=t(66280),v=t(22562),h=t(43855),s=t(95540),r=t(19496),e=t(85791),n=t(41598),l={setRectangle:function(i,u,f){return this.setBody({type:"rectangle",width:i,height:u},f)},setCircle:function(i,u){return this.setBody({type:"circle",radius:i},u)},setPolygon:function(i,u,f){return this.setBody({type:"polygon",sides:u,radius:i},f)},setTrapezoid:function(i,u,f,c){return this.setBody({type:"trapezoid",width:i,height:u,slope:f},c)},setExistingBody:function(i,u){u===void 0&&(u=!0),this.body&&this.world.remove(this.body,!0),this.body=i;for(var f=0;f<i.parts.length;f++)i.parts[f].gameObject=this;var c=this;if(i.destroy=function(){c.world.remove(c.body,!0),c.body.gameObject=null},u&&(this.world.has(i)&&this.world.remove(i,!0),this.world.add(i)),this._originComponent){var d=i.render.sprite.xOffset,p=i.render.sprite.yOffset,m=i.centerOfMass.x,y=i.centerOfMass.y;if(h(m,.5)&&h(y,.5))this.setOrigin(d+.5,p+.5);else{var x=i.centerOffset.x,C=i.centerOffset.y;this.setOrigin(d+x/this.displayWidth,p+C/this.displayHeight)}}return this},setBody:function(i,u){if(!i)return this;var f;typeof i=="string"&&(i={type:i});var c=s(i,"type","rectangle"),d=s(i,"x",this._tempVec2.x),p=s(i,"y",this._tempVec2.y),m=s(i,"width",this.width),y=s(i,"height",this.height);switch(c){case"rectangle":f=a.rectangle(d,p,m,y,u);break;case"circle":var x=s(i,"radius",Math.max(m,y)/2),C=s(i,"maxSides",25);f=a.circle(d,p,x,u,C);break;case"trapezoid":var E=s(i,"slope",.5);f=a.trapezoid(d,p,m,y,E,u);break;case"polygon":var R=s(i,"sides",5),M=s(i,"radius",Math.max(m,y)/2);f=a.polygon(d,p,R,M,u);break;case"fromVertices":case"fromVerts":var w=s(i,"verts",null);if(w)if(typeof w=="string"&&(w=n.fromPath(w)),this.body&&!this.body.hasOwnProperty("temp"))v.setVertices(this.body,w),f=this.body;else{var D=s(i,"flagInternal",!1),F=s(i,"removeCollinear",.01),I=s(i,"minimumArea",10);f=a.fromVertices(d,p,w,u,D,F,I)}break;case"fromPhysicsEditor":f=r.parseBody(d,p,i,u);break;case"fromPhysicsTracer":f=e.parseBody(d,p,i,u);break}return f&&this.setExistingBody(f,i.addToWorld),this}};o.exports=l},38083:(o,g,t)=>{var a=t(1121),v=t(53614),h=t(35810),s={setToSleep:function(){return v.set(this.body,!0),this},setAwake:function(){return v.set(this.body,!1),this},setSleepThreshold:function(r){return r===void 0&&(r=60),this.body.sleepThreshold=r,this},setSleepEvents:function(r,e){return this.setSleepStartEvent(r),this.setSleepEndEvent(e),this},setSleepStartEvent:function(r){if(r){var e=this.world;h.on(this.body,"sleepStart",function(n){e.emit(a.SLEEP_START,n,this)})}else h.off(this.body,"sleepStart");return this},setSleepEndEvent:function(r){if(r){var e=this.world;h.on(this.body,"sleepEnd",function(n){e.emit(a.SLEEP_END,n,this)})}else h.off(this.body,"sleepEnd");return this}};o.exports=s},90556:(o,g,t)=>{var a=t(22562),v={setStatic:function(h){return a.setStatic(this.body,h),this},isStatic:function(){return this.body.isStatic}};o.exports=v},85436:(o,g,t)=>{var a=t(22562),v=t(36383),h=t(86554),s=t(30954),r=4,e={x:{get:function(){return this.body.position.x},set:function(n){this._tempVec2.set(n,this.y),a.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(n){this._tempVec2.set(this.x,n),a.setPosition(this.body,this._tempVec2)}},scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(n){this.setScale(n,n)}},scaleX:{get:function(){return this._scaleX},set:function(n){var l=1/this._scaleX,i=1/this._scaleY;this._scaleX=n,this._scaleX===0?this.renderFlags&=~r:this.renderFlags|=r,a.scale(this.body,l,i),a.scale(this.body,n,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(n){var l=1/this._scaleX,i=1/this._scaleY;this._scaleY=n,this._scaleY===0?this.renderFlags&=~r:this.renderFlags|=r,a.scale(this.body,l,i),a.scale(this.body,this._scaleX,n)}},angle:{get:function(){return s(this.body.angle*v.RAD_TO_DEG)},set:function(n){this.rotation=s(n)*v.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(n){this._rotation=h(n),a.setAngle(this.body,this._rotation)}},setPosition:function(n,l){return n===void 0&&(n=0),l===void 0&&(l=n),this._tempVec2.set(n,l),a.setPosition(this.body,this._tempVec2),this},setRotation:function(n){return n===void 0&&(n=0),this._rotation=h(n),a.setAngle(this.body,n),this},setFixedRotation:function(){return a.setInertia(this.body,1/0),this},setAngle:function(n){return n===void 0&&(n=0),this.angle=n,a.setAngle(this.body,this.rotation),this},setScale:function(n,l,i){n===void 0&&(n=1),l===void 0&&(l=n);var u=1/this._scaleX,f=1/this._scaleY;return this._scaleX=n,this._scaleY=l,a.scale(this.body,u,f,i),a.scale(this.body,n,l,i),this}};o.exports=e},42081:(o,g,t)=>{var a=t(22562),v={setVelocityX:function(h){return this._tempVec2.set(h,this.body.velocity.y),a.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(h){return this._tempVec2.set(this.body.velocity.x,h),a.setVelocity(this.body,this._tempVec2),this},setVelocity:function(h,s){return this._tempVec2.set(h,s),a.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return a.getVelocity(this.body)},setAngularVelocity:function(h){return a.setAngularVelocity(this.body,h),this},getAngularVelocity:function(){return a.getAngularVelocity(this.body)},setAngularSpeed:function(h){return a.setAngularSpeed(this.body,h),this},getAngularSpeed:function(){return a.getAngularSpeed(this.body)}};o.exports=v},31884:(o,g,t)=>{o.exports={Bounce:t(70410),Collision:t(66968),Force:t(51607),Friction:t(5436),Gravity:t(39858),Mass:t(37302),Sensor:t(39132),SetBody:t(57772),Sleep:t(38083),Static:t(90556),Transform:t(85436),Velocity:t(42081)}},85608:o=>{o.exports="afteradd"},1213:o=>{o.exports="afterremove"},25968:o=>{o.exports="afterupdate"},67205:o=>{o.exports="beforeadd"},39438:o=>{o.exports="beforeremove"},44823:o=>{o.exports="beforeupdate"},92593:o=>{o.exports="collisionactive"},60128:o=>{o.exports="collisionend"},76861:o=>{o.exports="collisionstart"},92362:o=>{o.exports="dragend"},76408:o=>{o.exports="drag"},93971:o=>{o.exports="dragstart"},5656:o=>{o.exports="pause"},47861:o=>{o.exports="resume"},79099:o=>{o.exports="sleepend"},35906:o=>{o.exports="sleepstart"},1121:(o,g,t)=>{o.exports={AFTER_ADD:t(85608),AFTER_REMOVE:t(1213),AFTER_UPDATE:t(25968),BEFORE_ADD:t(67205),BEFORE_REMOVE:t(39438),BEFORE_UPDATE:t(44823),COLLISION_ACTIVE:t(92593),COLLISION_END:t(60128),COLLISION_START:t(76861),DRAG_END:t(92362),DRAG:t(76408),DRAG_START:t(93971),PAUSE:t(5656),RESUME:t(47861),SLEEP_END:t(79099),SLEEP_START:t(35906)}},3875:(o,g,t)=>{o.exports={BodyBounds:t(68174),Components:t(31884),Events:t(1121),Factory:t(28137),MatterGameObject:t(75803),Image:t(23181),Matter:t(19933),MatterPhysics:t(42045),PolyDecomp:t(55973),Sprite:t(34803),TileBody:t(73834),PhysicsEditorParser:t(19496),PhysicsJSONParser:t(85791),PointerConstraint:t(98713),World:t(68243)}},22562:(o,g,t)=>{var a={};o.exports=a;var v=t(41598),h=t(31725),s=t(53614),r=t(53402),e=t(15647),n=t(66615);(function(){a._timeCorrection=!0,a._inertiaScale=4,a._nextCollidingGroupId=1,a._nextNonCollidingGroupId=-1,a._nextCategory=1,a._baseDelta=16.666666666666668,a.create=function(i){var u={id:r.nextId(),type:"body",label:"Body",parts:[],plugin:{},attractors:i.attractors||[],wrapBounds:null,angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!i.hasOwnProperty("position")&&i.hasOwnProperty("vertices")?i.position=v.centre(i.vertices):i.hasOwnProperty("vertices")||(u.vertices=v.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var f=r.extend(u,i);return l(f,i),f.setOnCollideWith=function(c,d){return d?this.onCollideWith[c.id]=d:delete this.onCollideWith[c.id],this},f},a.nextGroup=function(i){return i?a._nextNonCollidingGroupId--:a._nextCollidingGroupId++},a.nextCategory=function(){return a._nextCategory=a._nextCategory<<1,a._nextCategory};var l=function(i,u){if(u=u||{},a.set(i,{bounds:i.bounds||e.create(i.vertices),positionPrev:i.positionPrev||h.clone(i.position),anglePrev:i.anglePrev||i.angle,vertices:i.vertices,parts:i.parts||[i],isStatic:i.isStatic,isSleeping:i.isSleeping,parent:i.parent||i}),v.rotate(i.vertices,i.angle,i.position),n.rotate(i.axes,i.angle),e.update(i.bounds,i.vertices,i.velocity),a.set(i,{axes:u.axes||i.axes,area:u.area||i.area,mass:u.mass||i.mass,inertia:u.inertia||i.inertia}),i.parts.length===1){var f=i.bounds,c=i.centerOfMass,d=i.centerOffset,p=f.max.x-f.min.x,m=f.max.y-f.min.y;c.x=-(f.min.x-i.position.x)/p,c.y=-(f.min.y-i.position.y)/m,d.x=p*c.x,d.y=m*c.y}};a.set=function(i,u,f){var c;typeof u=="string"&&(c=u,u={},u[c]=f);for(c in u)if(Object.prototype.hasOwnProperty.call(u,c))switch(f=u[c],c){case"isStatic":a.setStatic(i,f);break;case"isSleeping":s.set(i,f);break;case"mass":a.setMass(i,f);break;case"density":a.setDensity(i,f);break;case"inertia":a.setInertia(i,f);break;case"vertices":a.setVertices(i,f);break;case"position":a.setPosition(i,f);break;case"angle":a.setAngle(i,f);break;case"velocity":a.setVelocity(i,f);break;case"angularVelocity":a.setAngularVelocity(i,f);break;case"speed":a.setSpeed(i,f);break;case"angularSpeed":a.setAngularSpeed(i,f);break;case"parts":a.setParts(i,f);break;case"centre":a.setCentre(i,f);break;default:i[c]=f}},a.setStatic=function(i,u){for(var f=0;f<i.parts.length;f++){var c=i.parts[f];u?(c.isStatic||(c._original={restitution:c.restitution,friction:c.friction,mass:c.mass,inertia:c.inertia,density:c.density,inverseMass:c.inverseMass,inverseInertia:c.inverseInertia}),c.restitution=0,c.friction=1,c.mass=c.inertia=c.density=1/0,c.inverseMass=c.inverseInertia=0,c.positionPrev.x=c.position.x,c.positionPrev.y=c.position.y,c.anglePrev=c.angle,c.angularVelocity=0,c.speed=0,c.angularSpeed=0,c.motion=0):c._original&&(c.restitution=c._original.restitution,c.friction=c._original.friction,c.mass=c._original.mass,c.inertia=c._original.inertia,c.density=c._original.density,c.inverseMass=c._original.inverseMass,c.inverseInertia=c._original.inverseInertia,c._original=null),c.isStatic=u}},a.setMass=function(i,u){var f=i.inertia/(i.mass/6);i.inertia=f*(u/6),i.inverseInertia=1/i.inertia,i.mass=u,i.inverseMass=1/i.mass,i.density=i.mass/i.area},a.setDensity=function(i,u){a.setMass(i,u*i.area),i.density=u},a.setInertia=function(i,u){i.inertia=u,i.inverseInertia=1/i.inertia},a.setVertices=function(i,u){u[0].body===i?i.vertices=u:i.vertices=v.create(u,i),i.axes=n.fromVertices(i.vertices),i.area=v.area(i.vertices),a.setMass(i,i.density*i.area);var f=v.centre(i.vertices);v.translate(i.vertices,f,-1),a.setInertia(i,a._inertiaScale*v.inertia(i.vertices,i.mass)),v.translate(i.vertices,i.position),e.update(i.bounds,i.vertices,i.velocity)},a.setParts=function(i,u,f){var c;for(u=u.slice(0),i.parts.length=0,i.parts.push(i),i.parent=i,c=0;c<u.length;c++){var d=u[c];d!==i&&(d.parent=i,i.parts.push(d))}if(i.parts.length!==1){if(f=typeof f<"u"?f:!0,f){var p=[];for(c=0;c<u.length;c++)p=p.concat(u[c].vertices);v.clockwiseSort(p);var m=v.hull(p),y=v.centre(m);a.setVertices(i,m),v.translate(i.vertices,y)}var x=a._totalProperties(i),C=x.centre.x,E=x.centre.y,R=i.bounds,M=i.centerOfMass,w=i.centerOffset;e.update(R,i.vertices,i.velocity),M.x=-(R.min.x-C)/(R.max.x-R.min.x),M.y=-(R.min.y-E)/(R.max.y-R.min.y),w.x=C,w.y=E,i.area=x.area,i.parent=i,i.position.x=C,i.position.y=E,i.positionPrev.x=C,i.positionPrev.y=E,a.setMass(i,x.mass),a.setInertia(i,x.inertia),a.setPosition(i,x.centre)}},a.setCentre=function(i,u,f){f?(i.positionPrev.x+=u.x,i.positionPrev.y+=u.y,i.position.x+=u.x,i.position.y+=u.y):(i.positionPrev.x=u.x-(i.position.x-i.positionPrev.x),i.positionPrev.y=u.y-(i.position.y-i.positionPrev.y),i.position.x=u.x,i.position.y=u.y)},a.setPosition=function(i,u,f){var c=h.sub(u,i.position);f?(i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.velocity.x=c.x,i.velocity.y=c.y,i.speed=h.magnitude(c)):(i.positionPrev.x+=c.x,i.positionPrev.y+=c.y);for(var d=0;d<i.parts.length;d++){var p=i.parts[d];p.position.x+=c.x,p.position.y+=c.y,v.translate(p.vertices,c),e.update(p.bounds,p.vertices,i.velocity)}},a.setAngle=function(i,u,f){var c=u-i.angle;f?(i.anglePrev=i.angle,i.angularVelocity=c,i.angularSpeed=Math.abs(c)):i.anglePrev+=c;for(var d=0;d<i.parts.length;d++){var p=i.parts[d];p.angle+=c,v.rotate(p.vertices,c,i.position),n.rotate(p.axes,c),e.update(p.bounds,p.vertices,i.velocity),d>0&&h.rotateAbout(p.position,c,i.position,p.position)}},a.setVelocity=function(i,u){var f=i.deltaTime/a._baseDelta;i.positionPrev.x=i.position.x-u.x*f,i.positionPrev.y=i.position.y-u.y*f,i.velocity.x=(i.position.x-i.positionPrev.x)/f,i.velocity.y=(i.position.y-i.positionPrev.y)/f,i.speed=h.magnitude(i.velocity)},a.getVelocity=function(i){var u=a._baseDelta/i.deltaTime;return{x:(i.position.x-i.positionPrev.x)*u,y:(i.position.y-i.positionPrev.y)*u}},a.getSpeed=function(i){return h.magnitude(a.getVelocity(i))},a.setSpeed=function(i,u){a.setVelocity(i,h.mult(h.normalise(a.getVelocity(i)),u))},a.setAngularVelocity=function(i,u){var f=i.deltaTime/a._baseDelta;i.anglePrev=i.angle-u*f,i.angularVelocity=(i.angle-i.anglePrev)/f,i.angularSpeed=Math.abs(i.angularVelocity)},a.getAngularVelocity=function(i){return(i.angle-i.anglePrev)*a._baseDelta/i.deltaTime},a.getAngularSpeed=function(i){return Math.abs(a.getAngularVelocity(i))},a.setAngularSpeed=function(i,u){a.setAngularVelocity(i,r.sign(a.getAngularVelocity(i))*u)},a.translate=function(i,u,f){a.setPosition(i,h.add(i.position,u),f)},a.rotate=function(i,u,f,c){if(!f)a.setAngle(i,i.angle+u,c);else{var d=Math.cos(u),p=Math.sin(u),m=i.position.x-f.x,y=i.position.y-f.y;a.setPosition(i,{x:f.x+(m*d-y*p),y:f.y+(m*p+y*d)},c),a.setAngle(i,i.angle+u,c)}},a.scale=function(i,u,f,c){var d=0,p=0;c=c||i.position;for(var m=i.inertia===1/0,y=0;y<i.parts.length;y++){var x=i.parts[y];x.scale.x=u,x.scale.y=f,v.scale(x.vertices,u,f,c),x.axes=n.fromVertices(x.vertices),x.area=v.area(x.vertices),a.setMass(x,i.density*x.area),v.translate(x.vertices,{x:-x.position.x,y:-x.position.y}),a.setInertia(x,a._inertiaScale*v.inertia(x.vertices,x.mass)),v.translate(x.vertices,{x:x.position.x,y:x.position.y}),y>0&&(d+=x.area,p+=x.inertia),x.position.x=c.x+(x.position.x-c.x)*u,x.position.y=c.y+(x.position.y-c.y)*f,e.update(x.bounds,x.vertices,i.velocity)}i.parts.length>1&&(i.area=d,i.isStatic||(a.setMass(i,i.density*d),a.setInertia(i,p))),i.circleRadius&&(u===f?i.circleRadius*=u:i.circleRadius=null),m&&a.setInertia(i,1/0)},a.update=function(i,u){u=(typeof u<"u"?u:16.666666666666668)*i.timeScale;var f=u*u,c=a._timeCorrection?u/(i.deltaTime||u):1,d=1-i.frictionAir*(u/r._baseDelta),p=(i.position.x-i.positionPrev.x)*c,m=(i.position.y-i.positionPrev.y)*c;i.velocity.x=p*d+i.force.x/i.mass*f,i.velocity.y=m*d+i.force.y/i.mass*f,i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.position.x+=i.velocity.x,i.position.y+=i.velocity.y,i.deltaTime=u,i.angularVelocity=(i.angle-i.anglePrev)*d*c+i.torque/i.inertia*f,i.anglePrev=i.angle,i.angle+=i.angularVelocity,i.speed=h.magnitude(i.velocity),i.angularSpeed=Math.abs(i.angularVelocity);for(var y=0;y<i.parts.length;y++){var x=i.parts[y];v.translate(x.vertices,i.velocity),y>0&&(x.position.x+=i.velocity.x,x.position.y+=i.velocity.y),i.angularVelocity!==0&&(v.rotate(x.vertices,i.angularVelocity,i.position),n.rotate(x.axes,i.angularVelocity),y>0&&h.rotateAbout(x.position,i.angularVelocity,i.position,x.position)),e.update(x.bounds,x.vertices,i.velocity)}},a.updateVelocities=function(i){var u=a._baseDelta/i.deltaTime,f=i.velocity;f.x=(i.position.x-i.positionPrev.x)*u,f.y=(i.position.y-i.positionPrev.y)*u,i.speed=Math.sqrt(f.x*f.x+f.y*f.y),i.angularVelocity=(i.angle-i.anglePrev)*u,i.angularSpeed=Math.abs(i.angularVelocity)},a.applyForce=function(i,u,f){var c={x:u.x-i.position.x,y:u.y-i.position.y};i.force.x+=f.x,i.force.y+=f.y,i.torque+=c.x*f.y-c.y*f.x},a._totalProperties=function(i){for(var u={mass:0,area:0,inertia:0,centre:{x:0,y:0}},f=i.parts.length===1?0:1;f<i.parts.length;f++){var c=i.parts[f],d=c.mass!==1/0?c.mass:1;u.mass+=d,u.area+=c.area,u.inertia+=c.inertia,u.centre=h.add(u.centre,h.mult(c.position,d))}return u.centre=h.div(u.centre,u.mass),u},a.wrap=function(i,u){var f=e.wrap(i.bounds,u);return f&&a.translate(i,f),f}})()},69351:(o,g,t)=>{var a={};o.exports=a;var v=t(35810),h=t(53402),s=t(15647),r=t(22562);(function(){a.create=function(e){return h.extend({id:h.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},wrapBounds:null,cache:{allBodies:null,allConstraints:null,allComposites:null}},e)},a.setModified=function(e,n,l,i){if(v.trigger(e,"compositeModified",e),e.isModified=n,n&&e.cache&&(e.cache.allBodies=null,e.cache.allConstraints=null,e.cache.allComposites=null),l&&e.parent&&a.setModified(e.parent,n,l,i),i)for(var u=0;u<e.composites.length;u++){var f=e.composites[u];a.setModified(f,n,l,i)}},a.add=function(e,n){var l=[].concat(n);v.trigger(e,"beforeAdd",{object:n});for(var i=0;i<l.length;i++){var u=l[i];switch(u.type){case"body":if(u.parent!==u){h.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}a.addBody(e,u);break;case"constraint":a.addConstraint(e,u);break;case"composite":a.addComposite(e,u);break;case"mouseConstraint":a.addConstraint(e,u.constraint);break}}return v.trigger(e,"afterAdd",{object:n}),e},a.remove=function(e,n,l){var i=[].concat(n);v.trigger(e,"beforeRemove",{object:n});for(var u=0;u<i.length;u++){var f=i[u];switch(f.type){case"body":a.removeBody(e,f,l);break;case"constraint":a.removeConstraint(e,f,l);break;case"composite":a.removeComposite(e,f,l);break;case"mouseConstraint":a.removeConstraint(e,f.constraint);break}}return v.trigger(e,"afterRemove",{object:n}),e},a.addComposite=function(e,n){return e.composites.push(n),n.parent=e,a.setModified(e,!0,!0,!1),e},a.removeComposite=function(e,n,l){var i=h.indexOf(e.composites,n);if(i!==-1){var u=a.allBodies(n);a.removeCompositeAt(e,i);for(var f=0;f<u.length;f++)u[f].sleepCounter=0}if(l)for(var f=0;f<e.composites.length;f++)a.removeComposite(e.composites[f],n,!0);return e},a.removeCompositeAt=function(e,n){return e.composites.splice(n,1),a.setModified(e,!0,!0,!1),e},a.addBody=function(e,n){return e.bodies.push(n),a.setModified(e,!0,!0,!1),e},a.removeBody=function(e,n,l){var i=h.indexOf(e.bodies,n);if(i!==-1&&(a.removeBodyAt(e,i),n.sleepCounter=0),l)for(var u=0;u<e.composites.length;u++)a.removeBody(e.composites[u],n,!0);return e},a.removeBodyAt=function(e,n){return e.bodies.splice(n,1),a.setModified(e,!0,!0,!1),e},a.addConstraint=function(e,n){return e.constraints.push(n),a.setModified(e,!0,!0,!1),e},a.removeConstraint=function(e,n,l){var i=h.indexOf(e.constraints,n);if(i!==-1&&a.removeConstraintAt(e,i),l)for(var u=0;u<e.composites.length;u++)a.removeConstraint(e.composites[u],n,!0);return e},a.removeConstraintAt=function(e,n){return e.constraints.splice(n,1),a.setModified(e,!0,!0,!1),e},a.clear=function(e,n,l){if(l)for(var i=0;i<e.composites.length;i++)a.clear(e.composites[i],n,!0);return n?e.bodies=e.bodies.filter(function(u){return u.isStatic}):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,a.setModified(e,!0,!0,!1),e},a.allBodies=function(e){if(e.cache&&e.cache.allBodies)return e.cache.allBodies;for(var n=[].concat(e.bodies),l=0;l<e.composites.length;l++)n=n.concat(a.allBodies(e.composites[l]));return e.cache&&(e.cache.allBodies=n),n},a.allConstraints=function(e){if(e.cache&&e.cache.allConstraints)return e.cache.allConstraints;for(var n=[].concat(e.constraints),l=0;l<e.composites.length;l++)n=n.concat(a.allConstraints(e.composites[l]));return e.cache&&(e.cache.allConstraints=n),n},a.allComposites=function(e){if(e.cache&&e.cache.allComposites)return e.cache.allComposites;for(var n=[].concat(e.composites),l=0;l<e.composites.length;l++)n=n.concat(a.allComposites(e.composites[l]));return e.cache&&(e.cache.allComposites=n),n},a.get=function(e,n,l){var i,u;switch(l){case"body":i=a.allBodies(e);break;case"constraint":i=a.allConstraints(e);break;case"composite":i=a.allComposites(e).concat(e);break}return i?(u=i.filter(function(f){return f.id.toString()===n.toString()}),u.length===0?null:u[0]):null},a.move=function(e,n,l){return a.remove(e,n),a.add(l,n),e},a.rebase=function(e){for(var n=a.allBodies(e).concat(a.allConstraints(e)).concat(a.allComposites(e)),l=0;l<n.length;l++)n[l].id=h.nextId();return e},a.translate=function(e,n,l){for(var i=l?a.allBodies(e):e.bodies,u=0;u<i.length;u++)r.translate(i[u],n);return e},a.rotate=function(e,n,l,i){for(var u=Math.cos(n),f=Math.sin(n),c=i?a.allBodies(e):e.bodies,d=0;d<c.length;d++){var p=c[d],m=p.position.x-l.x,y=p.position.y-l.y;r.setPosition(p,{x:l.x+(m*u-y*f),y:l.y+(m*f+y*u)}),r.rotate(p,n)}return e},a.scale=function(e,n,l,i,u){for(var f=u?a.allBodies(e):e.bodies,c=0;c<f.length;c++){var d=f[c],p=d.position.x-i.x,m=d.position.y-i.y;r.setPosition(d,{x:i.x+p*n,y:i.y+m*l}),r.scale(d,n,l)}return e},a.bounds=function(e){for(var n=a.allBodies(e),l=[],i=0;i<n.length;i+=1){var u=n[i];l.push(u.bounds.min,u.bounds.max)}return s.create(l)},a.wrap=function(e,n){var l=s.wrap(a.bounds(e),n);return l&&a.translate(e,l),l}})()},4372:(o,g,t)=>{var a={};o.exports=a;var v=t(69351);(function(){a.create=v.create,a.add=v.add,a.remove=v.remove,a.clear=v.clear,a.addComposite=v.addComposite,a.addBody=v.addBody,a.addConstraint=v.addConstraint})()},52284:(o,g,t)=>{var a={};o.exports=a;var v=t(41598),h=t(4506);(function(){var s=[],r={overlap:0,axis:null},e={overlap:0,axis:null};a.create=function(n,l){return{pair:null,collided:!1,bodyA:n,bodyB:l,parentA:n.parent,parentB:l.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},a.collides=function(n,l,i){if(a._overlapAxes(r,n.vertices,l.vertices,n.axes),r.overlap<=0||(a._overlapAxes(e,l.vertices,n.vertices,l.axes),e.overlap<=0))return null;var u=i&&i.table[h.id(n,l)],f;u?f=u.collision:(f=a.create(n,l),f.collided=!0,f.bodyA=n.id<l.id?n:l,f.bodyB=n.id<l.id?l:n,f.parentA=f.bodyA.parent,f.parentB=f.bodyB.parent),n=f.bodyA,l=f.bodyB;var c;r.overlap<e.overlap?c=r:c=e;var d=f.normal,p=f.tangent,m=f.penetration,y=f.supports,x=c.overlap,C=c.axis,E=C.x,R=C.y,M=l.position.x-n.position.x,w=l.position.y-n.position.y;E*M+R*w>=0&&(E=-E,R=-R),d.x=E,d.y=R,p.x=-R,p.y=E,m.x=E*x,m.y=R*x,f.depth=x;var D=a._findSupports(n,l,d,1),F=0;if(v.contains(n.vertices,D[0])&&(y[F++]=D[0]),v.contains(n.vertices,D[1])&&(y[F++]=D[1]),F<2){var I=a._findSupports(l,n,d,-1);v.contains(l.vertices,I[0])&&(y[F++]=I[0]),F<2&&v.contains(l.vertices,I[1])&&(y[F++]=I[1])}return F===0&&(y[F++]=D[0]),f.supportCount=F,f},a._overlapAxes=function(n,l,i,u){var f=l.length,c=i.length,d=l[0].x,p=l[0].y,m=i[0].x,y=i[0].y,x=u.length,C=Number.MAX_VALUE,E=0,R,M,w,D,F,I;for(F=0;F<x;F++){var L=u[F],B=L.x,G=L.y,V=d*B+p*G,X=m*B+y*G,b=V,U=X;for(I=1;I<f;I+=1)D=l[I].x*B+l[I].y*G,D>b?b=D:D<V&&(V=D);for(I=1;I<c;I+=1)D=i[I].x*B+i[I].y*G,D>U?U=D:D<X&&(X=D);if(M=b-X,w=U-V,R=M<w?M:w,R<C&&(C=R,E=F,R<=0))break}n.axis=u[E],n.overlap=C},a._findSupports=function(n,l,i,u){var f=l.vertices,c=f.length,d=n.position.x,p=n.position.y,m=i.x*u,y=i.y*u,x=f[0],C=x,E=m*(d-C.x)+y*(p-C.y),R,M,w;for(w=1;w<c;w+=1)C=f[w],M=m*(d-C.x)+y*(p-C.y),M<E&&(E=M,x=C);return R=f[(c+x.index-1)%c],E=m*(d-R.x)+y*(p-R.y),C=f[(x.index+1)%c],m*(d-C.x)+y*(p-C.y)<E?(s[0]=x,s[1]=C,s):(s[0]=x,s[1]=R,s)}})()},43424:o=>{var g={};o.exports=g,function(){g.create=function(t){return{vertex:t,normalImpulse:0,tangentImpulse:0}}}()},81388:(o,g,t)=>{var a={};o.exports=a;var v=t(53402),h=t(52284);(function(){a.create=function(s){var r={bodies:[],collisions:[],pairs:null};return v.extend(r,s)},a.setBodies=function(s,r){s.bodies=r.slice(0)},a.clear=function(s){s.bodies=[],s.collisions=[]},a.collisions=function(s){var r=s.pairs,e=s.bodies,n=e.length,l=a.canCollide,i=h.collides,u=s.collisions,f=0,c,d;for(e.sort(a._compareBoundsX),c=0;c<n;c++){var p=e[c],m=p.bounds,y=p.bounds.max.x,x=p.bounds.max.y,C=p.bounds.min.y,E=p.isStatic||p.isSleeping,R=p.parts.length,M=R===1;for(d=c+1;d<n;d++){var w=e[d],D=w.bounds;if(D.min.x>y)break;if(!(x<D.min.y||C>D.max.y)&&!(E&&(w.isStatic||w.isSleeping))&&l(p.collisionFilter,w.collisionFilter)){var F=w.parts.length;if(M&&F===1){var I=i(p,w,r);I&&(u[f++]=I)}else for(var L=R>1?1:0,B=F>1?1:0,G=L;G<R;G++)for(var V=p.parts[G],m=V.bounds,X=B;X<F;X++){var b=w.parts[X],D=b.bounds;if(!(m.min.x>D.max.x||m.max.x<D.min.x||m.max.y<D.min.y||m.min.y>D.max.y)){var I=i(V,b,r);I&&(u[f++]=I)}}}}}return u.length!==f&&(u.length=f),u},a.canCollide=function(s,r){return s.group===r.group&&s.group!==0?s.group>0:(s.mask&r.category)!==0&&(r.mask&s.category)!==0},a._compareBoundsX=function(s,r){return s.bounds.min.x-r.bounds.min.x}})()},4506:(o,g,t)=>{var a={};o.exports=a;var v=t(43424);(function(){a.create=function(h,s){var r=h.bodyA,e=h.bodyB,n={id:a.id(r,e),bodyA:r,bodyB:e,collision:h,contacts:[v.create(),v.create()],contactCount:0,separation:0,isActive:!0,isSensor:r.isSensor||e.isSensor,timeCreated:s,timeUpdated:s,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return a.update(n,h,s),n},a.update=function(h,s,r){var e=s.supports,n=s.supportCount,l=h.contacts,i=s.parentA,u=s.parentB;h.isActive=!0,h.timeUpdated=r,h.collision=s,h.separation=s.depth,h.inverseMass=i.inverseMass+u.inverseMass,h.friction=i.friction<u.friction?i.friction:u.friction,h.frictionStatic=i.frictionStatic>u.frictionStatic?i.frictionStatic:u.frictionStatic,h.restitution=i.restitution>u.restitution?i.restitution:u.restitution,h.slop=i.slop>u.slop?i.slop:u.slop,h.contactCount=n,s.pair=h;var f=e[0],c=l[0],d=e[1],p=l[1];(p.vertex===f||c.vertex===d)&&(l[1]=c,l[0]=c=p,p=l[1]),c.vertex=f,p.vertex=d},a.setActive=function(h,s,r){s?(h.isActive=!0,h.timeUpdated=r):(h.isActive=!1,h.contactCount=0)},a.id=function(h,s){return h.id<s.id?h.id.toString(36)+":"+s.id.toString(36):s.id.toString(36)+":"+h.id.toString(36)}})()},99561:(o,g,t)=>{var a={};o.exports=a;var v=t(4506),h=t(53402);(function(){a.create=function(s){return h.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},s)},a.update=function(s,r,e){var n=v.update,l=v.create,i=v.setActive,u=s.table,f=s.list,c=f.length,d=c,p=s.collisionStart,m=s.collisionEnd,y=s.collisionActive,x=r.length,C=0,E=0,R=0,M,w,D;for(D=0;D<x;D++)M=r[D],w=M.pair,w?(w.isActive&&(y[R++]=w),n(w,M,e)):(w=l(M,e),u[w.id]=w,p[C++]=w,f[d++]=w);for(d=0,c=f.length,D=0;D<c;D++)w=f[D],w.timeUpdated>=e?f[d++]=w:(i(w,!1,e),w.collision.bodyA.sleepCounter>0&&w.collision.bodyB.sleepCounter>0?f[d++]=w:(m[E++]=w,delete u[w.id]));f.length!==d&&(f.length=d),p.length!==C&&(p.length=C),m.length!==E&&(m.length=E),y.length!==R&&(y.length=R)},a.clear=function(s){return s.table={},s.list.length=0,s.collisionStart.length=0,s.collisionActive.length=0,s.collisionEnd.length=0,s}})()},73296:(o,g,t)=>{var a={};o.exports=a;var v=t(31725),h=t(52284),s=t(15647),r=t(66280),e=t(41598);(function(){a.collides=function(n,l){for(var i=[],u=l.length,f=n.bounds,c=h.collides,d=s.overlaps,p=0;p<u;p++){var m=l[p],y=m.parts.length,x=y===1?0:1;if(n!==m&&d(m.bounds,f))for(var C=x;C<y;C++){var E=m.parts[C];if(d(E.bounds,f)){var R=c(E,n);if(R){i.push(R);break}}}}return i},a.ray=function(n,l,i,u){u=u||1e-100;for(var f=v.angle(l,i),c=v.magnitude(v.sub(l,i)),d=(i.x+l.x)*.5,p=(i.y+l.y)*.5,m=r.rectangle(d,p,c,u,{angle:f}),y=a.collides(m,n),x=0;x<y.length;x+=1){var C=y[x];C.body=C.bodyB=C.bodyA}return y},a.region=function(n,l,i){for(var u=[],f=0;f<n.length;f++){var c=n[f],d=s.overlaps(c.bounds,l);(d&&!i||!d&&i)&&u.push(c)}return u},a.point=function(n,l){for(var i=[],u=0;u<n.length;u++){var f=n[u];if(s.contains(f.bounds,l))for(var c=f.parts.length===1?0:1;c<f.parts.length;c++){var d=f.parts[c];if(s.contains(d.bounds,l)&&e.contains(d.vertices,l)){i.push(f);break}}}return i}})()},66272:(o,g,t)=>{var a={};o.exports=a;var v=t(41598),h=t(53402),s=t(15647);(function(){a._restingThresh=2,a._restingThreshTangent=Math.sqrt(6),a._positionDampen=.9,a._positionWarming=.8,a._frictionNormalMultiplier=5,a._frictionMaxStatic=Number.MAX_VALUE,a.preSolvePosition=function(r){var e,n,l,i=r.length;for(e=0;e<i;e++)n=r[e],n.isActive&&(l=n.contactCount,n.collision.parentA.totalContacts+=l,n.collision.parentB.totalContacts+=l)},a.solvePosition=function(r,e,n){var l,i,u,f,c,d,p,m,y=a._positionDampen*(n||1),x=h.clamp(e/h._baseDelta,0,1),C=r.length;for(l=0;l<C;l++)i=r[l],!(!i.isActive||i.isSensor)&&(u=i.collision,f=u.parentA,c=u.parentB,d=u.normal,i.separation=u.depth+d.x*(c.positionImpulse.x-f.positionImpulse.x)+d.y*(c.positionImpulse.y-f.positionImpulse.y));for(l=0;l<C;l++)i=r[l],!(!i.isActive||i.isSensor)&&(u=i.collision,f=u.parentA,c=u.parentB,d=u.normal,m=i.separation-i.slop*x,(f.isStatic||c.isStatic)&&(m*=2),f.isStatic||f.isSleeping||(p=y/f.totalContacts,f.positionImpulse.x+=d.x*m*p,f.positionImpulse.y+=d.y*m*p),c.isStatic||c.isSleeping||(p=y/c.totalContacts,c.positionImpulse.x-=d.x*m*p,c.positionImpulse.y-=d.y*m*p))},a.postSolvePosition=function(r){for(var e=a._positionWarming,n=r.length,l=v.translate,i=s.update,u=0;u<n;u++){var f=r[u],c=f.positionImpulse,d=c.x,p=c.y,m=f.velocity;if(f.totalContacts=0,d!==0||p!==0){for(var y=0;y<f.parts.length;y++){var x=f.parts[y];l(x.vertices,c),i(x.bounds,x.vertices,m),x.position.x+=d,x.position.y+=p}f.positionPrev.x+=d,f.positionPrev.y+=p,d*m.x+p*m.y<0?(c.x=0,c.y=0):(c.x*=e,c.y*=e)}}},a.preSolveVelocity=function(r){var e=r.length,n,l;for(n=0;n<e;n++){var i=r[n];if(!(!i.isActive||i.isSensor)){var u=i.contacts,f=i.contactCount,c=i.collision,d=c.parentA,p=c.parentB,m=c.normal,y=c.tangent;for(l=0;l<f;l++){var x=u[l],C=x.vertex,E=x.normalImpulse,R=x.tangentImpulse;if(E!==0||R!==0){var M=m.x*E+y.x*R,w=m.y*E+y.y*R;d.isStatic||d.isSleeping||(d.positionPrev.x+=M*d.inverseMass,d.positionPrev.y+=w*d.inverseMass,d.anglePrev+=d.inverseInertia*((C.x-d.position.x)*w-(C.y-d.position.y)*M)),p.isStatic||p.isSleeping||(p.positionPrev.x-=M*p.inverseMass,p.positionPrev.y-=w*p.inverseMass,p.anglePrev-=p.inverseInertia*((C.x-p.position.x)*w-(C.y-p.position.y)*M))}}}}},a.solveVelocity=function(r,e){var n=e/h._baseDelta,l=n*n,i=l*n,u=-a._restingThresh*n,f=a._restingThreshTangent,c=a._frictionNormalMultiplier*n,d=a._frictionMaxStatic,p=r.length,m,y,x,C;for(x=0;x<p;x++){var E=r[x];if(!(!E.isActive||E.isSensor)){var R=E.collision,M=R.parentA,w=R.parentB,D=R.normal.x,F=R.normal.y,I=R.tangent.x,L=R.tangent.y,B=E.inverseMass,G=E.friction*E.frictionStatic*c,V=E.contacts,X=E.contactCount,b=1/X,U=M.position.x-M.positionPrev.x,O=M.position.y-M.positionPrev.y,z=M.angle-M.anglePrev,N=w.position.x-w.positionPrev.x,Y=w.position.y-w.positionPrev.y,W=w.angle-w.anglePrev;for(C=0;C<X;C++){var H=V[C],$=H.vertex,j=$.x-M.position.x,Z=$.y-M.position.y,J=$.x-w.position.x,K=$.y-w.position.y,Q=U-Z*z,_=O+j*z,k=N-K*W,nt=Y+J*W,st=Q-k,at=_-nt,q=D*st+F*at,et=I*st+L*at,it=E.separation+q,lt=Math.min(it,1);lt=it<0?0:lt;var gt=lt*G;et<-gt||et>gt?(y=et>0?et:-et,m=E.friction*(et>0?1:-1)*i,m<-y?m=-y:m>y&&(m=y)):(m=et,y=d);var wt=j*F-Z*D,ct=J*F-K*D,pt=b/(B+M.inverseInertia*wt*wt+w.inverseInertia*ct*ct),Ft=(1+E.restitution)*q*pt;if(m*=pt,q<u)H.normalImpulse=0;else{var jt=H.normalImpulse;H.normalImpulse+=Ft,H.normalImpulse>0&&(H.normalImpulse=0),Ft=H.normalImpulse-jt}if(et<-f||et>f)H.tangentImpulse=0;else{var Et=H.tangentImpulse;H.tangentImpulse+=m,H.tangentImpulse<-y&&(H.tangentImpulse=-y),H.tangentImpulse>y&&(H.tangentImpulse=y),m=H.tangentImpulse-Et}var Lt=D*Ft+I*m,bt=F*Ft+L*m;M.isStatic||M.isSleeping||(M.positionPrev.x+=Lt*M.inverseMass,M.positionPrev.y+=bt*M.inverseMass,M.anglePrev+=(j*bt-Z*Lt)*M.inverseInertia),w.isStatic||w.isSleeping||(w.positionPrev.x-=Lt*w.inverseMass,w.positionPrev.y-=bt*w.inverseMass,w.anglePrev-=(J*bt-K*Lt)*w.inverseInertia)}}}}})()},48140:(o,g,t)=>{var a={};o.exports=a;var v=t(41598),h=t(31725),s=t(53614),r=t(15647),e=t(66615),n=t(53402);(function(){a._warming=.4,a._torqueDampen=1,a._minLength=1e-6,a.create=function(l){var i=l;i.bodyA&&!i.pointA&&(i.pointA={x:0,y:0}),i.bodyB&&!i.pointB&&(i.pointB={x:0,y:0});var u=i.bodyA?h.add(i.bodyA.position,i.pointA):i.pointA,f=i.bodyB?h.add(i.bodyB.position,i.pointB):i.pointB,c=h.magnitude(h.sub(u,f));i.length=typeof i.length<"u"?i.length:c,i.id=i.id||n.nextId(),i.label=i.label||"Constraint",i.type="constraint",i.stiffness=i.stiffness||(i.length>0?1:.7),i.damping=i.damping||0,i.angularStiffness=i.angularStiffness||0,i.angleA=i.bodyA?i.bodyA.angle:i.angleA,i.angleB=i.bodyB?i.bodyB.angle:i.angleB,i.plugin={};var d={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return i.length===0&&i.stiffness>.1?(d.type="pin",d.anchors=!1):i.stiffness<.9&&(d.type="spring"),i.render=n.extend(d,i.render),i},a.preSolveAll=function(l){for(var i=0;i<l.length;i+=1){var u=l[i],f=u.constraintImpulse;u.isStatic||f.x===0&&f.y===0&&f.angle===0||(u.position.x+=f.x,u.position.y+=f.y,u.angle+=f.angle)}},a.solveAll=function(l,i){for(var u=n.clamp(i/n._baseDelta,0,1),f=0;f<l.length;f+=1){var c=l[f],d=!c.bodyA||c.bodyA&&c.bodyA.isStatic,p=!c.bodyB||c.bodyB&&c.bodyB.isStatic;(d||p)&&a.solve(l[f],u)}for(f=0;f<l.length;f+=1)c=l[f],d=!c.bodyA||c.bodyA&&c.bodyA.isStatic,p=!c.bodyB||c.bodyB&&c.bodyB.isStatic,!d&&!p&&a.solve(l[f],u)},a.solve=function(l,i){var u=l.bodyA,f=l.bodyB,c=l.pointA,d=l.pointB;if(!(!u&&!f)){u&&!u.isStatic&&(h.rotate(c,u.angle-l.angleA,c),l.angleA=u.angle),f&&!f.isStatic&&(h.rotate(d,f.angle-l.angleB,d),l.angleB=f.angle);var p=c,m=d;if(u&&(p=h.add(u.position,c)),f&&(m=h.add(f.position,d)),!(!p||!m)){var y=h.sub(p,m),x=h.magnitude(y);x<a._minLength&&(x=a._minLength);var C=(x-l.length)/x,E=l.stiffness>=1||l.length===0,R=E?l.stiffness*i:l.stiffness*i*i,M=l.damping*i,w=h.mult(y,C*R),D=(u?u.inverseMass:0)+(f?f.inverseMass:0),F=(u?u.inverseInertia:0)+(f?f.inverseInertia:0),I=D+F,L,B,G,V,X;if(M>0){var b=h.create();G=h.div(y,x),X=h.sub(f&&h.sub(f.position,f.positionPrev)||b,u&&h.sub(u.position,u.positionPrev)||b),V=h.dot(G,X)}u&&!u.isStatic&&(B=u.inverseMass/D,u.constraintImpulse.x-=w.x*B,u.constraintImpulse.y-=w.y*B,u.position.x-=w.x*B,u.position.y-=w.y*B,M>0&&(u.positionPrev.x-=M*G.x*V*B,u.positionPrev.y-=M*G.y*V*B),L=h.cross(c,w)/I*a._torqueDampen*u.inverseInertia*(1-l.angularStiffness),u.constraintImpulse.angle-=L,u.angle-=L),f&&!f.isStatic&&(B=f.inverseMass/D,f.constraintImpulse.x+=w.x*B,f.constraintImpulse.y+=w.y*B,f.position.x+=w.x*B,f.position.y+=w.y*B,M>0&&(f.positionPrev.x+=M*G.x*V*B,f.positionPrev.y+=M*G.y*V*B),L=h.cross(d,w)/I*a._torqueDampen*f.inverseInertia*(1-l.angularStiffness),f.constraintImpulse.angle+=L,f.angle+=L)}}},a.postSolveAll=function(l){for(var i=0;i<l.length;i++){var u=l[i],f=u.constraintImpulse;if(!(u.isStatic||f.x===0&&f.y===0&&f.angle===0)){s.set(u,!1);for(var c=0;c<u.parts.length;c++){var d=u.parts[c];v.translate(d.vertices,f),c>0&&(d.position.x+=f.x,d.position.y+=f.y),f.angle!==0&&(v.rotate(d.vertices,f.angle,u.position),e.rotate(d.axes,f.angle),c>0&&h.rotateAbout(d.position,f.angle,u.position,d.position)),r.update(d.bounds,d.vertices,u.velocity)}f.angle*=a._warming,f.x*=a._warming,f.y*=a._warming}}},a.pointAWorld=function(l){return{x:(l.bodyA?l.bodyA.position.x:0)+(l.pointA?l.pointA.x:0),y:(l.bodyA?l.bodyA.position.y:0)+(l.pointA?l.pointA.y:0)}},a.pointBWorld=function(l){return{x:(l.bodyB?l.bodyB.position.x:0)+(l.pointB?l.pointB.x:0),y:(l.bodyB?l.bodyB.position.y:0)+(l.pointB?l.pointB.y:0)}},a.currentLength=function(l){var i=(l.bodyA?l.bodyA.position.x:0)+(l.pointA?l.pointA.x:0),u=(l.bodyA?l.bodyA.position.y:0)+(l.pointA?l.pointA.y:0),f=(l.bodyB?l.bodyB.position.x:0)+(l.pointB?l.pointB.x:0),c=(l.bodyB?l.bodyB.position.y:0)+(l.pointB?l.pointB.y:0),d=i-f,p=u-c;return Math.sqrt(d*d+p*p)}})()},53402:(o,g,t)=>{var a={};o.exports=a,function(){a._baseDelta=16.666666666666668,a._nextId=0,a._seed=0,a._nowStartTime=+new Date,a._warnedOnce={},a._decomp=null,a.extend=function(h,s){var r,e,n;typeof s=="boolean"?(r=2,n=s):(r=1,n=!0);for(var l=r;l<arguments.length;l++){var i=arguments[l];if(i)for(var u in i)n&&i[u]&&i[u].constructor===Object&&(!h[u]||h[u].constructor===Object)?(h[u]=h[u]||{},a.extend(h[u],n,i[u])):h[u]=i[u]}return h},a.clone=function(h,s){return a.extend({},s,h)},a.keys=function(h){if(Object.keys)return Object.keys(h);var s=[];for(var r in h)s.push(r);return s},a.values=function(h){var s=[];if(Object.keys){for(var r=Object.keys(h),e=0;e<r.length;e++)s.push(h[r[e]]);return s}for(var n in h)s.push(h[n]);return s},a.get=function(h,s,r,e){s=s.split(".").slice(r,e);for(var n=0;n<s.length;n+=1)h=h[s[n]];return h},a.set=function(h,s,r,e,n){var l=s.split(".").slice(e,n);return a.get(h,s,0,-1)[l[l.length-1]]=r,r},a.shuffle=function(h){for(var s=h.length-1;s>0;s--){var r=Math.floor(a.random()*(s+1)),e=h[s];h[s]=h[r],h[r]=e}return h},a.choose=function(h){return h[Math.floor(a.random()*h.length)]},a.isElement=function(h){return typeof HTMLElement<"u"?h instanceof HTMLElement:!!(h&&h.nodeType&&h.nodeName)},a.isArray=function(h){return Object.prototype.toString.call(h)==="[object Array]"},a.isFunction=function(h){return typeof h=="function"},a.isPlainObject=function(h){return typeof h=="object"&&h.constructor===Object},a.isString=function(h){return toString.call(h)==="[object String]"},a.clamp=function(h,s,r){return h<s?s:h>r?r:h},a.sign=function(h){return h<0?-1:1},a.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-a._nowStartTime},a.random=function(h,s){return h=typeof h<"u"?h:0,s=typeof s<"u"?s:1,h+v()*(s-h)};var v=function(){return a._seed=(a._seed*9301+49297)%233280,a._seed/233280};a.colorToNumber=function(h){return h=h.replace("#",""),h.length==3&&(h=h.charAt(0)+h.charAt(0)+h.charAt(1)+h.charAt(1)+h.charAt(2)+h.charAt(2)),parseInt(h,16)},a.logLevel=1,a.log=function(){console&&a.logLevel>0&&a.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.info=function(){console&&a.logLevel>0&&a.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.warn=function(){console&&a.logLevel>0&&a.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.warnOnce=function(){var h=Array.prototype.slice.call(arguments).join(" ");a._warnedOnce[h]||(a.warn(h),a._warnedOnce[h]=!0)},a.deprecated=function(h,s,r){h[s]=a.chain(function(){a.warnOnce("\u{1F505} deprecated \u{1F505}",r)},h[s])},a.nextId=function(){return a._nextId++},a.indexOf=function(h,s){if(h.indexOf)return h.indexOf(s);for(var r=0;r<h.length;r++)if(h[r]===s)return r;return-1},a.map=function(h,s){if(h.map)return h.map(s);for(var r=[],e=0;e<h.length;e+=1)r.push(s(h[e]));return r},a.topologicalSort=function(h){var s=[],r=[],e=[];for(var n in h)!r[n]&&!e[n]&&a._topologicalSort(n,r,e,h,s);return s},a._topologicalSort=function(h,s,r,e,n){var l=e[h]||[];r[h]=!0;for(var i=0;i<l.length;i+=1){var u=l[i];r[u]||s[u]||a._topologicalSort(u,s,r,e,n)}r[h]=!1,s[h]=!0,n.push(h)},a.chain=function(){for(var h=[],s=0;s<arguments.length;s+=1){var r=arguments[s];r._chained?h.push.apply(h,r._chained):h.push(r)}var e=function(){for(var n,l=new Array(arguments.length),i=0,u=arguments.length;i<u;i++)l[i]=arguments[i];for(i=0;i<h.length;i+=1){var f=h[i].apply(n,l);typeof f<"u"&&(n=f)}return n};return e._chained=h,e},a.chainPathBefore=function(h,s,r){return a.set(h,s,a.chain(r,a.get(h,s)))},a.chainPathAfter=function(h,s,r){return a.set(h,s,a.chain(a.get(h,s),r))},a.setDecomp=function(h){a._decomp=h},a.getDecomp=function(){var h=a._decomp;try{!h&&typeof window<"u"&&(h=window.decomp),!h&&typeof t.g<"u"&&(h=t.g.decomp)}catch{h=null}return h}}()},48413:(o,g,t)=>{var a={};o.exports=a;var v=t(53614),h=t(66272),s=t(81388),r=t(99561),e=t(35810),n=t(69351),l=t(48140),i=t(53402),u=t(22562);(function(){a._deltaMax=16.666666666666668,a.create=function(f){f=f||{};var c={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},d=i.extend(c,f);return d.world=f.world||n.create({label:"World"}),d.pairs=f.pairs||r.create(),d.detector=f.detector||s.create(),d.detector.pairs=d.pairs,d.grid={buckets:[]},d.world.gravity=d.gravity,d.broadphase=d.grid,d.metrics={},d},a.update=function(f,c){var d=i.now(),p=f.world,m=f.detector,y=f.pairs,x=f.timing,C=x.timestamp,E;c>a._deltaMax&&i.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",a._deltaMax.toFixed(3),"ms."),c=typeof c<"u"?c:i._baseDelta,c*=x.timeScale,x.timestamp+=c,x.lastDelta=c;var R={timestamp:x.timestamp,delta:c};e.trigger(f,"beforeUpdate",R);var M=n.allBodies(p),w=n.allConstraints(p),D=n.allComposites(p);for(p.isModified&&(s.setBodies(m,M),n.setModified(p,!1,!1,!0)),f.enableSleeping&&v.update(M,c),a._bodiesApplyGravity(M,f.gravity),a.wrap(M,D),a.attractors(M),c>0&&a._bodiesUpdate(M,c),e.trigger(f,"beforeSolve",R),l.preSolveAll(M),E=0;E<f.constraintIterations;E++)l.solveAll(w,c);l.postSolveAll(M);var F=s.collisions(m);r.update(y,F,C),f.enableSleeping&&v.afterCollisions(y.list),y.collisionStart.length>0&&e.trigger(f,"collisionStart",{pairs:y.collisionStart,timestamp:x.timestamp,delta:c});var I=i.clamp(20/f.positionIterations,0,1);for(h.preSolvePosition(y.list),E=0;E<f.positionIterations;E++)h.solvePosition(y.list,c,I);for(h.postSolvePosition(M),l.preSolveAll(M),E=0;E<f.constraintIterations;E++)l.solveAll(w,c);for(l.postSolveAll(M),h.preSolveVelocity(y.list),E=0;E<f.velocityIterations;E++)h.solveVelocity(y.list,c);return a._bodiesUpdateVelocities(M),y.collisionActive.length>0&&e.trigger(f,"collisionActive",{pairs:y.collisionActive,timestamp:x.timestamp,delta:c}),y.collisionEnd.length>0&&e.trigger(f,"collisionEnd",{pairs:y.collisionEnd,timestamp:x.timestamp,delta:c}),a._bodiesClearForces(M),e.trigger(f,"afterUpdate",R),f.timing.lastElapsed=i.now()-d,f},a.merge=function(f,c){if(i.extend(f,c),c.world){f.world=c.world,a.clear(f);for(var d=n.allBodies(f.world),p=0;p<d.length;p++){var m=d[p];v.set(m,!1),m.id=i.nextId()}}},a.clear=function(f){r.clear(f.pairs),s.clear(f.detector)},a._bodiesClearForces=function(f){for(var c=f.length,d=0;d<c;d++){var p=f[d];p.force.x=0,p.force.y=0,p.torque=0}},a._bodiesApplyGravity=function(f,c){var d=typeof c.scale<"u"?c.scale:.001,p=f.length;if(!(c.x===0&&c.y===0||d===0))for(var m=0;m<p;m++){var y=f[m];y.ignoreGravity||y.isStatic||y.isSleeping||(y.force.y+=y.mass*c.y*d,y.force.x+=y.mass*c.x*d)}},a._bodiesUpdate=function(f,c){for(var d=f.length,p=0;p<d;p++){var m=f[p];m.isStatic||m.isSleeping||u.update(m,c)}},a._bodiesUpdateVelocities=function(f){for(var c=f.length,d=0;d<c;d++)u.updateVelocities(f[d])},a.wrap=function(f,c){for(var d=0;d<f.length;d+=1){var p=f[d];p.wrapBounds!==null&&u.wrap(p,p.wrapBounds)}for(d=0;d<c.length;d+=1){var m=c[d];m.wrapBounds!==null&&n.wrap(m,m.wrapBounds)}},a.attractors=function(f){for(var c=0;c<f.length;c++){var d=f[c],p=d.attractors;if(p&&p.length>0)for(var m=0;m<f.length;m++){var y=f[m];if(c!==m)for(var x=0;x<p.length;x++){var C=p[x],E=C;i.isFunction(C)&&(E=C(d,y)),E&&u.applyForce(y,y.position,E)}}}}})()},35810:(o,g,t)=>{var a={};o.exports=a;var v=t(53402);(function(){a.on=function(h,s,r){for(var e=s.split(" "),n,l=0;l<e.length;l++)n=e[l],h.events=h.events||{},h.events[n]=h.events[n]||[],h.events[n].push(r);return r},a.off=function(h,s,r){if(!s){h.events={};return}typeof s=="function"&&(r=s,s=v.keys(h.events).join(" "));for(var e=s.split(" "),n=0;n<e.length;n++){var l=h.events[e[n]],i=[];if(r&&l)for(var u=0;u<l.length;u++)l[u]!==r&&i.push(l[u]);h.events[e[n]]=i}},a.trigger=function(h,s,r){var e,n,l,i,u=h.events;if(u&&v.keys(u).length>0){r||(r={}),e=s.split(" ");for(var f=0;f<e.length;f++)if(n=e[f],l=u[n],l){i=v.clone(r,!1),i.name=n,i.source=h;for(var c=0;c<l.length;c++)l[c].apply(h,[i])}}}})()},6790:(o,g,t)=>{var a={};o.exports=a;var v=t(73832),h=t(53402);(function(){a.name="matter-js",a.version="0.20.0",a.uses=[],a.used=[],a.use=function(){v.use(a,Array.prototype.slice.call(arguments))},a.before=function(s,r){return s=s.replace(/^Matter./,""),h.chainPathBefore(a,s,r)},a.after=function(s,r){return s=s.replace(/^Matter./,""),h.chainPathAfter(a,s,r)}})()},73832:(o,g,t)=>{var a={};o.exports=a;var v=t(53402);(function(){a._registry={},a.register=function(h){if(a.isPlugin(h)||v.warn("Plugin.register:",a.toString(h),"does not implement all required fields."),h.name in a._registry){var s=a._registry[h.name],r=a.versionParse(h.version).number,e=a.versionParse(s.version).number;r>e?(v.warn("Plugin.register:",a.toString(s),"was upgraded to",a.toString(h)),a._registry[h.name]=h):r<e?v.warn("Plugin.register:",a.toString(s),"can not be downgraded to",a.toString(h)):h!==s&&v.warn("Plugin.register:",a.toString(h),"is already registered to different plugin object")}else a._registry[h.name]=h;return h},a.resolve=function(h){return a._registry[a.dependencyParse(h).name]},a.toString=function(h){return typeof h=="string"?h:(h.name||"anonymous")+"@"+(h.version||h.range||"0.0.0")},a.isPlugin=function(h){return h&&h.name&&h.version&&h.install},a.isUsed=function(h,s){return h.used.indexOf(s)>-1},a.isFor=function(h,s){var r=h.for&&a.dependencyParse(h.for);return!h.for||s.name===r.name&&a.versionSatisfies(s.version,r.range)},a.use=function(h,s){if(h.uses=(h.uses||[]).concat(s||[]),h.uses.length===0){v.warn("Plugin.use:",a.toString(h),"does not specify any dependencies to install.");return}for(var r=a.dependencies(h),e=v.topologicalSort(r),n=[],l=0;l<e.length;l+=1)if(e[l]!==h.name){var i=a.resolve(e[l]);if(!i){n.push("\u274C "+e[l]);continue}a.isUsed(h,i.name)||(a.isFor(i,h)||(v.warn("Plugin.use:",a.toString(i),"is for",i.for,"but installed on",a.toString(h)+"."),i._warned=!0),i.install?i.install(h):(v.warn("Plugin.use:",a.toString(i),"does not specify an install function."),i._warned=!0),i._warned?(n.push("\u{1F536} "+a.toString(i)),delete i._warned):n.push("\u2705 "+a.toString(i)),h.used.push(i.name))}n.length>0&&!i.silent&&v.info(n.join("  "))},a.dependencies=function(h,s){var r=a.dependencyParse(h),e=r.name;if(s=s||{},!(e in s)){h=a.resolve(h)||h,s[e]=v.map(h.uses||[],function(l){a.isPlugin(l)&&a.register(l);var i=a.dependencyParse(l),u=a.resolve(l);return u&&!a.versionSatisfies(u.version,i.range)?(v.warn("Plugin.dependencies:",a.toString(u),"does not satisfy",a.toString(i),"used by",a.toString(r)+"."),u._warned=!0,h._warned=!0):u||(v.warn("Plugin.dependencies:",a.toString(l),"used by",a.toString(r),"could not be resolved."),h._warned=!0),i.name});for(var n=0;n<s[e].length;n+=1)a.dependencies(s[e][n],s);return s}},a.dependencyParse=function(h){if(v.isString(h)){var s=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return s.test(h)||v.warn("Plugin.dependencyParse:",h,"is not a valid dependency string."),{name:h.split("@")[0],range:h.split("@")[1]||"*"}}return{name:h.name,range:h.range||h.version}},a.versionParse=function(h){var s=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;s.test(h)||v.warn("Plugin.versionParse:",h,"is not a valid version or range.");var r=s.exec(h),e=Number(r[4]),n=Number(r[5]),l=Number(r[6]);return{isRange:!!(r[1]||r[2]),version:r[3],range:h,operator:r[1]||r[2]||"",major:e,minor:n,patch:l,parts:[e,n,l],prerelease:r[7],number:e*1e8+n*1e4+l}},a.versionSatisfies=function(h,s){s=s||"*";var r=a.versionParse(s),e=a.versionParse(h);if(r.isRange){if(r.operator==="*"||h==="*")return!0;if(r.operator===">")return e.number>r.number;if(r.operator===">=")return e.number>=r.number;if(r.operator==="~")return e.major===r.major&&e.minor===r.minor&&e.patch>=r.patch;if(r.operator==="^")return r.major>0?e.major===r.major&&e.number>=r.number:r.minor>0?e.minor===r.minor&&e.patch>=r.patch:e.patch===r.patch}return h===s||h==="*"}})()},13037:(o,g,t)=>{var a={};o.exports=a;var v=t(35810),h=t(48413),s=t(53402);(function(){a._maxFrameDelta=66.66666666666667,a._frameDeltaFallback=16.666666666666668,a._timeBufferMargin=1.5,a._elapsedNextEstimate=1,a._smoothingLowerBound=.1,a._smoothingUpperBound=.9,a.create=function(e){var n={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},l=s.extend(n,e);return l.fps=0,l},a.run=function(e,n){return e.timeBuffer=a._frameDeltaFallback,function l(i){e.frameRequestId=a._onNextFrame(e,l),i&&e.enabled&&a.tick(e,n,i)}(),e},a.tick=function(e,n,l){var i=s.now(),u=e.delta,f=0,c=l-e.timeLastTick;if((!c||!e.timeLastTick||c>Math.max(a._maxFrameDelta,e.maxFrameTime))&&(c=e.frameDelta||a._frameDeltaFallback),e.frameDeltaSmoothing){e.frameDeltaHistory.push(c),e.frameDeltaHistory=e.frameDeltaHistory.slice(-e.frameDeltaHistorySize);var d=e.frameDeltaHistory.slice(0).sort(),p=e.frameDeltaHistory.slice(d.length*a._smoothingLowerBound,d.length*a._smoothingUpperBound),m=r(p);c=m||c}e.frameDeltaSnapping&&(c=1e3/Math.round(1e3/c)),e.frameDelta=c,e.timeLastTick=l,e.timeBuffer+=e.frameDelta,e.timeBuffer=s.clamp(e.timeBuffer,0,e.frameDelta+u*a._timeBufferMargin),e.lastUpdatesDeferred=0;var y=e.maxUpdates||Math.ceil(e.maxFrameTime/u),x={timestamp:n.timing.timestamp};v.trigger(e,"beforeTick",x),v.trigger(e,"tick",x);for(var C=s.now();u>0&&e.timeBuffer>=u*a._timeBufferMargin;){v.trigger(e,"beforeUpdate",x),h.update(n,u),v.trigger(e,"afterUpdate",x),e.timeBuffer-=u,f+=1;var E=s.now()-i,R=s.now()-C,M=E+a._elapsedNextEstimate*R/f;if(f>=y||M>e.maxFrameTime){e.lastUpdatesDeferred=Math.round(Math.max(0,e.timeBuffer/u-a._timeBufferMargin));break}}n.timing.lastUpdatesPerFrame=f,v.trigger(e,"afterTick",x),e.frameDeltaHistory.length>=100&&(e.lastUpdatesDeferred&&Math.round(e.frameDelta/u)>y?s.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):e.lastUpdatesDeferred&&s.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof e.isFixed<"u"&&s.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(e.deltaMin||e.deltaMax)&&s.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),e.fps!==0&&s.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},a.stop=function(e){a._cancelNextFrame(e)},a._onNextFrame=function(e,n){if(typeof window<"u"&&window.requestAnimationFrame)e.frameRequestId=window.requestAnimationFrame(n);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return e.frameRequestId},a._cancelNextFrame=function(e){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(e.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var r=function(e){for(var n=0,l=e.length,i=0;i<l;i+=1)n+=e[i];return n/l||0};a._mean=r})()},53614:(o,g,t)=>{var a={};o.exports=a;var v=t(22562),h=t(35810),s=t(53402);(function(){a._motionWakeThreshold=.18,a._motionSleepThreshold=.08,a._minBias=.9,a.update=function(r,e){for(var n=e/s._baseDelta,l=a._motionSleepThreshold,i=0;i<r.length;i++){var u=r[i],f=v.getSpeed(u),c=v.getAngularSpeed(u),d=f*f+c*c;if(u.force.x!==0||u.force.y!==0){a.set(u,!1);continue}var p=Math.min(u.motion,d),m=Math.max(u.motion,d);u.motion=a._minBias*p+(1-a._minBias)*m,u.sleepThreshold>0&&u.motion<l?(u.sleepCounter+=1,u.sleepCounter>=u.sleepThreshold/n&&a.set(u,!0)):u.sleepCounter>0&&(u.sleepCounter-=1)}},a.afterCollisions=function(r){for(var e=a._motionSleepThreshold,n=0;n<r.length;n++){var l=r[n];if(l.isActive){var i=l.collision,u=i.bodyA.parent,f=i.bodyB.parent;if(!(u.isSleeping&&f.isSleeping||u.isStatic||f.isStatic)&&(u.isSleeping||f.isSleeping)){var c=u.isSleeping&&!u.isStatic?u:f,d=c===u?f:u;!c.isStatic&&d.motion>e&&a.set(c,!1)}}}},a.set=function(r,e){var n=r.isSleeping;e?(r.isSleeping=!0,r.sleepCounter=r.sleepThreshold,r.positionImpulse.x=0,r.positionImpulse.y=0,r.positionPrev.x=r.position.x,r.positionPrev.y=r.position.y,r.anglePrev=r.angle,r.speed=0,r.angularSpeed=0,r.motion=0,n||h.trigger(r,"sleepStart")):(r.isSleeping=!1,r.sleepCounter=0,n&&h.trigger(r,"sleepEnd"))}})()},66280:(o,g,t)=>{var a={};o.exports=a;var v=t(41598),h=t(53402),s=t(22562),r=t(15647),e=t(31725);(function(){a.rectangle=function(n,l,i,u,f){f=f||{};var c={label:"Rectangle Body",position:{x:n,y:l},vertices:v.fromPath("L 0 0 L "+i+" 0 L "+i+" "+u+" L 0 "+u)};if(f.chamfer){var d=f.chamfer;c.vertices=v.chamfer(c.vertices,d.radius,d.quality,d.qualityMin,d.qualityMax),delete f.chamfer}return s.create(h.extend({},c,f))},a.trapezoid=function(n,l,i,u,f,c){c=c||{},f>=1&&h.warn("Bodies.trapezoid: slope parameter must be < 1."),f*=.5;var d=(1-f*2)*i,p=i*f,m=p+d,y=m+p,x;f<.5?x="L 0 0 L "+p+" "+-u+" L "+m+" "+-u+" L "+y+" 0":x="L 0 0 L "+m+" "+-u+" L "+y+" 0";var C={label:"Trapezoid Body",position:{x:n,y:l},vertices:v.fromPath(x)};if(c.chamfer){var E=c.chamfer;C.vertices=v.chamfer(C.vertices,E.radius,E.quality,E.qualityMin,E.qualityMax),delete c.chamfer}return s.create(h.extend({},C,c))},a.circle=function(n,l,i,u,f){u=u||{};var c={label:"Circle Body",circleRadius:i};f=f||25;var d=Math.ceil(Math.max(10,Math.min(f,i)));return d%2===1&&(d+=1),a.polygon(n,l,d,i,h.extend({},c,u))},a.polygon=function(n,l,i,u,f){if(f=f||{},i<3)return a.circle(n,l,u,f);for(var c=2*Math.PI/i,d="",p=c*.5,m=0;m<i;m+=1){var y=p+m*c,x=Math.cos(y)*u,C=Math.sin(y)*u;d+="L "+x.toFixed(3)+" "+C.toFixed(3)+" "}var E={label:"Polygon Body",position:{x:n,y:l},vertices:v.fromPath(d)};if(f.chamfer){var R=f.chamfer;E.vertices=v.chamfer(E.vertices,R.radius,R.quality,R.qualityMin,R.qualityMax),delete f.chamfer}return s.create(h.extend({},E,f))},a.fromVertices=function(n,l,i,u,f,c,d,p){var m=h.getDecomp(),y,x,C,E,R,M,w,D,F,I,L;for(y=!!(m&&m.quickDecomp),u=u||{},C=[],f=typeof f<"u"?f:!1,c=typeof c<"u"?c:.01,d=typeof d<"u"?d:10,p=typeof p<"u"?p:.01,h.isArray(i[0])||(i=[i]),I=0;I<i.length;I+=1)if(M=i[I],E=v.isConvex(M),R=!E,R&&!y&&h.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),E||!y)E?M=v.clockwiseSort(M):M=v.hull(M),C.push({position:{x:n,y:l},vertices:M});else{var B=M.map(function(H){return[H.x,H.y]});m.makeCCW(B),c!==!1&&m.removeCollinearPoints(B,c),p!==!1&&m.removeDuplicatePoints&&m.removeDuplicatePoints(B,p);var G=m.quickDecomp(B);for(w=0;w<G.length;w++){var V=G[w],X=V.map(function(H){return{x:H[0],y:H[1]}});d>0&&v.area(X)<d||C.push({position:v.centre(X),vertices:X})}}for(w=0;w<C.length;w++)C[w]=s.create(h.extend(C[w],u));if(f){var b=5;for(w=0;w<C.length;w++){var U=C[w];for(D=w+1;D<C.length;D++){var O=C[D];if(r.overlaps(U.bounds,O.bounds)){var z=U.vertices,N=O.vertices;for(F=0;F<U.vertices.length;F++)for(L=0;L<O.vertices.length;L++){var Y=e.magnitudeSquared(e.sub(z[(F+1)%z.length],N[L])),W=e.magnitudeSquared(e.sub(z[F],N[(L+1)%N.length]));Y<b&&W<b&&(z[F].isInternal=!0,N[L].isInternal=!0)}}}}}return C.length>1?(x=s.create(h.extend({parts:C.slice(0)},u)),s.setPosition(x,{x:n,y:l}),x):C[0]},a.flagCoincidentParts=function(n,l){l===void 0&&(l=5);for(var i=0;i<n.length;i++)for(var u=n[i],f=i+1;f<n.length;f++){var c=n[f];if(r.overlaps(u.bounds,c.bounds))for(var d=u.vertices,p=c.vertices,m=0;m<u.vertices.length;m++)for(var y=0;y<c.vertices.length;y++){var x=e.magnitudeSquared(e.sub(d[(m+1)%d.length],p[y])),C=e.magnitudeSquared(e.sub(d[m],p[(y+1)%p.length]));x<l&&C<l&&(d[m].isInternal=!0,p[y].isInternal=!0)}}return n}})()},74116:(o,g,t)=>{var a={};o.exports=a;var v=t(69351),h=t(48140),s=t(53402),r=t(22562),e=t(66280);(function(){a.stack=function(n,l,i,u,f,c,d){for(var p=v.create({label:"Stack"}),m=n,y=l,x,C=0,E=0;E<u;E++){for(var R=0,M=0;M<i;M++){var w=d(m,y,M,E,x,C);if(w){var D=w.bounds.max.y-w.bounds.min.y,F=w.bounds.max.x-w.bounds.min.x;D>R&&(R=D),r.translate(w,{x:F*.5,y:D*.5}),m=w.bounds.max.x+f,v.addBody(p,w),x=w,C+=1}else m+=f}y+=R+c,m=n}return p},a.chain=function(n,l,i,u,f,c){for(var d=n.bodies,p=1;p<d.length;p++){var m=d[p-1],y=d[p],x=m.bounds.max.y-m.bounds.min.y,C=m.bounds.max.x-m.bounds.min.x,E=y.bounds.max.y-y.bounds.min.y,R=y.bounds.max.x-y.bounds.min.x,M={bodyA:m,pointA:{x:C*l,y:x*i},bodyB:y,pointB:{x:R*u,y:E*f}},w=s.extend(M,c);v.addConstraint(n,h.create(w))}return n.label+=" Chain",n},a.mesh=function(n,l,i,u,f){var c=n.bodies,d,p,m,y,x;for(d=0;d<i;d++){for(p=1;p<l;p++)m=c[p-1+d*l],y=c[p+d*l],v.addConstraint(n,h.create(s.extend({bodyA:m,bodyB:y},f)));if(d>0)for(p=0;p<l;p++)m=c[p+(d-1)*l],y=c[p+d*l],v.addConstraint(n,h.create(s.extend({bodyA:m,bodyB:y},f))),u&&p>0&&(x=c[p-1+(d-1)*l],v.addConstraint(n,h.create(s.extend({bodyA:x,bodyB:y},f)))),u&&p<l-1&&(x=c[p+1+(d-1)*l],v.addConstraint(n,h.create(s.extend({bodyA:x,bodyB:y},f))))}return n.label+=" Mesh",n},a.pyramid=function(n,l,i,u,f,c,d){return a.stack(n,l,i,u,f,c,function(p,m,y,x,C,E){var R=Math.min(u,Math.ceil(i/2)),M=C?C.bounds.max.x-C.bounds.min.x:0;if(!(x>R)){x=R-x;var w=x,D=i-1-x;if(!(y<w||y>D)){E===1&&r.translate(C,{x:(y+(i%2===1?1:-1))*M,y:0});var F=C?y*M:0;return d(n+F+y*f,m,y,x,C,E)}}})},a.newtonsCradle=function(n,l,i,u,f){for(var c=v.create({label:"Newtons Cradle"}),d=0;d<i;d++){var p=1.9,m=e.circle(n+d*(u*p),l+f,u,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),y=h.create({pointA:{x:n+d*(u*p),y:l},bodyB:m});v.addBody(c,m),v.addConstraint(c,y)}return c},a.car=function(n,l,i,u,f){var c=r.nextGroup(!0),d=20,p=-i*.5+d,m=i*.5-d,y=0,x=v.create({label:"Car"}),C=e.rectangle(n,l,i,u,{collisionFilter:{group:c},chamfer:{radius:u*.5},density:2e-4}),E=e.circle(n+p,l+y,f,{collisionFilter:{group:c},friction:.8}),R=e.circle(n+m,l+y,f,{collisionFilter:{group:c},friction:.8}),M=h.create({bodyB:C,pointB:{x:p,y},bodyA:E,stiffness:1,length:0}),w=h.create({bodyB:C,pointB:{x:m,y},bodyA:R,stiffness:1,length:0});return v.addBody(x,C),v.addBody(x,E),v.addBody(x,R),v.addConstraint(x,M),v.addConstraint(x,w),x},a.softBody=function(n,l,i,u,f,c,d,p,m,y){m=s.extend({inertia:1/0},m),y=s.extend({stiffness:.2,render:{type:"line",anchors:!1}},y);var x=a.stack(n,l,i,u,f,c,function(C,E){return e.circle(C,E,p,m)});return a.mesh(x,i,u,d,y),x.label="Soft Body",x}})()},66615:(o,g,t)=>{var a={};o.exports=a;var v=t(31725),h=t(53402);(function(){a.fromVertices=function(s){for(var r={},e=0;e<s.length;e++){var n=(e+1)%s.length,l=v.normalise({x:s[n].y-s[e].y,y:s[e].x-s[n].x}),i=l.y===0?1/0:l.x/l.y;i=i.toFixed(3).toString(),r[i]=l}return h.values(r)},a.rotate=function(s,r){if(r!==0)for(var e=Math.cos(r),n=Math.sin(r),l=0;l<s.length;l++){var i=s[l],u;u=i.x*e-i.y*n,i.y=i.x*n+i.y*e,i.x=u}}})()},15647:o=>{var g={};o.exports=g,function(){g.create=function(t){var a={min:{x:0,y:0},max:{x:0,y:0}};return t&&g.update(a,t),a},g.update=function(t,a,v){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var h=0;h<a.length;h++){var s=a[h];s.x>t.max.x&&(t.max.x=s.x),s.x<t.min.x&&(t.min.x=s.x),s.y>t.max.y&&(t.max.y=s.y),s.y<t.min.y&&(t.min.y=s.y)}v&&(v.x>0?t.max.x+=v.x:t.min.x+=v.x,v.y>0?t.max.y+=v.y:t.min.y+=v.y)},g.contains=function(t,a){return a.x>=t.min.x&&a.x<=t.max.x&&a.y>=t.min.y&&a.y<=t.max.y},g.overlaps=function(t,a){return t.min.x<=a.max.x&&t.max.x>=a.min.x&&t.max.y>=a.min.y&&t.min.y<=a.max.y},g.translate=function(t,a){t.min.x+=a.x,t.max.x+=a.x,t.min.y+=a.y,t.max.y+=a.y},g.shift=function(t,a){var v=t.max.x-t.min.x,h=t.max.y-t.min.y;t.min.x=a.x,t.max.x=a.x+v,t.min.y=a.y,t.max.y=a.y+h},g.wrap=function(t,a,v){var h=null,s=null;if(typeof a.min.x<"u"&&typeof a.max.x<"u"&&(t.min.x>a.max.x?h=a.min.x-t.max.x:t.max.x<a.min.x&&(h=a.max.x-t.min.x)),typeof a.min.y<"u"&&typeof a.max.y<"u"&&(t.min.y>a.max.y?s=a.min.y-t.max.y:t.max.y<a.min.y&&(s=a.max.y-t.min.y)),h!==null||s!==null)return{x:h||0,y:s||0}}}()},74058:(o,g,t)=>{var a={};o.exports=a;var v=t(15647),h=t(53402);(function(){a.pathToVertices=function(s,r){typeof window<"u"&&!("SVGPathSeg"in window)&&h.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var e,n,l,i,u,f,c,d,p,m,y=[],x,C,E=0,R=0,M=0;r=r||15;var w=function(F,I,L){var B=L%2===1&&L>1;if(!p||F!=p.x||I!=p.y){p&&B?(x=p.x,C=p.y):(x=0,C=0);var G={x:x+F,y:C+I};(B||!p)&&(p=G),y.push(G),R=x+F,M=C+I}},D=function(F){var I=F.pathSegTypeAsLetter.toUpperCase();if(I!=="Z"){switch(I){case"M":case"L":case"T":case"C":case"S":case"Q":R=F.x,M=F.y;break;case"H":R=F.x;break;case"V":M=F.y;break}w(R,M,F.pathSegType)}};for(a._svgPathToAbsolute(s),l=s.getTotalLength(),f=[],e=0;e<s.pathSegList.numberOfItems;e+=1)f.push(s.pathSegList.getItem(e));for(c=f.concat();E<l;){if(m=s.getPathSegAtLength(E),u=f[m],u!=d){for(;c.length&&c[0]!=u;)D(c.shift());d=u}switch(u.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":i=s.getPointAtLength(E),w(i.x,i.y,0);break}E+=r}for(e=0,n=c.length;e<n;++e)D(c[e]);return y},a._svgPathToAbsolute=function(s){for(var r,e,n,l,i,u,f=s.pathSegList,c=0,d=0,p=f.numberOfItems,m=0;m<p;++m){var y=f.getItem(m),x=y.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(x))"x"in y&&(c=y.x),"y"in y&&(d=y.y);else switch("x1"in y&&(n=c+y.x1),"x2"in y&&(i=c+y.x2),"y1"in y&&(l=d+y.y1),"y2"in y&&(u=d+y.y2),"x"in y&&(c+=y.x),"y"in y&&(d+=y.y),x){case"m":f.replaceItem(s.createSVGPathSegMovetoAbs(c,d),m);break;case"l":f.replaceItem(s.createSVGPathSegLinetoAbs(c,d),m);break;case"h":f.replaceItem(s.createSVGPathSegLinetoHorizontalAbs(c),m);break;case"v":f.replaceItem(s.createSVGPathSegLinetoVerticalAbs(d),m);break;case"c":f.replaceItem(s.createSVGPathSegCurvetoCubicAbs(c,d,n,l,i,u),m);break;case"s":f.replaceItem(s.createSVGPathSegCurvetoCubicSmoothAbs(c,d,i,u),m);break;case"q":f.replaceItem(s.createSVGPathSegCurvetoQuadraticAbs(c,d,n,l),m);break;case"t":f.replaceItem(s.createSVGPathSegCurvetoQuadraticSmoothAbs(c,d),m);break;case"a":f.replaceItem(s.createSVGPathSegArcAbs(c,d,y.r1,y.r2,y.angle,y.largeArcFlag,y.sweepFlag),m);break;case"z":case"Z":c=r,d=e;break}(x=="M"||x=="m")&&(r=c,e=d)}}})()},31725:o=>{var g={};o.exports=g,function(){g.create=function(t,a){return{x:t||0,y:a||0}},g.clone=function(t){return{x:t.x,y:t.y}},g.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},g.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},g.rotate=function(t,a,v){var h=Math.cos(a),s=Math.sin(a);v||(v={});var r=t.x*h-t.y*s;return v.y=t.x*s+t.y*h,v.x=r,v},g.rotateAbout=function(t,a,v,h){var s=Math.cos(a),r=Math.sin(a);h||(h={});var e=v.x+((t.x-v.x)*s-(t.y-v.y)*r);return h.y=v.y+((t.x-v.x)*r+(t.y-v.y)*s),h.x=e,h},g.normalise=function(t){var a=g.magnitude(t);return a===0?{x:0,y:0}:{x:t.x/a,y:t.y/a}},g.dot=function(t,a){return t.x*a.x+t.y*a.y},g.cross=function(t,a){return t.x*a.y-t.y*a.x},g.cross3=function(t,a,v){return(a.x-t.x)*(v.y-t.y)-(a.y-t.y)*(v.x-t.x)},g.add=function(t,a,v){return v||(v={}),v.x=t.x+a.x,v.y=t.y+a.y,v},g.sub=function(t,a,v){return v||(v={}),v.x=t.x-a.x,v.y=t.y-a.y,v},g.mult=function(t,a){return{x:t.x*a,y:t.y*a}},g.div=function(t,a){return{x:t.x/a,y:t.y/a}},g.perp=function(t,a){return a=a===!0?-1:1,{x:a*-t.y,y:a*t.x}},g.neg=function(t){return{x:-t.x,y:-t.y}},g.angle=function(t,a){return Math.atan2(a.y-t.y,a.x-t.x)},g._temp=[g.create(),g.create(),g.create(),g.create(),g.create(),g.create()]}()},41598:(o,g,t)=>{var a={};o.exports=a;var v=t(31725),h=t(53402);(function(){a.create=function(s,r){for(var e=[],n=0;n<s.length;n++){var l=s[n],i={x:l.x,y:l.y,index:n,body:r,isInternal:!1};e.push(i)}return e},a.fromPath=function(s,r){var e=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,n=[];return s.replace(e,function(l,i,u){n.push({x:parseFloat(i),y:parseFloat(u)})}),a.create(n,r)},a.centre=function(s){for(var r=a.area(s,!0),e={x:0,y:0},n,l,i,u=0;u<s.length;u++)i=(u+1)%s.length,n=v.cross(s[u],s[i]),l=v.mult(v.add(s[u],s[i]),n),e=v.add(e,l);return v.div(e,6*r)},a.mean=function(s){for(var r={x:0,y:0},e=0;e<s.length;e++)r.x+=s[e].x,r.y+=s[e].y;return v.div(r,s.length)},a.area=function(s,r){for(var e=0,n=s.length-1,l=0;l<s.length;l++)e+=(s[n].x-s[l].x)*(s[n].y+s[l].y),n=l;return r?e/2:Math.abs(e)/2},a.inertia=function(s,r){for(var e=0,n=0,l=s,i,u,f=0;f<l.length;f++)u=(f+1)%l.length,i=Math.abs(v.cross(l[u],l[f])),e+=i*(v.dot(l[u],l[u])+v.dot(l[u],l[f])+v.dot(l[f],l[f])),n+=i;return r/6*(e/n)},a.translate=function(s,r,e){e=typeof e<"u"?e:1;var n=s.length,l=r.x*e,i=r.y*e,u;for(u=0;u<n;u++)s[u].x+=l,s[u].y+=i;return s},a.rotate=function(s,r,e){if(r!==0){var n=Math.cos(r),l=Math.sin(r),i=e.x,u=e.y,f=s.length,c,d,p,m;for(m=0;m<f;m++)c=s[m],d=c.x-i,p=c.y-u,c.x=i+(d*n-p*l),c.y=u+(d*l+p*n);return s}},a.contains=function(s,r){for(var e=r.x,n=r.y,l=s.length,i=s[l-1],u,f=0;f<l;f++){if(u=s[f],(e-i.x)*(u.y-i.y)+(n-i.y)*(i.x-u.x)>0)return!1;i=u}return!0},a.scale=function(s,r,e,n){if(r===1&&e===1)return s;n=n||a.centre(s);for(var l,i,u=0;u<s.length;u++)l=s[u],i=v.sub(l,n),s[u].x=n.x+i.x*r,s[u].y=n.y+i.y*e;return s},a.chamfer=function(s,r,e,n,l){typeof r=="number"?r=[r]:r=r||[8],e=typeof e<"u"?e:-1,n=n||2,l=l||14;for(var i=[],u=0;u<s.length;u++){var f=s[u-1>=0?u-1:s.length-1],c=s[u],d=s[(u+1)%s.length],p=r[u<r.length?u:r.length-1];if(p===0){i.push(c);continue}var m=v.normalise({x:c.y-f.y,y:f.x-c.x}),y=v.normalise({x:d.y-c.y,y:c.x-d.x}),x=Math.sqrt(2*Math.pow(p,2)),C=v.mult(h.clone(m),p),E=v.normalise(v.mult(v.add(m,y),.5)),R=v.sub(c,v.mult(E,x)),M=e;e===-1&&(M=Math.pow(p,.32)*1.75),M=h.clamp(M,n,l),M%2===1&&(M+=1);for(var w=Math.acos(v.dot(m,y)),D=w/M,F=0;F<M;F++)i.push(v.add(v.rotate(C,D*F),R))}return i},a.clockwiseSort=function(s){var r=a.mean(s);return s.sort(function(e,n){return v.angle(r,e)-v.angle(r,n)}),s},a.isConvex=function(s){var r=0,e=s.length,n,l,i,u;if(e<3)return null;for(n=0;n<e;n++)if(l=(n+1)%e,i=(n+2)%e,u=(s[l].x-s[n].x)*(s[i].y-s[l].y),u-=(s[l].y-s[n].y)*(s[i].x-s[l].x),u<0?r|=1:u>0&&(r|=2),r===3)return!1;return r!==0?!0:null},a.hull=function(s){var r=[],e=[],n,l;for(s=s.slice(0),s.sort(function(i,u){var f=i.x-u.x;return f!==0?f:i.y-u.y}),l=0;l<s.length;l+=1){for(n=s[l];e.length>=2&&v.cross3(e[e.length-2],e[e.length-1],n)<=0;)e.pop();e.push(n)}for(l=s.length-1;l>=0;l-=1){for(n=s[l];r.length>=2&&v.cross3(r[r.length-2],r[r.length-1],n)<=0;)r.pop();r.push(n)}return r.pop(),e.pop(),r.concat(e)}})()},55973:o=>{o.exports={decomp:w,quickDecomp:L,isSimple:F,removeCollinearPoints:B,removeDuplicatePoints:G,makeCCW:d};function g(b,U,O){O=O||0;var z=[0,0],N,Y,W,H,$,j,Z;return N=b[1][1]-b[0][1],Y=b[0][0]-b[1][0],W=N*b[0][0]+Y*b[0][1],H=U[1][1]-U[0][1],$=U[0][0]-U[1][0],j=H*U[0][0]+$*U[0][1],Z=N*$-H*Y,V(Z,0,O)||(z[0]=($*W-Y*j)/Z,z[1]=(N*j-H*W)/Z),z}function t(b,U,O,z){var N=U[0]-b[0],Y=U[1]-b[1],W=z[0]-O[0],H=z[1]-O[1];if(W*Y-H*N===0)return!1;var $=(N*(O[1]-b[1])+Y*(b[0]-O[0]))/(W*Y-H*N),j=(W*(b[1]-O[1])+H*(O[0]-b[0]))/(H*N-W*Y);return $>=0&&$<=1&&j>=0&&j<=1}function a(b,U,O){return(U[0]-b[0])*(O[1]-b[1])-(O[0]-b[0])*(U[1]-b[1])}function v(b,U,O){return a(b,U,O)>0}function h(b,U,O){return a(b,U,O)>=0}function s(b,U,O){return a(b,U,O)<0}function r(b,U,O){return a(b,U,O)<=0}var e=[],n=[];function l(b,U,O,z){if(z){var N=e,Y=n;N[0]=U[0]-b[0],N[1]=U[1]-b[1],Y[0]=O[0]-U[0],Y[1]=O[1]-U[1];var W=N[0]*Y[0]+N[1]*Y[1],H=Math.sqrt(N[0]*N[0]+N[1]*N[1]),$=Math.sqrt(Y[0]*Y[0]+Y[1]*Y[1]),j=Math.acos(W/(H*$));return j<z}else return a(b,U,O)===0}function i(b,U){var O=U[0]-b[0],z=U[1]-b[1];return O*O+z*z}function u(b,U){var O=b.length;return b[U<0?U%O+O:U%O]}function f(b){b.length=0}function c(b,U,O,z){for(var N=O;N<z;N++)b.push(U[N])}function d(b){for(var U=0,O=b,z=1;z<b.length;++z)(O[z][1]<O[U][1]||O[z][1]===O[U][1]&&O[z][0]>O[U][0])&&(U=z);return v(u(b,U-1),u(b,U),u(b,U+1))?!1:(p(b),!0)}function p(b){for(var U=[],O=b.length,z=0;z!==O;z++)U.push(b.pop());for(var z=0;z!==O;z++)b[z]=U[z]}function m(b,U){return s(u(b,U-1),u(b,U),u(b,U+1))}var y=[],x=[];function C(b,U,O){var z,N,Y=y,W=x;if(h(u(b,U+1),u(b,U),u(b,O))&&r(u(b,U-1),u(b,U),u(b,O)))return!1;N=i(u(b,U),u(b,O));for(var H=0;H!==b.length;++H)if(!((H+1)%b.length===U||H===U)&&h(u(b,U),u(b,O),u(b,H+1))&&r(u(b,U),u(b,O),u(b,H))&&(Y[0]=u(b,U),Y[1]=u(b,O),W[0]=u(b,H),W[1]=u(b,H+1),z=g(Y,W),i(u(b,U),z)<N))return!1;return!0}function E(b,U,O){for(var z=0;z!==b.length;++z)if(!(z===U||z===O||(z+1)%b.length===U||(z+1)%b.length===O)&&t(u(b,U),u(b,O),u(b,z),u(b,z+1)))return!1;return!0}function R(b,U,O,z){var N=z||[];if(f(N),U<O)for(var Y=U;Y<=O;Y++)N.push(b[Y]);else{for(var Y=0;Y<=O;Y++)N.push(b[Y]);for(var Y=U;Y<b.length;Y++)N.push(b[Y])}return N}function M(b){for(var U=[],O=[],z=[],N=[],Y=Number.MAX_VALUE,W=0;W<b.length;++W)if(m(b,W)){for(var H=0;H<b.length;++H)if(C(b,W,H)){O=M(R(b,W,H,N)),z=M(R(b,H,W,N));for(var $=0;$<z.length;$++)O.push(z[$]);O.length<Y&&(U=O,Y=O.length,U.push([u(b,W),u(b,H)]))}}return U}function w(b){var U=M(b);return U.length>0?D(b,U):[b]}function D(b,U){if(U.length===0)return[b];if(U instanceof Array&&U.length&&U[0]instanceof Array&&U[0].length===2&&U[0][0]instanceof Array){for(var O=[b],z=0;z<U.length;z++)for(var N=U[z],Y=0;Y<O.length;Y++){var W=O[Y],H=D(W,N);if(H){O.splice(Y,1),O.push(H[0],H[1]);break}}return O}else{var N=U,z=b.indexOf(N[0]),Y=b.indexOf(N[1]);return z!==-1&&Y!==-1?[R(b,z,Y),R(b,Y,z)]:!1}}function F(b){var U=b,O;for(O=0;O<U.length-1;O++)for(var z=0;z<O-1;z++)if(t(U[O],U[O+1],U[z],U[z+1]))return!1;for(O=1;O<U.length-2;O++)if(t(U[0],U[U.length-1],U[O],U[O+1]))return!1;return!0}function I(b,U,O,z,N){N=N||0;var Y=U[1]-b[1],W=b[0]-U[0],H=Y*b[0]+W*b[1],$=z[1]-O[1],j=O[0]-z[0],Z=$*O[0]+j*O[1],J=Y*j-$*W;return V(J,0,N)?[0,0]:[(j*H-W*Z)/J,(Y*Z-$*H)/J]}function L(b,U,O,z,N,Y,W){Y=Y||100,W=W||0,N=N||25,U=typeof U<"u"?U:[],O=O||[],z=z||[];var H=[0,0],$=[0,0],j=[0,0],Z=0,J=0,K=0,Q=0,_=0,k=0,nt=0,st=[],at=[],q=b,et=b;if(et.length<3)return U;if(W++,W>Y)return console.warn("quickDecomp: max level ("+Y+") reached."),U;for(var it=0;it<b.length;++it)if(m(q,it)){O.push(q[it]),Z=J=Number.MAX_VALUE;for(var lt=0;lt<b.length;++lt)v(u(q,it-1),u(q,it),u(q,lt))&&r(u(q,it-1),u(q,it),u(q,lt-1))&&(j=I(u(q,it-1),u(q,it),u(q,lt),u(q,lt-1)),s(u(q,it+1),u(q,it),j)&&(K=i(q[it],j),K<J&&(J=K,$=j,k=lt))),v(u(q,it+1),u(q,it),u(q,lt+1))&&r(u(q,it+1),u(q,it),u(q,lt))&&(j=I(u(q,it+1),u(q,it),u(q,lt),u(q,lt+1)),v(u(q,it-1),u(q,it),j)&&(K=i(q[it],j),K<Z&&(Z=K,H=j,_=lt)));if(k===(_+1)%b.length)j[0]=($[0]+H[0])/2,j[1]=($[1]+H[1])/2,z.push(j),it<_?(c(st,q,it,_+1),st.push(j),at.push(j),k!==0&&c(at,q,k,q.length),c(at,q,0,it+1)):(it!==0&&c(st,q,it,q.length),c(st,q,0,_+1),st.push(j),at.push(j),c(at,q,k,it+1));else{if(k>_&&(_+=b.length),Q=Number.MAX_VALUE,_<k)return U;for(var lt=k;lt<=_;++lt)h(u(q,it-1),u(q,it),u(q,lt))&&r(u(q,it+1),u(q,it),u(q,lt))&&(K=i(u(q,it),u(q,lt)),K<Q&&E(q,it,lt)&&(Q=K,nt=lt%b.length));it<nt?(c(st,q,it,nt+1),nt!==0&&c(at,q,nt,et.length),c(at,q,0,it+1)):(it!==0&&c(st,q,it,et.length),c(st,q,0,nt+1),c(at,q,nt,it+1))}return st.length<at.length?(L(st,U,O,z,N,Y,W),L(at,U,O,z,N,Y,W)):(L(at,U,O,z,N,Y,W),L(st,U,O,z,N,Y,W)),U}return U.push(b),U}function B(b,U){for(var O=0,z=b.length-1;b.length>3&&z>=0;--z)l(u(b,z-1),u(b,z),u(b,z+1),U)&&(b.splice(z%b.length,1),O++);return O}function G(b,U){for(var O=b.length-1;O>=1;--O)for(var z=b[O],N=O-1;N>=0;--N)if(X(z,b[N],U)){b.splice(O,1);continue}}function V(b,U,O){return O=O||0,Math.abs(b-U)<=O}function X(b,U,O){return V(b[0],U[0],O)&&V(b[1],U[1],O)}},52018:(o,g,t)=>{var a=t(83419),v=new a({initialize:function(s){this.pluginManager=s,this.game=s.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});o.exports=v},42363:o=>{var g={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};o.exports=g},37277:o=>{var g={},t={},a={};a.register=function(v,h,s,r){r===void 0&&(r=!1),g[v]={plugin:h,mapping:s,custom:r}},a.registerCustom=function(v,h,s,r){t[v]={plugin:h,mapping:s,data:r}},a.hasCore=function(v){return g.hasOwnProperty(v)},a.hasCustom=function(v){return t.hasOwnProperty(v)},a.getCore=function(v){return g[v]},a.getCustom=function(v){return t[v]},a.getCustomClass=function(v){return t.hasOwnProperty(v)?t[v].plugin:null},a.remove=function(v){g.hasOwnProperty(v)&&delete g[v]},a.removeCustom=function(v){t.hasOwnProperty(v)&&delete t[v]},a.destroyCorePlugins=function(){for(var v in g)g.hasOwnProperty(v)&&delete g[v]},a.destroyCustomPlugins=function(){for(var v in t)t.hasOwnProperty(v)&&delete t[v]},o.exports=a},77332:(o,g,t)=>{var a=t(83419),v=t(8443),h=t(50792),s=t(74099),r=t(44603),e=t(39429),n=t(95540),l=t(37277),i=t(72905),u=t(8054),f=new a({Extends:h,initialize:function(d){h.call(this),this.game=d,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],d.isBooted||d.config.renderType===u.HEADLESS?this.boot():d.events.once(v.BOOT,this.boot,this)},boot:function(){var c,d,p,m,y,x,C,E=this.game.config,R=E.installGlobalPlugins;for(R=R.concat(this._pendingGlobal),c=0;c<R.length;c++)d=R[c],p=n(d,"key",null),m=n(d,"plugin",null),y=n(d,"start",!1),x=n(d,"mapping",null),C=n(d,"data",null),p&&(m?this.install(p,m,y,x,C):console.warn("Missing `plugin` for key: "+p));for(R=E.installScenePlugins,R=R.concat(this._pendingScene),c=0;c<R.length;c++)d=R[c],p=n(d,"key",null),m=n(d,"plugin",null),x=n(d,"mapping",null),p&&(m?this.installScenePlugin(p,m,x):console.warn("Missing `plugin` for key: "+p));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(v.DESTROY,this.destroy,this)},addToScene:function(c,d,p){var m,y,x,C=this.game,E=c.scene,R=c.settings.map,M=c.settings.isBooted;for(m=0;m<d.length;m++)y=d[m],C[y]?(c[y]=C[y],R.hasOwnProperty(y)&&(E[R[y]]=c[y])):y==="game"&&R.hasOwnProperty(y)&&(E[R[y]]=C);for(var w=0;w<p.length;w++)for(x=p[w],m=0;m<x.length;m++)if(y=x[m],!!l.hasCore(y)){var D=l.getCore(y),F=D.mapping,I=new D.plugin(E,this,F);c[F]=I,D.custom?E[F]=I:R.hasOwnProperty(F)&&(E[R[F]]=I),M&&I.boot()}for(x=this.plugins,m=0;m<x.length;m++){var L=x[m];L.mapping&&(E[L.mapping]=L.plugin)}},getDefaultScenePlugins:function(){var c=this.game.config.defaultPlugins;return c=c.concat(this.scenePlugins),c},installScenePlugin:function(c,d,p,m,y){if(y===void 0&&(y=!1),typeof d!="function"){console.warn("Invalid Scene Plugin: "+c);return}if(l.hasCore(c)||l.register(c,d,p,!0),this.scenePlugins.indexOf(c)===-1)this.scenePlugins.push(c);else if(!y&&l.hasCore(c)){console.warn("Scene Plugin key in use: "+c);return}if(m){var x=new d(m,this,c);m.sys[c]=x,p&&p!==""&&(m[p]=x),x.boot()}},install:function(c,d,p,m,y){if(p===void 0&&(p=!1),m===void 0&&(m=null),y===void 0&&(y=null),typeof d!="function")return console.warn("Invalid Plugin: "+c),null;if(l.hasCustom(c))return console.warn("Plugin key in use: "+c),null;if(m!==null&&(p=!0),!this.game.isBooted)this._pendingGlobal.push({key:c,plugin:d,start:p,mapping:m,data:y});else if(l.registerCustom(c,d,m,y),p)return this.start(c);return null},getIndex:function(c){for(var d=this.plugins,p=0;p<d.length;p++){var m=d[p];if(m.key===c)return p}return-1},getEntry:function(c){var d=this.getIndex(c);if(d!==-1)return this.plugins[d]},isActive:function(c){var d=this.getEntry(c);return d&&d.active},start:function(c,d){d===void 0&&(d=c);var p=this.getEntry(d);return p&&!p.active?(p.active=!0,p.plugin.start()):p||(p=this.createEntry(c,d)),p?p.plugin:null},createEntry:function(c,d){var p=l.getCustom(c);if(p){var m=new p.plugin(this);p={key:d,plugin:m,active:!0,mapping:p.mapping,data:p.data},this.plugins.push(p),m.init(p.data),m.start()}return p},stop:function(c){var d=this.getEntry(c);return d&&d.active&&(d.active=!1,d.plugin.stop()),this},get:function(c,d){d===void 0&&(d=!0);var p=this.getEntry(c);if(p)return p.plugin;var m=this.getClass(c);return m&&d?(p=this.createEntry(c,c),p?p.plugin:null):m||null},getClass:function(c){return l.getCustomClass(c)},removeGlobalPlugin:function(c){var d=this.getEntry(c);d&&i(this.plugins,d),l.removeCustom(c)},removeScenePlugin:function(c){i(this.scenePlugins,c),l.remove(c)},registerGameObject:function(c,d,p){return d&&e.register(c,d),p&&r.register(c,p),this},removeGameObject:function(c,d,p){return d===void 0&&(d=!0),p===void 0&&(p=!0),d&&e.remove(c),p&&r.remove(c),this},registerFileType:function(c,d,p){s.register(c,d),p&&p.sys.load&&(p.sys.load[c]=d)},destroy:function(){for(var c=0;c<this.plugins.length;c++)this.plugins[c].plugin.destroy();l.destroyCustomPlugins(),this.game.noReturn&&l.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});o.exports=f},45145:(o,g,t)=>{var a=t(52018),v=t(83419),h=t(44594),s=new v({Extends:a,initialize:function(e,n,l){a.call(this,n),this.scene=e,this.systems=e.sys,this.pluginKey=l,e.sys.events.once(h.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});o.exports=s},18922:(o,g,t)=>{o.exports={BasePlugin:t(52018),DefaultPlugins:t(42363),PluginCache:t(37277),PluginManager:t(77332),ScenePlugin:t(45145)}},63595:()=>{typeof HTMLVideoElement<"u"&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(o){let g=performance.now(),t=this.getVideoPlaybackQuality(),a=this.mozPresentedFrames||this.mozPaintedFrames||t.totalVideoFrames-t.droppedVideoFrames,v=(h,s)=>{let r=this.getVideoPlaybackQuality(),e=this.mozPresentedFrames||this.mozPaintedFrames||r.totalVideoFrames-r.droppedVideoFrames;if(e>a){let n=this.mozFrameDelay||r.totalFrameDelay-t.totalFrameDelay||0,l=s-h;o(s,{presentationTime:s+n*1e3,expectedDisplayTime:s+l,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+l/1e3,presentedFrames:e,processingDuration:n}),delete this._rvfcpolyfillmap[g]}else this._rvfcpolyfillmap[g]=requestAnimationFrame(n=>v(s,n))};return this._rvfcpolyfillmap[g]=requestAnimationFrame(h=>v(g,h)),g},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(o){cancelAnimationFrame(this._rvfcpolyfillmap[o]),delete this._rvfcpolyfillmap[o]})},10312:o=>{o.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:o=>{var g={DEFAULT:0,LINEAR:0,NEAREST:1};o.exports=g},68627:(o,g,t)=>{var a=t(19715),v=t(32880),h=t(83419),s=t(8054),r=t(50792),e=t(92503),n=t(56373),l=t(97480),i=t(69442),u=t(8443),f=t(61340),c=new h({Extends:r,initialize:function(p){r.call(this);var m=p.config;this.config={clearBeforeRender:m.clearBeforeRender,backgroundColor:m.backgroundColor,antialias:m.antialias,roundPixels:m.roundPixels,transparent:m.transparent},this.game=p,this.type=s.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=p.canvas;var y={alpha:m.transparent,desynchronized:m.desynchronized,willReadFrequently:!1};this.gameContext=m.context?m.context:this.gameCanvas.getContext("2d",y),this.currentContext=this.gameContext,this.antialias=m.antialias,this.blendModes=n(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new f,this._tempMatrix2=new f,this._tempMatrix3=new f,this.isBooted=!1,this.init()},init:function(){var d=this.game;d.events.once(u.BOOT,function(){var p=this.config;if(!p.transparent){var m=this.gameContext,y=this.gameCanvas;m.fillStyle=p.backgroundColor.rgba,m.fillRect(0,0,y.width,y.height)}},this),d.textures.once(i.READY,this.boot,this)},boot:function(){var d=this.game,p=d.scale.baseSize;this.width=p.width,this.height=p.height,this.isBooted=!0,d.scale.on(l.RESIZE,this.onResize,this),this.resize(p.width,p.height)},onResize:function(d,p){(p.width!==this.width||p.height!==this.height)&&this.resize(p.width,p.height)},resize:function(d,p){this.width=d,this.height=p,this.emit(e.RESIZE,d,p)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(d){return this.currentContext.globalCompositeOperation=d,this},setContext:function(d){return this.currentContext=d||this.gameContext,this},setAlpha:function(d){return this.currentContext.globalAlpha=d,this},preRender:function(){var d=this.gameContext,p=this.config,m=this.width,y=this.height;d.globalAlpha=1,d.globalCompositeOperation="source-over",d.setTransform(1,0,0,1,0,0),this.emit(e.PRE_RENDER_CLEAR),p.clearBeforeRender&&(d.clearRect(0,0,m,y),p.transparent||(d.fillStyle=p.backgroundColor.rgba,d.fillRect(0,0,m,y))),d.save(),this.drawCount=0,this.emit(e.PRE_RENDER)},render:function(d,p,m){var y=p.length;this.emit(e.RENDER,d,m);var x=m.x,C=m.y,E=m.width,R=m.height,M=m.renderToTexture?m.context:d.sys.context;M.save(),this.game.scene.customViewports&&(M.beginPath(),M.rect(x,C,E,R),M.clip()),m.emit(a.PRE_RENDER,m),this.currentContext=M;var w=m.mask;w&&w.preRenderCanvas(this,null,m._maskCamera),m.transparent||(M.fillStyle=m.backgroundColor.rgba,M.fillRect(x,C,E,R)),M.globalAlpha=m.alpha,M.globalCompositeOperation="source-over",this.drawCount+=y,m.renderToTexture&&m.emit(a.PRE_RENDER,m),m.matrix.copyToContext(M);for(var D=0;D<y;D++){var F=p[D];F.mask&&F.mask.preRenderCanvas(this,F,m),F.renderCanvas(this,F,m),F.mask&&F.mask.postRenderCanvas(this,F,m)}M.setTransform(1,0,0,1,0,0),M.globalCompositeOperation="source-over",M.globalAlpha=1,m.flashEffect.postRenderCanvas(M),m.fadeEffect.postRenderCanvas(M),m.dirty=!1,w&&w.postRenderCanvas(this),M.restore(),m.renderToTexture&&(m.emit(a.POST_RENDER,m),m.renderToGame&&d.sys.context.drawImage(m.canvas,x,C)),m.emit(a.POST_RENDER,m)},postRender:function(){var d=this.gameContext;d.restore(),this.emit(e.POST_RENDER);var p=this.snapshotState;p.callback&&(v(this.gameCanvas,p),p.callback=null)},snapshotCanvas:function(d,p,m,y,x,C,E,R,M){m===void 0&&(m=!1),this.snapshotArea(y,x,C,E,p,R,M);var w=this.snapshotState;return w.getPixel=m,v(d,w),w.callback=null,this},snapshot:function(d,p,m){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,d,p,m)},snapshotArea:function(d,p,m,y,x,C,E){var R=this.snapshotState;return R.callback=x,R.type=C,R.encoder=E,R.getPixel=!1,R.x=d,R.y=p,R.width=Math.min(m,this.gameCanvas.width),R.height=Math.min(y,this.gameCanvas.height),this},snapshotPixel:function(d,p,m){return this.snapshotArea(d,p,1,1,m),this.snapshotState.getPixel=!0,this},batchSprite:function(d,p,m,y){var x=m.alpha*d.alpha;if(x!==0){var C=this.currentContext,E=this._tempMatrix1,R=this._tempMatrix2,M=p.canvasData,w=M.x,D=M.y,F=p.cutWidth,I=p.cutHeight,L=p.customPivot,B=p.source.resolution,G=d.displayOriginX,V=d.displayOriginY,X=-G+p.x,b=-V+p.y;if(d.isCropped){var U=d._crop;(U.flipX!==d.flipX||U.flipY!==d.flipY)&&p.updateCropUVs(U,d.flipX,d.flipY),F=U.cw,I=U.ch,w=U.cx,D=U.cy,X=-G+U.x,b=-V+U.y,d.flipX&&(X>=0?X=-(X+F):X<0&&(X=Math.abs(X)-F)),d.flipY&&(b>=0?b=-(b+I):b<0&&(b=Math.abs(b)-I))}var O=1,z=1;d.flipX&&(L||(X+=-p.realWidth+G*2),O=-1),d.flipY&&(L||(b+=-p.realHeight+V*2),z=-1);var N=d.x,Y=d.y;if(m.roundPixels&&(N=Math.floor(N),Y=Math.floor(Y)),R.applyITRS(N,Y,d.rotation,d.scaleX*O,d.scaleY*z),E.copyFrom(m.matrix),y?(E.multiplyWithOffset(y,-m.scrollX*d.scrollFactorX,-m.scrollY*d.scrollFactorY),R.e=N,R.f=Y):(R.e-=m.scrollX*d.scrollFactorX,R.f-=m.scrollY*d.scrollFactorY),E.multiply(R),m.renderRoundPixels&&(E.e=Math.floor(E.e+.5),E.f=Math.floor(E.f+.5)),C.save(),E.setToContext(C),C.globalCompositeOperation=this.blendModes[d.blendMode],C.globalAlpha=x,C.imageSmoothingEnabled=!p.source.scaleMode,d.mask&&d.mask.preRenderCanvas(this,d,m),F>0&&I>0){var W=F/B,H=I/B;m.roundPixels&&(X=Math.floor(X+.5),b=Math.floor(b+.5),W+=.5,H+=.5),C.drawImage(p.source.image,w,D,F,I,X,b,W,H)}d.mask&&d.mask.postRenderCanvas(this,d,m),C.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});o.exports=c},55830:(o,g,t)=>{o.exports={CanvasRenderer:t(68627),GetBlendModes:t(56373),SetTransform:t(20926)}},56373:(o,g,t)=>{var a=t(10312),v=t(89289),h=function(){var s=[],r=v.supportNewBlendModes,e="source-over";return s[a.NORMAL]=e,s[a.ADD]="lighter",s[a.MULTIPLY]=r?"multiply":e,s[a.SCREEN]=r?"screen":e,s[a.OVERLAY]=r?"overlay":e,s[a.DARKEN]=r?"darken":e,s[a.LIGHTEN]=r?"lighten":e,s[a.COLOR_DODGE]=r?"color-dodge":e,s[a.COLOR_BURN]=r?"color-burn":e,s[a.HARD_LIGHT]=r?"hard-light":e,s[a.SOFT_LIGHT]=r?"soft-light":e,s[a.DIFFERENCE]=r?"difference":e,s[a.EXCLUSION]=r?"exclusion":e,s[a.HUE]=r?"hue":e,s[a.SATURATION]=r?"saturation":e,s[a.COLOR]=r?"color":e,s[a.LUMINOSITY]=r?"luminosity":e,s[a.ERASE]="destination-out",s[a.SOURCE_IN]="source-in",s[a.SOURCE_OUT]="source-out",s[a.SOURCE_ATOP]="source-atop",s[a.DESTINATION_OVER]="destination-over",s[a.DESTINATION_IN]="destination-in",s[a.DESTINATION_OUT]="destination-out",s[a.DESTINATION_ATOP]="destination-atop",s[a.LIGHTER]="lighter",s[a.COPY]="copy",s[a.XOR]="xor",s};o.exports=h},20926:(o,g,t)=>{var a=t(91296),v=function(h,s,r,e,n){var l=e.alpha*r.alpha;if(l<=0)return!1;var i=a(r,e,n).calc;return s.globalCompositeOperation=h.blendModes[r.blendMode],s.globalAlpha=l,s.save(),i.setToContext(s),s.imageSmoothingEnabled=r.frame?!r.frame.source.scaleMode:h.antialias,!0};o.exports=v},63899:o=>{o.exports="losewebgl"},6119:o=>{o.exports="postrender"},48070:o=>{o.exports="prerender"},15640:o=>{o.exports="render"},8912:o=>{o.exports="resize"},87124:o=>{o.exports="restorewebgl"},92503:(o,g,t)=>{o.exports={LOSE_WEBGL:t(63899),POST_RENDER:t(6119),PRE_RENDER:t(48070),RENDER:t(15640),RESIZE:t(8912),RESTORE_WEBGL:t(87124)}},36909:(o,g,t)=>{o.exports={Events:t(92503),Snapshot:t(89966)},o.exports.Canvas=t(55830),o.exports.WebGL=t(4159)},32880:(o,g,t)=>{var a=t(27919),v=t(40987),h=t(95540),s=function(r,e){var n=h(e,"callback"),l=h(e,"type","image/png"),i=h(e,"encoder",.92),u=Math.abs(Math.round(h(e,"x",0))),f=Math.abs(Math.round(h(e,"y",0))),c=Math.floor(h(e,"width",r.width)),d=Math.floor(h(e,"height",r.height)),p=h(e,"getPixel",!1);if(p){var m=r.getContext("2d",{willReadFrequently:!1}),y=m.getImageData(u,f,1,1),x=y.data;n.call(null,new v(x[0],x[1],x[2],x[3]))}else if(u!==0||f!==0||c!==r.width||d!==r.height){var C=a.createWebGL(this,c,d),E=C.getContext("2d",{willReadFrequently:!0});c>0&&d>0&&E.drawImage(r,u,f,c,d,0,0,c,d);var R=new Image;R.onerror=function(){n.call(null),a.remove(C)},R.onload=function(){n.call(null,R),a.remove(C)},R.src=C.toDataURL(l,i)}else{var M=new Image;M.onerror=function(){n.call(null)},M.onload=function(){n.call(null,M)},M.src=r.toDataURL(l,i)}};o.exports=s},88815:(o,g,t)=>{var a=t(27919),v=t(40987),h=t(95540),s=function(r,e){var n=r,l=h(e,"callback"),i=h(e,"type","image/png"),u=h(e,"encoder",.92),f=Math.abs(Math.round(h(e,"x",0))),c=Math.abs(Math.round(h(e,"y",0))),d=h(e,"getPixel",!1),p=h(e,"isFramebuffer",!1),m=p?h(e,"bufferWidth",1):n.drawingBufferWidth,y=p?h(e,"bufferHeight",1):n.drawingBufferHeight;if(d){var x=new Uint8Array(4),C=p?c:y-c;n.readPixels(f,C,1,1,n.RGBA,n.UNSIGNED_BYTE,x),l.call(null,new v(x[0],x[1],x[2],x[3]))}else{var E=Math.floor(h(e,"width",m)),R=Math.floor(h(e,"height",y)),M=E*R*4,w=new Uint8Array(M);n.readPixels(f,y-c-R,E,R,n.RGBA,n.UNSIGNED_BYTE,w);for(var D=a.createWebGL(this,E,R),F=D.getContext("2d",{willReadFrequently:!0}),I=F.getImageData(0,0,E,R),L=I.data,B=0;B<R;B++)for(var G=0;G<E;G++){var V=((R-B-1)*E+G)*4,X=p?M-(B*E+(E-G))*4:(B*E+G)*4;L[X+0]=w[V+0],L[X+1]=w[V+1],L[X+2]=w[V+2],L[X+3]=w[V+3]}F.putImageData(I,0,0);var b=new Image;b.onerror=function(){l.call(null),a.remove(D)},b.onload=function(){l.call(null,b),a.remove(D)},b.src=D.toDataURL(i,u)}};o.exports=s},89966:(o,g,t)=>{o.exports={Canvas:t(32880),WebGL:t(88815)}},7530:(o,g,t)=>{var a=t(83419),v=t(36060),h=t(90330),s=t(82264),r=t(95540),e=t(32302),n=t(63448),l=t(31302),i=t(58918),u=t(14811),f=t(92651),c=t(96569),d=t(56527),p=t(57516),m=t(43439),y=t(81041),x=t(12385),C=t(7589),E=t(95428),R=t(72905),M=new a({initialize:function(D){this.game=D.game,this.renderer=D,this.classes=new h([[v.UTILITY_PIPELINE,C],[v.MULTI_PIPELINE,p],[v.BITMAPMASK_PIPELINE,l],[v.SINGLE_PIPELINE,x],[v.ROPE_PIPELINE,y],[v.LIGHT_PIPELINE,c],[v.POINTLIGHT_PIPELINE,m],[v.MOBILE_PIPELINE,d]]),this.postPipelineClasses=new h,this.pipelines=new h,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(w,D,F){var I=this.renderer,L=this.renderTargets;this.frameInc=Math.floor(r(w,"frameInc",32));var B=I.width,G=I.height,V=this.game.config.disablePreFX,X=this.game.config.disablePostFX;if(X||this.postPipelineClasses.setAll([[String(u.BARREL),i.Barrel],[String(u.BLOOM),i.Bloom],[String(u.BLUR),i.Blur],[String(u.BOKEH),i.Bokeh],[String(u.CIRCLE),i.Circle],[String(u.COLOR_MATRIX),i.ColorMatrix],[String(u.DISPLACEMENT),i.Displacement],[String(u.GLOW),i.Glow],[String(u.GRADIENT),i.Gradient],[String(u.PIXELATE),i.Pixelate],[String(u.SHADOW),i.Shadow],[String(u.SHINE),i.Shine],[String(u.VIGNETTE),i.Vignette],[String(u.WIPE),i.Wipe]]),!V){this.classes.set(v.FX_PIPELINE,f);for(var b=Math.min(B,G),U=Math.ceil(b/this.frameInc),O=1;O<U;O++){var z=O*this.frameInc;L.push(new e(I,z,z)),L.push(new e(I,z,z)),L.push(new e(I,z,z)),this.maxDimension=z}L.push(new e(I,B,G,1,0,!0,!0)),L.push(new e(I,B,G,1,0,!0,!0)),L.push(new e(I,B,G,1,0,!0,!0))}var N,Y,W=this,H=this.game;if(this.classes.each(function(j,Z){N=W.add(j,new Z({game:H})),j===v.UTILITY_PIPELINE&&(W.UTILITY_PIPELINE=N,W.fullFrame1=N.fullFrame1,W.fullFrame2=N.fullFrame2,W.halfFrame1=N.halfFrame1,W.halfFrame2=N.halfFrame2)}),this.MULTI_PIPELINE=this.get(v.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(v.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(v.MOBILE_PIPELINE),V||(this.FX_PIPELINE=this.get(v.FX_PIPELINE)),w)for(Y in w){var $=w[Y];N=new $(H),N.name=Y,N.isPostFX?this.postPipelineClasses.set(Y,$):this.has(Y)||(this.classes.set(Y,$),this.add(Y,N))}this.default=this.get(D),F&&!s.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(w){var D=this.get(w);return D&&(this.default=D),D},add:function(w,D){if(D.isPostFX){console.warn(w+" is a Post Pipeline. Use `addPostPipeline` instead");return}var F=this.pipelines,I=this.renderer;return F.has(w)?console.warn("Pipeline exists: "+w):(D.name=w,D.manager=this,F.set(w,D)),D.hasBooted||D.boot(),I.width!==0&&I.height!==0&&!D.isPreFX&&D.resize(I.width,I.height),D},addPostPipeline:function(w,D){this.postPipelineClasses.has(w)||this.postPipelineClasses.set(w,D)},flush:function(){this.current&&this.current.flush()},has:function(w){var D=this.pipelines;return typeof w=="string"?D.has(w):!!D.contains(w)},get:function(w){var D=this.pipelines;if(typeof w=="string")return D.get(w);if(D.contains(w))return w},getPostPipeline:function(w,D,F){var I=this.postPipelineClasses,L,B="",G=typeof w;if(G==="string"||G==="number"?(L=I.get(w),B=w):G==="function"?(I.contains(w)&&(L=w),B=w.name):G==="object"&&(L=I.get(w.name),B=w.name),L){var V=new L(this.game,F);return V.name=B,D&&(V.gameObject=D),this.postPipelineInstances.push(V),V}},removePostPipeline:function(w){R(this.postPipelineInstances,w)},remove:function(w,D,F){D===void 0&&(D=!0),F===void 0&&(F=!0),this.pipelines.delete(w),D&&this.classes.delete(w),F&&this.postPipelineClasses.delete(w)},set:function(w,D,F){if(!w.isPostFX)return this.isCurrent(w,F)||(this.flush(),this.current&&this.current.unbind(),this.current=w,w.bind(F)),w.updateProjectionMatrix(),w.onBind(D),w},preBatch:function(w){if(w.hasPostPipeline){this.flush();for(var D=w.postPipelines,F=D.length-1;F>=0;F--){var I=D[F];I.active&&I.preBatch(w)}}},postBatch:function(w){if(w.hasPostPipeline){this.flush();for(var D=w.postPipelines,F=0;F<D.length;F++){var I=D[F];I.active&&I.postBatch(w)}}},preBatchCamera:function(w){if(w.hasPostPipeline){this.flush();for(var D=w.postPipelines,F=D.length-1;F>=0;F--){var I=D[F];I.active&&I.preBatch(w)}}},postBatchCamera:function(w){if(w.hasPostPipeline){this.flush();for(var D=w.postPipelines,F=0;F<D.length;F++){var I=D[F];I.active&&I.postBatch(w)}}},isCurrent:function(w,D){var F=this.renderer,I=this.current;return I&&!D&&(D=I.currentShader),!(I!==w||D.program!==F.currentProgram)},copyFrame:function(w,D,F,I,L){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(w,D,F,I,L),this},copyToGame:function(w){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(w),this},drawFrame:function(w,D,F,I){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(w,D,F,I),this},blendFrames:function(w,D,F,I,L){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(w,D,F,I,L),this},blendFramesAdditive:function(w,D,F,I,L){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(w,D,F,I,L),this},clearFrame:function(w,D){return this.UTILITY_PIPELINE.clearFrame(w,D),this},blitFrame:function(w,D,F,I,L,B){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(w,D,F,I,L,B),this},copyFrameRect:function(w,D,F,I,L,B,G,V){return this.UTILITY_PIPELINE.copyFrameRect(w,D,F,I,L,B,G,V),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(w){return this.UTILITY_PIPELINE.bind(w)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(w,D){D.restoreContext()}),E(this.postPipelineInstances,function(w){w.restoreContext()})},rebind:function(w){w===void 0&&this.previous&&(w=this.previous);var D=this.renderer,F=D.gl;F.disable(F.DEPTH_TEST),F.disable(F.CULL_FACE),D.hasActiveStencilMask()?F.clear(F.DEPTH_BUFFER_BIT):(F.disable(F.STENCIL_TEST),F.clear(F.DEPTH_BUFFER_BIT|F.STENCIL_BUFFER_BIT)),F.viewport(0,0,D.width,D.height),D.currentProgram=null,D.setBlendMode(0,!0);var I=D.vaoExtension;I&&I.bindVertexArrayOES(null);var L=this.pipelines.entries;for(var B in L)L[B].glReset=!0;w&&(this.current=w,w.rebind())},clear:function(){var w=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,w.currentProgram=null,w.setBlendMode(0,!0);var D=w.vaoExtension;D&&D.bindVertexArrayOES(null)},getRenderTarget:function(w){var D=this.renderTargets,F=3;if(w>this.maxDimension)return this.targetIndex=D.length-F,D[this.targetIndex];var I=(n(w,this.frameInc,0,!0)-1)*F;return this.targetIndex=I,D[I]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});o.exports=M},32302:(o,g,t)=>{var a=t(83419),v=t(92503),h=new a({initialize:function(r,e,n,l,i,u,f,c,d){l===void 0&&(l=1),i===void 0&&(i=0),u===void 0&&(u=!0),f===void 0&&(f=!1),c===void 0&&(c=!0),d===void 0&&(d=!0),this.renderer=r,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=l,this.minFilter=i,this.autoClear=u,this.autoResize=!0,this.hasDepthBuffer=c,this.forceClamp=d,this.init(e,n),f?this.renderer.on(v.RESIZE,this.resize,this):this.autoResize=!1},init:function(s,r){var e=this.renderer;this.texture=e.createTextureFromSource(null,s,r,this.minFilter,this.forceClamp),this.framebuffer=e.createFramebuffer(s,r,this.texture,this.hasDepthBuffer),this.width=s,this.height=r},setAutoResize:function(s){return s&&!this.autoResize?(this.renderer.on(v.RESIZE,this.resize,this),this.autoResize=!0):!s&&this.autoResize&&(this.renderer.off(v.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(s,r){if(this.autoResize&&this.willResize(s,r)){var e=this.renderer;e.deleteFramebuffer(this.framebuffer),e.deleteTexture(this.texture),this.texture=e.createTextureFromSource(null,s,r,this.minFilter,this.forceClamp),this.framebuffer=e.createFramebuffer(s,r,this.texture,this.hasDepthBuffer),this.width=s,this.height=r}return this},willResize:function(s,r){return typeof s!="number"||typeof r!="number"?!1:(s=Math.round(s*this.scale),r=Math.round(r*this.scale),s=Math.max(s,1),r=Math.max(r,1),s!==this.width||r!==this.height)},bind:function(s,r,e){s===void 0&&(s=!1);var n=this.renderer;if(s&&n.flush(),r&&e&&this.resize(r,e),n.pushFramebuffer(this.framebuffer,!1,!1),s&&this.adjustViewport(),this.autoClear){var l=this.renderer.gl;l.clearColor(0,0,0,0),l.clear(l.COLOR_BUFFER_BIT)}n.clearStencilMask()},adjustViewport:function(){var s=this.renderer.gl;s.viewport(0,0,this.width,this.height),s.disable(s.SCISSOR_TEST)},clear:function(s,r,e,n){var l=this.renderer,i=l.gl;l.pushFramebuffer(this.framebuffer),s!==void 0&&r!==void 0&&e!==void 0&&n!==void 0?(i.enable(i.SCISSOR_TEST),i.scissor(s,r,e,n)):i.disable(i.SCISSOR_TEST),i.clearColor(0,0,0,0),i.clear(i.COLOR_BUFFER_BIT),l.popFramebuffer(),l.resetScissor()},unbind:function(s){s===void 0&&(s=!1);var r=this.renderer;return s&&r.flush(),r.popFramebuffer()},destroy:function(){var s=this.renderer;s.off(v.RESIZE,this.resize,this),s.deleteFramebuffer(this.framebuffer),s.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});o.exports=h},70554:o=>{o.exports={getTintFromFloats:function(g,t,a,v){var h=(g*255|0)&255,s=(t*255|0)&255,r=(a*255|0)&255,e=(v*255|0)&255;return(e<<24|h<<16|s<<8|r)>>>0},getTintAppendFloatAlpha:function(g,t){var a=(t*255|0)&255;return(a<<24|g)>>>0},getTintAppendFloatAlphaAndSwap:function(g,t){var a=(g>>16|0)&255,v=(g>>8|0)&255,h=(g|0)&255,s=(t*255|0)&255;return(s<<24|h<<16|v<<8|a)>>>0},getFloatsFromUintRGB:function(g){var t=(g>>16|0)&255,a=(g>>8|0)&255,v=(g|0)&255;return[t/255,a/255,v/255]},checkShaderMax:function(g,t){var a=Math.min(16,g.getParameter(g.MAX_TEXTURE_IMAGE_UNITS));return!t||t===-1?a:Math.min(a,t)},parseFragmentShaderMaxTextures:function(g,t){if(!g)return"";for(var a="",v=0;v<t;v++)v>0&&(a+=`
	else `),v<t-1&&(a+="if (outTexId < "+v+".5)"),a+=`
	{`,a+=`
		texture = texture2D(uMainSampler[`+v+"], outTexCoord);",a+=`
	}`;return g=g.replace(/%count%/gi,t.toString()),g.replace(/%forloop%/gi,a)},setGlowQuality:function(g,t,a,v){return a===void 0&&(a=t.config.glowFXQuality),v===void 0&&(v=t.config.glowFXDistance),g=g.replace(/__SIZE__/gi,(1/a/v).toFixed(7)),g=g.replace(/__DIST__/gi,v.toFixed(0)+".0"),g}}},29100:(o,g,t)=>{var a=t(83419),v=t(62644),h=t(50792),s=t(77085),r=t(95540),e=t(37867),n=t(92503),l=t(32302),i=t(70554),u=t(38683),f=new a({Extends:h,initialize:function(d){h.call(this);var p=d.game,m=p.renderer,y=m.gl;this.name=r(d,"name","WebGLPipeline"),this.game=p,this.renderer=m,this.manager,this.gl=y,this.view=p.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=r(d,"topology",y.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=r(d,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=d,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=r(d,"resizeUniform","")},boot:function(){var c,d=this.gl,p=this.config,m=this.renderer;this.isPostFX||(this.projectionMatrix=new e().identity());var y=this.renderTargets,x=r(p,"renderTarget",!1);typeof x=="boolean"&&x&&(x=1);var C=m.width,E=m.height;if(typeof x=="number")for(c=0;c<x;c++)y.push(new l(m,C,E,1,0,!0));else if(Array.isArray(x))for(c=0;c<x.length;c++){var R=r(x[c],"scale",1),M=r(x[c],"minFilter",0),w=r(x[c],"autoClear",1),D=r(x[c],"autoResize",!1),F=r(x[c],"width",null),I=r(x[c],"height",F);F?y.push(new l(m,F,I,1,M,w,D)):y.push(new l(m,C,E,R,M,w,D))}y.length&&(this.currentRenderTarget=y[0]),this.setShadersFromConfig(p);var L=this.shaders,B=0;for(c=0;c<L.length;c++)L[c].vertexSize>B&&(B=L[c].vertexSize);var G=r(p,"batchSize",m.config.batchSize);this.vertexCapacity=G*6;var V=new ArrayBuffer(this.vertexCapacity*B);this.vertexData=V,this.bytes=new Uint8Array(V),this.vertexViewF32=new Float32Array(V),this.vertexViewU32=new Uint32Array(V);var X=r(p,"vertices",null);for(X?(this.vertexViewF32.set(X),this.vertexBuffer=m.createVertexBuffer(V,d.STATIC_DRAW)):this.vertexBuffer=m.createVertexBuffer(V.byteLength,d.DYNAMIC_DRAW),this.setVertexBuffer(),c=L.length-1;c>=0;c--)L[c].rebind();this.hasBooted=!0,m.on(n.RESIZE,this.resize,this),m.on(n.PRE_RENDER,this.onPreRender,this),m.on(n.RENDER,this.onRender,this),m.on(n.POST_RENDER,this.onPostRender,this),this.emit(s.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(c,d,p){var m=this.renderer;if(c!==this.currentShader||m.currentProgram!==this.currentShader.program){this.flush();var y=this.setVertexBuffer(p);y&&!d&&(d=!0),c.bind(d,!1),this.currentShader=c}return this},getShaderByName:function(c){for(var d=this.shaders,p=0;p<d.length;p++)if(d[p].name===c)return d[p]},setShadersFromConfig:function(c){var d,p=this.shaders,m=this.renderer;for(d=0;d<p.length;d++)p[d].destroy();var y="vertShader",x="fragShader",C="attributes",E=r(c,y,null),R=i.parseFragmentShaderMaxTextures(r(c,x,null),m.maxTextures),M=r(c,C,null),w=r(c,"shaders",[]),D=w.length;if(D===0)E&&R&&(this.shaders=[new u(this,"default",E,R,v(M))]);else{var F=[];for(d=0;d<D;d++){var I=w[d],L,B,G,V;if(typeof I=="string"?(L="default",B=E,G=i.parseFragmentShaderMaxTextures(I,m.maxTextures),V=M):(L=r(I,"name","default"),B=r(I,y,E),G=i.parseFragmentShaderMaxTextures(r(I,x,R),m.maxTextures),V=r(I,C,M)),L==="default"){var X=G.split(`
`),b=X[0].trim();b.indexOf("#define SHADER_NAME")>-1&&(L=b.substring(20))}B&&G&&F.push(new u(this,L,B,G,v(V)))}this.shaders=F}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(c){return this.currentBatch={start:this.vertexCount,count:0,texture:[c],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=c,this.batch.push(this.currentBatch),0},addTextureToBatch:function(c){var d=this.currentBatch;d&&(d.texture.push(c),d.unit++,d.maxUnit++)},pushBatch:function(c){if(!this.currentBatch||this.forceZero&&c!==this.currentTexture)return this.createBatch(c);if(c===this.currentTexture)return this.currentUnit;var d=this.currentBatch,p=d.texture.indexOf(c);return p===-1?d.texture.length===this.renderer.maxTextures?this.createBatch(c):(d.unit++,d.maxUnit++,d.texture.push(c),this.currentUnit=d.unit,this.currentTexture=c,d.unit):(this.currentUnit=p,this.currentTexture=c,p)},setGameObject:function(c,d){return d===void 0&&(d=c.frame),this.pushBatch(d.source.glTexture)},shouldFlush:function(c){return c===void 0&&(c=0),this.vertexCount+c>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(c,d){(c!==this.width||d!==this.height)&&this.flush(),this.width=c,this.height=d;for(var p=this.renderTargets,m=0;m<p.length;m++)p[m].resize(c,d);return this.setProjectionMatrix(c,d),this.resizeUniform&&this.set2f(this.resizeUniform,c,d),this.emit(s.RESIZE,c,d,this),this.onResize(c,d),this},setProjectionMatrix:function(c,d){var p=this.projectionMatrix;if(!p)return this;this.projectionWidth=c,this.projectionHeight=d,p.ortho(0,c,d,0,-1e3,1e3);for(var m=this.shaders,y="uProjectionMatrix",x=0;x<m.length;x++){var C=m[x];C.hasUniform(y)&&(C.resetUniform(y),C.setMatrix4fv(y,!1,p.val,C))}return this},flipProjectionMatrix:function(c){c===void 0&&(c=!0);var d=this.projectionMatrix;if(!d)return this;var p=this.projectionWidth,m=this.projectionHeight;c?d.ortho(0,p,0,m,-1e3,1e3):d.ortho(0,p,m,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,d.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var c=this.renderer.projectionWidth,d=this.renderer.projectionHeight;(this.projectionWidth!==c||this.projectionHeight!==d)&&this.setProjectionMatrix(c,d)}},bind:function(c){if(c===void 0&&(c=this.currentShader),this.glReset)return this.rebind(c);var d=!1,p=this.gl;return p.getParameter(p.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(p.bindBuffer(p.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,d=!0),c.bind(d),this.currentShader=c,this.activeTextures.length=0,this.emit(s.BIND,this,c),this.onActive(c),this},rebind:function(c){this.activeBuffer=null,this.setVertexBuffer();for(var d=this.shaders,p=d.length-1;p>=0;p--){var m=d[p].rebind();(!c||m===c)&&(this.currentShader=m)}return this.activeTextures.length=0,this.emit(s.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var c=this.shaders,d=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,d&&this.setVertexBuffer();for(var p=0;p<c.length;p++){var m=c[p];m.syncUniforms(),d&&m.rebind()}},setVertexBuffer:function(c){if(c===void 0&&(c=this.vertexBuffer),c!==this.activeBuffer){var d=this.gl;return this.gl.bindBuffer(d.ARRAY_BUFFER,c.webGLBuffer),this.activeBuffer=c,!0}return!1},preBatch:function(c){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(c),this},postBatch:function(c){return this.onDraw(this.currentRenderTarget),this.onPostBatch(c),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(c){if(c===void 0&&(c=!1),this.vertexCount>0){this.emit(s.BEFORE_FLUSH,this,c),this.onBeforeFlush(c);var d=this.gl,p=this.vertexCount,m=this.currentShader.vertexSize,y=this.topology;if(this.active){this.setVertexBuffer(),p===this.vertexCapacity?d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.DYNAMIC_DRAW):d.bufferSubData(d.ARRAY_BUFFER,0,this.bytes.subarray(0,p*m));var x,C,E,R=this.batch,M=this.activeTextures;if(this.forceZero)for(M[0]||d.activeTexture(d.TEXTURE0),x=0;x<R.length;x++)C=R[x],E=C.texture[0],M[0]!==E&&(d.bindTexture(d.TEXTURE_2D,E.webGLTexture),M[0]=E),d.drawArrays(y,C.start,C.count);else for(x=0;x<R.length;x++){C=R[x];for(var w=0;w<=C.maxUnit;w++)E=C.texture[w],M[w]!==E&&(d.activeTexture(d.TEXTURE0+w),d.bindTexture(d.TEXTURE_2D,E.webGLTexture),M[w]=E);d.drawArrays(y,C.start,C.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(s.AFTER_FLUSH,this,c),this.onAfterFlush(c)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(c,d,p,m,y,x,C){var E=this.vertexViewF32,R=this.vertexViewU32,M=this.vertexCount*this.currentShader.vertexComponentCount-1;E[++M]=c,E[++M]=d,E[++M]=p,E[++M]=m,E[++M]=y,E[++M]=x,R[++M]=C,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(c,d,p,m,y,x,C,E,R,M,w,D,F,I,L,B,G,V,X,b){b===void 0&&(b=this.currentUnit);var U=!1;this.shouldFlush(6)&&(this.flush(),U=!0),this.currentBatch||(b=this.setTexture2D(X));var O=this.vertexViewF32,z=this.vertexViewU32,N=this.vertexCount*this.currentShader.vertexComponentCount-1;return O[++N]=d,O[++N]=p,O[++N]=M,O[++N]=w,O[++N]=b,O[++N]=V,z[++N]=I,O[++N]=m,O[++N]=y,O[++N]=M,O[++N]=F,O[++N]=b,O[++N]=V,z[++N]=B,O[++N]=x,O[++N]=C,O[++N]=D,O[++N]=F,O[++N]=b,O[++N]=V,z[++N]=G,O[++N]=d,O[++N]=p,O[++N]=M,O[++N]=w,O[++N]=b,O[++N]=V,z[++N]=I,O[++N]=x,O[++N]=C,O[++N]=D,O[++N]=F,O[++N]=b,O[++N]=V,z[++N]=G,O[++N]=E,O[++N]=R,O[++N]=D,O[++N]=w,O[++N]=b,O[++N]=V,z[++N]=L,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(c),U},batchTri:function(c,d,p,m,y,x,C,E,R,M,w,D,F,I,L,B,G){G===void 0&&(G=this.currentUnit);var V=!1;this.shouldFlush(3)&&(this.flush(),V=!0),this.currentBatch||(G=this.setTexture2D(B));var X=this.vertexViewF32,b=this.vertexViewU32,U=this.vertexCount*this.currentShader.vertexComponentCount-1;return X[++U]=d,X[++U]=p,X[++U]=E,X[++U]=R,X[++U]=G,X[++U]=L,b[++U]=D,X[++U]=m,X[++U]=y,X[++U]=E,X[++U]=w,X[++U]=G,X[++U]=L,b[++U]=F,X[++U]=x,X[++U]=C,X[++U]=M,X[++U]=w,X[++U]=G,X[++U]=L,b[++U]=I,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(c),V},drawFillRect:function(c,d,p,m,y,x,C,E){C===void 0&&(C=this.renderer.whiteTexture),E===void 0&&(E=!0),c=Math.floor(c),d=Math.floor(d);var R=Math.floor(c+p),M=Math.floor(d+m),w=this.setTexture2D(C),D=i.getTintAppendFloatAlphaAndSwap(y,x),F=0,I=0,L=1,B=1;E&&(I=1,B=0),this.batchQuad(null,c,d,c,M,R,M,R,d,F,I,L,B,D,D,D,D,0,C,w)},setTexture2D:function(c){return c===void 0&&(c=this.renderer.whiteTexture),this.pushBatch(c)},bindTexture:function(c,d){d===void 0&&(d=0);var p=this.gl;return p.activeTexture(p.TEXTURE0+d),p.bindTexture(p.TEXTURE_2D,c.webGLTexture),this},bindRenderTarget:function(c,d){return this.bindTexture(c.texture,d)},setTime:function(c,d){return this.set1f(c,this.game.loop.getDuration(),d),this},setBoolean:function(c,d,p){return p===void 0&&(p=this.currentShader),p.setBoolean(c,d),this},set1f:function(c,d,p){return p===void 0&&(p=this.currentShader),p.set1f(c,d),this},set2f:function(c,d,p,m){return m===void 0&&(m=this.currentShader),m.set2f(c,d,p),this},set3f:function(c,d,p,m,y){return y===void 0&&(y=this.currentShader),y.set3f(c,d,p,m),this},set4f:function(c,d,p,m,y,x){return x===void 0&&(x=this.currentShader),x.set4f(c,d,p,m,y),this},set1fv:function(c,d,p){return p===void 0&&(p=this.currentShader),p.set1fv(c,d),this},set2fv:function(c,d,p){return p===void 0&&(p=this.currentShader),p.set2fv(c,d),this},set3fv:function(c,d,p){return p===void 0&&(p=this.currentShader),p.set3fv(c,d),this},set4fv:function(c,d,p){return p===void 0&&(p=this.currentShader),p.set4fv(c,d),this},set1iv:function(c,d,p){return p===void 0&&(p=this.currentShader),p.set1iv(c,d),this},set2iv:function(c,d,p){return p===void 0&&(p=this.currentShader),p.set2iv(c,d),this},set3iv:function(c,d,p){return p===void 0&&(p=this.currentShader),p.set3iv(c,d),this},set4iv:function(c,d,p){return p===void 0&&(p=this.currentShader),p.set4iv(c,d),this},set1i:function(c,d,p){return p===void 0&&(p=this.currentShader),p.set1i(c,d),this},set2i:function(c,d,p,m){return m===void 0&&(m=this.currentShader),m.set2i(c,d,p),this},set3i:function(c,d,p,m,y){return y===void 0&&(y=this.currentShader),y.set3i(c,d,p,m),this},set4i:function(c,d,p,m,y,x){return x===void 0&&(x=this.currentShader),x.set4i(c,d,p,m,y),this},setMatrix2fv:function(c,d,p,m){return m===void 0&&(m=this.currentShader),m.setMatrix2fv(c,d,p),this},setMatrix3fv:function(c,d,p,m){return m===void 0&&(m=this.currentShader),m.setMatrix3fv(c,d,p),this},setMatrix4fv:function(c,d,p,m){return m===void 0&&(m=this.currentShader),m.setMatrix4fv(c,d,p),this},destroy:function(){this.emit(s.DESTROY,this);var c,d=this.shaders;for(c=0;c<d.length;c++)d[c].destroy();var p=this.renderTargets;for(c=0;c<p.length;c++)p[c].destroy();var m=this.renderer;return m.deleteBuffer(this.vertexBuffer),m.off(n.RESIZE,this.resize,this),m.off(n.PRE_RENDER,this.onPreRender,this),m.off(n.RENDER,this.onRender,this),m.off(n.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});o.exports=f},74797:(o,g,t)=>{var a=t(95428),v=t(72905),h=t(19715),s=t(83419),r=t(8054),e=t(50792),n=t(92503),l=t(50030),i=t(37867),u=t(29747),f=t(7530),c=t(32302),d=t(97480),p=t(69442),m=t(70554),y=t(88815),x=t(26128),C=t(1482),E=t(82751),R=t(84387),M=t(93567),w=t(57183),D=!1;if(0)var F;var I=new s({Extends:e,initialize:function(B){e.call(this);var G=B.config,V={alpha:G.transparent,desynchronized:G.desynchronized,depth:!0,antialias:G.antialiasGL,premultipliedAlpha:G.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:G.failIfMajorPerformanceCaveat,powerPreference:G.powerPreference,preserveDrawingBuffer:G.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:G.clearBeforeRender,antialias:G.antialias,backgroundColor:G.backgroundColor,contextCreation:V,roundPixels:G.roundPixels,maxTextures:G.maxTextures,maxTextureSize:G.maxTextureSize,batchSize:G.batchSize,maxLights:G.maxLights,mipmapFilter:G.mipmapFilter},this.game=B,this.type=r.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=B.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=u,this.contextRestoredHandler=u,this.previousContextLostHandler=u,this.previousContextRestoredHandler=u,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(L){var B,G=this.game,V=this.canvas,X=L.backgroundColor;if(D&&(this.spector=new F.Spector,this.spector.onCapture.add(this.onCapture.bind(this))),G.config.context?B=G.config.context:B=V.getContext("webgl",L.contextCreation)||V.getContext("experimental-webgl",L.contextCreation),!B||B.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=B,this.setExtensions(),this.setContextHandlers(),G.context=B;for(var b=0;b<=27;b++)this.blendModes.push({func:[B.ONE,B.ONE_MINUS_SRC_ALPHA],equation:B.FUNC_ADD});this.blendModes[1].func=[B.ONE,B.DST_ALPHA],this.blendModes[2].func=[B.DST_COLOR,B.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[B.ONE,B.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[B.ZERO,B.ONE_MINUS_SRC_ALPHA],equation:B.FUNC_REVERSE_SUBTRACT},this.glFormats=[B.BYTE,B.SHORT,B.UNSIGNED_BYTE,B.UNSIGNED_SHORT,B.FLOAT],this.glFuncMap={mat2:{func:B.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:B.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:B.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:B.uniform1f,length:1},"1fv":{func:B.uniform1fv,length:1},"1i":{func:B.uniform1i,length:1},"1iv":{func:B.uniform1iv,length:1},"2f":{func:B.uniform2f,length:2},"2fv":{func:B.uniform2fv,length:1},"2i":{func:B.uniform2i,length:2},"2iv":{func:B.uniform2iv,length:1},"3f":{func:B.uniform3f,length:3},"3fv":{func:B.uniform3fv,length:1},"3i":{func:B.uniform3i,length:3},"3iv":{func:B.uniform3iv,length:1},"4f":{func:B.uniform4f,length:4},"4fv":{func:B.uniform4fv,length:1},"4i":{func:B.uniform4i,length:4},"4iv":{func:B.uniform4iv,length:1}},(!L.maxTextures||L.maxTextures===-1)&&(L.maxTextures=B.getParameter(B.MAX_TEXTURE_IMAGE_UNITS)),L.maxTextureSize||(L.maxTextureSize=B.getParameter(B.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),B.disable(B.DEPTH_TEST),B.disable(B.CULL_FACE),B.enable(B.BLEND),B.clearColor(X.redGL,X.greenGL,X.blueGL,X.alphaGL),B.clear(B.COLOR_BUFFER_BIT);var U=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];return U.indexOf(L.mipmapFilter)!==-1&&(this.mipmapFilter=B[L.mipmapFilter]),this.maxTextures=m.checkShaderMax(B,L.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new f(this),this.setBlendMode(r.BlendModes.NORMAL),this.projectionMatrix=new i().identity(),G.textures.once(p.READY,this.boot,this),this},boot:function(){var L=this.game,B=this.pipelines,G=L.scale.baseSize,V=G.width,X=G.height;this.width=V,this.height=X,this.isBooted=!0,this.renderTarget=new c(this,V,X,1,0,!0,!0),this.maskTarget=new c(this,V,X,1,0,!0,!0),this.maskSource=new c(this,V,X,1,0,!0,!0);var b=L.config;B.boot(b.pipeline,b.defaultPipeline,b.autoMobilePipeline),this.blankTexture=L.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=L.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=L.textures.getFrame("__WHITE").glTexture;var U=this.gl;U.bindFramebuffer(U.FRAMEBUFFER,null),U.enable(U.SCISSOR_TEST),L.scale.on(d.RESIZE,this.onResize,this),this.resize(V,X)},setExtensions:function(){var L=this.gl,B=L.getSupportedExtensions();this.supportedExtensions=B;var G="ANGLE_instanced_arrays";this.instancedArraysExtension=B.indexOf(G)>-1?L.getExtension(G):null;var V="OES_vertex_array_object";this.vaoExtension=B.indexOf(V)>-1?L.getExtension(V):null},setContextHandlers:function(L,B){this.previousContextLostHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextLostHandler,!1),this.previousContextRestoredHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextRestoredHandler,!1),typeof L=="function"?this.contextLostHandler=L.bind(this):this.contextLostHandler=this.dispatchContextLost.bind(this),typeof B=="function"?this.contextRestoredHandler=B.bind(this):this.contextRestoredHandler=this.dispatchContextRestored.bind(this),this.canvas.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),this.previousContextLostHandler=this.contextLostHandler,this.previousContextRestoredHandler=this.contextRestoredHandler},dispatchContextLost:function(L){this.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),this.emit(n.LOSE_WEBGL,this),L.preventDefault()},dispatchContextRestored:function(L){var B=this.gl;if(B.isContextLost()){console&&console.log("WebGL Context restored, but context is still lost");return}this.currentProgram=null,this.currentFramebuffer=null,this.setBlendMode(r.BlendModes.NORMAL),B.disable(B.BLEND),B.disable(B.DEPTH_TEST),B.enable(B.CULL_FACE),this.compression=this.getCompressedTextures();var G=function(V){V.createResource()};a(this.glTextureWrappers,G),a(this.glBufferWrappers,G),a(this.glFramebufferWrappers,G),a(this.glProgramWrappers,G),a(this.glAttribLocationWrappers,G),a(this.glUniformLocationWrappers,G),this.createTemporaryTextures(),this.pipelines.restoreContext(),this.resize(this.game.scale.baseSize.width,this.game.scale.baseSize.height),this.setExtensions(),this.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),this.emit(n.RESTORE_WEBGL,this),L.preventDefault()},createTemporaryTextures:function(){for(var L=this.gl,B=0;B<this.maxTextures;B++){var G=L.createTexture();L.activeTexture(L.TEXTURE0+B),L.bindTexture(L.TEXTURE_2D,G),L.texImage2D(L.TEXTURE_2D,0,L.RGBA,1,1,0,L.RGBA,L.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(B)}},captureFrame:function(L,B){L===void 0&&(L=!1),B===void 0&&(B=!1),D&&this.spector&&!this._debugCapture&&(this.spector.captureCanvas(this.canvas,0,L,B),this._debugCapture=!0)},captureNextFrame:function(){D&&this.spector&&!this._debugCapture&&(this._debugCapture=!0,this.spector.captureNextFrame(this.canvas))},getFps:function(){if(D&&this.spector)return this.spector.getFps()},log:function(){if(D&&this.spector){var L=Array.prototype.slice.call(arguments).join(" ");return this.spector.log(L)}},startCapture:function(L,B,G){L===void 0&&(L=0),B===void 0&&(B=!1),G===void 0&&(G=!1),D&&this.spector&&!this._debugCapture&&(this.spector.startCapture(this.canvas,L,B,G),this._debugCapture=!0)},stopCapture:function(){if(D&&this.spector&&this._debugCapture)return this.spector.stopCapture()},onCapture:function(L){if(D){var B=this.spector.getResultUI();B.display(L),this._debugCapture=!1}},onResize:function(L,B){(B.width!==this.width||B.height!==this.height)&&this.resize(B.width,B.height)},beginCapture:function(L,B){L===void 0&&(L=this.width),B===void 0&&(B=this.height),this.renderTarget.bind(!0,L,B),this.setProjectionMatrix(L,B)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(L,B){var G=this.gl;return this.width=L,this.height=B,this.setProjectionMatrix(L,B),G.viewport(0,0,L,B),this.drawingBufferHeight=G.drawingBufferHeight,G.scissor(0,G.drawingBufferHeight-B,L,B),this.defaultScissor[2]=L,this.defaultScissor[3]=B,this.emit(n.RESIZE,L,B),this},getCompressedTextures:function(){var L="WEBGL_compressed_texture_",B="WEBKIT_"+L,G="EXT_texture_compression_",V=function(b,U){var O=b.getExtension(L+U)||b.getExtension(B+U)||b.getExtension(G+U);if(O){var z={};for(var N in O)z[O[N]]=N;return z}},X=this.gl;return{ETC:V(X,"etc"),ETC1:V(X,"etc1"),ATC:V(X,"atc"),ASTC:V(X,"astc"),BPTC:V(X,"bptc"),RGTC:V(X,"rgtc"),PVRTC:V(X,"pvrtc"),S3TC:V(X,"s3tc"),S3TCSRGB:V(X,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(L,B){var G=this.compression[L.toUpperCase()];if(B in G)return G[B]},supportsCompressedTexture:function(L,B){var G=this.compression[L.toUpperCase()];return G?B?B in G:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(L,B){return(L!==this.projectionWidth||B!==this.projectionHeight)&&(this.projectionWidth=L,this.projectionHeight=B,this.projectionMatrix.ortho(0,L,B,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(L){return this.supportedExtensions?this.supportedExtensions.indexOf(L):!1},getExtension:function(L){return this.hasExtension(L)?(L in this.extensions||(this.extensions[L]=this.gl.getExtension(L)),this.extensions[L]):null},flush:function(){this.pipelines.flush()},pushScissor:function(L,B,G,V,X){X===void 0&&(X=this.drawingBufferHeight);var b=this.scissorStack,U=[L,B,G,V];return b.push(U),this.setScissor(L,B,G,V,X),this.currentScissor=U,U},setScissor:function(L,B,G,V,X){X===void 0&&(X=this.drawingBufferHeight);var b=this.gl,U=this.currentScissor,O=G>0&&V>0;if(U&&O){var z=U[0],N=U[1],Y=U[2],W=U[3];O=z!==L||N!==B||Y!==G||W!==V}O&&(this.flush(),b.scissor(L,X-B-V,G,V))},resetScissor:function(){var L=this.gl;L.enable(L.SCISSOR_TEST);var B=this.currentScissor;if(B){var G=B[0],V=B[1],X=B[2],b=B[3];X>0&&b>0&&L.scissor(G,this.drawingBufferHeight-V-b,X,b)}},popScissor:function(){var L=this.scissorStack;L.pop();var B=L[L.length-1];B&&this.setScissor(B[0],B[1],B[2],B[3]),this.currentScissor=B},hasActiveStencilMask:function(){var L=this.currentMask.mask,B=this.currentCameraMask.mask;return L&&L.isStencil||B&&B.isStencil},resetViewport:function(){var L=this.gl;L.viewport(0,0,this.width,this.height),this.drawingBufferHeight=L.drawingBufferHeight},setBlendMode:function(L,B){B===void 0&&(B=!1);var G=this.gl,V=this.blendModes[L];return B||L!==r.BlendModes.SKIP_CHECK&&this.currentBlendMode!==L?(this.flush(),G.enable(G.BLEND),G.blendEquation(V.equation),V.func.length>2?G.blendFuncSeparate(V.func[0],V.func[1],V.func[2],V.func[3]):G.blendFunc(V.func[0],V.func[1]),this.currentBlendMode=L,!0):!1},addBlendMode:function(L,B){var G=this.blendModes.push({func:L,equation:B});return G-1},updateBlendMode:function(L,B,G){return this.blendModes[L]&&(this.blendModes[L].func=B,G&&(this.blendModes[L].equation=G)),this},removeBlendMode:function(L){return L>17&&this.blendModes[L]&&this.blendModes.splice(L,1),this},pushFramebuffer:function(L,B,G,V,X){return L===this.currentFramebuffer?this:(this.fboStack.push(L),this.setFramebuffer(L,B,G,V,X))},setFramebuffer:function(L,B,G,V,X){if(B===void 0&&(B=!1),G===void 0&&(G=!0),V===void 0&&(V=null),X===void 0&&(X=!1),L===this.currentFramebuffer)return this;var b=this.gl,U=this.width,O=this.height;return L&&L.renderTexture&&G?(U=L.renderTexture.width,O=L.renderTexture.height):this.flush(),L?b.bindFramebuffer(b.FRAMEBUFFER,L.webGLFramebuffer):b.bindFramebuffer(b.FRAMEBUFFER,null),G&&b.viewport(0,0,U,O),V&&b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,V.webGLTexture,0),X&&(b.clearColor(0,0,0,0),b.clear(b.COLOR_BUFFER_BIT)),B&&(L?(this.drawingBufferHeight=O,this.pushScissor(0,0,U,O)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=L,this},popFramebuffer:function(L,B){L===void 0&&(L=!1),B===void 0&&(B=!0);var G=this.fboStack;G.pop();var V=G[G.length-1];return V||(V=null),this.setFramebuffer(V,L,B),V},restoreFramebuffer:function(L,B){L===void 0&&(L=!1),B===void 0&&(B=!0);var G=this.fboStack,V=G[G.length-1];V||(V=null),this.currentFramebuffer=null,this.setFramebuffer(V,L,B)},setProgram:function(L){return L!==this.currentProgram?(this.flush(),this.gl.useProgram(L.webGLProgram),this.currentProgram=L,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(L,B,G,V,X){X===void 0&&(X=!1);var b=this.gl,U=b.NEAREST,O=b.NEAREST,z=b.CLAMP_TO_EDGE,N=null;B=L?L.width:B,G=L?L.height:G;var Y=l(B,G);if(Y&&!X&&(z=b.REPEAT),V===r.ScaleModes.LINEAR&&this.config.antialias){var W=L&&L.compressed,H=!W&&Y||W&&L.mipmaps.length>1;U=this.mipmapFilter&&H?this.mipmapFilter:b.LINEAR,O=b.LINEAR}return!L&&typeof B=="number"&&typeof G=="number"?N=this.createTexture2D(0,U,O,z,z,b.RGBA,null,B,G):N=this.createTexture2D(0,U,O,z,z,b.RGBA,L),N},createTexture2D:function(L,B,G,V,X,b,U,O,z,N,Y,W){typeof O!="number"&&(O=U?U.width:1),typeof z!="number"&&(z=U?U.height:1);var H=new E(this.gl,L,B,G,V,X,b,U,O,z,N,Y,W);return this.glTextureWrappers.push(H),H},createFramebuffer:function(L,B,G,V){this.currentFramebuffer=null;var X=new R(this.gl,L,B,G,V);return this.glFramebufferWrappers.push(X),X},beginBitmapMask:function(L,B){var G=this.gl;G&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==L&&(this.currentMask.mask=L,this.currentMask.camera=B))},drawBitmapMask:function(L,B,G){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),L.renderWebGL(this,L,B),this.maskSource.unbind(!0),this.maskTarget.unbind();var V=this.gl,X=this.getCurrentStencilMask();X?(V.enable(V.STENCIL_TEST),X.mask.applyStencil(this,X.camera,!0)):this.currentMask.mask=null,this.pipelines.set(G),V.activeTexture(V.TEXTURE0),V.bindTexture(V.TEXTURE_2D,this.maskTarget.texture.webGLTexture),V.activeTexture(V.TEXTURE1),V.bindTexture(V.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(L,B){var G=new C(this.gl,L,B);return this.glProgramWrappers.push(G),G},createVertexBuffer:function(L,B){var G=this.gl,V=new x(G,L,G.ARRAY_BUFFER,B);return this.glBufferWrappers.push(V),V},createAttribLocation:function(L,B){var G=new M(this.gl,L,B);return this.glAttribLocationWrappers.push(G),G},createUniformLocation:function(L,B){var G=new w(this.gl,L,B);return this.glUniformLocationWrappers.push(G),G},createIndexBuffer:function(L,B){var G=this.gl,V=new x(G,L,G.ELEMENT_ARRAY_BUFFER,B);return this.glBufferWrappers.push(V),V},deleteTexture:function(L){if(L)return v(this.glTextureWrappers,L),L.destroy(),this},deleteFramebuffer:function(L){return L?(v(this.fboStack,L),v(this.glFramebufferWrappers,L),L.destroy(),this):this},deleteProgram:function(L){return L&&(v(this.glProgramWrappers,L),L.destroy()),this},deleteAttribLocation:function(L){return L&&(v(this.glAttribLocationWrappers,L),L.destroy()),this},deleteUniformLocation:function(L){return L&&(v(this.glUniformLocationWrappers,L),L.destroy()),this},deleteBuffer:function(L){return L?(v(this.glBufferWrappers,L),L.destroy(),this):this},preRenderCamera:function(L){var B=L.x,G=L.y,V=L.width,X=L.height,b=L.backgroundColor;if(L.emit(h.PRE_RENDER,L),this.pipelines.preBatchCamera(L),this.pushScissor(B,G,V,X),L.mask&&(this.currentCameraMask.mask=L.mask,this.currentCameraMask.camera=L._maskCamera,L.mask.preRenderWebGL(this,L,L._maskCamera)),b.alphaGL>0){var U=this.pipelines.setMulti();U.drawFillRect(B,G,V,X,m.getTintFromFloats(b.blueGL,b.greenGL,b.redGL,1),b.alphaGL)}},getCurrentStencilMask:function(){var L=null,B=this.maskStack,G=this.currentCameraMask;return B.length>0?L=B[B.length-1]:G.mask&&G.mask.isStencil&&(L=G),L},postRenderCamera:function(L){var B=L.flashEffect,G=L.fadeEffect;if(B.isRunning||G.isRunning||G.isComplete){var V=this.pipelines.setMulti();B.postRenderWebGL(V,m.getTintFromFloats),G.postRenderWebGL(V,m.getTintFromFloats)}L.dirty=!1,this.popScissor(),L.mask&&(this.currentCameraMask.mask=null,L.mask.postRenderWebGL(this,L._maskCamera)),this.pipelines.postBatchCamera(L),L.emit(h.POST_RENDER,L)},preRender:function(){if(!this.contextLost){var L=this.gl;if(L.bindFramebuffer(L.FRAMEBUFFER,null),this.emit(n.PRE_RENDER_CLEAR),this.config.clearBeforeRender){var B=this.config.backgroundColor;L.clearColor(B.redGL,B.greenGL,B.blueGL,B.alphaGL),L.clear(L.COLOR_BUFFER_BIT|L.DEPTH_BUFFER_BIT|L.STENCIL_BUFFER_BIT)}L.enable(L.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&L.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(n.PRE_RENDER)}},render:function(L,B,G){if(!this.contextLost){var V=B.length;if(this.emit(n.RENDER,L,G),this.preRenderCamera(G),V===0){this.setBlendMode(r.BlendModes.NORMAL),this.postRenderCamera(G);return}this.currentType="";for(var X=this.currentMask,b=0;b<V;b++){this.finalType=b===V-1;var U=B[b],O=U.mask;X=this.currentMask,X.mask&&X.mask!==O&&X.mask.postRenderWebGL(this,X.camera),O&&X.mask!==O&&O.preRenderWebGL(this,U,G),U.blendMode!==this.currentBlendMode&&this.setBlendMode(U.blendMode);var z=U.type;z!==this.currentType&&(this.newType=!0,this.currentType=z),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=B[b+1].type===this.currentType,U.renderWebGL(this,U,G),this.newType=!1}X=this.currentMask,X.mask&&X.mask.postRenderWebGL(this,X.camera),this.setBlendMode(r.BlendModes.NORMAL),this.postRenderCamera(G)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(n.POST_RENDER);var L=this.snapshotState;L.callback&&(y(this.gl,L),L.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var L=this.gl,B=this.getCurrentStencilMask();if(B){var G=B.mask;L.enable(L.STENCIL_TEST),G.invertAlpha?L.stencilFunc(L.NOTEQUAL,G.level,255):L.stencilFunc(L.EQUAL,G.level,255)}},snapshot:function(L,B,G){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,L,B,G)},snapshotArea:function(L,B,G,V,X,b,U){var O=this.snapshotState;return O.callback=X,O.type=b,O.encoder=U,O.getPixel=!1,O.x=L,O.y=B,O.width=G,O.height=V,this},snapshotPixel:function(L,B,G){return this.snapshotArea(L,B,1,1,G),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(L,B,G,V,X,b,U,O,z,N,Y){X===void 0&&(X=!1),b===void 0&&(b=0),U===void 0&&(U=0),O===void 0&&(O=B),z===void 0&&(z=G),N==="pixel"&&(X=!0,N="image/png");var W=this.currentFramebuffer;this.snapshotArea(b,U,O,z,V,N,Y);var H=this.snapshotState;return H.getPixel=X,H.isFramebuffer=!0,H.bufferWidth=B,H.bufferHeight=G,H.width=Math.min(H.width,B),H.height=Math.min(H.height,G),this.setFramebuffer(L),y(this.gl,H),this.setFramebuffer(W),H.callback=null,H.isFramebuffer=!1,this},canvasToTexture:function(L,B,G,V){G===void 0&&(G=!1),V===void 0&&(V=!1);var X=this.gl,b=X.NEAREST,U=X.NEAREST,O=L.width,z=L.height,N=X.CLAMP_TO_EDGE,Y=l(O,z);return!G&&Y&&(N=X.REPEAT),this.config.antialias&&(b=Y&&this.mipmapFilter?this.mipmapFilter:X.LINEAR,U=X.LINEAR),B?(B.update(L,O,z,V,N,N,b,U,B.format),B):this.createTexture2D(0,b,U,N,N,X.RGBA,L,O,z,!0,!1,V)},createCanvasTexture:function(L,B,G){return B===void 0&&(B=!1),G===void 0&&(G=!1),this.canvasToTexture(L,null,B,G)},updateCanvasTexture:function(L,B,G,V){return G===void 0&&(G=!1),V===void 0&&(V=!1),this.canvasToTexture(L,B,V,G)},videoToTexture:function(L,B,G,V){G===void 0&&(G=!1),V===void 0&&(V=!1);var X=this.gl,b=X.NEAREST,U=X.NEAREST,O=L.videoWidth,z=L.videoHeight,N=X.CLAMP_TO_EDGE,Y=l(O,z);return!G&&Y&&(N=X.REPEAT),this.config.antialias&&(b=Y&&this.mipmapFilter?this.mipmapFilter:X.LINEAR,U=X.LINEAR),B?(B.update(L,O,z,V,N,N,b,U,B.format),B):this.createTexture2D(0,b,U,N,N,X.RGBA,L,O,z,!0,!0,V)},createVideoTexture:function(L,B,G){return B===void 0&&(B=!1),G===void 0&&(G=!1),this.videoToTexture(L,null,B,G)},updateVideoTexture:function(L,B,G,V){return G===void 0&&(G=!1),V===void 0&&(V=!1),this.videoToTexture(L,B,V,G)},createUint8ArrayTexture:function(L,B,G){var V=this.gl,X=V.NEAREST,b=V.NEAREST,U=V.CLAMP_TO_EDGE,O=l(B,G);return O&&(U=V.REPEAT),this.createTexture2D(0,X,b,U,U,V.RGBA,L,B,G)},setTextureFilter:function(L,B){var G=this.gl,V=B===0?G.LINEAR:G.NEAREST;G.activeTexture(G.TEXTURE0);var X=G.getParameter(G.TEXTURE_BINDING_2D);return G.bindTexture(G.TEXTURE_2D,L.webGLTexture),G.texParameteri(G.TEXTURE_2D,G.TEXTURE_MIN_FILTER,V),G.texParameteri(G.TEXTURE_2D,G.TEXTURE_MAG_FILTER,V),L.minFilter=V,L.magFilter=V,X&&G.bindTexture(G.TEXTURE_2D,X),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var L=function(B){B.destroy()};a(this.glAttribLocationWrappers,L),a(this.glBufferWrappers,L),a(this.glFramebufferWrappers,L),a(this.glProgramWrappers,L),a(this.glTextureWrappers,L),a(this.glUniformLocationWrappers,L),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null,D&&(this.spector=null)}});o.exports=I},38683:(o,g,t)=>{var a=t(83419),v=t(95428),h=t(95540),s=t(14500),r=new a({initialize:function(n,l,i,u,f){this.pipeline=n,this.name=l,this.renderer=n.renderer,this.gl=this.renderer.gl,this.fragSrc=u,this.vertSrc=i,this.program=this.renderer.createProgram(i,u),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(f),this.createUniforms()},createAttributes:function(e){var n=0,l=0,i=[];this.vertexComponentCount=0;for(var u=0;u<e.length;u++){var f=e[u],c=f.name,d=h(f,"size",1),p=h(f,"type",s.FLOAT),m=p.enum,y=p.size,x=!!f.normalized;i.push({name:c,size:d,type:m,normalized:x,offset:l,enabled:!1,location:-1}),y===4?n+=d:n++,l+=d*y}this.vertexSize=l,this.vertexComponentCount=n,this.attributes=i},bind:function(e,n){return e===void 0&&(e=!1),n===void 0&&(n=!1),n&&this.pipeline.flush(),this.renderer.setProgram(this.program),e&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(e){e===void 0&&(e=!1);for(var n=this.gl,l=this.renderer,i=this.vertexSize,u=this.attributes,f=this.program,c=0;c<u.length;c++){var d=u[c],p=d.size,m=d.type,y=d.offset,x=d.enabled,C=d.location,E=!!d.normalized;if(e){C!==-1&&l.deleteAttribLocation(C);var R=this.renderer.createAttribLocation(f,d.name);R.webGLAttribLocation>=0?(n.enableVertexAttribArray(R.webGLAttribLocation),n.vertexAttribPointer(R.webGLAttribLocation,p,m,E,i,y),d.enabled=!0,d.location=R):R.webGLAttribLocation!==-1&&n.disableVertexAttribArray(R.webGLAttribLocation)}else x?n.vertexAttribPointer(C.webGLAttribLocation,p,m,E,i,y):!x&&C!==-1&&C.webGLAttribLocation>-1&&(n.disableVertexAttribArray(C.webGLAttribLocation),d.location=-1)}return this},createUniforms:function(){var e=this.gl,n=this.program,l=this.uniforms,i,u,f,c=e.getProgramParameter(n.webGLProgram,e.ACTIVE_UNIFORMS);for(i=0;i<c;i++){var d=e.getActiveUniform(n.webGLProgram,i);if(d){u=d.name,f=this.renderer.createUniformLocation(n,u),f!==null&&(l[u]={name:u,location:f,setter:null,value1:null,value2:null,value3:null,value4:null});var p=u.indexOf("[");p>0&&(u=u.substr(0,p),l.hasOwnProperty(u)||(f=this.renderer.createUniformLocation(n,u),f!==null&&(l[u]={name:u,location:f,setter:null,value1:null,value2:null,value3:null,value4:null})))}}return this},syncUniforms:function(){var e=this.gl;this.renderer.setProgram(this.program);for(var n in this.uniforms){var l=this.uniforms[n];l.setter&&l.setter.call(e,l.location.webGLUniformLocation,l.value1,l.value2,l.value3,l.value4)}},hasUniform:function(e){return this.uniforms.hasOwnProperty(e)},resetUniform:function(e){var n=this.uniforms[e];return n&&(n.value1=null,n.value2=null,n.value3=null,n.value4=null),this},setUniform1:function(e,n,l,i){var u=this.uniforms[n];return u?((i||u.value1!==l)&&(u.setter||(u.setter=e),u.value1=l,this.renderer.setProgram(this.program),e.call(this.gl,u.location.webGLUniformLocation,l),this.pipeline.currentShader=this),this):this},setUniform2:function(e,n,l,i,u){var f=this.uniforms[n];return f?((u||f.value1!==l||f.value2!==i)&&(f.setter||(f.setter=e),f.value1=l,f.value2=i,this.renderer.setProgram(this.program),e.call(this.gl,f.location.webGLUniformLocation,l,i),this.pipeline.currentShader=this),this):this},setUniform3:function(e,n,l,i,u,f){var c=this.uniforms[n];return c?((f||c.value1!==l||c.value2!==i||c.value3!==u)&&(c.setter||(c.setter=e),c.value1=l,c.value2=i,c.value3=u,this.renderer.setProgram(this.program),e.call(this.gl,c.location.webGLUniformLocation,l,i,u),this.pipeline.currentShader=this),this):this},setUniform4:function(e,n,l,i,u,f,c){var d=this.uniforms[n];return d?((c||d.value1!==l||d.value2!==i||d.value3!==u||d.value4!==f)&&(d.setter||(d.setter=e),d.value1=l,d.value2=i,d.value3=u,d.value4=f,this.renderer.setProgram(this.program),e.call(this.gl,d.location.webGLUniformLocation,l,i,u,f),this.pipeline.currentShader=this),this):this},setBoolean:function(e,n){return this.setUniform1(this.gl.uniform1i,e,Number(n))},set1f:function(e,n){return this.setUniform1(this.gl.uniform1f,e,n)},set2f:function(e,n,l){return this.setUniform2(this.gl.uniform2f,e,n,l)},set3f:function(e,n,l,i){return this.setUniform3(this.gl.uniform3f,e,n,l,i)},set4f:function(e,n,l,i,u){return this.setUniform4(this.gl.uniform4f,e,n,l,i,u)},set1fv:function(e,n){return this.setUniform1(this.gl.uniform1fv,e,n,!0)},set2fv:function(e,n){return this.setUniform1(this.gl.uniform2fv,e,n,!0)},set3fv:function(e,n){return this.setUniform1(this.gl.uniform3fv,e,n,!0)},set4fv:function(e,n){return this.setUniform1(this.gl.uniform4fv,e,n,!0)},set1iv:function(e,n){return this.setUniform1(this.gl.uniform1iv,e,n,!0)},set2iv:function(e,n){return this.setUniform1(this.gl.uniform2iv,e,n,!0)},set3iv:function(e,n){return this.setUniform1(this.gl.uniform3iv,e,n,!0)},set4iv:function(e,n){return this.setUniform1(this.gl.uniform4iv,e,n,!0)},set1i:function(e,n){return this.setUniform1(this.gl.uniform1i,e,n)},set2i:function(e,n,l){return this.setUniform2(this.gl.uniform2i,e,n,l)},set3i:function(e,n,l,i){return this.setUniform3(this.gl.uniform3i,e,n,l,i)},set4i:function(e,n,l,i,u){return this.setUniform4(this.gl.uniform4i,e,n,l,i,u)},setMatrix2fv:function(e,n,l){return this.setUniform2(this.gl.uniformMatrix2fv,e,n,l,!0)},setMatrix3fv:function(e,n,l){return this.setUniform2(this.gl.uniformMatrix3fv,e,n,l,!0)},setMatrix4fv:function(e,n,l){return this.setUniform2(this.gl.uniformMatrix4fv,e,n,l,!0)},createProgram:function(e,n){return e===void 0&&(e=this.vertSrc),n===void 0&&(n=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=e,this.fragSrc=n,this.program=this.renderer.createProgram(e,n),this.createUniforms(),this.rebind()},destroy:function(){var e=this.renderer;v(this.uniforms,function(n){e.deleteUniformLocation(n.location)}),this.uniforms=null,v(this.attributes,function(n){e.deleteAttribLocation(n.location)}),this.attributes=null,e.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});o.exports=r},14500:o=>{var g={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};o.exports=g},4159:(o,g,t)=>{var a=t(14500),v=t(79291),h={PipelineManager:t(7530),Pipelines:t(96615),RenderTarget:t(32302),Utils:t(70554),WebGLPipeline:t(29100),WebGLRenderer:t(74797),WebGLShader:t(38683),Wrappers:t(9503)};h=v(!1,h,a),o.exports=h},31302:(o,g,t)=>{var a=t(83419),v=t(95540),h=t(78908),s=t(85191),r=t(14500),e=t(29100),n=new a({Extends:e,initialize:function(i){i.fragShader=v(i,"fragShader",h),i.vertShader=v(i,"vertShader",s),i.batchSize=v(i,"batchSize",1),i.vertices=v(i,"vertices",[-1,1,-1,-7,7,1]),i.attributes=v(i,"attributes",[{name:"inPosition",size:2,type:r.FLOAT}]),e.call(this,i)},boot:function(){e.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(l,i){e.prototype.resize.call(this,l,i),this.set2f("uResolution",l,i)},beginMask:function(l,i,u){this.renderer.beginBitmapMask(l,u)},endMask:function(l,i,u){var f=this.gl,c=this.renderer,d=l.bitmapMask;d&&f&&(c.drawBitmapMask(d,i,this),u&&this.set2f("uResolution",u.width,u.height),this.set1i("uInvertMaskAlpha",l.invertAlpha),f.drawArrays(this.topology,0,3),u&&this.set2f("uResolution",this.width,this.height),f.bindTexture(f.TEXTURE_2D,null))}});o.exports=n},92651:(o,g,t)=>{var a=t(83419),v=t(58918),h=t(14811),s=t(95540),r=t(43558),e=t(89350),n=t(70554),l=new a({Extends:r,initialize:function(u){u.shaders=[n.setGlowQuality(e.FXGlowFrag,u.game),e.FXShadowFrag,e.FXPixelateFrag,e.FXVignetteFrag,e.FXShineFrag,e.FXBlurLowFrag,e.FXBlurMedFrag,e.FXBlurHighFrag,e.FXGradientFrag,e.FXBloomFrag,e.ColorMatrixFrag,e.FXCircleFrag,e.FXBarrelFrag,e.FXDisplacementFrag,e.FXWipeFrag,e.FXBokehFrag],r.call(this,u);var f=this.game;this.glow=new v.Glow(f),this.shadow=new v.Shadow(f),this.pixelate=new v.Pixelate(f),this.vignette=new v.Vignette(f),this.shine=new v.Shine(f),this.gradient=new v.Gradient(f),this.circle=new v.Circle(f),this.barrel=new v.Barrel(f),this.wipe=new v.Wipe(f),this.bokeh=new v.Bokeh(f);var c=[];c[h.GLOW]=this.onGlow,c[h.SHADOW]=this.onShadow,c[h.PIXELATE]=this.onPixelate,c[h.VIGNETTE]=this.onVignette,c[h.SHINE]=this.onShine,c[h.BLUR]=this.onBlur,c[h.GRADIENT]=this.onGradient,c[h.BLOOM]=this.onBloom,c[h.COLOR_MATRIX]=this.onColorMatrix,c[h.CIRCLE]=this.onCircle,c[h.BARREL]=this.onBarrel,c[h.DISPLACEMENT]=this.onDisplacement,c[h.WIPE]=this.onWipe,c[h.BOKEH]=this.onBokeh,this.fxHandlers=c,this.source,this.target,this.swap},onDraw:function(i,u,f){this.source=i,this.target=u,this.swap=f;var c=i.width,d=i.height,p=this.tempSprite,m=this.fxHandlers;if(p&&p.preFX)for(var y=p.preFX.list,x=0;x<y.length;x++){var C=y[x];C.active&&m[C.type].call(this,C,c,d)}this.drawToGame(this.source)},runDraw:function(){var i=this.source,u=this.target;this.copy(i,u),this.source=u,this.target=i},onGlow:function(i,u,f){var c=this.shaders[h.GLOW];this.setShader(c),this.glow.onPreRender(i,c,u,f),this.runDraw()},onShadow:function(i){var u=this.shaders[h.SHADOW];this.setShader(u),this.shadow.onPreRender(i,u),this.runDraw()},onPixelate:function(i,u,f){var c=this.shaders[h.PIXELATE];this.setShader(c),this.pixelate.onPreRender(i,c,u,f),this.runDraw()},onVignette:function(i){var u=this.shaders[h.VIGNETTE];this.setShader(u),this.vignette.onPreRender(i,u),this.runDraw()},onShine:function(i,u,f){var c=this.shaders[h.SHINE];this.setShader(c),this.shine.onPreRender(i,c,u,f),this.runDraw()},onBlur:function(i,u,f){var c=s(i,"quality"),d=this.shaders[h.BLUR+c];this.setShader(d),this.set1i("uMainSampler",0),this.set2f("resolution",u,f),this.set1f("strength",s(i,"strength")),this.set3fv("color",s(i,"glcolor"));for(var p=s(i,"x"),m=s(i,"y"),y=s(i,"steps"),x=0;x<y;x++)this.set2f("offset",p,0),this.runDraw(),this.set2f("offset",0,m),this.runDraw()},onGradient:function(i){var u=this.shaders[h.GRADIENT];this.setShader(u),this.gradient.onPreRender(i,u),this.runDraw()},onBloom:function(i,u,f){var c=this.shaders[h.BLOOM];this.copySprite(this.source,this.swap),this.setShader(c),this.set1i("uMainSampler",0),this.set1f("strength",s(i,"blurStrength")),this.set3fv("color",s(i,"glcolor"));for(var d=2/u*s(i,"offsetX"),p=2/f*s(i,"offsetY"),m=s(i,"steps"),y=0;y<m;y++)this.set2f("offset",d,0),this.runDraw(),this.set2f("offset",0,p),this.runDraw();this.blendFrames(this.swap,this.source,this.target,s(i,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(i){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",i.getData()),this.set1f("uAlpha",i.alpha),this.runDraw()},onCircle:function(i,u,f){var c=this.shaders[h.CIRCLE];this.setShader(c),this.circle.onPreRender(i,c,u,f),this.runDraw()},onBarrel:function(i){var u=this.shaders[h.BARREL];this.setShader(u),this.barrel.onPreRender(i,u),this.runDraw()},onDisplacement:function(i){this.setShader(this.shaders[h.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",i.x,i.y),this.bindTexture(i.glTexture,1),this.runDraw()},onWipe:function(i){var u=this.shaders[h.WIPE];this.setShader(u),this.wipe.onPreRender(i,u),this.runDraw()},onBokeh:function(i,u,f){var c=this.shaders[h.BOKEH];this.setShader(c),this.bokeh.onPreRender(i,c,u,f),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,r.prototype.destroy.call(this),this}});o.exports=l},96569:(o,g,t)=>{var a=t(83419),v=t(95540),h=t(31063),s=t(57516),r=t(61340),e=t(26099),n=t(29100),l=new a({Extends:s,initialize:function(u){var f=v(u,"fragShader",h);u.fragShader=f.replace("%LIGHT_COUNT%",u.game.renderer.config.maxLights),s.call(this,u),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new e,this._tempMatrix=new r,this._tempMatrix2=new r},boot:function(){n.prototype.boot.call(this)},onRender:function(i,u){var f=i.sys.lights;if(this.lightsActive=!1,!(!f||!f.active)){var c=f.getLights(u),d=c.length;this.lightsActive=!0;var p,m=this.renderer,y=m.height,x=u.matrix,C=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",u.x,u.y,u.rotation,u.zoom),this.set3f("uAmbientLightColor",f.ambientColor.r,f.ambientColor.g,f.ambientColor.b),this.set1i("uLightCount",d),p=0;p<d;p++){var E=c[p].light,R=E.color,M="uLights["+p+"].";x.transformPoint(E.x,E.y,C),this.set2f(M+"position",C.x-u.scrollX*E.scrollFactorX*u.zoom,y-(C.y-u.scrollY*E.scrollFactorY*u.zoom)),this.set3f(M+"color",R.r,R.g,R.b),this.set1f(M+"intensity",E.intensity),this.set1f(M+"radius",E.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(i){if(i!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var u=this.inverseRotationMatrix;if(i){var f=-i,c=Math.cos(f),d=Math.sin(f);u[1]=d,u[3]=-d,u[0]=u[4]=c}else u[0]=u[4]=1,u[1]=u[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,u),this.currentNormalMapRotation=i}},setTexture2D:function(i,u){var f=this.renderer;i===void 0&&(i=f.whiteTexture);var c=this.getNormalMap(u);this.isNewNormalMap(i,c)&&(this.flush(),this.createBatch(i),this.addTextureToBatch(c),this.currentNormalMap=c);var d=0;if(u&&u.parentContainer){var p=u.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);d=p.rotationNormalized}else u&&(d=u.rotation);return this.currentBatch===null&&(this.createBatch(i),this.addTextureToBatch(c)),this.setNormalMapRotation(d),0},setGameObject:function(i,u){u===void 0&&(u=i.frame);var f=u.glTexture,c=this.getNormalMap(i);if(this.isNewNormalMap(f,c)&&(this.flush(),this.createBatch(f),this.addTextureToBatch(c),this.currentNormalMap=c),i.parentContainer){var d=i.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(d.rotationNormalized)}else this.setNormalMapRotation(i.rotation);return this.currentBatch===null&&(this.createBatch(f),this.addTextureToBatch(c)),0},isNewNormalMap:function(i,u){return this.currentTexture!==i||this.currentNormalMap!==u},getNormalMap:function(i){var u;if(i)i.displayTexture?u=i.displayTexture.dataSource[i.displayFrame.sourceIndex]:i.texture?u=i.texture.dataSource[i.frame.sourceIndex]:i.tileset&&(Array.isArray(i.tileset)?u=i.tileset[0].image.dataSource[0]:u=i.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return u?u.glTexture:this.renderer.normalTexture},batchSprite:function(i,u,f){this.lightsActive&&s.prototype.batchSprite.call(this,i,u,f)},batchTexture:function(i,u,f,c,d,p,m,y,x,C,E,R,M,w,D,F,I,L,B,G,V,X,b,U,O,z,N,Y,W,H,$,j){this.lightsActive&&s.prototype.batchTexture.call(this,i,u,f,c,d,p,m,y,x,C,E,R,M,w,D,F,I,L,B,G,V,X,b,U,O,z,N,Y,W,H,$,j)},batchTextureFrame:function(i,u,f,c,d,p,m){this.lightsActive&&s.prototype.batchTextureFrame.call(this,i,u,f,c,d,p,m)}});o.exports=l},56527:(o,g,t)=>{var a=t(83419),v=t(95540),h=t(57516),s=t(45561),r=t(60722),e=t(14500),n=t(29100),l=new a({Extends:h,initialize:function(u){u.fragShader=v(u,"fragShader",s),u.vertShader=v(u,"vertShader",r),u.attributes=v(u,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:e.UNSIGNED_BYTE,normalized:!0}]),u.forceZero=!0,u.resizeUniform="uResolution",h.call(this,u)},boot:function(){n.prototype.boot.call(this);var i=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",i.width,i.height)}});o.exports=l},57516:(o,g,t)=>{var a=t(83419),v=t(94811),h=t(95540),s=t(98840),r=t(44667),e=t(61340),n=t(70554),l=t(14500),i=t(29100),u=new a({Extends:i,initialize:function(c){var d=c.game.renderer,p=h(c,"fragShader",s);c.fragShader=n.parseFragmentShaderMaxTextures(p,d.maxTextures),c.vertShader=h(c,"vertShader",r),c.attributes=h(c,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:l.UNSIGNED_BYTE,normalized:!0}]),c.resizeUniform="uResolution",i.call(this,c),this._tempMatrix1=new e,this._tempMatrix2=new e,this._tempMatrix3=new e,this.calcMatrix=new e,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){i.prototype.boot.call(this);var f=this.renderer;this.set1iv("uMainSampler",f.textureIndexes),this.set2f("uResolution",f.width,f.height)},batchSprite:function(f,c,d){this.manager.set(this,f);var p=this._tempMatrix1,m=this._tempMatrix2,y=this._tempMatrix3,x=f.frame,C=x.glTexture,E=x.u0,R=x.v0,M=x.u1,w=x.v1,D=x.x,F=x.y,I=x.cutWidth,L=x.cutHeight,B=x.customPivot,G=f.displayOriginX,V=f.displayOriginY,X=-G+D,b=-V+F;if(f.isCropped){var U=f._crop;(U.flipX!==f.flipX||U.flipY!==f.flipY)&&x.updateCropUVs(U,f.flipX,f.flipY),E=U.u0,R=U.v0,M=U.u1,w=U.v1,I=U.width,L=U.height,D=U.x,F=U.y,X=-G+D,b=-V+F}var O=1,z=1;f.flipX&&(B||(X+=-x.realWidth+G*2),O=-1),f.flipY&&(B||(b+=-x.realHeight+V*2),z=-1);var N=f.x,Y=f.y;c.roundPixels&&(N=Math.floor(N),Y=Math.floor(Y)),m.applyITRS(N,Y,f.rotation,f.scaleX*O,f.scaleY*z),p.copyFrom(c.matrix),d?(p.multiplyWithOffset(d,-c.scrollX*f.scrollFactorX,-c.scrollY*f.scrollFactorY),m.e=N,m.f=Y):(m.e-=c.scrollX*f.scrollFactorX,m.f-=c.scrollY*f.scrollFactorY),p.multiply(m,y);var W=y.setQuad(X,b,X+I,b+L,c.renderRoundPixels),H=n.getTintAppendFloatAlpha,$=c.alpha,j=H(f.tintTopLeft,$*f._alphaTL),Z=H(f.tintTopRight,$*f._alphaTR),J=H(f.tintBottomLeft,$*f._alphaBL),K=H(f.tintBottomRight,$*f._alphaBR);this.shouldFlush(6)&&this.flush();var Q=this.setGameObject(f,x);this.manager.preBatch(f),this.batchQuad(f,W[0],W[1],W[2],W[3],W[4],W[5],W[6],W[7],E,R,M,w,j,Z,J,K,f.tintFill,C,Q),this.manager.postBatch(f)},batchTexture:function(f,c,d,p,m,y,x,C,E,R,M,w,D,F,I,L,B,G,V,X,b,U,O,z,N,Y,W,H,$,j,Z,J,K){K===void 0&&(K=!1),this.manager.set(this,f);var Q=this._tempMatrix1,_=this._tempMatrix2,k=this._tempMatrix3,nt=G/d+W,st=V/p+H,at=(G+X)/d+W,q=(V+b)/p+H,et=x,it=C,lt=-L,gt=-B;if(f.isCropped){var wt=f._crop,ct=wt.width,pt=wt.height;et=ct,it=pt,x=ct,C=pt,G=wt.x,V=wt.y;var Ft=G,jt=V;w&&(Ft=X-wt.x-ct),D&&(jt=b-wt.y-pt),nt=Ft/d+W,st=jt/p+H,at=(Ft+ct)/d+W,q=(jt+pt)/p+H,lt=-L+G,gt=-B+V}D=D^(!Z&&c.isRenderTexture?1:0),w&&(et*=-1,lt+=x),D&&(it*=-1,gt+=C),$.roundPixels&&(m=Math.floor(m),y=Math.floor(y)),_.applyITRS(m,y,M,E,R),Q.copyFrom($.matrix),j?(Q.multiplyWithOffset(j,-$.scrollX*F,-$.scrollY*I),_.e=m,_.f=y):(_.e-=$.scrollX*F,_.f-=$.scrollY*I),Q.multiply(_,k);var Et=k.setQuad(lt,gt,lt+et,gt+it,$.renderRoundPixels);J==null&&(J=this.setTexture2D(c)),f&&!K&&this.manager.preBatch(f),this.batchQuad(f,Et[0],Et[1],Et[2],Et[3],Et[4],Et[5],Et[6],Et[7],nt,st,at,q,U,O,z,N,Y,c,J),f&&!K&&this.manager.postBatch(f)},batchTextureFrame:function(f,c,d,p,m,y,x){this.manager.set(this);var C=this._tempMatrix1.copyFrom(y),E=this._tempMatrix2;x?C.multiply(x,E):E=C;var R=E.setQuad(c,d,c+f.width,d+f.height),M=this.setTexture2D(f.source.glTexture);p=n.getTintAppendFloatAlpha(p,m),this.batchQuad(null,R[0],R[1],R[2],R[3],R[4],R[5],R[6],R[7],f.u0,f.v0,f.u1,f.v1,p,p,p,p,0,f.glTexture,M)},batchFillRect:function(f,c,d,p,m,y){this.renderer.pipelines.set(this);var x=this.calcMatrix;y&&y.multiply(m,x);var C=x.setQuad(f,c,f+d,c+p),E=this.fillTint;this.batchQuad(null,C[0],C[1],C[2],C[3],C[4],C[5],C[6],C[7],0,0,1,1,E.TL,E.TR,E.BL,E.BR,2)},batchFillTriangle:function(f,c,d,p,m,y,x,C){this.renderer.pipelines.set(this);var E=this.calcMatrix;C&&C.multiply(x,E);var R=E.getX(f,c),M=E.getY(f,c),w=E.getX(d,p),D=E.getY(d,p),F=E.getX(m,y),I=E.getY(m,y),L=this.fillTint;this.batchTri(null,R,M,w,D,F,I,0,0,1,1,L.TL,L.TR,L.BL,2)},batchStrokeTriangle:function(f,c,d,p,m,y,x,C,E){var R=this.tempTriangle;R[0].x=f,R[0].y=c,R[0].width=x,R[1].x=d,R[1].y=p,R[1].width=x,R[2].x=m,R[2].y=y,R[2].width=x,R[3].x=f,R[3].y=c,R[3].width=x,this.batchStrokePath(R,x,!1,C,E)},batchFillPath:function(f,c,d){this.renderer.pipelines.set(this);var p=this.calcMatrix;d&&d.multiply(c,p);for(var m=f.length,y=this.polygonCache,x,C,E=this.fillTint.TL,R=this.fillTint.TR,M=this.fillTint.BL,w=0;w<m;++w)C=f[w],y.push(C.x,C.y);x=v(y),m=x.length;for(var D=0;D<m;D+=3){var F=x[D+0]*2,I=x[D+1]*2,L=x[D+2]*2,B=y[F+0],G=y[F+1],V=y[I+0],X=y[I+1],b=y[L+0],U=y[L+1],O=p.getX(B,G),z=p.getY(B,G),N=p.getX(V,X),Y=p.getY(V,X),W=p.getX(b,U),H=p.getY(b,U);this.batchTri(null,O,z,N,Y,W,H,0,0,1,1,E,R,M,2)}y.length=0},batchStrokePath:function(f,c,d,p,m){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var y=f.length-1,x=0;x<y;x++){var C=f[x],E=f[x+1];this.batchLine(C.x,C.y,E.x,E.y,C.width/2,E.width/2,c,x,!d&&x===y-1,p,m)}},batchLine:function(f,c,d,p,m,y,x,C,E,R,M){this.renderer.pipelines.set(this);var w=this.calcMatrix;M&&M.multiply(R,w);var D=d-f,F=p-c,I=Math.sqrt(D*D+F*F);if(I!==0){var L=m*(p-c)/I,B=m*(f-d)/I,G=y*(p-c)/I,V=y*(f-d)/I,X=d-G,b=p-V,U=f-L,O=c-B,z=d+G,N=p+V,Y=f+L,W=c+B,H=w.getX(X,b),$=w.getY(X,b),j=w.getX(U,O),Z=w.getY(U,O),J=w.getX(z,N),K=w.getY(z,N),Q=w.getX(Y,W),_=w.getY(Y,W),k=this.strokeTint,nt=k.TL,st=k.TR,at=k.BL,q=k.BR;if(this.batchQuad(null,Q,_,j,Z,H,$,J,K,0,0,1,1,nt,st,at,q,2),!(x<=2)){var et=this.prevQuad,it=this.firstQuad;C>0&&et[4]?this.batchQuad(null,Q,_,j,Z,et[0],et[1],et[2],et[3],0,0,1,1,nt,st,at,q,2):(it[0]=Q,it[1]=_,it[2]=j,it[3]=Z,it[4]=1),E&&it[4]?this.batchQuad(null,H,$,J,K,it[0],it[1],it[2],it[3],0,0,1,1,nt,st,at,q,2):(et[0]=H,et[1]=$,et[2]=J,et[3]=K,et[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,i.prototype.destroy.call(this),this}});o.exports=u},43439:(o,g,t)=>{var a=t(83419),v=t(95540),h=t(4127),s=t(89924),r=t(29100),e=new a({Extends:r,initialize:function(l){l.vertShader=v(l,"vertShader",s),l.fragShader=v(l,"fragShader",h),l.attributes=v(l,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),r.call(this,l)},onRender:function(n,l){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",l.zoom)},batchPointLight:function(n,l,i,u,f,c,d,p,m,y,x,C){var E=n.color,R=n.intensity,M=n.radius,w=n.attenuation,D=E.r*R,F=E.g*R,I=E.b*R,L=l.alpha*n.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(i,u,x,C,M,w,D,F,I,L),this.batchLightVert(f,c,x,C,M,w,D,F,I,L),this.batchLightVert(d,p,x,C,M,w,D,F,I,L),this.batchLightVert(i,u,x,C,M,w,D,F,I,L),this.batchLightVert(d,p,x,C,M,w,D,F,I,L),this.batchLightVert(m,y,x,C,M,w,D,F,I,L),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(n,l,i,u,f,c,d,p,m,y){var x=this.vertexViewF32,C=this.vertexCount*this.currentShader.vertexComponentCount-1;x[++C]=n,x[++C]=l,x[++C]=i,x[++C]=u,x[++C]=f,x[++C]=c,x[++C]=d,x[++C]=p,x[++C]=m,x[++C]=y,this.vertexCount++}});o.exports=e},84057:(o,g,t)=>{var a=t(83419),v=t(89422),h=t(95540),s=t(27681),r=t(49627),e=t(29100),n=new a({Extends:e,initialize:function(i){i.renderTarget=h(i,"renderTarget",1),i.fragShader=h(i,"fragShader",s),i.vertShader=h(i,"vertShader",r),i.attributes=h(i,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),i.batchSize=1,i.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],e.call(this,i),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new v,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){e.prototype.boot.call(this);var l=this.manager.UTILITY_PIPELINE;this.fullFrame1=l.fullFrame1,this.fullFrame2=l.fullFrame2,this.halfFrame1=l.halfFrame1,this.halfFrame2=l.halfFrame2;var i=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",i.width,i.height);for(var u=this.renderTargets,f=0;f<u.length;f++)u[f].autoResize=!0},postBatch:function(l){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(l),this},onDraw:function(l){this.bindAndDraw(l)},getController:function(l){return l!==void 0?l:this.controller?this.controller:this},copySprite:function(l,i,u){u===void 0&&(u=!1);var f=this.gl;f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,l.texture.webGLTexture);var c=f.getParameter(f.FRAMEBUFFER_BINDING);f.bindFramebuffer(f.FRAMEBUFFER,i.framebuffer.webGLFramebuffer),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,i.texture.webGLTexture,0),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT),f.bufferData(f.ARRAY_BUFFER,this.vertexData,f.STATIC_DRAW),f.drawArrays(f.TRIANGLES,0,6),u&&(f.bindTexture(f.TEXTURE_2D,null),f.bindFramebuffer(f.FRAMEBUFFER,c))},copyFrame:function(l,i,u,f,c){this.manager.copyFrame(l,i,u,f,c)},copyToGame:function(l){this.manager.copyToGame(l)},drawFrame:function(l,i,u){this.manager.drawFrame(l,i,u,this.colorMatrix)},blendFrames:function(l,i,u,f,c){this.manager.blendFrames(l,i,u,f,c)},blendFramesAdditive:function(l,i,u,f,c){this.manager.blendFramesAdditive(l,i,u,f,c)},clearFrame:function(l,i){this.manager.clearFrame(l,i)},blitFrame:function(l,i,u,f,c,d){this.manager.blitFrame(l,i,u,f,c,d)},copyFrameRect:function(l,i,u,f,c,d,p,m){this.manager.copyFrameRect(l,i,u,f,c,d,p,m)},bindAndDraw:function(l,i,u,f,c){u===void 0&&(u=!0),f===void 0&&(f=!0);var d=this.gl,p=this.renderer;this.bind(c),this.set1i("uMainSampler",0),i?(d.viewport(0,0,i.width,i.height),d.bindFramebuffer(d.FRAMEBUFFER,i.framebuffer.webGLFramebuffer),d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,i.texture.webGLTexture,0),u&&(f?d.clearColor(0,0,0,0):d.clearColor(0,0,0,1),d.clear(d.COLOR_BUFFER_BIT))):(p.popFramebuffer(!1,!1),p.currentFramebuffer||d.viewport(0,0,p.width,p.height)),p.restoreStencilMask(),d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,l.texture.webGLTexture),d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.STATIC_DRAW),d.drawArrays(d.TRIANGLES,0,6),i&&(d.bindTexture(d.TEXTURE_2D,null),d.bindFramebuffer(d.FRAMEBUFFER,p.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),e.prototype.destroy.call(this),this}});o.exports=n},43558:(o,g,t)=>{var a=t(10312),v=t(67502),h=t(83419),s=t(96293),r=t(95540),e=t(57516),n=t(27681),l=t(87841),i=t(32302),u=t(45561),f=t(60722),c=t(29100),d=new h({Extends:e,initialize:function(m){var y=r(m,"fragShader",n),x=r(m,"vertShader",f),C=r(m,"drawShader",n),E=[{name:"DrawSprite",fragShader:u,vertShader:f},{name:"CopySprite",fragShader:y,vertShader:x},{name:"DrawGame",fragShader:C,vertShader:f},{name:"ColorMatrix",fragShader:s}],R=r(m,"shaders",[]);m.shaders=E.concat(R),m.vertShader||(m.vertShader=x),m.batchSize=1,e.call(this,m),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new l,this.targetBounds=new l,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){c.prototype.boot.call(this);var p=this.shaders,m=this.renderer;this.drawSpriteShader=p[0],this.copyShader=p[1],this.gameShader=p[2],this.colorMatrixShader=p[3],this.fsTarget=new i(m,m.width,m.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var y=new ArrayBuffer(168);this.quadVertexData=y,this.quadVertexViewF32=new Float32Array(y),this.quadVertexBuffer=m.createVertexBuffer(y,this.gl.STATIC_DRAW),this.onResize(m.width,m.height),this.currentShader=this.copyShader,this.set2f("uResolution",m.width,m.height)},onResize:function(p,m){var y=this.quadVertexViewF32;y[1]=m,y[22]=m,y[14]=p,y[28]=p,y[35]=p,y[36]=m},batchQuad:function(p,m,y,x,C,E,R,M,w,D,F,I,L,B,G,V,X,b,U){var O=Math.min(m,x,E,M),z=Math.min(y,C,R,w),N=Math.max(m,x,E,M),Y=Math.max(y,C,R,w),W=N-O,H=Y-z,$=this.spriteBounds.setTo(O,z,W,H),j=p?p.preFX.padding:0,Z=W+j*2,J=H+j*2,K=Math.abs(Math.max(Z,J)),Q=this.manager.getRenderTarget(K),_=this.targetBounds.setTo(0,0,Q.width,Q.height);v(_,Math.round($.centerX),Math.round($.centerY)),this.tempSprite=p;var k=this.gl,nt=this.renderer;nt.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",nt.width,nt.height),this.flipProjectionMatrix(!0),p&&(this.onDrawSprite(p,Q),p.preFX.onFX(this));var st=this.fsTarget;return this.flush(),k.viewport(0,0,nt.width,nt.height),k.bindFramebuffer(k.FRAMEBUFFER,st.framebuffer.webGLFramebuffer),k.framebufferTexture2D(k.FRAMEBUFFER,k.COLOR_ATTACHMENT0,k.TEXTURE_2D,st.texture.webGLTexture,0),k.clearColor(0,0,0,0),k.clear(k.COLOR_BUFFER_BIT),this.setTexture2D(U),this.batchVert(m,y,D,F,0,b,B),this.batchVert(x,C,D,L,0,b,V),this.batchVert(E,R,I,L,0,b,X),this.batchVert(m,y,D,F,0,b,B),this.batchVert(E,R,I,L,0,b,X),this.batchVert(M,w,I,F,0,b,G),this.flush(),this.flipProjectionMatrix(!1),k.activeTexture(k.TEXTURE0),k.bindTexture(k.TEXTURE_2D,Q.texture.webGLTexture),k.copyTexSubImage2D(k.TEXTURE_2D,0,0,0,_.x,_.y,_.width,_.height),k.bindFramebuffer(k.FRAMEBUFFER,null),k.bindTexture(k.TEXTURE_2D,null),this.onBatch(p),this.currentShader=this.copyShader,this.onDraw(Q,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(p,m,y,x,C,E,R){y===void 0&&(y=!0),x===void 0&&(x=!0),C===void 0&&(C=!1),R===void 0&&(R=this.copyShader);var M=this.gl,w=this.tempSprite;E&&(R=this.colorMatrixShader),this.currentShader=R;var D=this.setVertexBuffer(this.quadVertexBuffer);R.bind(D,!1);var F=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",F.width,F.height),w.preFX.onFXCopy(this),this.onCopySprite(p,m,w),E&&(this.set1fv("uColorMatrix",E.getData()),this.set1f("uAlpha",E.alpha)),M.activeTexture(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,p.texture.webGLTexture),p.height>m.height)M.viewport(0,0,p.width,p.height),this.setTargetUVs(p,m);else{var I=m.height-p.height;M.viewport(0,I,p.width,p.height),this.resetUVs()}if(M.bindFramebuffer(M.FRAMEBUFFER,m.framebuffer.webGLFramebuffer),M.framebufferTexture2D(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_2D,m.texture.webGLTexture,0),y&&(M.clearColor(0,0,0,+!x),M.clear(M.COLOR_BUFFER_BIT)),C){var L=this.renderer.currentBlendMode;this.renderer.setBlendMode(a.ERASE)}M.bufferData(M.ARRAY_BUFFER,this.quadVertexData,M.STATIC_DRAW),M.drawArrays(M.TRIANGLES,0,6),C&&this.renderer.setBlendMode(L),M.bindFramebuffer(M.FRAMEBUFFER,null)},copy:function(p,m){var y=this.gl;this.set1i("uMainSampler",0),y.activeTexture(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,p.texture.webGLTexture),y.viewport(0,0,p.width,p.height),this.setUVs(0,0,0,1,1,1,1,0),y.bindFramebuffer(y.FRAMEBUFFER,m.framebuffer.webGLFramebuffer),y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,m.texture.webGLTexture,0),y.clearColor(0,0,0,0),y.clear(y.COLOR_BUFFER_BIT),y.bufferData(y.ARRAY_BUFFER,this.quadVertexData,y.STATIC_DRAW),y.drawArrays(y.TRIANGLES,0,6),y.bindFramebuffer(y.FRAMEBUFFER,null)},blendFrames:function(p,m,y,x,C){this.manager.blendFrames(p,m,y,x,C)},blendFramesAdditive:function(p,m,y,x,C){this.manager.blendFramesAdditive(p,m,y,x,C)},drawToGame:function(p){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(p)},copyToGame:function(p){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(p)},bindAndDraw:function(p){var m=this.gl,y=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(p.texture);var x=this._tempMatrix1.loadIdentity(),C=this.targetBounds.x,E=this.targetBounds.y,R=C+p.width,M=E+p.height,w=x.getX(C,E),D=x.getX(C,M),F=x.getX(R,M),I=x.getX(R,E),L=x.getY(C,E),B=x.getY(C,M),G=x.getY(R,M),V=x.getY(R,E),X=16777215;this.batchVert(w,L,0,0,0,0,X),this.batchVert(D,B,0,1,0,0,X),this.batchVert(F,G,1,1,0,0,X),this.batchVert(w,L,0,0,0,0,X),this.batchVert(F,G,1,1,0,0,X),this.batchVert(I,V,1,0,0,0,X),y.restoreFramebuffer(!1,!0),y.currentFramebuffer||m.viewport(0,0,y.width,y.height),y.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(p){this.drawToGame(p)},setUVs:function(p,m,y,x,C,E,R,M){var w=this.quadVertexViewF32;w[2]=p,w[3]=m,w[9]=y,w[10]=x,w[16]=C,w[17]=E,w[23]=p,w[24]=m,w[30]=C,w[31]=E,w[37]=R,w[38]=M},setTargetUVs:function(p,m){var y=m.height/p.height;y>.5?y=.5-(y-.5):y=.5+(.5-y),this.setUVs(0,y,0,1+y,1,1+y,1,y)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,e.prototype.destroy.call(this),this}});o.exports=d},81041:(o,g,t)=>{var a=t(83419),v=t(95540),h=t(57516),s=new a({Extends:h,initialize:function(e){e.topology=5,e.batchSize=v(e,"batchSize",256),h.call(this,e)}});o.exports=s},12385:(o,g,t)=>{var a=t(83419),v=t(95540),h=t(57516),s=t(45561),r=t(60722),e=t(29100),n=new a({Extends:h,initialize:function(i){i.fragShader=v(i,"fragShader",s),i.vertShader=v(i,"vertShader",r),i.forceZero=!0,h.call(this,i)},boot:function(){e.prototype.boot.call(this);var l=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",l.width,l.height)}});o.exports=n},7589:(o,g,t)=>{var a=t(35407),v=t(10312),h=t(83419),s=t(89422),r=t(96293),e=t(36682),n=t(95540),l=t(48247),i=t(49627),u=t(29100),f=new h({Extends:u,initialize:function(d){d.renderTarget=n(d,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),d.vertShader=n(d,"vertShader",i),d.shaders=n(d,"shaders",[{name:"Copy",fragShader:e},{name:"AddBlend",fragShader:a},{name:"LinearBlend",fragShader:l},{name:"ColorMatrix",fragShader:r}]),d.attributes=n(d,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),d.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],d.batchSize=1,u.call(this,d),this.colorMatrix=new s,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){u.prototype.boot.call(this);var c=this.shaders,d=this.renderTargets;this.copyShader=c[0],this.addShader=c[1],this.linearShader=c[2],this.colorMatrixShader=c[3],this.fullFrame1=d[0],this.fullFrame2=d[1],this.halfFrame1=d[2],this.halfFrame2=d[3]},copyFrame:function(c,d,p,m,y){p===void 0&&(p=1),m===void 0&&(m=!0),y===void 0&&(y=!0);var x=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",p),x.activeTexture(x.TEXTURE0),x.bindTexture(x.TEXTURE_2D,c.texture.webGLTexture),d?(x.viewport(0,0,d.width,d.height),x.bindFramebuffer(x.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),x.framebufferTexture2D(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0,x.TEXTURE_2D,d.texture.webGLTexture,0)):x.viewport(0,0,c.width,c.height),m&&(y?x.clearColor(0,0,0,0):x.clearColor(0,0,0,1),x.clear(x.COLOR_BUFFER_BIT)),x.bufferData(x.ARRAY_BUFFER,this.vertexData,x.STATIC_DRAW),x.drawArrays(x.TRIANGLES,0,6),x.bindFramebuffer(x.FRAMEBUFFER,null),x.bindTexture(x.TEXTURE_2D,null)},blitFrame:function(c,d,p,m,y,x,C){p===void 0&&(p=1),m===void 0&&(m=!0),y===void 0&&(y=!0),x===void 0&&(x=!1),C===void 0&&(C=!1);var E=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",p),E.activeTexture(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,c.texture.webGLTexture),c.height>d.height)E.viewport(0,0,c.width,c.height),this.setTargetUVs(c,d);else{var R=d.height-c.height;E.viewport(0,R,c.width,c.height)}if(E.bindFramebuffer(E.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,d.texture.webGLTexture,0),m&&(y?E.clearColor(0,0,0,0):E.clearColor(0,0,0,1),E.clear(E.COLOR_BUFFER_BIT)),x){var M=this.renderer.currentBlendMode;this.renderer.setBlendMode(v.ERASE)}C&&this.flipY(),E.bufferData(E.ARRAY_BUFFER,this.vertexData,E.STATIC_DRAW),E.drawArrays(E.TRIANGLES,0,6),x&&this.renderer.setBlendMode(M),E.bindFramebuffer(E.FRAMEBUFFER,null),E.bindTexture(E.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(c,d,p,m,y,x,C,E){C===void 0&&(C=!0),E===void 0&&(E=!0);var R=this.gl;R.bindFramebuffer(R.FRAMEBUFFER,c.framebuffer.webGLFramebuffer),R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,c.texture.webGLTexture,0),C&&(E?R.clearColor(0,0,0,0):R.clearColor(0,0,0,1),R.clear(R.COLOR_BUFFER_BIT)),R.activeTexture(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,d.texture.webGLTexture),R.copyTexSubImage2D(R.TEXTURE_2D,0,0,0,p,m,y,x),R.bindFramebuffer(R.FRAMEBUFFER,null),R.bindTexture(R.TEXTURE_2D,null)},copyToGame:function(c){var d=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,c.texture.webGLTexture),d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.STATIC_DRAW),d.drawArrays(d.TRIANGLES,0,6)},drawFrame:function(c,d,p,m){p===void 0&&(p=!0),m===void 0&&(m=this.colorMatrix);var y=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",m.getData()),this.set1f("uAlpha",m.alpha),y.activeTexture(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,c.texture.webGLTexture),d?(y.viewport(0,0,d.width,d.height),y.bindFramebuffer(y.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,d.texture.webGLTexture,0)):y.viewport(0,0,c.width,c.height),p?y.clearColor(0,0,0,0):y.clearColor(0,0,0,1),y.clear(y.COLOR_BUFFER_BIT),y.bufferData(y.ARRAY_BUFFER,this.vertexData,y.STATIC_DRAW),y.drawArrays(y.TRIANGLES,0,6),y.bindFramebuffer(y.FRAMEBUFFER,null),y.bindTexture(y.TEXTURE_2D,null)},blendFrames:function(c,d,p,m,y,x){m===void 0&&(m=1),y===void 0&&(y=!0),x===void 0&&(x=this.linearShader);var C=this.gl;this.setShader(x),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",m),C.activeTexture(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,c.texture.webGLTexture),C.activeTexture(C.TEXTURE1),C.bindTexture(C.TEXTURE_2D,d.texture.webGLTexture),p?(C.bindFramebuffer(C.FRAMEBUFFER,p.framebuffer.webGLFramebuffer),C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,p.texture.webGLTexture,0),C.viewport(0,0,p.width,p.height)):C.viewport(0,0,c.width,c.height),y?C.clearColor(0,0,0,0):C.clearColor(0,0,0,1),C.clear(C.COLOR_BUFFER_BIT),C.bufferData(C.ARRAY_BUFFER,this.vertexData,C.STATIC_DRAW),C.drawArrays(C.TRIANGLES,0,6),C.bindFramebuffer(C.FRAMEBUFFER,null),C.bindTexture(C.TEXTURE_2D,null)},blendFramesAdditive:function(c,d,p,m,y){this.blendFrames(c,d,p,m,y,this.addShader)},clearFrame:function(c,d){d===void 0&&(d=!0);var p=this.gl;p.viewport(0,0,c.width,c.height),p.bindFramebuffer(p.FRAMEBUFFER,c.framebuffer.webGLFramebuffer),d?p.clearColor(0,0,0,0):p.clearColor(0,0,0,1),p.clear(p.COLOR_BUFFER_BIT);var m=this.renderer.currentFramebuffer;p.bindFramebuffer(p.FRAMEBUFFER,m.webGLFramebuffer)},setUVs:function(c,d,p,m,y,x,C,E){var R=this.vertexViewF32;R[2]=c,R[3]=d,R[6]=p,R[7]=m,R[10]=y,R[11]=x,R[14]=c,R[15]=d,R[18]=y,R[19]=x,R[22]=C,R[23]=E},setTargetUVs:function(c,d){var p=d.height/c.height;p>.5?p=.5-(p-.5):p=.5+(.5-p),this.setUVs(0,p,0,1+p,1,1+p,1,p)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});o.exports=f},36060:o=>{var g={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};o.exports=g},84817:o=>{o.exports="pipelineafterflush"},36712:o=>{o.exports="pipelinebeforeflush"},40285:o=>{o.exports="pipelinebind"},65918:o=>{o.exports="pipelineboot"},92852:o=>{o.exports="pipelinedestroy"},56072:o=>{o.exports="pipelinerebind"},57566:o=>{o.exports="pipelineresize"},77085:(o,g,t)=>{o.exports={AFTER_FLUSH:t(84817),BEFORE_FLUSH:t(36712),BIND:t(40285),BOOT:t(65918),DESTROY:t(92852),REBIND:t(56072),RESIZE:t(57566)}},54812:(o,g,t)=>{var a=t(83419),v=t(99155),h=t(84057),s=new a({Extends:h,initialize:function(e){h.call(this,{game:e,fragShader:v}),this.amount=1},onPreRender:function(r,e){r=this.getController(r),this.set1f("amount",r.amount,e)}});o.exports=s},67329:(o,g,t)=>{var a=t(83419),v=t(24400),h=t(84057),s=new a({Extends:h,initialize:function(e){h.call(this,{game:e,fragShader:v}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(r){r=this.getController(r),this.set1f("strength",r.blurStrength),this.set3fv("color",r.glcolor)},onDraw:function(r){var e=this.getController(),n=this.fullFrame1,l=this.fullFrame2;this.copyFrame(r,l);for(var i=2/r.width*e.offsetX,u=2/r.height*e.offsetY,f=0;f<e.steps;f++)this.set2f("offset",i,0),this.copySprite(r,n),this.set2f("offset",0,u),this.copySprite(n,r);this.blendFrames(l,r,n,e.strength),this.copyToGame(n)}});o.exports=s},8861:(o,g,t)=>{var a=t(83419),v=t(41514),h=t(51078),s=t(94328),r=t(84057),e=new a({Extends:r,initialize:function(l){r.call(this,{game:l,shaders:[{name:"Gaussian5",fragShader:v},{name:"Gaussian9",fragShader:h},{name:"Gaussian13",fragShader:s}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(n){var l=this.getController(),i=this.gl,u=this.fullFrame1,f=i.getParameter(i.FRAMEBUFFER_BINDING);this.bind(this.shaders[l.quality]),i.activeTexture(i.TEXTURE0),i.viewport(0,0,n.width,n.height),this.set1i("uMainSampler",0),this.set2f("resolution",n.width,n.height),this.set1f("strength",l.strength),this.set3fv("color",l.glcolor);for(var c=0;c<l.steps;c++)this.set2f("offset",l.x,0),this.copySprite(n,u),this.set2f("offset",0,l.y),this.copySprite(u,n);i.bindFramebuffer(i.FRAMEBUFFER,f),i.bindTexture(i.TEXTURE_2D,null),this.copyToGame(n)}});o.exports=e},51051:(o,g,t)=>{var a=t(83419),v=t(90610),h=t(84057),s=new a({Extends:h,initialize:function(e){h.call(this,{game:e,fragShader:v}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(r,e,n,l){r=this.getController(r),this.set1f("radius",r.radius,e),this.set1f("amount",r.amount,e),this.set1f("contrast",r.contrast,e),this.set1f("strength",r.strength,e),this.set2f("blur",r.blurX,r.blurY,e),this.setBoolean("isTiltShift",r.isTiltShift,e),n&&l&&this.set2f("resolution",n,l,e)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});o.exports=s},89428:(o,g,t)=>{var a=t(83419),v=t(91899),h=t(84057),s=new a({Extends:h,initialize:function(e){h.call(this,{game:e,fragShader:v}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(r,e,n,l){r=this.getController(r),this.set1f("scale",r.scale,e),this.set1f("feather",r.feather,e),this.set1f("thickness",r.thickness,e),this.set3fv("color",r.glcolor,e),this.set4fv("backgroundColor",r.glcolor2,e),n&&l&&this.set2f("resolution",n,l,e)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});o.exports=s},88904:(o,g,t)=>{var a=t(83419),v=t(84057),h=new a({Extends:v,initialize:function(r){v.call(this,{game:r})},onDraw:function(s){var r=this.fullFrame1;this.controller?this.manager.drawFrame(s,r,!0,this.controller):this.drawFrame(s,r),this.copyToGame(r)}});o.exports=h},63563:(o,g,t)=>{var a=t(83419),v=t(47838),h=t(84057),s=new a({Extends:h,initialize:function(e){h.call(this,{game:e,fragShader:v}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(r){var e=this.game.textures.getFrame(r);e&&(this.glTexture=e.glTexture)},onDraw:function(r){var e=this.getController(),n=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",e.x,e.y),this.bindTexture(e.glTexture,1),this.copySprite(r,n),this.copyToGame(n)}});o.exports=s},94045:(o,g,t)=>{var a=t(83419),v=t(95540),h=t(98656),s=t(84057),r=t(70554),e=new a({Extends:s,initialize:function(l,i){var u=v(i,"quality",.1),f=v(i,"distance",10);s.call(this,{game:l,fragShader:r.setGlowQuality(h,l,u,f)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(n,l,i,u){n=this.getController(n),this.set1f("outerStrength",n.outerStrength,l),this.set1f("innerStrength",n.innerStrength,l),this.set4fv("glowColor",n.glcolor,l),this.setBoolean("knockout",n.knockout,l),i&&u&&this.set2f("resolution",i,u,l)},onDraw:function(n){this.set2f("resolution",n.width,n.height),this.bindAndDraw(n)}});o.exports=e},74088:(o,g,t)=>{var a=t(83419),v=t(70463),h=t(84057),s=new a({Extends:h,initialize:function(e){h.call(this,{game:e,fragShader:v}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(r,e){r=this.getController(r),this.set1f("alpha",r.alpha,e),this.set1i("size",r.size,e),this.set3fv("color1",r.glcolor1,e),this.set3fv("color2",r.glcolor2,e),this.set2f("positionFrom",r.fromX,r.fromY,e),this.set2f("positionTo",r.toX,r.toY,e)}});o.exports=s},99636:(o,g,t)=>{var a=t(83419),v=t(50831),h=t(84057),s=new a({Extends:h,initialize:function(e){h.call(this,{game:e,fragShader:v}),this.amount=1},onPreRender:function(r,e,n,l){r=this.getController(r),this.set1f("amount",r.amount,e),n&&l&&this.set2f("resolution",n,l,e)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});o.exports=s},34700:(o,g,t)=>{var a=t(83419),v=t(92595),h=t(84057),s=new a({Extends:h,initialize:function(e){h.call(this,{game:e,fragShader:v}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(r,e){r=this.getController(r);var n=r.samples;this.set1i("samples",n,e),this.set1f("intensity",r.intensity,e),this.set1f("decay",r.decay,e),this.set1f("power",r.power/n,e),this.set2f("lightPosition",r.x,r.y,e),this.set4fv("color",r.glcolor,e)}});o.exports=s},91157:(o,g,t)=>{var a=t(83419),v=t(72464),h=t(84057),s=new a({Extends:h,initialize:function(e){h.call(this,{game:e,fragShader:v}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(r,e,n,l){r=this.getController(r),this.setTime("time",e),this.set1f("speed",r.speed,e),this.set1f("lineWidth",r.lineWidth,e),this.set1f("gradient",r.gradient,e),this.setBoolean("reveal",r.reveal,e),n&&l&&this.set2f("resolution",n,l,e)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});o.exports=s},27797:(o,g,t)=>{var a=t(83419),v=t(39249),h=t(84057),s=new a({Extends:h,initialize:function(e){h.call(this,{game:e,fragShader:v}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(r,e){r=this.getController(r),this.set1f("radius",r.radius,e),this.set1f("strength",r.strength,e),this.set2f("position",r.x,r.y,e)}});o.exports=s},67603:(o,g,t)=>{var a=t(83419),v=t(2878),h=t(84057),s=new a({Extends:h,initialize:function(e){h.call(this,{game:e,fragShader:v}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(r,e){r=this.getController(r);var n=r.progress,l=r.wipeWidth,i=r.direction,u=r.axis;this.set4f("config",n,l,i,u,e),this.setBoolean("reveal",r.reveal,e)}});o.exports=s},58918:(o,g,t)=>{var a={Barrel:t(54812),Bloom:t(67329),Blur:t(8861),Bokeh:t(51051),Circle:t(89428),ColorMatrix:t(88904),Displacement:t(63563),Glow:t(94045),Gradient:t(74088),Pixelate:t(99636),Shadow:t(34700),Shine:t(91157),Vignette:t(27797),Wipe:t(67603)};o.exports=a},96615:(o,g,t)=>{var a=t(36060),v=t(79291),h={FX:t(58918),BitmapMaskPipeline:t(31302),Events:t(77085),FXPipeline:t(92651),LightPipeline:t(96569),MobilePipeline:t(56527),MultiPipeline:t(57516),PointLightPipeline:t(43439),PostFXPipeline:t(84057),PreFXPipeline:t(43558),RopePipeline:t(81041),SinglePipeline:t(12385),UtilityPipeline:t(7589)};h=v(!1,h,a),o.exports=h},35407:o=>{o.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},78908:o=>{o.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},85191:o=>{o.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},96293:o=>{o.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},36682:o=>{o.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},99155:o=>{o.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},24400:o=>{o.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},94328:o=>{o.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},41514:o=>{o.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},51078:o=>{o.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},90610:o=>{o.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},91899:o=>{o.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},47838:o=>{o.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},98656:o=>{o.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},70463:o=>{o.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},50831:o=>{o.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},92595:o=>{o.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},72464:o=>{o.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},39249:o=>{o.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},2878:o=>{o.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},31063:o=>{o.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},48247:o=>{o.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},41214:o=>{o.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},39653:o=>{o.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},62143:o=>{o.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},47940:o=>{o.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},98840:o=>{o.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},44667:o=>{o.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},4127:o=>{o.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},89924:o=>{o.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},27681:o=>{o.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},49627:o=>{o.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},45561:o=>{o.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},60722:o=>{o.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},89350:(o,g,t)=>{o.exports={AddBlendFrag:t(35407),BitmapMaskFrag:t(78908),BitmapMaskVert:t(85191),ColorMatrixFrag:t(96293),CopyFrag:t(36682),FXBarrelFrag:t(99155),FXBloomFrag:t(24400),FXBlurHighFrag:t(94328),FXBlurLowFrag:t(41514),FXBlurMedFrag:t(51078),FXBokehFrag:t(90610),FXCircleFrag:t(91899),FXDisplacementFrag:t(47838),FXGlowFrag:t(98656),FXGradientFrag:t(70463),FXPixelateFrag:t(50831),FXShadowFrag:t(92595),FXShineFrag:t(72464),FXVignetteFrag:t(39249),FXWipeFrag:t(2878),LightFrag:t(31063),LinearBlendFrag:t(48247),MeshFrag:t(41214),MeshVert:t(39653),MobileFrag:t(62143),MobileVert:t(47940),MultiFrag:t(98840),MultiVert:t(44667),PointLightFrag:t(4127),PointLightVert:t(89924),PostFXFrag:t(27681),QuadVert:t(49627),SingleFrag:t(45561),SingleVert:t(60722)}},93567:(o,g,t)=>{var a=t(83419),v=new a({initialize:function(s,r,e){this.webGLAttribLocation=-1,this.gl=s,this.program=r,this.name=e,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var h=this.gl;h.isContextLost()||(this.webGLAttribLocation=h.getAttribLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});o.exports=v},26128:(o,g,t)=>{var a=t(83419),v=new a({initialize:function(s,r,e,n){this.webGLBuffer=null,this.gl=s,this.initialDataOrSize=r,this.bufferType=e,this.bufferUsage=n,this.createResource()},createResource:function(){if(this.initialDataOrSize!==null){var h=this.gl;if(!h.isContextLost()){var s=this.bufferType,r=h.createBuffer();this.webGLBuffer=r,h.bindBuffer(s,this.webGLBuffer),h.bufferData(s,this.initialDataOrSize,this.bufferUsage),h.bindBuffer(s,null)}}},destroy:function(){var h=this.gl;h.isContextLost()||h.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});o.exports=v},84387:(o,g,t)=>{var a=t(83419),v={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},h=new a({initialize:function(r,e,n,l,i){this.webGLFramebuffer=null,this.gl=r,this.width=e,this.height=n,this.renderTexture=l,this.addDepthStencilBuffer=!!i,this.createResource()},createResource:function(){var s=this.gl;if(!s.isContextLost()){var r=this.renderTexture,e=0,n=s.createFramebuffer();if(this.webGLFramebuffer=n,s.bindFramebuffer(s.FRAMEBUFFER,n),r.isRenderTexture=!0,r.isAlphaPremultiplied=!1,s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,r.webGLTexture,0),e=s.checkFramebufferStatus(s.FRAMEBUFFER),e!==s.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(v[e]||e));if(this.addDepthStencilBuffer){var l=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,l),s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,this.width,this.height),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,l)}s.bindFramebuffer(s.FRAMEBUFFER,null)}},destroy:function(){if(this.webGLFramebuffer!==null){var s=this.gl;if(!s.isContextLost()){s.bindFramebuffer(s.FRAMEBUFFER,this.webGLFramebuffer);var r=s.getFramebufferAttachmentParameter(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);r!==null&&(s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,null,0),s.deleteTexture(r));var e=s.getFramebufferAttachmentParameter(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);e!==null&&s.deleteRenderbuffer(e),s.bindFramebuffer(s.FRAMEBUFFER,null),s.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});o.exports=h},1482:(o,g,t)=>{var a=t(83419),v=new a({initialize:function(s,r,e){this.webGLProgram=null,this.gl=s,this.vertexSource=r,this.fragmentSource=e,this.createResource()},createResource:function(){var h=this.gl;if(!h.isContextLost()){var s=h.createProgram(),r=h.createShader(h.VERTEX_SHADER),e=h.createShader(h.FRAGMENT_SHADER);h.shaderSource(r,this.vertexSource),h.shaderSource(e,this.fragmentSource),h.compileShader(r),h.compileShader(e);var n=`Shader failed:
`;if(!h.getShaderParameter(r,h.COMPILE_STATUS))throw new Error("Vertex "+n+h.getShaderInfoLog(r));if(!h.getShaderParameter(e,h.COMPILE_STATUS))throw new Error("Fragment "+n+h.getShaderInfoLog(e));if(h.attachShader(s,r),h.attachShader(s,e),h.linkProgram(s),!h.getProgramParameter(s,h.LINK_STATUS))throw new Error("Link "+n+h.getProgramInfoLog(s));h.useProgram(s),this.webGLProgram=s}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});o.exports=v},82751:(o,g,t)=>{var a=t(83419),v=t(50030),h=new a({initialize:function(r,e,n,l,i,u,f,c,d,p,m,y,x){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=r,this.mipLevel=e,this.minFilter=n,this.magFilter=l,this.wrapT=i,this.wrapS=u,this.format=f,this.pixels=c,this.width=d,this.height=p,this.pma=m??!0,this.forceSize=!!y,this.flipY=!!x,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var s=this.gl;if(!s.isContextLost()){if(this.pixels instanceof h){this.webGLTexture=this.pixels.webGLTexture;return}var r=s.createTexture();r.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=r,this._processTexture()}},update:function(s,r,e,n,l,i,u,f,c){if(!(r===0||e===0)){this.pixels=s,this.width=r,this.height=e,this.flipY=n,this.wrapS=l,this.wrapT=i,this.minFilter=u,this.magFilter=f,this.format=c;var d=this.gl;d.isContextLost()||this._processTexture()}},_processTexture:function(){var s=this.gl;s.activeTexture(s.TEXTURE0);var r=s.getParameter(s.TEXTURE_BINDING_2D);s.bindTexture(s.TEXTURE_2D,this.webGLTexture),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MIN_FILTER,this.minFilter),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MAG_FILTER,this.magFilter),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_S,this.wrapS),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_T,this.wrapT),s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),s.pixelStorei(s.UNPACK_FLIP_Y_WEBGL,this.flipY);var e=this.pixels,n=this.mipLevel,l=this.width,i=this.height,u=this.format,f=!1;if(e==null)s.texImage2D(s.TEXTURE_2D,n,u,l,i,0,u,s.UNSIGNED_BYTE,null),f=v(l,i);else if(e.compressed){l=e.width,i=e.height,f=e.generateMipmap;for(var c=0;c<e.mipmaps.length;c++)s.compressedTexImage2D(s.TEXTURE_2D,c,e.internalFormat,e.mipmaps[c].width,e.mipmaps[c].height,0,e.mipmaps[c].data)}else e instanceof Uint8Array?(s.texImage2D(s.TEXTURE_2D,n,u,l,i,0,u,s.UNSIGNED_BYTE,e),f=v(l,i)):(this.forceSize||(l=e.width,i=e.height),s.texImage2D(s.TEXTURE_2D,n,u,u,s.UNSIGNED_BYTE,e),f=v(l,i));f&&s.generateMipmap(s.TEXTURE_2D),r?s.bindTexture(s.TEXTURE_2D,r):s.bindTexture(s.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(s){this.__SPECTOR_Metadata=s,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=s)}},destroy:function(){this.webGLTexture!==null&&(this.gl.isContextLost()||this.pixels instanceof h||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});o.exports=h},57183:(o,g,t)=>{var a=t(83419),v=new a({initialize:function(s,r,e){this.webGLUniformLocation=null,this.gl=s,this.program=r,this.name=e,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var h=this.gl;h.isContextLost()||(this.webGLUniformLocation=h.getUniformLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});o.exports=v},9503:(o,g,t)=>{var a={WebGLAttribLocationWrapper:t(93567),WebGLBufferWrapper:t(26128),WebGLProgramWrapper:t(1482),WebGLTextureWrapper:t(82751),WebGLFramebufferWrapper:t(84387),WebGLUniformLocationWrapper:t(57183)};o.exports=a},76531:(o,g,t)=>{var a=t(13560),v=t(83419),h=t(45319),s=t(50792),r=t(97480),e=t(8443),n=t(57811),l=t(74403),i=t(45818),u=t(29747),f=t(87841),c=t(86555),d=t(56583),p=t(26099),m=t(38058),y=new v({Extends:s,initialize:function(C){s.call(this),this.game=C,this.canvas,this.canvasBounds=new f,this.parent=null,this.parentIsWindow=!1,this.parentSize=new c,this.gameSize=new c,this.baseSize=new c,this.displaySize=new c,this.scaleMode=a.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new p(1,1),this.autoRound=!1,this.autoCenter=a.CENTER.NO_CENTER,this.orientation=a.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:u,windowResize:u,fullScreenChange:u,fullScreenError:u}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(e.BOOT,this.boot,this)},boot:function(){var x=this.game;this.canvas=x.canvas,this.fullscreen=x.device.fullscreen;var C=this.scaleMode;C!==a.SCALE_MODE.RESIZE&&C!==a.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(C),C===a.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),x.events.on(e.PRE_STEP,this.step,this),x.events.once(e.READY,this.refresh,this),x.events.once(e.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(x){this.getParent(x),this.getParentBounds();var C=x.width,E=x.height,R=x.scaleMode,M=x.zoom,w=x.autoRound;if(typeof C=="string")if(C.substr(-1)!=="%")C=parseInt(C,10);else{var D=this.parentSize.width;D===0&&(D=window.innerWidth);var F=parseInt(C,10)/100;C=Math.floor(D*F)}if(typeof E=="string")if(E.substr(-1)!=="%")E=parseInt(E,10);else{var I=this.parentSize.height;I===0&&(I=window.innerHeight);var L=parseInt(E,10)/100;E=Math.floor(I*L)}this.scaleMode=R,this.autoRound=w,this.autoCenter=x.autoCenter,this.resizeInterval=x.resizeInterval,w&&(C=Math.floor(C),E=Math.floor(E)),this.gameSize.setSize(C,E),M===a.ZOOM.MAX_ZOOM&&(M=this.getMaxZoom()),this.zoom=M,M!==1&&(this._resetZoom=!0),this.baseSize.setSize(C,E),w&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),x.minWidth>0&&this.displaySize.setMin(x.minWidth*M,x.minHeight*M),x.maxWidth>0&&this.displaySize.setMax(x.maxWidth*M,x.maxHeight*M),this.displaySize.setSize(C,E),(x.snapWidth>0||x.snapHeight>0)&&this.displaySize.setSnap(x.snapWidth,x.snapHeight),this.orientation=i(C,E)},getParent:function(x){var C=x.parent;if(C!==null){if(this.parent=l(C),this.parentIsWindow=this.parent===document.body,x.expandParent&&x.scaleMode!==a.SCALE_MODE.NONE){var E=this.parent.getBoundingClientRect();(this.parentIsWindow||E.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",E=this.parent.getBoundingClientRect(),!this.parentIsWindow&&E.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}x.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=l(x.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var x=this.parentSize,C=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(C.height=n(!0));var E=C.width,R=C.height;if(x.width!==E||x.height!==R)return x.setSize(E,R),!0;if(this.canvas){var M=this.canvasBounds,w=this.canvas.getBoundingClientRect();if(w.x!==M.x||w.y!==M.y)return!0}return!1},lockOrientation:function(x){var C=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return C?C.call(screen,x):!1},setParentSize:function(x,C){return this.parentSize.setSize(x,C),this.refresh()},setGameSize:function(x,C){var E=this.autoRound;E&&(x=Math.floor(x),C=Math.floor(C));var R=this.width,M=this.height;return this.gameSize.resize(x,C),this.baseSize.resize(x,C),E&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(x/C),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(R,M)},resize:function(x,C){var E=this.zoom,R=this.autoRound;R&&(x=Math.floor(x),C=Math.floor(C));var M=this.width,w=this.height;this.gameSize.resize(x,C),this.baseSize.resize(x,C),R&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(x*E,C*E),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var D=this.canvas.style,F=x*E,I=C*E;return R&&(F=Math.floor(F),I=Math.floor(I)),(F!==x||I!==C)&&(D.width=F+"px",D.height=I+"px"),this.refresh(M,w)},setZoom:function(x){return this.zoom=x,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(x,C){return x===void 0&&(x=0),C===void 0&&(C=x),this.displaySize.setSnap(x,C),this.refresh()},refresh:function(x,C){x===void 0&&(x=this.width),C===void 0&&(C=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var E=this.game.domContainer;if(E){this.baseSize.setCSS(E);var R=this.canvas.style,M=E.style;M.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",M.marginLeft=R.marginLeft,M.marginTop=R.marginTop}return this.emit(r.RESIZE,this.gameSize,this.baseSize,this.displaySize,x,C),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var x=i(this.width,this.height);x!==this.orientation&&(this.orientation=x,this.emit(r.ORIENTATION_CHANGE,x))}},updateScale:function(){var x=this.canvas.style,C=this.gameSize.width,E=this.gameSize.height,R,M,w=this.zoom,D=this.autoRound;if(this.scaleMode===a.SCALE_MODE.NONE)this.displaySize.setSize(C*w,E*w),R=this.displaySize.width,M=this.displaySize.height,D&&(R=Math.floor(R),M=Math.floor(M)),this._resetZoom&&(x.width=R+"px",x.height=M+"px",this._resetZoom=!1);else if(this.scaleMode===a.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),R=this.displaySize.width,M=this.displaySize.height,D&&(R=Math.floor(R),M=Math.floor(M)),this.canvas.width=R,this.canvas.height=M;else if(this.scaleMode===a.SCALE_MODE.EXPAND){var F=this.game.config.width,I=this.game.config.height,L=this.parentSize.width,B=this.parentSize.height,G=L/F,V=B/I,X,b;G<V?(X=F,b=G!==0?B/G:I):(X=V!==0?L/V:F,b=I);var U=h(X,this.displaySize.minWidth,this.displaySize.maxWidth),O=h(b,this.displaySize.minHeight,this.displaySize.maxHeight);this.baseSize.setSize(U,O),this.gameSize.setSize(U,O),D&&(U=Math.floor(U),O=Math.floor(O)),this.canvas.width=U,this.canvas.height=O;var z=L*(U/X),N=B*(O/b);this.displaySize.setSize(z,N),R=this.displaySize.width,M=this.displaySize.height,D&&(R=Math.floor(R),M=Math.floor(M)),x.width=R+"px",x.height=M+"px"}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),R=this.displaySize.width,M=this.displaySize.height,D&&(R=Math.floor(R),M=Math.floor(M)),x.width=R+"px",x.height=M+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var x=d(this.parentSize.width,this.gameSize.width,0,!0),C=d(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(x,C),1)},updateCenter:function(){var x=this.autoCenter;if(x!==a.CENTER.NO_CENTER){var C=this.canvas,E=C.style,R=C.getBoundingClientRect(),M=R.width,w=R.height,D=Math.floor((this.parentSize.width-M)/2),F=Math.floor((this.parentSize.height-w)/2);x===a.CENTER.CENTER_HORIZONTALLY?F=0:x===a.CENTER.CENTER_VERTICALLY&&(D=0),E.marginLeft=D+"px",E.marginTop=F+"px"}},updateBounds:function(){var x=this.canvasBounds,C=this.canvas.getBoundingClientRect();x.x=C.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),x.y=C.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),x.width=C.width,x.height=C.height},transformX:function(x){return(x-this.canvasBounds.left)*this.displayScale.x},transformY:function(x){return(x-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(x){x===void 0&&(x={navigationUI:"hide"});var C=this.fullscreen;if(!C.available){this.emit(r.FULLSCREEN_UNSUPPORTED);return}if(!C.active){var E=this.getFullscreenTarget();C.keyboard?E[C.request](Element.ALLOW_KEYBOARD_INPUT):E[C.request](x)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(r.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(x){this.removeFullscreenTarget(),this.emit(r.FULLSCREEN_FAILED,x)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var x=document.createElement("div");x.style.margin="0",x.style.padding="0",x.style.width="100%",x.style.height="100%",this.fullscreenTarget=x,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var C=this.canvas.parentNode;C.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var x=this.fullscreenTarget;if(x&&x.parentNode){var C=x.parentNode;C.insertBefore(this.canvas,x),C.removeChild(x)}}},stopFullscreen:function(){var x=this.fullscreen;if(!x.available)return this.emit(r.FULLSCREEN_UNSUPPORTED),!1;x.active&&document[x.cancel](),this.removeFullscreenTarget()},leaveFullScreenSuccessHandler:function(){this.getParentBounds(),this.emit(r.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(x){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(x)},startListeners:function(){var x=this,C=this.domlisteners;if(C.orientationChange=function(){x.updateBounds(),x._checkOrientation=!0,x.dirty=!0,x.refresh()},C.windowResize=function(){x.updateBounds(),x.dirty=!0},screen.orientation&&screen.orientation.addEventListener?screen.orientation.addEventListener("change",C.orientationChange,!1):window.addEventListener("orientationchange",C.orientationChange,!1),window.addEventListener("resize",C.windowResize,!1),this.fullscreen.available){C.fullScreenChange=function(R){return x.onFullScreenChange(R)},C.fullScreenError=function(R){return x.onFullScreenError(R)};var E=["webkit","moz",""];E.forEach(function(R){document.addEventListener(R+"fullscreenchange",C.fullScreenChange,!1),document.addEventListener(R+"fullscreenerror",C.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",C.fullScreenChange,!1),document.addEventListener("MSFullscreenError",C.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():(this.stopFullscreen(),this.leaveFullScreenSuccessHandler())},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(x,C){x instanceof m||(C=x,x=void 0),C===void 0&&(C=new f);var E=this.baseSize,R=this.parentSize,M=this.canvasBounds,w=this.displayScale,D=M.x>=0?0:-(M.x*w.x),F=M.y>=0?0:-(M.y*w.y),I;R.width>=M.width?I=E.width:I=E.width-(M.width-R.width)*w.x;var L;return R.height>=M.height?L=E.height:L=E.height-(M.height-R.height)*w.y,C.setTo(D,F,I,L),x&&(C.width/=x.zoomX,C.height/=x.zoomY,C.centerX=x.centerX+x.scrollX,C.centerY=x.centerY+x.scrollY),C},step:function(x,C){this.parent&&(this._lastCheck+=C,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var x=this.domlisteners;screen.orientation&&screen.orientation.addEventListener?screen.orientation.removeEventListener("change",x.orientationChange,!1):window.removeEventListener("orientationchange",x.orientationChange,!1),window.removeEventListener("resize",x.windowResize,!1);var C=["webkit","moz",""];C.forEach(function(E){document.removeEventListener(E+"fullscreenchange",x.fullScreenChange,!1),document.removeEventListener(E+"fullscreenerror",x.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",x.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",x.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===a.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===a.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});o.exports=y},64743:o=>{o.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:o=>{o.exports={LANDSCAPE:"landscape-primary",LANDSCAPE_SECONDARY:"landscape-secondary",PORTRAIT:"portrait-primary",PORTRAIT_SECONDARY:"portrait-secondary"}},81050:o=>{o.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:o=>{o.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(o,g,t)=>{var a={CENTER:t(64743),ORIENTATION:t(39218),SCALE_MODE:t(81050),ZOOM:t(80805)};o.exports=a},56139:o=>{o.exports="enterfullscreen"},2336:o=>{o.exports="fullscreenfailed"},47412:o=>{o.exports="fullscreenunsupported"},51452:o=>{o.exports="leavefullscreen"},20666:o=>{o.exports="orientationchange"},47945:o=>{o.exports="resize"},97480:(o,g,t)=>{o.exports={ENTER_FULLSCREEN:t(56139),FULLSCREEN_FAILED:t(2336),FULLSCREEN_UNSUPPORTED:t(47412),LEAVE_FULLSCREEN:t(51452),ORIENTATION_CHANGE:t(20666),RESIZE:t(47945)}},93364:(o,g,t)=>{var a=t(79291),v=t(13560),h={Center:t(64743),Events:t(97480),Orientation:t(39218),ScaleManager:t(76531),ScaleModes:t(81050),Zoom:t(80805)};h=a(!1,h,v.CENTER),h=a(!1,h,v.ORIENTATION),h=a(!1,h,v.SCALE_MODE),h=a(!1,h,v.ZOOM),o.exports=h},27397:(o,g,t)=>{var a=t(95540),v=t(35355),h=function(s){var r=s.game.config.defaultPhysicsSystem,e=a(s.settings,"physics",!1);if(!(!r&&!e)){var n=[];if(r&&n.push(v(r+"Physics")),e)for(var l in e)l=v(l.concat("Physics")),n.indexOf(l)===-1&&n.push(l);return n}};o.exports=h},52106:(o,g,t)=>{var a=t(95540),v=function(h){var s=h.plugins.getDefaultScenePlugins(),r=a(h.settings,"plugins",!1);return Array.isArray(r)?r:s||[]};o.exports=v},87033:o=>{var g={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};o.exports=g},97482:(o,g,t)=>{var a=t(83419),v=t(2368),h=new a({initialize:function(r){this.sys=new v(this,r),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});o.exports=h},60903:(o,g,t)=>{var a=t(83419),v=t(89993),h=t(44594),s=t(8443),r=t(35154),e=t(54899),n=t(29747),l=t(97482),i=t(2368),u=new a({initialize:function(c,d){if(this.game=c,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,d){Array.isArray(d)||(d=[d]);for(var p=0;p<d.length;p++)this._pending.push({key:"default",scene:d[p],autoStart:p===0,data:{}})}c.events.once(s.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new l),this.game.events.emit(s.SYSTEM_READY,this.systemScene,this);var f,c,d,p;for(f=0;f<this._pending.length;f++){c=this._pending[f],d=c.key,p=c.scene;var m;p instanceof l?m=this.createSceneFromInstance(d,p):typeof p=="object"?m=this.createSceneFromObject(d,p):typeof p=="function"&&(m=this.createSceneFromFunction(d,p)),d=m.sys.settings.key,this.keys[d]=m,this.scenes.push(m),this._data[d]&&(m.sys.settings.data=this._data[d].data,this._data[d].autoStart&&(c.autoStart=!0)),(c.autoStart||m.sys.settings.active)&&this._start.push(d)}for(this._pending.length=0,this._data={},this.isBooted=!0,f=0;f<this._start.length;f++)c=this._start[f],this.start(c);this._start.length=0}},processQueue:function(){var f=this._pending.length,c=this._queue.length;if(!(f===0&&c===0)){var d,p;if(f){for(d=0;d<f;d++)p=this._pending[d],this.add(p.key,p.scene,p.autoStart,p.data);for(d=0;d<this._start.length;d++)p=this._start[d],this.start(p);this._start.length=0,this._pending.length=0}for(d=0;d<this._queue.length;d++)p=this._queue[d],this[p.op](p.keyA,p.keyB,p.data);this._queue.length=0}},add:function(f,c,d,p){if(d===void 0&&(d=!1),p===void 0&&(p={}),this.isProcessing||!this.isBooted)return this._pending.push({key:f,scene:c,autoStart:d,data:p}),this.isBooted||(this._data[f]={data:p}),null;f=this.getKey(f,c);var m;return c instanceof l?m=this.createSceneFromInstance(f,c):typeof c=="object"?(c.key=f,m=this.createSceneFromObject(f,c)):typeof c=="function"&&(m=this.createSceneFromFunction(f,c)),m.sys.settings.data=p,f=m.sys.settings.key,this.keys[f]=m,this.scenes.push(m),(d||m.sys.settings.active)&&(this._pending.length?this._start.push(f):this.start(f)),m},remove:function(f){if(this.isProcessing)return this.queueOp("remove",f);var c=this.getScene(f);if(!c||c.sys.isTransitioning())return this;var d=this.scenes.indexOf(c),p=c.sys.settings.key;return d>-1&&(delete this.keys[p],this.scenes.splice(d,1),this._start.indexOf(p)>-1&&(d=this._start.indexOf(p),this._start.splice(d,1)),c.sys.destroy()),this},bootScene:function(f){var c=f.sys,d=c.settings;c.sceneUpdate=n,f.init&&(f.init.call(f,d.data),d.status=v.INIT,d.isTransition&&c.events.emit(h.TRANSITION_INIT,d.transitionFrom,d.transitionDuration));var p;c.load&&(p=c.load,p.reset()),p&&f.preload?(f.preload.call(f),d.status=v.LOADING,p.once(e.COMPLETE,this.loadComplete,this),p.start()):this.create(f)},loadComplete:function(f){this.create(f.scene)},payloadComplete:function(f){this.bootScene(f.scene)},update:function(f,c){this.processQueue(),this.isProcessing=!0;for(var d=this.scenes.length-1;d>=0;d--){var p=this.scenes[d].sys;p.settings.status>v.START&&p.settings.status<=v.RUNNING&&p.step(f,c),p.scenePlugin&&p.scenePlugin._target&&p.scenePlugin.step(f,c)}},render:function(f){for(var c=0;c<this.scenes.length;c++){var d=this.scenes[c].sys;d.settings.visible&&d.settings.status>=v.LOADING&&d.settings.status<v.SLEEPING&&d.render(f)}this.isProcessing=!1},create:function(f){var c=f.sys,d=c.settings;f.create&&(d.status=v.CREATING,f.create.call(f,d.data),d.status===v.DESTROYED)||(d.isTransition&&c.events.emit(h.TRANSITION_START,d.transitionFrom,d.transitionDuration),f.update&&(c.sceneUpdate=f.update),d.status=v.RUNNING,c.events.emit(h.CREATE,f))},createSceneFromFunction:function(f,c){var d=new c;if(d instanceof l){var p=d.sys.settings.key;if(p!==""&&(f=p),this.keys.hasOwnProperty(f))throw new Error("Cannot add Scene with duplicate key: "+f);return this.createSceneFromInstance(f,d)}else return d.sys=new i(d),d.sys.settings.key=f,d.sys.init(this.game),d},createSceneFromInstance:function(f,c){var d=c.sys.settings.key;return d===""&&(c.sys.settings.key=f),c.sys.init(this.game),c},createSceneFromObject:function(f,c){var d=new l(c),p=d.sys.settings.key;p!==""?f=p:d.sys.settings.key=f,d.sys.init(this.game);for(var m=["init","preload","create","update","render"],y=0;y<m.length;y++){var x=r(c,m[y],null);x&&(d[m[y]]=x)}if(c.hasOwnProperty("extend")){for(var C in c.extend)if(c.extend.hasOwnProperty(C)){var E=c.extend[C];C==="data"&&d.hasOwnProperty("data")&&typeof E=="object"?d.data.merge(E):C!=="sys"&&(d[C]=E)}}return d},getKey:function(f,c){if(f||(f="default"),typeof c=="function")return f;if(c instanceof l?f=c.sys.settings.key:typeof c=="object"&&c.hasOwnProperty("key")&&(f=c.key),this.keys.hasOwnProperty(f))throw new Error("Cannot add Scene with duplicate key: "+f);return f},getScenes:function(f,c){f===void 0&&(f=!0),c===void 0&&(c=!1);for(var d=[],p=this.scenes,m=0;m<p.length;m++){var y=p[m];y&&(!f||f&&y.sys.isActive())&&d.push(y)}return c?d.reverse():d},getScene:function(f){if(typeof f=="string"){if(this.keys[f])return this.keys[f]}else for(var c=0;c<this.scenes.length;c++)if(f===this.scenes[c])return f;return null},isActive:function(f){var c=this.getScene(f);return c?c.sys.isActive():null},isPaused:function(f){var c=this.getScene(f);return c?c.sys.isPaused():null},isVisible:function(f){var c=this.getScene(f);return c?c.sys.isVisible():null},isSleeping:function(f){var c=this.getScene(f);return c?c.sys.isSleeping():null},pause:function(f,c){var d=this.getScene(f);return d&&d.sys.pause(c),this},resume:function(f,c){var d=this.getScene(f);return d&&d.sys.resume(c),this},sleep:function(f,c){var d=this.getScene(f);return d&&!d.sys.isTransitioning()&&d.sys.sleep(c),this},wake:function(f,c){var d=this.getScene(f);return d&&d.sys.wake(c),this},run:function(f,c){var d=this.getScene(f);if(!d){for(var p=0;p<this._pending.length;p++)if(this._pending[p].key===f){this.queueOp("start",f,c);break}return this}d.sys.isSleeping()?d.sys.wake(c):d.sys.isPaused()?d.sys.resume(c):this.start(f,c)},start:function(f,c){if(!this.isBooted)return this._data[f]={autoStart:!0,data:c},this;var d=this.getScene(f);if(!d)return console.warn("Scene key not found: "+f),this;var p=d.sys,m=p.settings.status;if(m>=v.START&&m<=v.CREATING)return this;if(m>=v.RUNNING&&m<=v.SLEEPING)p.shutdown(),p.sceneUpdate=n,p.start(c);else{p.sceneUpdate=n,p.start(c);var y;if(p.load&&(y=p.load),y&&p.settings.hasOwnProperty("pack")&&(y.reset(),y.addPack({payload:p.settings.pack})))return p.settings.status=v.LOADING,y.once(e.COMPLETE,this.payloadComplete,this),y.start(),this}return this.bootScene(d),this},stop:function(f,c){var d=this.getScene(f);if(d&&!d.sys.isTransitioning()&&d.sys.settings.status!==v.SHUTDOWN){var p=d.sys.load;p&&(p.off(e.COMPLETE,this.loadComplete,this),p.off(e.COMPLETE,this.payloadComplete,this)),d.sys.shutdown(c)}return this},switch:function(f,c,d){var p=this.getScene(f),m=this.getScene(c);return p&&m&&p!==m&&(this.sleep(f),this.isSleeping(c)?this.wake(c,d):this.start(c,d)),this},getAt:function(f){return this.scenes[f]},getIndex:function(f){var c=this.getScene(f);return this.scenes.indexOf(c)},bringToTop:function(f){if(this.isProcessing)return this.queueOp("bringToTop",f);var c=this.getIndex(f),d=this.scenes;if(c!==-1&&c<d.length){var p=this.getScene(f);d.splice(c,1),d.push(p)}return this},sendToBack:function(f){if(this.isProcessing)return this.queueOp("sendToBack",f);var c=this.getIndex(f);if(c!==-1&&c>0){var d=this.getScene(f);this.scenes.splice(c,1),this.scenes.unshift(d)}return this},moveDown:function(f){if(this.isProcessing)return this.queueOp("moveDown",f);var c=this.getIndex(f);if(c>0){var d=c-1,p=this.getScene(f),m=this.getAt(d);this.scenes[c]=m,this.scenes[d]=p}return this},moveUp:function(f){if(this.isProcessing)return this.queueOp("moveUp",f);var c=this.getIndex(f);if(c<this.scenes.length-1){var d=c+1,p=this.getScene(f),m=this.getAt(d);this.scenes[c]=m,this.scenes[d]=p}return this},moveAbove:function(f,c){if(f===c)return this;if(this.isProcessing)return this.queueOp("moveAbove",f,c);var d=this.getIndex(f),p=this.getIndex(c);if(d!==-1&&p!==-1&&p<d){var m=this.getAt(p);this.scenes.splice(p,1),this.scenes.splice(d+(p>d),0,m)}return this},moveBelow:function(f,c){if(f===c)return this;if(this.isProcessing)return this.queueOp("moveBelow",f,c);var d=this.getIndex(f),p=this.getIndex(c);if(d!==-1&&p!==-1&&p>d){var m=this.getAt(p);this.scenes.splice(p,1),d===0?this.scenes.unshift(m):this.scenes.splice(d-(p<d),0,m)}return this},queueOp:function(f,c,d,p){return this._queue.push({op:f,keyA:c,keyB:d,data:p}),this},swapPosition:function(f,c){if(f===c)return this;if(this.isProcessing)return this.queueOp("swapPosition",f,c);var d=this.getIndex(f),p=this.getIndex(c);if(d!==p&&d!==-1&&p!==-1){var m=this.getAt(d);this.scenes[d]=this.scenes[p],this.scenes[p]=m}return this},dump:function(){for(var f=[],c=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],d=0;d<this.scenes.length;d++){var p=this.scenes[d].sys,m=p.settings.visible&&(p.settings.status===v.RUNNING||p.settings.status===v.PAUSED)?"[*] ":"[-] ";m+=p.settings.key+" ("+c[p.settings.status]+")",f.push(m)}console.log(f.join(`
`))},destroy:function(){for(var f=0;f<this.scenes.length;f++){var c=this.scenes[f].sys;c.destroy()}this.systemScene.sys.destroy(),this.update=n,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});o.exports=u},52209:(o,g,t)=>{var a=t(45319),v=t(83419),h=t(44594),s=t(95540),r=t(37277),e=new v({initialize:function(l){this.scene=l,this.systems=l.sys,this.settings=l.sys.settings,this.key=l.sys.settings.key,this.manager=l.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,l.sys.events.once(h.BOOT,this.boot,this),l.sys.events.on(h.START,this.pluginStart,this)},boot:function(){this.systems.events.once(h.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(h.SHUTDOWN,this.shutdown,this)},start:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",n,l),this},restart:function(n){var l=this.key;return this.manager.queueOp("stop",l),this.manager.queueOp("start",l,n),this},transition:function(n){n===void 0&&(n={});var l=s(n,"target",!1),i=this.manager.getScene(l);if(!l||!this.checkValidTransition(i))return!1;var u=s(n,"duration",1e3);this._elapsed=0,this._target=i,this._duration=u,this._willSleep=s(n,"sleep",!1),this._willRemove=s(n,"remove",!1);var f=s(n,"onUpdate",null);f&&(this._onUpdate=f,this._onUpdateScope=s(n,"onUpdateScope",this.scene));var c=s(n,"allowInput",!1);this.settings.transitionAllowInput=c;var d=i.sys.settings;d.isTransition=!0,d.transitionFrom=this.scene,d.transitionDuration=u,d.transitionAllowInput=c,s(n,"moveAbove",!1)?this.manager.moveAbove(this.key,l):s(n,"moveBelow",!1)&&this.manager.moveBelow(this.key,l),i.sys.isSleeping()?i.sys.wake(s(n,"data")):this.manager.start(l,s(n,"data"));var p=s(n,"onStart",null),m=s(n,"onStartScope",this.scene);return p&&p.call(m,this.scene,i,u),this.systems.events.emit(h.TRANSITION_OUT,i,u),!0},checkValidTransition:function(n){return!(!n||n.sys.isActive()||n.sys.isTransitioning()||n===this.scene||this.systems.isTransitioning())},step:function(n,l){this._elapsed+=l,this.transitionProgress=a(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var n=this._target.sys,l=this._target.sys.settings;n.events.emit(h.TRANSITION_COMPLETE,this.scene),l.isTransition=!1,l.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(n,l,i,u){return this.manager.add(n,l,i,u)},launch:function(n,l){return n&&n!==this.key&&this.manager.queueOp("start",n,l),this},run:function(n,l){return n&&n!==this.key&&this.manager.queueOp("run",n,l),this},pause:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("pause",n,l),this},resume:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("resume",n,l),this},sleep:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("sleep",n,l),this},wake:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("wake",n,l),this},switch:function(n,l){return n!==this.key&&this.manager.queueOp("switch",this.key,n,l),this},stop:function(n,l){return n===void 0&&(n=this.key),this.manager.queueOp("stop",n,l),this},setActive:function(n,l,i){l===void 0&&(l=this.key);var u=this.manager.getScene(l);return u&&u.sys.setActive(n,i),this},setVisible:function(n,l){l===void 0&&(l=this.key);var i=this.manager.getScene(l);return i&&i.sys.setVisible(n),this},isSleeping:function(n){return n===void 0&&(n=this.key),this.manager.isSleeping(n)},isActive:function(n){return n===void 0&&(n=this.key),this.manager.isActive(n)},isPaused:function(n){return n===void 0&&(n=this.key),this.manager.isPaused(n)},isVisible:function(n){return n===void 0&&(n=this.key),this.manager.isVisible(n)},swapPosition:function(n,l){return l===void 0&&(l=this.key),n!==l&&this.manager.swapPosition(n,l),this},moveAbove:function(n,l){return l===void 0&&(l=this.key),n!==l&&this.manager.moveAbove(n,l),this},moveBelow:function(n,l){return l===void 0&&(l=this.key),n!==l&&this.manager.moveBelow(n,l),this},remove:function(n){return n===void 0&&(n=this.key),this.manager.remove(n),this},moveUp:function(n){return n===void 0&&(n=this.key),this.manager.moveUp(n),this},moveDown:function(n){return n===void 0&&(n=this.key),this.manager.moveDown(n),this},bringToTop:function(n){return n===void 0&&(n=this.key),this.manager.bringToTop(n),this},sendToBack:function(n){return n===void 0&&(n=this.key),this.manager.sendToBack(n),this},get:function(n){return this.manager.getScene(n)},getStatus:function(n){var l=this.manager.getScene(n);if(l)return l.sys.getStatus()},getIndex:function(n){return n===void 0&&(n=this.key),this.manager.getIndex(n)},shutdown:function(){var n=this.systems.events;n.off(h.SHUTDOWN,this.shutdown,this),n.off(h.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(h.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});r.register("ScenePlugin",e,"scenePlugin"),o.exports=e},55681:(o,g,t)=>{var a=t(89993),v=t(35154),h=t(46975),s=t(87033),r={create:function(e){return typeof e=="string"?e={key:e}:e===void 0&&(e={}),{status:a.PENDING,key:v(e,"key",""),active:v(e,"active",!1),visible:v(e,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:v(e,"pack",!1),cameras:v(e,"cameras",null),map:v(e,"map",h(s,v(e,"mapAdd",{}))),physics:v(e,"physics",{}),loader:v(e,"loader",{}),plugins:v(e,"plugins",!1),input:v(e,"input",{})}}};o.exports=r},2368:(o,g,t)=>{var a=t(83419),v=t(89993),h=t(42363),s=t(44594),r=t(27397),e=t(52106),n=t(29747),l=t(55681),i=new a({initialize:function(f,c){this.scene=f,this.game,this.renderer,this.config=c,this.settings=l.create(c),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=n},init:function(u){this.settings.status=v.INIT,this.sceneUpdate=n,this.game=u,this.renderer=u.renderer,this.canvas=u.canvas,this.context=u.context;var f=u.plugins;this.plugins=f,f.addToScene(this,h.Global,[h.CoreScene,e(this),r(this)]),this.events.emit(s.BOOT,this),this.settings.isBooted=!0},step:function(u,f){var c=this.events;c.emit(s.PRE_UPDATE,u,f),c.emit(s.UPDATE,u,f),this.sceneUpdate.call(this.scene,u,f),c.emit(s.POST_UPDATE,u,f)},render:function(u){var f=this.displayList;f.depthSort(),this.events.emit(s.PRE_RENDER,u),this.cameras.render(u,f),this.events.emit(s.RENDER,u)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(u){var f=this.settings,c=this.getStatus();return c!==v.CREATING&&c!==v.RUNNING?console.warn("Cannot pause non-running Scene",f.key):this.settings.active&&(f.status=v.PAUSED,f.active=!1,this.events.emit(s.PAUSE,this,u)),this},resume:function(u){var f=this.events,c=this.settings;return this.settings.active||(c.status=v.RUNNING,c.active=!0,f.emit(s.RESUME,this,u)),this},sleep:function(u){var f=this.settings,c=this.getStatus();return c!==v.CREATING&&c!==v.RUNNING?console.warn("Cannot sleep non-running Scene",f.key):(f.status=v.SLEEPING,f.active=!1,f.visible=!1,this.events.emit(s.SLEEP,this,u)),this},wake:function(u){var f=this.events,c=this.settings;return c.status=v.RUNNING,c.active=!0,c.visible=!0,f.emit(s.WAKE,this,u),c.isTransition&&f.emit(s.TRANSITION_WAKE,c.transitionFrom,c.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var u=this.settings.status;return u>v.PENDING&&u<=v.RUNNING},isSleeping:function(){return this.settings.status===v.SLEEPING},isActive:function(){return this.settings.status===v.RUNNING},isPaused:function(){return this.settings.status===v.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(u){return this.settings.visible=u,this},setActive:function(u,f){return u?this.resume(f):this.pause(f)},start:function(u){var f=this.events,c=this.settings;u&&(c.data=u),c.status=v.START,c.active=!0,c.visible=!0,f.emit(s.START,this),f.emit(s.READY,this,u)},shutdown:function(u){var f=this.events,c=this.settings;f.off(s.TRANSITION_INIT),f.off(s.TRANSITION_START),f.off(s.TRANSITION_COMPLETE),f.off(s.TRANSITION_OUT),c.status=v.SHUTDOWN,c.active=!1,c.visible=!1,f.emit(s.SHUTDOWN,this,u)},destroy:function(){var u=this.events,f=this.settings;f.status=v.DESTROYED,f.active=!1,f.visible=!1,u.emit(s.DESTROY,this),u.removeAllListeners();for(var c=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],d=0;d<c.length;d++)this[c[d]]=null}});o.exports=i},89993:o=>{var g={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};o.exports=g},69830:o=>{o.exports="addedtoscene"},7919:o=>{o.exports="boot"},46763:o=>{o.exports="create"},11763:o=>{o.exports="destroy"},71555:o=>{o.exports="pause"},36735:o=>{o.exports="postupdate"},3809:o=>{o.exports="prerender"},90716:o=>{o.exports="preupdate"},58262:o=>{o.exports="ready"},91633:o=>{o.exports="removedfromscene"},10319:o=>{o.exports="render"},87132:o=>{o.exports="resume"},81961:o=>{o.exports="shutdown"},90194:o=>{o.exports="sleep"},6265:o=>{o.exports="start"},33178:o=>{o.exports="transitioncomplete"},43063:o=>{o.exports="transitioninit"},11259:o=>{o.exports="transitionout"},61611:o=>{o.exports="transitionstart"},45209:o=>{o.exports="transitionwake"},22966:o=>{o.exports="update"},21747:o=>{o.exports="wake"},44594:(o,g,t)=>{o.exports={ADDED_TO_SCENE:t(69830),BOOT:t(7919),CREATE:t(46763),DESTROY:t(11763),PAUSE:t(71555),POST_UPDATE:t(36735),PRE_RENDER:t(3809),PRE_UPDATE:t(90716),READY:t(58262),REMOVED_FROM_SCENE:t(91633),RENDER:t(10319),RESUME:t(87132),SHUTDOWN:t(81961),SLEEP:t(90194),START:t(6265),TRANSITION_COMPLETE:t(33178),TRANSITION_INIT:t(43063),TRANSITION_OUT:t(11259),TRANSITION_START:t(61611),TRANSITION_WAKE:t(45209),UPDATE:t(22966),WAKE:t(21747)}},62194:(o,g,t)=>{var a=t(89993),v=t(79291),h={Events:t(44594),GetPhysicsPlugins:t(27397),GetScenePlugins:t(52106),SceneManager:t(60903),ScenePlugin:t(52209),Settings:t(55681),Systems:t(2368)};h=v(!1,h,a),o.exports=h},30341:(o,g,t)=>{var a=t(83419),v=t(50792),h=t(14463),s=t(79291),r=t(29747),e=new a({Extends:v,initialize:function(l,i,u){v.call(this),this.manager=l,this.key=i,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=s(this.config,u),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(n){return!n||!n.name||typeof n.name!="string"?!1:this.markers[n.name]?(console.error("addMarker "+n.name+" already exists in Sound"),!1):(n=s(!0,{name:"",start:0,duration:this.totalDuration-(n.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},n),this.markers[n.name]=n,!0)},updateMarker:function(n){return!n||!n.name||typeof n.name!="string"?!1:this.markers[n.name]?(this.markers[n.name]=s(!0,this.markers[n.name],n),!0):(console.warn("Audio Marker: "+n.name+" missing in Sound: "+this.key),!1)},removeMarker:function(n){var l=this.markers[n];return l?(this.markers[n]=null,l):null},play:function(n,l){if(n===void 0&&(n=""),typeof n=="object"&&(l=n,n=""),typeof n!="string")return!1;if(!n)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[n])return console.warn("Marker: "+n+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[n],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=s(this.currentConfig,l),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:r,calculateRate:function(){var n=1.0005777895065548,l=this.currentConfig.detune+this.manager.detune,i=Math.pow(n,l);this.totalRate=this.currentConfig.rate*this.manager.rate*i},destroy:function(){this.pendingRemove||(this.stop(),this.emit(h.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});o.exports=e},85034:(o,g,t)=>{var a=t(83419),v=t(41786),h=t(50792),s=t(14463),r=t(8443),e=t(46710),n=t(58731),l=t(29747),i=t(26099),u=new a({Extends:h,initialize:function(c){h.call(this),this.game=c,this.jsonCache=c.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new i;var d=c.events;d.on(r.BLUR,this.onGameBlur,this),d.on(r.FOCUS,this.onGameFocus,this),d.on(r.PRE_STEP,this.update,this),d.once(r.DESTROY,this.destroy,this)},add:l,addAudioSprite:function(f,c){c===void 0&&(c={});var d=this.add(f,c);d.spritemap=this.jsonCache.get(f).spritemap;for(var p in d.spritemap)if(d.spritemap.hasOwnProperty(p)){var m=v(c),y=d.spritemap[p];m.loop=y.hasOwnProperty("loop")?y.loop:!1,d.addMarker({name:p,start:y.start,duration:y.end-y.start,config:m})}return d},get:function(f){return n(this.sounds,"key",f)},getAll:function(f){return f?e(this.sounds,"key",f):e(this.sounds)},getAllPlaying:function(){return e(this.sounds,"isPlaying",!0)},play:function(f,c){var d=this.add(f);return d.once(s.COMPLETE,d.destroy,d),c?c.name?(d.addMarker(c),d.play(c.name)):d.play(c):d.play()},playAudioSprite:function(f,c,d){var p=this.addAudioSprite(f);return p.once(s.COMPLETE,p.destroy,p),p.play(c,d)},remove:function(f){var c=this.sounds.indexOf(f);return c!==-1?(f.destroy(),this.sounds.splice(c,1),!0):!1},removeAll:function(){this.sounds.forEach(function(f){f.destroy()}),this.sounds.length=0},removeByKey:function(f){for(var c=0,d=this.sounds.length-1;d>=0;d--){var p=this.sounds[d];p.key===f&&(p.destroy(),this.sounds.splice(d,1),c++)}return c},pauseAll:function(){this.forEachActiveSound(function(f){f.pause()}),this.emit(s.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(f){f.resume()}),this.emit(s.RESUME_ALL,this)},setListenerPosition:l,stopAll:function(){this.forEachActiveSound(function(f){f.stop()}),this.emit(s.STOP_ALL,this)},stopByKey:function(f){var c=0;return this.getAll(f).forEach(function(d){d.stop()&&c++}),c},isPlaying:function(f){var c=this.sounds,d=c.length-1,p;if(f===void 0){for(;d>=0;d--)if(p=this.sounds[d],p.isPlaying)return!0}else for(;d>=0;d--)if(p=this.sounds[d],p.key===f&&p.isPlaying)return!0;return!1},unlock:l,onBlur:l,onFocus:l,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(f,c){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(s.UNLOCKED,this));for(var d=this.sounds.length-1;d>=0;d--)this.sounds[d].pendingRemove&&this.sounds.splice(d,1);this.sounds.forEach(function(p){p.update(f,c)})},destroy:function(){this.game.events.off(r.BLUR,this.onGameBlur,this),this.game.events.off(r.FOCUS,this.onGameFocus,this),this.game.events.off(r.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(f,c){var d=this;this.sounds.forEach(function(p,m){p&&!p.pendingRemove&&f.call(c||d,p,m,d.sounds)})},setRate:function(f){return this.rate=f,this},rate:{get:function(){return this._rate},set:function(f){this._rate=f,this.forEachActiveSound(function(c){c.calculateRate()}),this.emit(s.GLOBAL_RATE,this,f)}},setDetune:function(f){return this.detune=f,this},detune:{get:function(){return this._detune},set:function(f){this._detune=f,this.forEachActiveSound(function(c){c.calculateRate()}),this.emit(s.GLOBAL_DETUNE,this,f)}}});o.exports=u},14747:(o,g,t)=>{var a=t(33684),v=t(25960),h=t(57490),s={create:function(r){var e=r.config.audio,n=r.device.audio;return e.noAudio||!n.webAudio&&!n.audioData?new v(r):n.webAudio&&!e.disableWebAudio?new h(r):new a(r)}};o.exports=s},19723:o=>{o.exports="complete"},98882:o=>{o.exports="decodedall"},57506:o=>{o.exports="decoded"},73146:o=>{o.exports="destroy"},11305:o=>{o.exports="detune"},40577:o=>{o.exports="detune"},30333:o=>{o.exports="mute"},20394:o=>{o.exports="rate"},21802:o=>{o.exports="volume"},1299:o=>{o.exports="looped"},99190:o=>{o.exports="loop"},97125:o=>{o.exports="mute"},89259:o=>{o.exports="pan"},79986:o=>{o.exports="pauseall"},17586:o=>{o.exports="pause"},19618:o=>{o.exports="play"},42306:o=>{o.exports="rate"},10387:o=>{o.exports="resumeall"},48959:o=>{o.exports="resume"},9960:o=>{o.exports="seek"},19180:o=>{o.exports="stopall"},98328:o=>{o.exports="stop"},50401:o=>{o.exports="unlocked"},52498:o=>{o.exports="volume"},14463:(o,g,t)=>{o.exports={COMPLETE:t(19723),DECODED:t(57506),DECODED_ALL:t(98882),DESTROY:t(73146),DETUNE:t(11305),GLOBAL_DETUNE:t(40577),GLOBAL_MUTE:t(30333),GLOBAL_RATE:t(20394),GLOBAL_VOLUME:t(21802),LOOP:t(99190),LOOPED:t(1299),MUTE:t(97125),PAN:t(89259),PAUSE_ALL:t(79986),PAUSE:t(17586),PLAY:t(19618),RATE:t(42306),RESUME_ALL:t(10387),RESUME:t(48959),SEEK:t(9960),STOP_ALL:t(19180),STOP:t(98328),UNLOCKED:t(50401),VOLUME:t(52498)}},64895:(o,g,t)=>{var a=t(30341),v=t(83419),h=t(14463),s=t(45319),r=new v({Extends:a,initialize:function(n,l,i){if(i===void 0&&(i={}),this.tags=n.game.cache.audio.get(l),!this.tags)throw new Error('No cached audio asset with key "'+l);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,a.call(this,n,l,i)},play:function(e,n){return this.manager.isLocked(this,"play",[e,n])||!a.prototype.play.call(this,e,n)||!this.pickAndPlayAudioTag()?!1:(this.emit(h.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!a.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(h.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!a.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(h.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!a.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(h.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var e=this.currentConfig.seek,n=this.currentConfig.delay,l=(this.currentMarker?this.currentMarker.start:0)+e;return this.previousTime=l,this.audio.currentTime=l,this.applyConfig(),n===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+n*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var e=0;e<this.tags.length;e++){var n=this.tags[e];if(n.dataset.used==="false")return n.dataset.used="true",this.audio=n,!0}if(!this.manager.override)return!1;var l=[];this.manager.forEachActiveSound(function(u){u.key===this.key&&u.audio&&l.push(u)},this),l.sort(function(u,f){return u.loop===f.loop?f.seek/f.duration-u.seek/u.duration:u.loop?1:-1});var i=l[0];return this.audio=i.audio,i.reset(),i.audio=null,i.startTime=0,i.previousTime=0,!0},playCatchPromise:function(){var e=this.audio.play();e&&e.catch(function(n){console.warn(n)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){a.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(e){if(this.isPlaying){if(this.startTime>0){this.startTime<e-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,e-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var n=this.currentMarker?this.currentMarker.start:0,l=n+this.duration,i=this.audio.currentTime;if(this.currentConfig.loop)i>=l-this.manager.loopEndOffset?(this.audio.currentTime=n+Math.max(0,i-l),i=this.audio.currentTime):i<n&&(this.audio.currentTime+=n,i=this.audio.currentTime),i<this.previousTime&&this.emit(h.LOOPED,this);else if(i>=l){this.reset(),this.stopAndReleaseAudioTag(),this.emit(h.COMPLETE,this);return}this.previousTime=i}},destroy:function(){a.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=s(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){a.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(e){this.currentConfig.mute=e,!this.manager.isLocked(this,"mute",e)&&(this.updateMute(),this.emit(h.MUTE,this,e))}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.currentConfig.volume},set:function(e){this.currentConfig.volume=e,!this.manager.isLocked(this,"volume",e)&&(this.updateVolume(),this.emit(h.VOLUME,this,e))}},setVolume:function(e){return this.volume=e,this},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,!this.manager.isLocked(this,h.RATE,e)&&(this.calculateRate(),this.emit(h.RATE,this,e))}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,!this.manager.isLocked(this,h.DETUNE,e)&&(this.calculateRate(),this.emit(h.DETUNE,this,e))}},setDetune:function(e){return this.detune=e,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.isLocked(this,"seek",e)||this.startTime>0||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.isPlaying?(this.previousTime=e,this.audio.currentTime=e):this.isPaused&&(this.currentConfig.seek=e),this.emit(h.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,!this.manager.isLocked(this,"loop",e)&&(this.audio&&(this.audio.loop=e),this.emit(h.LOOP,this,e))}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.currentConfig.pan},set:function(e){this.currentConfig.pan=e,this.emit(h.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});o.exports=r},33684:(o,g,t)=>{var a=t(85034),v=t(83419),h=t(14463),s=t(64895),r=new v({Extends:a,initialize:function(n){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,a.call(this,n)},add:function(e,n){var l=new s(this,e,n);return this.sounds.push(l),l},unlock:function(){this.locked=!1;var e=this;if(this.game.cache.audio.entries.each(function(u,f){for(var c=0;c<f.length;c++)if(f[c].dataset.locked==="true")return e.locked=!0,!1;return!0}),!!this.locked){var n=!1,l=function(){n=!0},i=function(){if(n){n=!1;return}document.body.removeEventListener("touchmove",l),document.body.removeEventListener("touchend",i);var u=[];if(e.game.cache.audio.entries.each(function(c,d){for(var p=0;p<d.length;p++){var m=d[p];m.dataset.locked==="true"&&u.push(m)}return!0}),u.length!==0){var f=u[u.length-1];f.oncanplaythrough=function(){f.oncanplaythrough=null,u.forEach(function(c){c.dataset.locked="false"}),e.unlocked=!0},u.forEach(function(c){c.load()})}};this.once(h.UNLOCKED,function(){for(this.forEachActiveSound(function(f){f.currentMarker===null&&f.duration===0&&(f.duration=f.tags[0].duration),f.totalDuration=f.tags[0].duration});this.lockedActionsQueue.length;){var u=this.lockedActionsQueue.shift();u.sound[u.prop].apply?u.sound[u.prop].apply(u.sound,u.value||[]):u.sound[u.prop]=u.value}},this),document.body.addEventListener("touchmove",l,!1),document.body.addEventListener("touchend",i,!1)}},onBlur:function(){this.forEachActiveSound(function(e){e.isPlaying&&(this.onBlurPausedSounds.push(e),e.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(e){e.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){a.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(e,n,l){return e.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:e,prop:n,value:l}),!0):!1},setMute:function(e){return this.mute=e,this},mute:{get:function(){return this._mute},set:function(e){this._mute=e,this.forEachActiveSound(function(n){n.updateMute()}),this.emit(h.GLOBAL_MUTE,this,e)}},setVolume:function(e){return this.volume=e,this},volume:{get:function(){return this._volume},set:function(e){this._volume=e,this.forEachActiveSound(function(n){n.updateVolume()}),this.emit(h.GLOBAL_VOLUME,this,e)}}});o.exports=r},23717:(o,g,t)=>{o.exports={SoundManagerCreator:t(14747),Events:t(14463),BaseSound:t(30341),BaseSoundManager:t(85034),WebAudioSound:t(71741),WebAudioSoundManager:t(57490),HTML5AudioSound:t(64895),HTML5AudioSoundManager:t(33684),NoAudioSound:t(4603),NoAudioSoundManager:t(25960)}},4603:(o,g,t)=>{var a=t(30341),v=t(83419),h=t(50792),s=t(79291),r=t(29747),e=function(){return!1},n=function(){return null},l=function(){return this},i=new v({Extends:h,initialize:function(f,c,d){d===void 0&&(d={}),h.call(this),this.manager=f,this.key=c,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=s({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},d),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:e,updateMarker:e,removeMarker:n,play:e,pause:e,resume:e,stop:e,setMute:l,setVolume:l,setRate:l,setDetune:l,setSeek:l,setLoop:l,setPan:l,applyConfig:n,resetConfig:n,update:r,calculateRate:n,destroy:function(){a.prototype.destroy.call(this)}});o.exports=i},25960:(o,g,t)=>{var a=t(85034),v=t(83419),h=t(50792),s=t(4603),r=t(29747),e=new v({Extends:h,initialize:function(l){h.call(this),this.game=l,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(n,l){var i=new s(this,n,l);return this.sounds.push(i),i},addAudioSprite:function(n,l){var i=this.add(n,l);return i.spritemap={},i},get:function(n){return a.prototype.get.call(this,n)},getAll:function(n){return a.prototype.getAll.call(this,n)},play:function(n,l){return!1},playAudioSprite:function(n,l,i){return!1},remove:function(n){return a.prototype.remove.call(this,n)},removeAll:function(){return a.prototype.removeAll.call(this)},removeByKey:function(n){return a.prototype.removeByKey.call(this,n)},stopByKey:function(n){return a.prototype.stopByKey.call(this,n)},onBlur:r,onFocus:r,onGameBlur:r,onGameFocus:r,pauseAll:r,resumeAll:r,stopAll:r,update:r,setRate:r,setDetune:r,setMute:r,setVolume:r,unlock:r,forEachActiveSound:function(n,l){a.prototype.forEachActiveSound.call(this,n,l)},destroy:function(){a.prototype.destroy.call(this)}});o.exports=e},71741:(o,g,t)=>{var a=t(30341),v=t(83419),h=t(14463),s=t(95540),r=new v({Extends:a,initialize:function(n,l,i){if(i===void 0&&(i={}),this.audioBuffer=n.game.cache.audio.get(l),!this.audioBuffer)throw new Error('Audio key "'+l+'" not found in cache');this.source=null,this.loopSource=null,this.muteNode=n.context.createGain(),this.volumeNode=n.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),n.context.createPanner&&(this.spatialNode=n.context.createPanner(),this.volumeNode.connect(this.spatialNode)),n.context.createStereoPanner?(this.pannerNode=n.context.createStereoPanner(),n.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(n.destination)):n.context.createPanner?this.spatialNode.connect(n.destination):this.volumeNode.connect(n.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,a.call(this,n,l,i)},play:function(e,n){return a.prototype.play.call(this,e,n)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(h.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!a.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(h.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!a.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(h.RESUME,this),!0)},stop:function(){return a.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(h.STOP,this),!0):!1},createAndStartBufferSource:function(){var e=this.currentConfig.seek,n=this.currentConfig.delay,l=this.manager.context.currentTime+n,i=(this.currentMarker?this.currentMarker.start:0)+e,u=this.duration-e;this.playTime=l-e,this.startTime=l,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,l),Math.max(0,i),Math.max(0,u)),this.resetConfig()},createAndStartLoopBufferSource:function(){var e=this.getLoopTime(),n=this.currentMarker?this.currentMarker.start:0,l=this.duration;this.loopTime=e,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,e),Math.max(0,n),Math.max(0,l))},createBufferSource:function(){var e=this,n=this.manager.context.createBufferSource();return n.buffer=this.audioBuffer,n.connect(this.muteNode),n.onended=function(l){var i=l.target;(i===e.source||i===e.loopSource)&&(e.currentConfig.loop?e.hasLooped=!0:e.hasEnded=!0)},n},stopAndRemoveBufferSource:function(){if(this.source){var e=this.source;this.source=null,e.stop(),e.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var e=this.currentConfig.source;if(e&&this.manager.context.createPanner){var n=this.spatialNode;n.panningModel=s(e,"panningModel","equalpower"),n.distanceModel=s(e,"distanceModel","inverse"),n.orientationX.value=s(e,"orientationX",0),n.orientationY.value=s(e,"orientationY",0),n.orientationZ.value=s(e,"orientationZ",-1),n.refDistance=s(e,"refDistance",1),n.maxDistance=s(e,"maxDistance",1e4),n.rolloffFactor=s(e,"rolloffFactor",1),n.coneInnerAngle=s(e,"coneInnerAngle",360),n.coneOuterAngle=s(e,"coneOuterAngle",0),n.coneOuterGain=s(e,"coneOuterGain",0),this.spatialSource=s(e,"follow",null),this.spatialSource||(n.positionX.value=s(e,"x",0),n.positionY.value=s(e,"y",0),n.positionZ.value=s(e,"z",0))}a.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(e){this.spatialNode&&(this.spatialNode.positionX.value=e)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(e){this.spatialNode&&(this.spatialNode.positionY.value=e)}},update:function(){if(this.isPlaying&&this.spatialSource){var e=s(this.spatialSource,"x",null),n=s(this.spatialSource,"y",null);e&&e!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=e),n&&n!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=n)}this.hasEnded?(a.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(h.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(h.LOOPED,this))},destroy:function(){this.pendingRemove||(a.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){a.prototype.calculateRate.call(this);var e=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,e),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,e)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var e=0,n=0;n<this.rateUpdates.length;n++){var l=0;n<this.rateUpdates.length-1?l=this.rateUpdates[n+1].time:l=this.manager.context.currentTime-this.playTime,e+=(l-this.rateUpdates[n].time)*this.rateUpdates[n].rate}return e},getLoopTime:function(){for(var e=0,n=0;n<this.rateUpdates.length-1;n++)e+=(this.rateUpdates[n+1].time-this.rateUpdates[n].time)*this.rateUpdates[n].rate;var l=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+l.time+(this.duration-e)/l.rate},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,this.calculateRate(),this.emit(h.RATE,this,e)}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,this.calculateRate(),this.emit(h.DETUNE,this,e)}},setDetune:function(e){return this.detune=e,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(e){this.currentConfig.mute=e,this.muteNode.gain.setValueAtTime(e?0:1,0),this.emit(h.MUTE,this,e)}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(e){this.currentConfig.volume=e,this.volumeNode.gain.setValueAtTime(e,0),this.emit(h.VOLUME,this,e)}},setVolume:function(e){return this.volume=e,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.currentConfig.seek=e,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(h.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),e&&this.createAndStartLoopBufferSource()),this.emit(h.LOOP,this,e)}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(e){this.currentConfig.pan=e,this.pannerNode&&this.pannerNode.pan.setValueAtTime(e,this.manager.context.currentTime),this.emit(h.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});o.exports=r},57490:(o,g,t)=>{var a=t(53134),v=t(85034),h=t(83419),s=t(14463),r=t(8443),e=t(71741),n=t(95540),l=new h({Extends:v,initialize:function(u){this.context=this.createAudioContext(u),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended",v.call(this,u),this.locked&&(u.isBooted?this.unlock():u.events.once(r.BOOT,this.unlock,this)),u.events.on(r.VISIBLE,this.onGameVisible,this)},onGameVisible:function(){var i=this.context;window.setTimeout(function(){i&&(i.suspend(),i.resume())},100)},createAudioContext:function(i){var u=i.config.audio;if(u.context)return u.context.resume(),u.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(i){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=i,this.masterMuteNode=i.createGain(),this.masterVolumeNode=i.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(i.destination),this.destination=this.masterMuteNode,this},add:function(i,u){var f=new e(this,i,u);return this.sounds.push(f),f},decodeAudio:function(i,u){var f;Array.isArray(i)?f=i:f=[{key:i,data:u}];for(var c=this.game.cache.audio,d=f.length,p=0;p<f.length;p++){var m=f[p],y=m.key,x=m.data;typeof x=="string"&&(x=a(x));var C=(function(R,M){c.add(R,M),this.emit(s.DECODED,R),d--,d===0&&this.emit(s.DECODED_ALL)}).bind(this,y),E=(function(R,M){console.error("Error decoding audio: "+R+" - ",M?M.message:""),d--,d===0&&this.emit(s.DECODED_ALL)}).bind(this,y);this.context.decodeAudioData(x,C,E)}},setListenerPosition:function(i,u){return i===void 0&&(i=this.game.scale.width/2),u===void 0&&(u=this.game.scale.height/2),this.listenerPosition.set(i,u),this},unlock:function(){var i=this,u=document.body,f=function c(){if(i.context&&u){var d=u.removeEventListener.bind(u);i.context.resume().then(function(){d("touchstart",c),d("touchend",c),d("mousedown",c),d("mouseup",c),d("keydown",c),i.unlocked=!0},function(){d("touchstart",c),d("touchend",c),d("mousedown",c),d("mouseup",c),d("keydown",c)})}};u&&(u.addEventListener("touchstart",f,!1),u.addEventListener("touchend",f,!1),u.addEventListener("mousedown",f,!1),u.addEventListener("mouseup",f,!1),u.addEventListener("keydown",f,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var i=this.context;i&&!this.locked&&(i.state==="suspended"||i.state==="interrupted")&&i.resume()},update:function(i,u){var f=this.context.listener,c=n(this.listenerPosition,"x",null),d=n(this.listenerPosition,"y",null);if(f&&f.positionX!==void 0)c&&c!==this._spatialx&&(this._spatialx=f.positionX.value=c),d&&d!==this._spatialy&&(this._spatialy=f.positionY.value=d);else if(f){c&&c!==this._spatialx&&(this._spatialx=c),d&&d!==this._spatialy&&(this._spatialy=d);var p=n(f,"z",0);f.setPosition(this._spatialx||0,this._spatialy||0,p)}v.prototype.update.call(this,i,u),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var i=this;this.context.close().then(function(){i.context=null})}this.game.events.off(r.VISIBLE,this.onGameVisible,this),v.prototype.destroy.call(this)},setMute:function(i){return this.mute=i,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(i){this.masterMuteNode.gain.setValueAtTime(i?0:1,0),this.emit(s.GLOBAL_MUTE,this,i)}},setVolume:function(i){return this.volume=i,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(i){this.masterVolumeNode.gain.setValueAtTime(i,0),this.emit(s.GLOBAL_VOLUME,this,i)}}});o.exports=l},73162:(o,g,t)=>{var a=t(37105),v=t(83419),h=t(29747),s=t(19186),r=new v({initialize:function(n){this.parent=n,this.list=[],this.position=0,this.addCallback=h,this.removeCallback=h,this._sortKey=""},add:function(e,n){return n?a.Add(this.list,e):a.Add(this.list,e,0,this.addCallback,this)},addAt:function(e,n,l){return l?a.AddAt(this.list,e,n):a.AddAt(this.list,e,n,0,this.addCallback,this)},getAt:function(e){return this.list[e]},getIndex:function(e){return this.list.indexOf(e)},sort:function(e,n){return e?(n===void 0&&(n=function(l,i){return l[e]-i[e]}),s(this.list,n),this):this},getByName:function(e){return a.GetFirst(this.list,"name",e)},getRandom:function(e,n){return a.GetRandom(this.list,e,n)},getFirst:function(e,n,l,i){return a.GetFirst(this.list,e,n,l,i)},getAll:function(e,n,l,i){return a.GetAll(this.list,e,n,l,i)},count:function(e,n){return a.CountAllMatching(this.list,e,n)},swap:function(e,n){a.Swap(this.list,e,n)},moveTo:function(e,n){return a.MoveTo(this.list,e,n)},moveAbove:function(e,n){return a.MoveAbove(this.list,e,n)},moveBelow:function(e,n){return a.MoveBelow(this.list,e,n)},remove:function(e,n){return n?a.Remove(this.list,e):a.Remove(this.list,e,this.removeCallback,this)},removeAt:function(e,n){return n?a.RemoveAt(this.list,e):a.RemoveAt(this.list,e,this.removeCallback,this)},removeBetween:function(e,n,l){return l?a.RemoveBetween(this.list,e,n):a.RemoveBetween(this.list,e,n,this.removeCallback,this)},removeAll:function(e){for(var n=this.list.length;n--;)this.remove(this.list[n],e);return this},bringToTop:function(e){return a.BringToTop(this.list,e)},sendToBack:function(e){return a.SendToBack(this.list,e)},moveUp:function(e){return a.MoveUp(this.list,e),e},moveDown:function(e){return a.MoveDown(this.list,e),e},reverse:function(){return this.list.reverse(),this},shuffle:function(){return a.Shuffle(this.list),this},replace:function(e,n){return a.Replace(this.list,e,n)},exists:function(e){return this.list.indexOf(e)>-1},setAll:function(e,n,l,i){return a.SetAll(this.list,e,n,l,i),this},each:function(e,n){for(var l=[null],i=2;i<arguments.length;i++)l.push(arguments[i]);for(i=0;i<this.list.length;i++)l[0]=this.list[i],e.apply(n,l)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});o.exports=r},90330:(o,g,t)=>{var a=t(83419),v=new a({initialize:function(s){this.entries={},this.size=0,this.setAll(s)},setAll:function(h){if(Array.isArray(h))for(var s=0;s<h.length;s++)this.set(h[s][0],h[s][1]);return this},set:function(h,s){return this.has(h)||this.size++,this.entries[h]=s,this},get:function(h){if(this.has(h))return this.entries[h]},getArray:function(){var h=[],s=this.entries;for(var r in s)h.push(s[r]);return h},has:function(h){return this.entries.hasOwnProperty(h)},delete:function(h){return this.has(h)&&(delete this.entries[h],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(h){delete this.entries[h]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var h=[],s=this.entries;for(var r in s)h.push(s[r]);return h},dump:function(){var h=this.entries;console.group("Map");for(var s in h)console.log(s,h[s]);console.groupEnd()},each:function(h){var s=this.entries;for(var r in s)if(h(r,s[r])===!1)break;return this},contains:function(h){var s=this.entries;for(var r in s)if(s[r]===h)return!0;return!1},merge:function(h,s){s===void 0&&(s=!1);var r=this.entries,e=h.entries;for(var n in e)r.hasOwnProperty(n)&&s?r[n]=e[n]:this.set(n,e[n]);return this}});o.exports=v},25774:(o,g,t)=>{var a=t(83419),v=t(50792),h=t(82348),s=new a({Extends:v,initialize:function(){v.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(r){return this._active.indexOf(r)>-1},isPending:function(r){return this._toProcess>0&&this._pending.indexOf(r)>-1},isDestroying:function(r){return this._destroy.indexOf(r)>-1},add:function(r){return this.checkQueue&&this.isActive(r)&&!this.isDestroying(r)||this.isPending(r)||(this._pending.push(r),this._toProcess++),r},remove:function(r){if(this.isPending(r)){var e=this._pending,n=e.indexOf(r);n!==-1&&e.splice(n,1)}else this.isActive(r)&&(this._destroy.push(r),this._toProcess++);return r},removeAll:function(){for(var r=this._active,e=this._destroy,n=r.length;n--;)e.push(r[n]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var r=this._destroy,e=this._active,n,l;for(n=0;n<r.length;n++){l=r[n];var i=e.indexOf(l);i!==-1&&(e.splice(i,1),this.emit(h.PROCESS_QUEUE_REMOVE,l))}for(r.length=0,r=this._pending,n=0;n<r.length;n++)l=r[n],(!this.checkQueue||this.checkQueue&&e.indexOf(l)===-1)&&(e.push(l),this.emit(h.PROCESS_QUEUE_ADD,l));return r.length=0,this._toProcess=0,e},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});o.exports=s},59542:(o,g,t)=>{var a=t(43886);function v(x){var C=[".left",".top",".right",".bottom"];if(!(this instanceof v))return new v(x,C);this._maxEntries=Math.max(4,x||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}v.prototype={all:function(){return this._all(this.data,[])},search:function(x){var C=this.data,E=[],R=this.toBBox;if(!p(x,C))return E;for(var M=[],w,D,F,I;C;){for(w=0,D=C.children.length;w<D;w++)F=C.children[w],I=C.leaf?R(F):F,p(x,I)&&(C.leaf?E.push(F):d(x,I)?this._all(F,E):M.push(F));C=M.pop()}return E},collides:function(x){var C=this.data,E=this.toBBox;if(!p(x,C))return!1;for(var R=[],M,w,D,F;C;){for(M=0,w=C.children.length;M<w;M++)if(D=C.children[M],F=C.leaf?E(D):D,p(x,F)){if(C.leaf||d(x,F))return!0;R.push(D)}C=R.pop()}return!1},load:function(x){if(!(x&&x.length))return this;if(x.length<this._minEntries){for(var C=0,E=x.length;C<E;C++)this.insert(x[C]);return this}var R=this._build(x.slice(),0,x.length-1,0);if(!this.data.children.length)this.data=R;else if(this.data.height===R.height)this._splitRoot(this.data,R);else{if(this.data.height<R.height){var M=this.data;this.data=R,R=M}this._insert(R,this.data.height-R.height-1,!0)}return this},insert:function(x){return x&&this._insert(x,this.data.height-1),this},clear:function(){return this.data=m([]),this},remove:function(x,C){if(!x)return this;for(var E=this.data,R=this.toBBox(x),M=[],w=[],D,F,I,L;E||M.length;){if(E||(E=M.pop(),F=M[M.length-1],D=w.pop(),L=!0),E.leaf&&(I=h(x,E.children,C),I!==-1))return E.children.splice(I,1),M.push(E),this._condense(M),this;!L&&!E.leaf&&d(E,R)?(M.push(E),w.push(D),D=0,F=E,E=E.children[0]):F?(D++,E=F.children[D],L=!1):E=null}return this},toBBox:function(x){return x},compareMinX:n,compareMinY:l,toJSON:function(){return this.data},fromJSON:function(x){return this.data=x,this},_all:function(x,C){for(var E=[];x;)x.leaf?C.push.apply(C,x.children):E.push.apply(E,x.children),x=E.pop();return C},_build:function(x,C,E,R){var M=E-C+1,w=this._maxEntries,D;if(M<=w)return D=m(x.slice(C,E+1)),s(D,this.toBBox),D;R||(R=Math.ceil(Math.log(M)/Math.log(w)),w=Math.ceil(M/Math.pow(w,R-1))),D=m([]),D.leaf=!1,D.height=R;var F=Math.ceil(M/w),I=F*Math.ceil(Math.sqrt(w)),L,B,G,V;for(y(x,C,E,I,this.compareMinX),L=C;L<=E;L+=I)for(G=Math.min(L+I-1,E),y(x,L,G,F,this.compareMinY),B=L;B<=G;B+=F)V=Math.min(B+F-1,G),D.children.push(this._build(x,B,V,R-1));return s(D,this.toBBox),D},_chooseSubtree:function(x,C,E,R){for(var M,w,D,F,I,L,B,G;R.push(C),!(C.leaf||R.length-1===E);){for(B=G=1/0,M=0,w=C.children.length;M<w;M++)D=C.children[M],I=i(D),L=f(x,D)-I,L<G?(G=L,B=I<B?I:B,F=D):L===G&&I<B&&(B=I,F=D);C=F||C.children[0]}return C},_insert:function(x,C,E){var R=this.toBBox,M=E?x:R(x),w=[],D=this._chooseSubtree(M,this.data,C,w);for(D.children.push(x),e(D,M);C>=0&&w[C].children.length>this._maxEntries;)this._split(w,C),C--;this._adjustParentBBoxes(M,w,C)},_split:function(x,C){var E=x[C],R=E.children.length,M=this._minEntries;this._chooseSplitAxis(E,M,R);var w=this._chooseSplitIndex(E,M,R),D=m(E.children.splice(w,E.children.length-w));D.height=E.height,D.leaf=E.leaf,s(E,this.toBBox),s(D,this.toBBox),C?x[C-1].children.push(D):this._splitRoot(E,D)},_splitRoot:function(x,C){this.data=m([x,C]),this.data.height=x.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},_chooseSplitIndex:function(x,C,E){var R,M,w,D,F,I,L,B;for(I=L=1/0,R=C;R<=E-C;R++)M=r(x,0,R,this.toBBox),w=r(x,R,E,this.toBBox),D=c(M,w),F=i(M)+i(w),D<I?(I=D,B=R,L=F<L?F:L):D===I&&F<L&&(L=F,B=R);return B},_chooseSplitAxis:function(x,C,E){var R=x.leaf?this.compareMinX:n,M=x.leaf?this.compareMinY:l,w=this._allDistMargin(x,C,E,R),D=this._allDistMargin(x,C,E,M);w<D&&x.children.sort(R)},_allDistMargin:function(x,C,E,R){x.children.sort(R);var M=this.toBBox,w=r(x,0,C,M),D=r(x,E-C,E,M),F=u(w)+u(D),I,L;for(I=C;I<E-C;I++)L=x.children[I],e(w,x.leaf?M(L):L),F+=u(w);for(I=E-C-1;I>=C;I--)L=x.children[I],e(D,x.leaf?M(L):L),F+=u(D);return F},_adjustParentBBoxes:function(x,C,E){for(var R=E;R>=0;R--)e(C[R],x)},_condense:function(x){for(var C=x.length-1,E;C>=0;C--)x[C].children.length===0?C>0?(E=x[C-1].children,E.splice(E.indexOf(x[C]),1)):this.clear():s(x[C],this.toBBox)},compareMinX:function(x,C){return x.left-C.left},compareMinY:function(x,C){return x.top-C.top},toBBox:function(x){return{minX:x.left,minY:x.top,maxX:x.right,maxY:x.bottom}}};function h(x,C,E){if(!E)return C.indexOf(x);for(var R=0;R<C.length;R++)if(E(x,C[R]))return R;return-1}function s(x,C){r(x,0,x.children.length,C,x)}function r(x,C,E,R,M){M||(M=m(null)),M.minX=1/0,M.minY=1/0,M.maxX=-1/0,M.maxY=-1/0;for(var w=C,D;w<E;w++)D=x.children[w],e(M,x.leaf?R(D):D);return M}function e(x,C){return x.minX=Math.min(x.minX,C.minX),x.minY=Math.min(x.minY,C.minY),x.maxX=Math.max(x.maxX,C.maxX),x.maxY=Math.max(x.maxY,C.maxY),x}function n(x,C){return x.minX-C.minX}function l(x,C){return x.minY-C.minY}function i(x){return(x.maxX-x.minX)*(x.maxY-x.minY)}function u(x){return x.maxX-x.minX+(x.maxY-x.minY)}function f(x,C){return(Math.max(C.maxX,x.maxX)-Math.min(C.minX,x.minX))*(Math.max(C.maxY,x.maxY)-Math.min(C.minY,x.minY))}function c(x,C){var E=Math.max(x.minX,C.minX),R=Math.max(x.minY,C.minY),M=Math.min(x.maxX,C.maxX),w=Math.min(x.maxY,C.maxY);return Math.max(0,M-E)*Math.max(0,w-R)}function d(x,C){return x.minX<=C.minX&&x.minY<=C.minY&&C.maxX<=x.maxX&&C.maxY<=x.maxY}function p(x,C){return C.minX<=x.maxX&&C.minY<=x.maxY&&C.maxX>=x.minX&&C.maxY>=x.minY}function m(x){return{children:x,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function y(x,C,E,R,M){for(var w=[C,E],D;w.length;)E=w.pop(),C=w.pop(),!(E-C<=R)&&(D=C+Math.ceil((E-C)/R/2)*R,a(x,D,C,E,M),w.push(C,D,D,E))}o.exports=v},35072:(o,g,t)=>{var a=t(83419),v=new a({initialize:function(s){if(this.entries=[],Array.isArray(s))for(var r=0;r<s.length;r++)this.set(s[r])},set:function(h){return this.entries.indexOf(h)===-1&&this.entries.push(h),this},get:function(h,s){for(var r=0;r<this.entries.length;r++){var e=this.entries[r];if(e[h]===s)return e}},getArray:function(){return this.entries.slice(0)},delete:function(h){var s=this.entries.indexOf(h);return s>-1&&this.entries.splice(s,1),this},dump:function(){console.group("Set");for(var h=0;h<this.entries.length;h++){var s=this.entries[h];console.log(s)}console.groupEnd()},each:function(h,s){var r,e=this.entries.slice(),n=e.length;if(s)for(r=0;r<n&&h.call(s,e[r],r)!==!1;r++);else for(r=0;r<n&&h(e[r],r)!==!1;r++);return this},iterate:function(h,s){var r,e=this.entries.length;if(s)for(r=0;r<e&&h.call(s,this.entries[r],r)!==!1;r++);else for(r=0;r<e&&h(this.entries[r],r)!==!1;r++);return this},iterateLocal:function(h){var s,r=[];for(s=1;s<arguments.length;s++)r.push(arguments[s]);var e=this.entries.length;for(s=0;s<e;s++){var n=this.entries[s];n[h].apply(n,r)}return this},clear:function(){return this.entries.length=0,this},contains:function(h){return this.entries.indexOf(h)>-1},union:function(h){var s=new v;return h.entries.forEach(function(r){s.set(r)}),this.entries.forEach(function(r){s.set(r)}),s},intersect:function(h){var s=new v;return this.entries.forEach(function(r){h.contains(r)&&s.set(r)}),s},difference:function(h){var s=new v;return this.entries.forEach(function(r){h.contains(r)||s.set(r)}),s},size:{get:function(){return this.entries.length},set:function(h){return h<this.entries.length?this.entries.length=h:this.entries.length}}});o.exports=v},86555:(o,g,t)=>{var a=t(45319),v=t(83419),h=t(56583),s=t(26099),r=new v({initialize:function(n,l,i,u){n===void 0&&(n=0),l===void 0&&(l=n),i===void 0&&(i=0),u===void 0&&(u=null),this._width=n,this._height=l,this._parent=u,this.aspectMode=i,this.aspectRatio=l===0?1:n/l,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new s},setAspectMode:function(e){return e===void 0&&(e=0),this.aspectMode=e,this.setSize(this._width,this._height)},setSnap:function(e,n){return e===void 0&&(e=0),n===void 0&&(n=e),this.snapTo.set(e,n),this.setSize(this._width,this._height)},setParent:function(e){return this._parent=e,this.setSize(this._width,this._height)},setMin:function(e,n){return e===void 0&&(e=0),n===void 0&&(n=e),this.minWidth=a(e,0,this.maxWidth),this.minHeight=a(n,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(e,n){return e===void 0&&(e=Number.MAX_VALUE),n===void 0&&(n=e),this.maxWidth=a(e,this.minWidth,Number.MAX_VALUE),this.maxHeight=a(n,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(e,n){switch(e===void 0&&(e=0),n===void 0&&(n=e),this.aspectMode){case r.NONE:this._width=this.getNewWidth(h(e,this.snapTo.x)),this._height=this.getNewHeight(h(n,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case r.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(h(e,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case r.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(h(n,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case r.FIT:this.constrain(e,n,!0);break;case r.ENVELOP:this.constrain(e,n,!1);break}return this},setAspectRatio:function(e){return this.aspectRatio=e,this.setSize(this._width,this._height)},resize:function(e,n){return this._width=this.getNewWidth(h(e,this.snapTo.x)),this._height=this.getNewHeight(h(n,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(e,n){return n===void 0&&(n=!0),e=a(e,this.minWidth,this.maxWidth),n&&this._parent&&e>this._parent.width&&(e=Math.max(this.minWidth,this._parent.width)),e},getNewHeight:function(e,n){return n===void 0&&(n=!0),e=a(e,this.minHeight,this.maxHeight),n&&this._parent&&e>this._parent.height&&(e=Math.max(this.minHeight,this._parent.height)),e},constrain:function(e,n,l){e===void 0&&(e=0),n===void 0&&(n=e),l===void 0&&(l=!0),e=this.getNewWidth(e),n=this.getNewHeight(n);var i=this.snapTo,u=n===0?1:e/n;return l&&this.aspectRatio>u||!l&&this.aspectRatio<u?(e=h(e,i.x),n=e/this.aspectRatio,i.y>0&&(n=h(n,i.y),e=n*this.aspectRatio)):(l&&this.aspectRatio<u||!l&&this.aspectRatio>u)&&(n=h(n,i.y),e=n*this.aspectRatio,i.x>0&&(e=h(e,i.x),n=e*(1/this.aspectRatio))),this._width=e,this._height=n,this},fitTo:function(e,n){return this.constrain(e,n,!0)},envelop:function(e,n){return this.constrain(e,n,!1)},setWidth:function(e){return this.setSize(e,this._height)},setHeight:function(e){return this.setSize(this._width,e)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(e){e&&e.style&&(e.style.width=this._width+"px",e.style.height=this._height+"px")},copy:function(e){return e.setAspectMode(this.aspectMode),e.aspectRatio=this.aspectRatio,e.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(e){this.setSize(e,this._height)}},height:{get:function(){return this._height},set:function(e){this.setSize(this._width,e)}}});r.NONE=0,r.WIDTH_CONTROLS_HEIGHT=1,r.HEIGHT_CONTROLS_WIDTH=2,r.FIT=3,r.ENVELOP=4,o.exports=r},15238:o=>{o.exports="add"},56187:o=>{o.exports="remove"},82348:(o,g,t)=>{o.exports={PROCESS_QUEUE_ADD:t(15238),PROCESS_QUEUE_REMOVE:t(56187)}},41392:(o,g,t)=>{o.exports={Events:t(82348),List:t(73162),Map:t(90330),ProcessQueue:t(25774),RTree:t(59542),Set:t(35072),Size:t(86555)}},57382:(o,g,t)=>{var a=t(83419),v=t(45319),h=t(40987),s=t(8054),r=t(50030),e=t(79237),n=new a({Extends:e,initialize:function(i,u,f,c,d){e.call(this,i,u,f,c,d),this.add("__BASE",0,0,0,c,d),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=c,this.height=d,this.imageData=this.context.getImageData(0,0,c,d),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===s.WEBGL&&this.refresh(),this},draw:function(l,i,u,f){return f===void 0&&(f=!0),this.context.drawImage(u,l,i),f&&this.update(),this},drawFrame:function(l,i,u,f,c){u===void 0&&(u=0),f===void 0&&(f=0),c===void 0&&(c=!0);var d=this.manager.getFrame(l,i);if(d){var p=d.canvasData,m=d.cutWidth,y=d.cutHeight,x=d.source.resolution;this.context.drawImage(d.source.image,p.x,p.y,m,y,u,f,m/x,y/x),c&&this.update()}return this},setPixel:function(l,i,u,f,c,d){d===void 0&&(d=255),l=Math.abs(Math.floor(l)),i=Math.abs(Math.floor(i));var p=this.getIndex(l,i);if(p>-1){var m=this.context.getImageData(l,i,1,1);m.data[0]=u,m.data[1]=f,m.data[2]=c,m.data[3]=d,this.context.putImageData(m,l,i)}return this},putData:function(l,i,u,f,c,d,p){return f===void 0&&(f=0),c===void 0&&(c=0),d===void 0&&(d=l.width),p===void 0&&(p=l.height),this.context.putImageData(l,i,u,f,c,d,p),this},getData:function(l,i,u,f){l=v(Math.floor(l),0,this.width-1),i=v(Math.floor(i),0,this.height-1),u=v(u,1,this.width-l),f=v(f,1,this.height-i);var c=this.context.getImageData(l,i,u,f);return c},getPixel:function(l,i,u){u||(u=new h);var f=this.getIndex(l,i);if(f>-1){var c=this.data,d=c[f+0],p=c[f+1],m=c[f+2],y=c[f+3];u.setTo(d,p,m,y)}return u},getPixels:function(l,i,u,f){l===void 0&&(l=0),i===void 0&&(i=0),u===void 0&&(u=this.width),f===void 0&&(f=u),l=Math.abs(Math.round(l)),i=Math.abs(Math.round(i));for(var c=v(l,0,this.width),d=v(l+u,0,this.width),p=v(i,0,this.height),m=v(i+f,0,this.height),y=new h,x=[],C=p;C<m;C++){for(var E=[],R=c;R<d;R++)y=this.getPixel(R,C,y),E.push({x:R,y:C,color:y.color,alpha:y.alphaGL});x.push(E)}return x},getIndex:function(l,i){return l=Math.abs(Math.round(l)),i=Math.abs(Math.round(i)),l<this.width&&i<this.height?(l+i*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(l,i,u,f,c){return l===void 0&&(l=0),i===void 0&&(i=0),u===void 0&&(u=this.width),f===void 0&&(f=this.height),c===void 0&&(c=!0),this.context.clearRect(l,i,u,f),c&&this.update(),this},setSize:function(l,i){return i===void 0&&(i=l),(l!==this.width||i!==this.height)&&(this.canvas.width=l,this.canvas.height=i,this._source.width=l,this._source.height=i,this._source.isPowerOf2=r(l,i),this.frames.__BASE.setSize(l,i,0,0),this.width=l,this.height=i,this.refresh()),this},destroy:function(){e.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});o.exports=n},81320:(o,g,t)=>{var a=t(10312),v=t(38058),h=t(27919),s=t(83419),r=t(8054),e=t(4327),n=t(95540),l=t(36060),i=t(32302),u=t(79237),f=t(70554),c=new s({Extends:u,initialize:function(p,m,y,x,C){y===void 0&&(y=256),x===void 0&&(x=256),C===void 0&&(C=!0),this.type="DynamicTexture";var E=p.game.renderer,R=E&&E.type===r.CANVAS,M=R?h.create2D(this,y,x):[this];u.call(this,p,m,M,y,x),this.add("__BASE",0,0,0,y,x),this.renderer=E,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=R?M:null,this.context=R?M.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new v(0,0,y,x).setScene(p.game.scene.systemScene,!1),this.renderTarget=R?null:new i(E,y,x,1,0,!1,!1,!0,!1),this.pipeline=R?null:E.pipelines.get(l.SINGLE_PIPELINE),this.setSize(y,x,C)},setSize:function(d,p,m){p===void 0&&(p=d),m===void 0&&(m=!0),m&&(d=Math.floor(d),p=Math.floor(p),d%2!==0&&d++,p%2!==0&&p++);var y=this.get(),x=y.source;if(d!==this.width||p!==this.height){this.canvas&&(this.canvas.width=d,this.canvas.height=p);var C=this.renderTarget;C&&(C.willResize(d,p)&&C.resize(d,p),C.texture!==x.glTexture&&this.renderer.deleteTexture(x.glTexture),this.setFromRenderTarget()),this.camera.setSize(d,p),x.width=d,x.height=p,y.setSize(d,p),this.width=d,this.height=p}else{var E=this.getSourceImage();y.cutX+d>E.width&&(d=E.width-y.cutX),y.cutY+p>E.height&&(p=E.height-y.cutY),y.setSize(d,p,y.cutX,y.cutY)}return this},setFromRenderTarget:function(){var d=this.get(),p=d.source,m=this.renderTarget;return p.isRenderTexture=!0,p.isGLTexture=!0,p.glTexture=m.texture,this},setIsSpriteTexture:function(d){return this.isSpriteTexture=d,this},fill:function(d,p,m,y,x,C){var E=this.camera,R=this.renderer;p===void 0&&(p=1),m===void 0&&(m=0),y===void 0&&(y=0),x===void 0&&(x=this.width),C===void 0&&(C=this.height);var M=d>>16&255,w=d>>8&255,D=d&255,F=this.renderTarget;if(E.preRender(),F){F.bind(!0);var I=this.pipeline.manager.set(this.pipeline),L=R.width/F.width,B=R.height/F.height,G=F.height-(y+C);I.drawFillRect(m*L,G*B,x*L,C*B,f.getTintFromFloats(D/255,w/255,M/255,1),p),F.unbind(!0)}else{var V=this.context;R.setContext(V),V.globalCompositeOperation="source-over",V.fillStyle="rgba("+M+","+w+","+D+","+p+")",V.fillRect(m,y,x,C),R.setContext()}return this.dirty=!0,this},clear:function(d,p,m,y){if(this.dirty){var x=this.context,C=this.renderTarget;C?C.clear(d,p,m,y):x&&(d!==void 0&&p!==void 0&&m!==void 0&&y!==void 0?x.clearRect(d,p,m,y):(x.save(),x.setTransform(1,0,0,1,0,0),x.clearRect(0,0,this.width,this.height),x.restore())),this.dirty=!1}return this},stamp:function(d,p,m,y,x){m===void 0&&(m=0),y===void 0&&(y=0);var C=n(x,"alpha",1),E=n(x,"tint",16777215),R=n(x,"angle",0),M=n(x,"rotation",0),w=n(x,"scale",1),D=n(x,"scaleX",w),F=n(x,"scaleY",w),I=n(x,"originX",.5),L=n(x,"originY",.5),B=n(x,"blendMode",0),G=n(x,"erase",!1),V=n(x,"skipBatch",!1),X=this.manager.resetStamp(C,E);return X.setAngle(0),R!==0?X.setAngle(R):M!==0&&X.setRotation(M),X.setScale(D,F),X.setTexture(d,p),X.setOrigin(I,L),X.setBlendMode(B),G&&(this._eraseMode=!0),V?this.batchGameObject(X,m,y):this.draw(X,m,y),G&&(this._eraseMode=!1),this},erase:function(d,p,m){return this._eraseMode=!0,this.draw(d,p,m),this._eraseMode=!1,this},draw:function(d,p,m,y,x){return this.beginDraw(),this.batchDraw(d,p,m,y,x),this.endDraw(),this},drawFrame:function(d,p,m,y,x,C){return this.beginDraw(),this.batchDrawFrame(d,p,m,y,x,C),this.endDraw(),this},repeat:function(d,p,m,y,x,C,E,R,M){if(m===void 0&&(m=0),y===void 0&&(y=0),x===void 0&&(x=this.width),C===void 0&&(C=this.height),E===void 0&&(E=1),R===void 0&&(R=16777215),M===void 0&&(M=!1),d instanceof e?p=d:p=this.manager.getFrame(d,p),!p)return this;var w=this.manager.resetStamp(E,R);w.setFrame(p),w.setOrigin(0);var D=p.width,F=p.height;x=Math.floor(x),C=Math.floor(C);var I=Math.ceil(x/D),L=Math.ceil(C/F),B=I*D-x,G=L*F-C;B>0&&(B=D-B),G>0&&(G=F-G),m<0&&(I+=Math.ceil(Math.abs(m)/D)),y<0&&(L+=Math.ceil(Math.abs(y)/F));var V=m,X=y,b=!1,U=this.manager.stampCrop.setTo(0,0,D,F);M||this.beginDraw();for(var O=0;O<L;O++){if(X+F<0){X+=F;continue}for(var z=0;z<I;z++){if(b=!1,V+D<0){V+=D;continue}else V<0&&(b=!0,U.width=D+V,U.x=D-U.width);X<0&&(b=!0,U.height=F+X,U.y=F-U.height),B>0&&z===I-1&&(b=!0,U.width=B),G>0&&O===L-1&&(b=!0,U.height=G),b&&w.setCrop(U),this.batchGameObject(w,V,X),w.isCropped=!1,U.setTo(0,0,D,F),V+=D}V=m,X+=F}return M||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var d=this.camera,p=this.renderer,m=this.renderTarget;d.preRender(),m?p.beginCapture(m.width,m.height):p.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(d,p,m,y,x){return Array.isArray(d)||(d=[d]),this.batchList(d,p,m,y,x),this},batchDrawFrame:function(d,p,m,y,x,C){m===void 0&&(m=0),y===void 0&&(y=0),x===void 0&&(x=1),C===void 0&&(C=16777215);var E=this.manager.getFrame(d,p);return E&&(this.renderTarget?this.pipeline.batchTextureFrame(E,m,y,C,x,this.camera.matrix,null):this.batchTextureFrame(E,m,y,x,C)),this},endDraw:function(d){if(d===void 0&&(d=this._eraseMode),this.isDrawing){var p=this.renderer,m=this.renderTarget;if(m){var y=p.endCapture(),x=p.pipelines.setUtility();x.blitFrame(y,m,1,!1,!1,d,this.isSpriteTexture),p.resetScissor(),p.resetViewport()}else p.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(d,p,m,y,x){var C=d.length;if(C!==0)for(var E=0;E<C;E++){var R=d[E];!R||R===this||(R.renderWebGL||R.renderCanvas?this.batchGameObject(R,p,m):R.isParent||R.list?this.batchGroup(R.getChildren(),p,m):typeof R=="string"?this.batchTextureFrameKey(R,null,p,m,y,x):R instanceof e?this.batchTextureFrame(R,p,m,y,x):Array.isArray(R)&&this.batchList(R,p,m,y,x))}},batchGroup:function(d,p,m){p===void 0&&(p=0),m===void 0&&(m=0);for(var y=0;y<d.length;y++){var x=d[y];x.willRender(this.camera)&&this.batchGameObject(x,x.x+p,x.y+m)}},batchGameObject:function(d,p,m){p===void 0&&(p=d.x),m===void 0&&(m=d.y);var y=d.x,x=d.y,C=this.camera,E=this.renderer,R=this._eraseMode,M=d.mask;if(d.setPosition(p,m),this.canvas){if(R){var w=d.blendMode;d.blendMode=a.ERASE}M&&M.preRenderCanvas(E,d,C),d.renderCanvas(E,d,C,null),M&&M.postRenderCanvas(E,d,C),R&&(d.blendMode=w)}else E&&(M&&M.preRenderWebGL(E,d,C),R||E.setBlendMode(d.blendMode),d.renderWebGL(E,d,C),M&&M.postRenderWebGL(E,C,this.renderTarget));d.setPosition(y,x)},batchTextureFrameKey:function(d,p,m,y,x,C){var E=this.manager.getFrame(d,p);E&&this.batchTextureFrame(E,m,y,x,C)},batchTextureFrame:function(d,p,m,y,x){p===void 0&&(p=0),m===void 0&&(m=0),y===void 0&&(y=1),x===void 0&&(x=16777215);var C=this.camera.matrix,E=this.renderTarget;if(E)this.pipeline.batchTextureFrame(d,p,m,x,y,C,null);else{var R=this.context,M=d.canvasData,w=d.source.image;R.save(),R.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",R.globalAlpha=y,C.setToContext(R),M.width>0&&M.height>0&&R.drawImage(w,M.x,M.y,M.width,M.height,p,m,M.width,M.height),R.restore()}},snapshotArea:function(d,p,m,y,x,C,E){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,x,!1,d,p,m,y,C,E):this.renderer.snapshotCanvas(this.canvas,x,!1,d,p,m,y,C,E),this},snapshot:function(d,p,m){return this.snapshotArea(0,0,this.width,this.height,d,p,m)},snapshotPixel:function(d,p,m){return this.snapshotArea(d,p,1,1,m,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(d,p,m,y){var x=this.manager.resetStamp();x.setTexture(this),x.setOrigin(0),x.renderWebGL(d,x,m,y)},renderCanvas:function(){},destroy:function(){var d=this.manager.stamp;d&&d.texture===this&&this.manager.resetStamp(),u.prototype.destroy.call(this),h.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});o.exports=c},4327:(o,g,t)=>{var a=t(83419),v=t(45319),h=t(79291),s=new a({initialize:function(e,n,l,i,u,f,c){this.texture=e,this.name=n,this.source=e.source[l],this.sourceIndex=l,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(f,c,i,u)},setCutPosition:function(r,e){return r===void 0&&(r=0),e===void 0&&(e=0),this.cutX=r,this.cutY=e,this.updateUVs()},setCutSize:function(r,e){return this.cutWidth=r,this.cutHeight=e,this.updateUVs()},setSize:function(r,e,n,l){n===void 0&&(n=0),l===void 0&&(l=0),this.setCutPosition(n,l),this.setCutSize(r,e),this.width=r,this.height=e,this.halfWidth=Math.floor(r*.5),this.halfHeight=Math.floor(e*.5),this.centerX=Math.floor(r/2),this.centerY=Math.floor(e/2);var i=this.data,u=i.cut;u.x=n,u.y=l,u.w=r,u.h=e,u.r=n+r,u.b=l+e,i.sourceSize.w=r,i.sourceSize.h=e,i.spriteSourceSize.w=r,i.spriteSourceSize.h=e,i.radius=.5*Math.sqrt(r*r+e*e);var f=i.drawImage;return f.x=n,f.y=l,f.width=r,f.height=e,this.updateUVs()},setTrim:function(r,e,n,l,i,u){var f=this.data,c=f.spriteSourceSize;return f.trim=!0,f.sourceSize.w=r,f.sourceSize.h=e,c.x=n,c.y=l,c.w=i,c.h=u,c.r=n+i,c.b=l+u,this.x=n,this.y=l,this.width=i,this.height=u,this.halfWidth=i*.5,this.halfHeight=u*.5,this.centerX=Math.floor(i/2),this.centerY=Math.floor(u/2),this.updateUVs()},setScale9:function(r,e,n,l){var i=this.data;return i.scale9=!0,i.is3Slice=e===0&&l===this.height,i.scale9Borders.x=r,i.scale9Borders.y=e,i.scale9Borders.w=n,i.scale9Borders.h=l,this},setCropUVs:function(r,e,n,l,i,u,f){var c=this.cutX,d=this.cutY,p=this.cutWidth,m=this.cutHeight,y=this.realWidth,x=this.realHeight;e=v(e,0,y),n=v(n,0,x),l=v(l,0,y-e),i=v(i,0,x-n);var C=c+e,E=d+n,R=l,M=i,w=this.data;if(w.trim){var D=w.spriteSourceSize;l=v(l,0,D.x+p-e),i=v(i,0,D.y+m-n);var F=e+l,I=n+i,L=!(D.r<e||D.b<n||D.x>F||D.y>I);if(L){var B=Math.max(D.x,e),G=Math.max(D.y,n),V=Math.min(D.r,F)-B,X=Math.min(D.b,I)-G;R=V,M=X,u?C=c+(p-(B-D.x)-V):C=c+(B-D.x),f?E=d+(m-(G-D.y)-X):E=d+(G-D.y),e=B,n=G,l=V,i=X}else C=0,E=0,R=0,M=0}else u&&(C=c+(p-e-l)),f&&(E=d+(m-n-i));var b=this.source.width,U=this.source.height;return r.u0=Math.max(0,C/b),r.v0=Math.max(0,E/U),r.u1=Math.min(1,(C+R)/b),r.v1=Math.min(1,(E+M)/U),r.x=e,r.y=n,r.cx=C,r.cy=E,r.cw=R,r.ch=M,r.width=l,r.height=i,r.flipX=u,r.flipY=f,r},updateCropUVs:function(r,e,n){return this.setCropUVs(r,r.x,r.y,r.width,r.height,e,n)},setUVs:function(r,e,n,l,i,u){var f=this.data.drawImage;return f.width=r,f.height=e,this.u0=n,this.v0=l,this.u1=i,this.v1=u,this},updateUVs:function(){var r=this.cutX,e=this.cutY,n=this.cutWidth,l=this.cutHeight,i=this.data.drawImage;i.width=n,i.height=l;var u=this.source.width,f=this.source.height;return this.u0=r/u,this.v0=e/f,this.u1=(r+n)/u,this.v1=(e+l)/f,this},updateUVsInverted:function(){var r=this.source.width,e=this.source.height;return this.u0=(this.cutX+this.cutHeight)/r,this.v0=this.cutY/e,this.u1=this.cutX/r,this.v1=(this.cutY+this.cutWidth)/e,this},clone:function(){var r=new s(this.texture,this.name,this.sourceIndex);return r.cutX=this.cutX,r.cutY=this.cutY,r.cutWidth=this.cutWidth,r.cutHeight=this.cutHeight,r.x=this.x,r.y=this.y,r.width=this.width,r.height=this.height,r.halfWidth=this.halfWidth,r.halfHeight=this.halfHeight,r.centerX=this.centerX,r.centerY=this.centerY,r.rotated=this.rotated,r.data=h(!0,r.data,this.data),r.updateUVs(),r},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});o.exports=s},79237:(o,g,t)=>{var a=t(83419),v=t(4327),h=t(11876),s='Texture "%s" has no frame "%s"',r=new a({initialize:function(n,l,i,u,f){Array.isArray(i)||(i=[i]),this.manager=n,this.key=l,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var c=0;c<i.length;c++)this.source.push(new h(this,i[c],u,f))},add:function(e,n,l,i,u,f){if(this.has(e))return null;var c=new v(this,e,n,l,i,u,f);return this.frames[e]=c,this.firstFrame==="__BASE"&&(this.firstFrame=e),this.frameTotal++,c},remove:function(e){if(this.has(e)){var n=this.get(e);return n.destroy(),delete this.frames[e],!0}return!1},has:function(e){return this.frames.hasOwnProperty(e)},get:function(e){e||(e=this.firstFrame);var n=this.frames[e];return n||(console.warn(s,this.key,e),n=this.frames[this.firstFrame]),n},getTextureSourceIndex:function(e){for(var n=0;n<this.source.length;n++)if(this.source[n]===e)return n;return-1},getFramesFromTextureSource:function(e,n){n===void 0&&(n=!1);var l=[];for(var i in this.frames)if(!(i==="__BASE"&&!n)){var u=this.frames[i];u.sourceIndex===e&&l.push(u)}return l},getFrameBounds:function(e){e===void 0&&(e=0);for(var n=this.getFramesFromTextureSource(e,!0),l=n[0],i=l.cutX,u=l.cutY,f=l.cutX+l.cutWidth,c=l.cutY+l.cutHeight,d=1;d<n.length;d++){var p=n[d];p.cutX<i&&(i=p.cutX),p.cutY<u&&(u=p.cutY),p.cutX+p.cutWidth>f&&(f=p.cutX+p.cutWidth),p.cutY+p.cutHeight>c&&(c=p.cutY+p.cutHeight)}return{x:i,y:u,width:f-i,height:c-u}},getFrameNames:function(e){e===void 0&&(e=!1);var n=Object.keys(this.frames);if(!e){var l=n.indexOf("__BASE");l!==-1&&n.splice(l,1)}return n},getSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var n=this.frames[e];return n?n.source.image:(console.warn(s,this.key,e),this.frames.__BASE.source.image)},getDataSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var n=this.frames[e],l;return n?l=n.sourceIndex:(console.warn(s,this.key,e),l=this.frames.__BASE.sourceIndex),this.dataSource[l].image},setDataSource:function(e){Array.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++){var l=this.source[n];this.dataSource.push(new h(this,e[n],l.width,l.height))}},setFilter:function(e){var n;for(n=0;n<this.source.length;n++)this.source[n].setFilter(e);for(n=0;n<this.dataSource.length;n++)this.dataSource[n].setFilter(e)},destroy:function(){var e,n=this.source,l=this.dataSource;for(e=0;e<n.length;e++)n[e]&&n[e].destroy();for(e=0;e<l.length;e++)l[e]&&l[e].destroy();for(var i in this.frames){var u=this.frames[i];u&&u.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});o.exports=r},17130:(o,g,t)=>{var a=t(27919),v=t(57382),h=t(83419),s=t(40987),r=t(8054),e=t(81320),n=t(50792),l=t(69442),i=t(4327),u=t(8443),f=t(99584),c=t(35154),d=t(88571),p=t(41212),m=t(61309),y=t(87841),x=t(79237),C=new h({Extends:n,initialize:function(R){n.call(this),this.game=R,this.name="TextureManager",this.list={},this._tempCanvas=a.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new y,this.silentWarnings=!1,R.events.once(u.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(l.LOAD,this.updatePending,this),this.on(l.ERROR,this.updatePending,this);var E=this.game.config;E.defaultImage!==null&&this.addBase64("__DEFAULT",E.defaultImage),E.missingImage!==null&&this.addBase64("__MISSING",E.missingImage),E.whiteImage!==null&&this.addBase64("__WHITE",E.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(u.DESTROY,this.destroy,this),this.game.events.once(u.SYSTEM_READY,function(R){this.stamp=new d(R).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(l.LOAD),this.off(l.ERROR),this.emit(l.READY))},checkKey:function(E){return!E||typeof E!="string"||this.exists(E)?(this.silentWarnings||console.error("Texture key already in use: "+E),!1):!0},remove:function(E){if(typeof E=="string")if(this.exists(E))E=this.get(E);else return this.silentWarnings||console.warn("No texture found matching key: "+E),this;var R=E.key;return this.list.hasOwnProperty(R)&&(E.destroy(),this.emit(l.REMOVE,R),this.emit(l.REMOVE_KEY+R)),this},removeKey:function(E){return this.list.hasOwnProperty(E)&&delete this.list[E],this},addBase64:function(E,R){if(this.checkKey(E)){var M=this,w=new Image;w.onerror=function(){M.emit(l.ERROR,E)},w.onload=function(){var D=M.create(E,w);D&&(m.Image(D,0),M.emit(l.ADD,E,D),M.emit(l.ADD_KEY+E,D),M.emit(l.LOAD,E,D))},w.src=R}return this},getBase64:function(E,R,M,w){M===void 0&&(M="image/png"),w===void 0&&(w=.92);var D="",F=this.getFrame(E,R);if(F&&(F.source.isRenderTexture||F.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(F){var I=F.canvasData,L=a.create2D(this,I.width,I.height),B=L.getContext("2d",{willReadFrequently:!0});I.width>0&&I.height>0&&B.drawImage(F.source.image,I.x,I.y,I.width,I.height,0,0,I.width,I.height),D=L.toDataURL(M,w),a.remove(L)}return D},addImage:function(E,R,M){var w=null;return this.checkKey(E)&&(w=this.create(E,R),m.Image(w,0),M&&w.setDataSource(M),this.emit(l.ADD,E,w),this.emit(l.ADD_KEY+E,w)),w},addGLTexture:function(E,R){var M=null;if(this.checkKey(E)){var w=R.width,D=R.height;M=this.create(E,R,w,D),M.add("__BASE",0,0,0,w,D),this.emit(l.ADD,E,M),this.emit(l.ADD_KEY+E,M)}return M},addCompressedTexture:function(E,R,M){var w=null;if(this.checkKey(E)){if(w=this.create(E,R),w.add("__BASE",0,0,0,R.width,R.height),M){var D=function(I,L,B){Array.isArray(B.textures)||Array.isArray(B.frames)?m.JSONArray(I,L,B):m.JSONHash(I,L,B)};if(Array.isArray(M))for(var F=0;F<M.length;F++)D(w,F,M[F]);else D(w,0,M)}this.emit(l.ADD,E,w),this.emit(l.ADD_KEY+E,w)}return w},addRenderTexture:function(E,R){var M=null;return this.checkKey(E)&&(M=this.create(E,R),M.add("__BASE",0,0,0,R.width,R.height),this.emit(l.ADD,E,M),this.emit(l.ADD_KEY+E,M)),M},generate:function(E,R){if(this.checkKey(E)){var M=a.create(this,1,1);return R.canvas=M,f(R),this.addCanvas(E,M)}else return null},createCanvas:function(E,R,M){if(R===void 0&&(R=256),M===void 0&&(M=256),this.checkKey(E)){var w=a.create(this,R,M,r.CANVAS,!0);return this.addCanvas(E,w)}return null},addCanvas:function(E,R,M){M===void 0&&(M=!1);var w=null;return M?w=new v(this,E,R,R.width,R.height):this.checkKey(E)&&(w=new v(this,E,R,R.width,R.height),this.list[E]=w,this.emit(l.ADD,E,w),this.emit(l.ADD_KEY+E,w)),w},addDynamicTexture:function(E,R,M){var w=null;return typeof E=="string"&&!this.exists(E)?w=new e(this,E,R,M):(w=E,E=w.key),this.checkKey(E)?(this.list[E]=w,this.emit(l.ADD,E,w),this.emit(l.ADD_KEY+E,w)):w=null,w},addAtlas:function(E,R,M,w){return Array.isArray(M.textures)||Array.isArray(M.frames)?this.addAtlasJSONArray(E,R,M,w):this.addAtlasJSONHash(E,R,M,w)},addAtlasJSONArray:function(E,R,M,w){var D=null;if(R instanceof x?(E=R.key,D=R):this.checkKey(E)&&(D=this.create(E,R)),D){if(Array.isArray(M))for(var F=M.length===1,I=0;I<D.source.length;I++){var L=F?M[0]:M[I];m.JSONArray(D,I,L)}else m.JSONArray(D,0,M);w&&D.setDataSource(w),this.emit(l.ADD,E,D),this.emit(l.ADD_KEY+E,D)}return D},addAtlasJSONHash:function(E,R,M,w){var D=null;if(R instanceof x?(E=R.key,D=R):this.checkKey(E)&&(D=this.create(E,R)),D){if(Array.isArray(M))for(var F=0;F<M.length;F++)m.JSONHash(D,F,M[F]);else m.JSONHash(D,0,M);w&&D.setDataSource(w),this.emit(l.ADD,E,D),this.emit(l.ADD_KEY+E,D)}return D},addAtlasXML:function(E,R,M,w){var D=null;return R instanceof x?(E=R.key,D=R):this.checkKey(E)&&(D=this.create(E,R)),D&&(m.AtlasXML(D,0,M),w&&D.setDataSource(w),this.emit(l.ADD,E,D),this.emit(l.ADD_KEY+E,D)),D},addUnityAtlas:function(E,R,M,w){var D=null;return R instanceof x?(E=R.key,D=R):this.checkKey(E)&&(D=this.create(E,R)),D&&(m.UnityYAML(D,0,M),w&&D.setDataSource(w),this.emit(l.ADD,E,D),this.emit(l.ADD_KEY+E,D)),D},addSpriteSheet:function(E,R,M,w){var D=null;if(R instanceof x?(E=R.key,D=R):this.checkKey(E)&&(D=this.create(E,R)),D){var F=D.source[0].width,I=D.source[0].height;m.SpriteSheet(D,0,0,0,F,I,M),w&&D.setDataSource(w),this.emit(l.ADD,E,D),this.emit(l.ADD_KEY+E,D)}return D},addSpriteSheetFromAtlas:function(E,R){if(!this.checkKey(E))return null;var M=c(R,"atlas",null),w=c(R,"frame",null);if(!(!M||!w)){var D=this.get(M),F=D.get(w);if(F){var I=F.source.image;I||(I=F.source.glTexture);var L=this.create(E,I);return F.trimmed?m.SpriteSheetFromAtlas(L,F,R):m.SpriteSheet(L,0,F.cutX,F.cutY,F.cutWidth,F.cutHeight,R),this.emit(l.ADD,E,L),this.emit(l.ADD_KEY+E,L),L}}},addUint8Array:function(E,R,M,w){if(!this.checkKey(E)||R.length/4!==M*w)return null;var D=this.create(E,R,M,w);return D.add("__BASE",0,0,0,M,w),this.emit(l.ADD,E,D),this.emit(l.ADD_KEY+E,D),D},create:function(E,R,M,w){var D=null;return this.checkKey(E)&&(D=new x(this,E,R,M,w),this.list[E]=D),D},exists:function(E){return this.list.hasOwnProperty(E)},get:function(E){return E===void 0&&(E="__DEFAULT"),this.list[E]?this.list[E]:E instanceof x?E:E instanceof i?E.texture:this.list.__MISSING},cloneFrame:function(E,R){if(this.list[E])return this.list[E].get(R).clone()},getFrame:function(E,R){if(this.list[E])return this.list[E].get(R)},parseFrame:function(E){if(E){if(typeof E=="string")return this.getFrame(E);if(Array.isArray(E)&&E.length===2)return this.getFrame(E[0],E[1]);if(p(E))return this.getFrame(E.key,E.frame);if(E instanceof x)return E.get();if(E instanceof i)return E}else return},getTextureKeys:function(){var E=[];for(var R in this.list)R!=="__DEFAULT"&&R!=="__MISSING"&&R!=="__WHITE"&&R!=="__NORMAL"&&E.push(R);return E},getPixel:function(E,R,M,w){var D=this.getFrame(M,w);if(D){E-=D.x,R-=D.y;var F=D.data.cut;if(E+=F.x,R+=F.y,E>=F.x&&E<F.r&&R>=F.y&&R<F.b){var I=this._tempContext;I.clearRect(0,0,1,1),I.drawImage(D.source.image,E,R,1,1,0,0,1,1);var L=I.getImageData(0,0,1,1);return new s(L.data[0],L.data[1],L.data[2],L.data[3])}}return null},getPixelAlpha:function(E,R,M,w){var D=this.getFrame(M,w);if(D){E-=D.x,R-=D.y;var F=D.data.cut;if(E+=F.x,R+=F.y,E>=F.x&&E<F.r&&R>=F.y&&R<F.b){var I=this._tempContext;I.clearRect(0,0,1,1),I.drawImage(D.source.image,E,R,1,1,0,0,1,1);var L=I.getImageData(0,0,1,1);return L.data[3]}}return null},setTexture:function(E,R,M){return this.list[R]&&(E.texture=this.list[R],E.frame=E.texture.get(M)),E},renameTexture:function(E,R){var M=this.get(E);return M&&E!==R?(M.key=R,this.list[R]=M,delete this.list[E],!0):!1},each:function(E,R){for(var M=[null],w=1;w<arguments.length;w++)M.push(arguments[w]);for(var D in this.list)M[0]=this.list[D],E.apply(R,M)},resetStamp:function(E,R){E===void 0&&(E=1),R===void 0&&(R=16777215);var M=this.stamp;return M.setCrop(),M.setPosition(0),M.setAngle(0),M.setScale(1),M.setAlpha(E),M.setTint(R),M.setTexture("__WHITE"),M},destroy:function(){for(var E in this.list)this.list[E].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,a.remove(this._tempCanvas)}});o.exports=C},11876:(o,g,t)=>{var a=t(27919),v=t(83419),h=t(50030),s=t(29795),r=t(82751),e=new v({initialize:function(l,i,u,f,c){c===void 0&&(c=!1);var d=l.manager.game;this.renderer=d.renderer,this.texture=l,this.source=i,this.image=i.compressed?null:i,this.compressionAlgorithm=i.compressed?i.format:null,this.resolution=1,this.width=u||i.naturalWidth||i.videoWidth||i.width||0,this.height=f||i.naturalHeight||i.videoHeight||i.height||0,this.scaleMode=s.DEFAULT,this.isCanvas=i instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&i instanceof HTMLVideoElement,this.isRenderTexture=i.type==="RenderTexture"||i.type==="DynamicTexture",this.isGLTexture=i instanceof r,this.isPowerOf2=h(this.width,this.height),this.glTexture=null,this.flipY=c,this.init(d)},init:function(n){var l=this.renderer;if(l){var i=this.source;if(l.gl){var u=this.image,f=this.flipY,c=this.width,d=this.height,p=this.scaleMode;this.isCanvas?this.glTexture=l.createCanvasTexture(u,!1,f):this.isVideo?this.glTexture=l.createVideoTexture(u,!1,f):this.isRenderTexture?this.glTexture=l.createTextureFromSource(null,c,d,p):this.isGLTexture?this.glTexture=i:this.compressionAlgorithm?this.glTexture=l.createTextureFromSource(i,void 0,void 0,p):i instanceof Uint8Array?this.glTexture=l.createUint8ArrayTexture(i,c,d,p):this.glTexture=l.createTextureFromSource(u,c,d,p)}else this.isRenderTexture&&(this.image=i.canvas)}n.config.antialias||this.setFilter(1)},setFilter:function(n){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,n),this.scaleMode=n},setFlipY:function(n){return n===void 0&&(n=!0),n===this.flipY?this:(this.flipY=n,this.update(),this)},update:function(){var n=this.renderer,l=this.image,i=this.flipY,u=n.gl;u&&this.isCanvas?n.updateCanvasTexture(l,this.glTexture,i):u&&this.isVideo&&n.updateVideoTexture(l,this.glTexture,i)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&a.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});o.exports=e},19673:o=>{var g={LINEAR:0,NEAREST:1};o.exports=g},44538:o=>{o.exports="addtexture"},63486:o=>{o.exports="addtexture-"},94851:o=>{o.exports="onerror"},29099:o=>{o.exports="onload"},8678:o=>{o.exports="ready"},86415:o=>{o.exports="removetexture"},30879:o=>{o.exports="removetexture-"},69442:(o,g,t)=>{o.exports={ADD:t(44538),ADD_KEY:t(63486),ERROR:t(94851),LOAD:t(29099),READY:t(8678),REMOVE:t(86415),REMOVE_KEY:t(30879)}},27458:(o,g,t)=>{var a=t(79291),v=t(19673),h={CanvasTexture:t(57382),DynamicTexture:t(81320),Events:t(69442),FilterMode:v,Frame:t(4327),Parsers:t(61309),Texture:t(79237),TextureManager:t(17130),TextureSource:t(11876)};h=a(!1,h,v),o.exports=h},89905:o=>{var g=function(t,a,v){if(!v.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var h=t.source[a];t.add("__BASE",a,0,0,h.width,h.height);for(var s=v.getElementsByTagName("SubTexture"),r,e=0;e<s.length;e++){var n=s[e].attributes,l=n.name.value,i=parseInt(n.x.value,10),u=parseInt(n.y.value,10),f=parseInt(n.width.value,10),c=parseInt(n.height.value,10);if(r=t.add(l,a,i,u,f,c),n.frameX){var d=Math.abs(parseInt(n.frameX.value,10)),p=Math.abs(parseInt(n.frameY.value,10)),m=parseInt(n.frameWidth.value,10),y=parseInt(n.frameHeight.value,10);r.setTrim(f,c,d,p,m,y)}}return t};o.exports=g},72893:o=>{var g=function(t,a){var v=t.source[a];return t.add("__BASE",a,0,0,v.width,v.height),t};o.exports=g},4832:o=>{var g=function(t,a){var v=t.source[a];return t.add("__BASE",a,0,0,v.width,v.height),t};o.exports=g},78566:(o,g,t)=>{var a=t(41786),v=function(h,s,r){if(!r.frames&&!r.textures){console.warn("Invalid Texture Atlas JSON Array");return}var e=h.source[s];h.add("__BASE",s,0,0,e.width,e.height);for(var n=Array.isArray(r.textures)?r.textures[s].frames:r.frames,l,i=0;i<n.length;i++){var u=n[i];if(l=h.add(u.filename,s,u.frame.x,u.frame.y,u.frame.w,u.frame.h),!l){console.warn("Invalid atlas json, frame already exists: "+u.filename);continue}u.trimmed&&l.setTrim(u.sourceSize.w,u.sourceSize.h,u.spriteSourceSize.x,u.spriteSourceSize.y,u.spriteSourceSize.w,u.spriteSourceSize.h),u.rotated&&(l.rotated=!0,l.updateUVsInverted());var f=u.anchor||u.pivot;f&&(l.customPivot=!0,l.pivotX=f.x,l.pivotY=f.y),u.scale9Borders&&l.setScale9(u.scale9Borders.x,u.scale9Borders.y,u.scale9Borders.w,u.scale9Borders.h),l.customData=a(u)}for(var c in r)c!=="frames"&&(Array.isArray(r[c])?h.customData[c]=r[c].slice(0):h.customData[c]=r[c]);return h};o.exports=v},39711:(o,g,t)=>{var a=t(41786),v=function(h,s,r){if(!r.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var e=h.source[s];h.add("__BASE",s,0,0,e.width,e.height);var n=r.frames,l;for(var i in n)if(n.hasOwnProperty(i)){var u=n[i];if(l=h.add(i,s,u.frame.x,u.frame.y,u.frame.w,u.frame.h),!l){console.warn("Invalid atlas json, frame already exists: "+i);continue}u.trimmed&&l.setTrim(u.sourceSize.w,u.sourceSize.h,u.spriteSourceSize.x,u.spriteSourceSize.y,u.spriteSourceSize.w,u.spriteSourceSize.h),u.rotated&&(l.rotated=!0,l.updateUVsInverted());var f=u.anchor||u.pivot;f&&(l.customPivot=!0,l.pivotX=f.x,l.pivotY=f.y),u.scale9Borders&&l.setScale9(u.scale9Borders.x,u.scale9Borders.y,u.scale9Borders.w,u.scale9Borders.h),l.customData=a(u)}for(var c in r)c!=="frames"&&(Array.isArray(r[c])?h.customData[c]=r[c].slice(0):h.customData[c]=r[c]);return h};o.exports=v},31403:o=>{var g=function(t){var a=[171,75,84,88,32,49,49,187,13,10,26,10],v,h=new Uint8Array(t,0,12);for(v=0;v<h.length;v++)if(h[v]!==a[v]){console.warn("KTXParser - Invalid file format");return}var s=Uint32Array.BYTES_PER_ELEMENT,r=new DataView(t,12,13*s),e=r.getUint32(0,!0)===67305985,n=r.getUint32(1*s,e);if(n!==0){console.warn("KTXParser - Only compressed formats supported");return}var l=r.getUint32(4*s,e),i=r.getUint32(6*s,e),u=r.getUint32(7*s,e),f=Math.max(1,r.getUint32(11*s,e)),c=r.getUint32(12*s,e),d=new Array(f),p=12+13*4+c,m=i,y=u;for(v=0;v<f;v++){var x=new Int32Array(t,p,1)[0];p+=4,d[v]={data:new Uint8Array(t,p,x),width:m,height:y},m=Math.max(1,m>>1),y=Math.max(1,y>>1),p+=x}return{mipmaps:d,width:i,height:u,internalFormat:l,compressed:!0,generateMipmap:!1}};o.exports=g},82038:o=>{function g(R,M,w,D,F,I,L){return L===void 0&&(L=16),Math.floor((R+w)/F)*Math.floor((M+D)/I)*L}function t(R,M){return R=Math.max(R,16),M=Math.max(M,8),R*M/4}function a(R,M){return R=Math.max(R,8),M=Math.max(M,8),R*M/2}function v(R,M){return Math.ceil(R/4)*Math.ceil(M/4)*16}function h(R,M){return g(R,M,3,3,4,4,8)}function s(R,M){return g(R,M,3,3,4,4)}function r(R,M){return g(R,M,4,3,5,4)}function e(R,M){return g(R,M,4,4,5,5)}function n(R,M){return g(R,M,5,4,6,5)}function l(R,M){return g(R,M,5,5,6,6)}function i(R,M){return g(R,M,7,4,8,5)}function u(R,M){return g(R,M,7,5,8,6)}function f(R,M){return g(R,M,7,7,8,8)}function c(R,M){return g(R,M,9,4,10,5)}function d(R,M){return g(R,M,9,5,10,6)}function p(R,M){return g(R,M,9,7,10,8)}function m(R,M){return g(R,M,9,9,10,10)}function y(R,M){return g(R,M,11,9,12,10)}function x(R,M){return g(R,M,11,11,12,12)}var C={0:{sizeFunc:t,glFormat:[35841]},1:{sizeFunc:t,glFormat:[35843]},2:{sizeFunc:a,glFormat:[35840]},3:{sizeFunc:a,glFormat:[35842]},6:{sizeFunc:h,glFormat:[36196]},7:{sizeFunc:h,glFormat:[33776,35916]},8:{sizeFunc:s,glFormat:[33777,35917]},9:{sizeFunc:s,glFormat:[33778,35918]},11:{sizeFunc:s,glFormat:[33779,35919]},14:{sizeFunc:v,glFormat:[36494,36495]},15:{sizeFunc:v,glFormat:[36492,36493]},22:{sizeFunc:h,glFormat:[37492,37493]},23:{sizeFunc:s,glFormat:[37496,37497]},24:{sizeFunc:h,glFormat:[37494,37495]},25:{sizeFunc:h,glFormat:[37488]},26:{sizeFunc:s,glFormat:[37490]},27:{sizeFunc:s,glFormat:[37808,37840]},28:{sizeFunc:r,glFormat:[37809,37841]},29:{sizeFunc:e,glFormat:[37810,37842]},30:{sizeFunc:n,glFormat:[37811,37843]},31:{sizeFunc:l,glFormat:[37812,37844]},32:{sizeFunc:i,glFormat:[37813,37845]},33:{sizeFunc:u,glFormat:[37814,37846]},34:{sizeFunc:f,glFormat:[37815,37847]},35:{sizeFunc:c,glFormat:[37816,37848]},36:{sizeFunc:d,glFormat:[37817,37849]},37:{sizeFunc:p,glFormat:[37818,37850]},38:{sizeFunc:m,glFormat:[37819,37851]},39:{sizeFunc:y,glFormat:[37820,37852]},40:{sizeFunc:x,glFormat:[37821,37853]}},E=function(R){for(var M=new Uint32Array(R,0,13),w=M[0],D=w===55727696,F=D?M[2]:M[3],I=M[4],L=C[F].glFormat[I],B=C[F].sizeFunc,G=M[11],V=M[7],X=M[6],b=52+M[12],U=new Uint8Array(R,b),O=new Array(G),z=0,N=V,Y=X,W=0;W<G;W++){var H=B(N,Y);O[W]={data:new Uint8Array(U.buffer,U.byteOffset+z,H),width:N,height:Y},N=Math.max(1,N>>1),Y=Math.max(1,Y>>1),z+=H}return{mipmaps:O,width:V,height:X,internalFormat:L,compressed:!0,generateMipmap:!1}};o.exports=E},75549:(o,g,t)=>{var a=t(95540),v=function(h,s,r,e,n,l,i){var u=a(i,"frameWidth",null),f=a(i,"frameHeight",u);if(u===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var c=h.source[s];h.add("__BASE",s,0,0,c.width,c.height);var d=a(i,"startFrame",0),p=a(i,"endFrame",-1),m=a(i,"margin",0),y=a(i,"spacing",0),x=Math.floor((n-m+y)/(u+y)),C=Math.floor((l-m+y)/(f+y)),E=x*C;E===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",h.key),(d>E||d<-E)&&(d=0),d<0&&(d=E+d),(p===-1||p>E||p<d)&&(p=E);for(var R=m,M=m,w=0,D=0,F=0,I=0;I<E;I++){w=0,D=0;var L=R+u,B=M+f;L>n&&(w=L-n),B>l&&(D=B-l),I>=d&&I<=p&&(h.add(F,s,r+R,e+M,u-w,f-D),F++),R+=u+y,R+u>n&&(R=m,M+=f+y)}return h};o.exports=v},47534:(o,g,t)=>{var a=t(95540),v=function(h,s,r){var e=a(r,"frameWidth",null),n=a(r,"frameHeight",e);if(!e)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var l=h.source[0];h.add("__BASE",0,0,0,l.width,l.height);var i=a(r,"startFrame",0),u=a(r,"endFrame",-1),f=a(r,"margin",0),c=a(r,"spacing",0),d=s.cutX,p=s.cutY,m=s.cutWidth,y=s.cutHeight,x=s.realWidth,C=s.realHeight,E=Math.floor((x-f+c)/(e+c)),R=Math.floor((C-f+c)/(n+c)),M=E*R,w=s.x,D=e-w,F=e-(x-m-w),I=s.y,L=n-I,B=n-(C-y-I);(i>M||i<-M)&&(i=0),i<0&&(i=M+i),u!==-1&&(M=i+(u+1));for(var G,V=f,X=f,b=0,U=0,O=0;O<R;O++){for(var z=O===0,N=O===R-1,Y=0;Y<E;Y++){var W=Y===0,H=Y===E-1;if(G=h.add(b,U,d+V,p+X,e,n),W||z||H||N){var $=W?w:0,j=z?I:0,Z=0,J=0;W&&(Z+=e-D),H&&(Z+=e-F),z&&(J+=n-L),N&&(J+=n-B);var K=e-Z,Q=n-J;G.cutWidth=K,G.cutHeight=Q,G.setTrim(e,n,$,j,K,Q)}V+=c,W?V+=D:H?V+=F:V+=e,b++}V=f,X+=c,z?X+=L:N?X+=B:X+=n}return h};o.exports=v},86147:o=>{var g=0,t=function(v,h,s,r){var e=g-r.y-r.height;v.add(s,h,r.x,e,r.width,r.height)},a=function(v,h,s){var r=v.source[h];v.add("__BASE",h,0,0,r.width,r.height),g=r.height;for(var e=s.split(`
`),n=/^[ ]*(- )*(\w+)+[: ]+(.*)/,l="",i="",u={x:0,y:0,width:0,height:0},f=0;f<e.length;f++){var c=e[f].match(n);if(c){var d=c[1]==="- ",p=c[2],m=c[3];if(d&&(i!==l&&(t(v,h,i,u),l=i),u={x:0,y:0,width:0,height:0}),p==="name"){i=m;continue}switch(p){case"x":case"y":case"width":case"height":u[p]=parseInt(m,10);break}}}return i!==l&&t(v,h,i,u),v};o.exports=a},55222:(o,g,t)=>{var a=t(50030),v=function(l){for(var i=l.mipmaps,u=1;u<i.length;u++){var f=i[u].width,c=i[u].height;if(!a(f,c))return console.warn("Mip level "+u+" is not a power-of-two size: "+f+"x"+c),!1}var d=n[l.internalFormat];return d?d(l):(console.warn("No format checker found for internal format "+l.internalFormat+". Assuming valid."),!0)};function h(l){for(var i=l.mipmaps,u=0;u<i.length;u++){var f=i[u].width,c=i[u].height;if((f<<u)%4!==0||(c<<u)%4!==0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+u+" is "+f+"x"+c),!1}return!0}function s(){return!0}function r(l){var i=l.mipmaps,u=i[0];return a(u.width,u.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+u.width+"x"+u.height),!1)}function e(l){var i=l.mipmaps,u=i[0];return u.width%4!==0||u.height%4!==0?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+u.width+"x"+u.height+" pixels"),!1):!0}var n={37488:s,37489:s,37490:s,37491:s,37492:s,37493:s,37494:s,37495:s,37496:s,37497:s,36196:s,37808:s,37809:s,37810:s,37811:s,37812:s,37813:s,37814:s,37815:s,37816:s,37817:s,37818:s,37819:s,37820:s,37821:s,37840:s,37841:s,37842:s,37843:s,37844:s,37845:s,37846:s,37847:s,37848:s,37849:s,37850:s,37851:s,37852:s,37853:s,36492:h,36493:h,36494:h,36495:h,36283:h,36284:h,36285:h,36286:h,35840:r,35841:r,35842:r,35843:r,33776:h,33777:h,33778:h,33779:h,35916:e,35917:e,35918:e,35919:e};o.exports=v},61309:(o,g,t)=>{o.exports={AtlasXML:t(89905),Canvas:t(72893),Image:t(4832),JSONArray:t(78566),JSONHash:t(39711),KTXParser:t(31403),PVRParser:t(82038),SpriteSheet:t(75549),SpriteSheetFromAtlas:t(47534),UnityYAML:t(86147)}},80341:o=>{o.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(o,g,t)=>{var a=t(83419),v=new a({initialize:function(s,r,e,n,l,i,u){(e===void 0||e<=0)&&(e=32),(n===void 0||n<=0)&&(n=32),l===void 0&&(l=0),i===void 0&&(i=0),this.name=s,this.firstgid=r|0,this.imageWidth=e|0,this.imageHeight=n|0,this.imageMargin=l|0,this.imageSpacing=i|0,this.properties=u||{},this.images=[],this.total=0},containsImageIndex:function(h){return h>=this.firstgid&&h<this.firstgid+this.total},addImage:function(h,s,r,e){return this.images.push({gid:h,image:s,width:r,height:e}),this.total++,this}});o.exports=v},27462:(o,g,t)=>{var a=t(83419),v=new a({initialize:function(s){if(this.gids=[],s!==void 0)for(var r=0;r<s.length;++r)for(var e=s[r],n=0;n<e.total;++n)this.gids[e.firstgid+n]=e;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(h){this.gids=h?this._gids:void 0}},getTypeIncludingTile:function(h){if(h.type!==void 0&&h.type!=="")return h.type;if(!(!this.gids||h.gid===void 0)){var s=this.gids[h.gid];if(s){var r=s.getTileData(h.gid);if(r)return r.type}}},setTextureAndFrame:function(h,s,r,e){if(s===null&&this.gids&&e.gid!==void 0){var n=this.gids[e.gid];n&&(s===null&&n.image!==void 0&&(s=n.image.key),r===null&&(r=e.gid-n.firstgid),h.scene.textures.getFrame(s,r)||(s=null,r=null))}h.setTexture(s,r)},setPropertiesFromTiledObject:function(h,s){if(this.gids!==void 0&&s.gid!==void 0){var r=this.gids[s.gid];r!==void 0&&this.setFromJSON(h,r.getTileProperties(s.gid))}this.setFromJSON(h,s.properties)},setFromJSON:function(h,s){if(s){if(Array.isArray(s)){for(var r=0;r<s.length;r++){var e=s[r];h[e.name]!==void 0?h[e.name]=e.value:h.setData(e.name,e.value)}return}for(var n in s)h[n]!==void 0?h[n]=s[n]:h.setData(n,s[n])}}});o.exports=v},31989:(o,g,t)=>{var a=t(80341),v=t(87010),h=t(46177),s=t(49075),r=function(e,n,l,i,u,f,c,d){l===void 0&&(l=32),i===void 0&&(i=32),u===void 0&&(u=10),f===void 0&&(f=10),d===void 0&&(d=!1);var p=null;if(Array.isArray(c)){var m=n!==void 0?n:"map";p=h(m,a.ARRAY_2D,c,l,i,d)}else if(n!==void 0){var y=e.cache.tilemap.get(n);y?p=h(n,y.format,y.data,l,i,d):console.warn("No map data found for key "+n)}return p===null&&(p=new v({tileWidth:l,tileHeight:i,width:u,height:f})),new s(e,p)};o.exports=r},23029:(o,g,t)=>{var a=t(83419),v=t(31401),h=t(91907),s=t(62644),r=t(93232),e=new a({Mixins:[v.AlphaSingle,v.Flip,v.Visible],initialize:function(l,i,u,f,c,d,p,m){this.layer=l,this.index=i,this.x=u,this.y=f,this.width=c,this.height=d,this.right,this.bottom,this.baseWidth=p!==void 0?p:c,this.baseHeight=m!==void 0?m:d,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(n,l){return!(n<this.pixelX||l<this.pixelY||n>this.right||l>this.bottom)},copy:function(n){return this.index=n.index,this.alpha=n.alpha,this.properties=s(n.properties),this.visible=n.visible,this.setFlip(n.flipX,n.flipY),this.tint=n.tint,this.rotation=n.rotation,this.collideUp=n.collideUp,this.collideDown=n.collideDown,this.collideLeft=n.collideLeft,this.collideRight=n.collideRight,this.collisionCallback=n.collisionCallback,this.collisionCallbackContext=n.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(n){var l=this.tilemapLayer;if(l){var i=l.tileToWorldXY(this.x,this.y,void 0,n);return i.x}return this.x*this.baseWidth},getRight:function(n){var l=this.tilemapLayer;return l?this.getLeft(n)+this.width*l.scaleX:this.getLeft(n)+this.width},getTop:function(n){var l=this.tilemapLayer;if(l){var i=l.tileToWorldXY(this.x,this.y,void 0,n);return i.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(n){var l=this.tilemapLayer;return l?this.getTop(n)+this.height*l.scaleY:this.getTop(n)+this.height},getBounds:function(n,l){return l===void 0&&(l=new r),l.x=this.getLeft(n),l.y=this.getTop(n),l.width=this.getRight(n)-l.x,l.height=this.getBottom(n)-l.y,l},getCenterX:function(n){return(this.getLeft(n)+this.getRight(n))/2},getCenterY:function(n){return(this.getTop(n)+this.getBottom(n))/2},intersects:function(n,l,i,u){return!(i<=this.pixelX||u<=this.pixelY||n>=this.right||l>=this.bottom)},isInteresting:function(n,l){return n&&l?this.canCollide||this.hasInterestingFace:n?this.collides:l?this.hasInterestingFace:!1},resetCollision:function(n){if(n===void 0&&(n=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,n){var l=this.tilemapLayer;l&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(n,l,i,u,f){if(l===void 0&&(l=n),i===void 0&&(i=n),u===void 0&&(u=n),f===void 0&&(f=!0),this.collideLeft=n,this.collideRight=l,this.collideUp=i,this.collideDown=u,this.faceLeft=n,this.faceRight=l,this.faceTop=i,this.faceBottom=u,f){var c=this.tilemapLayer;c&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(n,l){return n===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=n,this.collisionCallbackContext=l),this},setSize:function(n,l,i,u){return n!==void 0&&(this.width=n),l!==void 0&&(this.height=l),i!==void 0&&(this.baseWidth=i),u!==void 0&&(this.baseHeight=u),this.updatePixelXY(),this},updatePixelXY:function(){var n=this.layer.orientation;if(n===h.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(n===h.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(n===h.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(n===h.HEXAGONAL){var l=this.layer.staggerAxis,i=this.layer.staggerIndex,u=this.layer.hexSideLength,f,c;l==="y"?(c=(this.baseHeight-u)/2+u,i==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*c):l==="x"&&(f=(this.baseWidth-u)/2+u,this.pixelX=this.x*f,i==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var n=this.layer.tilemapLayer;if(n){var l=n.gidMap[this.index];if(l)return l}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var n=this.tilemapLayer;return n?n.tilemap:null}}});o.exports=e},49075:(o,g,t)=>{var a=t(84101),v=t(83419),h=t(39506),s=t(80341),r=t(95540),e=t(14977),n=t(27462),l=t(91907),i=t(36305),u=t(19133),f=t(68287),c=t(23029),d=t(81086),p=t(20442),m=t(33629),y=new v({initialize:function(C,E){this.scene=C,this.tileWidth=E.tileWidth,this.tileHeight=E.tileHeight,this.width=E.width,this.height=E.height,this.orientation=E.orientation,this.renderOrder=E.renderOrder,this.format=E.format,this.version=E.version,this.properties=E.properties,this.widthInPixels=E.widthInPixels,this.heightInPixels=E.heightInPixels,this.imageCollections=E.imageCollections,this.images=E.images,this.layers=E.layers,this.tiles=E.tiles,this.tilesets=E.tilesets,this.objects=E.objects,this.currentLayerIndex=0,this.hexSideLength=E.hexSideLength;var R=this.orientation;this._convert={WorldToTileXY:d.GetWorldToTileXYFunction(R),WorldToTileX:d.GetWorldToTileXFunction(R),WorldToTileY:d.GetWorldToTileYFunction(R),TileToWorldXY:d.GetTileToWorldXYFunction(R),TileToWorldX:d.GetTileToWorldXFunction(R),TileToWorldY:d.GetTileToWorldYFunction(R),GetTileCorners:d.GetTileCornersFunction(R)}},setRenderOrder:function(x){var C=["right-down","left-down","right-up","left-up"];return typeof x=="number"&&(x=C[x]),C.indexOf(x)>-1&&(this.renderOrder=x),this},addTilesetImage:function(x,C,E,R,M,w,D,F){if(x===void 0)return null;C==null&&(C=x);var I=this.scene.sys.textures;if(!I.exists(C))return console.warn('Texture key "%s" not found',C),null;var L=I.get(C),B=this.getTilesetIndex(x);if(B===null&&this.format===s.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',x,this.tilesets),null;var G=this.tilesets[B];return G?((E||R)&&G.setTileSize(E,R),(M||w)&&G.setSpacing(M,w),G.setImage(L),G):(E===void 0&&(E=this.tileWidth),R===void 0&&(R=this.tileHeight),M===void 0&&(M=0),w===void 0&&(w=0),D===void 0&&(D=0),F===void 0&&(F={x:0,y:0}),G=new m(x,D,E,R,M,w,void 0,void 0,F),G.setImage(L),this.tilesets.push(G),this.tiles=a(this),G)},copy:function(x,C,E,R,M,w,D,F){return F=this.getLayer(F),F!==null?(d.Copy(x,C,E,R,M,w,D,F),this):null},createBlankLayer:function(x,C,E,R,M,w,D,F){E===void 0&&(E=0),R===void 0&&(R=0),M===void 0&&(M=this.width),w===void 0&&(w=this.height),D===void 0&&(D=this.tileWidth),F===void 0&&(F=this.tileHeight);var I=this.getLayerIndex(x);if(I!==null)return console.warn("Invalid Tilemap Layer ID: "+x),null;for(var L=new e({name:x,tileWidth:D,tileHeight:F,width:M,height:w,orientation:this.orientation,hexSideLength:this.hexSideLength}),B,G=0;G<w;G++){B=[];for(var V=0;V<M;V++)B.push(new c(L,-1,V,G,D,F,this.tileWidth,this.tileHeight));L.data.push(B)}this.layers.push(L),this.currentLayerIndex=this.layers.length-1;var X=new p(this.scene,this,this.currentLayerIndex,C,E,R);return X.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(X),X},createLayer:function(x,C,E,R){var M=this.getLayerIndex(x);if(M===null)return console.warn("Invalid Tilemap Layer ID: "+x),typeof x=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var w=this.layers[M];if(w.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+x),null;this.currentLayerIndex=M,E===void 0&&(E=w.x),R===void 0&&(R=w.y);var D=new p(this.scene,this,M,C,E,R);return D.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(D),D},createFromObjects:function(x,C,E){E===void 0&&(E=!0);var R=[],M=this.getObjectLayer(x);if(!M)return console.warn("createFromObjects: Invalid objectLayerName given: "+x),R;var w=new n(E?this.tilesets:void 0);Array.isArray(C)||(C=[C]);for(var D=M.objects,F=0;F<C.length;F++){var I=C[F],L=r(I,"id",null),B=r(I,"gid",null),G=r(I,"name",null),V=r(I,"type",null);w.enabled=!r(I,"ignoreTileset",null);for(var X,b=[],U=0;U<D.length;U++)X=D[U],(L===null&&B===null&&G===null&&V===null||L!==null&&X.id===L||B!==null&&X.gid===B||G!==null&&X.name===G||V!==null&&w.getTypeIncludingTile(X)===V)&&b.push(X);for(var O=r(I,"classType",f),z=r(I,"scene",this.scene),N=r(I,"container",null),Y=r(I,"key",null),W=r(I,"frame",null),H=0;H<b.length;H++){X=b[H];var $=new O(z);if($.setName(X.name),$.setPosition(X.x,X.y),w.setTextureAndFrame($,Y,W,X),X.width&&($.displayWidth=X.width),X.height&&($.displayHeight=X.height),this.orientation===l.ISOMETRIC){var j=this.tileWidth/this.tileHeight,Z={x:$.x-$.y,y:($.x+$.y)/j};$.x=Z.x,$.y=Z.y}var J={x:$.originX*X.width,y:($.originY-(X.gid?1:0))*X.height};if(X.rotation){var K=h(X.rotation);i(J,K),$.rotation=K}$.x+=J.x,$.y+=J.y,(X.flippedHorizontal!==void 0||X.flippedVertical!==void 0)&&$.setFlip(X.flippedHorizontal,X.flippedVertical),X.visible||($.visible=!1),w.setPropertiesFromTiledObject($,X),N?N.add($):z.add.existing($),R.push($)}}return R},createFromTiles:function(x,C,E,R,M,w){return w=this.getLayer(w),w===null?null:d.CreateFromTiles(x,C,E,R,M,w)},fill:function(x,C,E,R,M,w,D){return w===void 0&&(w=!0),D=this.getLayer(D),D===null?null:(d.Fill(x,C,E,R,M,w,D),this)},filterObjects:function(x,C,E){if(typeof x=="string"){var R=x;if(x=this.getObjectLayer(x),!x)return console.warn("No object layer found with the name: "+R),null}return x.objects.filter(C,E)},filterTiles:function(x,C,E,R,M,w,D,F){return F=this.getLayer(F),F===null?null:d.FilterTiles(x,C,E,R,M,w,D,F)},findByIndex:function(x,C,E,R){return R=this.getLayer(R),R===null?null:d.FindByIndex(x,C,E,R)},findObject:function(x,C,E){if(typeof x=="string"){var R=x;if(x=this.getObjectLayer(x),!x)return console.warn("No object layer found with the name: "+R),null}return x.objects.find(C,E)||null},findTile:function(x,C,E,R,M,w,D,F){return F=this.getLayer(F),F===null?null:d.FindTile(x,C,E,R,M,w,D,F)},forEachTile:function(x,C,E,R,M,w,D,F){return F=this.getLayer(F),F===null?null:(d.ForEachTile(x,C,E,R,M,w,D,F),this)},getImageIndex:function(x){return this.getIndex(this.images,x)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(x){return x.name})},getIndex:function(x,C){for(var E=0;E<x.length;E++)if(x[E].name===C)return E;return null},getLayer:function(x){var C=this.getLayerIndex(x);return C!==null?this.layers[C]:null},getObjectLayer:function(x){var C=this.getIndex(this.objects,x);return C!==null?this.objects[C]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(x){return x.name})},getLayerIndex:function(x){return x===void 0?this.currentLayerIndex:typeof x=="string"?this.getLayerIndexByName(x):typeof x=="number"&&x<this.layers.length?x:x instanceof p&&x.tilemap===this?x.layerIndex:null},getLayerIndexByName:function(x){return this.getIndex(this.layers,x)},getTileAt:function(x,C,E,R){return R=this.getLayer(R),R===null?null:d.GetTileAt(x,C,E,R)},getTileAtWorldXY:function(x,C,E,R,M){return M=this.getLayer(M),M===null?null:d.GetTileAtWorldXY(x,C,E,R,M)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(x){return x.name})},getTilesWithin:function(x,C,E,R,M,w){return w=this.getLayer(w),w===null?null:d.GetTilesWithin(x,C,E,R,M,w)},getTilesWithinShape:function(x,C,E,R){return R=this.getLayer(R),R===null?null:d.GetTilesWithinShape(x,C,E,R)},getTilesWithinWorldXY:function(x,C,E,R,M,w,D){return D=this.getLayer(D),D===null?null:d.GetTilesWithinWorldXY(x,C,E,R,M,w,D)},getTileset:function(x){var C=this.getIndex(this.tilesets,x);return C!==null?this.tilesets[C]:null},getTilesetIndex:function(x){return this.getIndex(this.tilesets,x)},hasTileAt:function(x,C,E){return E=this.getLayer(E),E===null?null:d.HasTileAt(x,C,E)},hasTileAtWorldXY:function(x,C,E,R){return R=this.getLayer(R),R===null?null:d.HasTileAtWorldXY(x,C,E,R)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(x){this.setLayer(x)}},putTileAt:function(x,C,E,R,M){return R===void 0&&(R=!0),M=this.getLayer(M),M===null?null:d.PutTileAt(x,C,E,R,M)},putTileAtWorldXY:function(x,C,E,R,M,w){return R===void 0&&(R=!0),w=this.getLayer(w),w===null?null:d.PutTileAtWorldXY(x,C,E,R,M,w)},putTilesAt:function(x,C,E,R,M){return R===void 0&&(R=!0),M=this.getLayer(M),M===null?null:(d.PutTilesAt(x,C,E,R,M),this)},randomize:function(x,C,E,R,M,w){return w=this.getLayer(w),w===null?null:(d.Randomize(x,C,E,R,M,w),this)},calculateFacesAt:function(x,C,E){return E=this.getLayer(E),E===null?null:(d.CalculateFacesAt(x,C,E),this)},calculateFacesWithin:function(x,C,E,R,M){return M=this.getLayer(M),M===null?null:(d.CalculateFacesWithin(x,C,E,R,M),this)},removeLayer:function(x){var C=this.getLayerIndex(x);if(C!==null){u(this.layers,C);for(var E=C;E<this.layers.length;E++)this.layers[E].tilemapLayer&&this.layers[E].tilemapLayer.layerIndex--;return this.currentLayerIndex===C&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(x){var C=this.getLayerIndex(x);return C!==null?(x=this.layers[C],x.tilemapLayer.destroy(),u(this.layers,C),this.currentLayerIndex===C&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var x=this.layers,C=0;C<x.length;C++)x[C].tilemapLayer&&x[C].tilemapLayer.destroy(!1);return x.length=0,this.currentLayerIndex=0,this},removeTile:function(x,C,E){C===void 0&&(C=-1),E===void 0&&(E=!0);var R=[];Array.isArray(x)||(x=[x]);for(var M=0;M<x.length;M++){var w=x[M];R.push(this.removeTileAt(w.x,w.y,!0,E,w.tilemapLayer)),C>-1&&this.putTileAt(C,w.x,w.y,E,w.tilemapLayer)}return R},removeTileAt:function(x,C,E,R,M){return E===void 0&&(E=!0),R===void 0&&(R=!0),M=this.getLayer(M),M===null?null:d.RemoveTileAt(x,C,E,R,M)},removeTileAtWorldXY:function(x,C,E,R,M,w){return E===void 0&&(E=!0),R===void 0&&(R=!0),w=this.getLayer(w),w===null?null:d.RemoveTileAtWorldXY(x,C,E,R,M,w)},renderDebug:function(x,C,E){return E=this.getLayer(E),E===null?null:(this.orientation===l.ORTHOGONAL&&d.RenderDebug(x,C,E),this)},renderDebugFull:function(x,C){for(var E=this.layers,R=0;R<E.length;R++)d.RenderDebug(x,C,E[R]);return this},replaceByIndex:function(x,C,E,R,M,w,D){return D=this.getLayer(D),D===null?null:(d.ReplaceByIndex(x,C,E,R,M,w,D),this)},setCollision:function(x,C,E,R,M){return C===void 0&&(C=!0),E===void 0&&(E=!0),M===void 0&&(M=!0),R=this.getLayer(R),R===null?null:(d.SetCollision(x,C,E,R,M),this)},setCollisionBetween:function(x,C,E,R,M){return E===void 0&&(E=!0),R===void 0&&(R=!0),M=this.getLayer(M),M===null?null:(d.SetCollisionBetween(x,C,E,R,M),this)},setCollisionByProperty:function(x,C,E,R){return C===void 0&&(C=!0),E===void 0&&(E=!0),R=this.getLayer(R),R===null?null:(d.SetCollisionByProperty(x,C,E,R),this)},setCollisionByExclusion:function(x,C,E,R){return C===void 0&&(C=!0),E===void 0&&(E=!0),R=this.getLayer(R),R===null?null:(d.SetCollisionByExclusion(x,C,E,R),this)},setCollisionFromCollisionGroup:function(x,C,E){return x===void 0&&(x=!0),C===void 0&&(C=!0),E=this.getLayer(E),E===null?null:(d.SetCollisionFromCollisionGroup(x,C,E),this)},setTileIndexCallback:function(x,C,E,R){return R=this.getLayer(R),R===null?null:(d.SetTileIndexCallback(x,C,E,R),this)},setTileLocationCallback:function(x,C,E,R,M,w,D){return D=this.getLayer(D),D===null?null:(d.SetTileLocationCallback(x,C,E,R,M,w,D),this)},setLayer:function(x){var C=this.getLayerIndex(x);return C!==null&&(this.currentLayerIndex=C),this},setBaseTileSize:function(x,C){this.tileWidth=x,this.tileHeight=C,this.widthInPixels=this.width*x,this.heightInPixels=this.height*C;for(var E=0;E<this.layers.length;E++){this.layers[E].baseTileWidth=x,this.layers[E].baseTileHeight=C;for(var R=this.layers[E].data,M=this.layers[E].width,w=this.layers[E].height,D=0;D<w;D++)for(var F=0;F<M;F++){var I=R[D][F];I!==null&&I.setSize(void 0,void 0,x,C)}}return this},setLayerTileSize:function(x,C,E){if(E=this.getLayer(E),E===null)return this;E.tileWidth=x,E.tileHeight=C;for(var R=E.data,M=E.width,w=E.height,D=0;D<w;D++)for(var F=0;F<M;F++){var I=R[D][F];I!==null&&I.setSize(x,C)}return this},shuffle:function(x,C,E,R,M){return M=this.getLayer(M),M===null?null:(d.Shuffle(x,C,E,R,M),this)},swapByIndex:function(x,C,E,R,M,w,D){return D=this.getLayer(D),D===null?null:(d.SwapByIndex(x,C,E,R,M,w,D),this)},tileToWorldX:function(x,C,E){return E=this.getLayer(E),E===null?null:this._convert.TileToWorldX(x,C,E)},tileToWorldY:function(x,C,E){return E=this.getLayer(E),E===null?null:this._convert.TileToWorldY(x,C,E)},tileToWorldXY:function(x,C,E,R,M){return M=this.getLayer(M),M===null?null:this._convert.TileToWorldXY(x,C,E,R,M)},getTileCorners:function(x,C,E,R){return R=this.getLayer(R),R===null?null:this._convert.GetTileCorners(x,C,E,R)},weightedRandomize:function(x,C,E,R,M,w){return w=this.getLayer(w),w===null?null:(d.WeightedRandomize(C,E,R,M,x,w),this)},worldToTileX:function(x,C,E,R){return R=this.getLayer(R),R===null?null:this._convert.WorldToTileX(x,C,E,R)},worldToTileY:function(x,C,E,R){return R=this.getLayer(R),R===null?null:this._convert.WorldToTileY(x,C,E,R)},worldToTileXY:function(x,C,E,R,M,w){return w=this.getLayer(w),w===null?null:this._convert.WorldToTileXY(x,C,E,R,M,w)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});o.exports=y},45939:(o,g,t)=>{var a=t(44603),v=t(31989);a.register("tilemap",function(h){var s=h!==void 0?h:{};return v(this.scene,s.key,s.tileWidth,s.tileHeight,s.width,s.height,s.data,s.insertNull)})},46029:(o,g,t)=>{var a=t(39429),v=t(31989);a.register("tilemap",function(h,s,r,e,n,l,i){return h===null&&(h=void 0),s===null&&(s=void 0),r===null&&(r=void 0),e===null&&(e=void 0),n===null&&(n=void 0),v(this.scene,h,s,r,e,n,l,i)})},20442:(o,g,t)=>{var a=t(83419),v=t(78389),h=t(31401),s=t(95643),r=t(81086),e=t(19218),n=t(26099),l=new a({Extends:s,Mixins:[h.Alpha,h.BlendMode,h.ComputedSize,h.Depth,h.Flip,h.GetBounds,h.Mask,h.Origin,h.Pipeline,h.PostPipeline,h.Transform,h.Visible,h.ScrollFactor,v,e],initialize:function(u,f,c,d,p,m){s.call(this,u,"TilemapLayer"),this.isTilemap=!0,this.tilemap=f,this.layerIndex=c,this.layer=f.layers[c],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=r.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new n,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(d),this.setAlpha(this.layer.alpha),this.setPosition(p,m),this.setOrigin(0,0),this.setSize(f.tileWidth*this.layer.width,f.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(i){var u=[],f=[],c=this.tilemap;Array.isArray(i)||(i=[i]);for(var d=0;d<i.length;d++){var p=i[d];if(typeof p=="string"&&(p=c.getTileset(p)),p){f.push(p);for(var m=p.firstgid,y=0;y<p.total;y++)u[m+y]=p}}this.gidMap=u,this.tileset=f},setRenderOrder:function(i){var u=["right-down","left-down","right-up","left-up"];return typeof i=="string"&&(i=u.indexOf(i)),i>=0&&i<4&&(this._renderOrder=i),this},calculateFacesAt:function(i,u){return r.CalculateFacesAt(i,u,this.layer),this},calculateFacesWithin:function(i,u,f,c){return r.CalculateFacesWithin(i,u,f,c,this.layer),this},createFromTiles:function(i,u,f,c,d){return r.CreateFromTiles(i,u,f,c,d,this.layer)},cull:function(i){return this.cullCallback(this.layer,i,this.culledTiles,this._renderOrder)},copy:function(i,u,f,c,d,p,m){return r.Copy(i,u,f,c,d,p,m,this.layer),this},fill:function(i,u,f,c,d,p){return r.Fill(i,u,f,c,d,p,this.layer),this},filterTiles:function(i,u,f,c,d,p,m){return r.FilterTiles(i,u,f,c,d,p,m,this.layer)},findByIndex:function(i,u,f){return r.FindByIndex(i,u,f,this.layer)},findTile:function(i,u,f,c,d,p,m){return r.FindTile(i,u,f,c,d,p,m,this.layer)},forEachTile:function(i,u,f,c,d,p,m){return r.ForEachTile(i,u,f,c,d,p,m,this.layer),this},setTint:function(i,u,f,c,d,p){i===void 0&&(i=16777215);var m=function(y){y.tint=i,y.tintFill=!1};return this.forEachTile(m,this,u,f,c,d,p)},setTintFill:function(i,u,f,c,d,p){i===void 0&&(i=16777215);var m=function(y){y.tint=i,y.tintFill=!0};return this.forEachTile(m,this,u,f,c,d,p)},getTileAt:function(i,u,f){return r.GetTileAt(i,u,f,this.layer)},getTileAtWorldXY:function(i,u,f,c){return r.GetTileAtWorldXY(i,u,f,c,this.layer)},getIsoTileAtWorldXY:function(i,u,f,c,d){f===void 0&&(f=!0);var p=this.tempVec;return r.IsometricWorldToTileXY(i,u,!0,p,d,this.layer,f),this.getTileAt(p.x,p.y,c)},getTilesWithin:function(i,u,f,c,d){return r.GetTilesWithin(i,u,f,c,d,this.layer)},getTilesWithinShape:function(i,u,f){return r.GetTilesWithinShape(i,u,f,this.layer)},getTilesWithinWorldXY:function(i,u,f,c,d,p){return r.GetTilesWithinWorldXY(i,u,f,c,d,p,this.layer)},hasTileAt:function(i,u){return r.HasTileAt(i,u,this.layer)},hasTileAtWorldXY:function(i,u,f){return r.HasTileAtWorldXY(i,u,f,this.layer)},putTileAt:function(i,u,f,c){return r.PutTileAt(i,u,f,c,this.layer)},putTileAtWorldXY:function(i,u,f,c,d){return r.PutTileAtWorldXY(i,u,f,c,d,this.layer)},putTilesAt:function(i,u,f,c){return r.PutTilesAt(i,u,f,c,this.layer),this},randomize:function(i,u,f,c,d){return r.Randomize(i,u,f,c,d,this.layer),this},removeTileAt:function(i,u,f,c){return r.RemoveTileAt(i,u,f,c,this.layer)},removeTileAtWorldXY:function(i,u,f,c,d){return r.RemoveTileAtWorldXY(i,u,f,c,d,this.layer)},renderDebug:function(i,u){return r.RenderDebug(i,u,this.layer),this},replaceByIndex:function(i,u,f,c,d,p){return r.ReplaceByIndex(i,u,f,c,d,p,this.layer),this},setSkipCull:function(i){return i===void 0&&(i=!0),this.skipCull=i,this},setCullPadding:function(i,u){return i===void 0&&(i=1),u===void 0&&(u=1),this.cullPaddingX=i,this.cullPaddingY=u,this},setCollision:function(i,u,f,c){return r.SetCollision(i,u,f,this.layer,c),this},setCollisionBetween:function(i,u,f,c){return r.SetCollisionBetween(i,u,f,c,this.layer),this},setCollisionByProperty:function(i,u,f){return r.SetCollisionByProperty(i,u,f,this.layer),this},setCollisionByExclusion:function(i,u,f){return r.SetCollisionByExclusion(i,u,f,this.layer),this},setCollisionFromCollisionGroup:function(i,u){return r.SetCollisionFromCollisionGroup(i,u,this.layer),this},setTileIndexCallback:function(i,u,f){return r.SetTileIndexCallback(i,u,f,this.layer),this},setTileLocationCallback:function(i,u,f,c,d,p){return r.SetTileLocationCallback(i,u,f,c,d,p,this.layer),this},shuffle:function(i,u,f,c){return r.Shuffle(i,u,f,c,this.layer),this},swapByIndex:function(i,u,f,c,d,p){return r.SwapByIndex(i,u,f,c,d,p,this.layer),this},tileToWorldX:function(i,u){return this.tilemap.tileToWorldX(i,u,this)},tileToWorldY:function(i,u){return this.tilemap.tileToWorldY(i,u,this)},tileToWorldXY:function(i,u,f,c){return this.tilemap.tileToWorldXY(i,u,f,c,this)},getTileCorners:function(i,u,f){return this.tilemap.getTileCorners(i,u,f,this)},weightedRandomize:function(i,u,f,c,d){return r.WeightedRandomize(u,f,c,d,i,this.layer),this},worldToTileX:function(i,u,f){return this.tilemap.worldToTileX(i,u,f,this)},worldToTileY:function(i,u,f){return this.tilemap.worldToTileY(i,u,f,this)},worldToTileXY:function(i,u,f,c,d){return this.tilemap.worldToTileXY(i,u,f,c,d,this)},destroy:function(i){i===void 0&&(i=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),i&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],s.prototype.destroy.call(this))}});o.exports=l},16153:(o,g,t)=>{var a=t(61340),v=new a,h=new a,s=new a,r=function(e,n,l,i){var u=n.cull(l),f=u.length,c=l.alpha*n.alpha;if(!(f===0||c<=0)){var d=v,p=h,m=s;p.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY),d.copyFrom(l.matrix);var y=e.currentContext,x=n.gidMap;y.save(),i?(d.multiplyWithOffset(i,-l.scrollX*n.scrollFactorX,-l.scrollY*n.scrollFactorY),p.e=n.x,p.f=n.y,d.multiply(p,m),m.copyToContext(y)):(p.e-=l.scrollX*n.scrollFactorX,p.f-=l.scrollY*n.scrollFactorY,p.copyToContext(y)),(!e.antialias||n.scaleX>1||n.scaleY>1)&&(y.imageSmoothingEnabled=!1);for(var C=0;C<f;C++){var E=u[C],R=x[E.index];if(R){var M=R.image.getSourceImage(),w=R.getTileTextureCoordinates(E.index),D=R.tileWidth,F=R.tileHeight;if(!(w===null||D===0||F===0)){var I=D*.5,L=F*.5;w.x+=R.tileOffset.x,w.y+=R.tileOffset.y,y.save(),y.translate(E.pixelX+I,E.pixelY+L),E.rotation!==0&&y.rotate(E.rotation),(E.flipX||E.flipY)&&y.scale(E.flipX?-1:1,E.flipY?-1:1),y.globalAlpha=c*E.alpha,y.drawImage(M,w.x,w.y,D,F,-I,-L,D,F),y.restore()}}}y.restore()}};o.exports=r},19218:(o,g,t)=>{var a=t(29747),v=a,h=a;v=t(99558),h=t(16153),o.exports={renderWebGL:v,renderCanvas:h}},99558:(o,g,t)=>{var a=t(70554),v=function(h,s,r){var e=s.cull(r),n=e.length,l=r.alpha*s.alpha;if(!(n===0||l<=0)){var i=s.gidMap,u=h.pipelines.set(s.pipeline,s),f=a.getTintAppendFloatAlpha,c=s.scrollFactorX,d=s.scrollFactorY,p=s.x,m=s.y,y=s.scaleX,x=s.scaleY;h.pipelines.preBatch(s);for(var C=0;C<n;C++){var E=e[C],R=i[E.index];if(R){var M=R.getTileTextureCoordinates(E.index),w=R.tileWidth,D=R.tileHeight;if(!(!M||w===0||D===0)){var F=w*.5,I=D*.5,L=R.glTexture,B=u.setTexture2D(L,s),G=w,V=D,X=M.x,b=M.y,U=R.tileOffset.x,O=R.tileOffset.y,z=f(E.tint,l*E.alpha);u.batchTexture(s,L,L.width,L.height,p+E.pixelX*y+(F*y-U),m+E.pixelY*x+(I*x-O),w,D,y,x,E.rotation,E.flipX,E.flipY,c,d,F,I,X,b,G,V,z,z,z,z,E.tintFill,0,0,r,null,!0,B,!0)}}}h.pipelines.postBatch(s)}};o.exports=v},33629:(o,g,t)=>{var a=t(83419),v=t(26099),h=new a({initialize:function(r,e,n,l,i,u,f,c,d){(n===void 0||n<=0)&&(n=32),(l===void 0||l<=0)&&(l=32),i===void 0&&(i=0),u===void 0&&(u=0),f===void 0&&(f={}),c===void 0&&(c={}),this.name=r,this.firstgid=e,this.tileWidth=n,this.tileHeight=l,this.tileMargin=i,this.tileSpacing=u,this.tileProperties=f,this.tileData=c,this.tileOffset=new v,d!==void 0&&this.tileOffset.set(d.x,d.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(s){return this.containsTileIndex(s)?this.tileProperties[s-this.firstgid]:null},getTileData:function(s){return this.containsTileIndex(s)?this.tileData[s-this.firstgid]:null},getTileCollisionGroup:function(s){var r=this.getTileData(s);return r&&r.objectgroup?r.objectgroup:null},containsTileIndex:function(s){return s>=this.firstgid&&s<this.firstgid+this.total},getTileTextureCoordinates:function(s){return this.containsTileIndex(s)?this.texCoordinates[s-this.firstgid]:null},setImage:function(s){this.image=s;var r=s.get(),e=s.getFrameBounds();return this.glTexture=r.source.glTexture,r.width>e.width||r.height>e.height?this.updateTileData(r.width,r.height):this.updateTileData(e.width,e.height,e.x,e.y),this},setTileSize:function(s,r){return s!==void 0&&(this.tileWidth=s),r!==void 0&&(this.tileHeight=r),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(s,r){return s!==void 0&&(this.tileMargin=s),r!==void 0&&(this.tileSpacing=r),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(s,r,e,n){e===void 0&&(e=0),n===void 0&&(n=0);var l=(r-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),i=(s-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(l%1!==0||i%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),l=Math.floor(l),i=Math.floor(i),this.rows=l,this.columns=i,this.total=l*i,this.texCoordinates.length=0;for(var u=this.tileMargin+e,f=this.tileMargin+n,c=0;c<this.rows;c++){for(var d=0;d<this.columns;d++)this.texCoordinates.push({x:u,y:f}),u+=this.tileWidth+this.tileSpacing;u=this.tileMargin+e,f+=this.tileHeight+this.tileSpacing}return this}});o.exports=h},72023:(o,g,t)=>{var a=t(7423),v=function(h,s,r){var e=a(h,s,!0,r),n=a(h,s-1,!0,r),l=a(h,s+1,!0,r),i=a(h-1,s,!0,r),u=a(h+1,s,!0,r),f=e&&e.collides;return f&&(e.faceTop=!0,e.faceBottom=!0,e.faceLeft=!0,e.faceRight=!0),n&&n.collides&&(f&&(e.faceTop=!1),n.faceBottom=!f),l&&l.collides&&(f&&(e.faceBottom=!1),l.faceTop=!f),i&&i.collides&&(f&&(e.faceLeft=!1),i.faceRight=!f),u&&u.collides&&(f&&(e.faceRight=!1),u.faceLeft=!f),e&&!e.collides&&e.resetFaces(),e};o.exports=v},42573:(o,g,t)=>{var a=t(7423),v=t(7386),h=function(s,r,e,n,l){for(var i=null,u=null,f=null,c=null,d=v(s,r,e,n,null,l),p=0;p<d.length;p++){var m=d[p];m&&(m.collides?(i=a(m.x,m.y-1,!0,l),u=a(m.x,m.y+1,!0,l),f=a(m.x-1,m.y,!0,l),c=a(m.x+1,m.y,!0,l),m.faceTop=!(i&&i.collides),m.faceBottom=!(u&&u.collides),m.faceLeft=!(f&&f.collides),m.faceRight=!(c&&c.collides)):m.resetFaces())}};o.exports=h},33528:(o,g,t)=>{var a=t(26099),v=new a,h=function(s,r,e,n){var l=e.tilemapLayer,i=l.cullPaddingX,u=l.cullPaddingY,f=l.tilemap.tileToWorldXY(s,r,v,n,l);return f.x>n.worldView.x+l.scaleX*e.tileWidth*(-i-.5)&&f.x<n.worldView.right+l.scaleX*e.tileWidth*(i-.5)&&f.y>n.worldView.y+l.scaleY*e.tileHeight*(-u-1)&&f.y<n.worldView.bottom+l.scaleY*e.tileHeight*(u-.5)};o.exports=h},1785:(o,g,t)=>{var a=t(42573),v=t(7386),h=t(62991),s=t(23029),r=function(e,n,l,i,u,f,c,d){c===void 0&&(c=!0);var p=v(e,n,l,i,null,d),m=[];p.forEach(function(w){var D=new s(w.layer,w.index,w.x,w.y,w.width,w.height,w.baseWidth,w.baseHeight);D.copy(w),m.push(D)});for(var y=u-e,x=f-n,C=0;C<m.length;C++){var E=m[C],R=E.x+y,M=E.y+x;h(R,M,d)&&d.data[M][R]&&(E.x=R,E.y=M,E.updatePixelXY(),d.data[M][R]=E)}c&&a(u-1,f-1,l+2,i+2,d),p.length=0,m.length=0};o.exports=r},78419:(o,g,t)=>{var a=t(62644),v=t(7386),h=t(27987),s=function(r,e,n,l,i,u){n||(n={}),Array.isArray(r)||(r=[r]);var f=u.tilemapLayer;l||(l=f.scene),i||(i=l.cameras.main);var c=u.width,d=u.height,p=v(0,0,c,d,null,u),m=[],y,x=function(M,w,D){for(var F=0;F<D.length;F++){var I=D[F];M.hasOwnProperty(I)||(M[I]=w[I])}};for(y=0;y<p.length;y++){var C=p[y],E=a(n);if(r.indexOf(C.index)!==-1){var R=f.tileToWorldXY(C.x,C.y,void 0,i,u);E.x=R.x,E.y=R.y,x(E,C,["rotation","flipX","flipY","alpha","visible","tint"]),E.hasOwnProperty("origin")||(E.x+=C.width*.5,E.y+=C.height*.5),E.hasOwnProperty("useSpriteSheet")&&(E.key=C.tileset.image,E.frame=C.index-C.tileset.firstgid),m.push(l.make.sprite(E))}}if(Array.isArray(e))for(y=0;y<r.length;y++)h(r[y],e[y],0,0,c,d,u);else if(e!==null)for(y=0;y<r.length;y++)h(r[y],e,0,0,c,d,u);return m};o.exports=s},19545:(o,g,t)=>{var a=t(87841),v=t(63448),h=t(56583),s=new a,r=function(e,n){var l=e.tilemapLayer.tilemap,i=e.tilemapLayer,u=Math.floor(l.tileWidth*i.scaleX),f=Math.floor(l.tileHeight*i.scaleY),c=h(n.worldView.x-i.x,u,0,!0)-i.cullPaddingX,d=v(n.worldView.right-i.x,u,0,!0)+i.cullPaddingX,p=h(n.worldView.y-i.y,f,0,!0)-i.cullPaddingY,m=v(n.worldView.bottom-i.y,f,0,!0)+i.cullPaddingY;return s.setTo(c,p,d-c,m-p)};o.exports=r},30003:(o,g,t)=>{var a=t(19545),v=t(32483),h=function(s,r,e,n){e===void 0&&(e=[]),n===void 0&&(n=0),e.length=0;var l=s.tilemapLayer,i=a(s,r);return(l.skipCull||l.scrollFactorX!==1||l.scrollFactorY!==1)&&(i.left=0,i.right=s.width,i.top=0,i.bottom=s.height),v(s,i,n,e),e};o.exports=h},35137:(o,g,t)=>{var a=t(7386),v=t(42573),h=t(20576),s=function(r,e,n,l,i,u,f){for(var c=f.collideIndexes.indexOf(r)!==-1,d=a(e,n,l,i,null,f),p=0;p<d.length;p++)d[p].index=r,h(d[p],c);u&&v(e-1,n-1,l+2,i+2,f)};o.exports=s},40253:(o,g,t)=>{var a=t(7386),v=function(h,s,r,e,n,l,i,u){var f=a(r,e,n,l,i,u);return f.filter(h,s)};o.exports=v},52692:o=>{var g=function(t,a,v,h){a===void 0&&(a=0),v===void 0&&(v=!1);var s=0,r,e,n;if(v){for(e=h.height-1;e>=0;e--)for(r=h.width-1;r>=0;r--)if(n=h.data[e][r],n&&n.index===t){if(s===a)return n;s+=1}}else for(e=0;e<h.height;e++)for(r=0;r<h.width;r++)if(n=h.data[e][r],n&&n.index===t){if(s===a)return n;s+=1}return null};o.exports=g},66151:(o,g,t)=>{var a=t(7386),v=function(h,s,r,e,n,l,i,u){var f=a(r,e,n,l,i,u);return f.find(h,s)||null};o.exports=v},97560:(o,g,t)=>{var a=t(7386),v=function(h,s,r,e,n,l,i,u){var f=a(r,e,n,l,i,u);f.forEach(h,s)};o.exports=v},43305:(o,g,t)=>{var a=t(91907),v=t(30003),h=t(9474),s=t(14018),r=t(29747),e=t(54503),n=function(l){return l===a.ORTHOGONAL?v:l===a.HEXAGONAL?h:l===a.STAGGERED?e:l===a.ISOMETRIC?s:r};o.exports=n},7423:(o,g,t)=>{var a=t(62991),v=function(h,s,r,e){if(a(h,s,e)){var n=e.data[s][h]||null;return n?n.index===-1?r?n:null:n:null}else return null};o.exports=v},60540:(o,g,t)=>{var a=t(7423),v=t(26099),h=new v,s=function(r,e,n,l,i){return i.tilemapLayer.worldToTileXY(r,e,!0,h,l),a(h.x,h.y,n,i)};o.exports=s},55826:(o,g,t)=>{var a=t(26099),v=function(h,s,r,e){var n=e.baseTileWidth,l=e.baseTileHeight,i=e.tilemapLayer,u=0,f=0;i&&(r||(r=i.scene.cameras.main),u=i.x+r.scrollX*(1-i.scrollFactorX),f=i.y+r.scrollY*(1-i.scrollFactorY),n*=i.scaleX,l*=i.scaleY);var c=u+h*n,d=f+s*l;return[new a(c,d),new a(c+n,d),new a(c+n,d+l),new a(c,d+l)]};o.exports=v},11758:(o,g,t)=>{var a=t(91907),v=t(27229),h=t(29747),s=t(55826),r=function(e){return e===a.ORTHOGONAL?s:e===a.ISOMETRIC?h:e===a.HEXAGONAL?v:(e===a.STAGGERED,h)};o.exports=r},39167:(o,g,t)=>{var a=t(91907),v=t(29747),h=t(97281),s=function(r){return r===a.ORTHOGONAL?h:v};o.exports=s},62e3:(o,g,t)=>{var a=t(91907),v=t(19951),h=t(14127),s=t(29747),r=t(97202),e=t(70326),n=function(l){return l===a.ORTHOGONAL?e:l===a.ISOMETRIC?h:l===a.HEXAGONAL?v:l===a.STAGGERED?r:s};o.exports=n},5984:(o,g,t)=>{var a=t(91907),v=t(29747),h=t(28054),s=t(29650),r=function(e){return e===a.ORTHOGONAL?s:e===a.STAGGERED?h:v};o.exports=r},7386:(o,g,t)=>{var a=t(95540),v=function(h,s,r,e,n,l){h===void 0&&(h=0),s===void 0&&(s=0),r===void 0&&(r=l.width),e===void 0&&(e=l.height),n||(n={});var i=a(n,"isNotEmpty",!1),u=a(n,"isColliding",!1),f=a(n,"hasInterestingFace",!1);h<0&&(r+=h,h=0),s<0&&(e+=s,s=0),h+r>l.width&&(r=Math.max(l.width-h,0)),s+e>l.height&&(e=Math.max(l.height-s,0));for(var c=[],d=s;d<s+e;d++)for(var p=h;p<h+r;p++){var m=l.data[d][p];if(m!==null){if(i&&m.index===-1||u&&!m.collides||f&&!m.hasInterestingFace)continue;c.push(m)}}return c};o.exports=v},91141:(o,g,t)=>{var a=t(55738),v=t(7386),h=t(91865),s=t(29747),r=t(26099),e=t(91907),n=function(c,d){return h.RectangleToTriangle(d,c)},l=new r,i=new r,u=new r,f=function(c,d,p,m){if(m.orientation!==e.ORTHOGONAL)return console.warn("GetTilesWithinShape only works with orthogonal tilemaps"),[];if(c===void 0)return[];var y=s;c instanceof a.Circle?y=h.CircleToRectangle:c instanceof a.Rectangle?y=h.RectangleToRectangle:c instanceof a.Triangle?y=n:c instanceof a.Line&&(y=h.LineToRectangle),m.tilemapLayer.worldToTileXY(c.left,c.top,!0,i,p);var x=i.x,C=i.y;m.tilemapLayer.worldToTileXY(c.right,c.bottom,!1,u,p);var E=Math.ceil(u.x),R=Math.ceil(u.y),M=Math.max(E-x,1),w=Math.max(R-C,1),D=v(x,C,M,w,d,m),F=m.tileWidth,I=m.tileHeight;m.tilemapLayer&&(F*=m.tilemapLayer.scaleX,I*=m.tilemapLayer.scaleY);for(var L=[],B=new a.Rectangle(0,0,F,I),G=0;G<D.length;G++){var V=D[G];m.tilemapLayer.tileToWorldXY(V.x,V.y,l,p),B.x=l.x,B.y=l.y,y(c,B)&&L.push(V)}return L};o.exports=f},96523:(o,g,t)=>{var a=t(7386),v=t(26099),h=new v,s=new v,r=function(e,n,l,i,u,f,c){var d=c.tilemapLayer.tilemap._convert.WorldToTileXY;d(e,n,!0,h,f,c);var p=h.x,m=h.y;d(e+l,n+i,!1,s,f,c);var y=Math.ceil(s.x),x=Math.ceil(s.y);return a(p,m,y-p,x-m,u,c)};o.exports=r},96113:(o,g,t)=>{var a=t(91907),v=t(20242),h=t(10095),s=function(r){return r===a.ORTHOGONAL?h:v};o.exports=s},16926:(o,g,t)=>{var a=t(91907),v=t(86625),h=t(96897),s=t(29747),r=t(15108),e=t(85896),n=function(l){return l===a.ORTHOGONAL?e:l===a.ISOMETRIC?h:l===a.HEXAGONAL?v:l===a.STAGGERED?r:s};o.exports=n},55762:(o,g,t)=>{var a=t(91907),v=t(20242),h=t(51900),s=t(63288),r=function(e){return e===a.ORTHOGONAL?s:e===a.STAGGERED?h:v};o.exports=r},45091:(o,g,t)=>{var a=t(62991),v=function(h,s,r){if(a(h,s,r)){var e=r.data[s][h];return e!==null&&e.index>-1}else return!1};o.exports=v},24152:(o,g,t)=>{var a=t(45091),v=t(26099),h=new v,s=function(r,e,n,l){l.tilemapLayer.worldToTileXY(r,e,!0,h,n);var i=h.x,u=h.y;return a(i,u,l)};o.exports=s},90454:(o,g,t)=>{var a=t(63448),v=t(56583),h=function(s,r){var e=s.tilemapLayer.tilemap,n=s.tilemapLayer,l=Math.floor(e.tileWidth*n.scaleX),i=Math.floor(e.tileHeight*n.scaleY),u=s.hexSideLength,f,c,d,p;if(s.staggerAxis==="y"){var m=(i-u)/2+u;f=v(r.worldView.x-n.x,l,0,!0)-n.cullPaddingX,c=a(r.worldView.right-n.x,l,0,!0)+n.cullPaddingX,d=v(r.worldView.y-n.y,m,0,!0)-n.cullPaddingY,p=a(r.worldView.bottom-n.y,m,0,!0)+n.cullPaddingY}else{var y=(l-u)/2+u;f=v(r.worldView.x-n.x,y,0,!0)-n.cullPaddingX,c=a(r.worldView.right-n.x,y,0,!0)+n.cullPaddingX,d=v(r.worldView.y-n.y,i,0,!0)-n.cullPaddingY,p=a(r.worldView.bottom-n.y,i,0,!0)+n.cullPaddingY}return{left:f,right:c,top:d,bottom:p}};o.exports=h},9474:(o,g,t)=>{var a=t(90454),v=t(32483),h=function(s,r,e,n){e===void 0&&(e=[]),n===void 0&&(n=0),e.length=0;var l=s.tilemapLayer,i=a(s,r);return l.skipCull&&l.scrollFactorX===1&&l.scrollFactorY===1&&(i.left=0,i.right=s.width,i.top=0,i.bottom=s.height),v(s,i,n,e),e};o.exports=h},27229:(o,g,t)=>{var a=t(19951),v=t(26099),h=new v,s=function(r,e,n,l){var i=l.baseTileWidth,u=l.baseTileHeight,f=l.tilemapLayer;f&&(i*=f.scaleX,u*=f.scaleY);var c=a(r,e,h,n,l),d=[],p=.5773502691896257,m,y;l.staggerAxis==="y"?(m=p*i,y=u/2):(m=i/2,y=p*u);for(var x=0;x<6;x++){var C=2*Math.PI*(.5-x)/6;d.push(new v(c.x+m*Math.cos(C),c.y+y*Math.sin(C)))}return d};o.exports=s},19951:(o,g,t)=>{var a=t(26099),v=function(h,s,r,e,n){r||(r=new a);var l=n.baseTileWidth,i=n.baseTileHeight,u=n.tilemapLayer,f=0,c=0;u&&(e||(e=u.scene.cameras.main),f=u.x+e.scrollX*(1-u.scrollFactorX),c=u.y+e.scrollY*(1-u.scrollFactorY),l*=u.scaleX,i*=u.scaleY);var d=l/2,p=i/2,m,y,x=n.staggerAxis,C=n.staggerIndex;return x==="y"?(m=f+l*h+l,y=c+1.5*s*p+p,s%2===0&&(C==="odd"?m-=d:m+=d)):x==="x"&&C==="odd"&&(m=f+1.5*h*d+d,y=c+i*h+i,h%2===0&&(C==="odd"?y-=p:y+=p)),r.set(m,y)};o.exports=v},86625:(o,g,t)=>{var a=t(26099),v=function(h,s,r,e,n,l){e||(e=new a);var i=l.baseTileWidth,u=l.baseTileHeight,f=l.tilemapLayer;f&&(n||(n=f.scene.cameras.main),h=h-(f.x+n.scrollX*(1-f.scrollFactorX)),s=s-(f.y+n.scrollY*(1-f.scrollFactorY)),i*=f.scaleX,u*=f.scaleY);var c=.5773502691896257,d=-.3333333333333333,p=0,m=.6666666666666666,y=i/2,x=u/2,C,E,R,M,w;l.staggerAxis==="y"?(C=(h-y)/(c*i),E=(s-x)/x,R=c*C+d*E,M=p*C+m*E):(C=(h-y)/y,E=(s-x)/(c*u),R=d*C+c*E,M=m*C+p*E),w=-R-M;var D=Math.round(R),F=Math.round(M),I=Math.round(w),L=Math.abs(D-R),B=Math.abs(F-M),G=Math.abs(I-w);L>B&&L>G?D=-F-I:B>G&&(F=-D-I);var V,X=F;return l.staggerIndex==="odd"?V=X%2===0?F/2+D:F/2+D-.5:V=X%2===0?F/2+D:F/2+D+.5,e.set(V,X)};o.exports=v},62991:o=>{var g=function(t,a,v){return t>=0&&t<v.width&&a>=0&&a<v.height};o.exports=g},14018:(o,g,t)=>{var a=t(33528),v=function(h,s,r,e){r===void 0&&(r=[]),e===void 0&&(e=0),r.length=0;var n=h.tilemapLayer,l=h.data,i=h.width,u=h.height,f=n.skipCull,c=0,d=i,p=0,m=u,y,x,C;if(e===0)for(x=p;x<m;x++)for(y=c;y<d;y++)C=l[x][y],!(!C||C.index===-1||!C.visible||C.alpha===0)&&(!f&&!a(y,x,h,s)||r.push(C));else if(e===1)for(x=p;x<m;x++)for(y=d;y>=c;y--)C=l[x][y],!(!C||C.index===-1||!C.visible||C.alpha===0)&&(!f&&!a(y,x,h,s)||r.push(C));else if(e===2)for(x=m;x>=p;x--)for(y=c;y<d;y++)C=l[x][y],!(!C||C.index===-1||!C.visible||C.alpha===0)&&(!f&&!a(y,x,h,s)||r.push(C));else if(e===3)for(x=m;x>=p;x--)for(y=d;y>=c;y--)C=l[x][y],!(!C||C.index===-1||!C.visible||C.alpha===0)&&(!f&&!a(y,x,h,s)||r.push(C));return n.tilesDrawn=r.length,n.tilesTotal=i*u,r};o.exports=v},14127:(o,g,t)=>{var a=t(26099),v=function(h,s,r,e,n){r||(r=new a);var l=n.baseTileWidth,i=n.baseTileHeight,u=n.tilemapLayer,f=0,c=0;u&&(e||(e=u.scene.cameras.main),f=u.x+e.scrollX*(1-u.scrollFactorX),l*=u.scaleX,c=u.y+e.scrollY*(1-u.scrollFactorY),i*=u.scaleY);var d=f+(h-s)*(l/2),p=c+(h+s)*(i/2);return r.set(d,p)};o.exports=v},96897:(o,g,t)=>{var a=t(26099),v=function(h,s,r,e,n,l,i){e||(e=new a);var u=l.baseTileWidth,f=l.baseTileHeight,c=l.tilemapLayer;c&&(n||(n=c.scene.cameras.main),s=s-(c.y+n.scrollY*(1-c.scrollFactorY)),f*=c.scaleY,h=h-(c.x+n.scrollX*(1-c.scrollFactorX)),u*=c.scaleX);var d=u/2,p=f/2;h=h-d,i||(s=s-f);var m=.5*(h/d+s/p),y=.5*(-h/d+s/p);return r&&(m=Math.floor(m),y=Math.floor(y)),e.set(m,y)};o.exports=v},71558:(o,g,t)=>{var a=t(23029),v=t(62991),h=t(72023),s=t(20576),r=function(e,n,l,i,u){if(i===void 0&&(i=!0),!v(n,l,u))return null;var f,c=u.data[l][n],d=c&&c.collides;e instanceof a?(u.data[l][n]===null&&(u.data[l][n]=new a(u,e.index,n,l,u.tileWidth,u.tileHeight)),u.data[l][n].copy(e)):(f=e,u.data[l][n]===null?u.data[l][n]=new a(u,f,n,l,u.tileWidth,u.tileHeight):u.data[l][n].index=f);var p=u.data[l][n],m=u.collideIndexes.indexOf(p.index)!==-1;if(f=e instanceof a?e.index:e,f===-1)p.width=u.tileWidth,p.height=u.tileHeight;else{var y=u.tilemapLayer.tilemap,x=y.tiles,C=x[f][2],E=y.tilesets[C];p.width=E.tileWidth,p.height=E.tileHeight}return s(p,m),i&&d!==p.collides&&h(n,l,u),p};o.exports=r},26303:(o,g,t)=>{var a=t(71558),v=t(26099),h=new v,s=function(r,e,n,l,i,u){return u.tilemapLayer.worldToTileXY(e,n,!0,h,i,u),a(r,h.x,h.y,l,u)};o.exports=s},14051:(o,g,t)=>{var a=t(42573),v=t(71558),h=function(s,r,e,n,l){if(n===void 0&&(n=!0),!Array.isArray(s))return null;Array.isArray(s[0])||(s=[s]);for(var i=s.length,u=s[0].length,f=0;f<i;f++)for(var c=0;c<u;c++){var d=s[f][c];v(d,r+c,e+f,!1,l)}n&&a(r-1,e-1,u+2,i+2,l)};o.exports=h},77389:(o,g,t)=>{var a=t(7386),v=t(26546),h=function(s,r,e,n,l,i){var u,f=a(s,r,e,n,{},i);if(!l)for(l=[],u=0;u<f.length;u++)l.indexOf(f[u].index)===-1&&l.push(f[u].index);for(u=0;u<f.length;u++)f[u].index=v(l)};o.exports=h},63557:(o,g,t)=>{var a=t(23029),v=t(62991),h=t(72023),s=function(r,e,n,l,i){if(n===void 0&&(n=!0),l===void 0&&(l=!0),!v(r,e,i))return null;var u=i.data[e][r];if(u)i.data[e][r]=n?null:new a(i,-1,r,e,i.tileWidth,i.tileHeight);else return null;return l&&u&&u.collides&&h(r,e,i),u};o.exports=s},94178:(o,g,t)=>{var a=t(63557),v=t(26099),h=new v,s=function(r,e,n,l,i,u){return u.tilemapLayer.worldToTileXY(r,e,!0,h,i,u),a(h.x,h.y,n,l,u)};o.exports=s},15533:(o,g,t)=>{var a=t(7386),v=t(3956),h=new v(105,210,231,150),s=new v(243,134,48,200),r=new v(40,39,37,150),e=function(n,l,i){l===void 0&&(l={});var u=l.tileColor!==void 0?l.tileColor:h,f=l.collidingTileColor!==void 0?l.collidingTileColor:s,c=l.faceColor!==void 0?l.faceColor:r,d=a(0,0,i.width,i.height,null,i);n.translateCanvas(i.tilemapLayer.x,i.tilemapLayer.y),n.scaleCanvas(i.tilemapLayer.scaleX,i.tilemapLayer.scaleY);for(var p=0;p<d.length;p++){var m=d[p],y=m.tileset?m.tileset.tileOffset:{x:0,y:0},x=m.width,C=m.height,E=m.pixelX-y.x,R=m.pixelY-y.y,M=m.collides?f:u;M!==null&&(n.fillStyle(M.color,M.alpha/255),n.fillRect(E,R,x,C)),E+=1,R+=1,x-=2,C-=2,c!==null&&(n.lineStyle(1,c.color,c.alpha/255),m.faceTop&&n.lineBetween(E,R,E+x,R),m.faceRight&&n.lineBetween(E+x,R,E+x,R+C),m.faceBottom&&n.lineBetween(E,R+C,E+x,R+C),m.faceLeft&&n.lineBetween(E,R,E,R+C))}};o.exports=e},27987:(o,g,t)=>{var a=t(7386),v=function(h,s,r,e,n,l,i){for(var u=a(r,e,n,l,null,i),f=0;f<u.length;f++)u[f]&&u[f].index===h&&(u[f].index=s)};o.exports=v},32483:o=>{var g=function(t,a,v,h){var s=t.data,r=t.width,e=t.height,n=t.tilemapLayer,l=Math.max(0,a.left),i=Math.min(r,a.right),u=Math.max(0,a.top),f=Math.min(e,a.bottom),c,d,p;if(v===0)for(d=u;d<f;d++)for(c=l;s[d]&&c<i;c++)p=s[d][c],!(!p||p.index===-1||!p.visible||p.alpha===0)&&h.push(p);else if(v===1)for(d=u;d<f;d++)for(c=i;s[d]&&c>=l;c--)p=s[d][c],!(!p||p.index===-1||!p.visible||p.alpha===0)&&h.push(p);else if(v===2)for(d=f;d>=u;d--)for(c=l;s[d]&&c<i;c++)p=s[d][c],!(!p||p.index===-1||!p.visible||p.alpha===0)&&h.push(p);else if(v===3)for(d=f;d>=u;d--)for(c=i;s[d]&&c>=l;c--)p=s[d][c],!(!p||p.index===-1||!p.visible||p.alpha===0)&&h.push(p);return n.tilesDrawn=h.length,n.tilesTotal=r*e,h};o.exports=g},57068:(o,g,t)=>{var a=t(20576),v=t(42573),h=t(9589),s=function(r,e,n,l,i){e===void 0&&(e=!0),n===void 0&&(n=!0),i===void 0&&(i=!0),Array.isArray(r)||(r=[r]);for(var u=0;u<r.length;u++)h(r[u],e,l);if(i)for(var f=0;f<l.height;f++)for(var c=0;c<l.width;c++){var d=l.data[f][c];d&&r.indexOf(d.index)!==-1&&a(d,e)}n&&v(0,0,l.width,l.height,l)};o.exports=s},37266:(o,g,t)=>{var a=t(20576),v=t(42573),h=t(9589),s=function(r,e,n,l,i,u){if(n===void 0&&(n=!0),l===void 0&&(l=!0),u===void 0&&(u=!0),!(r>e)){for(var f=r;f<=e;f++)h(f,n,i);if(u)for(var c=0;c<i.height;c++)for(var d=0;d<i.width;d++){var p=i.data[c][d];p&&p.index>=r&&p.index<=e&&a(p,n)}l&&v(0,0,i.width,i.height,i)}};o.exports=s},75661:(o,g,t)=>{var a=t(20576),v=t(42573),h=t(9589),s=function(r,e,n,l){e===void 0&&(e=!0),n===void 0&&(n=!0),Array.isArray(r)||(r=[r]);for(var i=0;i<l.height;i++)for(var u=0;u<l.width;u++){var f=l.data[i][u];f&&r.indexOf(f.index)===-1&&(a(f,e),h(f.index,e,l))}n&&v(0,0,l.width,l.height,l)};o.exports=s},64740:(o,g,t)=>{var a=t(20576),v=t(42573),h=t(97022),s=function(r,e,n,l){e===void 0&&(e=!0),n===void 0&&(n=!0);for(var i=0;i<l.height;i++)for(var u=0;u<l.width;u++){var f=l.data[i][u];if(f){for(var c in r)if(h(f.properties,c)){var d=r[c];Array.isArray(d)||(d=[d]);for(var p=0;p<d.length;p++)f.properties[c]===d[p]&&a(f,e)}}}n&&v(0,0,l.width,l.height,l)};o.exports=s},63307:(o,g,t)=>{var a=t(20576),v=t(42573),h=function(s,r,e){s===void 0&&(s=!0),r===void 0&&(r=!0);for(var n=0;n<e.height;n++)for(var l=0;l<e.width;l++){var i=e.data[n][l];if(i){var u=i.getCollisionGroup();u&&u.objects&&u.objects.length>0&&a(i,s)}}r&&v(0,0,e.width,e.height,e)};o.exports=h},9589:o=>{var g=function(t,a,v){var h=v.collideIndexes.indexOf(t);a&&h===-1?v.collideIndexes.push(t):!a&&h!==-1&&v.collideIndexes.splice(h,1)};o.exports=g},20576:o=>{var g=function(t,a){a?t.setCollision(!0,!0,!0,!0,!1):t.resetCollision(!1)};o.exports=g},79583:o=>{var g=function(t,a,v,h){if(typeof t=="number")h.callbacks[t]=a!==null?{callback:a,callbackContext:v}:void 0;else for(var s=0,r=t.length;s<r;s++)h.callbacks[t[s]]=a!==null?{callback:a,callbackContext:v}:void 0};o.exports=g},93254:(o,g,t)=>{var a=t(7386),v=function(h,s,r,e,n,l,i){for(var u=a(h,s,r,e,null,i),f=0;f<u.length;f++)u[f].setCollisionCallback(n,l)};o.exports=v},32903:(o,g,t)=>{var a=t(7386),v=t(33680),h=function(s,r,e,n,l){var i=a(s,r,e,n,null,l),u=i.map(function(c){return c.index});v(u);for(var f=0;f<i.length;f++)i[f].index=u[f]};o.exports=h},61325:(o,g,t)=>{var a=t(63448),v=t(56583),h=function(s,r){var e=s.tilemapLayer.tilemap,n=s.tilemapLayer,l=Math.floor(e.tileWidth*n.scaleX),i=Math.floor(e.tileHeight*n.scaleY),u=v(r.worldView.x-n.x,l,0,!0)-n.cullPaddingX,f=a(r.worldView.right-n.x,l,0,!0)+n.cullPaddingX,c=v(r.worldView.y-n.y,i/2,0,!0)-n.cullPaddingY,d=a(r.worldView.bottom-n.y,i/2,0,!0)+n.cullPaddingY;return{left:u,right:f,top:c,bottom:d}};o.exports=h},54503:(o,g,t)=>{var a=t(61325),v=t(32483),h=function(s,r,e,n){e===void 0&&(e=[]),n===void 0&&(n=0),e.length=0;var l=s.tilemapLayer,i=a(s,r);return l.skipCull&&l.scrollFactorX===1&&l.scrollFactorY===1&&(i.left=0,i.right=s.width,i.top=0,i.bottom=s.height),v(s,i,n,e),e};o.exports=h},97202:(o,g,t)=>{var a=t(26099),v=function(h,s,r,e,n){r||(r=new a);var l=n.baseTileWidth,i=n.baseTileHeight,u=n.tilemapLayer,f=0,c=0;u&&(e||(e=u.scene.cameras.main),f=u.x+e.scrollX*(1-u.scrollFactorX),l*=u.scaleX,c=u.y+e.scrollY*(1-u.scrollFactorY),i*=u.scaleY);var d=f+h*l+s%2*(l/2),p=c+s*(i/2);return r.set(d,p)};o.exports=v},28054:o=>{var g=function(t,a,v){var h=v.baseTileHeight,s=v.tilemapLayer,r=0;return s&&(a===void 0&&(a=s.scene.cameras.main),r=s.y+a.scrollY*(1-s.scrollFactorY),h*=s.scaleY),r+t*(h/2)+h};o.exports=g},15108:(o,g,t)=>{var a=t(26099),v=function(h,s,r,e,n,l){e||(e=new a);var i=l.baseTileWidth,u=l.baseTileHeight,f=l.tilemapLayer;f&&(n||(n=f.scene.cameras.main),s=s-(f.y+n.scrollY*(1-f.scrollFactorY)),u*=f.scaleY,h=h-(f.x+n.scrollX*(1-f.scrollFactorX)),i*=f.scaleX);var c=r?Math.floor(s/(u/2)):s/(u/2),d=r?Math.floor((h+c%2*.5*i)/i):(h+c%2*.5*i)/i;return e.set(d,c)};o.exports=v},51900:o=>{var g=function(t,a,v,h){var s=h.baseTileHeight,r=h.tilemapLayer;return r&&(v||(v=r.scene.cameras.main),t=t-(r.y+v.scrollY*(1-r.scrollFactorY)),s*=r.scaleY),a?Math.floor(t/(s/2)):t/(s/2)};o.exports=g},86560:(o,g,t)=>{var a=t(7386),v=function(h,s,r,e,n,l,i){for(var u=a(r,e,n,l,null,i),f=0;f<u.length;f++)u[f]&&(u[f].index===h?u[f].index=s:u[f].index===s&&(u[f].index=h))};o.exports=v},97281:o=>{var g=function(t,a,v){var h=v.baseTileWidth,s=v.tilemapLayer,r=0;return s&&(a||(a=s.scene.cameras.main),r=s.x+a.scrollX*(1-s.scrollFactorX),h*=s.scaleX),r+t*h};o.exports=g},70326:(o,g,t)=>{var a=t(97281),v=t(29650),h=t(26099),s=function(r,e,n,l,i){return n||(n=new h(0,0)),n.x=a(r,l,i),n.y=v(e,l,i),n};o.exports=s},29650:o=>{var g=function(t,a,v){var h=v.baseTileHeight,s=v.tilemapLayer,r=0;return s&&(a||(a=s.scene.cameras.main),r=s.y+a.scrollY*(1-s.scrollFactorY),h*=s.scaleY),r+t*h};o.exports=g},77366:(o,g,t)=>{var a=t(7386),v=t(75508),h=function(s,r,e,n,l,i){if(l){var u,f=a(s,r,e,n,null,i),c=0;for(u=0;u<l.length;u++)c+=l[u].weight;if(!(c<=0))for(u=0;u<f.length;u++){for(var d=v.RND.frac()*c,p=0,m=-1,y=0;y<l.length;y++)if(p+=l[y].weight,d<=p){var x=l[y].index;m=Array.isArray(x)?x[Math.floor(v.RND.frac()*x.length)]:x;break}f[u].index=m}}};o.exports=h},10095:(o,g,t)=>{var a=t(85896),v=t(26099),h=new v,s=function(r,e,n,l){return a(r,0,e,h,n,l),h.x};o.exports=s},85896:(o,g,t)=>{var a=t(26099),v=function(h,s,r,e,n,l){r===void 0&&(r=!0),e||(e=new a);var i=l.baseTileWidth,u=l.baseTileHeight,f=l.tilemapLayer;f&&(n||(n=f.scene.cameras.main),h=h-(f.x+n.scrollX*(1-f.scrollFactorX)),s=s-(f.y+n.scrollY*(1-f.scrollFactorY)),i*=f.scaleX,u*=f.scaleY);var c=h/i,d=s/u;return r&&(c=Math.floor(c),d=Math.floor(d)),e.set(c,d)};o.exports=v},63288:(o,g,t)=>{var a=t(85896),v=t(26099),h=new v,s=function(r,e,n,l){return a(0,r,e,h,n,l),h.y};o.exports=s},81086:(o,g,t)=>{o.exports={CalculateFacesAt:t(72023),CalculateFacesWithin:t(42573),CheckIsoBounds:t(33528),Copy:t(1785),CreateFromTiles:t(78419),CullBounds:t(19545),CullTiles:t(30003),Fill:t(35137),FilterTiles:t(40253),FindByIndex:t(52692),FindTile:t(66151),ForEachTile:t(97560),GetCullTilesFunction:t(43305),GetTileAt:t(7423),GetTileAtWorldXY:t(60540),GetTileCorners:t(55826),GetTileCornersFunction:t(11758),GetTilesWithin:t(7386),GetTilesWithinShape:t(91141),GetTilesWithinWorldXY:t(96523),GetTileToWorldXFunction:t(39167),GetTileToWorldXYFunction:t(62e3),GetTileToWorldYFunction:t(5984),GetWorldToTileXFunction:t(96113),GetWorldToTileXYFunction:t(16926),GetWorldToTileYFunction:t(55762),HasTileAt:t(45091),HasTileAtWorldXY:t(24152),HexagonalCullBounds:t(90454),HexagonalCullTiles:t(9474),HexagonalGetTileCorners:t(27229),HexagonalTileToWorldXY:t(19951),HexagonalWorldToTileXY:t(86625),IsInLayerBounds:t(62991),IsometricCullTiles:t(14018),IsometricTileToWorldXY:t(14127),IsometricWorldToTileXY:t(96897),PutTileAt:t(71558),PutTileAtWorldXY:t(26303),PutTilesAt:t(14051),Randomize:t(77389),RemoveTileAt:t(63557),RemoveTileAtWorldXY:t(94178),RenderDebug:t(15533),ReplaceByIndex:t(27987),RunCull:t(32483),SetCollision:t(57068),SetCollisionBetween:t(37266),SetCollisionByExclusion:t(75661),SetCollisionByProperty:t(64740),SetCollisionFromCollisionGroup:t(63307),SetLayerCollisionIndex:t(9589),SetTileCollision:t(20576),SetTileIndexCallback:t(79583),SetTileLocationCallback:t(93254),Shuffle:t(32903),StaggeredCullBounds:t(61325),StaggeredCullTiles:t(54503),StaggeredTileToWorldXY:t(97202),StaggeredTileToWorldY:t(28054),StaggeredWorldToTileXY:t(15108),StaggeredWorldToTileY:t(51900),SwapByIndex:t(86560),TileToWorldX:t(97281),TileToWorldXY:t(70326),TileToWorldY:t(29650),WeightedRandomize:t(77366),WorldToTileX:t(10095),WorldToTileXY:t(85896),WorldToTileY:t(63288)}},91907:o=>{o.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(o,g,t)=>{var a={ORIENTATION:t(91907)};o.exports=a},62501:(o,g,t)=>{var a=t(79291),v=t(21829),h={Components:t(81086),Parsers:t(57442),Formats:t(80341),ImageCollection:t(16536),ParseToTilemap:t(31989),Tile:t(23029),Tilemap:t(49075),TilemapCreator:t(45939),TilemapFactory:t(46029),Tileset:t(33629),TilemapLayer:t(20442),Orientation:t(91907),LayerData:t(14977),MapData:t(87010),ObjectLayer:t(48700)};h=a(!1,h,v.ORIENTATION),o.exports=h},14977:(o,g,t)=>{var a=t(83419),v=t(91907),h=t(95540),s=new a({initialize:function(e){e===void 0&&(e={}),this.name=h(e,"name","layer"),this.id=h(e,"id",0),this.x=h(e,"x",0),this.y=h(e,"y",0),this.width=h(e,"width",0),this.height=h(e,"height",0),this.tileWidth=h(e,"tileWidth",0),this.tileHeight=h(e,"tileHeight",0),this.baseTileWidth=h(e,"baseTileWidth",this.tileWidth),this.baseTileHeight=h(e,"baseTileHeight",this.tileHeight),this.orientation=h(e,"orientation",v.ORTHOGONAL),this.widthInPixels=h(e,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=h(e,"heightInPixels",this.height*this.baseTileHeight),this.alpha=h(e,"alpha",1),this.visible=h(e,"visible",!0),this.properties=h(e,"properties",[]),this.indexes=h(e,"indexes",[]),this.collideIndexes=h(e,"collideIndexes",[]),this.callbacks=h(e,"callbacks",[]),this.bodies=h(e,"bodies",[]),this.data=h(e,"data",[]),this.tilemapLayer=h(e,"tilemapLayer",null),this.hexSideLength=h(e,"hexSideLength",0),this.staggerAxis=h(e,"staggerAxis","y"),this.staggerIndex=h(e,"staggerIndex","odd")}});o.exports=s},87010:(o,g,t)=>{var a=t(83419),v=t(91907),h=t(95540),s=new a({initialize:function(e){e===void 0&&(e={}),this.name=h(e,"name","map"),this.width=h(e,"width",0),this.height=h(e,"height",0),this.infinite=h(e,"infinite",!1),this.tileWidth=h(e,"tileWidth",0),this.tileHeight=h(e,"tileHeight",0),this.widthInPixels=h(e,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=h(e,"heightInPixels",this.height*this.tileHeight),this.format=h(e,"format",null),this.orientation=h(e,"orientation",v.ORTHOGONAL),this.renderOrder=h(e,"renderOrder","right-down"),this.version=h(e,"version","1"),this.properties=h(e,"properties",{}),this.layers=h(e,"layers",[]),this.images=h(e,"images",[]),this.objects=h(e,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=h(e,"collision",{}),this.tilesets=h(e,"tilesets",[]),this.imageCollections=h(e,"imageCollections",[]),this.tiles=h(e,"tiles",[]),this.hexSideLength=h(e,"hexSideLength",0),this.staggerAxis=h(e,"staggerAxis","y"),this.staggerIndex=h(e,"staggerIndex","odd")}});o.exports=s},48700:(o,g,t)=>{var a=t(83419),v=t(95540),h=new a({initialize:function(r){r===void 0&&(r={}),this.name=v(r,"name","object layer"),this.id=v(r,"id",0),this.opacity=v(r,"opacity",1),this.properties=v(r,"properties",{}),this.propertyTypes=v(r,"propertytypes",{}),this.type=v(r,"type","objectgroup"),this.visible=v(r,"visible",!0),this.objects=v(r,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});o.exports=h},6641:(o,g,t)=>{var a=t(91907),v=function(h){return h=h.toLowerCase(),h==="isometric"?a.ISOMETRIC:h==="staggered"?a.STAGGERED:h==="hexagonal"?a.HEXAGONAL:a.ORTHOGONAL};o.exports=v},46177:(o,g,t)=>{var a=t(80341),v=t(2342),h=t(82593),s=t(46594),r=t(87021),e=function(n,l,i,u,f,c){var d;switch(l){case a.ARRAY_2D:d=v(n,i,u,f,c);break;case a.CSV:d=h(n,i,u,f,c);break;case a.TILED_JSON:d=s(n,i,c);break;case a.WELTMEISTER:d=r(n,i,c);break;default:console.warn("Unrecognized tilemap data format: "+l),d=null}return d};o.exports=e},2342:(o,g,t)=>{var a=t(80341),v=t(14977),h=t(87010),s=t(23029),r=function(e,n,l,i,u){for(var f=new v({tileWidth:l,tileHeight:i}),c=new h({name:e,tileWidth:l,tileHeight:i,format:a.ARRAY_2D,layers:[f]}),d=[],p=n.length,m=0,y=0;y<n.length;y++){d[y]=[];for(var x=n[y],C=0;C<x.length;C++){var E=parseInt(x[C],10);isNaN(E)||E===-1?d[y][C]=u?null:new s(f,-1,C,y,l,i):d[y][C]=new s(f,E,C,y,l,i)}m===0&&(m=x.length)}return c.width=f.width=m,c.height=f.height=p,c.widthInPixels=f.widthInPixels=m*l,c.heightInPixels=f.heightInPixels=p*i,f.data=d,c};o.exports=r},82593:(o,g,t)=>{var a=t(80341),v=t(2342),h=function(s,r,e,n,l){var i=r.trim().split(`
`).map(function(f){return f.split(",")}),u=v(s,i,e,n,l);return u.format=a.CSV,u};o.exports=h},6656:(o,g,t)=>{var a=t(14977),v=t(23029),h=function(s,r){for(var e=[],n=0;n<s.layer.length;n++){for(var l=s.layer[n],i=new a({name:l.name,width:l.width,height:l.height,tileWidth:l.tilesize,tileHeight:l.tilesize,visible:l.visible===1}),u=[],f=[],c=0;c<l.data.length;c++){for(var d=0;d<l.data[c].length;d++){var p=l.data[c][d]-1,m;p>-1?m=new v(i,p,d,c,l.tilesize,l.tilesize):m=r?null:new v(i,-1,d,c,l.tilesize,l.tilesize),u.push(m)}f.push(u),u=[]}i.data=f,e.push(i)}return e};o.exports=h},96483:(o,g,t)=>{var a=t(33629),v=function(h){for(var s=[],r=[],e=0;e<h.layer.length;e++){var n=h.layer[e],l=n.tilesetName;l!==""&&r.indexOf(l)===-1&&(r.push(l),s.push(new a(l,0,n.tilesize,n.tilesize,0,0)))}return s};o.exports=v},87021:(o,g,t)=>{var a=t(80341),v=t(87010),h=t(6656),s=t(96483),r=function(e,n,l){if(n.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+e),null;for(var i=0,u=0,f=0;f<n.layer.length;f++)n.layer[f].width>i&&(i=n.layer[f].width),n.layer[f].height>u&&(u=n.layer[f].height);var c=new v({width:i,height:u,name:e,tileWidth:n.layer[0].tilesize,tileHeight:n.layer[0].tilesize,format:a.WELTMEISTER});return c.layers=h(n,l),c.tilesets=s(n),c};o.exports=r},52833:(o,g,t)=>{o.exports={ParseTileLayers:t(6656),ParseTilesets:t(96483),ParseWeltmeister:t(87021)}},57442:(o,g,t)=>{o.exports={FromOrientationString:t(6641),Parse:t(46177),Parse2DArray:t(2342),ParseCSV:t(82593),Impact:t(52833),Tiled:t(96761)}},51233:(o,g,t)=>{var a=t(79291),v=function(h){for(var s,r,e,n,l,i=0;i<h.layers.length;i++){s=h.layers[i],n=null;for(var u=0;u<s.data.length;u++){l=s.data[u];for(var f=0;f<l.length;f++)r=l[f],!(r===null||r.index<0)&&(e=h.tiles[r.index][2],n=h.tilesets[e],r.width=n.tileWidth,r.height=n.tileHeight,n.tileProperties&&n.tileProperties[r.index-n.firstgid]&&(r.properties=a(r.properties,n.tileProperties[r.index-n.firstgid])))}}};o.exports=v},41868:o=>{var g=function(t){for(var a=window.atob(t),v=a.length,h=new Array(v/4),s=0;s<v;s+=4)h[s/4]=(a.charCodeAt(s)|a.charCodeAt(s+1)<<8|a.charCodeAt(s+2)<<16|a.charCodeAt(s+3)<<24)>>>0;return h};o.exports=g},84101:(o,g,t)=>{var a=t(33629),v=function(h){var s,r,e=[];for(s=0;s<h.imageCollections.length;s++)for(var n=h.imageCollections[s],l=n.images,i=0;i<l.length;i++){var u=l[i],f={x:0,y:u.height-h.tileHeight};r=new a(u.image,u.gid,u.width,u.height,0,0,void 0,void 0,f),r.updateTileData(u.width,u.height),h.tilesets.push(r)}for(s=0;s<h.tilesets.length;s++){r=h.tilesets[s];for(var c=r.tileMargin,d=r.tileMargin,p=0,m=0,y=0,x=r.firstgid;x<r.firstgid+r.total&&(e[x]=[c,d,s],c+=r.tileWidth+r.tileSpacing,p++,!(p===r.total||(m++,m===r.columns&&(c=r.tileMargin,d+=r.tileHeight+r.tileSpacing,m=0,y++,y===r.rows))));x++);}return e};o.exports=v},79677:(o,g,t)=>{var a=t(95540),v=function(h,s,r){if(!s)return{i:0,layers:h.layers,name:"",opacity:1,visible:!0,x:0,y:0};var e=s.x+a(s,"startx",0)*h.tilewidth+a(s,"offsetx",0),n=s.y+a(s,"starty",0)*h.tileheight+a(s,"offsety",0);return{i:0,layers:s.layers,name:r.name+s.name+"/",opacity:r.opacity*s.opacity,visible:r.visible&&s.visible,x:r.x+e,y:r.y+n}};o.exports=v},29920:o=>{var g=2147483648,t=1073741824,a=536870912,v=function(h){var s=!!(h&g),r=!!(h&t),e=!!(h&a);h=h&~(g|t|a);var n=0,l=!1;return s&&r&&e?(n=Math.PI/2,l=!0):s&&r&&!e?(n=Math.PI,l=!1):s&&!r&&e?(n=Math.PI/2,l=!1):s&&!r&&!e?(n=0,l=!0):!s&&r&&e?(n=3*Math.PI/2,l=!1):!s&&r&&!e?(n=Math.PI,l=!0):!s&&!r&&e?(n=3*Math.PI/2,l=!0):!s&&!r&&!e&&(n=0,l=!1),{gid:h,flippedHorizontal:s,flippedVertical:r,flippedAntiDiagonal:e,rotation:n,flipped:l}};o.exports=v},12635:(o,g,t)=>{var a=t(95540),v=t(79677),h=function(s){for(var r=[],e=[],n=v(s);n.i<n.layers.length||e.length>0;){if(n.i>=n.layers.length){if(e.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}n=e.pop();continue}var l=n.layers[n.i];if(n.i++,l.type!=="imagelayer"){if(l.type==="group"){var i=v(s,l,n);e.push(n),n=i}continue}var u=a(l,"offsetx",0)+a(l,"startx",0),f=a(l,"offsety",0)+a(l,"starty",0);r.push({name:n.name+l.name,image:l.image,x:n.x+u+l.x,y:n.y+f+l.y,alpha:n.opacity*l.opacity,visible:n.visible&&l.visible,properties:a(l,"properties",{})})}return r};o.exports=h},46594:(o,g,t)=>{var a=t(51233),v=t(84101),h=t(91907),s=t(62644),r=t(80341),e=t(6641),n=t(87010),l=t(12635),i=t(22611),u=t(28200),f=t(24619),c=function(d,p,m){var y=s(p),x=new n({width:y.width,height:y.height,name:d,tileWidth:y.tilewidth,tileHeight:y.tileheight,orientation:e(y.orientation),format:r.TILED_JSON,version:y.version,properties:y.properties,renderOrder:y.renderorder,infinite:y.infinite});if(x.orientation===h.HEXAGONAL)if(x.hexSideLength=y.hexsidelength,x.staggerAxis=y.staggeraxis,x.staggerIndex=y.staggerindex,x.staggerAxis==="y"){var C=(x.tileHeight-x.hexSideLength)/2;x.widthInPixels=x.tileWidth*(x.width+.5),x.heightInPixels=x.height*(x.hexSideLength+C)+C}else{var E=(x.tileWidth-x.hexSideLength)/2;x.widthInPixels=x.width*(x.hexSideLength+E)+E,x.heightInPixels=x.tileHeight*(x.height+.5)}x.layers=u(y,m),x.images=l(y);var R=f(y);return x.tilesets=R.tilesets,x.imageCollections=R.imageCollections,x.objects=i(y),x.tiles=v(x),a(x),x};o.exports=c},52205:(o,g,t)=>{var a=t(18254),v=t(29920),h=function(e){return{x:e.x,y:e.y}},s=["id","name","type","rotation","properties","visible","x","y","width","height"],r=function(e,n,l){n===void 0&&(n=0),l===void 0&&(l=0);var i=a(e,s);if(i.x+=n,i.y+=l,e.gid){var u=v(e.gid);i.gid=u.gid,i.flippedHorizontal=u.flippedHorizontal,i.flippedVertical=u.flippedVertical,i.flippedAntiDiagonal=u.flippedAntiDiagonal}else e.polyline?i.polyline=e.polyline.map(h):e.polygon?i.polygon=e.polygon.map(h):e.ellipse?i.ellipse=e.ellipse:e.text?i.text=e.text:e.point?i.point=!0:i.rectangle=!0;return i};o.exports=r},22611:(o,g,t)=>{var a=t(95540),v=t(52205),h=t(48700),s=t(79677),r=function(e){for(var n=[],l=[],i=s(e);i.i<i.layers.length||l.length>0;){if(i.i>=i.layers.length){if(l.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}i=l.pop();continue}var u=i.layers[i.i];if(i.i++,u.opacity*=i.opacity,u.visible=i.visible&&u.visible,u.type!=="objectgroup"){if(u.type==="group"){var f=s(e,u,i);l.push(i),i=f}continue}u.name=i.name+u.name;for(var c=i.x+a(u,"startx",0)+a(u,"offsetx",0),d=i.y+a(u,"starty",0)+a(u,"offsety",0),p=[],m=0;m<u.objects.length;m++){var y=v(u.objects[m],c,d);p.push(y)}var x=new h(u);x.objects=p,n.push(x)}return n};o.exports=r},28200:(o,g,t)=>{var a=t(41868),v=t(91907),h=t(79677),s=t(6641),r=t(95540),e=t(14977),n=t(29920),l=t(23029),i=function(u,f){for(var c=r(u,"infinite",!1),d=[],p=[],m=h(u);m.i<m.layers.length||p.length>0;){if(m.i>=m.layers.length){if(p.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}m=p.pop();continue}var y=m.layers[m.i];if(m.i++,y.type!=="tilelayer"){if(y.type==="group"){var x=h(u,y,m);p.push(m),m=x}continue}if(y.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+y.name+"'");continue}else if(y.encoding&&y.encoding==="base64"){if(y.chunks)for(var C=0;C<y.chunks.length;C++)y.chunks[C].data=a(y.chunks[C].data);y.data&&(y.data=a(y.data)),delete y.encoding}var E,R,M,w,D,F,I=[],L=0;if(c){var B=r(y,"startx",0)+y.x,G=r(y,"starty",0)+y.y;E=new e({name:m.name+y.name,id:y.id,x:m.x+r(y,"offsetx",0)+B*u.tilewidth,y:m.y+r(y,"offsety",0)+G*u.tileheight,width:y.width,height:y.height,tileWidth:u.tilewidth,tileHeight:u.tileheight,alpha:m.opacity*y.opacity,visible:m.visible&&y.visible,properties:r(y,"properties",[]),orientation:s(u.orientation)}),E.orientation===v.HEXAGONAL&&(E.hexSideLength=u.hexsidelength,E.staggerAxis=u.staggeraxis,E.staggerIndex=u.staggerindex,E.staggerAxis==="y"?(D=(E.tileHeight-E.hexSideLength)/2,E.widthInPixels=E.tileWidth*(E.width+.5),E.heightInPixels=E.height*(E.hexSideLength+D)+D):(F=(E.tileWidth-E.hexSideLength)/2,E.widthInPixels=E.width*(E.hexSideLength+F)+F,E.heightInPixels=E.tileHeight*(E.height+.5)));for(var V=0;V<y.height;V++){I[V]=[null];for(var X=0;X<y.width;X++)I[V][X]=null}for(V=0,Z=y.chunks.length;V<Z;V++)for(var b=y.chunks[V],U=b.x-B,O=b.y-G,z=0,N=0,Y=b.data.length;N<Y;N++){var W=L+U,H=z+O;R=n(b.data[N]),R.gid>0?(M=new l(E,R.gid,W,H,u.tilewidth,u.tileheight),M.rotation=R.rotation,M.flipX=R.flipped,I[H][W]=M):(w=f?null:new l(E,-1,W,H,u.tilewidth,u.tileheight),I[H][W]=w),L++,L===b.width&&(z++,L=0)}}else{E=new e({name:m.name+y.name,id:y.id,x:m.x+r(y,"offsetx",0)+y.x,y:m.y+r(y,"offsety",0)+y.y,width:y.width,height:y.height,tileWidth:u.tilewidth,tileHeight:u.tileheight,alpha:m.opacity*y.opacity,visible:m.visible&&y.visible,properties:r(y,"properties",[]),orientation:s(u.orientation)}),E.orientation===v.HEXAGONAL&&(E.hexSideLength=u.hexsidelength,E.staggerAxis=u.staggeraxis,E.staggerIndex=u.staggerindex,E.staggerAxis==="y"?(D=(E.tileHeight-E.hexSideLength)/2,E.widthInPixels=E.tileWidth*(E.width+.5),E.heightInPixels=E.height*(E.hexSideLength+D)+D):(F=(E.tileWidth-E.hexSideLength)/2,E.widthInPixels=E.width*(E.hexSideLength+F)+F,E.heightInPixels=E.tileHeight*(E.height+.5)));for(var $=[],j=0,Z=y.data.length;j<Z;j++)R=n(y.data[j]),R.gid>0?(M=new l(E,R.gid,L,I.length,u.tilewidth,u.tileheight),M.rotation=R.rotation,M.flipX=R.flipped,$.push(M)):(w=f?null:new l(E,-1,L,I.length,u.tilewidth,u.tileheight),$.push(w)),L++,L===y.width&&(I.push($),L=0,$=[])}E.data=I,d.push(E)}return d};o.exports=i},24619:(o,g,t)=>{var a=t(33629),v=t(16536),h=t(52205),s=t(57880),r=function(e){for(var n=[],l=[],i=null,u,f=0;f<e.tilesets.length;f++){var c=e.tilesets[f];if(c.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(c.image){var d=new a(c.name,c.firstgid,c.tilewidth,c.tileheight,c.margin,c.spacing,void 0,void 0,c.tileoffset);if(e.version>1){var p=void 0,m=void 0;if(Array.isArray(c.tiles)){p=p||{},m=m||{};for(var y=0;y<c.tiles.length;y++){var x=c.tiles[y];if(x.properties){var C={};x.properties.forEach(function(V){C[V.name]=V.value}),m[x.id]=C}if(x.objectgroup&&((p[x.id]||(p[x.id]={})).objectgroup=x.objectgroup,x.objectgroup.objects)){var E=x.objectgroup.objects.map(function(V){return h(V)});p[x.id].objectgroup.objects=E}x.animation&&((p[x.id]||(p[x.id]={})).animation=x.animation),x.type&&((p[x.id]||(p[x.id]={})).type=x.type)}}Array.isArray(c.wangsets)&&(p=p||{},m=m||{},s(c.wangsets,p)),p&&(d.tileData=p,d.tileProperties=m)}else if(c.tileproperties&&(d.tileProperties=c.tileproperties),c.tiles){d.tileData=c.tiles;for(u in d.tileData){var R=d.tileData[u].objectgroup;if(R&&R.objects){var M=R.objects.map(function(V){return h(V)});d.tileData[u].objectgroup.objects=M}}}d.updateTileData(c.imagewidth,c.imageheight),n.push(d)}else{var w=new v(c.name,c.firstgid,c.tilewidth,c.tileheight,c.margin,c.spacing,c.properties),D=0;for(y=0;y<c.tiles.length;y++){x=c.tiles[y];var F=x.image,I=parseInt(x.id,10),L=c.firstgid+I,B=x.imagewidth,G=x.imageheight;w.addImage(L,F,B,G),D=Math.max(I,D)}w.maxId=D,l.push(w)}i&&(i.lastgid=c.firstgid-1),i=c}return{tilesets:n,imageCollections:l}};o.exports=r},57880:o=>{var g=function(t,a){for(var v=0;v<t.length;v++){var h=t[v],s=v;if(h.name&&h.name!==""&&(s=h.name),Array.isArray(h.wangtiles)&&h.wangtiles.length>0){var r={},e={},n,l,i;if(Array.isArray(h.edgecolors))for(n=0;n<h.edgecolors.length;n++)i=1+n,l=h.edgecolors[n],l.name!==""&&(r[i]=l.name);if(Array.isArray(h.cornercolors))for(n=0;n<h.cornercolors.length;n++)i=1+n,l=h.cornercolors[n],l.name!==""&&(e[i]=l.name);if(Array.isArray(h.colors))for(n=0;n<h.colors.length;n++)l=h.colors[n],i=1+n,l.name!==""&&(r[i]=e[i]=l.name);for(var u=[r,e,r,e,r,e,r,e],f=0;f<h.wangtiles.length;f++){var c=h.wangtiles[f],d=a[c.tileid]||(a[c.tileid]={});d=d.wangid||(d.wangid={});for(var p=[],m=0;m<Math.min(u.length,c.wangid.length);m++){if(l=c.wangid[m],l===0){p.push(void 0);continue}var y=u[m][l];if(y!==void 0){p.push(y);continue}p.push(l)}d[s]=p}}}};o.exports=g},96761:(o,g,t)=>{o.exports={AssignTileProperties:t(51233),Base64Decode:t(41868),BuildTilesetIndex:t(84101),CreateGroupLayer:t(79677),ParseGID:t(29920),ParseImageLayers:t(12635),ParseJSONTiled:t(46594),ParseObject:t(52205),ParseObjectLayers:t(22611),ParseTileLayers:t(28200),ParseTilesets:t(24619)}},33385:(o,g,t)=>{var a=t(83419),v=t(37277),h=t(44594),s=t(94880),r=t(72905),e=new a({initialize:function(l){this.scene=l,this.systems=l.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],l.sys.events.once(h.BOOT,this.boot,this),l.sys.events.on(h.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(h.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var n=this.systems.events;n.on(h.PRE_UPDATE,this.preUpdate,this),n.on(h.UPDATE,this.update,this),n.once(h.SHUTDOWN,this.shutdown,this)},addEvent:function(n){var l;if(n instanceof s){if(l=n,this.removeEvent(l),l.elapsed=l.startAt,l.hasDispatched=!1,l.repeatCount=l.repeat===-1||l.loop?999999999999:l.repeat,l.delay<=0&&l.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay")}else l=new s(n);return this._pendingInsertion.push(l),l},delayedCall:function(n,l,i,u){return this.addEvent({delay:n,callback:l,args:i,callbackScope:u})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(n){Array.isArray(n)||(n=[n]);for(var l=0;l<n.length;l++){var i=n[l];r(this._pendingRemoval,i),r(this._pendingInsertion,i),r(this._active,i)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var n=this._pendingRemoval.length,l=this._pendingInsertion.length;if(!(n===0&&l===0)){var i,u;for(i=0;i<n;i++){u=this._pendingRemoval[i];var f=this._active.indexOf(u);f>-1&&this._active.splice(f,1),u.destroy()}for(i=0;i<l;i++)u=this._pendingInsertion[i],this._active.push(u);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(n,l){if(this.now=n,!this.paused){l*=this.timeScale;for(var i=0;i<this._active.length;i++){var u=this._active[i];if(!u.paused&&(u.elapsed+=l*u.timeScale,u.elapsed>=u.delay)){var f=u.elapsed-u.delay;if(u.elapsed=u.delay,!u.hasDispatched&&u.callback&&(u.hasDispatched=!0,u.callback.apply(u.callbackScope,u.args)),u.repeatCount>0){if(u.repeatCount--,f>=u.delay)for(;f>=u.delay&&u.repeatCount>0;)u.callback&&u.callback.apply(u.callbackScope,u.args),f-=u.delay,u.repeatCount--;u.elapsed=f,u.hasDispatched=!1}else u.hasDispatched&&this._pendingRemoval.push(u)}}}},shutdown:function(){var n;for(n=0;n<this._pendingInsertion.length;n++)this._pendingInsertion[n].destroy();for(n=0;n<this._active.length;n++)this._active[n].destroy();for(n=0;n<this._pendingRemoval.length;n++)this._pendingRemoval[n].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var l=this.systems.events;l.off(h.PRE_UPDATE,this.preUpdate,this),l.off(h.UPDATE,this.update,this),l.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(h.START,this.start,this),this.scene=null,this.systems=null}});v.register("Clock",e,"time"),o.exports=e},96120:(o,g,t)=>{var a=t(83419),v=t(50792),h=t(39429),s=t(95540),r=t(44594),e=t(89809),n=new a({Extends:v,initialize:function(i,u){v.call(this),this.scene=i,this.systems=i.sys,this.elapsed=0,this.timeScale=1,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var f=this.systems.events;f.on(r.PRE_UPDATE,this.preUpdate,this),f.on(r.UPDATE,this.update,this),f.once(r.SHUTDOWN,this.destroy,this),u&&this.add(u)},preUpdate:function(l,i){this.paused||(this.elapsed+=i*this.timeScale)},update:function(){if(!(this.paused||this.complete)){var l,i=this.events,u=!1,f=this.systems,c;for(l=0;l<i.length;l++){var d=i[l];if(!d.complete&&d.time<=this.elapsed){if(d.complete=!0,this.totalComplete++,c=d.target?d.target:this,d.if&&!d.if.call(c,d))continue;if(d.once&&(u=!0),d.set&&d.target)for(var p in d.set)d.target[p]=d.set[p];this.iteration&&d.repeat++,d.loop&&d.repeat&&d.loop.call(c),d.tween&&(d.tweenInstance=f.tweens.add(d.tween)),d.sound&&(typeof d.sound=="string"?f.sound.play(d.sound):f.sound.play(d.sound.key,d.sound.config)),d.event&&this.emit(d.event,c),d.run&&d.run.call(c),d.stop&&this.stop()}}if(u)for(l=0;l<i.length;l++)i[l].complete&&i[l].once&&(i.splice(l,1),l--);this.totalComplete>=i.length&&(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(e.COMPLETE,this)}},play:function(l){return l===void 0&&(l=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,l&&this.reset(),this},pause:function(){this.paused=!0;for(var l=this.events,i=0;i<l.length;i++){var u=l[i];u.tweenInstance&&(u.tweenInstance.paused=!0)}return this},repeat:function(l){return(l===void 0||l===!0)&&(l=-1),l===!1&&(l=0),this.loop=l,this},resume:function(){this.paused=!1;for(var l=this.events,i=0;i<l.length;i++){var u=l[i];u.tweenInstance&&(u.tweenInstance.paused=!1)}return this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(l){l===void 0&&(l=!1),this.elapsed=0,l||(this.iteration=0);for(var i=this.events,u=0;u<i.length;u++){var f=i[u];f.complete=!1,l||(f.repeat=0),f.tweenInstance&&f.tweenInstance.stop()}return this.play(!1)},add:function(l){Array.isArray(l)||(l=[l]);var i=this.events,u=0;i.length>0&&(u=i[i.length-1].time);for(var f=0;f<l.length;f++){var c=l[f],d=s(c,"at",0),p=s(c,"in",null);p!==null&&(d=this.elapsed+p);var m=s(c,"from",null);m!==null&&(d=u+m),i.push({complete:!1,time:d,repeat:0,if:s(c,"if",null),run:s(c,"run",null),loop:s(c,"loop",null),event:s(c,"event",null),target:s(c,"target",null),set:s(c,"set",null),tween:s(c,"tween",null),sound:s(c,"sound",null),once:s(c,"once",!1),stop:s(c,"stop",!1)}),u=d}return this.complete=!1,this},clear:function(){for(var l=this.events,i=0;i<l.length;i++){var u=l[i];u.tweenInstance&&u.tweenInstance.stop()}return l=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var l=Math.min(this.totalComplete,this.events.length);return l/this.events.length},destroy:function(){var l=this.systems.events;l.off(r.PRE_UPDATE,this.preUpdate,this),l.off(r.UPDATE,this.update,this),l.off(r.SHUTDOWN,this.destroy,this),this.clear(),this.scene=null,this.systems=null}});h.register("timeline",function(l){return new n(this.scene,l)}),o.exports=n},94880:(o,g,t)=>{var a=t(83419),v=t(95540),h=new a({initialize:function(r){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(r)},reset:function(s){if(this.delay=v(s,"delay",0),this.repeat=v(s,"repeat",0),this.loop=v(s,"loop",!1),this.callback=v(s,"callback",void 0),this.callbackScope=v(s,"callbackScope",this),this.args=v(s,"args",[]),this.timeScale=v(s,"timeScale",1),this.startAt=v(s,"startAt",0),this.paused=v(s,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay<=0&&this.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var s=this.delay+this.delay*this.repeat,r=this.elapsed+this.delay*(this.repeat-this.repeatCount);return r/s}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(s){s===void 0&&(s=!1),this.elapsed=this.delay,this.hasDispatched=!s,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});o.exports=h},35945:o=>{o.exports="complete"},89809:(o,g,t)=>{o.exports={COMPLETE:t(35945)}},90291:(o,g,t)=>{o.exports={Clock:t(33385),Events:t(89809),Timeline:t(96120),TimerEvent:t(94880)}},40382:(o,g,t)=>{var a=t(72905),v=t(83419),h=t(43491),s=t(88032),r=t(37277),e=t(44594),n=t(93109),l=t(86081),i=t(8357),u=t(43960),f=t(26012),c=new v({initialize:function(p){this.scene=p,this.events=p.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(e.BOOT,this.boot,this),this.events.on(e.START,this.start,this)},boot:function(){this.events.once(e.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(e.UPDATE,this.update,this),this.events.once(e.SHUTDOWN,this.shutdown,this)},create:function(d){Array.isArray(d)||(d=[d]);for(var p=[],m=0;m<d.length;m++){var y=d[m];y instanceof l||y instanceof u?p.push(y):Array.isArray(y.tweens)?p.push(f(this,y)):p.push(i(this,y))}return p.length===1?p[0]:p},add:function(d){var p=d,m=this.tweens;return p instanceof l||p instanceof u||(Array.isArray(p.tweens)?p=f(this,p):p=i(this,p)),m.push(p.reset()),p},addMultiple:function(d){for(var p,m=[],y=this.tweens,x=0;x<d.length;x++)p=d[x],p instanceof l||p instanceof u||(Array.isArray(p.tweens)?p=f(this,p):p=i(this,p)),y.push(p.reset()),m.push(p);return m},chain:function(d){var p=f(this,d);return this.tweens.push(p.init()),p},getChainedTweens:function(d){return d.getChainedTweens()},has:function(d){return this.tweens.indexOf(d)>-1},existing:function(d){return this.has(d)||this.tweens.push(d.reset()),this},addCounter:function(d){var p=s(this,d);return this.tweens.push(p.reset()),p},stagger:function(d,p){return n(d,p)},setLagSmooth:function(d,p){return d===void 0&&(d=1/1e-8),p===void 0&&(p=0),this.maxLag=d,this.lagSkip=Math.min(p,this.maxLag),this},setFps:function(d){return d===void 0&&(d=240),this.gap=1e3/d,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(d){var p=Date.now()-this.prevTime;p>this.maxLag&&(this.startTime+=p-this.lagSkip),this.prevTime+=p;var m=this.prevTime-this.startTime,y=m-this.nextTime,x=m-this.time*1e3;return y>0||d?(m/=1e3,this.time=m,this.nextTime+=y+(y>=this.gap?4:this.gap-y)):x=0,x},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(d){d===void 0&&(d=!1);var p=this.getDelta(d);if(!(p<=0)){this.processing=!0;var m,y,x=[],C=this.tweens;for(m=0;m<C.length;m++)y=C[m],y.update(p)&&x.push(y);var E=x.length;if(E&&C.length>0){for(m=0;m<E;m++){y=x[m];var R=C.indexOf(y);R>-1&&(y.isPendingRemove()||y.isDestroyed())&&(C.splice(R,1),y.destroy())}x.length=0}this.processing=!1}},remove:function(d){return this.processing?d.setPendingRemoveState():(a(this.tweens,d),d.setRemovedState()),this},reset:function(d){return this.existing(d),d.seek(),d.setActiveState(),this},makeActive:function(d){return this.existing(d),d.setActiveState(),this},each:function(d,p){var m,y=[null];for(m=1;m<arguments.length;m++)y.push(arguments[m]);return this.tweens.forEach(function(x){y[0]=x,d.apply(p,y)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(d){var p=[],m=this.tweens;Array.isArray(d)?d=h(d):d=[d];for(var y=d.length,x=0;x<m.length;x++)for(var C=m[x],E=0;E<y;E++)!C.isDestroyed()&&C.hasTarget(d[E])&&p.push(C);return p},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(d){return this.timeScale=d,this},isTweening:function(d){for(var p=this.tweens,m,y=0;y<p.length;y++)if(m=p[y],m.isPlaying()&&m.hasTarget(d))return!0;return!1},killAll:function(){for(var d=this.processing?this.getTweens():this.tweens,p=0;p<d.length;p++)d[p].destroy();return this.processing||(d.length=0),this},killTweensOf:function(d){for(var p=this.getTweensOf(d),m=0;m<p.length;m++)p[m].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(e.UPDATE,this.update,this),this.events.off(e.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(e.START,this.start,this),this.scene=null,this.events=null}});r.register("TweenManager",c,"tweens"),o.exports=c},57355:o=>{var g=function(t,a,v){return t&&t.hasOwnProperty(a)?t[a]:v};o.exports=g},6113:(o,g,t)=>{var a=t(62640),v=t(35355),h=function(s,r){var e=a.Power0;if(typeof s=="string")if(a.hasOwnProperty(s))e=a[s];else{var n="";if(s.indexOf(".")){n=s.substring(s.indexOf(".")+1);var l=n.toLowerCase();l==="in"?n="easeIn":l==="out"?n="easeOut":l==="inout"&&(n="easeInOut")}s=v(s.substring(0,s.indexOf(".")+1)+n),a.hasOwnProperty(s)&&(e=a[s])}else typeof s=="function"&&(e=s);if(!r)return e;var i=r.slice(0);return i.unshift(0),function(u){return i[0]=u,e.apply(this,i)}};o.exports=h},91389:(o,g,t)=>{var a=t(89318),v=t(77259),h=t(28392),s={bezier:a,catmull:v,catmullrom:v,linear:h},r=function(e){if(e===null)return null;var n=s.linear;return typeof e=="string"?s.hasOwnProperty(e)&&(n=s[e]):typeof e=="function"&&(n=e),n};o.exports=r},55292:o=>{var g=function(t,a,v){var h;if(t.hasOwnProperty(a)){var s=typeof t[a];s==="function"?h=function(r,e,n,l,i,u){return t[a](r,e,n,l,i,u)}:h=function(){return t[a]}}else typeof v=="function"?h=v:h=function(){return v};return h};o.exports=g},82985:(o,g,t)=>{var a=t(81076),v=function(h){var s,r=[];if(h.hasOwnProperty("props"))for(s in h.props)s.substring(0,1)!=="_"&&r.push({key:s,value:h.props[s]});else for(s in h)a.indexOf(s)===-1&&s.substring(0,1)!=="_"&&r.push({key:s,value:h[s]});return r};o.exports=v},62329:(o,g,t)=>{var a=t(35154),v=function(h){var s=a(h,"targets",null);return s===null||(typeof s=="function"&&(s=s.call()),Array.isArray(s)||(s=[s])),s};o.exports=v},17777:(o,g,t)=>{var a=t(30976),v=t(99472);function h(l){return!!l.getActive&&typeof l.getActive=="function"}function s(l){return!!l.getStart&&typeof l.getStart=="function"}function r(l){return!!l.getEnd&&typeof l.getEnd=="function"}function e(l){return s(l)||r(l)||h(l)}var n=function(l,i){var u,f=function(V,X,b){return b},c=function(V,X,b){return b},d=null,p=typeof i;if(p==="number")f=function(){return i};else if(Array.isArray(i))c=function(){return i[0]},f=function(){return i[i.length-1]};else if(p==="string"){var m=i.toLowerCase(),y=m.substring(0,6)==="random",x=m.substring(0,3)==="int";if(y||x){var C=m.indexOf("("),E=m.indexOf(")"),R=m.indexOf(",");if(C&&E&&R){var M=parseFloat(m.substring(C+1,R)),w=parseFloat(m.substring(R+1,E));y?f=function(){return v(M,w)}:f=function(){return a(M,w)}}else throw new Error("invalid random() format")}else{m=m[0];var D=parseFloat(i.substr(2));switch(m){case"+":f=function(V,X,b){return b+D};break;case"-":f=function(V,X,b){return b-D};break;case"*":f=function(V,X,b){return b*D};break;case"/":f=function(V,X,b){return b/D};break;default:f=function(){return parseFloat(i)}}}}else if(p==="function")f=i;else if(p==="object")if(e(i))h(i)&&(d=i.getActive),r(i)&&(f=i.getEnd),s(i)&&(c=i.getStart);else if(i.hasOwnProperty("value"))u=n(l,i.value);else{var F=i.hasOwnProperty("to"),I=i.hasOwnProperty("from"),L=i.hasOwnProperty("start");if(F&&(I||L)){if(u=n(l,i.to),L){var B=n(l,i.start);u.getActive=B.getEnd}if(I){var G=n(l,i.from);u.getStart=G.getEnd}}}return u||(u={getActive:d,getEnd:f,getStart:c}),u};o.exports=n},88032:(o,g,t)=>{var a=t(70402),v=t(69902),h=t(23568),s=t(57355),r=t(6113),e=t(95540),n=t(55292),l=t(35154),i=t(17777),u=t(269),f=t(86081),c=function(d,p,m){if(p instanceof f)return p.parent=d,p;m===void 0?m=v:m=u(v,m);var y=e(p,"from",0),x=e(p,"to",1),C=[{value:y}],E=e(p,"delay",m.delay),R=e(p,"easeParams",m.easeParams),M=e(p,"ease",m.ease),w=i("value",x),D=new f(d,C),F=D.add(0,"value",w.getEnd,w.getStart,w.getActive,r(e(p,"ease",M),e(p,"easeParams",R)),n(p,"delay",E),e(p,"duration",m.duration),s(p,"yoyo",m.yoyo),e(p,"hold",m.hold),e(p,"repeat",m.repeat),e(p,"repeatDelay",m.repeatDelay),!1,!1);F.start=y,F.current=y,D.completeDelay=h(p,"completeDelay",0),D.loop=Math.round(h(p,"loop",0)),D.loopDelay=Math.round(h(p,"loopDelay",0)),D.paused=s(p,"paused",!1),D.persist=s(p,"persist",!1),D.isNumberTween=!0,D.callbackScope=l(p,"callbackScope",D);for(var I=a.TYPES,L=0;L<I.length;L++){var B=I[L],G=l(p,B,!1);if(G){var V=l(p,B+"Params",[]);D.setCallback(B,G,V)}}return D};o.exports=c},93109:(o,g,t)=>{var a=t(6113),v=t(35154),h=t(36383),s=function(r,e){e===void 0&&(e={});var n,l=v(e,"start",0),i=v(e,"ease",null),u=v(e,"grid",null),f=v(e,"from",0),c=f==="first",d=f==="center",p=f==="last",m=typeof f=="number",y=Array.isArray(r),x=parseFloat(y?r[0]:r),C=y?parseFloat(r[1]):0,E=Math.max(x,C);if(y&&(l+=x),u){var R=u[0],M=u[1],w=0,D=0,F=0,I=0,L=[];p?(w=R-1,D=M-1):m?(w=f%R,D=Math.floor(f/R)):d&&(w=(R-1)/2,D=(M-1)/2);for(var B=h.MIN_SAFE_INTEGER,G=0;G<M;G++){L[G]=[];for(var V=0;V<R;V++){F=w-V,I=D-G;var X=Math.sqrt(F*F+I*I);X>B&&(B=X),L[G][V]=X}}}var b=i?a(i):null;return u?n=function(U,O,z,N){var Y=0,W=N%R,H=Math.floor(N/R);W>=0&&W<R&&H>=0&&H<M&&(Y=L[H][W]);var $;if(y){var j=C-x;b?$=Y/B*j*b(Y/B):$=Y/B*j}else b?$=Y*x*b(Y/B):$=Y*x;return $+l}:n=function(U,O,z,N,Y){Y--;var W;c?W=N:d?W=Math.abs(Y/2-N):p?W=Y-N:m&&(W=Math.abs(f-N));var H;if(y){var $;d?$=(C-x)/Y*(W*2):$=(C-x)/Y*W,b?H=$*b(W/Y):H=$}else b?H=Y*E*b(W/Y):H=W*x;return H+l},n};o.exports=s},8357:(o,g,t)=>{var a=t(70402),v=t(69902),h=t(23568),s=t(57355),r=t(6113),e=t(95540),n=t(91389),l=t(55292),i=t(82985),u=t(62329),f=t(35154),c=t(17777),d=t(269),p=t(86081),m=function(y,x,C){if(x instanceof p)return x.parent=y,x;C===void 0?C=v:C=d(v,C);var E=u(x);!E&&C.targets&&(E=C.targets);for(var R=i(x),M=e(x,"delay",C.delay),w=e(x,"duration",C.duration),D=e(x,"easeParams",C.easeParams),F=e(x,"ease",C.ease),I=e(x,"hold",C.hold),L=e(x,"repeat",C.repeat),B=e(x,"repeatDelay",C.repeatDelay),G=s(x,"yoyo",C.yoyo),V=s(x,"flipX",C.flipX),X=s(x,"flipY",C.flipY),b=e(x,"interpolation",C.interpolation),U=function(K,Q,_,k){if(_==="texture"){var nt=k,st=void 0;Array.isArray(k)?(nt=k[0],st=k[1]):k.hasOwnProperty("value")?(nt=k.value,Array.isArray(k.value)?(nt=k.value[0],st=k.value[1]):typeof k.value=="string"&&(nt=k.value)):typeof k=="string"&&(nt=k),K.addFrame(Q,nt,st,l(k,"delay",M),e(k,"duration",w),e(k,"hold",I),e(k,"repeat",L),e(k,"repeatDelay",B),s(k,"flipX",V),s(k,"flipY",X))}else{var at=c(_,k),q=n(e(k,"interpolation",b));K.add(Q,_,at.getEnd,at.getStart,at.getActive,r(e(k,"ease",F),e(k,"easeParams",D)),l(k,"delay",M),e(k,"duration",w),s(k,"yoyo",G),e(k,"hold",I),e(k,"repeat",L),e(k,"repeatDelay",B),s(k,"flipX",V),s(k,"flipY",X),q,q?k:null)}},O=new p(y,E),z=0;z<R.length;z++)for(var N=R[z].key,Y=R[z].value,W=0;W<E.length;W++)N==="scale"&&!E[W].hasOwnProperty("scale")?(U(O,W,"scaleX",Y),U(O,W,"scaleY",Y)):U(O,W,N,Y);O.completeDelay=h(x,"completeDelay",0),O.loop=Math.round(h(x,"loop",0)),O.loopDelay=Math.round(h(x,"loopDelay",0)),O.paused=s(x,"paused",!1),O.persist=s(x,"persist",!1),O.callbackScope=e(x,"callbackScope",O);for(var H=a.TYPES,$=0;$<H.length;$++){var j=H[$],Z=f(x,j,!1);if(Z){var J=f(x,j+"Params",[]);O.setCallback(j,Z,J)}}return O};o.exports=m},26012:(o,g,t)=>{var a=t(70402),v=t(23568),h=t(57355),s=t(62329),r=t(35154),e=t(8357),n=t(43960),l=function(i,u){if(u instanceof n)return u.parent=i,u;var f=new n(i);f.startDelay=r(u,"delay",0),f.completeDelay=v(u,"completeDelay",0),f.loop=Math.round(v(u,"loop",r(u,"repeat",0))),f.loopDelay=Math.round(v(u,"loopDelay",r(u,"repeatDelay",0))),f.paused=h(u,"paused",!1),f.persist=h(u,"persist",!1),f.callbackScope=r(u,"callbackScope",f);var c,d=a.TYPES;for(c=0;c<d.length;c++){var p=d[c],m=r(u,p,!1);if(m){var y=r(u,p+"Params",[]);f.setCallback(p,m,y)}}var x=r(u,"tweens",null);if(Array.isArray(x)){var C=[],E=s(u),R=void 0;for(E&&(R={targets:E}),c=0;c<x.length;c++)C.push(e(f,x[c],R));f.add(C)}return f};o.exports=l},30231:(o,g,t)=>{o.exports={GetBoolean:t(57355),GetEaseFunction:t(6113),GetInterpolationFunction:t(91389),GetNewValue:t(55292),GetProps:t(82985),GetTargets:t(62329),GetValueOp:t(17777),NumberTweenBuilder:t(88032),StaggerBuilder:t(93109),TweenBuilder:t(8357)}},73685:o=>{o.exports="active"},98540:o=>{o.exports="complete"},67233:o=>{o.exports="loop"},2859:o=>{o.exports="pause"},98336:o=>{o.exports="repeat"},25764:o=>{o.exports="resume"},32193:o=>{o.exports="start"},84371:o=>{o.exports="stop"},70766:o=>{o.exports="update"},55659:o=>{o.exports="yoyo"},842:(o,g,t)=>{o.exports={TWEEN_ACTIVE:t(73685),TWEEN_COMPLETE:t(98540),TWEEN_LOOP:t(67233),TWEEN_PAUSE:t(2859),TWEEN_RESUME:t(25764),TWEEN_REPEAT:t(98336),TWEEN_START:t(32193),TWEEN_STOP:t(84371),TWEEN_UPDATE:t(70766),TWEEN_YOYO:t(55659)}},43066:(o,g,t)=>{var a={States:t(86353),Builders:t(30231),Events:t(842),TweenManager:t(40382),Tween:t(86081),TweenData:t(48177),TweenFrameData:t(42220),BaseTween:t(70402),TweenChain:t(43960)};o.exports=a},70402:(o,g,t)=>{var a=t(83419),v=t(50792),h=t(842),s=t(86353),r=new a({Extends:v,initialize:function(n){v.call(this),this.parent=n,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=s.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(e){return this.timeScale=e,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(h.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(h.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(h.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(h.TWEEN_COMPLETE,"onComplete")},complete:function(e){return e===void 0&&(e=0),e?(this.setCompleteDelayState(),this.countdown=e):this.onCompleteHandler(),this},completeAfterLoop:function(e){return e===void 0&&(e=0),this.loopCounter>e&&(this.loopCounter=e),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(h.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(e){this.countdown-=e,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(h.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(e){return this.countdown-=e,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(h.TWEEN_START,"onStart"),e=0),e},updateCompleteDelay:function(e){this.countdown-=e,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(e,n,l){return l===void 0&&(l=[]),this.callbacks.hasOwnProperty(e)&&(this.callbacks[e]={func:n,params:l}),this},setPendingState:function(){this.state=s.PENDING},setActiveState:function(){this.state=s.ACTIVE,this.hasStarted=!1},setLoopDelayState:function(){this.state=s.LOOP_DELAY},setCompleteDelayState:function(){this.state=s.COMPLETE_DELAY},setStartDelayState:function(){this.state=s.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=s.PENDING_REMOVE},setRemovedState:function(){this.state=s.REMOVED},setFinishedState:function(){this.state=s.FINISHED},setDestroyedState:function(){this.state=s.DESTROYED},isPending:function(){return this.state===s.PENDING},isActive:function(){return this.state===s.ACTIVE},isLoopDelayed:function(){return this.state===s.LOOP_DELAY},isCompleteDelayed:function(){return this.state===s.COMPLETE_DELAY},isStartDelayed:function(){return this.state===s.START_DELAY},isPendingRemove:function(){return this.state===s.PENDING_REMOVE},isRemoved:function(){return this.state===s.REMOVED},isFinished:function(){return this.state===s.FINISHED},isDestroyed:function(){return this.state===s.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(e){e.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});r.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],o.exports=r},95042:(o,g,t)=>{var a=t(83419),v=t(842),h=t(86353),s=new a({initialize:function(e,n,l,i,u,f,c,d,p,m){this.tween=e,this.targetIndex=n,this.duration=i<=0?.01:i,this.totalDuration=0,this.delay=0,this.getDelay=l,this.yoyo=u,this.hold=f,this.repeat=c,this.repeatDelay=d,this.repeatCounter=0,this.flipX=p,this.flipY=m,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(r){r===void 0&&(r=this.current),this.tween.targets[this.targetIndex][this.key]=r},setCreatedState:function(){this.state=h.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=h.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=h.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=h.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=h.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=h.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=h.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=h.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===h.CREATED},isDelayed:function(){return this.state===h.DELAY},isPendingRender:function(){return this.state===h.PENDING_RENDER},isPlayingForward:function(){return this.state===h.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===h.PLAYING_BACKWARD},isHolding:function(){return this.state===h.HOLD_DELAY},isRepeating:function(){return this.state===h.REPEAT_DELAY},isComplete:function(){return this.state===h.COMPLETE},setStateFromEnd:function(r){this.yoyo?this.onRepeat(r,!0,!0):this.repeatCounter>0?this.onRepeat(r,!0,!1):this.setCompleteState()},setStateFromStart:function(r){this.repeatCounter>0?this.onRepeat(r,!1):this.setCompleteState()},reset:function(){var r=this.tween,e=r.totalTargets,n=this.targetIndex,l=r.targets[n],i=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(l,i,0,n,e,r),this.repeatCounter=this.repeat===-1?h.MAX:this.repeat,this.setPendingRenderState();var u=this.duration+this.hold;this.yoyo&&(u+=this.duration);var f=u+this.repeatDelay;this.totalDuration=this.delay+u,this.repeat===-1?(this.totalDuration+=f*h.MAX,r.isInfinite=!0):this.repeat>0&&(this.totalDuration+=f*this.repeat),this.totalDuration>r.duration&&(r.duration=this.totalDuration),this.delay<r.startDelay&&(r.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(r,e,n){var l=this.tween,i=l.totalTargets,u=this.targetIndex,f=l.targets[u],c=this.key,d=c!=="texture";if(this.elapsed=r,this.progress=r/this.duration,this.flipX&&f.toggleFlipX(),this.flipY&&f.toggleFlipY(),d&&(e||n)&&(this.start=this.getStartValue(f,c,this.start,u,i,l)),n){this.setPlayingBackwardState(),this.dispatchEvent(v.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,d&&(this.end=this.getEndValue(f,c,this.start,u,i,l)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-r,d&&(this.current=this.start,f[c]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(v.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});o.exports=s},69902:o=>{var g={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};o.exports=g},81076:o=>{o.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(o,g,t)=>{var a=t(70402),v=t(83419),h=t(842),s=t(44603),r=t(39429),e=t(36383),n=t(86353),l=t(48177),i=t(42220),u=new v({Extends:a,initialize:function(c,d){a.call(this,c),this.targets=d,this.totalTargets=d.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.isNumberTween=!1},add:function(f,c,d,p,m,y,x,C,E,R,M,w,D,F,I,L){var B=new l(this,f,c,d,p,m,y,x,C,E,R,M,w,D,F,I,L);return this.totalData=this.data.push(B),B},addFrame:function(f,c,d,p,m,y,x,C,E,R){var M=new i(this,f,c,d,p,m,y,x,C,E,R);return this.totalData=this.data.push(M),M},getValue:function(f){f===void 0&&(f=0);var c=null;return this.data&&(c=this.data[f].current),c},hasTarget:function(f){return this.targets&&this.targets.indexOf(f)!==-1},updateTo:function(f,c,d){if(d===void 0&&(d=!1),f!=="texture")for(var p=0;p<this.totalData;p++){var m=this.data[p];m.key===f&&(m.isPlayingForward()||m.isPlayingBackward())&&(m.end=c,d&&(m.start=m.current))}return this},restart:function(){switch(this.state){case n.REMOVED:case n.FINISHED:this.seek(),this.parent.makeActive(this);break;case n.PENDING:case n.PENDING_REMOVE:this.parent.reset(this);break;case n.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(h.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,a.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(f,c,d){if(f===void 0&&(f=0),c===void 0&&(c=16.6),d===void 0&&(d=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;d||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(h.TWEEN_ACTIVE,"onActive");var p=this.paused;if(this.paused=!1,f>0){for(var m=Math.floor(f/c),y=f-m*c,x=0;x<m;x++)this.update(c);y>0&&this.update(y)}return this.paused=p,this.isSeeking=!1,this},initTweenData:function(f){f===void 0&&(f=!1),this.duration=0,this.startDelay=e.MAX_SAFE_INTEGER;for(var c=this.data,d=0;d<this.totalData;d++)c[d].reset(f);this.duration=Math.max(this.duration,.01);var p=this.duration,m=this.completeDelay,y=this.loopCounter,x=this.loopDelay;y>0?this.totalDuration=p+m+(p+x)*y:this.totalDuration=p+m},reset:function(f){return f===void 0&&(f=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=n.MAX),f||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(h.TWEEN_ACTIVE,"onActive")),this},update:function(f){if(this.isPendingRemove()||this.isDestroyed())return this.persist?(this.setFinishedState(),!1):!0;if(this.paused||this.isFinished())return!1;if(f*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(f),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(f),!1;this.hasStarted||(this.startDelay-=f,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(h.TWEEN_START,"onStart"),f=0));var c=!1;if(this.isActive())for(var d=this.data,p=0;p<this.totalData;p++)d[p].update(f)&&(c=!0);this.elapsed+=f,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=f,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),c||this.nextState();var m=this.isPendingRemove();return m&&this.persist&&(this.setFinishedState(),m=!1),m},forward:function(f){return this.update(f),this},rewind:function(f){return this.update(-f),this},dispatchEvent:function(f,c){if(!this.isSeeking){if(this.emit(f,this,this.targets),!this.callbacks)return;var d=this.callbacks[c];d&&d.func.apply(this.callbackScope,[this,this.targets].concat(d.params))}},destroy:function(){a.prototype.destroy.call(this),this.targets=null}});r.register("tween",function(f){return this.scene.sys.tweens.add(f)}),s.register("tween",function(f){return this.scene.sys.tweens.create(f)}),o.exports=u},43960:(o,g,t)=>{var a=t(72905),v=t(70402),h=t(83419),s=t(842),r=t(44603),e=t(39429),n=t(86353),l=new h({Extends:v,initialize:function(u){v.call(this,u),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?n.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this},add:function(i){var u=this.parent.create(i);Array.isArray(u)||(u=[u]);for(var f=this.data,c=0;c<u.length;c++){var d=u[c];d.parent=this,f.push(d.reset())}return this.totalData=f.length,this},remove:function(i){return a(this.data,i),i.setRemovedState(),i===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(i){for(var u=this.data,f=0;f<this.totalData;f++)if(u[f].hasTarget(i))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(i){return i.seek(),i.setActiveState(),this},makeActive:function(i){return i.reset(),i.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(s.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var i=this.data,u=this.totalData,f=0;f<u;f++)i[f].reset(!1);this.setCurrentTween(0)},update:function(i){if(this.isPendingRemove()||this.isDestroyed())return this.persist?(this.setFinishedState(),!1):!0;if(this.isFinished()||this.paused)return!1;if(i*=this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(i),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(i),!1;this.hasStarted||(this.startDelay-=i,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(s.TWEEN_START,"onStart"),i=0));var u=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(i)&&this.nextTween()&&this.nextState(),u=this.isPendingRemove(),u&&this.persist&&(this.setFinishedState(),u=!1)),u},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(i){this.currentIndex=i,this.currentTween=this.data[i],this.currentTween.setActiveState()},dispatchEvent:function(i,u){this.emit(i,this);var f=this.callbacks[u];f&&f.func.apply(this.callbackScope,[this].concat(f.params))},destroy:function(){v.prototype.destroy.call(this),this.currentTween=null}});e.register("tweenchain",function(i){return this.scene.sys.tweens.chain(i)}),r.register("tweenchain",function(i){return this.scene.sys.tweens.create(i)}),o.exports=l},48177:(o,g,t)=>{var a=t(95042),v=t(45319),h=t(83419),s=t(842),r=new h({Extends:a,initialize:function(n,l,i,u,f,c,d,p,m,y,x,C,E,R,M,w,D){a.call(this,n,l,p,m,y,x,C,E,R,M),this.key=i,this.getActiveValue=c,this.getEndValue=u,this.getStartValue=f,this.ease=d,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=w,this.interpolationData=D},reset:function(e){a.prototype.reset.call(this);var n=this.tween.targets[this.targetIndex],l=this.key;e&&(n[l]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(n[l]=this.getActiveValue(n,l,0))},update:function(e){var n=this.tween,l=n.totalTargets,i=this.targetIndex,u=n.targets[i],f=this.key;if(!u)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(s.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(u,f,u[f],i,l,n),this.end=this.getEndValue(u,f,this.start,i,l,n),this.current=this.start,u[f]=this.start,this.setPlayingForwardState(),!0;var c=this.isPlayingForward(),d=this.isPlayingBackward();if(c||d){var p=this.elapsed,m=this.duration,y=0,x=!1;p+=e,p>=m?(y=p-m,p=m,x=!0):p<0&&(p=0);var C=v(p/m,0,1);this.elapsed=p,this.progress=C,this.previous=this.current,c||(C=1-C);var E=this.ease(C);this.interpolation?this.current=this.interpolation(this.interpolationData,E):this.current=this.start+(this.end-this.start)*E,u[f]=this.current,x&&(c?(n.isNumberTween&&(this.current=this.end,u[f]=this.current),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(y)):(n.isNumberTween&&(this.current=this.start,u[f]=this.current),this.setStateFromStart(y))),this.dispatchEvent(s.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,n){var l=this.tween;if(!l.isSeeking){var i=l.targets[this.targetIndex],u=this.key,f=this.current,c=this.previous;l.emit(e,l,u,i,f,c);var d=l.callbacks[n];d&&d.func.apply(l.callbackScope,[l,i,u,f,c].concat(d.params))}},destroy:function(){a.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});o.exports=r},42220:(o,g,t)=>{var a=t(95042),v=t(45319),h=t(83419),s=t(842),r=new h({Extends:a,initialize:function(n,l,i,u,f,c,d,p,m,y,x){a.call(this,n,l,f,c,!1,d,p,m,y,x),this.key="texture",this.startTexture=null,this.endTexture=i,this.startFrame=null,this.endFrame=u,this.yoyo=p!==0},reset:function(e){a.prototype.reset.call(this);var n=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=n.texture.key,this.startFrame=n.frame.name),e&&n.setTexture(this.startTexture,this.startFrame)},update:function(e){var n=this.tween,l=this.targetIndex,i=n.targets[l];if(!i)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(s.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&i.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var u=this.isPlayingForward(),f=this.isPlayingBackward();if(u||f){var c=this.elapsed,d=this.duration,p=0,m=!1;c+=e,c>=d?(p=c-d,c=d,m=!0):c<0&&(c=0);var y=v(c/d,0,1);this.elapsed=c,this.progress=y,m&&(u?(i.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(p)):(i.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(p))),this.dispatchEvent(s.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,n){var l=this.tween;if(!l.isSeeking){var i=l.targets[this.targetIndex],u=this.key;l.emit(e,l,u,i);var f=l.callbacks[n];f&&f.func.apply(l.callbackScope,[l,i,u].concat(f.params))}},destroy:function(){a.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});o.exports=r},86353:o=>{var g={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};o.exports=g},83419:o=>{function g(r){return!!r.get&&typeof r.get=="function"||!!r.set&&typeof r.set=="function"}function t(r,e,n){var l=n?r[e]:Object.getOwnPropertyDescriptor(r,e);return!n&&l.value&&typeof l.value=="object"&&(l=l.value),l&&g(l)?(typeof l.enumerable>"u"&&(l.enumerable=!0),typeof l.configurable>"u"&&(l.configurable=!0),l):!1}function a(r,e){var n=Object.getOwnPropertyDescriptor(r,e);return n?(n.value&&typeof n.value=="object"&&(n=n.value),n.configurable===!1):!1}function v(r,e,n,l){for(var i in e)if(e.hasOwnProperty(i)){var u=t(e,i,n);if(u!==!1){var f=l||r;if(a(f.prototype,i)){if(s.ignoreFinals)continue;throw new Error("cannot override final property '"+i+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(r.prototype,i,u)}else r.prototype[i]=e[i]}}function h(r,e){if(e){Array.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++)v(r,e[n].prototype||e[n])}}function s(r){r||(r={});var e,n;if(r.initialize){if(typeof r.initialize!="function")throw new Error("initialize must be a function");e=r.initialize,delete r.initialize}else if(r.Extends){var l=r.Extends;e=function(){l.apply(this,arguments)}}else e=function(){};r.Extends?(e.prototype=Object.create(r.Extends.prototype),e.prototype.constructor=e,n=r.Extends,delete r.Extends):e.prototype.constructor=e;var i=null;return r.Mixins&&(i=r.Mixins,delete r.Mixins),h(e,i),v(e,r,!0,n),e}s.extend=v,s.mixin=h,s.ignoreFinals=!1,o.exports=s},29747:o=>{var g=function(){};o.exports=g},20242:o=>{var g=function(){return null};o.exports=g},71146:o=>{var g=function(t,a,v,h,s){if(s===void 0&&(s=t),v>0){var r=v-t.length;if(r<=0)return null}if(!Array.isArray(a))return t.indexOf(a)===-1?(t.push(a),h&&h.call(s,a),a):null;for(var e=a.length-1;e>=0;)t.indexOf(a[e])!==-1&&a.splice(e,1),e--;if(e=a.length,e===0)return null;v>0&&e>r&&(a.splice(r),e=r);for(var n=0;n<e;n++){var l=a[n];t.push(l),h&&h.call(s,l)}return a};o.exports=g},51067:o=>{var g=function(t,a,v,h,s,r){if(v===void 0&&(v=0),r===void 0&&(r=t),h>0){var e=h-t.length;if(e<=0)return null}if(!Array.isArray(a))return t.indexOf(a)===-1?(t.splice(v,0,a),s&&s.call(r,a),a):null;for(var n=a.length-1;n>=0;)t.indexOf(a[n])!==-1&&a.pop(),n--;if(n=a.length,n===0)return null;h>0&&n>e&&(a.splice(e),n=e);for(var l=n-1;l>=0;l--){var i=a[l];t.splice(v,0,i),s&&s.call(r,i)}return a};o.exports=g},66905:o=>{var g=function(t,a){var v=t.indexOf(a);return v!==-1&&v<t.length&&(t.splice(v,1),t.push(a)),a};o.exports=g},21612:(o,g,t)=>{var a=t(82011),v=function(h,s,r,e,n){e===void 0&&(e=0),n===void 0&&(n=h.length);var l=0;if(a(h,e,n))for(var i=e;i<n;i++){var u=h[i];u[s]===r&&l++}return l};o.exports=v},95428:o=>{var g=function(t,a,v){var h,s=[null];for(h=3;h<arguments.length;h++)s.push(arguments[h]);for(h=0;h<t.length;h++)s[0]=t[h],a.apply(v,s);return t};o.exports=g},36914:(o,g,t)=>{var a=t(82011),v=function(h,s,r,e,n){if(e===void 0&&(e=0),n===void 0&&(n=h.length),a(h,e,n)){var l,i=[null];for(l=5;l<arguments.length;l++)i.push(arguments[l]);for(l=e;l<n;l++)i[0]=h[l],s.apply(r,i)}return h};o.exports=v},81957:o=>{var g=function(t,a,v){if(a.length){if(a.length===1)return a[0]}else return NaN;var h=1,s,r;if(v){if(t<a[0][v])return a[0];for(;a[h][v]<t;)h++}else for(;a[h]<t;)h++;return h>a.length&&(h=a.length),v?(s=a[h-1][v],r=a[h][v],r-t<=t-s?a[h]:a[h-1]):(s=a[h-1],r=a[h],r-t<=t-s?r:s)};o.exports=g},43491:o=>{var g=function(t,a){a===void 0&&(a=[]);for(var v=0;v<t.length;v++)Array.isArray(t[v])?g(t[v],a):a.push(t[v]);return a};o.exports=g},46710:(o,g,t)=>{var a=t(82011),v=function(h,s,r,e,n){e===void 0&&(e=0),n===void 0&&(n=h.length);var l=[];if(a(h,e,n))for(var i=e;i<n;i++){var u=h[i];(!s||s&&r===void 0&&u.hasOwnProperty(s)||s&&r!==void 0&&u[s]===r)&&l.push(u)}return l};o.exports=v},58731:(o,g,t)=>{var a=t(82011),v=function(h,s,r,e,n){if(e===void 0&&(e=0),n===void 0&&(n=h.length),e!==-1){if(a(h,e,n))for(var l=e;l<n;l++){var i=h[l];if(!s||s&&r===void 0&&i.hasOwnProperty(s)||s&&r!==void 0&&i[s]===r)return i}}else if(a(h,0,n))for(var l=n;l>=0;l--){var i=h[l];if(!s||s&&r===void 0&&i.hasOwnProperty(s)||s&&r!==void 0&&i[s]===r)return i}return null};o.exports=v},26546:o=>{var g=function(t,a,v){a===void 0&&(a=0),v===void 0&&(v=t.length);var h=a+Math.floor(Math.random()*v);return t[h]===void 0?null:t[h]};o.exports=g},85835:o=>{var g=function(t,a,v){if(a===v)return t;var h=t.indexOf(a),s=t.indexOf(v);if(h<0||s<0)throw new Error("Supplied items must be elements of the same array");return h>s||(t.splice(h,1),s=t.indexOf(v),t.splice(s+1,0,a)),t};o.exports=g},83371:o=>{var g=function(t,a,v){if(a===v)return t;var h=t.indexOf(a),s=t.indexOf(v);if(h<0||s<0)throw new Error("Supplied items must be elements of the same array");return h<s||(t.splice(h,1),s===0?t.unshift(a):t.splice(s,0,a)),t};o.exports=g},70864:o=>{var g=function(t,a){var v=t.indexOf(a);if(v>0){var h=t[v-1],s=t.indexOf(h);t[v]=h,t[s]=a}return t};o.exports=g},69693:o=>{var g=function(t,a,v){var h=t.indexOf(a);if(h===-1||v<0||v>=t.length)throw new Error("Supplied index out of bounds");return h!==v&&(t.splice(h,1),t.splice(v,0,a)),a};o.exports=g},40853:o=>{var g=function(t,a){var v=t.indexOf(a);if(v!==-1&&v<t.length-1){var h=t[v+1],s=t.indexOf(h);t[v]=h,t[s]=a}return t};o.exports=g},20283:o=>{var g=function(t,a,v,h){var s=[],r,e=!1;if((v||h)&&(e=!0,v||(v=""),h||(h="")),a<t)for(r=t;r>=a;r--)e?s.push(v+r.toString()+h):s.push(r);else for(r=t;r<=a;r++)e?s.push(v+r.toString()+h):s.push(r);return s};o.exports=g},593:(o,g,t)=>{var a=t(2284),v=function(h,s,r){h===void 0&&(h=0),s===void 0&&(s=null),r===void 0&&(r=1),s===null&&(s=h,h=0);for(var e=[],n=Math.max(a((s-h)/(r||1)),0),l=0;l<n;l++)e.push(h),h+=r;return e};o.exports=v},43886:o=>{function g(v,h,s){var r=v[h];v[h]=v[s],v[s]=r}function t(v,h){return v<h?-1:v>h?1:0}var a=function(v,h,s,r,e){for(s===void 0&&(s=0),r===void 0&&(r=v.length-1),e===void 0&&(e=t);r>s;){if(r-s>600){var n=r-s+1,l=h-s+1,i=Math.log(n),u=.5*Math.exp(2*i/3),f=.5*Math.sqrt(i*u*(n-u)/n)*(l-n/2<0?-1:1),c=Math.max(s,Math.floor(h-l*u/n+f)),d=Math.min(r,Math.floor(h+(n-l)*u/n+f));a(v,h,c,d,e)}var p=v[h],m=s,y=r;for(g(v,s,h),e(v[r],p)>0&&g(v,s,r);m<y;){for(g(v,m,y),m++,y--;e(v[m],p)<0;)m++;for(;e(v[y],p)>0;)y--}e(v[s],p)===0?g(v,s,y):(y++,g(v,y,r)),y<=h&&(s=y+1),h<=y&&(r=y-1)}};o.exports=a},88492:(o,g,t)=>{var a=t(35154),v=t(33680),h=function(r,e,n){for(var l=[],i=0;i<r.length;i++)for(var u=0;u<e.length;u++)for(var f=0;f<n;f++)l.push({a:r[i],b:e[u]});return l},s=function(r,e,n){var l=a(n,"max",0),i=a(n,"qty",1),u=a(n,"random",!1),f=a(n,"randomB",!1),c=a(n,"repeat",0),d=a(n,"yoyo",!1),p=[];if(f&&v(e),c===-1)if(l===0)c=0;else{var m=r.length*e.length*i;d&&(m*=2),c=Math.ceil(l/m)}for(var y=0;y<=c;y++){var x=h(r,e,i);u&&v(x),p=p.concat(x),d&&(x.reverse(),p=p.concat(x))}return l&&p.splice(l),p};o.exports=s},72905:(o,g,t)=>{var a=t(19133),v=function(h,s,r,e){e===void 0&&(e=h);var n;if(!Array.isArray(s))return n=h.indexOf(s),n!==-1?(a(h,n),r&&r.call(e,s),s):null;for(var l=s.length-1,i=[];l>=0;){var u=s[l];n=h.indexOf(u),n!==-1&&(a(h,n),i.push(u),r&&r.call(e,u)),l--}return i};o.exports=v},60248:(o,g,t)=>{var a=t(19133),v=function(h,s,r,e){if(e===void 0&&(e=h),s<0||s>h.length-1)throw new Error("Index out of bounds");var n=a(h,s);return r&&r.call(e,n),n};o.exports=v},81409:(o,g,t)=>{var a=t(82011),v=function(h,s,r,e,n){if(s===void 0&&(s=0),r===void 0&&(r=h.length),n===void 0&&(n=h),a(h,s,r)){var l=r-s,i=h.splice(s,l);if(e)for(var u=0;u<i.length;u++){var f=i[u];e.call(n,f)}return i}else return[]};o.exports=v},31856:(o,g,t)=>{var a=t(19133),v=function(h,s,r){s===void 0&&(s=0),r===void 0&&(r=h.length);var e=s+Math.floor(Math.random()*r);return a(h,e)};o.exports=v},42169:o=>{var g=function(t,a,v){var h=t.indexOf(a),s=t.indexOf(v);return h!==-1&&s===-1?(t[h]=v,!0):!1};o.exports=g},86003:o=>{var g=function(t,a){a===void 0&&(a=1);for(var v=null,h=0;h<a;h++)v=t.shift(),t.push(v);return v};o.exports=g},49498:o=>{var g=function(t,a){a===void 0&&(a=1);for(var v=null,h=0;h<a;h++)v=t.pop(),t.unshift(v);return v};o.exports=g},82011:o=>{var g=function(t,a,v,h){var s=t.length;if(a<0||a>=s||a>=v||v>s){if(h)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};o.exports=g},89545:o=>{var g=function(t,a){var v=t.indexOf(a);return v!==-1&&v>0&&(t.splice(v,1),t.unshift(a)),a};o.exports=g},17810:(o,g,t)=>{var a=t(82011),v=function(h,s,r,e,n){if(e===void 0&&(e=0),n===void 0&&(n=h.length),a(h,e,n))for(var l=e;l<n;l++){var i=h[l];i.hasOwnProperty(s)&&(i[s]=r)}return h};o.exports=v},33680:o=>{var g=function(t){for(var a=t.length-1;a>0;a--){var v=Math.floor(Math.random()*(a+1)),h=t[a];t[a]=t[v],t[v]=h}return t};o.exports=g},90126:o=>{var g=function(t){var a=/\D/g;return t.sort(function(v,h){return parseInt(v.replace(a,""),10)-parseInt(h.replace(a,""),10)}),t};o.exports=g},19133:o=>{var g=function(t,a){if(!(a>=t.length)){for(var v=t.length-1,h=t[a],s=a;s<v;s++)t[s]=t[s+1];return t.length=v,h}};o.exports=g},19186:(o,g,t)=>{var a=t(82264);function v(e,n){return String(e).localeCompare(n)}function h(e,n){var l=e.length;if(l<=1)return e;for(var i=new Array(l),u=1;u<l;u*=2){s(e,n,u,i);var f=e;e=i,i=f}return e}function s(e,n,l,i){var u=e.length,f=0,c=l*2,d,p,m,y,x;for(d=0;d<u;d+=c)for(p=d+l,m=p+l,p>u&&(p=u),m>u&&(m=u),y=d,x=p;;)if(y<p&&x<m)n(e[y],e[x])<=0?i[f++]=e[y++]:i[f++]=e[x++];else if(y<p)i[f++]=e[y++];else if(x<m)i[f++]=e[x++];else break}var r=function(e,n){if(n===void 0&&(n=v),!e||e.length<2)return e;if(a.features.stableSort)return e.sort(n);var l=h(e,n);return l!==e&&s(l,null,e.length,e),e};o.exports=r},25630:o=>{var g=function(t,a,v){if(a===v)return t;var h=t.indexOf(a),s=t.indexOf(v);if(h<0||s<0)throw new Error("Supplied items must be elements of the same array");return t[h]=v,t[s]=a,t};o.exports=g},37105:(o,g,t)=>{o.exports={Matrix:t(54915),Add:t(71146),AddAt:t(51067),BringToTop:t(66905),CountAllMatching:t(21612),Each:t(95428),EachInRange:t(36914),FindClosestInSorted:t(81957),Flatten:t(43491),GetAll:t(46710),GetFirst:t(58731),GetRandom:t(26546),MoveDown:t(70864),MoveTo:t(69693),MoveUp:t(40853),MoveAbove:t(85835),MoveBelow:t(83371),NumberArray:t(20283),NumberArrayStep:t(593),QuickSelect:t(43886),Range:t(88492),Remove:t(72905),RemoveAt:t(60248),RemoveBetween:t(81409),RemoveRandomElement:t(31856),Replace:t(42169),RotateLeft:t(86003),RotateRight:t(49498),SafeRange:t(82011),SendToBack:t(89545),SetAll:t(17810),Shuffle:t(33680),SortByDigits:t(90126),SpliceOne:t(19133),StableSort:t(19186),Swap:t(25630)}},86922:o=>{var g=function(t){if(!Array.isArray(t)||!Array.isArray(t[0]))return!1;for(var a=t[0].length,v=1;v<t.length;v++)if(t[v].length!==a)return!1;return!0};o.exports=g},63362:(o,g,t)=>{var a=t(41836),v=t(86922),h=function(s){var r="";if(!v(s))return r;for(var e=0;e<s.length;e++){for(var n=0;n<s[e].length;n++){var l=s[e][n].toString();l!=="undefined"?r+=a(l,2):r+="?",n<s[e].length-1&&(r+=" |")}if(e<s.length-1){r+=`
`;for(var i=0;i<s[e].length;i++)r+="---",i<s[e].length-1&&(r+="+");r+=`
`}}return r};o.exports=h},92598:o=>{var g=function(t){return t.reverse()};o.exports=g},21224:o=>{var g=function(t){for(var a=0;a<t.length;a++)t[a].reverse();return t};o.exports=g},98717:(o,g,t)=>{var a=t(37829),v=function(h){return a(h,180)};o.exports=v},44657:(o,g,t)=>{var a=t(37829),v=function(h,s){s===void 0&&(s=1);for(var r=0;r<s;r++)h=a(h,90);return h};o.exports=v},37829:(o,g,t)=>{var a=t(86922),v=t(2429),h=function(s,r){if(r===void 0&&(r=90),!a(s))return null;if(typeof r!="string"&&(r=(r%360+360)%360),r===90||r===-270||r==="rotateLeft")s=v(s),s.reverse();else if(r===-90||r===270||r==="rotateRight")s.reverse(),s=v(s);else if(Math.abs(r)===180||r==="rotate180"){for(var e=0;e<s.length;e++)s[e].reverse();s.reverse()}return s};o.exports=h},92632:(o,g,t)=>{var a=t(37829),v=function(h,s){s===void 0&&(s=1);for(var r=0;r<s;r++)h=a(h,-90);return h};o.exports=v},69512:(o,g,t)=>{var a=t(86003),v=t(49498),h=function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),e!==0&&(e<0?a(s,Math.abs(e)):v(s,e)),r!==0)for(var n=0;n<s.length;n++){var l=s[n];r<0?a(l,Math.abs(r)):v(l,r)}return s};o.exports=h},2429:o=>{var g=function(t){for(var a=t.length,v=t[0].length,h=new Array(v),s=0;s<v;s++){h[s]=new Array(a);for(var r=a-1;r>-1;r--)h[s][r]=t[r][s]}return h};o.exports=g},54915:(o,g,t)=>{o.exports={CheckMatrix:t(86922),MatrixToString:t(63362),ReverseColumns:t(92598),ReverseRows:t(21224),Rotate180:t(98717),RotateLeft:t(44657),RotateMatrix:t(37829),RotateRight:t(92632),Translate:t(69512),TransposeMatrix:t(2429)}},71334:o=>{var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=function(a,v){for(var h=new Uint8Array(a),s=h.length,r=v?"data:"+v+";base64,":"",e=0;e<s;e+=3)r+=g[h[e]>>2],r+=g[(h[e]&3)<<4|h[e+1]>>4],r+=g[(h[e+1]&15)<<2|h[e+2]>>6],r+=g[h[e+2]&63];return s%3===2?r=r.substring(0,r.length-1)+"=":s%3===1&&(r=r.substring(0,r.length-2)+"=="),r};o.exports=t},53134:o=>{for(var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(256),a=0;a<g.length;a++)t[g.charCodeAt(a)]=a;var v=function(h){h=h.substr(h.indexOf(",")+1);var s=h.length,r=s*.75,e=0,n,l,i,u;h[s-1]==="="&&(r--,h[s-2]==="="&&r--);for(var f=new ArrayBuffer(r),c=new Uint8Array(f),d=0;d<s;d+=4)n=t[h.charCodeAt(d)],l=t[h.charCodeAt(d+1)],i=t[h.charCodeAt(d+2)],u=t[h.charCodeAt(d+3)],c[e++]=n<<2|l>>4,c[e++]=(l&15)<<4|i>>2,c[e++]=(i&3)<<6|u&63;return f};o.exports=v},65839:(o,g,t)=>{o.exports={ArrayBufferToBase64:t(71334),Base64ToArrayBuffer:t(53134)}},91799:(o,g,t)=>{o.exports={Array:t(37105),Base64:t(65839),Objects:t(1183),String:t(31749),NOOP:t(29747),NULL:t(20242)}},41786:o=>{var g=function(t){var a={};for(var v in t)Array.isArray(t[v])?a[v]=t[v].slice(0):a[v]=t[v];return a};o.exports=g},62644:o=>{var g=function(t){var a,v,h;if(typeof t!="object"||t===null)return t;a=Array.isArray(t)?[]:{};for(h in t)v=t[h],a[h]=g(v);return a};o.exports=g},79291:(o,g,t)=>{var a=t(41212),v=function(){var h,s,r,e,n,l,i=arguments[0]||{},u=1,f=arguments.length,c=!1;for(typeof i=="boolean"&&(c=i,i=arguments[1]||{},u=2),f===u&&(i=this,--u);u<f;u++)if((h=arguments[u])!=null)for(s in h)r=i[s],e=h[s],i!==e&&(c&&e&&(a(e)||(n=Array.isArray(e)))?(n?(n=!1,l=r&&Array.isArray(r)?r:[]):l=r&&a(r)?r:{},i[s]=v(c,l,e)):e!==void 0&&(i[s]=e));return i};o.exports=v},23568:(o,g,t)=>{var a=t(75508),v=t(35154),h=function(s,r,e){var n=v(s,r,null);if(n===null)return e;if(Array.isArray(n))return a.RND.pick(n);if(typeof n=="object"){if(n.hasOwnProperty("randInt"))return a.RND.integerInRange(n.randInt[0],n.randInt[1]);if(n.hasOwnProperty("randFloat"))return a.RND.realInRange(n.randFloat[0],n.randFloat[1])}else if(typeof n=="function")return n(r);return n};o.exports=h},95540:o=>{var g=function(t,a,v){var h=typeof t;return!t||h==="number"||h==="string"?v:t.hasOwnProperty(a)&&t[a]!==void 0?t[a]:v};o.exports=g},82840:(o,g,t)=>{var a=t(35154),v=t(45319),h=function(s,r,e,n,l){l===void 0&&(l=e);var i=a(s,r,l);return v(i,e,n)};o.exports=h},35154:o=>{var g=function(t,a,v,h){if(!t&&!h||typeof t=="number")return v;if(t&&t.hasOwnProperty(a))return t[a];if(h&&h.hasOwnProperty(a))return h[a];if(a.indexOf(".")!==-1){for(var s=a.split("."),r=t,e=h,n=v,l=v,i=!0,u=!0,f=0;f<s.length;f++)r&&r.hasOwnProperty(s[f])?(n=r[s[f]],r=r[s[f]]):i=!1,e&&e.hasOwnProperty(s[f])?(l=e[s[f]],e=e[s[f]]):u=!1;return i?n:u?l:v}else return v};o.exports=g},69036:o=>{var g=function(t,a){for(var v=0;v<a.length;v++)if(!t.hasOwnProperty(a[v]))return!1;return!0};o.exports=g},1985:o=>{var g=function(t,a){for(var v=0;v<a.length;v++)if(t.hasOwnProperty(a[v]))return!0;return!1};o.exports=g},97022:o=>{var g=function(t,a){return t.hasOwnProperty(a)};o.exports=g},41212:o=>{var g=function(t){if(!t||typeof t!="object"||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};o.exports=g},46975:(o,g,t)=>{var a=t(41786),v=function(h,s){var r=a(h);for(var e in s)r.hasOwnProperty(e)||(r[e]=s[e]);return r};o.exports=v},269:(o,g,t)=>{var a=t(41786),v=function(h,s){var r=a(h);for(var e in s)r.hasOwnProperty(e)&&(r[e]=s[e]);return r};o.exports=v},18254:(o,g,t)=>{var a=t(97022),v=function(h,s){for(var r={},e=0;e<s.length;e++){var n=s[e];a(h,n)&&(r[n]=h[n])}return r};o.exports=v},61622:o=>{var g=function(t,a,v){if(!t||typeof t=="number")return!1;if(t.hasOwnProperty(a))return t[a]=v,!0;if(a.indexOf(".")!==-1){for(var h=a.split("."),s=t,r=t,e=0;e<h.length;e++)if(s.hasOwnProperty(h[e]))r=s,s=s[h[e]];else return!1;return r[h[h.length-1]]=v,!0}return!1};o.exports=g},1183:(o,g,t)=>{o.exports={Clone:t(41786),DeepCopy:t(62644),Extend:t(79291),GetAdvancedValue:t(23568),GetFastValue:t(95540),GetMinMaxValue:t(82840),GetValue:t(35154),HasAll:t(69036),HasAny:t(1985),HasValue:t(97022),IsPlainObject:t(41212),Merge:t(46975),MergeRight:t(269),Pick:t(18254),SetValue:t(61622)}},27902:o=>{var g=function(t,a){return t.replace(/%([0-9]+)/g,function(v,h){return a[Number(h)-1]})};o.exports=g},41836:o=>{var g=function(t,a,v,h){a===void 0&&(a=0),v===void 0&&(v=" "),h===void 0&&(h=3),t=t.toString();var s=0;if(a+1>=t.length)switch(h){case 1:t=new Array(a+1-t.length).join(v)+t;break;case 3:var r=Math.ceil((s=a-t.length)/2),e=s-r;t=new Array(e+1).join(v)+t+new Array(r+1).join(v);break;default:t=t+new Array(a+1-t.length).join(v);break}return t};o.exports=g},33628:o=>{var g=function(t,a){return a===0?t.slice(1):t.slice(0,a)+t.slice(a+1)};o.exports=g},27671:o=>{var g=function(t){return t.split("").reverse().join("")};o.exports=g},45650:o=>{var g=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var a=Math.random()*16|0,v=t==="x"?a:a&3|8;return v.toString(16)})};o.exports=g},35355:o=>{var g=function(t){return t&&t[0].toUpperCase()+t.slice(1)};o.exports=g},31749:(o,g,t)=>{o.exports={Format:t(27902),Pad:t(41836),RemoveAt:t(33628),Reverse:t(27671),UppercaseFirst:t(35355),UUID:t(45650)}}},T={};function S(o){var g=T[o];if(g!==void 0)return g.exports;var t=T[o]={exports:{}};return P[o](t,t.exports,S),t.exports}S.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var A=S(85454);return A})())});var ql=null;function Ke(){return ql}function qa(P){ql??=P}var ss=class{},_a=(()=>{class P{historyGo(S){throw new Error("")}static \u0275fac=function(A){return new(A||P)};static \u0275prov=ut({token:P,factory:()=>rt(_l),providedIn:"platform"})}return P})();var _l=(()=>{class P extends _a{_location;_history;_doc=rt(Vt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ke().getBaseHref(this._doc)}onPopState(S){let A=Ke().getGlobalEventTarget(this._doc,"window");return A.addEventListener("popstate",S,!1),()=>A.removeEventListener("popstate",S)}onHashChange(S){let A=Ke().getGlobalEventTarget(this._doc,"window");return A.addEventListener("hashchange",S,!1),()=>A.removeEventListener("hashchange",S)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(S){this._location.pathname=S}pushState(S,A,o){this._history.pushState(S,A,o)}replaceState(S,A,o){this._history.replaceState(S,A,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(S=0){this._history.go(S)}getState(){return this._history.state}static \u0275fac=function(A){return new(A||P)};static \u0275prov=ut({token:P,factory:()=>new P,providedIn:"platform"})}return P})();function tu(P,T){return P?T?P.endsWith("/")?T.startsWith("/")?P+T.slice(1):P+T:T.startsWith("/")?P+T:`${P}/${T}`:P:T}function Ql(P){let T=P.search(/#|\?|$/);return P[T-1]==="/"?P.slice(0,T-1)+P.slice(T):P}function li(P){return P&&P[0]!=="?"?`?${P}`:P}var Tn=(()=>{class P{historyGo(S){throw new Error("")}static \u0275fac=function(A){return new(A||P)};static \u0275prov=ut({token:P,factory:()=>rt(iu),providedIn:"root"})}return P})(),eu=new mt(""),iu=(()=>{class P extends Tn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(S,A){super(),this._platformLocation=S,this._baseHref=A??this._platformLocation.getBaseHrefFromDOM()??rt(Vt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}prepareExternalUrl(S){return tu(this._baseHref,S)}path(S=!1){let A=this._platformLocation.pathname+li(this._platformLocation.search),o=this._platformLocation.hash;return o&&S?`${A}${o}`:A}pushState(S,A,o,g){let t=this.prepareExternalUrl(o+li(g));this._platformLocation.pushState(S,A,t)}replaceState(S,A,o,g){let t=this.prepareExternalUrl(o+li(g));this._platformLocation.replaceState(S,A,t)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(S=0){this._platformLocation.historyGo?.(S)}static \u0275fac=function(A){return new(A||P)(ot(_a),ot(eu,8))};static \u0275prov=ut({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})(),Sn=(()=>{class P{_subject=new ne;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(S){this._locationStrategy=S;let A=this._locationStrategy.getBaseHref();this._basePath=rc(Ql(kl(A))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(S=!1){return this.normalize(this._locationStrategy.path(S))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(S,A=""){return this.path()==this.normalize(S+li(A))}normalize(S){return P.stripTrailingSlash(sc(this._basePath,kl(S)))}prepareExternalUrl(S){return S&&S[0]!=="/"&&(S="/"+S),this._locationStrategy.prepareExternalUrl(S)}go(S,A="",o=null){this._locationStrategy.pushState(o,"",S,A),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+li(A)),o)}replaceState(S,A="",o=null){this._locationStrategy.replaceState(o,"",S,A),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+li(A)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(S=0){this._locationStrategy.historyGo?.(S)}onUrlChange(S){return this._urlChangeListeners.push(S),this._urlChangeSubscription??=this.subscribe(A=>{this._notifyUrlChangeListeners(A.url,A.state)}),()=>{let A=this._urlChangeListeners.indexOf(S);this._urlChangeListeners.splice(A,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(S="",A){this._urlChangeListeners.forEach(o=>o(S,A))}subscribe(S,A,o){return this._subject.subscribe({next:S,error:A??void 0,complete:o??void 0})}static normalizeQueryParams=li;static joinWithSlash=tu;static stripTrailingSlash=Ql;static \u0275fac=function(A){return new(A||P)(ot(Tn))};static \u0275prov=ut({token:P,factory:()=>nc(),providedIn:"root"})}return P})();function nc(){return new Sn(ot(Tn))}function sc(P,T){if(!P||!T.startsWith(P))return T;let S=T.substring(P.length);return S===""||["/",";","?","#"].includes(S[0])?S:T}function kl(P){return P.replace(/\/index.html$/,"")}function rc(P){if(new RegExp("^(https?:)?//").test(P)){let[,S]=P.split(/\/\/[^\/]+/);return S}return P}var to=/\s+/,nu=[],no=(()=>{class P{_ngEl;_renderer;initialClasses=nu;rawClass;stateMap=new Map;constructor(S,A){this._ngEl=S,this._renderer=A}set klass(S){this.initialClasses=S!=null?S.trim().split(to):nu}set ngClass(S){this.rawClass=typeof S=="string"?S.trim().split(to):S}ngDoCheck(){for(let A of this.initialClasses)this._updateState(A,!0);let S=this.rawClass;if(Array.isArray(S)||S instanceof Set)for(let A of S)this._updateState(A,!0);else if(S!=null)for(let A of Object.keys(S))this._updateState(A,!!S[A]);this._applyStateDiff()}_updateState(S,A){let o=this.stateMap.get(S);o!==void 0?(o.enabled!==A&&(o.changed=!0,o.enabled=A),o.touched=!0):this.stateMap.set(S,{enabled:A,changed:!0,touched:!0})}_applyStateDiff(){for(let S of this.stateMap){let A=S[0],o=S[1];o.changed?(this._toggleClass(A,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(A,!1),this.stateMap.delete(A)),o.touched=!1}}_toggleClass(S,A){S=S.trim(),S.length>0&&S.split(to).forEach(o=>{A?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static \u0275fac=function(A){return new(A||P)(Rt(bi),Rt(qn))};static \u0275dir=Ze({type:P,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return P})();var cr=class{$implicit;ngForOf;index;count;constructor(T,S,A,o){this.$implicit=T,this.ngForOf=S,this.index=A,this.count=o}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Cn=(()=>{class P{_viewContainer;_template;_differs;set ngForOf(S){this._ngForOf=S,this._ngForOfDirty=!0}set ngForTrackBy(S){this._trackByFn=S}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(S,A,o){this._viewContainer=S,this._template=A,this._differs=o}set ngForTemplate(S){S&&(this._template=S)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let S=this._ngForOf;!this._differ&&S&&(this._differ=this._differs.find(S).create(this.ngForTrackBy))}if(this._differ){let S=this._differ.diff(this._ngForOf);S&&this._applyChanges(S)}}_applyChanges(S){let A=this._viewContainer;S.forEachOperation((o,g,t)=>{if(o.previousIndex==null)A.createEmbeddedView(this._template,new cr(o.item,this._ngForOf,-1,-1),t===null?void 0:t);else if(t==null)A.remove(g===null?void 0:g);else if(g!==null){let a=A.get(g);A.move(a,t),su(a,o)}});for(let o=0,g=A.length;o<g;o++){let a=A.get(o).context;a.index=o,a.count=g,a.ngForOf=this._ngForOf}S.forEachIdentityChange(o=>{let g=A.get(o.currentIndex);su(g,o)})}static ngTemplateContextGuard(S,A){return!0}static \u0275fac=function(A){return new(A||P)(Rt(zi),Rt(Ha),Rt(Zl))};static \u0275dir=Ze({type:P,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return P})();function su(P,T){P.context.$implicit=T.item}var so=(()=>{class P{_viewContainer;_context=new vr;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(S,A){this._viewContainer=S,this._thenTemplateRef=A}set ngIf(S){this._context.$implicit=this._context.ngIf=S,this._updateView()}set ngIfThen(S){ru(S,!1),this._thenTemplateRef=S,this._thenViewRef=null,this._updateView()}set ngIfElse(S){ru(S,!1),this._elseTemplateRef=S,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(S,A){return!0}static \u0275fac=function(A){return new(A||P)(Rt(zi),Rt(Ha))};static \u0275dir=Ze({type:P,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return P})(),vr=class{$implicit=null;ngIf=null};function ru(P,T){if(P&&!P.createEmbeddedView)throw new dt(2020,!1)}var ro=(()=>{class P{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(S,A,o){this._ngEl=S,this._differs=A,this._renderer=o}set ngStyle(S){this._ngStyle=S,!this._differ&&S&&(this._differ=this._differs.find(S).create())}ngDoCheck(){if(this._differ){let S=this._differ.diff(this._ngStyle);S&&this._applyChanges(S)}}_setStyle(S,A){let[o,g]=S.split("."),t=o.indexOf("-")===-1?void 0:Ui.DashCase;A!=null?this._renderer.setStyle(this._ngEl.nativeElement,o,g?`${A}${g}`:A,t):this._renderer.removeStyle(this._ngEl.nativeElement,o,t)}_applyChanges(S){S.forEachRemovedItem(A=>this._setStyle(A.key,null)),S.forEachAddedItem(A=>this._setStyle(A.key,A.currentValue)),S.forEachChangedItem(A=>this._setStyle(A.key,A.currentValue))}static \u0275fac=function(A){return new(A||P)(Rt(bi),Rt(Kl),Rt(qn))};static \u0275dir=Ze({type:P,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return P})();function oc(P,T){return new dt(2100,!1)}var eo=class{createSubscription(T,S,A){return yn(()=>T.subscribe({next:S,error:A}))}dispose(T){yn(()=>T.unsubscribe())}},io=class{createSubscription(T,S,A){return T.then(o=>S?.(o),o=>A?.(o)),{unsubscribe:()=>{S=null,A=null}}}dispose(T){T.unsubscribe()}},hc=new io,lc=new eo,ao=(()=>{class P{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=rt(gn);constructor(S){this._ref=S}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(S){if(!this._obj){if(S)try{this.markForCheckOnValueUpdate=!1,this._subscribe(S)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return S!==this._obj?(this._dispose(),this.transform(S)):this._latestValue}_subscribe(S){this._obj=S,this._strategy=this._selectStrategy(S),this._subscription=this._strategy.createSubscription(S,A=>this._updateLatestValue(S,A),A=>this.applicationErrorHandler(A))}_selectStrategy(S){if(rr(S))return hc;if(Ll(S))return lc;throw oc(P,S)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(S,A){S===this._obj&&(this._latestValue=A,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(A){return new(A||P)(Rt(is,16))};static \u0275pipe=Ka({name:"async",type:P,pure:!1})}return P})();function rs(P,T){T=encodeURIComponent(T);for(let S of P.split(";")){let A=S.indexOf("="),[o,g]=A==-1?[S,""]:[S.slice(0,A),S.slice(A+1)];if(o.trim()===T)return decodeURIComponent(g)}return null}var Wi=class{};var oo="browser",fc="server";function Hi(P){return P===oo}function au(P){return P===fc}var mr=new mt(""),fo=(()=>{class P{_zone;_plugins;_eventNameToPlugin=new Map;constructor(S,A){this._zone=A,S.forEach(o=>{o.manager=this}),this._plugins=S.slice().reverse()}addEventListener(S,A,o,g){return this._findPluginFor(A).addEventListener(S,A,o,g)}getZone(){return this._zone}_findPluginFor(S){let A=this._eventNameToPlugin.get(S);if(A)return A;if(A=this._plugins.find(g=>g.supports(S)),!A)throw new dt(5101,!1);return this._eventNameToPlugin.set(S,A),A}static \u0275fac=function(A){return new(A||P)(ot(mr),ot(Le))};static \u0275prov=ut({token:P,factory:P.\u0275fac})}return P})(),as=class{_doc;constructor(T){this._doc=T}manager},pr="ng-app-id";function ou(P){for(let T of P)T.remove()}function hu(P,T){let S=T.createElement("style");return S.textContent=P,S}function cc(P,T,S,A){let o=P.head?.querySelectorAll(`style[${pr}="${T}"],link[${pr}="${T}"]`);if(o)for(let g of o)g.removeAttribute(pr),g instanceof HTMLLinkElement?A.set(g.href.slice(g.href.lastIndexOf("/")+1),{usage:0,elements:[g]}):g.textContent&&S.set(g.textContent,{usage:0,elements:[g]})}function lo(P,T){let S=T.createElement("link");return S.setAttribute("rel","stylesheet"),S.setAttribute("href",P),S}var co=(()=>{class P{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(S,A,o,g={}){this.doc=S,this.appId=A,this.nonce=o,this.isServer=au(g),cc(S,A,this.inline,this.external),this.hosts.add(S.head)}addStyles(S,A){for(let o of S)this.addUsage(o,this.inline,hu);A?.forEach(o=>this.addUsage(o,this.external,lo))}removeStyles(S,A){for(let o of S)this.removeUsage(o,this.inline);A?.forEach(o=>this.removeUsage(o,this.external))}addUsage(S,A,o){let g=A.get(S);g?g.usage++:A.set(S,{usage:1,elements:[...this.hosts].map(t=>this.addElement(t,o(S,this.doc)))})}removeUsage(S,A){let o=A.get(S);o&&(o.usage--,o.usage<=0&&(ou(o.elements),A.delete(S)))}ngOnDestroy(){for(let[,{elements:S}]of[...this.inline,...this.external])ou(S);this.hosts.clear()}addHost(S){this.hosts.add(S);for(let[A,{elements:o}]of this.inline)o.push(this.addElement(S,hu(A,this.doc)));for(let[A,{elements:o}]of this.external)o.push(this.addElement(S,lo(A,this.doc)))}removeHost(S){this.hosts.delete(S)}addElement(S,A){return this.nonce&&A.setAttribute("nonce",this.nonce),this.isServer&&A.setAttribute(pr,this.appId),S.appendChild(A)}static \u0275fac=function(A){return new(A||P)(ot(Vt),ot(Xa),ot(Ya,8),ot(Gi))};static \u0275prov=ut({token:P,factory:P.\u0275fac})}return P})(),ho={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},vo=/%COMP%/g;var uu="%COMP%",vc=`_nghost-${uu}`,pc=`_ngcontent-${uu}`,gc=!0,mc=new mt("",{providedIn:"root",factory:()=>gc});function xc(P){return pc.replace(vo,P)}function yc(P){return vc.replace(vo,P)}function fu(P,T){return T.map(S=>S.replace(vo,P))}var ls=(()=>{class P{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(S,A,o,g,t,a,v,h=null,s=null){this.eventManager=S,this.sharedStylesHost=A,this.appId=o,this.removeStylesOnCompDestroy=g,this.doc=t,this.platformId=a,this.ngZone=v,this.nonce=h,this.tracingService=s,this.platformIsServer=!1,this.defaultRenderer=new os(S,t,v,this.platformIsServer,this.tracingService)}createRenderer(S,A){if(!S||!A)return this.defaultRenderer;let o=this.getOrCreateRenderer(S,A);return o instanceof gr?o.applyToHost(S):o instanceof hs&&o.applyStyles(),o}getOrCreateRenderer(S,A){let o=this.rendererByCompId,g=o.get(A.id);if(!g){let t=this.doc,a=this.ngZone,v=this.eventManager,h=this.sharedStylesHost,s=this.removeStylesOnCompDestroy,r=this.platformIsServer,e=this.tracingService;switch(A.encapsulation){case Wa.Emulated:g=new gr(v,h,A,this.appId,s,t,a,r,e);break;case Wa.ShadowDom:return new uo(v,h,S,A,t,a,this.nonce,r,e);default:g=new hs(v,h,A,s,t,a,r,e);break}o.set(A.id,g)}return g}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(S){this.rendererByCompId.delete(S)}static \u0275fac=function(A){return new(A||P)(ot(fo),ot(co),ot(Xa),ot(mc),ot(Vt),ot(Gi),ot(Le),ot(Ya),ot(Fl,8))};static \u0275prov=ut({token:P,factory:P.\u0275fac})}return P})(),os=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(T,S,A,o,g){this.eventManager=T,this.doc=S,this.ngZone=A,this.platformIsServer=o,this.tracingService=g}destroy(){}destroyNode=null;createElement(T,S){return S?this.doc.createElementNS(ho[S]||S,T):this.doc.createElement(T)}createComment(T){return this.doc.createComment(T)}createText(T){return this.doc.createTextNode(T)}appendChild(T,S){(lu(T)?T.content:T).appendChild(S)}insertBefore(T,S,A){T&&(lu(T)?T.content:T).insertBefore(S,A)}removeChild(T,S){S.remove()}selectRootElement(T,S){let A=typeof T=="string"?this.doc.querySelector(T):T;if(!A)throw new dt(-5104,!1);return S||(A.textContent=""),A}parentNode(T){return T.parentNode}nextSibling(T){return T.nextSibling}setAttribute(T,S,A,o){if(o){S=o+":"+S;let g=ho[o];g?T.setAttributeNS(g,S,A):T.setAttribute(S,A)}else T.setAttribute(S,A)}removeAttribute(T,S,A){if(A){let o=ho[A];o?T.removeAttributeNS(o,S):T.removeAttribute(`${A}:${S}`)}else T.removeAttribute(S)}addClass(T,S){T.classList.add(S)}removeClass(T,S){T.classList.remove(S)}setStyle(T,S,A,o){o&(Ui.DashCase|Ui.Important)?T.style.setProperty(S,A,o&Ui.Important?"important":""):T.style[S]=A}removeStyle(T,S,A){A&Ui.DashCase?T.style.removeProperty(S):T.style[S]=""}setProperty(T,S,A){T!=null&&(T[S]=A)}setValue(T,S){T.nodeValue=S}listen(T,S,A,o){if(typeof T=="string"&&(T=Ke().getGlobalEventTarget(this.doc,T),!T))throw new dt(5102,!1);let g=this.decoratePreventDefault(A);return this.tracingService?.wrapEventListener&&(g=this.tracingService.wrapEventListener(T,S,g)),this.eventManager.addEventListener(T,S,g,o)}decoratePreventDefault(T){return S=>{if(S==="__ngUnwrap__")return T;T(S)===!1&&S.preventDefault()}}};function lu(P){return P.tagName==="TEMPLATE"&&P.content!==void 0}var uo=class extends os{sharedStylesHost;hostEl;shadowRoot;constructor(T,S,A,o,g,t,a,v,h){super(T,g,t,v,h),this.sharedStylesHost=S,this.hostEl=A,this.shadowRoot=A.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let s=o.styles;s=fu(o.id,s);for(let e of s){let n=document.createElement("style");a&&n.setAttribute("nonce",a),n.textContent=e,this.shadowRoot.appendChild(n)}let r=o.getExternalStyles?.();if(r)for(let e of r){let n=lo(e,g);a&&n.setAttribute("nonce",a),this.shadowRoot.appendChild(n)}}nodeOrShadowRoot(T){return T===this.hostEl?this.shadowRoot:T}appendChild(T,S){return super.appendChild(this.nodeOrShadowRoot(T),S)}insertBefore(T,S,A){return super.insertBefore(this.nodeOrShadowRoot(T),S,A)}removeChild(T,S){return super.removeChild(null,S)}parentNode(T){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(T)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},hs=class extends os{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(T,S,A,o,g,t,a,v,h){super(T,g,t,a,v),this.sharedStylesHost=S,this.removeStylesOnCompDestroy=o;let s=A.styles;this.styles=h?fu(h,s):s,this.styleUrls=A.getExternalStyles?.(h)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},gr=class extends hs{contentAttr;hostAttr;constructor(T,S,A,o,g,t,a,v,h){let s=o+"-"+A.id;super(T,S,A,g,t,a,v,h,s),this.contentAttr=xc(s),this.hostAttr=yc(s)}applyToHost(T){this.applyStyles(),this.setAttribute(T,this.hostAttr,"")}createElement(T,S){let A=super.createElement(T,S);return super.setAttribute(A,this.contentAttr,""),A}};var xr=class P extends ss{supportsDOMEvents=!0;static makeCurrent(){qa(new P)}onAndCancel(T,S,A,o){return T.addEventListener(S,A,o),()=>{T.removeEventListener(S,A,o)}}dispatchEvent(T,S){T.dispatchEvent(S)}remove(T){T.remove()}createElement(T,S){return S=S||this.getDefaultDocument(),S.createElement(T)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(T){return T.nodeType===Node.ELEMENT_NODE}isShadowRoot(T){return T instanceof DocumentFragment}getGlobalEventTarget(T,S){return S==="window"?window:S==="document"?T:S==="body"?T.body:null}getBaseHref(T){let S=Sc();return S==null?null:Cc(S)}resetBaseElement(){us=null}getUserAgent(){return window.navigator.userAgent}getCookie(T){return rs(document.cookie,T)}},us=null;function Sc(){return us=us||document.head.querySelector("base"),us?us.getAttribute("href"):null}function Cc(P){return new URL(P,document.baseURI).pathname}var Ec=(()=>{class P{build(){return new XMLHttpRequest}static \u0275fac=function(A){return new(A||P)};static \u0275prov=ut({token:P,factory:P.\u0275fac})}return P})(),cu=(()=>{class P extends as{constructor(S){super(S)}supports(S){return!0}addEventListener(S,A,o,g){return S.addEventListener(A,o,g),()=>this.removeEventListener(S,A,o,g)}removeEventListener(S,A,o,g){return S.removeEventListener(A,o,g)}static \u0275fac=function(A){return new(A||P)(ot(Vt))};static \u0275prov=ut({token:P,factory:P.\u0275fac})}return P})(),du=["alt","control","meta","shift"],Ac={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Rc={alt:P=>P.altKey,control:P=>P.ctrlKey,meta:P=>P.metaKey,shift:P=>P.shiftKey},vu=(()=>{class P extends as{constructor(S){super(S)}supports(S){return P.parseEventName(S)!=null}addEventListener(S,A,o,g){let t=P.parseEventName(A),a=P.eventCallback(t.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ke().onAndCancel(S,t.domEventName,a,g))}static parseEventName(S){let A=S.toLowerCase().split("."),o=A.shift();if(A.length===0||!(o==="keydown"||o==="keyup"))return null;let g=P._normalizeKey(A.pop()),t="",a=A.indexOf("code");if(a>-1&&(A.splice(a,1),t="code."),du.forEach(h=>{let s=A.indexOf(h);s>-1&&(A.splice(s,1),t+=h+".")}),t+=g,A.length!=0||g.length===0)return null;let v={};return v.domEventName=o,v.fullKey=t,v}static matchEventFullKeyCode(S,A){let o=Ac[S.key]||S.key,g="";return A.indexOf("code.")>-1&&(o=S.code,g="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),du.forEach(t=>{if(t!==o){let a=Rc[t];a(S)&&(g+=t+".")}}),g+=o,g===A)}static eventCallback(S,A,o){return g=>{P.matchEventFullKeyCode(g,S)&&o.runGuarded(()=>A(g))}}static _normalizeKey(S){return S==="esc"?"escape":S}static \u0275fac=function(A){return new(A||P)(ot(Vt))};static \u0275prov=ut({token:P,factory:P.\u0275fac})}return P})();function po(P,T){return Jl(tt({rootComponent:P},Pc(T)))}function Pc(P){return{appProviders:[...Lc,...P?.providers??[]],platformProviders:Fc}}function Mc(){xr.makeCurrent()}function Dc(){return new Ga}function wc(){return ml(document),document}var Fc=[{provide:Gi,useValue:oo},{provide:xl,useValue:Mc,multi:!0},{provide:Vt,useFactory:wc}];var Lc=[{provide:vl,useValue:"root"},{provide:Ga,useFactory:Dc},{provide:mr,useClass:cu,multi:!0,deps:[Vt]},{provide:mr,useClass:vu,multi:!0,deps:[Vt]},ls,co,fo,{provide:sr,useExisting:ls},{provide:Wi,useClass:Ec},[]];var An=class{},fs=class{},ui=class P{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(T){T?typeof T=="string"?this.lazyInit=()=>{this.headers=new Map,T.split(`
`).forEach(S=>{let A=S.indexOf(":");if(A>0){let o=S.slice(0,A),g=S.slice(A+1).trim();this.addHeaderEntry(o,g)}})}:typeof Headers<"u"&&T instanceof Headers?(this.headers=new Map,T.forEach((S,A)=>{this.addHeaderEntry(A,S)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(T).forEach(([S,A])=>{this.setHeaderEntries(S,A)})}:this.headers=new Map}has(T){return this.init(),this.headers.has(T.toLowerCase())}get(T){this.init();let S=this.headers.get(T.toLowerCase());return S&&S.length>0?S[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(T){return this.init(),this.headers.get(T.toLowerCase())||null}append(T,S){return this.clone({name:T,value:S,op:"a"})}set(T,S){return this.clone({name:T,value:S,op:"s"})}delete(T,S){return this.clone({name:T,value:S,op:"d"})}maybeSetNormalizedName(T,S){this.normalizedNames.has(S)||this.normalizedNames.set(S,T)}init(){this.lazyInit&&(this.lazyInit instanceof P?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(T=>this.applyUpdate(T)),this.lazyUpdate=null))}copyFrom(T){T.init(),Array.from(T.headers.keys()).forEach(S=>{this.headers.set(S,T.headers.get(S)),this.normalizedNames.set(S,T.normalizedNames.get(S))})}clone(T){let S=new P;return S.lazyInit=this.lazyInit&&this.lazyInit instanceof P?this.lazyInit:this,S.lazyUpdate=(this.lazyUpdate||[]).concat([T]),S}applyUpdate(T){let S=T.name.toLowerCase();switch(T.op){case"a":case"s":let A=T.value;if(typeof A=="string"&&(A=[A]),A.length===0)return;this.maybeSetNormalizedName(T.name,S);let o=(T.op==="a"?this.headers.get(S):void 0)||[];o.push(...A),this.headers.set(S,o);break;case"d":let g=T.value;if(!g)this.headers.delete(S),this.normalizedNames.delete(S);else{let t=this.headers.get(S);if(!t)return;t=t.filter(a=>g.indexOf(a)===-1),t.length===0?(this.headers.delete(S),this.normalizedNames.delete(S)):this.headers.set(S,t)}break}}addHeaderEntry(T,S){let A=T.toLowerCase();this.maybeSetNormalizedName(T,A),this.headers.has(A)?this.headers.get(A).push(S):this.headers.set(A,[S])}setHeaderEntries(T,S){let A=(Array.isArray(S)?S:[S]).map(g=>g.toString()),o=T.toLowerCase();this.headers.set(o,A),this.maybeSetNormalizedName(T,o)}forEach(T){this.init(),Array.from(this.normalizedNames.keys()).forEach(S=>T(this.normalizedNames.get(S),this.headers.get(S)))}};var Tr=class{encodeKey(T){return pu(T)}encodeValue(T){return pu(T)}decodeKey(T){return decodeURIComponent(T)}decodeValue(T){return decodeURIComponent(T)}};function Oc(P,T){let S=new Map;return P.length>0&&P.replace(/^\?/,"").split("&").forEach(o=>{let g=o.indexOf("="),[t,a]=g==-1?[T.decodeKey(o),""]:[T.decodeKey(o.slice(0,g)),T.decodeValue(o.slice(g+1))],v=S.get(t)||[];v.push(a),S.set(t,v)}),S}var Ic=/%(\d[a-f0-9])/gi,Bc={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function pu(P){return encodeURIComponent(P).replace(Ic,(T,S)=>Bc[S]??T)}function yr(P){return`${P}`}var Je=class P{map;encoder;updates=null;cloneFrom=null;constructor(T={}){if(this.encoder=T.encoder||new Tr,T.fromString){if(T.fromObject)throw new dt(2805,!1);this.map=Oc(T.fromString,this.encoder)}else T.fromObject?(this.map=new Map,Object.keys(T.fromObject).forEach(S=>{let A=T.fromObject[S],o=Array.isArray(A)?A.map(yr):[yr(A)];this.map.set(S,o)})):this.map=null}has(T){return this.init(),this.map.has(T)}get(T){this.init();let S=this.map.get(T);return S?S[0]:null}getAll(T){return this.init(),this.map.get(T)||null}keys(){return this.init(),Array.from(this.map.keys())}append(T,S){return this.clone({param:T,value:S,op:"a"})}appendAll(T){let S=[];return Object.keys(T).forEach(A=>{let o=T[A];Array.isArray(o)?o.forEach(g=>{S.push({param:A,value:g,op:"a"})}):S.push({param:A,value:o,op:"a"})}),this.clone(S)}set(T,S){return this.clone({param:T,value:S,op:"s"})}delete(T,S){return this.clone({param:T,value:S,op:"d"})}toString(){return this.init(),this.keys().map(T=>{let S=this.encoder.encodeKey(T);return this.map.get(T).map(A=>S+"="+this.encoder.encodeValue(A)).join("&")}).filter(T=>T!=="").join("&")}clone(T){let S=new P({encoder:this.encoder});return S.cloneFrom=this.cloneFrom||this,S.updates=(this.updates||[]).concat(T),S}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(T=>this.map.set(T,this.cloneFrom.map.get(T))),this.updates.forEach(T=>{switch(T.op){case"a":case"s":let S=(T.op==="a"?this.map.get(T.param):void 0)||[];S.push(yr(T.value)),this.map.set(T.param,S);break;case"d":if(T.value!==void 0){let A=this.map.get(T.param)||[],o=A.indexOf(yr(T.value));o!==-1&&A.splice(o,1),A.length>0?this.map.set(T.param,A):this.map.delete(T.param)}else{this.map.delete(T.param);break}}}),this.cloneFrom=this.updates=null)}};var Sr=class{map=new Map;set(T,S){return this.map.set(T,S),this}get(T){return this.map.has(T)||this.map.set(T,T.defaultValue()),this.map.get(T)}delete(T){return this.map.delete(T),this}has(T){return this.map.has(T)}keys(){return this.map.keys()}};function Nc(P){switch(P){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function gu(P){return typeof ArrayBuffer<"u"&&P instanceof ArrayBuffer}function mu(P){return typeof Blob<"u"&&P instanceof Blob}function xu(P){return typeof FormData<"u"&&P instanceof FormData}function bc(P){return typeof URLSearchParams<"u"&&P instanceof URLSearchParams}var yu="Content-Type",Tu="Accept",Su="X-Request-URL",Cu="text/plain",Eu="application/json",Gc=`${Eu}, ${Cu}, */*`,En=class P{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;keepalive=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(T,S,A,o){this.url=S,this.method=T.toUpperCase();let g;if(Nc(this.method)||o?(this.body=A!==void 0?A:null,g=o):g=A,g&&(this.reportProgress=!!g.reportProgress,this.withCredentials=!!g.withCredentials,this.keepalive=!!g.keepalive,g.responseType&&(this.responseType=g.responseType),g.headers&&(this.headers=g.headers),g.context&&(this.context=g.context),g.params&&(this.params=g.params),this.transferCache=g.transferCache),this.headers??=new ui,this.context??=new Sr,!this.params)this.params=new Je,this.urlWithParams=S;else{let t=this.params.toString();if(t.length===0)this.urlWithParams=S;else{let a=S.indexOf("?"),v=a===-1?"?":a<S.length-1?"&":"";this.urlWithParams=S+v+t}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||gu(this.body)||mu(this.body)||xu(this.body)||bc(this.body)?this.body:this.body instanceof Je?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||xu(this.body)?null:mu(this.body)?this.body.type||null:gu(this.body)?null:typeof this.body=="string"?Cu:this.body instanceof Je?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Eu:null}clone(T={}){let S=T.method||this.method,A=T.url||this.url,o=T.responseType||this.responseType,g=T.keepalive??this.keepalive,t=T.transferCache??this.transferCache,a=T.body!==void 0?T.body:this.body,v=T.withCredentials??this.withCredentials,h=T.reportProgress??this.reportProgress,s=T.headers||this.headers,r=T.params||this.params,e=T.context??this.context;return T.setHeaders!==void 0&&(s=Object.keys(T.setHeaders).reduce((n,l)=>n.set(l,T.setHeaders[l]),s)),T.setParams&&(r=Object.keys(T.setParams).reduce((n,l)=>n.set(l,T.setParams[l]),r)),new P(S,A,a,{params:r,headers:s,context:e,reportProgress:h,responseType:o,withCredentials:v,transferCache:t,keepalive:g})}},$i=function(P){return P[P.Sent=0]="Sent",P[P.UploadProgress=1]="UploadProgress",P[P.ResponseHeader=2]="ResponseHeader",P[P.DownloadProgress=3]="DownloadProgress",P[P.Response=4]="Response",P[P.User=5]="User",P}($i||{}),Rn=class{headers;status;statusText;url;ok;type;constructor(T,S=200,A="OK"){this.headers=T.headers||new ui,this.status=T.status!==void 0?T.status:S,this.statusText=T.statusText||A,this.url=T.url||null,this.ok=this.status>=200&&this.status<300}},Cr=class P extends Rn{constructor(T={}){super(T)}type=$i.ResponseHeader;clone(T={}){return new P({headers:T.headers||this.headers,status:T.status!==void 0?T.status:this.status,statusText:T.statusText||this.statusText,url:T.url||this.url||void 0})}},ds=class P extends Rn{body;constructor(T={}){super(T),this.body=T.body!==void 0?T.body:null}type=$i.Response;clone(T={}){return new P({body:T.body!==void 0?T.body:this.body,headers:T.headers||this.headers,status:T.status!==void 0?T.status:this.status,statusText:T.statusText||this.statusText,url:T.url||this.url||void 0})}},cs=class extends Rn{name="HttpErrorResponse";message;error;ok=!1;constructor(T){super(T,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${T.url||"(unknown url)"}`:this.message=`Http failure response for ${T.url||"(unknown url)"}: ${T.status} ${T.statusText}`,this.error=T.error||null}},Uc=200,zc=204;function go(P,T){return{body:T,headers:P.headers,context:P.context,observe:P.observe,params:P.params,reportProgress:P.reportProgress,responseType:P.responseType,withCredentials:P.withCredentials,transferCache:P.transferCache,keepalive:P.keepalive}}var Pn=(()=>{class P{handler;constructor(S){this.handler=S}request(S,A,o={}){let g;if(S instanceof En)g=S;else{let v;o.headers instanceof ui?v=o.headers:v=new ui(o.headers);let h;o.params&&(o.params instanceof Je?h=o.params:h=new Je({fromObject:o.params})),g=new En(S,A,o.body!==void 0?o.body:null,{headers:v,context:o.context,params:h,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache,keepalive:o.keepalive})}let t=ht(g).pipe(Li(v=>this.handler.handle(v)));if(S instanceof En||o.observe==="events")return t;let a=t.pipe(He(v=>v instanceof ds));switch(o.observe||"body"){case"body":switch(g.responseType){case"arraybuffer":return a.pipe(Tt(v=>{if(v.body!==null&&!(v.body instanceof ArrayBuffer))throw new dt(2806,!1);return v.body}));case"blob":return a.pipe(Tt(v=>{if(v.body!==null&&!(v.body instanceof Blob))throw new dt(2807,!1);return v.body}));case"text":return a.pipe(Tt(v=>{if(v.body!==null&&typeof v.body!="string")throw new dt(2808,!1);return v.body}));case"json":default:return a.pipe(Tt(v=>v.body))}case"response":return a;default:throw new dt(2809,!1)}}delete(S,A={}){return this.request("DELETE",S,A)}get(S,A={}){return this.request("GET",S,A)}head(S,A={}){return this.request("HEAD",S,A)}jsonp(S,A){return this.request("JSONP",S,{params:new Je().append(A,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(S,A={}){return this.request("OPTIONS",S,A)}patch(S,A,o={}){return this.request("PATCH",S,go(o,A))}post(S,A,o={}){return this.request("POST",S,go(o,A))}put(S,A,o={}){return this.request("PUT",S,go(o,A))}static \u0275fac=function(A){return new(A||P)(ot(An))};static \u0275prov=ut({token:P,factory:P.\u0275fac})}return P})();var Vc=new mt("");function Xc(P,T){return T(P)}function Yc(P,T,S){return(A,o)=>Me(S,()=>T(A,g=>P(g,o)))}var Au=new mt(""),Ru=new mt(""),Pu=new mt("",{providedIn:"root",factory:()=>!0});var Er=(()=>{class P extends An{backend;injector;chain=null;pendingTasks=rt(Ua);contributeToStability=rt(Pu);constructor(S,A){super(),this.backend=S,this.injector=A}handle(S){if(this.chain===null){let A=Array.from(new Set([...this.injector.get(Au),...this.injector.get(Ru,[])]));this.chain=A.reduceRight((o,g)=>Yc(o,g,this.injector),Xc)}if(this.contributeToStability){let A=this.pendingTasks.add();return this.chain(S,o=>this.backend.handle(o)).pipe(vn(A))}else return this.chain(S,A=>this.backend.handle(A))}static \u0275fac=function(A){return new(A||P)(ot(fs),ot(ri))};static \u0275prov=ut({token:P,factory:P.\u0275fac})}return P})();var Wc=/^\)\]\}',?\n/,Hc=RegExp(`^${Su}:`,"m");function $c(P){return"responseURL"in P&&P.responseURL?P.responseURL:Hc.test(P.getAllResponseHeaders())?P.getResponseHeader(Su):null}var mo=(()=>{class P{xhrFactory;constructor(S){this.xhrFactory=S}handle(S){if(S.method==="JSONP")throw new dt(-2800,!1);S.keepalive;let A=this.xhrFactory;return(A.\u0275loadImpl?le(A.\u0275loadImpl()):ht(null)).pipe(se(()=>new _s(g=>{let t=A.build();if(t.open(S.method,S.urlWithParams),S.withCredentials&&(t.withCredentials=!0),S.headers.forEach((i,u)=>t.setRequestHeader(i,u.join(","))),S.headers.has(Tu)||t.setRequestHeader(Tu,Gc),!S.headers.has(yu)){let i=S.detectContentTypeHeader();i!==null&&t.setRequestHeader(yu,i)}if(S.responseType){let i=S.responseType.toLowerCase();t.responseType=i!=="json"?i:"text"}let a=S.serializeBody(),v=null,h=()=>{if(v!==null)return v;let i=t.statusText||"OK",u=new ui(t.getAllResponseHeaders()),f=$c(t)||S.url;return v=new Cr({headers:u,status:t.status,statusText:i,url:f}),v},s=()=>{let{headers:i,status:u,statusText:f,url:c}=h(),d=null;u!==zc&&(d=typeof t.response>"u"?t.responseText:t.response),u===0&&(u=d?Uc:0);let p=u>=200&&u<300;if(S.responseType==="json"&&typeof d=="string"){let m=d;d=d.replace(Wc,"");try{d=d!==""?JSON.parse(d):null}catch(y){d=m,p&&(p=!1,d={error:y,text:d})}}p?(g.next(new ds({body:d,headers:i,status:u,statusText:f,url:c||void 0})),g.complete()):g.error(new cs({error:d,headers:i,status:u,statusText:f,url:c||void 0}))},r=i=>{let{url:u}=h(),f=new cs({error:i,status:t.status||0,statusText:t.statusText||"Unknown Error",url:u||void 0});g.error(f)},e=!1,n=i=>{e||(g.next(h()),e=!0);let u={type:$i.DownloadProgress,loaded:i.loaded};i.lengthComputable&&(u.total=i.total),S.responseType==="text"&&t.responseText&&(u.partialText=t.responseText),g.next(u)},l=i=>{let u={type:$i.UploadProgress,loaded:i.loaded};i.lengthComputable&&(u.total=i.total),g.next(u)};return t.addEventListener("load",s),t.addEventListener("error",r),t.addEventListener("timeout",r),t.addEventListener("abort",r),S.reportProgress&&(t.addEventListener("progress",n),a!==null&&t.upload&&t.upload.addEventListener("progress",l)),t.send(a),g.next({type:$i.Sent}),()=>{t.removeEventListener("error",r),t.removeEventListener("abort",r),t.removeEventListener("load",s),t.removeEventListener("timeout",r),S.reportProgress&&(t.removeEventListener("progress",n),a!==null&&t.upload&&t.upload.removeEventListener("progress",l)),t.readyState!==t.DONE&&t.abort()}})))}static \u0275fac=function(A){return new(A||P)(ot(Wi))};static \u0275prov=ut({token:P,factory:P.\u0275fac})}return P})(),Mu=new mt(""),jc="XSRF-TOKEN",Zc=new mt("",{providedIn:"root",factory:()=>jc}),Kc="X-XSRF-TOKEN",Jc=new mt("",{providedIn:"root",factory:()=>Kc}),vs=class{},Qc=(()=>{class P{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(S,A){this.doc=S,this.cookieName=A}getToken(){let S=this.doc.cookie||"";return S!==this.lastCookieString&&(this.parseCount++,this.lastToken=rs(S,this.cookieName),this.lastCookieString=S),this.lastToken}static \u0275fac=function(A){return new(A||P)(ot(Vt),ot(Zc))};static \u0275prov=ut({token:P,factory:P.\u0275fac})}return P})();function kc(P,T){let S=P.url.toLowerCase();if(!rt(Mu)||P.method==="GET"||P.method==="HEAD"||S.startsWith("http://")||S.startsWith("https://"))return T(P);let A=rt(vs).getToken(),o=rt(Jc);return A!=null&&!P.headers.has(o)&&(P=P.clone({headers:P.headers.set(o,A)})),T(P)}function xo(...P){let T=[Pn,mo,Er,{provide:An,useExisting:Er},{provide:fs,useFactory:()=>rt(Vc,{optional:!0})??rt(mo)},{provide:Au,useValue:kc,multi:!0},{provide:Mu,useValue:!0},{provide:vs,useClass:Qc}];for(let S of P)T.push(...S.\u0275providers);return Ii(T)}var wu=(()=>{class P{_doc;constructor(S){this._doc=S}getTitle(){return this._doc.title}setTitle(S){this._doc.title=S||""}static \u0275fac=function(A){return new(A||P)(ot(Vt))};static \u0275prov=ut({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})();var yo=(()=>{class P{static \u0275fac=function(A){return new(A||P)};static \u0275prov=ut({token:P,factory:function(A){let o=null;return A?o=new(A||P):o=ot(_c),o},providedIn:"root"})}return P})(),_c=(()=>{class P extends yo{_doc;constructor(S){super(),this._doc=S}sanitize(S,A){if(A==null)return null;switch(S){case je.NONE:return A;case je.HTML:return xn(A,"HTML")?mn(A):Pl(this._doc,String(A)).toString();case je.STYLE:return xn(A,"Style")?mn(A):A;case je.SCRIPT:if(xn(A,"Script"))return mn(A);throw new dt(5200,!1);case je.URL:return xn(A,"URL")?mn(A):Rl(String(A));case je.RESOURCE_URL:if(xn(A,"ResourceURL"))return mn(A);throw new dt(5201,!1);default:throw new dt(5202,!1)}}bypassSecurityTrustHtml(S){return Tl(S)}bypassSecurityTrustStyle(S){return Sl(S)}bypassSecurityTrustScript(S){return Cl(S)}bypassSecurityTrustUrl(S){return El(S)}bypassSecurityTrustResourceUrl(S){return Al(S)}static \u0275fac=function(A){return new(A||P)(ot(Vt))};static \u0275prov=ut({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})();var ft="primary",ws=Symbol("RouteTitle"),Ao=class{params;constructor(T){this.params=T||{}}has(T){return Object.prototype.hasOwnProperty.call(this.params,T)}get(T){if(this.has(T)){let S=this.params[T];return Array.isArray(S)?S[0]:S}return null}getAll(T){if(this.has(T)){let S=this.params[T];return Array.isArray(S)?S:[S]}return[]}get keys(){return Object.keys(this.params)}};function Ki(P){return new Ao(P)}function Uu(P,T,S){let A=S.path.split("/");if(A.length>P.length||S.pathMatch==="full"&&(T.hasChildren()||A.length<P.length))return null;let o={};for(let g=0;g<A.length;g++){let t=A[g],a=P[g];if(t[0]===":")o[t.substring(1)]=a;else if(t!==a.path)return null}return{consumed:P.slice(0,A.length),posParams:o}}function tv(P,T){if(P.length!==T.length)return!1;for(let S=0;S<P.length;++S)if(!Ie(P[S],T[S]))return!1;return!0}function Ie(P,T){let S=P?Ro(P):void 0,A=T?Ro(T):void 0;if(!S||!A||S.length!=A.length)return!1;let o;for(let g=0;g<S.length;g++)if(o=S[g],!zu(P[o],T[o]))return!1;return!0}function Ro(P){return[...Object.keys(P),...Object.getOwnPropertySymbols(P)]}function zu(P,T){if(Array.isArray(P)&&Array.isArray(T)){if(P.length!==T.length)return!1;let S=[...P].sort(),A=[...T].sort();return S.every((o,g)=>A[g]===o)}else return P===T}function Vu(P){return P.length>0?P[P.length-1]:null}function ke(P){return il(P)?P:rr(P)?le(Promise.resolve(P)):ht(P)}var ev={exact:Yu,subset:Wu},Xu={exact:iv,subset:nv,ignored:()=>!0};function Lu(P,T,S){return ev[S.paths](P.root,T.root,S.matrixParams)&&Xu[S.queryParams](P.queryParams,T.queryParams)&&!(S.fragment==="exact"&&P.fragment!==T.fragment)}function iv(P,T){return Ie(P,T)}function Yu(P,T,S){if(!ji(P.segments,T.segments)||!Pr(P.segments,T.segments,S)||P.numberOfChildren!==T.numberOfChildren)return!1;for(let A in T.children)if(!P.children[A]||!Yu(P.children[A],T.children[A],S))return!1;return!0}function nv(P,T){return Object.keys(T).length<=Object.keys(P).length&&Object.keys(T).every(S=>zu(P[S],T[S]))}function Wu(P,T,S){return Hu(P,T,T.segments,S)}function Hu(P,T,S,A){if(P.segments.length>S.length){let o=P.segments.slice(0,S.length);return!(!ji(o,S)||T.hasChildren()||!Pr(o,S,A))}else if(P.segments.length===S.length){if(!ji(P.segments,S)||!Pr(P.segments,S,A))return!1;for(let o in T.children)if(!P.children[o]||!Wu(P.children[o],T.children[o],A))return!1;return!0}else{let o=S.slice(0,P.segments.length),g=S.slice(P.segments.length);return!ji(P.segments,o)||!Pr(P.segments,o,A)||!P.children[ft]?!1:Hu(P.children[ft],T,g,A)}}function Pr(P,T,S){return T.every((A,o)=>Xu[S](P[o].parameters,A.parameters))}var Ne=class{root;queryParams;fragment;_queryParamMap;constructor(T=new Ct([],{}),S={},A=null){this.root=T,this.queryParams=S,this.fragment=A}get queryParamMap(){return this._queryParamMap??=Ki(this.queryParams),this._queryParamMap}toString(){return av.serialize(this)}},Ct=class{segments;children;parent=null;constructor(T,S){this.segments=T,this.children=S,Object.values(S).forEach(A=>A.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mr(this)}},fi=class{path;parameters;_parameterMap;constructor(T,S){this.path=T,this.parameters=S}get parameterMap(){return this._parameterMap??=Ki(this.parameters),this._parameterMap}toString(){return ju(this)}};function sv(P,T){return ji(P,T)&&P.every((S,A)=>Ie(S.parameters,T[A].parameters))}function ji(P,T){return P.length!==T.length?!1:P.every((S,A)=>S.path===T[A].path)}function rv(P,T){let S=[];return Object.entries(P.children).forEach(([A,o])=>{A===ft&&(S=S.concat(T(o,A)))}),Object.entries(P.children).forEach(([A,o])=>{A!==ft&&(S=S.concat(T(o,A)))}),S}var Fs=(()=>{class P{static \u0275fac=function(A){return new(A||P)};static \u0275prov=ut({token:P,factory:()=>new Ji,providedIn:"root"})}return P})(),Ji=class{parse(T){let S=new Mo(T);return new Ne(S.parseRootSegment(),S.parseQueryParams(),S.parseFragment())}serialize(T){let S=`/${ps(T.root,!0)}`,A=lv(T.queryParams),o=typeof T.fragment=="string"?`#${ov(T.fragment)}`:"";return`${S}${A}${o}`}},av=new Ji;function Mr(P){return P.segments.map(T=>ju(T)).join("/")}function ps(P,T){if(!P.hasChildren())return Mr(P);if(T){let S=P.children[ft]?ps(P.children[ft],!1):"",A=[];return Object.entries(P.children).forEach(([o,g])=>{o!==ft&&A.push(`${o}:${ps(g,!1)}`)}),A.length>0?`${S}(${A.join("//")})`:S}else{let S=rv(P,(A,o)=>o===ft?[ps(P.children[ft],!1)]:[`${o}:${ps(A,!1)}`]);return Object.keys(P.children).length===1&&P.children[ft]!=null?`${Mr(P)}/${S[0]}`:`${Mr(P)}/(${S.join("//")})`}}function $u(P){return encodeURIComponent(P).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ar(P){return $u(P).replace(/%3B/gi,";")}function ov(P){return encodeURI(P)}function Po(P){return $u(P).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Dr(P){return decodeURIComponent(P)}function Ou(P){return Dr(P.replace(/\+/g,"%20"))}function ju(P){return`${Po(P.path)}${hv(P.parameters)}`}function hv(P){return Object.entries(P).map(([T,S])=>`;${Po(T)}=${Po(S)}`).join("")}function lv(P){let T=Object.entries(P).map(([S,A])=>Array.isArray(A)?A.map(o=>`${Ar(S)}=${Ar(o)}`).join("&"):`${Ar(S)}=${Ar(A)}`).filter(S=>S);return T.length?`?${T.join("&")}`:""}var uv=/^[^\/()?;#]+/;function To(P){let T=P.match(uv);return T?T[0]:""}var fv=/^[^\/()?;=#]+/;function dv(P){let T=P.match(fv);return T?T[0]:""}var cv=/^[^=?&#]+/;function vv(P){let T=P.match(cv);return T?T[0]:""}var pv=/^[^&#]+/;function gv(P){let T=P.match(pv);return T?T[0]:""}var Mo=class{url;remaining;constructor(T){this.url=T,this.remaining=T}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ct([],{}):new Ct([],this.parseChildren())}parseQueryParams(){let T={};if(this.consumeOptional("?"))do this.parseQueryParam(T);while(this.consumeOptional("&"));return T}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let T=[];for(this.peekStartsWith("(")||T.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),T.push(this.parseSegment());let S={};this.peekStartsWith("/(")&&(this.capture("/"),S=this.parseParens(!0));let A={};return this.peekStartsWith("(")&&(A=this.parseParens(!1)),(T.length>0||Object.keys(S).length>0)&&(A[ft]=new Ct(T,S)),A}parseSegment(){let T=To(this.remaining);if(T===""&&this.peekStartsWith(";"))throw new dt(4009,!1);return this.capture(T),new fi(Dr(T),this.parseMatrixParams())}parseMatrixParams(){let T={};for(;this.consumeOptional(";");)this.parseParam(T);return T}parseParam(T){let S=dv(this.remaining);if(!S)return;this.capture(S);let A="";if(this.consumeOptional("=")){let o=To(this.remaining);o&&(A=o,this.capture(A))}T[Dr(S)]=Dr(A)}parseQueryParam(T){let S=vv(this.remaining);if(!S)return;this.capture(S);let A="";if(this.consumeOptional("=")){let t=gv(this.remaining);t&&(A=t,this.capture(A))}let o=Ou(S),g=Ou(A);if(T.hasOwnProperty(o)){let t=T[o];Array.isArray(t)||(t=[t],T[o]=t),t.push(g)}else T[o]=g}parseParens(T){let S={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let A=To(this.remaining),o=this.remaining[A.length];if(o!=="/"&&o!==")"&&o!==";")throw new dt(4010,!1);let g;A.indexOf(":")>-1?(g=A.slice(0,A.indexOf(":")),this.capture(g),this.capture(":")):T&&(g=ft);let t=this.parseChildren();S[g]=Object.keys(t).length===1?t[ft]:new Ct([],t),this.consumeOptional("//")}return S}peekStartsWith(T){return this.remaining.startsWith(T)}consumeOptional(T){return this.peekStartsWith(T)?(this.remaining=this.remaining.substring(T.length),!0):!1}capture(T){if(!this.consumeOptional(T))throw new dt(4011,!1)}};function Zu(P){return P.segments.length>0?new Ct([],{[ft]:P}):P}function Ku(P){let T={};for(let[A,o]of Object.entries(P.children)){let g=Ku(o);if(A===ft&&g.segments.length===0&&g.hasChildren())for(let[t,a]of Object.entries(g.children))T[t]=a;else(g.segments.length>0||g.hasChildren())&&(T[A]=g)}let S=new Ct(P.segments,T);return mv(S)}function mv(P){if(P.numberOfChildren===1&&P.children[ft]){let T=P.children[ft];return new Ct(P.segments.concat(T.segments),T.children)}return P}function di(P){return P instanceof Ne}function Ju(P,T,S=null,A=null){let o=Qu(P);return ku(o,T,S,A)}function Qu(P){let T;function S(g){let t={};for(let v of g.children){let h=S(v);t[v.outlet]=h}let a=new Ct(g.url,t);return g===P&&(T=a),a}let A=S(P.root),o=Zu(A);return T??o}function ku(P,T,S,A){let o=P;for(;o.parent;)o=o.parent;if(T.length===0)return So(o,o,o,S,A);let g=xv(T);if(g.toRoot())return So(o,o,new Ct([],{}),S,A);let t=yv(g,o,P),a=t.processChildren?ms(t.segmentGroup,t.index,g.commands):_u(t.segmentGroup,t.index,g.commands);return So(o,t.segmentGroup,a,S,A)}function wr(P){return typeof P=="object"&&P!=null&&!P.outlets&&!P.segmentPath}function Ts(P){return typeof P=="object"&&P!=null&&P.outlets}function So(P,T,S,A,o){let g={};A&&Object.entries(A).forEach(([v,h])=>{g[v]=Array.isArray(h)?h.map(s=>`${s}`):`${h}`});let t;P===T?t=S:t=qu(P,T,S);let a=Zu(Ku(t));return new Ne(a,g,o)}function qu(P,T,S){let A={};return Object.entries(P.children).forEach(([o,g])=>{g===T?A[o]=S:A[o]=qu(g,T,S)}),new Ct(P.segments,A)}var Fr=class{isAbsolute;numberOfDoubleDots;commands;constructor(T,S,A){if(this.isAbsolute=T,this.numberOfDoubleDots=S,this.commands=A,T&&A.length>0&&wr(A[0]))throw new dt(4003,!1);let o=A.find(Ts);if(o&&o!==Vu(A))throw new dt(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function xv(P){if(typeof P[0]=="string"&&P.length===1&&P[0]==="/")return new Fr(!0,0,P);let T=0,S=!1,A=P.reduce((o,g,t)=>{if(typeof g=="object"&&g!=null){if(g.outlets){let a={};return Object.entries(g.outlets).forEach(([v,h])=>{a[v]=typeof h=="string"?h.split("/"):h}),[...o,{outlets:a}]}if(g.segmentPath)return[...o,g.segmentPath]}return typeof g!="string"?[...o,g]:t===0?(g.split("/").forEach((a,v)=>{v==0&&a==="."||(v==0&&a===""?S=!0:a===".."?T++:a!=""&&o.push(a))}),o):[...o,g]},[]);return new Fr(S,T,A)}var wn=class{segmentGroup;processChildren;index;constructor(T,S,A){this.segmentGroup=T,this.processChildren=S,this.index=A}};function yv(P,T,S){if(P.isAbsolute)return new wn(T,!0,0);if(!S)return new wn(T,!1,NaN);if(S.parent===null)return new wn(S,!0,0);let A=wr(P.commands[0])?0:1,o=S.segments.length-1+A;return Tv(S,o,P.numberOfDoubleDots)}function Tv(P,T,S){let A=P,o=T,g=S;for(;g>o;){if(g-=o,A=A.parent,!A)throw new dt(4005,!1);o=A.segments.length}return new wn(A,!1,o-g)}function Sv(P){return Ts(P[0])?P[0].outlets:{[ft]:P}}function _u(P,T,S){if(P??=new Ct([],{}),P.segments.length===0&&P.hasChildren())return ms(P,T,S);let A=Cv(P,T,S),o=S.slice(A.commandIndex);if(A.match&&A.pathIndex<P.segments.length){let g=new Ct(P.segments.slice(0,A.pathIndex),{});return g.children[ft]=new Ct(P.segments.slice(A.pathIndex),P.children),ms(g,0,o)}else return A.match&&o.length===0?new Ct(P.segments,{}):A.match&&!P.hasChildren()?Do(P,T,S):A.match?ms(P,0,o):Do(P,T,S)}function ms(P,T,S){if(S.length===0)return new Ct(P.segments,{});{let A=Sv(S),o={};if(Object.keys(A).some(g=>g!==ft)&&P.children[ft]&&P.numberOfChildren===1&&P.children[ft].segments.length===0){let g=ms(P.children[ft],T,S);return new Ct(P.segments,g.children)}return Object.entries(A).forEach(([g,t])=>{typeof t=="string"&&(t=[t]),t!==null&&(o[g]=_u(P.children[g],T,t))}),Object.entries(P.children).forEach(([g,t])=>{A[g]===void 0&&(o[g]=t)}),new Ct(P.segments,o)}}function Cv(P,T,S){let A=0,o=T,g={match:!1,pathIndex:0,commandIndex:0};for(;o<P.segments.length;){if(A>=S.length)return g;let t=P.segments[o],a=S[A];if(Ts(a))break;let v=`${a}`,h=A<S.length-1?S[A+1]:null;if(o>0&&v===void 0)break;if(v&&h&&typeof h=="object"&&h.outlets===void 0){if(!Bu(v,h,t))return g;A+=2}else{if(!Bu(v,{},t))return g;A++}o++}return{match:!0,pathIndex:o,commandIndex:A}}function Do(P,T,S){let A=P.segments.slice(0,T),o=0;for(;o<S.length;){let g=S[o];if(Ts(g)){let v=Ev(g.outlets);return new Ct(A,v)}if(o===0&&wr(S[0])){let v=P.segments[T];A.push(new fi(v.path,Iu(S[0]))),o++;continue}let t=Ts(g)?g.outlets[ft]:`${g}`,a=o<S.length-1?S[o+1]:null;t&&a&&wr(a)?(A.push(new fi(t,Iu(a))),o+=2):(A.push(new fi(t,{})),o++)}return new Ct(A,{})}function Ev(P){let T={};return Object.entries(P).forEach(([S,A])=>{typeof A=="string"&&(A=[A]),A!==null&&(T[S]=Do(new Ct([],{}),0,A))}),T}function Iu(P){let T={};return Object.entries(P).forEach(([S,A])=>T[S]=`${A}`),T}function Bu(P,T,S){return P==S.path&&Ie(T,S.parameters)}var xs="imperative",Jt=function(P){return P[P.NavigationStart=0]="NavigationStart",P[P.NavigationEnd=1]="NavigationEnd",P[P.NavigationCancel=2]="NavigationCancel",P[P.NavigationError=3]="NavigationError",P[P.RoutesRecognized=4]="RoutesRecognized",P[P.ResolveStart=5]="ResolveStart",P[P.ResolveEnd=6]="ResolveEnd",P[P.GuardsCheckStart=7]="GuardsCheckStart",P[P.GuardsCheckEnd=8]="GuardsCheckEnd",P[P.RouteConfigLoadStart=9]="RouteConfigLoadStart",P[P.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",P[P.ChildActivationStart=11]="ChildActivationStart",P[P.ChildActivationEnd=12]="ChildActivationEnd",P[P.ActivationStart=13]="ActivationStart",P[P.ActivationEnd=14]="ActivationEnd",P[P.Scroll=15]="Scroll",P[P.NavigationSkipped=16]="NavigationSkipped",P}(Jt||{}),me=class{id;url;constructor(T,S){this.id=T,this.url=S}},Qi=class extends me{type=Jt.NavigationStart;navigationTrigger;restoredState;constructor(T,S,A="imperative",o=null){super(T,S),this.navigationTrigger=A,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},be=class extends me{urlAfterRedirects;type=Jt.NavigationEnd;constructor(T,S,A){super(T,S),this.urlAfterRedirects=A}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},re=function(P){return P[P.Redirect=0]="Redirect",P[P.SupersededByNewNavigation=1]="SupersededByNewNavigation",P[P.NoDataFromResolver=2]="NoDataFromResolver",P[P.GuardRejected=3]="GuardRejected",P[P.Aborted=4]="Aborted",P}(re||{}),Ss=function(P){return P[P.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",P[P.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",P}(Ss||{}),Be=class extends me{reason;code;type=Jt.NavigationCancel;constructor(T,S,A,o){super(T,S),this.reason=A,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Qe=class extends me{reason;code;type=Jt.NavigationSkipped;constructor(T,S,A,o){super(T,S),this.reason=A,this.code=o}},Ln=class extends me{error;target;type=Jt.NavigationError;constructor(T,S,A,o){super(T,S),this.error=A,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Cs=class extends me{urlAfterRedirects;state;type=Jt.RoutesRecognized;constructor(T,S,A,o){super(T,S),this.urlAfterRedirects=A,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Lr=class extends me{urlAfterRedirects;state;type=Jt.GuardsCheckStart;constructor(T,S,A,o){super(T,S),this.urlAfterRedirects=A,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Or=class extends me{urlAfterRedirects;state;shouldActivate;type=Jt.GuardsCheckEnd;constructor(T,S,A,o,g){super(T,S),this.urlAfterRedirects=A,this.state=o,this.shouldActivate=g}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ir=class extends me{urlAfterRedirects;state;type=Jt.ResolveStart;constructor(T,S,A,o){super(T,S),this.urlAfterRedirects=A,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Br=class extends me{urlAfterRedirects;state;type=Jt.ResolveEnd;constructor(T,S,A,o){super(T,S),this.urlAfterRedirects=A,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nr=class{route;type=Jt.RouteConfigLoadStart;constructor(T){this.route=T}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},br=class{route;type=Jt.RouteConfigLoadEnd;constructor(T){this.route=T}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Gr=class{snapshot;type=Jt.ChildActivationStart;constructor(T){this.snapshot=T}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ur=class{snapshot;type=Jt.ChildActivationEnd;constructor(T){this.snapshot=T}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zr=class{snapshot;type=Jt.ActivationStart;constructor(T){this.snapshot=T}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vr=class{snapshot;type=Jt.ActivationEnd;constructor(T){this.snapshot=T}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Es=class{},On=class{url;navigationBehaviorOptions;constructor(T,S){this.url=T,this.navigationBehaviorOptions=S}};function Av(P){return!(P instanceof Es)&&!(P instanceof On)}function Rv(P,T){return P.providers&&!P._injector&&(P._injector=Za(P.providers,T,`Route: ${P.path}`)),P._injector??T}function De(P){return P.outlet||ft}function Pv(P,T){let S=P.filter(A=>De(A)===T);return S.push(...P.filter(A=>De(A)!==T)),S}function Ls(P){if(!P)return null;if(P.routeConfig?._injector)return P.routeConfig._injector;for(let T=P.parent;T;T=T.parent){let S=T.routeConfig;if(S?._loadedInjector)return S._loadedInjector;if(S?._injector)return S._injector}return null}var Xr=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ls(this.route?.snapshot)??this.rootInjector}constructor(T){this.rootInjector=T,this.children=new ci(this.rootInjector)}},ci=(()=>{class P{rootInjector;contexts=new Map;constructor(S){this.rootInjector=S}onChildOutletCreated(S,A){let o=this.getOrCreateContext(S);o.outlet=A,this.contexts.set(S,o)}onChildOutletDestroyed(S){let A=this.getContext(S);A&&(A.outlet=null,A.attachRef=null)}onOutletDeactivated(){let S=this.contexts;return this.contexts=new Map,S}onOutletReAttached(S){this.contexts=S}getOrCreateContext(S){let A=this.getContext(S);return A||(A=new Xr(this.rootInjector),this.contexts.set(S,A)),A}getContext(S){return this.contexts.get(S)||null}static \u0275fac=function(A){return new(A||P)(ot(ri))};static \u0275prov=ut({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})(),Yr=class{_root;constructor(T){this._root=T}get root(){return this._root.value}parent(T){let S=this.pathFromRoot(T);return S.length>1?S[S.length-2]:null}children(T){let S=wo(T,this._root);return S?S.children.map(A=>A.value):[]}firstChild(T){let S=wo(T,this._root);return S&&S.children.length>0?S.children[0].value:null}siblings(T){let S=Fo(T,this._root);return S.length<2?[]:S[S.length-2].children.map(o=>o.value).filter(o=>o!==T)}pathFromRoot(T){return Fo(T,this._root).map(S=>S.value)}};function wo(P,T){if(P===T.value)return T;for(let S of T.children){let A=wo(P,S);if(A)return A}return null}function Fo(P,T){if(P===T.value)return[T];for(let S of T.children){let A=Fo(P,S);if(A.length)return A.unshift(T),A}return[]}var ge=class{value;children;constructor(T,S){this.value=T,this.children=S}toString(){return`TreeNode(${this.value})`}};function Dn(P){let T={};return P&&P.children.forEach(S=>T[S.value.outlet]=S),T}var As=class extends Yr{snapshot;constructor(T,S){super(T),this.snapshot=S,Uo(this,T)}toString(){return this.snapshot.toString()}};function tf(P){let T=Mv(P),S=new Se([new fi("",{})]),A=new Se({}),o=new Se({}),g=new Se({}),t=new Se(""),a=new we(S,A,g,t,o,ft,P,T.root);return a.snapshot=T.root,new As(new ge(a,[]),T)}function Mv(P){let T={},S={},A={},o="",g=new Zi([],T,A,o,S,ft,P,null,{});return new Rs("",new ge(g,[]))}var we=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(T,S,A,o,g,t,a,v){this.urlSubject=T,this.paramsSubject=S,this.queryParamsSubject=A,this.fragmentSubject=o,this.dataSubject=g,this.outlet=t,this.component=a,this._futureSnapshot=v,this.title=this.dataSubject?.pipe(Tt(h=>h[ws]))??ht(void 0),this.url=T,this.params=S,this.queryParams=A,this.fragment=o,this.data=g}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Tt(T=>Ki(T))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Tt(T=>Ki(T))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Wr(P,T,S="emptyOnly"){let A,{routeConfig:o}=P;return T!==null&&(S==="always"||o?.path===""||!T.component&&!T.routeConfig?.loadComponent)?A={params:tt(tt({},T.params),P.params),data:tt(tt({},T.data),P.data),resolve:tt(tt(tt(tt({},P.data),T.data),o?.data),P._resolvedData)}:A={params:tt({},P.params),data:tt({},P.data),resolve:tt(tt({},P.data),P._resolvedData??{})},o&&nf(o)&&(A.resolve[ws]=o.title),A}var Zi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ws]}constructor(T,S,A,o,g,t,a,v,h){this.url=T,this.params=S,this.queryParams=A,this.fragment=o,this.data=g,this.outlet=t,this.component=a,this.routeConfig=v,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ki(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ki(this.queryParams),this._queryParamMap}toString(){let T=this.url.map(A=>A.toString()).join("/"),S=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${T}', path:'${S}')`}},Rs=class extends Yr{url;constructor(T,S){super(S),this.url=T,Uo(this,S)}toString(){return ef(this._root)}};function Uo(P,T){T.value._routerState=P,T.children.forEach(S=>Uo(P,S))}function ef(P){let T=P.children.length>0?` { ${P.children.map(ef).join(", ")} } `:"";return`${P.value}${T}`}function Co(P){if(P.snapshot){let T=P.snapshot,S=P._futureSnapshot;P.snapshot=S,Ie(T.queryParams,S.queryParams)||P.queryParamsSubject.next(S.queryParams),T.fragment!==S.fragment&&P.fragmentSubject.next(S.fragment),Ie(T.params,S.params)||P.paramsSubject.next(S.params),tv(T.url,S.url)||P.urlSubject.next(S.url),Ie(T.data,S.data)||P.dataSubject.next(S.data)}else P.snapshot=P._futureSnapshot,P.dataSubject.next(P._futureSnapshot.data)}function Lo(P,T){let S=Ie(P.params,T.params)&&sv(P.url,T.url),A=!P.parent!=!T.parent;return S&&!A&&(!P.parent||Lo(P.parent,T.parent))}function nf(P){return typeof P.title=="string"||P.title===null}var sf=new mt(""),Os=(()=>{class P{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ft;activateEvents=new Fe;deactivateEvents=new Fe;attachEvents=new Fe;detachEvents=new Fe;routerOutletData=jl(void 0);parentContexts=rt(ci);location=rt(zi);changeDetector=rt(is);inputBinder=rt(Zr,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(S){if(S.name){let{firstChange:A,previousValue:o}=S.name;if(A)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(S){return this.parentContexts.getContext(S)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let S=this.parentContexts.getContext(this.name);S?.route&&(S.attachRef?this.attach(S.attachRef,S.route):this.activateWith(S.route,S.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new dt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new dt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new dt(4012,!1);this.location.detach();let S=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(S.instance),S}attach(S,A){this.activated=S,this._activatedRoute=A,this.location.insert(S.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(S.instance)}deactivate(){if(this.activated){let S=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(S)}}activateWith(S,A){if(this.isActivated)throw new dt(4013,!1);this._activatedRoute=S;let o=this.location,t=S.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,v=new Oo(S,a,o.injector,this.routerOutletData);this.activated=o.createComponent(t,{index:o.length,injector:v,environmentInjector:A}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(A){return new(A||P)};static \u0275dir=Ze({type:P,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ni]})}return P})(),Oo=class{route;childContexts;parent;outletData;constructor(T,S,A,o){this.route=T,this.childContexts=S,this.parent=A,this.outletData=o}get(T,S){return T===we?this.route:T===ci?this.childContexts:T===sf?this.outletData:this.parent.get(T,S)}},Zr=new mt("");var zo=(()=>{class P{static \u0275fac=function(A){return new(A||P)};static \u0275cmp=Pt({type:P,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(A,o){A&1&&Ot(0,"router-outlet")},dependencies:[Os],encapsulation:2})}return P})();function Vo(P){let T=P.children&&P.children.map(Vo),S=T?zt(tt({},P),{children:T}):tt({},P);return!S.component&&!S.loadComponent&&(T||S.loadChildren)&&S.outlet&&S.outlet!==ft&&(S.component=zo),S}function Dv(P,T,S){let A=Ps(P,T._root,S?S._root:void 0);return new As(A,T)}function Ps(P,T,S){if(S&&P.shouldReuseRoute(T.value,S.value.snapshot)){let A=S.value;A._futureSnapshot=T.value;let o=wv(P,T,S);return new ge(A,o)}else{if(P.shouldAttach(T.value)){let g=P.retrieve(T.value);if(g!==null){let t=g.route;return t.value._futureSnapshot=T.value,t.children=T.children.map(a=>Ps(P,a)),t}}let A=Fv(T.value),o=T.children.map(g=>Ps(P,g));return new ge(A,o)}}function wv(P,T,S){return T.children.map(A=>{for(let o of S.children)if(P.shouldReuseRoute(A.value,o.value.snapshot))return Ps(P,A,o);return Ps(P,A)})}function Fv(P){return new we(new Se(P.url),new Se(P.params),new Se(P.queryParams),new Se(P.fragment),new Se(P.data),P.outlet,P.component,P)}var In=class{redirectTo;navigationBehaviorOptions;constructor(T,S){this.redirectTo=T,this.navigationBehaviorOptions=S}},rf="ngNavigationCancelingError";function Hr(P,T){let{redirectTo:S,navigationBehaviorOptions:A}=di(T)?{redirectTo:T,navigationBehaviorOptions:void 0}:T,o=af(!1,re.Redirect);return o.url=S,o.navigationBehaviorOptions=A,o}function af(P,T){let S=new Error(`NavigationCancelingError: ${P||""}`);return S[rf]=!0,S.cancellationCode=T,S}function Lv(P){return of(P)&&di(P.url)}function of(P){return!!P&&P[rf]}var Ov=(P,T,S,A)=>Tt(o=>(new Io(T,o.targetRouterState,o.currentRouterState,S,A).activate(P),o)),Io=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(T,S,A,o,g){this.routeReuseStrategy=T,this.futureState=S,this.currState=A,this.forwardEvent=o,this.inputBindingEnabled=g}activate(T){let S=this.futureState._root,A=this.currState?this.currState._root:null;this.deactivateChildRoutes(S,A,T),Co(this.futureState.root),this.activateChildRoutes(S,A,T)}deactivateChildRoutes(T,S,A){let o=Dn(S);T.children.forEach(g=>{let t=g.value.outlet;this.deactivateRoutes(g,o[t],A),delete o[t]}),Object.values(o).forEach(g=>{this.deactivateRouteAndItsChildren(g,A)})}deactivateRoutes(T,S,A){let o=T.value,g=S?S.value:null;if(o===g)if(o.component){let t=A.getContext(o.outlet);t&&this.deactivateChildRoutes(T,S,t.children)}else this.deactivateChildRoutes(T,S,A);else g&&this.deactivateRouteAndItsChildren(S,A)}deactivateRouteAndItsChildren(T,S){T.value.component&&this.routeReuseStrategy.shouldDetach(T.value.snapshot)?this.detachAndStoreRouteSubtree(T,S):this.deactivateRouteAndOutlet(T,S)}detachAndStoreRouteSubtree(T,S){let A=S.getContext(T.value.outlet),o=A&&T.value.component?A.children:S,g=Dn(T);for(let t of Object.values(g))this.deactivateRouteAndItsChildren(t,o);if(A&&A.outlet){let t=A.outlet.detach(),a=A.children.onOutletDeactivated();this.routeReuseStrategy.store(T.value.snapshot,{componentRef:t,route:T,contexts:a})}}deactivateRouteAndOutlet(T,S){let A=S.getContext(T.value.outlet),o=A&&T.value.component?A.children:S,g=Dn(T);for(let t of Object.values(g))this.deactivateRouteAndItsChildren(t,o);A&&(A.outlet&&(A.outlet.deactivate(),A.children.onOutletDeactivated()),A.attachRef=null,A.route=null)}activateChildRoutes(T,S,A){let o=Dn(S);T.children.forEach(g=>{this.activateRoutes(g,o[g.value.outlet],A),this.forwardEvent(new Vr(g.value.snapshot))}),T.children.length&&this.forwardEvent(new Ur(T.value.snapshot))}activateRoutes(T,S,A){let o=T.value,g=S?S.value:null;if(Co(o),o===g)if(o.component){let t=A.getOrCreateContext(o.outlet);this.activateChildRoutes(T,S,t.children)}else this.activateChildRoutes(T,S,A);else if(o.component){let t=A.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),t.children.onOutletReAttached(a.contexts),t.attachRef=a.componentRef,t.route=a.route.value,t.outlet&&t.outlet.attach(a.componentRef,a.route.value),Co(a.route.value),this.activateChildRoutes(T,null,t.children)}else t.attachRef=null,t.route=o,t.outlet&&t.outlet.activateWith(o,t.injector),this.activateChildRoutes(T,null,t.children)}else this.activateChildRoutes(T,null,A)}},$r=class{path;route;constructor(T){this.path=T,this.route=this.path[this.path.length-1]}},Fn=class{component;route;constructor(T,S){this.component=T,this.route=S}};function Iv(P,T,S){let A=P._root,o=T?T._root:null;return gs(A,o,S,[A.value])}function Bv(P){let T=P.routeConfig?P.routeConfig.canActivateChild:null;return!T||T.length===0?null:{node:P,guards:T}}function Nn(P,T){let S=Symbol(),A=T.get(P,S);return A===S?typeof P=="function"&&!cl(P)?P:T.get(P):A}function gs(P,T,S,A,o={canDeactivateChecks:[],canActivateChecks:[]}){let g=Dn(T);return P.children.forEach(t=>{Nv(t,g[t.value.outlet],S,A.concat([t.value]),o),delete g[t.value.outlet]}),Object.entries(g).forEach(([t,a])=>ys(a,S.getContext(t),o)),o}function Nv(P,T,S,A,o={canDeactivateChecks:[],canActivateChecks:[]}){let g=P.value,t=T?T.value:null,a=S?S.getContext(P.value.outlet):null;if(t&&g.routeConfig===t.routeConfig){let v=bv(t,g,g.routeConfig.runGuardsAndResolvers);v?o.canActivateChecks.push(new $r(A)):(g.data=t.data,g._resolvedData=t._resolvedData),g.component?gs(P,T,a?a.children:null,A,o):gs(P,T,S,A,o),v&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Fn(a.outlet.component,t))}else t&&ys(T,a,o),o.canActivateChecks.push(new $r(A)),g.component?gs(P,null,a?a.children:null,A,o):gs(P,null,S,A,o);return o}function bv(P,T,S){if(typeof S=="function")return S(P,T);switch(S){case"pathParamsChange":return!ji(P.url,T.url);case"pathParamsOrQueryParamsChange":return!ji(P.url,T.url)||!Ie(P.queryParams,T.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Lo(P,T)||!Ie(P.queryParams,T.queryParams);case"paramsChange":default:return!Lo(P,T)}}function ys(P,T,S){let A=Dn(P),o=P.value;Object.entries(A).forEach(([g,t])=>{o.component?T?ys(t,T.children.getContext(g),S):ys(t,null,S):ys(t,T,S)}),o.component?T&&T.outlet&&T.outlet.isActivated?S.canDeactivateChecks.push(new Fn(T.outlet.component,o)):S.canDeactivateChecks.push(new Fn(null,o)):S.canDeactivateChecks.push(new Fn(null,o))}function Is(P){return typeof P=="function"}function Gv(P){return typeof P=="boolean"}function Uv(P){return P&&Is(P.canLoad)}function zv(P){return P&&Is(P.canActivate)}function Vv(P){return P&&Is(P.canActivateChild)}function Xv(P){return P&&Is(P.canDeactivate)}function Yv(P){return P&&Is(P.canMatch)}function hf(P){return P instanceof nl||P?.name==="EmptyError"}var Rr=Symbol("INITIAL_VALUE");function Bn(){return se(P=>Ba(P.map(T=>T.pipe(cn(1),dl(Rr)))).pipe(Tt(T=>{for(let S of T)if(S!==!0){if(S===Rr)return Rr;if(S===!1||Wv(S))return S}return!0}),He(T=>T!==Rr),cn(1)))}function Wv(P){return di(P)||P instanceof In}function Hv(P,T){return Ce(S=>{let{targetSnapshot:A,currentSnapshot:o,guards:{canActivateChecks:g,canDeactivateChecks:t}}=S;return t.length===0&&g.length===0?ht(zt(tt({},S),{guardsResult:!0})):$v(t,A,o,P).pipe(Ce(a=>a&&Gv(a)?jv(A,g,P,T):ht(a)),Tt(a=>zt(tt({},S),{guardsResult:a})))})}function $v(P,T,S,A){return le(P).pipe(Ce(o=>kv(o.component,o.route,S,T,A)),$e(o=>o!==!0,!0))}function jv(P,T,S,A){return le(T).pipe(Li(o=>sl(Kv(o.route.parent,A),Zv(o.route,A),Qv(P,o.path,S),Jv(P,o.route,S))),$e(o=>o!==!0,!0))}function Zv(P,T){return P!==null&&T&&T(new zr(P)),ht(!0)}function Kv(P,T){return P!==null&&T&&T(new Gr(P)),ht(!0)}function Jv(P,T,S){let A=T.routeConfig?T.routeConfig.canActivate:null;if(!A||A.length===0)return ht(!0);let o=A.map(g=>tr(()=>{let t=Ls(T)??S,a=Nn(g,t),v=zv(a)?a.canActivate(T,P):Me(t,()=>a(T,P));return ke(v).pipe($e())}));return ht(o).pipe(Bn())}function Qv(P,T,S){let A=T[T.length-1],g=T.slice(0,T.length-1).reverse().map(t=>Bv(t)).filter(t=>t!==null).map(t=>tr(()=>{let a=t.guards.map(v=>{let h=Ls(t.node)??S,s=Nn(v,h),r=Vv(s)?s.canActivateChild(A,P):Me(h,()=>s(A,P));return ke(r).pipe($e())});return ht(a).pipe(Bn())}));return ht(g).pipe(Bn())}function kv(P,T,S,A,o){let g=T&&T.routeConfig?T.routeConfig.canDeactivate:null;if(!g||g.length===0)return ht(!0);let t=g.map(a=>{let v=Ls(T)??o,h=Nn(a,v),s=Xv(h)?h.canDeactivate(P,T,S,A):Me(v,()=>h(P,T,S,A));return ke(s).pipe($e())});return ht(t).pipe(Bn())}function qv(P,T,S,A){let o=T.canLoad;if(o===void 0||o.length===0)return ht(!0);let g=o.map(t=>{let a=Nn(t,P),v=Uv(a)?a.canLoad(T,S):Me(P,()=>a(T,S));return ke(v)});return ht(g).pipe(Bn(),lf(A))}function lf(P){return tl(Qt(T=>{if(typeof T!="boolean")throw Hr(P,T)}),Tt(T=>T===!0))}function _v(P,T,S,A){let o=T.canMatch;if(!o||o.length===0)return ht(!0);let g=o.map(t=>{let a=Nn(t,P),v=Yv(a)?a.canMatch(T,S):Me(P,()=>a(T,S));return ke(v)});return ht(g).pipe(Bn(),lf(A))}var Ms=class{segmentGroup;constructor(T){this.segmentGroup=T||null}},Ds=class extends Error{urlTree;constructor(T){super(),this.urlTree=T}};function Mn(P){return Jn(new Ms(P))}function tp(P){return Jn(new dt(4e3,!1))}function ep(P){return Jn(af(!1,re.GuardRejected))}var Bo=class{urlSerializer;urlTree;constructor(T,S){this.urlSerializer=T,this.urlTree=S}lineralizeSegments(T,S){let A=[],o=S.root;for(;;){if(A=A.concat(o.segments),o.numberOfChildren===0)return ht(A);if(o.numberOfChildren>1||!o.children[ft])return tp(`${T.redirectTo}`);o=o.children[ft]}}applyRedirectCommands(T,S,A,o,g){return ip(S,o,g).pipe(Tt(t=>{if(t instanceof Ne)throw new Ds(t);let a=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),T,A);if(t[0]==="/")throw new Ds(a);return a}))}applyRedirectCreateUrlTree(T,S,A,o){let g=this.createSegmentGroup(T,S.root,A,o);return new Ne(g,this.createQueryParams(S.queryParams,this.urlTree.queryParams),S.fragment)}createQueryParams(T,S){let A={};return Object.entries(T).forEach(([o,g])=>{if(typeof g=="string"&&g[0]===":"){let a=g.substring(1);A[o]=S[a]}else A[o]=g}),A}createSegmentGroup(T,S,A,o){let g=this.createSegments(T,S.segments,A,o),t={};return Object.entries(S.children).forEach(([a,v])=>{t[a]=this.createSegmentGroup(T,v,A,o)}),new Ct(g,t)}createSegments(T,S,A,o){return S.map(g=>g.path[0]===":"?this.findPosParam(T,g,o):this.findOrReturn(g,A))}findPosParam(T,S,A){let o=A[S.path.substring(1)];if(!o)throw new dt(4001,!1);return o}findOrReturn(T,S){let A=0;for(let o of S){if(o.path===T.path)return S.splice(A),o;A++}return T}};function ip(P,T,S){if(typeof P=="string")return ht(P);let A=P,{queryParams:o,fragment:g,routeConfig:t,url:a,outlet:v,params:h,data:s,title:r}=T;return ke(Me(S,()=>A({params:h,data:s,queryParams:o,fragment:g,routeConfig:t,url:a,outlet:v,title:r})))}var No={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function np(P,T,S,A,o){let g=uf(P,T,S);return g.matched?(A=Rv(T,A),_v(A,T,S,o).pipe(Tt(t=>t===!0?g:tt({},No)))):ht(g)}function uf(P,T,S){if(T.path==="**")return sp(S);if(T.path==="")return T.pathMatch==="full"&&(P.hasChildren()||S.length>0)?tt({},No):{matched:!0,consumedSegments:[],remainingSegments:S,parameters:{},positionalParamSegments:{}};let o=(T.matcher||Uu)(S,P,T);if(!o)return tt({},No);let g={};Object.entries(o.posParams??{}).forEach(([a,v])=>{g[a]=v.path});let t=o.consumed.length>0?tt(tt({},g),o.consumed[o.consumed.length-1].parameters):g;return{matched:!0,consumedSegments:o.consumed,remainingSegments:S.slice(o.consumed.length),parameters:t,positionalParamSegments:o.posParams??{}}}function sp(P){return{matched:!0,parameters:P.length>0?Vu(P).parameters:{},consumedSegments:P,remainingSegments:[],positionalParamSegments:{}}}function Nu(P,T,S,A){return S.length>0&&op(P,S,A)?{segmentGroup:new Ct(T,ap(A,new Ct(S,P.children))),slicedSegments:[]}:S.length===0&&hp(P,S,A)?{segmentGroup:new Ct(P.segments,rp(P,S,A,P.children)),slicedSegments:S}:{segmentGroup:new Ct(P.segments,P.children),slicedSegments:S}}function rp(P,T,S,A){let o={};for(let g of S)if(Kr(P,T,g)&&!A[De(g)]){let t=new Ct([],{});o[De(g)]=t}return tt(tt({},A),o)}function ap(P,T){let S={};S[ft]=T;for(let A of P)if(A.path===""&&De(A)!==ft){let o=new Ct([],{});S[De(A)]=o}return S}function op(P,T,S){return S.some(A=>Kr(P,T,A)&&De(A)!==ft)}function hp(P,T,S){return S.some(A=>Kr(P,T,A))}function Kr(P,T,S){return(P.hasChildren()||T.length>0)&&S.pathMatch==="full"?!1:S.path===""}function lp(P,T,S){return T.length===0&&!P.children[S]}var bo=class{};function up(P,T,S,A,o,g,t="emptyOnly"){return new Go(P,T,S,A,o,t,g).recognize()}var fp=31,Go=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(T,S,A,o,g,t,a){this.injector=T,this.configLoader=S,this.rootComponentType=A,this.config=o,this.urlTree=g,this.paramsInheritanceStrategy=t,this.urlSerializer=a,this.applyRedirects=new Bo(this.urlSerializer,this.urlTree)}noMatchError(T){return new dt(4002,`'${T.segmentGroup}'`)}recognize(){let T=Nu(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(T).pipe(Tt(({children:S,rootSnapshot:A})=>{let o=new ge(A,S),g=new Rs("",o),t=Ju(A,[],this.urlTree.queryParams,this.urlTree.fragment);return t.queryParams=this.urlTree.queryParams,g.url=this.urlSerializer.serialize(t),{state:g,tree:t}}))}match(T){let S=new Zi([],Object.freeze({}),Object.freeze(tt({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ft,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,T,ft,S).pipe(Tt(A=>({children:A,rootSnapshot:S})),dn(A=>{if(A instanceof Ds)return this.urlTree=A.urlTree,this.match(A.urlTree.root);throw A instanceof Ms?this.noMatchError(A):A}))}processSegmentGroup(T,S,A,o,g){return A.segments.length===0&&A.hasChildren()?this.processChildren(T,S,A,g):this.processSegment(T,S,A,A.segments,o,!0,g).pipe(Tt(t=>t instanceof ge?[t]:[]))}processChildren(T,S,A,o){let g=[];for(let t of Object.keys(A.children))t==="primary"?g.unshift(t):g.push(t);return le(g).pipe(Li(t=>{let a=A.children[t],v=Pv(S,t);return this.processSegmentGroup(T,v,a,t,o)}),ul((t,a)=>(t.push(...a),t)),Na(null),ll(),Ce(t=>{if(t===null)return Mn(A);let a=ff(t);return dp(a),ht(a)}))}processSegment(T,S,A,o,g,t,a){return le(S).pipe(Li(v=>this.processSegmentAgainstRoute(v._injector??T,S,v,A,o,g,t,a).pipe(dn(h=>{if(h instanceof Ms)return ht(null);throw h}))),$e(v=>!!v),dn(v=>{if(hf(v))return lp(A,o,g)?ht(new bo):Mn(A);throw v}))}processSegmentAgainstRoute(T,S,A,o,g,t,a,v){return De(A)!==t&&(t===ft||!Kr(o,g,A))?Mn(o):A.redirectTo===void 0?this.matchSegmentAgainstRoute(T,o,A,g,t,v):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(T,o,S,A,g,t,v):Mn(o)}expandSegmentAgainstRouteUsingRedirect(T,S,A,o,g,t,a){let{matched:v,parameters:h,consumedSegments:s,positionalParamSegments:r,remainingSegments:e}=uf(S,o,g);if(!v)return Mn(S);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>fp&&(this.allowRedirects=!1));let n=new Zi(g,h,Object.freeze(tt({},this.urlTree.queryParams)),this.urlTree.fragment,bu(o),De(o),o.component??o._loadedComponent??null,o,Gu(o)),l=Wr(n,a,this.paramsInheritanceStrategy);return n.params=Object.freeze(l.params),n.data=Object.freeze(l.data),this.applyRedirects.applyRedirectCommands(s,o.redirectTo,r,n,T).pipe(se(u=>this.applyRedirects.lineralizeSegments(o,u)),Ce(u=>this.processSegment(T,A,S,u.concat(e),t,!1,a)))}matchSegmentAgainstRoute(T,S,A,o,g,t){let a=np(S,A,o,T,this.urlSerializer);return A.path==="**"&&(S.children={}),a.pipe(se(v=>v.matched?(T=A._injector??T,this.getChildConfig(T,A,o).pipe(se(({routes:h})=>{let s=A._loadedInjector??T,{parameters:r,consumedSegments:e,remainingSegments:n}=v,l=new Zi(e,r,Object.freeze(tt({},this.urlTree.queryParams)),this.urlTree.fragment,bu(A),De(A),A.component??A._loadedComponent??null,A,Gu(A)),i=Wr(l,t,this.paramsInheritanceStrategy);l.params=Object.freeze(i.params),l.data=Object.freeze(i.data);let{segmentGroup:u,slicedSegments:f}=Nu(S,e,n,h);if(f.length===0&&u.hasChildren())return this.processChildren(s,h,u,l).pipe(Tt(d=>new ge(l,d)));if(h.length===0&&f.length===0)return ht(new ge(l,[]));let c=De(A)===g;return this.processSegment(s,h,u,f,c?ft:g,!0,l).pipe(Tt(d=>new ge(l,d instanceof ge?[d]:[])))}))):Mn(S)))}getChildConfig(T,S,A){return S.children?ht({routes:S.children,injector:T}):S.loadChildren?S._loadedRoutes!==void 0?ht({routes:S._loadedRoutes,injector:S._loadedInjector}):qv(T,S,A,this.urlSerializer).pipe(Ce(o=>o?this.configLoader.loadChildren(T,S).pipe(Qt(g=>{S._loadedRoutes=g.routes,S._loadedInjector=g.injector})):ep(S))):ht({routes:[],injector:T})}};function dp(P){P.sort((T,S)=>T.value.outlet===ft?-1:S.value.outlet===ft?1:T.value.outlet.localeCompare(S.value.outlet))}function cp(P){let T=P.value.routeConfig;return T&&T.path===""}function ff(P){let T=[],S=new Set;for(let A of P){if(!cp(A)){T.push(A);continue}let o=T.find(g=>A.value.routeConfig===g.value.routeConfig);o!==void 0?(o.children.push(...A.children),S.add(o)):T.push(A)}for(let A of S){let o=ff(A.children);T.push(new ge(A.value,o))}return T.filter(A=>!S.has(A))}function bu(P){return P.data||{}}function Gu(P){return P.resolve||{}}function vp(P,T,S,A,o,g){return Ce(t=>up(P,T,S,A,t.extractedUrl,o,g).pipe(Tt(({state:a,tree:v})=>zt(tt({},t),{targetSnapshot:a,urlAfterRedirects:v}))))}function pp(P,T){return Ce(S=>{let{targetSnapshot:A,guards:{canActivateChecks:o}}=S;if(!o.length)return ht(S);let g=new Set(o.map(v=>v.route)),t=new Set;for(let v of g)if(!t.has(v))for(let h of df(v))t.add(h);let a=0;return le(t).pipe(Li(v=>g.has(v)?gp(v,A,P,T):(v.data=Wr(v,v.parent,P).resolve,ht(void 0))),Qt(()=>a++),ba(1),Ce(v=>a===t.size?ht(S):We))})}function df(P){let T=P.children.map(S=>df(S)).flat();return[P,...T]}function gp(P,T,S,A){let o=P.routeConfig,g=P._resolve;return o?.title!==void 0&&!nf(o)&&(g[ws]=o.title),tr(()=>(P.data=Wr(P,P.parent,S).resolve,mp(g,P,T,A).pipe(Tt(t=>(P._resolvedData=t,P.data=tt(tt({},P.data),t),null)))))}function mp(P,T,S,A){let o=Ro(P);if(o.length===0)return ht({});let g={};return le(o).pipe(Ce(t=>xp(P[t],T,S,A).pipe($e(),Qt(a=>{if(a instanceof In)throw Hr(new Ji,a);g[t]=a}))),ba(1),Tt(()=>g),dn(t=>hf(t)?We:Jn(t)))}function xp(P,T,S,A){let o=Ls(T)??A,g=Nn(P,o),t=g.resolve?g.resolve(T,S):Me(o,()=>g(T,S));return ke(t)}function Eo(P){return se(T=>{let S=P(T);return S?le(S).pipe(Tt(()=>T)):ht(T)})}var Xo=(()=>{class P{buildTitle(S){let A,o=S.root;for(;o!==void 0;)A=this.getResolvedTitleForRoute(o)??A,o=o.children.find(g=>g.outlet===ft);return A}getResolvedTitleForRoute(S){return S.data[ws]}static \u0275fac=function(A){return new(A||P)};static \u0275prov=ut({token:P,factory:()=>rt(cf),providedIn:"root"})}return P})(),cf=(()=>{class P extends Xo{title;constructor(S){super(),this.title=S}updateTitle(S){let A=this.buildTitle(S);A!==void 0&&this.title.setTitle(A)}static \u0275fac=function(A){return new(A||P)(ot(wu))};static \u0275prov=ut({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})(),bn=new mt("",{providedIn:"root",factory:()=>({})}),Bs=new mt(""),vf=(()=>{class P{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=rt(Wl);loadComponent(S){if(this.componentLoaders.get(S))return this.componentLoaders.get(S);if(S._loadedComponent)return ht(S._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(S);let A=ke(S.loadComponent()).pipe(Tt(gf),Qt(g=>{this.onLoadEndListener&&this.onLoadEndListener(S),S._loadedComponent=g}),vn(()=>{this.componentLoaders.delete(S)})),o=new Ia(A,()=>new ne).pipe(Oa());return this.componentLoaders.set(S,o),o}loadChildren(S,A){if(this.childrenLoaders.get(A))return this.childrenLoaders.get(A);if(A._loadedRoutes)return ht({routes:A._loadedRoutes,injector:A._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(A);let g=pf(A,this.compiler,S,this.onLoadEndListener).pipe(vn(()=>{this.childrenLoaders.delete(A)})),t=new Ia(g,()=>new ne).pipe(Oa());return this.childrenLoaders.set(A,t),t}static \u0275fac=function(A){return new(A||P)};static \u0275prov=ut({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})();function pf(P,T,S,A){return ke(P.loadChildren()).pipe(Tt(gf),Ce(o=>o instanceof wl||Array.isArray(o)?ht(o):le(T.compileModuleAsync(o))),Tt(o=>{A&&A(P);let g,t,a=!1;return Array.isArray(o)?(t=o,a=!0):(g=o.create(S).injector,t=g.get(Bs,[],{optional:!0,self:!0}).flat()),{routes:t.map(Vo),injector:g}}))}function yp(P){return P&&typeof P=="object"&&"default"in P}function gf(P){return yp(P)?P.default:P}var Jr=(()=>{class P{static \u0275fac=function(A){return new(A||P)};static \u0275prov=ut({token:P,factory:()=>rt(Tp),providedIn:"root"})}return P})(),Tp=(()=>{class P{shouldProcessUrl(S){return!0}extract(S){return S}merge(S,A){return S}static \u0275fac=function(A){return new(A||P)};static \u0275prov=ut({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})(),mf=new mt("");var xf=new mt(""),yf=(()=>{class P{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ne;transitionAbortWithErrorSubject=new ne;configLoader=rt(vf);environmentInjector=rt(ri);destroyRef=rt(pn);urlSerializer=rt(Fs);rootContexts=rt(ci);location=rt(Sn);inputBindingEnabled=rt(Zr,{optional:!0})!==null;titleStrategy=rt(Xo);options=rt(bn,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=rt(Jr);createViewTransition=rt(mf,{optional:!0});navigationErrorHandler=rt(xf,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>ht(void 0);rootComponentType=null;destroyed=!1;constructor(){let S=o=>this.events.next(new Nr(o)),A=o=>this.events.next(new br(o));this.configLoader.onLoadEndListener=A,this.configLoader.onLoadStartListener=S,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(S){let A=++this.navigationId;this.transitions?.next(zt(tt({},S),{extractedUrl:this.urlHandlingStrategy.extract(S.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:A}))}setupNavigations(S){return this.transitions=new Se(null),this.transitions.pipe(He(A=>A!==null),se(A=>{let o=!1;return ht(A).pipe(se(g=>{if(this.navigationId>A.id)return this.cancelNavigationTransition(A,"",re.SupersededByNewNavigation),We;this.currentTransition=A,this.currentNavigation={id:g.id,initialUrl:g.rawUrl,extractedUrl:g.extractedUrl,targetBrowserUrl:typeof g.extras.browserUrl=="string"?this.urlSerializer.parse(g.extras.browserUrl):g.extras.browserUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?zt(tt({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>g.abortController.abort()};let t=!S.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=g.extras.onSameUrlNavigation??S.onSameUrlNavigation;if(!t&&a!=="reload"){let v="";return this.events.next(new Qe(g.id,this.urlSerializer.serialize(g.rawUrl),v,Ss.IgnoredSameUrlNavigation)),g.resolve(!1),We}if(this.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return ht(g).pipe(se(v=>(this.events.next(new Qi(v.id,this.urlSerializer.serialize(v.extractedUrl),v.source,v.restoredState)),v.id!==this.navigationId?We:Promise.resolve(v))),vp(this.environmentInjector,this.configLoader,this.rootComponentType,S.config,this.urlSerializer,this.paramsInheritanceStrategy),Qt(v=>{A.targetSnapshot=v.targetSnapshot,A.urlAfterRedirects=v.urlAfterRedirects,this.currentNavigation=zt(tt({},this.currentNavigation),{finalUrl:v.urlAfterRedirects});let h=new Cs(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(h)}));if(t&&this.urlHandlingStrategy.shouldProcessUrl(g.currentRawUrl)){let{id:v,extractedUrl:h,source:s,restoredState:r,extras:e}=g,n=new Qi(v,this.urlSerializer.serialize(h),s,r);this.events.next(n);let l=tf(this.rootComponentType).snapshot;return this.currentTransition=A=zt(tt({},g),{targetSnapshot:l,urlAfterRedirects:h,extras:zt(tt({},e),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,ht(A)}else{let v="";return this.events.next(new Qe(g.id,this.urlSerializer.serialize(g.extractedUrl),v,Ss.IgnoredByUrlHandlingStrategy)),g.resolve(!1),We}}),Qt(g=>{let t=new Lr(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(t)}),Tt(g=>(this.currentTransition=A=zt(tt({},g),{guards:Iv(g.targetSnapshot,g.currentSnapshot,this.rootContexts)}),A)),Hv(this.environmentInjector,g=>this.events.next(g)),Qt(g=>{if(A.guardsResult=g.guardsResult,g.guardsResult&&typeof g.guardsResult!="boolean")throw Hr(this.urlSerializer,g.guardsResult);let t=new Or(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.events.next(t)}),He(g=>g.guardsResult?!0:(this.cancelNavigationTransition(g,"",re.GuardRejected),!1)),Eo(g=>{if(g.guards.canActivateChecks.length!==0)return ht(g).pipe(Qt(t=>{let a=new Ir(t.id,this.urlSerializer.serialize(t.extractedUrl),this.urlSerializer.serialize(t.urlAfterRedirects),t.targetSnapshot);this.events.next(a)}),se(t=>{let a=!1;return ht(t).pipe(pp(this.paramsInheritanceStrategy,this.environmentInjector),Qt({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(t,"",re.NoDataFromResolver)}}))}),Qt(t=>{let a=new Br(t.id,this.urlSerializer.serialize(t.extractedUrl),this.urlSerializer.serialize(t.urlAfterRedirects),t.targetSnapshot);this.events.next(a)}))}),Eo(g=>{let t=a=>{let v=[];a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent&&v.push(this.configLoader.loadComponent(a.routeConfig).pipe(Qt(h=>{a.component=h}),Tt(()=>{})));for(let h of a.children)v.push(...t(h));return v};return Ba(t(g.targetSnapshot.root)).pipe(Na(null),cn(1))}),Eo(()=>this.afterPreactivation()),se(()=>{let{currentSnapshot:g,targetSnapshot:t}=A,a=this.createViewTransition?.(this.environmentInjector,g.root,t.root);return a?le(a).pipe(Tt(()=>A)):ht(A)}),Tt(g=>{let t=Dv(S.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return this.currentTransition=A=zt(tt({},g),{targetRouterState:t}),this.currentNavigation.targetRouterState=t,A}),Qt(()=>{this.events.next(new Es)}),Ov(this.rootContexts,S.routeReuseStrategy,g=>this.events.next(g),this.inputBindingEnabled),cn(1),Qn(new _s(g=>{let t=A.abortController.signal,a=()=>g.next();return t.addEventListener("abort",a),()=>t.removeEventListener("abort",a)}).pipe(He(()=>!o&&!A.targetRouterState),Qt(()=>{this.cancelNavigationTransition(A,A.abortController.signal.reason+"",re.Aborted)}))),Qt({next:g=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new be(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects))),this.titleStrategy?.updateTitle(g.targetRouterState.snapshot),g.resolve(!0)},complete:()=>{o=!0}}),Qn(this.transitionAbortWithErrorSubject.pipe(Qt(g=>{throw g}))),vn(()=>{o||this.cancelNavigationTransition(A,"",re.SupersededByNewNavigation),this.currentTransition?.id===A.id&&(this.currentNavigation=null,this.currentTransition=null)}),dn(g=>{if(this.destroyed)return A.resolve(!1),We;if(o=!0,of(g))this.events.next(new Be(A.id,this.urlSerializer.serialize(A.extractedUrl),g.message,g.cancellationCode)),Lv(g)?this.events.next(new On(g.url,g.navigationBehaviorOptions)):A.resolve(!1);else{let t=new Ln(A.id,this.urlSerializer.serialize(A.extractedUrl),g,A.targetSnapshot??void 0);try{let a=Me(this.environmentInjector,()=>this.navigationErrorHandler?.(t));if(a instanceof In){let{message:v,cancellationCode:h}=Hr(this.urlSerializer,a);this.events.next(new Be(A.id,this.urlSerializer.serialize(A.extractedUrl),v,h)),this.events.next(new On(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(t),g}catch(a){this.options.resolveNavigationPromiseOnError?A.resolve(!1):A.reject(a)}}return We}))}))}cancelNavigationTransition(S,A,o){let g=new Be(S.id,this.urlSerializer.serialize(S.extractedUrl),A,o);this.events.next(g),S.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let S=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),A=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return S.toString()!==A?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(A){return new(A||P)};static \u0275prov=ut({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})();function Sp(P){return P!==xs}var Tf=(()=>{class P{static \u0275fac=function(A){return new(A||P)};static \u0275prov=ut({token:P,factory:()=>rt(Cp),providedIn:"root"})}return P})(),jr=class{shouldDetach(T){return!1}store(T,S){}shouldAttach(T){return!1}retrieve(T){return null}shouldReuseRoute(T,S){return T.routeConfig===S.routeConfig}},Cp=(()=>{class P extends jr{static \u0275fac=(()=>{let S;return function(o){return(S||(S=za(P)))(o||P)}})();static \u0275prov=ut({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})(),Sf=(()=>{class P{urlSerializer=rt(Fs);options=rt(bn,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=rt(Sn);urlHandlingStrategy=rt(Jr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Ne;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:S,initialUrl:A,targetBrowserUrl:o}){let g=S!==void 0?this.urlHandlingStrategy.merge(S,A):A,t=o??g;return t instanceof Ne?this.urlSerializer.serialize(t):t}commitTransition({targetRouterState:S,finalUrl:A,initialUrl:o}){A&&S?(this.currentUrlTree=A,this.rawUrlTree=this.urlHandlingStrategy.merge(A,o),this.routerState=S):this.rawUrlTree=o}routerState=tf(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:S}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,S??this.rawUrlTree)}static \u0275fac=function(A){return new(A||P)};static \u0275prov=ut({token:P,factory:()=>rt(Ep),providedIn:"root"})}return P})(),Ep=(()=>{class P extends Sf{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(S){return this.location.subscribe(A=>{A.type==="popstate"&&setTimeout(()=>{S(A.url,A.state,"popstate")})})}handleRouterEvent(S,A){S instanceof Qi?this.updateStateMemento():S instanceof Qe?this.commitTransition(A):S instanceof Cs?this.urlUpdateStrategy==="eager"&&(A.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(A),A)):S instanceof Es?(this.commitTransition(A),this.urlUpdateStrategy==="deferred"&&!A.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(A),A)):S instanceof Be&&S.code!==re.SupersededByNewNavigation&&S.code!==re.Redirect?this.restoreHistory(A):S instanceof Ln?this.restoreHistory(A,!0):S instanceof be&&(this.lastSuccessfulId=S.id,this.currentPageId=this.browserPageId)}setBrowserUrl(S,{extras:A,id:o}){let{replaceUrl:g,state:t}=A;if(this.location.isCurrentPathEqualTo(S)||g){let a=this.browserPageId,v=tt(tt({},t),this.generateNgRouterState(o,a));this.location.replaceState(S,"",v)}else{let a=tt(tt({},t),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(S,"",a)}}restoreHistory(S,A=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,g=this.currentPageId-o;g!==0?this.location.historyGo(g):this.getCurrentUrlTree()===S.finalUrl&&g===0&&(this.resetInternalState(S),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(A&&this.resetInternalState(S),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(S,A){return this.canceledNavigationResolution==="computed"?{navigationId:S,\u0275routerPageId:A}:{navigationId:S}}static \u0275fac=(()=>{let S;return function(o){return(S||(S=za(P)))(o||P)}})();static \u0275prov=ut({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})();function Yo(P,T){P.events.pipe(He(S=>S instanceof be||S instanceof Be||S instanceof Ln||S instanceof Qe),Tt(S=>S instanceof be||S instanceof Qe?0:(S instanceof Be?S.code===re.Redirect||S.code===re.SupersededByNewNavigation:!1)?2:1),He(S=>S!==2),cn(1)).subscribe(()=>{T()})}var Ap={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Rp={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ki=(()=>{class P{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=rt(Ja);stateManager=rt(Sf);options=rt(bn,{optional:!0})||{};pendingTasks=rt(gl);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=rt(yf);urlSerializer=rt(Fs);location=rt(Sn);urlHandlingStrategy=rt(Jr);injector=rt(ri);_events=new ne;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=rt(Tf);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=rt(Bs,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!rt(Zr,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:S=>{this.console.warn(S)}}),this.subscribeToNavigationEvents()}eventsSubscription=new _h;subscribeToNavigationEvents(){let S=this.navigationTransitions.events.subscribe(A=>{try{let o=this.navigationTransitions.currentTransition,g=this.navigationTransitions.currentNavigation;if(o!==null&&g!==null){if(this.stateManager.handleRouterEvent(A,g),A instanceof Be&&A.code!==re.Redirect&&A.code!==re.SupersededByNewNavigation)this.navigated=!0;else if(A instanceof be)this.navigated=!0;else if(A instanceof On){let t=A.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(A.url,o.currentRawUrl),v=tt({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Sp(o.source)},t);this.scheduleNavigation(a,xs,null,v,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}Av(A)&&this._events.next(A)}catch(o){this.navigationTransitions.transitionAbortWithErrorSubject.next(o)}});this.eventsSubscription.add(S)}resetRootComponentType(S){this.routerState.root.component=S,this.navigationTransitions.rootComponentType=S}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),xs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((S,A,o)=>{this.navigateToSyncWithBrowser(S,o,A)})}navigateToSyncWithBrowser(S,A,o){let g={replaceUrl:!0},t=o?.navigationId?o:null;if(o){let v=tt({},o);delete v.navigationId,delete v.\u0275routerPageId,Object.keys(v).length!==0&&(g.state=v)}let a=this.parseUrl(S);this.scheduleNavigation(a,A,t,g).catch(v=>{this.injector.get(gn)(v)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(S){this.config=S.map(Vo),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(S,A={}){let{relativeTo:o,queryParams:g,fragment:t,queryParamsHandling:a,preserveFragment:v}=A,h=v?this.currentUrlTree.fragment:t,s=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":s=tt(tt({},this.currentUrlTree.queryParams),g);break;case"preserve":s=this.currentUrlTree.queryParams;break;default:s=g||null}s!==null&&(s=this.removeEmptyProps(s));let r;try{let e=o?o.snapshot:this.routerState.snapshot.root;r=Qu(e)}catch{(typeof S[0]!="string"||S[0][0]!=="/")&&(S=[]),r=this.currentUrlTree.root}return ku(r,S,s,h??null)}navigateByUrl(S,A={skipLocationChange:!1}){let o=di(S)?S:this.parseUrl(S),g=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(g,xs,null,A)}navigate(S,A={skipLocationChange:!1}){return Pp(S),this.navigateByUrl(this.createUrlTree(S,A),A)}serializeUrl(S){return this.urlSerializer.serialize(S)}parseUrl(S){try{return this.urlSerializer.parse(S)}catch{return this.urlSerializer.parse("/")}}isActive(S,A){let o;if(A===!0?o=tt({},Ap):A===!1?o=tt({},Rp):o=A,di(S))return Lu(this.currentUrlTree,S,o);let g=this.parseUrl(S);return Lu(this.currentUrlTree,g,o)}removeEmptyProps(S){return Object.entries(S).reduce((A,[o,g])=>(g!=null&&(A[o]=g),A),{})}scheduleNavigation(S,A,o,g,t){if(this.disposed)return Promise.resolve(!1);let a,v,h;t?(a=t.resolve,v=t.reject,h=t.promise):h=new Promise((r,e)=>{a=r,v=e});let s=this.pendingTasks.add();return Yo(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(s))}),this.navigationTransitions.handleNavigationRequest({source:A,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:S,extras:g,resolve:a,reject:v,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(r=>Promise.reject(r))}static \u0275fac=function(A){return new(A||P)};static \u0275prov=ut({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})();function Pp(P){for(let T=0;T<P.length;T++)if(P[T]==null)throw new dt(4008,!1)}var vi=(()=>{class P{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=kn(null);get href(){return yn(this.reactiveHref)}set href(S){this.reactiveHref.set(S)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ne;applicationErrorHandler=rt(gn);options=rt(bn,{optional:!0});constructor(S,A,o,g,t,a){this.router=S,this.route=A,this.tabIndexAttribute=o,this.renderer=g,this.el=t,this.locationStrategy=a,this.reactiveHref.set(rt(new $l("href"),{optional:!0}));let v=t.nativeElement.tagName?.toLowerCase();this.isAnchorElement=v==="a"||v==="area"||!!(typeof customElements=="object"&&customElements.get(v)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let S=this.preserveFragment,A=o=>o==="merge"||o==="preserve";S||=A(this.queryParamsHandling),S||=!this.queryParamsHandling&&!A(this.options?.defaultQueryParamsHandling),S&&(this.subscription=this.router.events.subscribe(o=>{o instanceof be&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(S){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",S)}ngOnChanges(S){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(S){S==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(di(S)?this.routerLinkInput=S:this.routerLinkInput=Array.isArray(S)?S:[S],this.setTabIndexIfNotOnNativeEl("0"))}onClick(S,A,o,g,t){let a=this.urlTree;if(a===null||this.isAnchorElement&&(S!==0||A||o||g||t||typeof this.target=="string"&&this.target!="_self"))return!0;let v={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,v)?.catch(h=>{this.applicationErrorHandler(h)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let S=this.urlTree;this.reactiveHref.set(S!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(S))??"":null)}applyAttributeValue(S,A){let o=this.renderer,g=this.el.nativeElement;A!==null?o.setAttribute(g,S,A):o.removeAttribute(g,S)}get urlTree(){return this.routerLinkInput===null?null:di(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(A){return new(A||P)(Rt(ki),Rt(we),Va("tabindex"),Rt(qn),Rt(bi),Rt(Tn))};static \u0275dir=Ze({type:P,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(A,o){A&1&&Oe("click",function(t){return o.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),A&2&&Il("href",o.reactiveHref(),Ml)("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",lr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",lr],replaceUrl:[2,"replaceUrl","replaceUrl",lr],routerLink:"routerLink"},features:[Ni]})}return P})();var Dp=new mt("");function Wo(P,...T){return Ii([{provide:Bs,multi:!0,useValue:P},[],{provide:we,useFactory:wp,deps:[ki]},{provide:Ol,multi:!0,useFactory:Fp},T.map(S=>S.\u0275providers)])}function wp(P){return P.routerState.root}function Fp(){let P=rt(Bi);return T=>{let S=P.get(Qa);if(T!==S.components[0])return;let A=P.get(ki),o=P.get(Lp);P.get(Op)===1&&A.initialNavigation(),P.get(Ip,null,{optional:!0})?.setUpPreloading(),P.get(Dp,null,{optional:!0})?.init(),A.resetRootComponentType(S.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var Lp=new mt("",{factory:()=>new ne}),Op=new mt("",{providedIn:"root",factory:()=>1});var Ip=new mt("");function qe(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}function Ff(P,T){P.prototype=Object.create(T.prototype),P.prototype.constructor=P,P.__proto__=T}var ve={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Un={duration:.5,overwrite:!1,delay:0},hh,qt,It,Ae=1e8,Dt=1/Ae,ko=Math.PI*2,Bp=ko/4,Np=0,Lf=Math.sqrt,bp=Math.cos,Gp=Math.sin,Kt=function(T){return typeof T=="string"},Gt=function(T){return typeof T=="function"},ti=function(T){return typeof T=="number"},ra=function(T){return typeof T>"u"},ze=function(T){return typeof T=="object"},ce=function(T){return T!==!1},lh=function(){return typeof window<"u"},Qr=function(T){return Gt(T)||Kt(T)},Of=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},ee=Array.isArray,qo=/(?:-?\.?\d|\.)+/gi,uh=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,en=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Ho=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,fh=/[+-]=-?[.\d]+/,If=/[^,'"\[\]\s]+/gi,Up=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Bt,Ge,_o,dh,ye={},ta={},Bf,Nf=function(T){return(ta=zn(T,ye))&&ie},aa=function(T,S){return console.warn("Invalid property",T,"set to",S,"Missing plugin? gsap.registerPlugin()")},Vs=function(T,S){return!S&&console.warn(T)},bf=function(T,S){return T&&(ye[T]=S)&&ta&&(ta[T]=S)||ye},Xs=function(){return 0},zp={suppressEvents:!0,isStart:!0,kill:!1},kr={suppressEvents:!0,kill:!1},Vp={suppressEvents:!0},ch={},gi=[],th={},Gf,fe={},$o={},Ef=30,qr=[],vh="",ph=function(T){var S=T[0],A,o;if(ze(S)||Gt(S)||(T=[T]),!(A=(S._gsap||{}).harness)){for(o=qr.length;o--&&!qr[o].targetTest(S););A=qr[o]}for(o=T.length;o--;)T[o]&&(T[o]._gsap||(T[o]._gsap=new yh(T[o],A)))||T.splice(o,1);return T},mi=function(T){return T._gsap||ph(Re(T))[0]._gsap},gh=function(T,S,A){return(A=T[S])&&Gt(A)?T[S]():ra(A)&&T.getAttribute&&T.getAttribute(S)||A},ae=function(T,S){return(T=T.split(",")).forEach(S)||T},Ut=function(T){return Math.round(T*1e5)/1e5||0},$t=function(T){return Math.round(T*1e7)/1e7||0},nn=function(T,S){var A=S.charAt(0),o=parseFloat(S.substr(2));return T=parseFloat(T),A==="+"?T+o:A==="-"?T-o:A==="*"?T*o:T/o},Xp=function(T,S){for(var A=S.length,o=0;T.indexOf(S[o])<0&&++o<A;);return o<A},ea=function(){var T=gi.length,S=gi.slice(0),A,o;for(th={},gi.length=0,A=0;A<T;A++)o=S[A],o&&o._lazy&&(o.render(o._lazy[0],o._lazy[1],!0)._lazy=0)},mh=function(T){return!!(T._initted||T._startAt||T.add)},Uf=function(T,S,A,o){gi.length&&!qt&&ea(),T.render(S,A,o||!!(qt&&S<0&&mh(T))),gi.length&&!qt&&ea()},zf=function(T){var S=parseFloat(T);return(S||S===0)&&(T+"").match(If).length<2?S:Kt(T)?T.trim():T},Vf=function(T){return T},Te=function(T,S){for(var A in S)A in T||(T[A]=S[A]);return T},Yp=function(T){return function(S,A){for(var o in A)o in S||o==="duration"&&T||o==="ease"||(S[o]=A[o])}},zn=function(T,S){for(var A in S)T[A]=S[A];return T},Af=function P(T,S){for(var A in S)A!=="__proto__"&&A!=="constructor"&&A!=="prototype"&&(T[A]=ze(S[A])?P(T[A]||(T[A]={}),S[A]):S[A]);return T},ia=function(T,S){var A={},o;for(o in T)o in S||(A[o]=T[o]);return A},Gs=function(T){var S=T.parent||Bt,A=T.keyframes?Yp(ee(T.keyframes)):Te;if(ce(T.inherit))for(;S;)A(T,S.vars.defaults),S=S.parent||S._dp;return T},Wp=function(T,S){for(var A=T.length,o=A===S.length;o&&A--&&T[A]===S[A];);return A<0},Xf=function(T,S,A,o,g){A===void 0&&(A="_first"),o===void 0&&(o="_last");var t=T[o],a;if(g)for(a=S[g];t&&t[g]>a;)t=t._prev;return t?(S._next=t._next,t._next=S):(S._next=T[A],T[A]=S),S._next?S._next._prev=S:T[o]=S,S._prev=t,S.parent=S._dp=T,S},oa=function(T,S,A,o){A===void 0&&(A="_first"),o===void 0&&(o="_last");var g=S._prev,t=S._next;g?g._next=t:T[A]===S&&(T[A]=t),t?t._prev=g:T[o]===S&&(T[o]=g),S._next=S._prev=S.parent=null},xi=function(T,S){T.parent&&(!S||T.parent.autoRemoveChildren)&&T.parent.remove&&T.parent.remove(T),T._act=0},qi=function(T,S){if(T&&(!S||S._end>T._dur||S._start<0))for(var A=T;A;)A._dirty=1,A=A.parent;return T},Hp=function(T){for(var S=T.parent;S&&S.parent;)S._dirty=1,S.totalDuration(),S=S.parent;return T},eh=function(T,S,A,o){return T._startAt&&(qt?T._startAt.revert(kr):T.vars.immediateRender&&!T.vars.autoRevert||T._startAt.render(S,!0,o))},$p=function P(T){return!T||T._ts&&P(T.parent)},Rf=function(T){return T._repeat?Vn(T._tTime,T=T.duration()+T._rDelay)*T:0},Vn=function(T,S){var A=Math.floor(T=$t(T/S));return T&&A===T?A-1:A},na=function(T,S){return(T-S._start)*S._ts+(S._ts>=0?0:S._dirty?S.totalDuration():S._tDur)},ha=function(T){return T._end=$t(T._start+(T._tDur/Math.abs(T._ts||T._rts||Dt)||0))},la=function(T,S){var A=T._dp;return A&&A.smoothChildTiming&&T._ts&&(T._start=$t(A._time-(T._ts>0?S/T._ts:((T._dirty?T.totalDuration():T._tDur)-S)/-T._ts)),ha(T),A._dirty||qi(A,T)),T},Yf=function(T,S){var A;if((S._time||!S._dur&&S._initted||S._start<T._time&&(S._dur||!S.add))&&(A=na(T.rawTime(),S),(!S._dur||Hs(0,S.totalDuration(),A)-S._tTime>Dt)&&S.render(A,!0)),qi(T,S)._dp&&T._initted&&T._time>=T._dur&&T._ts){if(T._dur<T.duration())for(A=T;A._dp;)A.rawTime()>=0&&A.totalTime(A._tTime),A=A._dp;T._zTime=-Dt}},Ue=function(T,S,A,o){return S.parent&&xi(S),S._start=$t((ti(A)?A:A||T!==Bt?Ee(T,A,S):T._time)+S._delay),S._end=$t(S._start+(S.totalDuration()/Math.abs(S.timeScale())||0)),Xf(T,S,"_first","_last",T._sort?"_start":0),ih(S)||(T._recent=S),o||Yf(T,S),T._ts<0&&la(T,T._tTime),T},Wf=function(T,S){return(ye.ScrollTrigger||aa("scrollTrigger",S))&&ye.ScrollTrigger.create(S,T)},Hf=function(T,S,A,o,g){if(Ch(T,S,g),!T._initted)return 1;if(!A&&T._pt&&!qt&&(T._dur&&T.vars.lazy!==!1||!T._dur&&T.vars.lazy)&&Gf!==de.frame)return gi.push(T),T._lazy=[g,o],1},jp=function P(T){var S=T.parent;return S&&S._ts&&S._initted&&!S._lock&&(S.rawTime()<0||P(S))},ih=function(T){var S=T.data;return S==="isFromStart"||S==="isStart"},Zp=function(T,S,A,o){var g=T.ratio,t=S<0||!S&&(!T._start&&jp(T)&&!(!T._initted&&ih(T))||(T._ts<0||T._dp._ts<0)&&!ih(T))?0:1,a=T._rDelay,v=0,h,s,r;if(a&&T._repeat&&(v=Hs(0,T._tDur,S),s=Vn(v,a),T._yoyo&&s&1&&(t=1-t),s!==Vn(T._tTime,a)&&(g=1-t,T.vars.repeatRefresh&&T._initted&&T.invalidate())),t!==g||qt||o||T._zTime===Dt||!S&&T._zTime){if(!T._initted&&Hf(T,S,o,A,v))return;for(r=T._zTime,T._zTime=S||(A?Dt:0),A||(A=S&&!r),T.ratio=t,T._from&&(t=1-t),T._time=0,T._tTime=v,h=T._pt;h;)h.r(t,h.d),h=h._next;S<0&&eh(T,S,A,!0),T._onUpdate&&!A&&xe(T,"onUpdate"),v&&T._repeat&&!A&&T.parent&&xe(T,"onRepeat"),(S>=T._tDur||S<0)&&T.ratio===t&&(t&&xi(T,1),!A&&!qt&&(xe(T,t?"onComplete":"onReverseComplete",!0),T._prom&&T._prom()))}else T._zTime||(T._zTime=S)},Kp=function(T,S,A){var o;if(A>S)for(o=T._first;o&&o._start<=A;){if(o.data==="isPause"&&o._start>S)return o;o=o._next}else for(o=T._last;o&&o._start>=A;){if(o.data==="isPause"&&o._start<S)return o;o=o._prev}},Xn=function(T,S,A,o){var g=T._repeat,t=$t(S)||0,a=T._tTime/T._tDur;return a&&!o&&(T._time*=t/T._dur),T._dur=t,T._tDur=g?g<0?1e10:$t(t*(g+1)+T._rDelay*g):t,a>0&&!o&&la(T,T._tTime=T._tDur*a),T.parent&&ha(T),A||qi(T.parent,T),T},Pf=function(T){return T instanceof kt?qi(T):Xn(T,T._dur)},Jp={_start:0,endTime:Xs,totalDuration:Xs},Ee=function P(T,S,A){var o=T.labels,g=T._recent||Jp,t=T.duration()>=Ae?g.endTime(!1):T._dur,a,v,h;return Kt(S)&&(isNaN(S)||S in o)?(v=S.charAt(0),h=S.substr(-1)==="%",a=S.indexOf("="),v==="<"||v===">"?(a>=0&&(S=S.replace(/=/,"")),(v==="<"?g._start:g.endTime(g._repeat>=0))+(parseFloat(S.substr(1))||0)*(h?(a<0?g:A).totalDuration()/100:1)):a<0?(S in o||(o[S]=t),o[S]):(v=parseFloat(S.charAt(a-1)+S.substr(a+1)),h&&A&&(v=v/100*(ee(A)?A[0]:A).totalDuration()),a>1?P(T,S.substr(0,a-1),A)+v:t+v)):S==null?t:+S},Us=function(T,S,A){var o=ti(S[1]),g=(o?2:1)+(T<2?0:1),t=S[g],a,v;if(o&&(t.duration=S[1]),t.parent=A,T){for(a=t,v=A;v&&!("immediateRender"in a);)a=v.vars.defaults||{},v=ce(v.vars.inherit)&&v.parent;t.immediateRender=ce(a.immediateRender),T<2?t.runBackwards=1:t.startAt=S[g-1]}return new Yt(S[0],t,S[g+1])},yi=function(T,S){return T||T===0?S(T):S},Hs=function(T,S,A){return A<T?T:A>S?S:A},_t=function(T,S){return!Kt(T)||!(S=Up.exec(T))?"":S[1]},Qp=function(T,S,A){return yi(A,function(o){return Hs(T,S,o)})},nh=[].slice,$f=function(T,S){return T&&ze(T)&&"length"in T&&(!S&&!T.length||T.length-1 in T&&ze(T[0]))&&!T.nodeType&&T!==Ge},kp=function(T,S,A){return A===void 0&&(A=[]),T.forEach(function(o){var g;return Kt(o)&&!S||$f(o,1)?(g=A).push.apply(g,Re(o)):A.push(o)})||A},Re=function(T,S,A){return It&&!S&&It.selector?It.selector(T):Kt(T)&&!A&&(_o||!Yn())?nh.call((S||dh).querySelectorAll(T),0):ee(T)?kp(T,A):$f(T)?nh.call(T,0):T?[T]:[]},sh=function(T){return T=Re(T)[0]||Vs("Invalid scope")||{},function(S){var A=T.current||T.nativeElement||T;return Re(S,A.querySelectorAll?A:A===T?Vs("Invalid scope")||dh.createElement("div"):T)}},jf=function(T){return T.sort(function(){return .5-Math.random()})},Zf=function(T){if(Gt(T))return T;var S=ze(T)?T:{each:T},A=_i(S.ease),o=S.from||0,g=parseFloat(S.base)||0,t={},a=o>0&&o<1,v=isNaN(o)||a,h=S.axis,s=o,r=o;return Kt(o)?s=r={center:.5,edges:.5,end:1}[o]||0:!a&&v&&(s=o[0],r=o[1]),function(e,n,l){var i=(l||S).length,u=t[i],f,c,d,p,m,y,x,C,E;if(!u){if(E=S.grid==="auto"?0:(S.grid||[1,Ae])[1],!E){for(x=-Ae;x<(x=l[E++].getBoundingClientRect().left)&&E<i;);E<i&&E--}for(u=t[i]=[],f=v?Math.min(E,i)*s-.5:o%E,c=E===Ae?0:v?i*r/E-.5:o/E|0,x=0,C=Ae,y=0;y<i;y++)d=y%E-f,p=c-(y/E|0),u[y]=m=h?Math.abs(h==="y"?p:d):Lf(d*d+p*p),m>x&&(x=m),m<C&&(C=m);o==="random"&&jf(u),u.max=x-C,u.min=C,u.v=i=(parseFloat(S.amount)||parseFloat(S.each)*(E>i?i-1:h?h==="y"?i/E:E:Math.max(E,i/E))||0)*(o==="edges"?-1:1),u.b=i<0?g-i:g,u.u=_t(S.amount||S.each)||0,A=A&&i<0?id(A):A}return i=(u[e]-u.min)/u.max||0,$t(u.b+(A?A(i):i)*u.v)+u.u}},rh=function(T){var S=Math.pow(10,((T+"").split(".")[1]||"").length);return function(A){var o=$t(Math.round(parseFloat(A)/T)*T*S);return(o-o%1)/S+(ti(A)?0:_t(A))}},Kf=function(T,S){var A=ee(T),o,g;return!A&&ze(T)&&(o=A=T.radius||Ae,T.values?(T=Re(T.values),(g=!ti(T[0]))&&(o*=o)):T=rh(T.increment)),yi(S,A?Gt(T)?function(t){return g=T(t),Math.abs(g-t)<=o?g:t}:function(t){for(var a=parseFloat(g?t.x:t),v=parseFloat(g?t.y:0),h=Ae,s=0,r=T.length,e,n;r--;)g?(e=T[r].x-a,n=T[r].y-v,e=e*e+n*n):e=Math.abs(T[r]-a),e<h&&(h=e,s=r);return s=!o||h<=o?T[s]:t,g||s===t||ti(t)?s:s+_t(t)}:rh(T))},Jf=function(T,S,A,o){return yi(ee(T)?!S:A===!0?!!(A=0):!o,function(){return ee(T)?T[~~(Math.random()*T.length)]:(A=A||1e-5)&&(o=A<1?Math.pow(10,(A+"").length-2):1)&&Math.floor(Math.round((T-A/2+Math.random()*(S-T+A*.99))/A)*A*o)/o})},qp=function(){for(var T=arguments.length,S=new Array(T),A=0;A<T;A++)S[A]=arguments[A];return function(o){return S.reduce(function(g,t){return t(g)},o)}},_p=function(T,S){return function(A){return T(parseFloat(A))+(S||_t(A))}},t0=function(T,S,A){return kf(T,S,0,1,A)},Qf=function(T,S,A){return yi(A,function(o){return T[~~S(o)]})},e0=function P(T,S,A){var o=S-T;return ee(T)?Qf(T,P(0,T.length),S):yi(A,function(g){return(o+(g-T)%o)%o+T})},i0=function P(T,S,A){var o=S-T,g=o*2;return ee(T)?Qf(T,P(0,T.length-1),S):yi(A,function(t){return t=(g+(t-T)%g)%g||0,T+(t>o?g-t:t)})},Wn=function(T){for(var S=0,A="",o,g,t,a;~(o=T.indexOf("random(",S));)t=T.indexOf(")",o),a=T.charAt(o+7)==="[",g=T.substr(o+7,t-o-7).match(a?If:qo),A+=T.substr(S,o-S)+Jf(a?g:+g[0],a?0:+g[1],+g[2]||1e-5),S=t+1;return A+T.substr(S,T.length-S)},kf=function(T,S,A,o,g){var t=S-T,a=o-A;return yi(g,function(v){return A+((v-T)/t*a||0)})},n0=function P(T,S,A,o){var g=isNaN(T+S)?0:function(n){return(1-n)*T+n*S};if(!g){var t=Kt(T),a={},v,h,s,r,e;if(A===!0&&(o=1)&&(A=null),t)T={p:T},S={p:S};else if(ee(T)&&!ee(S)){for(s=[],r=T.length,e=r-2,h=1;h<r;h++)s.push(P(T[h-1],T[h]));r--,g=function(l){l*=r;var i=Math.min(e,~~l);return s[i](l-i)},A=S}else o||(T=zn(ee(T)?[]:{},T));if(!s){for(v in S)Th.call(a,T,v,"get",S[v]);g=function(l){return Rh(l,a)||(t?T.p:T)}}}return yi(A,g)},Mf=function(T,S,A){var o=T.labels,g=Ae,t,a,v;for(t in o)a=o[t]-S,a<0==!!A&&a&&g>(a=Math.abs(a))&&(v=t,g=a);return v},xe=function(T,S,A){var o=T.vars,g=o[S],t=It,a=T._ctx,v,h,s;if(g)return v=o[S+"Params"],h=o.callbackScope||T,A&&gi.length&&ea(),a&&(It=a),s=v?g.apply(h,v):g.call(h),It=t,s},Ns=function(T){return xi(T),T.scrollTrigger&&T.scrollTrigger.kill(!!qt),T.progress()<1&&xe(T,"onInterrupt"),T},Gn,qf=[],_f=function(T){if(T)if(T=!T.name&&T.default||T,lh()||T.headless){var S=T.name,A=Gt(T),o=S&&!A&&T.init?function(){this._props=[]}:T,g={init:Xs,render:Rh,add:Th,kill:y0,modifier:x0,rawVars:0},t={targetTest:0,get:0,getSetter:ua,aliases:{},register:0};if(Yn(),T!==o){if(fe[S])return;Te(o,Te(ia(T,g),t)),zn(o.prototype,zn(g,ia(T,t))),fe[o.prop=S]=o,T.targetTest&&(qr.push(o),ch[S]=1),S=(S==="css"?"CSS":S.charAt(0).toUpperCase()+S.substr(1))+"Plugin"}bf(S,o),T.register&&T.register(ie,o,oe)}else qf.push(T)},Mt=255,bs={aqua:[0,Mt,Mt],lime:[0,Mt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Mt],navy:[0,0,128],white:[Mt,Mt,Mt],olive:[128,128,0],yellow:[Mt,Mt,0],orange:[Mt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Mt,0,0],pink:[Mt,192,203],cyan:[0,Mt,Mt],transparent:[Mt,Mt,Mt,0]},jo=function(T,S,A){return T+=T<0?1:T>1?-1:0,(T*6<1?S+(A-S)*T*6:T<.5?A:T*3<2?S+(A-S)*(2/3-T)*6:S)*Mt+.5|0},td=function(T,S,A){var o=T?ti(T)?[T>>16,T>>8&Mt,T&Mt]:0:bs.black,g,t,a,v,h,s,r,e,n,l;if(!o){if(T.substr(-1)===","&&(T=T.substr(0,T.length-1)),bs[T])o=bs[T];else if(T.charAt(0)==="#"){if(T.length<6&&(g=T.charAt(1),t=T.charAt(2),a=T.charAt(3),T="#"+g+g+t+t+a+a+(T.length===5?T.charAt(4)+T.charAt(4):"")),T.length===9)return o=parseInt(T.substr(1,6),16),[o>>16,o>>8&Mt,o&Mt,parseInt(T.substr(7),16)/255];T=parseInt(T.substr(1),16),o=[T>>16,T>>8&Mt,T&Mt]}else if(T.substr(0,3)==="hsl"){if(o=l=T.match(qo),!S)v=+o[0]%360/360,h=+o[1]/100,s=+o[2]/100,t=s<=.5?s*(h+1):s+h-s*h,g=s*2-t,o.length>3&&(o[3]*=1),o[0]=jo(v+1/3,g,t),o[1]=jo(v,g,t),o[2]=jo(v-1/3,g,t);else if(~T.indexOf("="))return o=T.match(uh),A&&o.length<4&&(o[3]=1),o}else o=T.match(qo)||bs.transparent;o=o.map(Number)}return S&&!l&&(g=o[0]/Mt,t=o[1]/Mt,a=o[2]/Mt,r=Math.max(g,t,a),e=Math.min(g,t,a),s=(r+e)/2,r===e?v=h=0:(n=r-e,h=s>.5?n/(2-r-e):n/(r+e),v=r===g?(t-a)/n+(t<a?6:0):r===t?(a-g)/n+2:(g-t)/n+4,v*=60),o[0]=~~(v+.5),o[1]=~~(h*100+.5),o[2]=~~(s*100+.5)),A&&o.length<4&&(o[3]=1),o},ed=function(T){var S=[],A=[],o=-1;return T.split(_e).forEach(function(g){var t=g.match(en)||[];S.push.apply(S,t),A.push(o+=t.length+1)}),S.c=A,S},Df=function(T,S,A){var o="",g=(T+o).match(_e),t=S?"hsla(":"rgba(",a=0,v,h,s,r;if(!g)return T;if(g=g.map(function(e){return(e=td(e,S,1))&&t+(S?e[0]+","+e[1]+"%,"+e[2]+"%,"+e[3]:e.join(","))+")"}),A&&(s=ed(T),v=A.c,v.join(o)!==s.c.join(o)))for(h=T.replace(_e,"1").split(en),r=h.length-1;a<r;a++)o+=h[a]+(~v.indexOf(a)?g.shift()||t+"0,0,0,0)":(s.length?s:g.length?g:A).shift());if(!h)for(h=T.split(_e),r=h.length-1;a<r;a++)o+=h[a]+g[a];return o+h[r]},_e=function(){var P="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",T;for(T in bs)P+="|"+T+"\\b";return new RegExp(P+")","gi")}(),s0=/hsl[a]?\(/,xh=function(T){var S=T.join(" "),A;if(_e.lastIndex=0,_e.test(S))return A=s0.test(S),T[1]=Df(T[1],A),T[0]=Df(T[0],A,ed(T[1])),!0},Ys,de=function(){var P=Date.now,T=500,S=33,A=P(),o=A,g=1e3/240,t=g,a=[],v,h,s,r,e,n,l=function i(u){var f=P()-o,c=u===!0,d,p,m,y;if((f>T||f<0)&&(A+=f-S),o+=f,m=o-A,d=m-t,(d>0||c)&&(y=++r.frame,e=m-r.time*1e3,r.time=m=m/1e3,t+=d+(d>=g?4:g-d),p=1),c||(v=h(i)),p)for(n=0;n<a.length;n++)a[n](m,e,y,u)};return r={time:0,frame:0,tick:function(){l(!0)},deltaRatio:function(u){return e/(1e3/(u||60))},wake:function(){Bf&&(!_o&&lh()&&(Ge=_o=window,dh=Ge.document||{},ye.gsap=ie,(Ge.gsapVersions||(Ge.gsapVersions=[])).push(ie.version),Nf(ta||Ge.GreenSockGlobals||!Ge.gsap&&Ge||{}),qf.forEach(_f)),s=typeof requestAnimationFrame<"u"&&requestAnimationFrame,v&&r.sleep(),h=s||function(u){return setTimeout(u,t-r.time*1e3+1|0)},Ys=1,l(2))},sleep:function(){(s?cancelAnimationFrame:clearTimeout)(v),Ys=0,h=Xs},lagSmoothing:function(u,f){T=u||1/0,S=Math.min(f||33,T)},fps:function(u){g=1e3/(u||240),t=r.time*1e3+g},add:function(u,f,c){var d=f?function(p,m,y,x){u(p,m,y,x),r.remove(d)}:u;return r.remove(u),a[c?"unshift":"push"](d),Yn(),d},remove:function(u,f){~(f=a.indexOf(u))&&a.splice(f,1)&&n>=f&&n--},_listeners:a},r}(),Yn=function(){return!Ys&&de.wake()},yt={},r0=/^[\d.\-M][\d.\-,\s]/,a0=/["']/g,o0=function(T){for(var S={},A=T.substr(1,T.length-3).split(":"),o=A[0],g=1,t=A.length,a,v,h;g<t;g++)v=A[g],a=g!==t-1?v.lastIndexOf(","):v.length,h=v.substr(0,a),S[o]=isNaN(h)?h.replace(a0,"").trim():+h,o=v.substr(a+1).trim();return S},h0=function(T){var S=T.indexOf("(")+1,A=T.indexOf(")"),o=T.indexOf("(",S);return T.substring(S,~o&&o<A?T.indexOf(")",A+1):A)},l0=function(T){var S=(T+"").split("("),A=yt[S[0]];return A&&S.length>1&&A.config?A.config.apply(null,~T.indexOf("{")?[o0(S[1])]:h0(T).split(",").map(zf)):yt._CE&&r0.test(T)?yt._CE("",T):A},id=function(T){return function(S){return 1-T(1-S)}},nd=function P(T,S){for(var A=T._first,o;A;)A instanceof kt?P(A,S):A.vars.yoyoEase&&(!A._yoyo||!A._repeat)&&A._yoyo!==S&&(A.timeline?P(A.timeline,S):(o=A._ease,A._ease=A._yEase,A._yEase=o,A._yoyo=S)),A=A._next},_i=function(T,S){return T&&(Gt(T)?T:yt[T]||l0(T))||S},sn=function(T,S,A,o){A===void 0&&(A=function(v){return 1-S(1-v)}),o===void 0&&(o=function(v){return v<.5?S(v*2)/2:1-S((1-v)*2)/2});var g={easeIn:S,easeOut:A,easeInOut:o},t;return ae(T,function(a){yt[a]=ye[a]=g,yt[t=a.toLowerCase()]=A;for(var v in g)yt[t+(v==="easeIn"?".in":v==="easeOut"?".out":".inOut")]=yt[a+"."+v]=g[v]}),g},sd=function(T){return function(S){return S<.5?(1-T(1-S*2))/2:.5+T((S-.5)*2)/2}},Zo=function P(T,S,A){var o=S>=1?S:1,g=(A||(T?.3:.45))/(S<1?S:1),t=g/ko*(Math.asin(1/o)||0),a=function(s){return s===1?1:o*Math.pow(2,-10*s)*Gp((s-t)*g)+1},v=T==="out"?a:T==="in"?function(h){return 1-a(1-h)}:sd(a);return g=ko/g,v.config=function(h,s){return P(T,h,s)},v},Ko=function P(T,S){S===void 0&&(S=1.70158);var A=function(t){return t?--t*t*((S+1)*t+S)+1:0},o=T==="out"?A:T==="in"?function(g){return 1-A(1-g)}:sd(A);return o.config=function(g){return P(T,g)},o};ae("Linear,Quad,Cubic,Quart,Quint,Strong",function(P,T){var S=T<5?T+1:T;sn(P+",Power"+(S-1),T?function(A){return Math.pow(A,S)}:function(A){return A},function(A){return 1-Math.pow(1-A,S)},function(A){return A<.5?Math.pow(A*2,S)/2:1-Math.pow((1-A)*2,S)/2})});yt.Linear.easeNone=yt.none=yt.Linear.easeIn;sn("Elastic",Zo("in"),Zo("out"),Zo());(function(P,T){var S=1/T,A=2*S,o=2.5*S,g=function(a){return a<S?P*a*a:a<A?P*Math.pow(a-1.5/T,2)+.75:a<o?P*(a-=2.25/T)*a+.9375:P*Math.pow(a-2.625/T,2)+.984375};sn("Bounce",function(t){return 1-g(1-t)},g)})(7.5625,2.75);sn("Expo",function(P){return Math.pow(2,10*(P-1))*P+P*P*P*P*P*P*(1-P)});sn("Circ",function(P){return-(Lf(1-P*P)-1)});sn("Sine",function(P){return P===1?1:-bp(P*Bp)+1});sn("Back",Ko("in"),Ko("out"),Ko());yt.SteppedEase=yt.steps=ye.SteppedEase={config:function(T,S){T===void 0&&(T=1);var A=1/T,o=T+(S?0:1),g=S?1:0,t=1-Dt;return function(a){return((o*Hs(0,t,a)|0)+g)*A}}};Un.ease=yt["quad.out"];ae("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(P){return vh+=P+","+P+"Params,"});var yh=function(T,S){this.id=Np++,T._gsap=this,this.target=T,this.harness=S,this.get=S?S.get:gh,this.set=S?S.getSetter:ua},Ws=function(){function P(S){this.vars=S,this._delay=+S.delay||0,(this._repeat=S.repeat===1/0?-2:S.repeat||0)&&(this._rDelay=S.repeatDelay||0,this._yoyo=!!S.yoyo||!!S.yoyoEase),this._ts=1,Xn(this,+S.duration,1,1),this.data=S.data,It&&(this._ctx=It,It.data.push(this)),Ys||de.wake()}var T=P.prototype;return T.delay=function(A){return A||A===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+A-this._delay),this._delay=A,this):this._delay},T.duration=function(A){return arguments.length?this.totalDuration(this._repeat>0?A+(A+this._rDelay)*this._repeat:A):this.totalDuration()&&this._dur},T.totalDuration=function(A){return arguments.length?(this._dirty=0,Xn(this,this._repeat<0?A:(A-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},T.totalTime=function(A,o){if(Yn(),!arguments.length)return this._tTime;var g=this._dp;if(g&&g.smoothChildTiming&&this._ts){for(la(this,A),!g._dp||g.parent||Yf(g,this);g&&g.parent;)g.parent._time!==g._start+(g._ts>=0?g._tTime/g._ts:(g.totalDuration()-g._tTime)/-g._ts)&&g.totalTime(g._tTime,!0),g=g.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&A<this._tDur||this._ts<0&&A>0||!this._tDur&&!A)&&Ue(this._dp,this,this._start-this._delay)}return(this._tTime!==A||!this._dur&&!o||this._initted&&Math.abs(this._zTime)===Dt||!A&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=A),Uf(this,A,o)),this},T.time=function(A,o){return arguments.length?this.totalTime(Math.min(this.totalDuration(),A+Rf(this))%(this._dur+this._rDelay)||(A?this._dur:0),o):this._time},T.totalProgress=function(A,o){return arguments.length?this.totalTime(this.totalDuration()*A,o):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},T.progress=function(A,o){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-A:A)+Rf(this),o):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},T.iteration=function(A,o){var g=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(A-1)*g,o):this._repeat?Vn(this._tTime,g)+1:1},T.timeScale=function(A,o){if(!arguments.length)return this._rts===-Dt?0:this._rts;if(this._rts===A)return this;var g=this.parent&&this._ts?na(this.parent._time,this):this._tTime;return this._rts=+A||0,this._ts=this._ps||A===-Dt?0:this._rts,this.totalTime(Hs(-Math.abs(this._delay),this.totalDuration(),g),o!==!1),ha(this),Hp(this)},T.paused=function(A){return arguments.length?(this._ps!==A&&(this._ps=A,A?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Yn(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Dt&&(this._tTime-=Dt)))),this):this._ps},T.startTime=function(A){if(arguments.length){this._start=A;var o=this.parent||this._dp;return o&&(o._sort||!this.parent)&&Ue(o,this,A-this._delay),this}return this._start},T.endTime=function(A){return this._start+(ce(A)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},T.rawTime=function(A){var o=this.parent||this._dp;return o?A&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?na(o.rawTime(A),this):this._tTime:this._tTime},T.revert=function(A){A===void 0&&(A=Vp);var o=qt;return qt=A,mh(this)&&(this.timeline&&this.timeline.revert(A),this.totalTime(-.01,A.suppressEvents)),this.data!=="nested"&&A.kill!==!1&&this.kill(),qt=o,this},T.globalTime=function(A){for(var o=this,g=arguments.length?A:o.rawTime();o;)g=o._start+g/(Math.abs(o._ts)||1),o=o._dp;return!this.parent&&this._sat?this._sat.globalTime(A):g},T.repeat=function(A){return arguments.length?(this._repeat=A===1/0?-2:A,Pf(this)):this._repeat===-2?1/0:this._repeat},T.repeatDelay=function(A){if(arguments.length){var o=this._time;return this._rDelay=A,Pf(this),o?this.time(o):this}return this._rDelay},T.yoyo=function(A){return arguments.length?(this._yoyo=A,this):this._yoyo},T.seek=function(A,o){return this.totalTime(Ee(this,A),ce(o))},T.restart=function(A,o){return this.play().totalTime(A?-this._delay:0,ce(o)),this._dur||(this._zTime=-Dt),this},T.play=function(A,o){return A!=null&&this.seek(A,o),this.reversed(!1).paused(!1)},T.reverse=function(A,o){return A!=null&&this.seek(A||this.totalDuration(),o),this.reversed(!0).paused(!1)},T.pause=function(A,o){return A!=null&&this.seek(A,o),this.paused(!0)},T.resume=function(){return this.paused(!1)},T.reversed=function(A){return arguments.length?(!!A!==this.reversed()&&this.timeScale(-this._rts||(A?-Dt:0)),this):this._rts<0},T.invalidate=function(){return this._initted=this._act=0,this._zTime=-Dt,this},T.isActive=function(){var A=this.parent||this._dp,o=this._start,g;return!!(!A||this._ts&&this._initted&&A.isActive()&&(g=A.rawTime(!0))>=o&&g<this.endTime(!0)-Dt)},T.eventCallback=function(A,o,g){var t=this.vars;return arguments.length>1?(o?(t[A]=o,g&&(t[A+"Params"]=g),A==="onUpdate"&&(this._onUpdate=o)):delete t[A],this):t[A]},T.then=function(A){var o=this;return new Promise(function(g){var t=Gt(A)?A:Vf,a=function(){var h=o.then;o.then=null,Gt(t)&&(t=t(o))&&(t.then||t===o)&&(o.then=h),g(t),o.then=h};o._initted&&o.totalProgress()===1&&o._ts>=0||!o._tTime&&o._ts<0?a():o._prom=a})},T.kill=function(){Ns(this)},P}();Te(Ws.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Dt,_prom:0,_ps:!1,_rts:1});var kt=function(P){Ff(T,P);function T(A,o){var g;return A===void 0&&(A={}),g=P.call(this,A)||this,g.labels={},g.smoothChildTiming=!!A.smoothChildTiming,g.autoRemoveChildren=!!A.autoRemoveChildren,g._sort=ce(A.sortChildren),Bt&&Ue(A.parent||Bt,qe(g),o),A.reversed&&g.reverse(),A.paused&&g.paused(!0),A.scrollTrigger&&Wf(qe(g),A.scrollTrigger),g}var S=T.prototype;return S.to=function(o,g,t){return Us(0,arguments,this),this},S.from=function(o,g,t){return Us(1,arguments,this),this},S.fromTo=function(o,g,t,a){return Us(2,arguments,this),this},S.set=function(o,g,t){return g.duration=0,g.parent=this,Gs(g).repeatDelay||(g.repeat=0),g.immediateRender=!!g.immediateRender,new Yt(o,g,Ee(this,t),1),this},S.call=function(o,g,t){return Ue(this,Yt.delayedCall(0,o,g),t)},S.staggerTo=function(o,g,t,a,v,h,s){return t.duration=g,t.stagger=t.stagger||a,t.onComplete=h,t.onCompleteParams=s,t.parent=this,new Yt(o,t,Ee(this,v)),this},S.staggerFrom=function(o,g,t,a,v,h,s){return t.runBackwards=1,Gs(t).immediateRender=ce(t.immediateRender),this.staggerTo(o,g,t,a,v,h,s)},S.staggerFromTo=function(o,g,t,a,v,h,s,r){return a.startAt=t,Gs(a).immediateRender=ce(a.immediateRender),this.staggerTo(o,g,a,v,h,s,r)},S.render=function(o,g,t){var a=this._time,v=this._dirty?this.totalDuration():this._tDur,h=this._dur,s=o<=0?0:$t(o),r=this._zTime<0!=o<0&&(this._initted||!h),e,n,l,i,u,f,c,d,p,m,y,x;if(this!==Bt&&s>v&&o>=0&&(s=v),s!==this._tTime||t||r){if(a!==this._time&&h&&(s+=this._time-a,o+=this._time-a),e=s,p=this._start,d=this._ts,f=!d,r&&(h||(a=this._zTime),(o||!g)&&(this._zTime=o)),this._repeat){if(y=this._yoyo,u=h+this._rDelay,this._repeat<-1&&o<0)return this.totalTime(u*100+o,g,t);if(e=$t(s%u),s===v?(i=this._repeat,e=h):(m=$t(s/u),i=~~m,i&&i===m&&(e=h,i--),e>h&&(e=h)),m=Vn(this._tTime,u),!a&&this._tTime&&m!==i&&this._tTime-m*u-this._dur<=0&&(m=i),y&&i&1&&(e=h-e,x=1),i!==m&&!this._lock){var C=y&&m&1,E=C===(y&&i&1);if(i<m&&(C=!C),a=C?0:s%h?h:s,this._lock=1,this.render(a||(x?0:$t(i*u)),g,!h)._lock=0,this._tTime=s,!g&&this.parent&&xe(this,"onRepeat"),this.vars.repeatRefresh&&!x&&(this.invalidate()._lock=1),a&&a!==this._time||f!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(h=this._dur,v=this._tDur,E&&(this._lock=2,a=C?h:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!x&&this.invalidate()),this._lock=0,!this._ts&&!f)return this;nd(this,x)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(c=Kp(this,$t(a),$t(e)),c&&(s-=e-(e=c._start))),this._tTime=s,this._time=e,this._act=!d,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=o,a=0),!a&&s&&!g&&!m&&(xe(this,"onStart"),this._tTime!==s))return this;if(e>=a&&o>=0)for(n=this._first;n;){if(l=n._next,(n._act||e>=n._start)&&n._ts&&c!==n){if(n.parent!==this)return this.render(o,g,t);if(n.render(n._ts>0?(e-n._start)*n._ts:(n._dirty?n.totalDuration():n._tDur)+(e-n._start)*n._ts,g,t),e!==this._time||!this._ts&&!f){c=0,l&&(s+=this._zTime=-Dt);break}}n=l}else{n=this._last;for(var R=o<0?o:e;n;){if(l=n._prev,(n._act||R<=n._end)&&n._ts&&c!==n){if(n.parent!==this)return this.render(o,g,t);if(n.render(n._ts>0?(R-n._start)*n._ts:(n._dirty?n.totalDuration():n._tDur)+(R-n._start)*n._ts,g,t||qt&&mh(n)),e!==this._time||!this._ts&&!f){c=0,l&&(s+=this._zTime=R?-Dt:Dt);break}}n=l}}if(c&&!g&&(this.pause(),c.render(e>=a?0:-Dt)._zTime=e>=a?1:-1,this._ts))return this._start=p,ha(this),this.render(o,g,t);this._onUpdate&&!g&&xe(this,"onUpdate",!0),(s===v&&this._tTime>=this.totalDuration()||!s&&a)&&(p===this._start||Math.abs(d)!==Math.abs(this._ts))&&(this._lock||((o||!h)&&(s===v&&this._ts>0||!s&&this._ts<0)&&xi(this,1),!g&&!(o<0&&!a)&&(s||a||!v)&&(xe(this,s===v&&o>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(s<v&&this.timeScale()>0)&&this._prom())))}return this},S.add=function(o,g){var t=this;if(ti(g)||(g=Ee(this,g,o)),!(o instanceof Ws)){if(ee(o))return o.forEach(function(a){return t.add(a,g)}),this;if(Kt(o))return this.addLabel(o,g);if(Gt(o))o=Yt.delayedCall(0,o);else return this}return this!==o?Ue(this,o,g):this},S.getChildren=function(o,g,t,a){o===void 0&&(o=!0),g===void 0&&(g=!0),t===void 0&&(t=!0),a===void 0&&(a=-Ae);for(var v=[],h=this._first;h;)h._start>=a&&(h instanceof Yt?g&&v.push(h):(t&&v.push(h),o&&v.push.apply(v,h.getChildren(!0,g,t)))),h=h._next;return v},S.getById=function(o){for(var g=this.getChildren(1,1,1),t=g.length;t--;)if(g[t].vars.id===o)return g[t]},S.remove=function(o){return Kt(o)?this.removeLabel(o):Gt(o)?this.killTweensOf(o):(o.parent===this&&oa(this,o),o===this._recent&&(this._recent=this._last),qi(this))},S.totalTime=function(o,g){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=$t(de.time-(this._ts>0?o/this._ts:(this.totalDuration()-o)/-this._ts))),P.prototype.totalTime.call(this,o,g),this._forcing=0,this):this._tTime},S.addLabel=function(o,g){return this.labels[o]=Ee(this,g),this},S.removeLabel=function(o){return delete this.labels[o],this},S.addPause=function(o,g,t){var a=Yt.delayedCall(0,g||Xs,t);return a.data="isPause",this._hasPause=1,Ue(this,a,Ee(this,o))},S.removePause=function(o){var g=this._first;for(o=Ee(this,o);g;)g._start===o&&g.data==="isPause"&&xi(g),g=g._next},S.killTweensOf=function(o,g,t){for(var a=this.getTweensOf(o,t),v=a.length;v--;)pi!==a[v]&&a[v].kill(o,g);return this},S.getTweensOf=function(o,g){for(var t=[],a=Re(o),v=this._first,h=ti(g),s;v;)v instanceof Yt?Xp(v._targets,a)&&(h?(!pi||v._initted&&v._ts)&&v.globalTime(0)<=g&&v.globalTime(v.totalDuration())>g:!g||v.isActive())&&t.push(v):(s=v.getTweensOf(a,g)).length&&t.push.apply(t,s),v=v._next;return t},S.tweenTo=function(o,g){g=g||{};var t=this,a=Ee(t,o),v=g,h=v.startAt,s=v.onStart,r=v.onStartParams,e=v.immediateRender,n,l=Yt.to(t,Te({ease:g.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:g.duration||Math.abs((a-(h&&"time"in h?h.time:t._time))/t.timeScale())||Dt,onStart:function(){if(t.pause(),!n){var u=g.duration||Math.abs((a-(h&&"time"in h?h.time:t._time))/t.timeScale());l._dur!==u&&Xn(l,u,0,1).render(l._time,!0,!0),n=1}s&&s.apply(l,r||[])}},g));return e?l.render(0):l},S.tweenFromTo=function(o,g,t){return this.tweenTo(g,Te({startAt:{time:Ee(this,o)}},t))},S.recent=function(){return this._recent},S.nextLabel=function(o){return o===void 0&&(o=this._time),Mf(this,Ee(this,o))},S.previousLabel=function(o){return o===void 0&&(o=this._time),Mf(this,Ee(this,o),1)},S.currentLabel=function(o){return arguments.length?this.seek(o,!0):this.previousLabel(this._time+Dt)},S.shiftChildren=function(o,g,t){t===void 0&&(t=0);for(var a=this._first,v=this.labels,h;a;)a._start>=t&&(a._start+=o,a._end+=o),a=a._next;if(g)for(h in v)v[h]>=t&&(v[h]+=o);return qi(this)},S.invalidate=function(o){var g=this._first;for(this._lock=0;g;)g.invalidate(o),g=g._next;return P.prototype.invalidate.call(this,o)},S.clear=function(o){o===void 0&&(o=!0);for(var g=this._first,t;g;)t=g._next,this.remove(g),g=t;return this._dp&&(this._time=this._tTime=this._pTime=0),o&&(this.labels={}),qi(this)},S.totalDuration=function(o){var g=0,t=this,a=t._last,v=Ae,h,s,r;if(arguments.length)return t.timeScale((t._repeat<0?t.duration():t.totalDuration())/(t.reversed()?-o:o));if(t._dirty){for(r=t.parent;a;)h=a._prev,a._dirty&&a.totalDuration(),s=a._start,s>v&&t._sort&&a._ts&&!t._lock?(t._lock=1,Ue(t,a,s-a._delay,1)._lock=0):v=s,s<0&&a._ts&&(g-=s,(!r&&!t._dp||r&&r.smoothChildTiming)&&(t._start+=s/t._ts,t._time-=s,t._tTime-=s),t.shiftChildren(-s,!1,-1/0),v=0),a._end>g&&a._ts&&(g=a._end),a=h;Xn(t,t===Bt&&t._time>g?t._time:g,1,1),t._dirty=0}return t._tDur},T.updateRoot=function(o){if(Bt._ts&&(Uf(Bt,na(o,Bt)),Gf=de.frame),de.frame>=Ef){Ef+=ve.autoSleep||120;var g=Bt._first;if((!g||!g._ts)&&ve.autoSleep&&de._listeners.length<2){for(;g&&!g._ts;)g=g._next;g||de.sleep()}}},T}(Ws);Te(kt.prototype,{_lock:0,_hasPause:0,_forcing:0});var u0=function(T,S,A,o,g,t,a){var v=new oe(this._pt,T,S,0,1,Ah,null,g),h=0,s=0,r,e,n,l,i,u,f,c;for(v.b=A,v.e=o,A+="",o+="",(f=~o.indexOf("random("))&&(o=Wn(o)),t&&(c=[A,o],t(c,T,S),A=c[0],o=c[1]),e=A.match(Ho)||[];r=Ho.exec(o);)l=r[0],i=o.substring(h,r.index),n?n=(n+1)%5:i.substr(-5)==="rgba("&&(n=1),l!==e[s++]&&(u=parseFloat(e[s-1])||0,v._pt={_next:v._pt,p:i||s===1?i:",",s:u,c:l.charAt(1)==="="?nn(u,l)-u:parseFloat(l)-u,m:n&&n<4?Math.round:0},h=Ho.lastIndex);return v.c=h<o.length?o.substring(h,o.length):"",v.fp=a,(fh.test(o)||f)&&(v.e=0),this._pt=v,v},Th=function(T,S,A,o,g,t,a,v,h,s){Gt(o)&&(o=o(g||0,T,t));var r=T[S],e=A!=="get"?A:Gt(r)?h?T[S.indexOf("set")||!Gt(T["get"+S.substr(3)])?S:"get"+S.substr(3)](h):T[S]():r,n=Gt(r)?h?p0:od:Eh,l;if(Kt(o)&&(~o.indexOf("random(")&&(o=Wn(o)),o.charAt(1)==="="&&(l=nn(e,o)+(_t(e)||0),(l||l===0)&&(o=l))),!s||e!==o||ah)return!isNaN(e*o)&&o!==""?(l=new oe(this._pt,T,S,+e||0,o-(e||0),typeof r=="boolean"?m0:hd,0,n),h&&(l.fp=h),a&&l.modifier(a,this,T),this._pt=l):(!r&&!(S in T)&&aa(S,o),u0.call(this,T,S,e,o,n,v||ve.stringFilter,h))},f0=function(T,S,A,o,g){if(Gt(T)&&(T=zs(T,g,S,A,o)),!ze(T)||T.style&&T.nodeType||ee(T)||Of(T))return Kt(T)?zs(T,g,S,A,o):T;var t={},a;for(a in T)t[a]=zs(T[a],g,S,A,o);return t},Sh=function(T,S,A,o,g,t){var a,v,h,s;if(fe[T]&&(a=new fe[T]).init(g,a.rawVars?S[T]:f0(S[T],o,g,t,A),A,o,t)!==!1&&(A._pt=v=new oe(A._pt,g,T,0,1,a.render,a,0,a.priority),A!==Gn))for(h=A._ptLookup[A._targets.indexOf(g)],s=a._props.length;s--;)h[a._props[s]]=v;return a},pi,ah,Ch=function P(T,S,A){var o=T.vars,g=o.ease,t=o.startAt,a=o.immediateRender,v=o.lazy,h=o.onUpdate,s=o.runBackwards,r=o.yoyoEase,e=o.keyframes,n=o.autoRevert,l=T._dur,i=T._startAt,u=T._targets,f=T.parent,c=f&&f.data==="nested"?f.vars.targets:u,d=T._overwrite==="auto"&&!hh,p=T.timeline,m,y,x,C,E,R,M,w,D,F,I,L,B;if(p&&(!e||!g)&&(g="none"),T._ease=_i(g,Un.ease),T._yEase=r?id(_i(r===!0?g:r,Un.ease)):0,r&&T._yoyo&&!T._repeat&&(r=T._yEase,T._yEase=T._ease,T._ease=r),T._from=!p&&!!o.runBackwards,!p||e&&!o.stagger){if(w=u[0]?mi(u[0]).harness:0,L=w&&o[w.prop],m=ia(o,ch),i&&(i._zTime<0&&i.progress(1),S<0&&s&&a&&!n?i.render(-1,!0):i.revert(s&&l?kr:zp),i._lazy=0),t){if(xi(T._startAt=Yt.set(u,Te({data:"isStart",overwrite:!1,parent:f,immediateRender:!0,lazy:!i&&ce(v),startAt:null,delay:0,onUpdate:h&&function(){return xe(T,"onUpdate")},stagger:0},t))),T._startAt._dp=0,T._startAt._sat=T,S<0&&(qt||!a&&!n)&&T._startAt.revert(kr),a&&l&&S<=0&&A<=0){S&&(T._zTime=S);return}}else if(s&&l&&!i){if(S&&(a=!1),x=Te({overwrite:!1,data:"isFromStart",lazy:a&&!i&&ce(v),immediateRender:a,stagger:0,parent:f},m),L&&(x[w.prop]=L),xi(T._startAt=Yt.set(u,x)),T._startAt._dp=0,T._startAt._sat=T,S<0&&(qt?T._startAt.revert(kr):T._startAt.render(-1,!0)),T._zTime=S,!a)P(T._startAt,Dt,Dt);else if(!S)return}for(T._pt=T._ptCache=0,v=l&&ce(v)||v&&!l,y=0;y<u.length;y++){if(E=u[y],M=E._gsap||ph(u)[y]._gsap,T._ptLookup[y]=F={},th[M.id]&&gi.length&&ea(),I=c===u?y:c.indexOf(E),w&&(D=new w).init(E,L||m,T,I,c)!==!1&&(T._pt=C=new oe(T._pt,E,D.name,0,1,D.render,D,0,D.priority),D._props.forEach(function(G){F[G]=C}),D.priority&&(R=1)),!w||L)for(x in m)fe[x]&&(D=Sh(x,m,T,I,E,c))?D.priority&&(R=1):F[x]=C=Th.call(T,E,x,"get",m[x],I,c,0,o.stringFilter);T._op&&T._op[y]&&T.kill(E,T._op[y]),d&&T._pt&&(pi=T,Bt.killTweensOf(E,F,T.globalTime(S)),B=!T.parent,pi=0),T._pt&&v&&(th[M.id]=1)}R&&Ph(T),T._onInit&&T._onInit(T)}T._onUpdate=h,T._initted=(!T._op||T._pt)&&!B,e&&S<=0&&p.render(Ae,!0,!0)},d0=function(T,S,A,o,g,t,a,v){var h=(T._pt&&T._ptCache||(T._ptCache={}))[S],s,r,e,n;if(!h)for(h=T._ptCache[S]=[],e=T._ptLookup,n=T._targets.length;n--;){if(s=e[n][S],s&&s.d&&s.d._pt)for(s=s.d._pt;s&&s.p!==S&&s.fp!==S;)s=s._next;if(!s)return ah=1,T.vars[S]="+=0",Ch(T,a),ah=0,v?Vs(S+" not eligible for reset"):1;h.push(s)}for(n=h.length;n--;)r=h[n],s=r._pt||r,s.s=(o||o===0)&&!g?o:s.s+(o||0)+t*s.c,s.c=A-s.s,r.e&&(r.e=Ut(A)+_t(r.e)),r.b&&(r.b=s.s+_t(r.b))},c0=function(T,S){var A=T[0]?mi(T[0]).harness:0,o=A&&A.aliases,g,t,a,v;if(!o)return S;g=zn({},S);for(t in o)if(t in g)for(v=o[t].split(","),a=v.length;a--;)g[v[a]]=g[t];return g},v0=function(T,S,A,o){var g=S.ease||o||"power1.inOut",t,a;if(ee(S))a=A[T]||(A[T]=[]),S.forEach(function(v,h){return a.push({t:h/(S.length-1)*100,v,e:g})});else for(t in S)a=A[t]||(A[t]=[]),t==="ease"||a.push({t:parseFloat(T),v:S[t],e:g})},zs=function(T,S,A,o,g){return Gt(T)?T.call(S,A,o,g):Kt(T)&&~T.indexOf("random(")?Wn(T):T},rd=vh+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",ad={};ae(rd+",id,stagger,delay,duration,paused,scrollTrigger",function(P){return ad[P]=1});var Yt=function(P){Ff(T,P);function T(A,o,g,t){var a;typeof o=="number"&&(g.duration=o,o=g,g=null),a=P.call(this,t?o:Gs(o))||this;var v=a.vars,h=v.duration,s=v.delay,r=v.immediateRender,e=v.stagger,n=v.overwrite,l=v.keyframes,i=v.defaults,u=v.scrollTrigger,f=v.yoyoEase,c=o.parent||Bt,d=(ee(A)||Of(A)?ti(A[0]):"length"in o)?[A]:Re(A),p,m,y,x,C,E,R,M;if(a._targets=d.length?ph(d):Vs("GSAP target "+A+" not found. https://gsap.com",!ve.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=n,l||e||Qr(h)||Qr(s)){if(o=a.vars,p=a.timeline=new kt({data:"nested",defaults:i||{},targets:c&&c.data==="nested"?c.vars.targets:d}),p.kill(),p.parent=p._dp=qe(a),p._start=0,e||Qr(h)||Qr(s)){if(x=d.length,R=e&&Zf(e),ze(e))for(C in e)~rd.indexOf(C)&&(M||(M={}),M[C]=e[C]);for(m=0;m<x;m++)y=ia(o,ad),y.stagger=0,f&&(y.yoyoEase=f),M&&zn(y,M),E=d[m],y.duration=+zs(h,qe(a),m,E,d),y.delay=(+zs(s,qe(a),m,E,d)||0)-a._delay,!e&&x===1&&y.delay&&(a._delay=s=y.delay,a._start+=s,y.delay=0),p.to(E,y,R?R(m,E,d):0),p._ease=yt.none;p.duration()?h=s=0:a.timeline=0}else if(l){Gs(Te(p.vars.defaults,{ease:"none"})),p._ease=_i(l.ease||o.ease||"none");var w=0,D,F,I;if(ee(l))l.forEach(function(L){return p.to(d,L,">")}),p.duration();else{y={};for(C in l)C==="ease"||C==="easeEach"||v0(C,l[C],y,l.easeEach);for(C in y)for(D=y[C].sort(function(L,B){return L.t-B.t}),w=0,m=0;m<D.length;m++)F=D[m],I={ease:F.e,duration:(F.t-(m?D[m-1].t:0))/100*h},I[C]=F.v,p.to(d,I,w),w+=I.duration;p.duration()<h&&p.to({},{duration:h-p.duration()})}}h||a.duration(h=p.duration())}else a.timeline=0;return n===!0&&!hh&&(pi=qe(a),Bt.killTweensOf(d),pi=0),Ue(c,qe(a),g),o.reversed&&a.reverse(),o.paused&&a.paused(!0),(r||!h&&!l&&a._start===$t(c._time)&&ce(r)&&$p(qe(a))&&c.data!=="nested")&&(a._tTime=-Dt,a.render(Math.max(0,-s)||0)),u&&Wf(qe(a),u),a}var S=T.prototype;return S.render=function(o,g,t){var a=this._time,v=this._tDur,h=this._dur,s=o<0,r=o>v-Dt&&!s?v:o<Dt?0:o,e,n,l,i,u,f,c,d,p;if(!h)Zp(this,o,g,t);else if(r!==this._tTime||!o||t||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==s||this._lazy){if(e=r,d=this.timeline,this._repeat){if(i=h+this._rDelay,this._repeat<-1&&s)return this.totalTime(i*100+o,g,t);if(e=$t(r%i),r===v?(l=this._repeat,e=h):(u=$t(r/i),l=~~u,l&&l===u?(e=h,l--):e>h&&(e=h)),f=this._yoyo&&l&1,f&&(p=this._yEase,e=h-e),u=Vn(this._tTime,i),e===a&&!t&&this._initted&&l===u)return this._tTime=r,this;l!==u&&(d&&this._yEase&&nd(d,f),this.vars.repeatRefresh&&!f&&!this._lock&&e!==i&&this._initted&&(this._lock=t=1,this.render($t(i*l),!0).invalidate()._lock=0))}if(!this._initted){if(Hf(this,s?o:e,t,g,r))return this._tTime=0,this;if(a!==this._time&&!(t&&this.vars.repeatRefresh&&l!==u))return this;if(h!==this._dur)return this.render(o,g,t)}if(this._tTime=r,this._time=e,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=c=(p||this._ease)(e/h),this._from&&(this.ratio=c=1-c),!a&&r&&!g&&!u&&(xe(this,"onStart"),this._tTime!==r))return this;for(n=this._pt;n;)n.r(c,n.d),n=n._next;d&&d.render(o<0?o:d._dur*d._ease(e/this._dur),g,t)||this._startAt&&(this._zTime=o),this._onUpdate&&!g&&(s&&eh(this,o,g,t),xe(this,"onUpdate")),this._repeat&&l!==u&&this.vars.onRepeat&&!g&&this.parent&&xe(this,"onRepeat"),(r===this._tDur||!r)&&this._tTime===r&&(s&&!this._onUpdate&&eh(this,o,!0,!0),(o||!h)&&(r===this._tDur&&this._ts>0||!r&&this._ts<0)&&xi(this,1),!g&&!(s&&!a)&&(r||a||f)&&(xe(this,r===v?"onComplete":"onReverseComplete",!0),this._prom&&!(r<v&&this.timeScale()>0)&&this._prom()))}return this},S.targets=function(){return this._targets},S.invalidate=function(o){return(!o||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(o),P.prototype.invalidate.call(this,o)},S.resetTo=function(o,g,t,a,v){Ys||de.wake(),this._ts||this.play();var h=Math.min(this._dur,(this._dp._time-this._start)*this._ts),s;return this._initted||Ch(this,h),s=this._ease(h/this._dur),d0(this,o,g,t,a,s,h,v)?this.resetTo(o,g,t,a,1):(la(this,0),this.parent||Xf(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},S.kill=function(o,g){if(g===void 0&&(g="all"),!o&&(!g||g==="all"))return this._lazy=this._pt=0,this.parent?Ns(this):this.scrollTrigger&&this.scrollTrigger.kill(!!qt),this;if(this.timeline){var t=this.timeline.totalDuration();return this.timeline.killTweensOf(o,g,pi&&pi.vars.overwrite!==!0)._first||Ns(this),this.parent&&t!==this.timeline.totalDuration()&&Xn(this,this._dur*this.timeline._tDur/t,0,1),this}var a=this._targets,v=o?Re(o):a,h=this._ptLookup,s=this._pt,r,e,n,l,i,u,f;if((!g||g==="all")&&Wp(a,v))return g==="all"&&(this._pt=0),Ns(this);for(r=this._op=this._op||[],g!=="all"&&(Kt(g)&&(i={},ae(g,function(c){return i[c]=1}),g=i),g=c0(a,g)),f=a.length;f--;)if(~v.indexOf(a[f])){e=h[f],g==="all"?(r[f]=g,l=e,n={}):(n=r[f]=r[f]||{},l=g);for(i in l)u=e&&e[i],u&&((!("kill"in u.d)||u.d.kill(i)===!0)&&oa(this,u,"_pt"),delete e[i]),n!=="all"&&(n[i]=1)}return this._initted&&!this._pt&&s&&Ns(this),this},T.to=function(o,g){return new T(o,g,arguments[2])},T.from=function(o,g){return Us(1,arguments)},T.delayedCall=function(o,g,t,a){return new T(g,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:o,onComplete:g,onReverseComplete:g,onCompleteParams:t,onReverseCompleteParams:t,callbackScope:a})},T.fromTo=function(o,g,t){return Us(2,arguments)},T.set=function(o,g){return g.duration=0,g.repeatDelay||(g.repeat=0),new T(o,g)},T.killTweensOf=function(o,g,t){return Bt.killTweensOf(o,g,t)},T}(Ws);Te(Yt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});ae("staggerTo,staggerFrom,staggerFromTo",function(P){Yt[P]=function(){var T=new kt,S=nh.call(arguments,0);return S.splice(P==="staggerFromTo"?5:4,0,0),T[P].apply(T,S)}});var Eh=function(T,S,A){return T[S]=A},od=function(T,S,A){return T[S](A)},p0=function(T,S,A,o){return T[S](o.fp,A)},g0=function(T,S,A){return T.setAttribute(S,A)},ua=function(T,S){return Gt(T[S])?od:ra(T[S])&&T.setAttribute?g0:Eh},hd=function(T,S){return S.set(S.t,S.p,Math.round((S.s+S.c*T)*1e6)/1e6,S)},m0=function(T,S){return S.set(S.t,S.p,!!(S.s+S.c*T),S)},Ah=function(T,S){var A=S._pt,o="";if(!T&&S.b)o=S.b;else if(T===1&&S.e)o=S.e;else{for(;A;)o=A.p+(A.m?A.m(A.s+A.c*T):Math.round((A.s+A.c*T)*1e4)/1e4)+o,A=A._next;o+=S.c}S.set(S.t,S.p,o,S)},Rh=function(T,S){for(var A=S._pt;A;)A.r(T,A.d),A=A._next},x0=function(T,S,A,o){for(var g=this._pt,t;g;)t=g._next,g.p===o&&g.modifier(T,S,A),g=t},y0=function(T){for(var S=this._pt,A,o;S;)o=S._next,S.p===T&&!S.op||S.op===T?oa(this,S,"_pt"):S.dep||(A=1),S=o;return!A},T0=function(T,S,A,o){o.mSet(T,S,o.m.call(o.tween,A,o.mt),o)},Ph=function(T){for(var S=T._pt,A,o,g,t;S;){for(A=S._next,o=g;o&&o.pr>S.pr;)o=o._next;(S._prev=o?o._prev:t)?S._prev._next=S:g=S,(S._next=o)?o._prev=S:t=S,S=A}T._pt=g},oe=function(){function P(S,A,o,g,t,a,v,h,s){this.t=A,this.s=g,this.c=t,this.p=o,this.r=a||hd,this.d=v||this,this.set=h||Eh,this.pr=s||0,this._next=S,S&&(S._prev=this)}var T=P.prototype;return T.modifier=function(A,o,g){this.mSet=this.mSet||this.set,this.set=T0,this.m=A,this.mt=g,this.tween=o},P}();ae(vh+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(P){return ch[P]=1});ye.TweenMax=ye.TweenLite=Yt;ye.TimelineLite=ye.TimelineMax=kt;Bt=new kt({sortChildren:!1,defaults:Un,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});ve.stringFilter=xh;var tn=[],_r={},S0=[],wf=0,C0=0,Jo=function(T){return(_r[T]||S0).map(function(S){return S()})},oh=function(){var T=Date.now(),S=[];T-wf>2&&(Jo("matchMediaInit"),tn.forEach(function(A){var o=A.queries,g=A.conditions,t,a,v,h;for(a in o)t=Ge.matchMedia(o[a]).matches,t&&(v=1),t!==g[a]&&(g[a]=t,h=1);h&&(A.revert(),v&&S.push(A))}),Jo("matchMediaRevert"),S.forEach(function(A){return A.onMatch(A,function(o){return A.add(null,o)})}),wf=T,Jo("matchMedia"))},ld=function(){function P(S,A){this.selector=A&&sh(A),this.data=[],this._r=[],this.isReverted=!1,this.id=C0++,S&&this.add(S)}var T=P.prototype;return T.add=function(A,o,g){Gt(A)&&(g=o,o=A,A=Gt);var t=this,a=function(){var h=It,s=t.selector,r;return h&&h!==t&&h.data.push(t),g&&(t.selector=sh(g)),It=t,r=o.apply(t,arguments),Gt(r)&&t._r.push(r),It=h,t.selector=s,t.isReverted=!1,r};return t.last=a,A===Gt?a(t,function(v){return t.add(null,v)}):A?t[A]=a:a},T.ignore=function(A){var o=It;It=null,A(this),It=o},T.getTweens=function(){var A=[];return this.data.forEach(function(o){return o instanceof P?A.push.apply(A,o.getTweens()):o instanceof Yt&&!(o.parent&&o.parent.data==="nested")&&A.push(o)}),A},T.clear=function(){this._r.length=this.data.length=0},T.kill=function(A,o){var g=this;if(A?function(){for(var a=g.getTweens(),v=g.data.length,h;v--;)h=g.data[v],h.data==="isFlip"&&(h.revert(),h.getChildren(!0,!0,!1).forEach(function(s){return a.splice(a.indexOf(s),1)}));for(a.map(function(s){return{g:s._dur||s._delay||s._sat&&!s._sat.vars.immediateRender?s.globalTime(0):-1/0,t:s}}).sort(function(s,r){return r.g-s.g||-1/0}).forEach(function(s){return s.t.revert(A)}),v=g.data.length;v--;)h=g.data[v],h instanceof kt?h.data!=="nested"&&(h.scrollTrigger&&h.scrollTrigger.revert(),h.kill()):!(h instanceof Yt)&&h.revert&&h.revert(A);g._r.forEach(function(s){return s(A,g)}),g.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),o)for(var t=tn.length;t--;)tn[t].id===this.id&&tn.splice(t,1)},T.revert=function(A){this.kill(A||{})},P}(),E0=function(){function P(S){this.contexts=[],this.scope=S,It&&It.data.push(this)}var T=P.prototype;return T.add=function(A,o,g){ze(A)||(A={matches:A});var t=new ld(0,g||this.scope),a=t.conditions={},v,h,s;It&&!t.selector&&(t.selector=It.selector),this.contexts.push(t),o=t.add("onMatch",o),t.queries=A;for(h in A)h==="all"?s=1:(v=Ge.matchMedia(A[h]),v&&(tn.indexOf(t)<0&&tn.push(t),(a[h]=v.matches)&&(s=1),v.addListener?v.addListener(oh):v.addEventListener("change",oh)));return s&&o(t,function(r){return t.add(null,r)}),this},T.revert=function(A){this.kill(A||{})},T.kill=function(A){this.contexts.forEach(function(o){return o.kill(A,!0)})},P}(),sa={registerPlugin:function(){for(var T=arguments.length,S=new Array(T),A=0;A<T;A++)S[A]=arguments[A];S.forEach(function(o){return _f(o)})},timeline:function(T){return new kt(T)},getTweensOf:function(T,S){return Bt.getTweensOf(T,S)},getProperty:function(T,S,A,o){Kt(T)&&(T=Re(T)[0]);var g=mi(T||{}).get,t=A?Vf:zf;return A==="native"&&(A=""),T&&(S?t((fe[S]&&fe[S].get||g)(T,S,A,o)):function(a,v,h){return t((fe[a]&&fe[a].get||g)(T,a,v,h))})},quickSetter:function(T,S,A){if(T=Re(T),T.length>1){var o=T.map(function(s){return ie.quickSetter(s,S,A)}),g=o.length;return function(s){for(var r=g;r--;)o[r](s)}}T=T[0]||{};var t=fe[S],a=mi(T),v=a.harness&&(a.harness.aliases||{})[S]||S,h=t?function(s){var r=new t;Gn._pt=0,r.init(T,A?s+A:s,Gn,0,[T]),r.render(1,r),Gn._pt&&Rh(1,Gn)}:a.set(T,v);return t?h:function(s){return h(T,v,A?s+A:s,a,1)}},quickTo:function(T,S,A){var o,g=ie.to(T,Te((o={},o[S]="+=0.1",o.paused=!0,o.stagger=0,o),A||{})),t=function(v,h,s){return g.resetTo(S,v,h,s)};return t.tween=g,t},isTweening:function(T){return Bt.getTweensOf(T,!0).length>0},defaults:function(T){return T&&T.ease&&(T.ease=_i(T.ease,Un.ease)),Af(Un,T||{})},config:function(T){return Af(ve,T||{})},registerEffect:function(T){var S=T.name,A=T.effect,o=T.plugins,g=T.defaults,t=T.extendTimeline;(o||"").split(",").forEach(function(a){return a&&!fe[a]&&!ye[a]&&Vs(S+" effect requires "+a+" plugin.")}),$o[S]=function(a,v,h){return A(Re(a),Te(v||{},g),h)},t&&(kt.prototype[S]=function(a,v,h){return this.add($o[S](a,ze(v)?v:(h=v)&&{},this),h)})},registerEase:function(T,S){yt[T]=_i(S)},parseEase:function(T,S){return arguments.length?_i(T,S):yt},getById:function(T){return Bt.getById(T)},exportRoot:function(T,S){T===void 0&&(T={});var A=new kt(T),o,g;for(A.smoothChildTiming=ce(T.smoothChildTiming),Bt.remove(A),A._dp=0,A._time=A._tTime=Bt._time,o=Bt._first;o;)g=o._next,(S||!(!o._dur&&o instanceof Yt&&o.vars.onComplete===o._targets[0]))&&Ue(A,o,o._start-o._delay),o=g;return Ue(Bt,A,0),A},context:function(T,S){return T?new ld(T,S):It},matchMedia:function(T){return new E0(T)},matchMediaRefresh:function(){return tn.forEach(function(T){var S=T.conditions,A,o;for(o in S)S[o]&&(S[o]=!1,A=1);A&&T.revert()})||oh()},addEventListener:function(T,S){var A=_r[T]||(_r[T]=[]);~A.indexOf(S)||A.push(S)},removeEventListener:function(T,S){var A=_r[T],o=A&&A.indexOf(S);o>=0&&A.splice(o,1)},utils:{wrap:e0,wrapYoyo:i0,distribute:Zf,random:Jf,snap:Kf,normalize:t0,getUnit:_t,clamp:Qp,splitColor:td,toArray:Re,selector:sh,mapRange:kf,pipe:qp,unitize:_p,interpolate:n0,shuffle:jf},install:Nf,effects:$o,ticker:de,updateRoot:kt.updateRoot,plugins:fe,globalTimeline:Bt,core:{PropTween:oe,globals:bf,Tween:Yt,Timeline:kt,Animation:Ws,getCache:mi,_removeLinkedListItem:oa,reverting:function(){return qt},context:function(T){return T&&It&&(It.data.push(T),T._ctx=It),It},suppressOverwrites:function(T){return hh=T}}};ae("to,from,fromTo,delayedCall,set,killTweensOf",function(P){return sa[P]=Yt[P]});de.add(kt.updateRoot);Gn=sa.to({},{duration:0});var A0=function(T,S){for(var A=T._pt;A&&A.p!==S&&A.op!==S&&A.fp!==S;)A=A._next;return A},R0=function(T,S){var A=T._targets,o,g,t;for(o in S)for(g=A.length;g--;)t=T._ptLookup[g][o],t&&(t=t.d)&&(t._pt&&(t=A0(t,o)),t&&t.modifier&&t.modifier(S[o],T,A[g],o))},Qo=function(T,S){return{name:T,headless:1,rawVars:1,init:function(o,g,t){t._onInit=function(a){var v,h;if(Kt(g)&&(v={},ae(g,function(s){return v[s]=1}),g=v),S){v={};for(h in g)v[h]=S(g[h]);g=v}R0(a,g)}}}},ie=sa.registerPlugin({name:"attr",init:function(T,S,A,o,g){var t,a,v;this.tween=A;for(t in S)v=T.getAttribute(t)||"",a=this.add(T,"setAttribute",(v||0)+"",S[t],o,g,0,0,t),a.op=t,a.b=v,this._props.push(t)},render:function(T,S){for(var A=S._pt;A;)qt?A.set(A.t,A.p,A.b,A):A.r(T,A.d),A=A._next}},{name:"endArray",headless:1,init:function(T,S){for(var A=S.length;A--;)this.add(T,A,T[A]||0,S[A],0,0,0,0,0,1)}},Qo("roundProps",rh),Qo("modifiers"),Qo("snap",Kf))||sa;Yt.version=kt.version=ie.version="3.13.0";Bf=1;lh()&&Yn();var P0=yt.Power0,M0=yt.Power1,D0=yt.Power2,w0=yt.Power3,F0=yt.Power4,L0=yt.Linear,O0=yt.Quad,I0=yt.Cubic,B0=yt.Quart,N0=yt.Quint,b0=yt.Strong,G0=yt.Elastic,U0=yt.Back,z0=yt.SteppedEase,V0=yt.Bounce,X0=yt.Sine,Y0=yt.Expo,W0=yt.Circ;var ud,Ti,$n,Oh,hn,H0,fd,Ih,$0=function(){return typeof window<"u"},ii={},on=180/Math.PI,jn=Math.PI/180,Hn=Math.atan2,dd=1e8,Bh=/([A-Z])/g,j0=/(left|right|width|margin|padding|x)/i,Z0=/[\s,\(]\S/,Ve={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Dh=function(T,S){return S.set(S.t,S.p,Math.round((S.s+S.c*T)*1e4)/1e4+S.u,S)},K0=function(T,S){return S.set(S.t,S.p,T===1?S.e:Math.round((S.s+S.c*T)*1e4)/1e4+S.u,S)},J0=function(T,S){return S.set(S.t,S.p,T?Math.round((S.s+S.c*T)*1e4)/1e4+S.u:S.b,S)},Q0=function(T,S){var A=S.s+S.c*T;S.set(S.t,S.p,~~(A+(A<0?-.5:.5))+S.u,S)},Td=function(T,S){return S.set(S.t,S.p,T?S.e:S.b,S)},Sd=function(T,S){return S.set(S.t,S.p,T!==1?S.b:S.e,S)},k0=function(T,S,A){return T.style[S]=A},q0=function(T,S,A){return T.style.setProperty(S,A)},_0=function(T,S,A){return T._gsap[S]=A},tg=function(T,S,A){return T._gsap.scaleX=T._gsap.scaleY=A},eg=function(T,S,A,o,g){var t=T._gsap;t.scaleX=t.scaleY=A,t.renderTransform(g,t)},ig=function(T,S,A,o,g){var t=T._gsap;t[S]=A,t.renderTransform(g,t)},Nt="transform",pe=Nt+"Origin",ng=function P(T,S){var A=this,o=this.target,g=o.style,t=o._gsap;if(T in ii&&g){if(this.tfm=this.tfm||{},T!=="transform")T=Ve[T]||T,~T.indexOf(",")?T.split(",").forEach(function(a){return A.tfm[a]=ei(o,a)}):this.tfm[T]=t.x?t[T]:ei(o,T),T===pe&&(this.tfm.zOrigin=t.zOrigin);else return Ve.transform.split(",").forEach(function(a){return P.call(A,a,S)});if(this.props.indexOf(Nt)>=0)return;t.svg&&(this.svgo=o.getAttribute("data-svg-origin"),this.props.push(pe,S,"")),T=Nt}(g||S)&&this.props.push(T,S,g[T])},Cd=function(T){T.translate&&(T.removeProperty("translate"),T.removeProperty("scale"),T.removeProperty("rotate"))},sg=function(){var T=this.props,S=this.target,A=S.style,o=S._gsap,g,t;for(g=0;g<T.length;g+=3)T[g+1]?T[g+1]===2?S[T[g]](T[g+2]):S[T[g]]=T[g+2]:T[g+2]?A[T[g]]=T[g+2]:A.removeProperty(T[g].substr(0,2)==="--"?T[g]:T[g].replace(Bh,"-$1").toLowerCase());if(this.tfm){for(t in this.tfm)o[t]=this.tfm[t];o.svg&&(o.renderTransform(),S.setAttribute("data-svg-origin",this.svgo||"")),g=Ih(),(!g||!g.isStart)&&!A[Nt]&&(Cd(A),o.zOrigin&&A[pe]&&(A[pe]+=" "+o.zOrigin+"px",o.zOrigin=0,o.renderTransform()),o.uncache=1)}},Ed=function(T,S){var A={target:T,props:[],revert:sg,save:ng};return T._gsap||ie.core.getCache(T),S&&T.style&&T.nodeType&&S.split(",").forEach(function(o){return A.save(o)}),A},Ad,wh=function(T,S){var A=Ti.createElementNS?Ti.createElementNS((S||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),T):Ti.createElement(T);return A&&A.style?A:Ti.createElement(T)},Pe=function P(T,S,A){var o=getComputedStyle(T);return o[S]||o.getPropertyValue(S.replace(Bh,"-$1").toLowerCase())||o.getPropertyValue(S)||!A&&P(T,Zn(S)||S,1)||""},cd="O,Moz,ms,Ms,Webkit".split(","),Zn=function(T,S,A){var o=S||hn,g=o.style,t=5;if(T in g&&!A)return T;for(T=T.charAt(0).toUpperCase()+T.substr(1);t--&&!(cd[t]+T in g););return t<0?null:(t===3?"ms":t>=0?cd[t]:"")+T},Fh=function(){$0()&&window.document&&(ud=window,Ti=ud.document,$n=Ti.documentElement,hn=wh("div")||{style:{}},H0=wh("div"),Nt=Zn(Nt),pe=Nt+"Origin",hn.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Ad=!!Zn("perspective"),Ih=ie.core.reverting,Oh=1)},vd=function(T){var S=T.ownerSVGElement,A=wh("svg",S&&S.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),o=T.cloneNode(!0),g;o.style.display="block",A.appendChild(o),$n.appendChild(A);try{g=o.getBBox()}catch{}return A.removeChild(o),$n.removeChild(A),g},pd=function(T,S){for(var A=S.length;A--;)if(T.hasAttribute(S[A]))return T.getAttribute(S[A])},Rd=function(T){var S,A;try{S=T.getBBox()}catch{S=vd(T),A=1}return S&&(S.width||S.height)||A||(S=vd(T)),S&&!S.width&&!S.x&&!S.y?{x:+pd(T,["x","cx","x1"])||0,y:+pd(T,["y","cy","y1"])||0,width:0,height:0}:S},Pd=function(T){return!!(T.getCTM&&(!T.parentNode||T.ownerSVGElement)&&Rd(T))},ln=function(T,S){if(S){var A=T.style,o;S in ii&&S!==pe&&(S=Nt),A.removeProperty?(o=S.substr(0,2),(o==="ms"||S.substr(0,6)==="webkit")&&(S="-"+S),A.removeProperty(o==="--"?S:S.replace(Bh,"-$1").toLowerCase())):A.removeAttribute(S)}},Si=function(T,S,A,o,g,t){var a=new oe(T._pt,S,A,0,1,t?Sd:Td);return T._pt=a,a.b=o,a.e=g,T._props.push(A),a},gd={deg:1,rad:1,turn:1},rg={grid:1,flex:1},Ci=function P(T,S,A,o){var g=parseFloat(A)||0,t=(A+"").trim().substr((g+"").length)||"px",a=hn.style,v=j0.test(S),h=T.tagName.toLowerCase()==="svg",s=(h?"client":"offset")+(v?"Width":"Height"),r=100,e=o==="px",n=o==="%",l,i,u,f;if(o===t||!g||gd[o]||gd[t])return g;if(t!=="px"&&!e&&(g=P(T,S,A,"px")),f=T.getCTM&&Pd(T),(n||t==="%")&&(ii[S]||~S.indexOf("adius")))return l=f?T.getBBox()[v?"width":"height"]:T[s],Ut(n?g/l*r:g/100*l);if(a[v?"width":"height"]=r+(e?t:o),i=o!=="rem"&&~S.indexOf("adius")||o==="em"&&T.appendChild&&!h?T:T.parentNode,f&&(i=(T.ownerSVGElement||{}).parentNode),(!i||i===Ti||!i.appendChild)&&(i=Ti.body),u=i._gsap,u&&n&&u.width&&v&&u.time===de.time&&!u.uncache)return Ut(g/u.width*r);if(n&&(S==="height"||S==="width")){var c=T.style[S];T.style[S]=r+o,l=T[s],c?T.style[S]=c:ln(T,S)}else(n||t==="%")&&!rg[Pe(i,"display")]&&(a.position=Pe(T,"position")),i===T&&(a.position="static"),i.appendChild(hn),l=hn[s],i.removeChild(hn),a.position="absolute";return v&&n&&(u=mi(i),u.time=de.time,u.width=i[s]),Ut(e?l*g/r:l&&g?r/l*g:0)},ei=function(T,S,A,o){var g;return Oh||Fh(),S in Ve&&S!=="transform"&&(S=Ve[S],~S.indexOf(",")&&(S=S.split(",")[0])),ii[S]&&S!=="transform"?(g=Zs(T,o),g=S!=="transformOrigin"?g[S]:g.svg?g.origin:da(Pe(T,pe))+" "+g.zOrigin+"px"):(g=T.style[S],(!g||g==="auto"||o||~(g+"").indexOf("calc("))&&(g=fa[S]&&fa[S](T,S,A)||Pe(T,S)||gh(T,S)||(S==="opacity"?1:0))),A&&!~(g+"").trim().indexOf(" ")?Ci(T,S,g,A)+A:g},ag=function(T,S,A,o){if(!A||A==="none"){var g=Zn(S,T,1),t=g&&Pe(T,g,1);t&&t!==A?(S=g,A=t):S==="borderColor"&&(A=Pe(T,"borderTopColor"))}var a=new oe(this._pt,T.style,S,0,1,Ah),v=0,h=0,s,r,e,n,l,i,u,f,c,d,p,m;if(a.b=A,a.e=o,A+="",o+="",o.substring(0,6)==="var(--"&&(o=Pe(T,o.substring(4,o.indexOf(")")))),o==="auto"&&(i=T.style[S],T.style[S]=o,o=Pe(T,S)||o,i?T.style[S]=i:ln(T,S)),s=[A,o],xh(s),A=s[0],o=s[1],e=A.match(en)||[],m=o.match(en)||[],m.length){for(;r=en.exec(o);)u=r[0],c=o.substring(v,r.index),l?l=(l+1)%5:(c.substr(-5)==="rgba("||c.substr(-5)==="hsla(")&&(l=1),u!==(i=e[h++]||"")&&(n=parseFloat(i)||0,p=i.substr((n+"").length),u.charAt(1)==="="&&(u=nn(n,u)+p),f=parseFloat(u),d=u.substr((f+"").length),v=en.lastIndex-d.length,d||(d=d||ve.units[S]||p,v===o.length&&(o+=d,a.e+=d)),p!==d&&(n=Ci(T,S,i,d)||0),a._pt={_next:a._pt,p:c||h===1?c:",",s:n,c:f-n,m:l&&l<4||S==="zIndex"?Math.round:0});a.c=v<o.length?o.substring(v,o.length):""}else a.r=S==="display"&&o==="none"?Sd:Td;return fh.test(o)&&(a.e=0),this._pt=a,a},md={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},og=function(T){var S=T.split(" "),A=S[0],o=S[1]||"50%";return(A==="top"||A==="bottom"||o==="left"||o==="right")&&(T=A,A=o,o=T),S[0]=md[A]||A,S[1]=md[o]||o,S.join(" ")},hg=function(T,S){if(S.tween&&S.tween._time===S.tween._dur){var A=S.t,o=A.style,g=S.u,t=A._gsap,a,v,h;if(g==="all"||g===!0)o.cssText="",v=1;else for(g=g.split(","),h=g.length;--h>-1;)a=g[h],ii[a]&&(v=1,a=a==="transformOrigin"?pe:Nt),ln(A,a);v&&(ln(A,Nt),t&&(t.svg&&A.removeAttribute("transform"),o.scale=o.rotate=o.translate="none",Zs(A,1),t.uncache=1,Cd(o)))}},fa={clearProps:function(T,S,A,o,g){if(g.data!=="isFromStart"){var t=T._pt=new oe(T._pt,S,A,0,0,hg);return t.u=o,t.pr=-10,t.tween=g,T._props.push(A),1}}},js=[1,0,0,1,0,0],Md={},Dd=function(T){return T==="matrix(1, 0, 0, 1, 0, 0)"||T==="none"||!T},xd=function(T){var S=Pe(T,Nt);return Dd(S)?js:S.substr(7).match(uh).map(Ut)},Nh=function(T,S){var A=T._gsap||mi(T),o=T.style,g=xd(T),t,a,v,h;return A.svg&&T.getAttribute("transform")?(v=T.transform.baseVal.consolidate().matrix,g=[v.a,v.b,v.c,v.d,v.e,v.f],g.join(",")==="1,0,0,1,0,0"?js:g):(g===js&&!T.offsetParent&&T!==$n&&!A.svg&&(v=o.display,o.display="block",t=T.parentNode,(!t||!T.offsetParent&&!T.getBoundingClientRect().width)&&(h=1,a=T.nextElementSibling,$n.appendChild(T)),g=xd(T),v?o.display=v:ln(T,"display"),h&&(a?t.insertBefore(T,a):t?t.appendChild(T):$n.removeChild(T))),S&&g.length>6?[g[0],g[1],g[4],g[5],g[12],g[13]]:g)},Lh=function(T,S,A,o,g,t){var a=T._gsap,v=g||Nh(T,!0),h=a.xOrigin||0,s=a.yOrigin||0,r=a.xOffset||0,e=a.yOffset||0,n=v[0],l=v[1],i=v[2],u=v[3],f=v[4],c=v[5],d=S.split(" "),p=parseFloat(d[0])||0,m=parseFloat(d[1])||0,y,x,C,E;A?v!==js&&(x=n*u-l*i)&&(C=p*(u/x)+m*(-i/x)+(i*c-u*f)/x,E=p*(-l/x)+m*(n/x)-(n*c-l*f)/x,p=C,m=E):(y=Rd(T),p=y.x+(~d[0].indexOf("%")?p/100*y.width:p),m=y.y+(~(d[1]||d[0]).indexOf("%")?m/100*y.height:m)),o||o!==!1&&a.smooth?(f=p-h,c=m-s,a.xOffset=r+(f*n+c*i)-f,a.yOffset=e+(f*l+c*u)-c):a.xOffset=a.yOffset=0,a.xOrigin=p,a.yOrigin=m,a.smooth=!!o,a.origin=S,a.originIsAbsolute=!!A,T.style[pe]="0px 0px",t&&(Si(t,a,"xOrigin",h,p),Si(t,a,"yOrigin",s,m),Si(t,a,"xOffset",r,a.xOffset),Si(t,a,"yOffset",e,a.yOffset)),T.setAttribute("data-svg-origin",p+" "+m)},Zs=function(T,S){var A=T._gsap||new yh(T);if("x"in A&&!S&&!A.uncache)return A;var o=T.style,g=A.scaleX<0,t="px",a="deg",v=getComputedStyle(T),h=Pe(T,pe)||"0",s,r,e,n,l,i,u,f,c,d,p,m,y,x,C,E,R,M,w,D,F,I,L,B,G,V,X,b,U,O,z,N;return s=r=e=i=u=f=c=d=p=0,n=l=1,A.svg=!!(T.getCTM&&Pd(T)),v.translate&&((v.translate!=="none"||v.scale!=="none"||v.rotate!=="none")&&(o[Nt]=(v.translate!=="none"?"translate3d("+(v.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(v.rotate!=="none"?"rotate("+v.rotate+") ":"")+(v.scale!=="none"?"scale("+v.scale.split(" ").join(",")+") ":"")+(v[Nt]!=="none"?v[Nt]:"")),o.scale=o.rotate=o.translate="none"),x=Nh(T,A.svg),A.svg&&(A.uncache?(G=T.getBBox(),h=A.xOrigin-G.x+"px "+(A.yOrigin-G.y)+"px",B=""):B=!S&&T.getAttribute("data-svg-origin"),Lh(T,B||h,!!B||A.originIsAbsolute,A.smooth!==!1,x)),m=A.xOrigin||0,y=A.yOrigin||0,x!==js&&(M=x[0],w=x[1],D=x[2],F=x[3],s=I=x[4],r=L=x[5],x.length===6?(n=Math.sqrt(M*M+w*w),l=Math.sqrt(F*F+D*D),i=M||w?Hn(w,M)*on:0,c=D||F?Hn(D,F)*on+i:0,c&&(l*=Math.abs(Math.cos(c*jn))),A.svg&&(s-=m-(m*M+y*D),r-=y-(m*w+y*F))):(N=x[6],O=x[7],X=x[8],b=x[9],U=x[10],z=x[11],s=x[12],r=x[13],e=x[14],C=Hn(N,U),u=C*on,C&&(E=Math.cos(-C),R=Math.sin(-C),B=I*E+X*R,G=L*E+b*R,V=N*E+U*R,X=I*-R+X*E,b=L*-R+b*E,U=N*-R+U*E,z=O*-R+z*E,I=B,L=G,N=V),C=Hn(-D,U),f=C*on,C&&(E=Math.cos(-C),R=Math.sin(-C),B=M*E-X*R,G=w*E-b*R,V=D*E-U*R,z=F*R+z*E,M=B,w=G,D=V),C=Hn(w,M),i=C*on,C&&(E=Math.cos(C),R=Math.sin(C),B=M*E+w*R,G=I*E+L*R,w=w*E-M*R,L=L*E-I*R,M=B,I=G),u&&Math.abs(u)+Math.abs(i)>359.9&&(u=i=0,f=180-f),n=Ut(Math.sqrt(M*M+w*w+D*D)),l=Ut(Math.sqrt(L*L+N*N)),C=Hn(I,L),c=Math.abs(C)>2e-4?C*on:0,p=z?1/(z<0?-z:z):0),A.svg&&(B=T.getAttribute("transform"),A.forceCSS=T.setAttribute("transform","")||!Dd(Pe(T,Nt)),B&&T.setAttribute("transform",B))),Math.abs(c)>90&&Math.abs(c)<270&&(g?(n*=-1,c+=i<=0?180:-180,i+=i<=0?180:-180):(l*=-1,c+=c<=0?180:-180)),S=S||A.uncache,A.x=s-((A.xPercent=s&&(!S&&A.xPercent||(Math.round(T.offsetWidth/2)===Math.round(-s)?-50:0)))?T.offsetWidth*A.xPercent/100:0)+t,A.y=r-((A.yPercent=r&&(!S&&A.yPercent||(Math.round(T.offsetHeight/2)===Math.round(-r)?-50:0)))?T.offsetHeight*A.yPercent/100:0)+t,A.z=e+t,A.scaleX=Ut(n),A.scaleY=Ut(l),A.rotation=Ut(i)+a,A.rotationX=Ut(u)+a,A.rotationY=Ut(f)+a,A.skewX=c+a,A.skewY=d+a,A.transformPerspective=p+t,(A.zOrigin=parseFloat(h.split(" ")[2])||!S&&A.zOrigin||0)&&(o[pe]=da(h)),A.xOffset=A.yOffset=0,A.force3D=ve.force3D,A.renderTransform=A.svg?ug:Ad?wd:lg,A.uncache=0,A},da=function(T){return(T=T.split(" "))[0]+" "+T[1]},Mh=function(T,S,A){var o=_t(S);return Ut(parseFloat(S)+parseFloat(Ci(T,"x",A+"px",o)))+o},lg=function(T,S){S.z="0px",S.rotationY=S.rotationX="0deg",S.force3D=0,wd(T,S)},rn="0deg",$s="0px",an=") ",wd=function(T,S){var A=S||this,o=A.xPercent,g=A.yPercent,t=A.x,a=A.y,v=A.z,h=A.rotation,s=A.rotationY,r=A.rotationX,e=A.skewX,n=A.skewY,l=A.scaleX,i=A.scaleY,u=A.transformPerspective,f=A.force3D,c=A.target,d=A.zOrigin,p="",m=f==="auto"&&T&&T!==1||f===!0;if(d&&(r!==rn||s!==rn)){var y=parseFloat(s)*jn,x=Math.sin(y),C=Math.cos(y),E;y=parseFloat(r)*jn,E=Math.cos(y),t=Mh(c,t,x*E*-d),a=Mh(c,a,-Math.sin(y)*-d),v=Mh(c,v,C*E*-d+d)}u!==$s&&(p+="perspective("+u+an),(o||g)&&(p+="translate("+o+"%, "+g+"%) "),(m||t!==$s||a!==$s||v!==$s)&&(p+=v!==$s||m?"translate3d("+t+", "+a+", "+v+") ":"translate("+t+", "+a+an),h!==rn&&(p+="rotate("+h+an),s!==rn&&(p+="rotateY("+s+an),r!==rn&&(p+="rotateX("+r+an),(e!==rn||n!==rn)&&(p+="skew("+e+", "+n+an),(l!==1||i!==1)&&(p+="scale("+l+", "+i+an),c.style[Nt]=p||"translate(0, 0)"},ug=function(T,S){var A=S||this,o=A.xPercent,g=A.yPercent,t=A.x,a=A.y,v=A.rotation,h=A.skewX,s=A.skewY,r=A.scaleX,e=A.scaleY,n=A.target,l=A.xOrigin,i=A.yOrigin,u=A.xOffset,f=A.yOffset,c=A.forceCSS,d=parseFloat(t),p=parseFloat(a),m,y,x,C,E;v=parseFloat(v),h=parseFloat(h),s=parseFloat(s),s&&(s=parseFloat(s),h+=s,v+=s),v||h?(v*=jn,h*=jn,m=Math.cos(v)*r,y=Math.sin(v)*r,x=Math.sin(v-h)*-e,C=Math.cos(v-h)*e,h&&(s*=jn,E=Math.tan(h-s),E=Math.sqrt(1+E*E),x*=E,C*=E,s&&(E=Math.tan(s),E=Math.sqrt(1+E*E),m*=E,y*=E)),m=Ut(m),y=Ut(y),x=Ut(x),C=Ut(C)):(m=r,C=e,y=x=0),(d&&!~(t+"").indexOf("px")||p&&!~(a+"").indexOf("px"))&&(d=Ci(n,"x",t,"px"),p=Ci(n,"y",a,"px")),(l||i||u||f)&&(d=Ut(d+l-(l*m+i*x)+u),p=Ut(p+i-(l*y+i*C)+f)),(o||g)&&(E=n.getBBox(),d=Ut(d+o/100*E.width),p=Ut(p+g/100*E.height)),E="matrix("+m+","+y+","+x+","+C+","+d+","+p+")",n.setAttribute("transform",E),c&&(n.style[Nt]=E)},fg=function(T,S,A,o,g){var t=360,a=Kt(g),v=parseFloat(g)*(a&&~g.indexOf("rad")?on:1),h=v-o,s=o+h+"deg",r,e;return a&&(r=g.split("_")[1],r==="short"&&(h%=t,h!==h%(t/2)&&(h+=h<0?t:-t)),r==="cw"&&h<0?h=(h+t*dd)%t-~~(h/t)*t:r==="ccw"&&h>0&&(h=(h-t*dd)%t-~~(h/t)*t)),T._pt=e=new oe(T._pt,S,A,o,h,K0),e.e=s,e.u="deg",T._props.push(A),e},yd=function(T,S){for(var A in S)T[A]=S[A];return T},dg=function(T,S,A){var o=yd({},A._gsap),g="perspective,force3D,transformOrigin,svgOrigin",t=A.style,a,v,h,s,r,e,n,l;o.svg?(h=A.getAttribute("transform"),A.setAttribute("transform",""),t[Nt]=S,a=Zs(A,1),ln(A,Nt),A.setAttribute("transform",h)):(h=getComputedStyle(A)[Nt],t[Nt]=S,a=Zs(A,1),t[Nt]=h);for(v in ii)h=o[v],s=a[v],h!==s&&g.indexOf(v)<0&&(n=_t(h),l=_t(s),r=n!==l?Ci(A,v,h,l):parseFloat(h),e=parseFloat(s),T._pt=new oe(T._pt,a,v,r,e-r,Dh),T._pt.u=l||0,T._props.push(v));yd(a,o)};ae("padding,margin,Width,Radius",function(P,T){var S="Top",A="Right",o="Bottom",g="Left",t=(T<3?[S,A,o,g]:[S+g,S+A,o+A,o+g]).map(function(a){return T<2?P+a:"border"+a+P});fa[T>1?"border"+P:P]=function(a,v,h,s,r){var e,n;if(arguments.length<4)return e=t.map(function(l){return ei(a,l,h)}),n=e.join(" "),n.split(e[0]).length===5?e[0]:n;e=(s+"").split(" "),n={},t.forEach(function(l,i){return n[l]=e[i]=e[i]||e[(i-1)/2|0]}),a.init(v,n,r)}});var bh={name:"css",register:Fh,targetTest:function(T){return T.style&&T.nodeType},init:function(T,S,A,o,g){var t=this._props,a=T.style,v=A.vars.startAt,h,s,r,e,n,l,i,u,f,c,d,p,m,y,x,C;Oh||Fh(),this.styles=this.styles||Ed(T),C=this.styles.props,this.tween=A;for(i in S)if(i!=="autoRound"&&(s=S[i],!(fe[i]&&Sh(i,S,A,o,T,g)))){if(n=typeof s,l=fa[i],n==="function"&&(s=s.call(A,o,T,g),n=typeof s),n==="string"&&~s.indexOf("random(")&&(s=Wn(s)),l)l(this,T,i,s,A)&&(x=1);else if(i.substr(0,2)==="--")h=(getComputedStyle(T).getPropertyValue(i)+"").trim(),s+="",_e.lastIndex=0,_e.test(h)||(u=_t(h),f=_t(s)),f?u!==f&&(h=Ci(T,i,h,f)+f):u&&(s+=u),this.add(a,"setProperty",h,s,o,g,0,0,i),t.push(i),C.push(i,0,a[i]);else if(n!=="undefined"){if(v&&i in v?(h=typeof v[i]=="function"?v[i].call(A,o,T,g):v[i],Kt(h)&&~h.indexOf("random(")&&(h=Wn(h)),_t(h+"")||h==="auto"||(h+=ve.units[i]||_t(ei(T,i))||""),(h+"").charAt(1)==="="&&(h=ei(T,i))):h=ei(T,i),e=parseFloat(h),c=n==="string"&&s.charAt(1)==="="&&s.substr(0,2),c&&(s=s.substr(2)),r=parseFloat(s),i in Ve&&(i==="autoAlpha"&&(e===1&&ei(T,"visibility")==="hidden"&&r&&(e=0),C.push("visibility",0,a.visibility),Si(this,a,"visibility",e?"inherit":"hidden",r?"inherit":"hidden",!r)),i!=="scale"&&i!=="transform"&&(i=Ve[i],~i.indexOf(",")&&(i=i.split(",")[0]))),d=i in ii,d){if(this.styles.save(i),n==="string"&&s.substring(0,6)==="var(--"&&(s=Pe(T,s.substring(4,s.indexOf(")"))),r=parseFloat(s)),p||(m=T._gsap,m.renderTransform&&!S.parseTransform||Zs(T,S.parseTransform),y=S.smoothOrigin!==!1&&m.smooth,p=this._pt=new oe(this._pt,a,Nt,0,1,m.renderTransform,m,0,-1),p.dep=1),i==="scale")this._pt=new oe(this._pt,m,"scaleY",m.scaleY,(c?nn(m.scaleY,c+r):r)-m.scaleY||0,Dh),this._pt.u=0,t.push("scaleY",i),i+="X";else if(i==="transformOrigin"){C.push(pe,0,a[pe]),s=og(s),m.svg?Lh(T,s,0,y,0,this):(f=parseFloat(s.split(" ")[2])||0,f!==m.zOrigin&&Si(this,m,"zOrigin",m.zOrigin,f),Si(this,a,i,da(h),da(s)));continue}else if(i==="svgOrigin"){Lh(T,s,1,y,0,this);continue}else if(i in Md){fg(this,m,i,e,c?nn(e,c+s):s);continue}else if(i==="smoothOrigin"){Si(this,m,"smooth",m.smooth,s);continue}else if(i==="force3D"){m[i]=s;continue}else if(i==="transform"){dg(this,s,T);continue}}else i in a||(i=Zn(i)||i);if(d||(r||r===0)&&(e||e===0)&&!Z0.test(s)&&i in a)u=(h+"").substr((e+"").length),r||(r=0),f=_t(s)||(i in ve.units?ve.units[i]:u),u!==f&&(e=Ci(T,i,h,f)),this._pt=new oe(this._pt,d?m:a,i,e,(c?nn(e,c+r):r)-e,!d&&(f==="px"||i==="zIndex")&&S.autoRound!==!1?Q0:Dh),this._pt.u=f||0,u!==f&&f!=="%"&&(this._pt.b=h,this._pt.r=J0);else if(i in a)ag.call(this,T,i,h,c?c+s:s);else if(i in T)this.add(T,i,h||T[i],c?c+s:s,o,g);else if(i!=="parseTransform"){aa(i,s);continue}d||(i in a?C.push(i,0,a[i]):typeof T[i]=="function"?C.push(i,2,T[i]()):C.push(i,1,h||T[i])),t.push(i)}}x&&Ph(this)},render:function(T,S){if(S.tween._time||!Ih())for(var A=S._pt;A;)A.r(T,A.d),A=A._next;else S.styles.revert()},get:ei,aliases:Ve,getSetter:function(T,S,A){var o=Ve[S];return o&&o.indexOf(",")<0&&(S=o),S in ii&&S!==pe&&(T._gsap.x||ei(T,"x"))?A&&fd===A?S==="scale"?tg:_0:(fd=A||{})&&(S==="scale"?eg:ig):T.style&&!ra(T.style[S])?k0:~S.indexOf("-")?q0:ua(T,S)},core:{_removeProperty:ln,_getMatrix:Nh}};ie.utils.checkPrefix=Zn;ie.core.getStyleSaver=Ed;(function(P,T,S,A){var o=ae(P+","+T+","+S,function(g){ii[g]=1});ae(T,function(g){ve.units[g]="deg",Md[g]=1}),Ve[o[13]]=P+","+T,ae(A,function(g){var t=g.split(":");Ve[t[1]]=o[t[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");ae("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(P){ve.units[P]="px"});ie.registerPlugin(bh);var Kn=ie.registerPlugin(bh)||ie,HT=Kn.core.Tween;var cg=["letterImg"],vg=["altImg"];function pg(P,T){if(P&1&&(vt(0,"div",5),Ot(1,"img",6,0),xt()),P&2){let S=T.$implicit;Xt(),Zt("src",S.default,nr)("alt",S.alt)}}var ca=class P{letterImages;altImages;letters=[{default:"svg/joscco_0.svg",alt:"J"},{default:"svg/joscco_1.svg",alt:"o"},{default:"svg/joscco_2.svg",alt:"s"},{default:"svg/joscco_3.svg",alt:"c"},{default:"svg/joscco_4.svg",alt:"c"},{default:"svg/joscco_5.svg",alt:"o"}];globalAlternatives=["svg/joscco_0.svg","svg/joscco_1.svg","svg/joscco_2.svg","svg/joscco_3.svg","svg/joscco_4.svg","svg/joscco_5.svg","svg/joscco_0_1.svg","svg/joscco_1_1.svg","svg/joscco_2_1.svg","svg/joscco_2_2.svg","svg/joscco_4_1.svg","svg/joscco_5_1.svg"];ngAfterViewInit(){this.playAnimation()}playAnimation(){this.letterImages.toArray().forEach((S,A)=>{let o=A*.1,g=5;for(let t=0;t<g;t++){let a=this.globalAlternatives[Math.floor(Math.random()*this.globalAlternatives.length)];Kn.to(S.nativeElement,{scale:.9,delay:o+t*.2,duration:.15,onComplete:()=>{S.nativeElement.src=a,Kn.to(S.nativeElement,{scale:1,duration:.15})}})}Kn.to(S.nativeElement,{scale:.9,delay:o+g*.2,duration:.15,onComplete:()=>{S.nativeElement.src=this.letters[A].default,Kn.to(S.nativeElement,{scale:1,duration:.15})}})})}static \u0275fac=function(S){return new(S||P)};static \u0275cmp=Pt({type:P,selectors:[["app-logo"]],viewQuery:function(S,A){if(S&1&&(Xi(cg,5),Xi(vg,5)),S&2){let o;ai(o=oi())&&(A.letterImages=o),ai(o=oi())&&(A.altImages=o)}},decls:4,vars:1,consts:[["letterImg",""],["routerLink","",1,"flex","flex-col","items-center","gap-1",3,"click"],[1,"flex","-space-x-8","items-center"],["class","relative h-20 w-20",4,"ngFor","ngForOf"],["src","svg/Name.svg","alt","Jonathan Neuser-Schmitz",1,"w-64"],[1,"relative","h-20","w-20"],[1,"absolute","h-20","w-20",3,"src","alt"]],template:function(S,A){S&1&&(vt(0,"a",1),Oe("click",function(){return A.playAnimation()}),vt(1,"div",2),_n(2,pg,3,2,"div",3),xt(),Ot(3,"img",4),xt()),S&2&&(Xt(2),Zt("ngForOf",A.letters))},dependencies:[vi,Cn],encapsulation:2})};var va=class P{text="";href="";static \u0275fac=function(S){return new(S||P)};static \u0275cmp=Pt({type:P,selectors:[["app-nav-item"]],inputs:{text:"text",href:"href"},decls:2,vars:2,consts:[[1,"text-neutral-800","text-sm","md:text-base","font-semibold","p-2","no-underline","items-center","justify-center","flex","flex-1","h-[50px]","transition-all","duration-400",3,"routerLink"]],template:function(S,A){S&1&&(vt(0,"a",0),Wt(1),xt()),S&2&&(Zt("routerLink",A.href),Xt(),es(" ",A.text,`
`))},dependencies:[vi],encapsulation:2})};var pa=class P{static \u0275fac=function(S){return new(S||P)};static \u0275cmp=Pt({type:P,selectors:[["app-nav-bar"]],decls:8,vars:0,consts:[[1,"bg-white","w-screen","mt-8","mb-4","z-10","flex","flex-nowrap","flex-row","items-center","justify-center"],[1,"w-[450px]","md:w-[700px]","lg:w-[980px]","flex","flex-1","flex-col","justify-center","items-center","gap-4"],[1,"flex","flex-row","flex-nowrap","items-center","gap-2","md:gap-4"],["text","WORK","href","/"],["text","ABOUT","href","/about"],["text","CONTACT","href","/contact"]],template:function(S,A){S&1&&(vt(0,"div",0)(1,"div",1)(2,"div"),Ot(3,"app-logo"),xt(),vt(4,"div",2),Ot(5,"app-nav-item",3)(6,"app-nav-item",4)(7,"app-nav-item",5),xt()()())},dependencies:[ca,va],encapsulation:2})};var Fd=ur("fadeInAndOutAnimations",[ns("contact => work, contact => about, about => work, * => post",[hi(":enter, :leave",ue({position:"fixed",width:"100%"}),{optional:!0}),fr([hi(":enter",[ue({transform:"translateX(-100%)"}),Yi("0.5s ease-in-out",ue({transform:"translateX(0%)"}))],{optional:!0}),hi(":leave",[ue({transform:"translateX(0%)"}),Yi("0.5s ease-in-out",ue({transform:"translateX(100%)"}))],{optional:!0})])]),ns("work => about, work => contact, about => contact, post => work, post => about, post => contact, error => *",[hi(":enter, :leave",ue({position:"fixed",width:"100%"}),{optional:!0}),fr([hi(":enter",[ue({transform:"translateX(100%)"}),Yi("0.5s ease-in-out",ue({transform:"translateX(0%)"}))],{optional:!0}),hi(":leave",[ue({transform:"translateX(0%)"}),Yi("0.5s ease-in-out",ue({transform:"translateX(-100%)"}))],{optional:!0})])])]),Ld=ur("resize",[dr("hidden",ue({opacity:0,transform:"scale(0)"})),dr("shown",ue({opacity:1,transform:"scale(1)"})),ns("hidden => shown",[Yi("0.2s ease-out")])]);var ga=class P{constructor(T){this.contexts=T}getRouteAnimationData(){return this.contexts.getContext("primary")?.route?.snapshot?.data?.animation}static \u0275fac=function(S){return new(S||P)(Rt(ci))};static \u0275cmp=Pt({type:P,selectors:[["app-root"]],decls:4,vars:1,consts:[[1,"flex","flex-col","w-full","min-h-screen"],[1,"flex-1"]],template:function(S,A){S&1&&(vt(0,"div",0),Ot(1,"app-nav-bar"),vt(2,"div",1),Ot(3,"router-outlet"),xt()()),S&2&&(Xt(2),Zt("@fadeInAndOutAnimations",A.getRouteAnimationData()))},dependencies:[Os,pa],encapsulation:2,data:{animation:[Fd]}})};var ma=class P{static \u0275fac=function(S){return new(S||P)};static \u0275cmp=Pt({type:P,selectors:[["app-contact-view"]],decls:13,vars:0,consts:[[1,"pb-24","flex","items-center","justify-center","flex-col"],[1,"w-full","px-4","lg:max-w-[980px]","justify-start","items-center","flex","flex-1","flex-col","flex-nowrap"],[1,"flex","flex-col","md:px-4"],[1,"flex-1","flex","flex-col","items-center","justify-center","px-4"],["src","images/me.png","alt","Me",1,"w-[200px]","rounded-[50%]","m-7"],[1,"text-[2.2rem]","md:text-[2.5rem]","font-bold","pb-2","px-4"],[1,"text-[1.1rem]","md:text-[1.2rem]","text-left","font-semibold","text-zinc-500","px-4","pb-2"],[1,"text-[1.7rem]","text-[#ffcd8d]","font-semibold","hover:text-black","transition-all","duration-200"],["href","mailto:mail@joscco.com"],["src","images/letter.png","alt","letter",1,"h-[40px]","inline","mx-2"]],template:function(S,A){S&1&&(vt(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),Ot(4,"img",4),vt(5,"div",5),Wt(6,"Any questions?"),xt(),vt(7,"div",6),Wt(8," Or would you like to know more? Then feel free to "),xt(),vt(9,"div",7)(10,"a",8),Wt(11,"Contact Me"),Ot(12,"img",9),xt()()()()()())},encapsulation:2})};var Ei=ic(Od());var xa=class{sprite;scene;stage;offset;constructor(T,S,A,o){this.scene=T,this.sprite=T.add.image(S,A,o).setInteractive(),this.sprite.setScale(0),this.sprite.setOrigin(.5,1),this.stage=0,this.offset=null,this.sprite.setData("stage",this.stage),this.initInteractions(),this.animateAppearance()}initInteractions(){this.sprite.on("pointerdown",T=>{this.sprite.setAlpha(.7),this.sprite.setDepth(10),this.offset={x:T.x-this.sprite.x,y:T.y-this.sprite.y},this.sprite.setData("lastPointerDownTime",Date.now())}),this.sprite.on("pointerup",()=>{this.sprite.setAlpha(1),this.sprite.setDepth(1);let T=this.sprite.getData("lastPointerDownTime");Date.now()-T<300&&this.updateStage()}),this.sprite.on("pointerupoutside",()=>{this.sprite.setAlpha(1),this.sprite.setDepth(1)})}animateAppearance(){return Fi(this,null,function*(){yield new Promise((T,S)=>this.scene.tweens.add({targets:this.sprite,scale:1,duration:200,ease:Phaser.Math.Easing.Back.Out,onComplete:()=>{this.sprite.setInteractive(),T()}})),this.scene.tweens.add({targets:this.sprite,scaleX:1.05,scaleY:.95,duration:1e3,ease:Phaser.Math.Easing.Quadratic.InOut,yoyo:!0,delay:Phaser.Math.Between(0,1e3),repeat:-1})})}updateStage(){this.stage=Phaser.Math.Clamp(this.stage+1,0,["flower0","flower1","flower2"].length-1),this.sprite.setTexture(["flower0","flower1","flower2"][this.stage])}destroy(){this.scene.tweens.killTweensOf(this.sprite),this.scene.tweens.add({targets:this.sprite,scale:0,duration:200,ease:Phaser.Math.Easing.Back.In,onComplete:()=>{this.sprite.removeAllListeners(),this.sprite.destroy()}})}getSprite(){return this.sprite}getOffset(){return this.offset}getStage(){return this.stage}setPosition(T,S){this.sprite.setPosition(T,S)}};var gg=["pixiContainer"],ya=class P{pixiContainer;game;ngOnInit(){if(!this.game){let T={type:Ei.default.CANVAS,width:this.pixiContainer.nativeElement.clientWidth,height:this.pixiContainer.nativeElement.clientHeight,transparent:!0,parent:this.pixiContainer.nativeElement,scene:[Uh],scale:{mode:Ei.default.Scale.RESIZE,autoCenter:Ei.default.Scale.CENTER_BOTH},input:{mouse:{preventDefaultWheel:!1}}};this.game=new Ei.default.Game(T)}}static \u0275fac=function(S){return new(S||P)};static \u0275cmp=Pt({type:P,selectors:[["app-flower-meadow"]],viewQuery:function(S,A){if(S&1&&Xi(gg,7),S&2){let o;ai(o=oi())&&(A.pixiContainer=o.first)}},decls:2,vars:0,consts:[["pixiContainer",""],[1,"w-full","h-[500px]","overflow-hidden","rounded-lg"]],template:function(S,A){S&1&&Ot(0,"div",1,0)},styles:["[_nghost-%COMP%]{width:100%}"]})},Uh=class extends Ei.default.Scene{flowers=[];maxFlowers=30;maxTries=10;minDistance=50;draggedFlower=null;stages=["flower0","flower1","flower2"];constructor(){super({key:"FlowerScene"})}preload(){this.stages.forEach((T,S)=>{this.load.image(T,`images/flowers/${T}.png`)})}create(){let T=this.cameras.main.width,S=this.cameras.main.height;this.generatePoissonPoints(T,S,this.minDistance,this.maxTries,this.maxFlowers).forEach(o=>{this.addFlower(o.x,o.y)}),this.input.on("pointermove",o=>{if(this.draggedFlower){let g=this.draggedFlower.getOffset();g&&this.draggedFlower.setPosition(o.x-g.x,o.y-g.y)}}),this.input.on("pointerup",o=>{this.draggedFlower||this.addFlower(o.x,o.y),this.draggedFlower=null})}addFlower(T,S){this.flowers.length>=this.maxFlowers&&this.flowers.shift()?.destroy();let A=new xa(this,T,S,this.stages[0]);A.getSprite().on("pointerdown",()=>{this.draggedFlower=A}),this.flowers.push(A)}generatePoissonPoints(T,S,A,o,g){let t=[];for(;t.length<g;){let a=0,v=!1;for(;a<o&&!v;){let h=Ei.default.Math.Between(A,T-A),s=Ei.default.Math.Between(A,S-A);t.some(e=>{let n=e.x-h,l=e.y-s;return Math.hypot(n,l)<A})||(t.push({x:h,y:s}),v=!0),a++}if(!v)break}return t}};var Ta=class P{class="h-full";static \u0275fac=function(S){return new(S||P)};static \u0275cmp=Pt({type:P,selectors:[["app-about-view"]],hostVars:2,hostBindings:function(S,A){S&2&&Ul(A.class)},decls:10,vars:0,consts:[[1,"h-[500px]","flex-1","flex","flex-col","items-center","justify-center"],[1,"w-full","flex-1","flex","flex-col","justify-center","px-4","relative"],[1,"w-[350px]","text-center","bg-white","p-4","rounded","shadow-md","absolute","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2"],[1,"text-lg","md:text-xl","font-bold","pb-2","px-4","select-none"],[1,"text-base","md:text-lg","text-left","font-semibold","py-2","text-zinc-500","px-4","select-none"]],template:function(S,A){S&1&&(vt(0,"div",0)(1,"div",1),Ot(2,"app-flower-meadow"),vt(3,"div",2)(4,"div",3),Wt(5,"About Me"),xt(),vt(6,"div",4),Wt(7," I'm a software developer based in Nuremberg, Germany, living in T\xF6nisvorst. My interests include mathematics, illustration, music, and game design. "),xt(),vt(8,"div",4),Wt(9," I studied mathematics in Siegen and D\xFCsseldorf and have been working as a software developer since 2020. Blending these interests into personal projects is one of my favorite things \u2014 right after time with my people and dogs. "),xt()()()())},dependencies:[ya],encapsulation:2})};var mg=["resizeContainer"],xg=P=>({"height.px":P}),yg=(P,T,S)=>({"top.px":P,"left.px":T,"width.px":S}),Tg=P=>({"cursor-pointer":P}),Sg=(P,T)=>({"bg-opacity-75 text-opacity-100":P,"bg-opacity-0 text-opacity-0":T});function Cg(P,T){P&1&&(vt(0,"div",10),Wt(1," Click for more "),xt())}function Eg(P,T){if(P&1){let S=Bl();vt(0,"div",3)(1,"a",4),Oe("click",function(){let o=er(S).$implicit,g=ts();return ir(g.onImageClick(o))}),Ot(2,"img",5),vt(3,"div",6),Oe("pointerenter",function(o){let g=er(S).$implicit,t=ts();return ir(t.onPointerEnter(o,g))})("pointerleave",function(){er(S);let o=ts();return ir(o.hoveredItem=void 0)}),vt(4,"div",7),Wt(5),xt(),vt(6,"div",8),Wt(7),xt(),_n(8,Cg,2,0,"div",9),xt()()()}if(P&2){let S=T.$implicit,A=ts();Zt("ngStyle",or(8,yg,S.y,S.left,S.width)),Xt(),Zt("ngClass",ka(12,Tg,S.link)),Xt(),Zt("@resize",A.getResizeState())("src",S.img,nr),Xt(),Zt("ngClass",Vl(14,Sg,A.clickedItem===S.img||A.hoveredItem===S.img,A.clickedItem!==S.img&&A.hoveredItem!==S.img)),Xt(2),es(" ",S.title),Xt(2),es(" ",S.subtitle),Xt(),Zt("ngIf",S.link)}}var Sa=class P{items;colLimits;columnGap=16;height=0;resizeState="hidden";clickedItem;hoveredItem;masonryContainer;columns=new el(0);resizeObserver;ngOnInit(){setTimeout(()=>{this.resizeState==="hidden"&&(this.resizeState="shown")},50)}ngAfterViewInit(){this.resizeObserver=new ResizeObserver(()=>this.updateColumns()),this.resizeObserver.observe(this.masonryContainer.nativeElement)}ngOnDestroy(){this.resizeObserver?.disconnect()}updateColumns(){let T=this.masonryContainer.nativeElement.offsetWidth,S=this.colLimits?.find(([g])=>T>=g)?.[1]??1,A=(T-this.columnGap*(S-1))/S,o=Array(S).fill(0);if(this.items){let g=this.items?.map(t=>{let a=o.indexOf(Math.min(...o)),v=t.originalHeight*A/t.originalWidth,h=o[a];return o[a]+=v+this.columnGap,{img:t.img,y:h,left:a*(A+this.columnGap),width:A,title:t.title,link:t.link,subtitle:t.subtitle}});this.columns.next(g),this.height=Math.max(...o)-this.columnGap}}trackByFn(T,S){return S.img}getResizeState(){return this.resizeState}onImageClick(T){this.clickedItem===T.img||this.hoveredItem===T.img?T.link&&(window.location.href=T.link):(this.clickedItem=T.img,this.hoveredItem=void 0)}onWindowScroll(){this.clickedItem=void 0}onPointerEnter(T,S){T.pointerType==="mouse"&&(this.hoveredItem=S.img)}static \u0275fac=function(S){return new(S||P)};static \u0275cmp=Pt({type:P,selectors:[["app-projects-masonry"]],viewQuery:function(S,A){if(S&1&&Xi(mg,5),S&2){let o;ai(o=oi())&&(A.masonryContainer=o.first)}},hostAttrs:[1,"w-full"],hostBindings:function(S,A){S&1&&Oe("scroll",function(){return A.onWindowScroll()},Dl)},inputs:{items:"items",colLimits:"colLimits"},decls:4,vars:7,consts:[["resizeContainer",""],[1,"relative","w-full","transition-all","duration-300",3,"ngStyle"],["class","absolute transition-all duration-200",3,"ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],[1,"absolute","transition-all","duration-200",3,"ngStyle"],[1,"relative","w-full","h-full","text-[1.2rem]","font-bold","flex","flex-col","items-center","justify-center",3,"click","ngClass"],["alt","item.name",1,"w-full","h-auto",3,"src"],[1,"absolute","w-full","h-full","bg-black","text-white","flex","flex-col","items-center","justify-center","p-4","transition-all","duration-300",3,"pointerenter","pointerleave","ngClass"],[1,"text-[1.3rem]","leading-tight","text-center"],[1,"text-[1rem]"],["class","text-[1.2rem] pt-2",4,"ngIf"],[1,"text-[1.2rem]","pt-2"]],template:function(S,A){S&1&&(vt(0,"div",1,0),_n(2,Eg,9,17,"div",2),Xl(3,"async"),xt()),S&2&&(Zt("ngStyle",ka(5,xg,A.height)),Xt(2),Zt("ngForOf",Yl(3,3,A.columns))("ngForTrackBy",A.trackByFn))},dependencies:[Cn,ao,ro,no,so],encapsulation:2,data:{animation:[Ld]}})};var Ag=()=>[800,4],Rg=()=>[600,3],Pg=()=>[450,2],Mg=(P,T,S)=>[P,T,S],Ca=class P{items=[{img:"images/projects/2025_04_grannies_gotcha.png",originalWidth:800,originalHeight:800,title:"Granny's Gotcha",subtitle:"April 2025",link:"https://joscco.itch.io/grannys-gotcha"},{img:"images/projects/2023_04_heart_warming_deliveries.png",originalWidth:800,originalHeight:800,title:"Heart Warming Deliveries",subtitle:"April 2023",link:"https://joscco.itch.io/heart-warming-deliveries"},{img:"images/projects/2022_12_hedge_hurl.png",originalWidth:800,originalHeight:800,title:"Hedge Hurl",subtitle:"December 2022",link:"https://joscco.itch.io/hedge-hurl"},{img:"images/projects/2022_11_bernds_biscuits.png",originalWidth:800,originalHeight:800,title:"Bernd's Biscuits",subtitle:"November 2022",link:"https://joscco.itch.io/bernds-biscuits"},{img:"images/projects/2022_08_schick.png",originalWidth:799,originalHeight:1161,title:"Schick #15",subtitle:"August 2022",link:"pdf/schick_15_schmitz.pdf"},{img:"images/projects/2022_06_dicity.png",originalWidth:800,originalHeight:800,title:"Dicity",subtitle:"June 2022",link:"https://joscco.itch.io/dicity"},{img:"images/projects/2022_04_dating_under_the_comet.png",originalWidth:800,originalHeight:800,title:"Dating Under the Comet",subtitle:"April 2022",link:"https://joscco.itch.io/dating-under-the-comet"},{img:"images/projects/2021_11_advent_calender.png",originalWidth:800,originalHeight:800,title:"Adventskalender 2021",subtitle:"November 2022"},{img:"images/projects/2021_08_schick.png",originalWidth:800,originalHeight:1116,title:"Schick #14",subtitle:"August 2021",link:"pdf/schick_14_schmitz.pdf"},{img:"images/projects/2021_james_bot.png",originalWidth:800,originalHeight:800,title:"James Bot",subtitle:"2021"},{img:"images/projects/2020_01_master_thesis.png",originalWidth:800,originalHeight:800,title:"Master Thesis on Probabilistic Number Theory",subtitle:"January 2020",link:"pdf/master_thesis_schmitz.pdf"},{img:"images/projects/2020_01_ramen_god.png",originalWidth:800,originalHeight:1142,title:"Ramen God Illustration",subtitle:"January 2020"},{img:"images/projects/2018_08_bachelor_thesis.png",originalWidth:800,originalHeight:800,title:"Bachelor Thesis on Point Processes",subtitle:"August 2018",link:"pdf/bachelor_thesis_schmitz.pdf"},{img:"images/projects/2015_07_schick.png",originalWidth:800,originalHeight:979,title:"Schick #8",subtitle:"July 2015",link:"pdf/schick_8_schmitz.pdf"}];static \u0275fac=function(S){return new(S||P)};static \u0275cmp=Pt({type:P,selectors:[["app-main-view"]],decls:3,vars:9,consts:[[1,"pb-24","flex","items-center","justify-center","flex-col"],[1,"w-full","lg:max-w-[980px]","px-4","justify-start","items-center","flex","flex-1","flex-col","transition-all","ease-in-out","duration-300"],[3,"colLimits","items"]],template:function(S,A){S&1&&(vt(0,"div",0)(1,"div",1),Ot(2,"app-projects-masonry",2),xt()()),S&2&&(Xt(2),Zt("colLimits",or(5,Mg,ar(2,Ag),ar(3,Rg),ar(4,Pg)))("items",A.items))},dependencies:[Sa],encapsulation:2})};function Id(P,T){let A=!T?.manualCleanup?T?.injector?.get(pn)??rt(pn):null,o=Dg(T?.equal),g;T?.requireSync?g=kn({kind:0},{equal:o}):g=kn({kind:1,value:T?.initialValue},{equal:o});let t,a=P.subscribe({next:v=>g.set({kind:1,value:v}),error:v=>{g.set({kind:2,error:v}),t?.()},complete:()=>{t?.()}});if(T?.requireSync&&g().kind===0)throw new dt(601,!1);return t=A?.onDestroy(a.unsubscribe.bind(a)),hr(()=>{let v=g();switch(v.kind){case 1:return v.value;case 2:throw v.error;case 0:throw new dt(601,!1)}},{equal:T?.equal})}function Dg(P=Object.is){return(T,S)=>T.kind===1&&S.kind===1&&P(T.value,S.value)}function Yh(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var fn=Yh();function zd(P){fn=P}var ks={exec:()=>null};function At(P,T=""){let S=typeof P=="string"?P:P.source,A={replace:(o,g)=>{let t=typeof g=="string"?g:g.source;return t=t.replace(he.caret,"$1"),S=S.replace(o,t),A},getRegex:()=>new RegExp(S,T)};return A}var he={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:P=>new RegExp(`^( {0,3}${P})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:P=>new RegExp(`^ {0,${Math.min(3,P-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:P=>new RegExp(`^ {0,${Math.min(3,P-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:P=>new RegExp(`^ {0,${Math.min(3,P-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:P=>new RegExp(`^ {0,${Math.min(3,P-1)}}#`),htmlBeginRegex:P=>new RegExp(`^ {0,${Math.min(3,P-1)}}<(?:[a-z].*>|!--)`,"i")},wg=/^(?:[ \t]*(?:\n|$))+/,Fg=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Lg=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,qs=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Og=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Wh=/(?:[*+-]|\d{1,9}[.)])/,Vd=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Xd=At(Vd).replace(/bull/g,Wh).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Ig=At(Vd).replace(/bull/g,Wh).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Hh=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Bg=/^[^\n]+/,$h=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Ng=At(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",$h).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),bg=At(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Wh).getRegex(),Ma="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",jh=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Gg=At("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",jh).replace("tag",Ma).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Yd=At(Hh).replace("hr",qs).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ma).getRegex(),Ug=At(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Yd).getRegex(),Zh={blockquote:Ug,code:Fg,def:Ng,fences:Lg,heading:Og,hr:qs,html:Gg,lheading:Xd,list:bg,newline:wg,paragraph:Yd,table:ks,text:Bg},Bd=At("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",qs).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ma).getRegex(),zg=zt(tt({},Zh),{lheading:Ig,table:Bd,paragraph:At(Hh).replace("hr",qs).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Bd).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ma).getRegex()}),Vg=zt(tt({},Zh),{html:At(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",jh).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ks,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:At(Hh).replace("hr",qs).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Xd).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()}),Xg=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Yg=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Wd=/^( {2,}|\\)\n(?!\s*$)/,Wg=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Da=/[\p{P}\p{S}]/u,Kh=/[\s\p{P}\p{S}]/u,Hd=/[^\s\p{P}\p{S}]/u,Hg=At(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Kh).getRegex(),$d=/(?!~)[\p{P}\p{S}]/u,$g=/(?!~)[\s\p{P}\p{S}]/u,jg=/(?:[^\s\p{P}\p{S}]|~)/u,Zg=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,jd=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Kg=At(jd,"u").replace(/punct/g,Da).getRegex(),Jg=At(jd,"u").replace(/punct/g,$d).getRegex(),Zd="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Qg=At(Zd,"gu").replace(/notPunctSpace/g,Hd).replace(/punctSpace/g,Kh).replace(/punct/g,Da).getRegex(),kg=At(Zd,"gu").replace(/notPunctSpace/g,jg).replace(/punctSpace/g,$g).replace(/punct/g,$d).getRegex(),qg=At("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Hd).replace(/punctSpace/g,Kh).replace(/punct/g,Da).getRegex(),_g=At(/\\(punct)/,"gu").replace(/punct/g,Da).getRegex(),tm=At(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),em=At(jh).replace("(?:-->|$)","-->").getRegex(),im=At("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",em).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Ra=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,nm=At(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Ra).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Kd=At(/^!?\[(label)\]\[(ref)\]/).replace("label",Ra).replace("ref",$h).getRegex(),Jd=At(/^!?\[(ref)\](?:\[\])?/).replace("ref",$h).getRegex(),sm=At("reflink|nolink(?!\\()","g").replace("reflink",Kd).replace("nolink",Jd).getRegex(),Jh={_backpedal:ks,anyPunctuation:_g,autolink:tm,blockSkip:Zg,br:Wd,code:Yg,del:ks,emStrongLDelim:Kg,emStrongRDelimAst:Qg,emStrongRDelimUnd:qg,escape:Xg,link:nm,nolink:Jd,punctuation:Hg,reflink:Kd,reflinkSearch:sm,tag:im,text:Wg,url:ks},rm=zt(tt({},Jh),{link:At(/^!?\[(label)\]\((.*?)\)/).replace("label",Ra).getRegex(),reflink:At(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ra).getRegex()}),zh=zt(tt({},Jh),{emStrongRDelimAst:kg,emStrongLDelim:Jg,url:At(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),am=zt(tt({},zh),{br:At(Wd).replace("{2,}","*").getRegex(),text:At(zh.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),Ea={normal:Zh,gfm:zg,pedantic:Vg},Js={normal:Jh,gfm:zh,breaks:am,pedantic:rm},om={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Nd=P=>om[P];function Ye(P,T){if(T){if(he.escapeTest.test(P))return P.replace(he.escapeReplace,Nd)}else if(he.escapeTestNoEncode.test(P))return P.replace(he.escapeReplaceNoEncode,Nd);return P}function bd(P){try{P=encodeURI(P).replace(he.percentDecode,"%")}catch{return null}return P}function Gd(P,T){let S=P.replace(he.findPipe,(g,t,a)=>{let v=!1,h=t;for(;--h>=0&&a[h]==="\\";)v=!v;return v?"|":" |"}),A=S.split(he.splitPipe),o=0;if(A[0].trim()||A.shift(),A.length>0&&!A.at(-1)?.trim()&&A.pop(),T)if(A.length>T)A.splice(T);else for(;A.length<T;)A.push("");for(;o<A.length;o++)A[o]=A[o].trim().replace(he.slashPipe,"|");return A}function Qs(P,T,S){let A=P.length;if(A===0)return"";let o=0;for(;o<A;){let g=P.charAt(A-o-1);if(g===T&&!S)o++;else if(g!==T&&S)o++;else break}return P.slice(0,A-o)}function hm(P,T){if(P.indexOf(T[1])===-1)return-1;let S=0;for(let A=0;A<P.length;A++)if(P[A]==="\\")A++;else if(P[A]===T[0])S++;else if(P[A]===T[1]&&(S--,S<0))return A;return S>0?-2:-1}function Ud(P,T,S,A,o){let g=T.href,t=T.title||null,a=P[1].replace(o.other.outputLinkReplace,"$1");A.state.inLink=!0;let v={type:P[0].charAt(0)==="!"?"image":"link",raw:S,href:g,title:t,text:a,tokens:A.inlineTokens(a)};return A.state.inLink=!1,v}function lm(P,T,S){let A=P.match(S.other.indentCodeCompensation);if(A===null)return T;let o=A[1];return T.split(`
`).map(g=>{let t=g.match(S.other.beginningSpace);if(t===null)return g;let[a]=t;return a.length>=o.length?g.slice(o.length):g}).join(`
`)}var Pa=class{options;rules;lexer;constructor(P){this.options=P||fn}space(P){let T=this.rules.block.newline.exec(P);if(T&&T[0].length>0)return{type:"space",raw:T[0]}}code(P){let T=this.rules.block.code.exec(P);if(T){let S=T[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:T[0],codeBlockStyle:"indented",text:this.options.pedantic?S:Qs(S,`
`)}}}fences(P){let T=this.rules.block.fences.exec(P);if(T){let S=T[0],A=lm(S,T[3]||"",this.rules);return{type:"code",raw:S,lang:T[2]?T[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):T[2],text:A}}}heading(P){let T=this.rules.block.heading.exec(P);if(T){let S=T[2].trim();if(this.rules.other.endingHash.test(S)){let A=Qs(S,"#");(this.options.pedantic||!A||this.rules.other.endingSpaceChar.test(A))&&(S=A.trim())}return{type:"heading",raw:T[0],depth:T[1].length,text:S,tokens:this.lexer.inline(S)}}}hr(P){let T=this.rules.block.hr.exec(P);if(T)return{type:"hr",raw:Qs(T[0],`
`)}}blockquote(P){let T=this.rules.block.blockquote.exec(P);if(T){let S=Qs(T[0],`
`).split(`
`),A="",o="",g=[];for(;S.length>0;){let t=!1,a=[],v;for(v=0;v<S.length;v++)if(this.rules.other.blockquoteStart.test(S[v]))a.push(S[v]),t=!0;else if(!t)a.push(S[v]);else break;S=S.slice(v);let h=a.join(`
`),s=h.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");A=A?`${A}
${h}`:h,o=o?`${o}
${s}`:s;let r=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(s,g,!0),this.lexer.state.top=r,S.length===0)break;let e=g.at(-1);if(e?.type==="code")break;if(e?.type==="blockquote"){let n=e,l=n.raw+`
`+S.join(`
`),i=this.blockquote(l);g[g.length-1]=i,A=A.substring(0,A.length-n.raw.length)+i.raw,o=o.substring(0,o.length-n.text.length)+i.text;break}else if(e?.type==="list"){let n=e,l=n.raw+`
`+S.join(`
`),i=this.list(l);g[g.length-1]=i,A=A.substring(0,A.length-e.raw.length)+i.raw,o=o.substring(0,o.length-n.raw.length)+i.raw,S=l.substring(g.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:A,tokens:g,text:o}}}list(P){let T=this.rules.block.list.exec(P);if(T){let S=T[1].trim(),A=S.length>1,o={type:"list",raw:"",ordered:A,start:A?+S.slice(0,-1):"",loose:!1,items:[]};S=A?`\\d{1,9}\\${S.slice(-1)}`:`\\${S}`,this.options.pedantic&&(S=A?S:"[*+-]");let g=this.rules.other.listItemRegex(S),t=!1;for(;P;){let v=!1,h="",s="";if(!(T=g.exec(P))||this.rules.block.hr.test(P))break;h=T[0],P=P.substring(h.length);let r=T[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,f=>" ".repeat(3*f.length)),e=P.split(`
`,1)[0],n=!r.trim(),l=0;if(this.options.pedantic?(l=2,s=r.trimStart()):n?l=T[1].length+1:(l=T[2].search(this.rules.other.nonSpaceChar),l=l>4?1:l,s=r.slice(l),l+=T[1].length),n&&this.rules.other.blankLine.test(e)&&(h+=e+`
`,P=P.substring(e.length+1),v=!0),!v){let f=this.rules.other.nextBulletRegex(l),c=this.rules.other.hrRegex(l),d=this.rules.other.fencesBeginRegex(l),p=this.rules.other.headingBeginRegex(l),m=this.rules.other.htmlBeginRegex(l);for(;P;){let y=P.split(`
`,1)[0],x;if(e=y,this.options.pedantic?(e=e.replace(this.rules.other.listReplaceNesting,"  "),x=e):x=e.replace(this.rules.other.tabCharGlobal,"    "),d.test(e)||p.test(e)||m.test(e)||f.test(e)||c.test(e))break;if(x.search(this.rules.other.nonSpaceChar)>=l||!e.trim())s+=`
`+x.slice(l);else{if(n||r.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||d.test(r)||p.test(r)||c.test(r))break;s+=`
`+e}!n&&!e.trim()&&(n=!0),h+=y+`
`,P=P.substring(y.length+1),r=x.slice(l)}}o.loose||(t?o.loose=!0:this.rules.other.doubleBlankLine.test(h)&&(t=!0));let i=null,u;this.options.gfm&&(i=this.rules.other.listIsTask.exec(s),i&&(u=i[0]!=="[ ] ",s=s.replace(this.rules.other.listReplaceTask,""))),o.items.push({type:"list_item",raw:h,task:!!i,checked:u,loose:!1,text:s,tokens:[]}),o.raw+=h}let a=o.items.at(-1);if(a)a.raw=a.raw.trimEnd(),a.text=a.text.trimEnd();else return;o.raw=o.raw.trimEnd();for(let v=0;v<o.items.length;v++)if(this.lexer.state.top=!1,o.items[v].tokens=this.lexer.blockTokens(o.items[v].text,[]),!o.loose){let h=o.items[v].tokens.filter(r=>r.type==="space"),s=h.length>0&&h.some(r=>this.rules.other.anyLine.test(r.raw));o.loose=s}if(o.loose)for(let v=0;v<o.items.length;v++)o.items[v].loose=!0;return o}}html(P){let T=this.rules.block.html.exec(P);if(T)return{type:"html",block:!0,raw:T[0],pre:T[1]==="pre"||T[1]==="script"||T[1]==="style",text:T[0]}}def(P){let T=this.rules.block.def.exec(P);if(T){let S=T[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),A=T[2]?T[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=T[3]?T[3].substring(1,T[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):T[3];return{type:"def",tag:S,raw:T[0],href:A,title:o}}}table(P){let T=this.rules.block.table.exec(P);if(!T||!this.rules.other.tableDelimiter.test(T[2]))return;let S=Gd(T[1]),A=T[2].replace(this.rules.other.tableAlignChars,"").split("|"),o=T[3]?.trim()?T[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],g={type:"table",raw:T[0],header:[],align:[],rows:[]};if(S.length===A.length){for(let t of A)this.rules.other.tableAlignRight.test(t)?g.align.push("right"):this.rules.other.tableAlignCenter.test(t)?g.align.push("center"):this.rules.other.tableAlignLeft.test(t)?g.align.push("left"):g.align.push(null);for(let t=0;t<S.length;t++)g.header.push({text:S[t],tokens:this.lexer.inline(S[t]),header:!0,align:g.align[t]});for(let t of o)g.rows.push(Gd(t,g.header.length).map((a,v)=>({text:a,tokens:this.lexer.inline(a),header:!1,align:g.align[v]})));return g}}lheading(P){let T=this.rules.block.lheading.exec(P);if(T)return{type:"heading",raw:T[0],depth:T[2].charAt(0)==="="?1:2,text:T[1],tokens:this.lexer.inline(T[1])}}paragraph(P){let T=this.rules.block.paragraph.exec(P);if(T){let S=T[1].charAt(T[1].length-1)===`
`?T[1].slice(0,-1):T[1];return{type:"paragraph",raw:T[0],text:S,tokens:this.lexer.inline(S)}}}text(P){let T=this.rules.block.text.exec(P);if(T)return{type:"text",raw:T[0],text:T[0],tokens:this.lexer.inline(T[0])}}escape(P){let T=this.rules.inline.escape.exec(P);if(T)return{type:"escape",raw:T[0],text:T[1]}}tag(P){let T=this.rules.inline.tag.exec(P);if(T)return!this.lexer.state.inLink&&this.rules.other.startATag.test(T[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(T[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(T[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(T[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:T[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:T[0]}}link(P){let T=this.rules.inline.link.exec(P);if(T){let S=T[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(S)){if(!this.rules.other.endAngleBracket.test(S))return;let g=Qs(S.slice(0,-1),"\\");if((S.length-g.length)%2===0)return}else{let g=hm(T[2],"()");if(g===-2)return;if(g>-1){let a=(T[0].indexOf("!")===0?5:4)+T[1].length+g;T[2]=T[2].substring(0,g),T[0]=T[0].substring(0,a).trim(),T[3]=""}}let A=T[2],o="";if(this.options.pedantic){let g=this.rules.other.pedanticHrefTitle.exec(A);g&&(A=g[1],o=g[3])}else o=T[3]?T[3].slice(1,-1):"";return A=A.trim(),this.rules.other.startAngleBracket.test(A)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(S)?A=A.slice(1):A=A.slice(1,-1)),Ud(T,{href:A&&A.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},T[0],this.lexer,this.rules)}}reflink(P,T){let S;if((S=this.rules.inline.reflink.exec(P))||(S=this.rules.inline.nolink.exec(P))){let A=(S[2]||S[1]).replace(this.rules.other.multipleSpaceGlobal," "),o=T[A.toLowerCase()];if(!o){let g=S[0].charAt(0);return{type:"text",raw:g,text:g}}return Ud(S,o,S[0],this.lexer,this.rules)}}emStrong(P,T,S=""){let A=this.rules.inline.emStrongLDelim.exec(P);if(!A||A[3]&&S.match(this.rules.other.unicodeAlphaNumeric))return;if(!(A[1]||A[2]||"")||!S||this.rules.inline.punctuation.exec(S)){let g=[...A[0]].length-1,t,a,v=g,h=0,s=A[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(s.lastIndex=0,T=T.slice(-1*P.length+g);(A=s.exec(T))!=null;){if(t=A[1]||A[2]||A[3]||A[4]||A[5]||A[6],!t)continue;if(a=[...t].length,A[3]||A[4]){v+=a;continue}else if((A[5]||A[6])&&g%3&&!((g+a)%3)){h+=a;continue}if(v-=a,v>0)continue;a=Math.min(a,a+v+h);let r=[...A[0]][0].length,e=P.slice(0,g+A.index+r+a);if(Math.min(g,a)%2){let l=e.slice(1,-1);return{type:"em",raw:e,text:l,tokens:this.lexer.inlineTokens(l)}}let n=e.slice(2,-2);return{type:"strong",raw:e,text:n,tokens:this.lexer.inlineTokens(n)}}}}codespan(P){let T=this.rules.inline.code.exec(P);if(T){let S=T[2].replace(this.rules.other.newLineCharGlobal," "),A=this.rules.other.nonSpaceChar.test(S),o=this.rules.other.startingSpaceChar.test(S)&&this.rules.other.endingSpaceChar.test(S);return A&&o&&(S=S.substring(1,S.length-1)),{type:"codespan",raw:T[0],text:S}}}br(P){let T=this.rules.inline.br.exec(P);if(T)return{type:"br",raw:T[0]}}del(P){let T=this.rules.inline.del.exec(P);if(T)return{type:"del",raw:T[0],text:T[2],tokens:this.lexer.inlineTokens(T[2])}}autolink(P){let T=this.rules.inline.autolink.exec(P);if(T){let S,A;return T[2]==="@"?(S=T[1],A="mailto:"+S):(S=T[1],A=S),{type:"link",raw:T[0],text:S,href:A,tokens:[{type:"text",raw:S,text:S}]}}}url(P){let T;if(T=this.rules.inline.url.exec(P)){let S,A;if(T[2]==="@")S=T[0],A="mailto:"+S;else{let o;do o=T[0],T[0]=this.rules.inline._backpedal.exec(T[0])?.[0]??"";while(o!==T[0]);S=T[0],T[1]==="www."?A="http://"+T[0]:A=T[0]}return{type:"link",raw:T[0],text:S,href:A,tokens:[{type:"text",raw:S,text:S}]}}}inlineText(P){let T=this.rules.inline.text.exec(P);if(T){let S=this.lexer.state.inRawBlock;return{type:"text",raw:T[0],text:T[0],escaped:S}}}},ni=class Vh{tokens;options;state;tokenizer;inlineQueue;constructor(T){this.tokens=[],this.tokens.links=Object.create(null),this.options=T||fn,this.options.tokenizer=this.options.tokenizer||new Pa,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let S={other:he,block:Ea.normal,inline:Js.normal};this.options.pedantic?(S.block=Ea.pedantic,S.inline=Js.pedantic):this.options.gfm&&(S.block=Ea.gfm,this.options.breaks?S.inline=Js.breaks:S.inline=Js.gfm),this.tokenizer.rules=S}static get rules(){return{block:Ea,inline:Js}}static lex(T,S){return new Vh(S).lex(T)}static lexInline(T,S){return new Vh(S).inlineTokens(T)}lex(T){T=T.replace(he.carriageReturn,`
`),this.blockTokens(T,this.tokens);for(let S=0;S<this.inlineQueue.length;S++){let A=this.inlineQueue[S];this.inlineTokens(A.src,A.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(T,S=[],A=!1){for(this.options.pedantic&&(T=T.replace(he.tabCharGlobal,"    ").replace(he.spaceLine,""));T;){let o;if(this.options.extensions?.block?.some(t=>(o=t.call({lexer:this},T,S))?(T=T.substring(o.raw.length),S.push(o),!0):!1))continue;if(o=this.tokenizer.space(T)){T=T.substring(o.raw.length);let t=S.at(-1);o.raw.length===1&&t!==void 0?t.raw+=`
`:S.push(o);continue}if(o=this.tokenizer.code(T)){T=T.substring(o.raw.length);let t=S.at(-1);t?.type==="paragraph"||t?.type==="text"?(t.raw+=`
`+o.raw,t.text+=`
`+o.text,this.inlineQueue.at(-1).src=t.text):S.push(o);continue}if(o=this.tokenizer.fences(T)){T=T.substring(o.raw.length),S.push(o);continue}if(o=this.tokenizer.heading(T)){T=T.substring(o.raw.length),S.push(o);continue}if(o=this.tokenizer.hr(T)){T=T.substring(o.raw.length),S.push(o);continue}if(o=this.tokenizer.blockquote(T)){T=T.substring(o.raw.length),S.push(o);continue}if(o=this.tokenizer.list(T)){T=T.substring(o.raw.length),S.push(o);continue}if(o=this.tokenizer.html(T)){T=T.substring(o.raw.length),S.push(o);continue}if(o=this.tokenizer.def(T)){T=T.substring(o.raw.length);let t=S.at(-1);t?.type==="paragraph"||t?.type==="text"?(t.raw+=`
`+o.raw,t.text+=`
`+o.raw,this.inlineQueue.at(-1).src=t.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title});continue}if(o=this.tokenizer.table(T)){T=T.substring(o.raw.length),S.push(o);continue}if(o=this.tokenizer.lheading(T)){T=T.substring(o.raw.length),S.push(o);continue}let g=T;if(this.options.extensions?.startBlock){let t=1/0,a=T.slice(1),v;this.options.extensions.startBlock.forEach(h=>{v=h.call({lexer:this},a),typeof v=="number"&&v>=0&&(t=Math.min(t,v))}),t<1/0&&t>=0&&(g=T.substring(0,t+1))}if(this.state.top&&(o=this.tokenizer.paragraph(g))){let t=S.at(-1);A&&t?.type==="paragraph"?(t.raw+=`
`+o.raw,t.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=t.text):S.push(o),A=g.length!==T.length,T=T.substring(o.raw.length);continue}if(o=this.tokenizer.text(T)){T=T.substring(o.raw.length);let t=S.at(-1);t?.type==="text"?(t.raw+=`
`+o.raw,t.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=t.text):S.push(o);continue}if(T){let t="Infinite loop on byte: "+T.charCodeAt(0);if(this.options.silent){console.error(t);break}else throw new Error(t)}}return this.state.top=!0,S}inline(T,S=[]){return this.inlineQueue.push({src:T,tokens:S}),S}inlineTokens(T,S=[]){let A=T,o=null;if(this.tokens.links){let a=Object.keys(this.tokens.links);if(a.length>0)for(;(o=this.tokenizer.rules.inline.reflinkSearch.exec(A))!=null;)a.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(A=A.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+A.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(o=this.tokenizer.rules.inline.anyPunctuation.exec(A))!=null;)A=A.slice(0,o.index)+"++"+A.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(o=this.tokenizer.rules.inline.blockSkip.exec(A))!=null;)A=A.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+A.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let g=!1,t="";for(;T;){g||(t=""),g=!1;let a;if(this.options.extensions?.inline?.some(h=>(a=h.call({lexer:this},T,S))?(T=T.substring(a.raw.length),S.push(a),!0):!1))continue;if(a=this.tokenizer.escape(T)){T=T.substring(a.raw.length),S.push(a);continue}if(a=this.tokenizer.tag(T)){T=T.substring(a.raw.length),S.push(a);continue}if(a=this.tokenizer.link(T)){T=T.substring(a.raw.length),S.push(a);continue}if(a=this.tokenizer.reflink(T,this.tokens.links)){T=T.substring(a.raw.length);let h=S.at(-1);a.type==="text"&&h?.type==="text"?(h.raw+=a.raw,h.text+=a.text):S.push(a);continue}if(a=this.tokenizer.emStrong(T,A,t)){T=T.substring(a.raw.length),S.push(a);continue}if(a=this.tokenizer.codespan(T)){T=T.substring(a.raw.length),S.push(a);continue}if(a=this.tokenizer.br(T)){T=T.substring(a.raw.length),S.push(a);continue}if(a=this.tokenizer.del(T)){T=T.substring(a.raw.length),S.push(a);continue}if(a=this.tokenizer.autolink(T)){T=T.substring(a.raw.length),S.push(a);continue}if(!this.state.inLink&&(a=this.tokenizer.url(T))){T=T.substring(a.raw.length),S.push(a);continue}let v=T;if(this.options.extensions?.startInline){let h=1/0,s=T.slice(1),r;this.options.extensions.startInline.forEach(e=>{r=e.call({lexer:this},s),typeof r=="number"&&r>=0&&(h=Math.min(h,r))}),h<1/0&&h>=0&&(v=T.substring(0,h+1))}if(a=this.tokenizer.inlineText(v)){T=T.substring(a.raw.length),a.raw.slice(-1)!=="_"&&(t=a.raw.slice(-1)),g=!0;let h=S.at(-1);h?.type==="text"?(h.raw+=a.raw,h.text+=a.text):S.push(a);continue}if(T){let h="Infinite loop on byte: "+T.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return S}},Ai=class{options;parser;constructor(P){this.options=P||fn}space(P){return""}code({text:P,lang:T,escaped:S}){let A=(T||"").match(he.notSpaceStart)?.[0],o=P.replace(he.endingNewline,"")+`
`;return A?'<pre><code class="language-'+Ye(A)+'">'+(S?o:Ye(o,!0))+`</code></pre>
`:"<pre><code>"+(S?o:Ye(o,!0))+`</code></pre>
`}blockquote({tokens:P}){return`<blockquote>
${this.parser.parse(P)}</blockquote>
`}html({text:P}){return P}heading({tokens:P,depth:T}){return`<h${T}>${this.parser.parseInline(P)}</h${T}>
`}hr(P){return`<hr>
`}list(P){let T=P.ordered,S=P.start,A="";for(let t=0;t<P.items.length;t++){let a=P.items[t];A+=this.listitem(a)}let o=T?"ol":"ul",g=T&&S!==1?' start="'+S+'"':"";return"<"+o+g+`>
`+A+"</"+o+`>
`}listitem(P){let T="";if(P.task){let S=this.checkbox({checked:!!P.checked});P.loose?P.tokens[0]?.type==="paragraph"?(P.tokens[0].text=S+" "+P.tokens[0].text,P.tokens[0].tokens&&P.tokens[0].tokens.length>0&&P.tokens[0].tokens[0].type==="text"&&(P.tokens[0].tokens[0].text=S+" "+Ye(P.tokens[0].tokens[0].text),P.tokens[0].tokens[0].escaped=!0)):P.tokens.unshift({type:"text",raw:S+" ",text:S+" ",escaped:!0}):T+=S+" "}return T+=this.parser.parse(P.tokens,!!P.loose),`<li>${T}</li>
`}checkbox({checked:P}){return"<input "+(P?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:P}){return`<p>${this.parser.parseInline(P)}</p>
`}table(P){let T="",S="";for(let o=0;o<P.header.length;o++)S+=this.tablecell(P.header[o]);T+=this.tablerow({text:S});let A="";for(let o=0;o<P.rows.length;o++){let g=P.rows[o];S="";for(let t=0;t<g.length;t++)S+=this.tablecell(g[t]);A+=this.tablerow({text:S})}return A&&(A=`<tbody>${A}</tbody>`),`<table>
<thead>
`+T+`</thead>
`+A+`</table>
`}tablerow({text:P}){return`<tr>
${P}</tr>
`}tablecell(P){let T=this.parser.parseInline(P.tokens),S=P.header?"th":"td";return(P.align?`<${S} align="${P.align}">`:`<${S}>`)+T+`</${S}>
`}strong({tokens:P}){return`<strong>${this.parser.parseInline(P)}</strong>`}em({tokens:P}){return`<em>${this.parser.parseInline(P)}</em>`}codespan({text:P}){return`<code>${Ye(P,!0)}</code>`}br(P){return"<br>"}del({tokens:P}){return`<del>${this.parser.parseInline(P)}</del>`}link({href:P,title:T,tokens:S}){let A=this.parser.parseInline(S),o=bd(P);if(o===null)return A;P=o;let g='<a href="'+P+'"';return T&&(g+=' title="'+Ye(T)+'"'),g+=">"+A+"</a>",g}image({href:P,title:T,text:S,tokens:A}){A&&(S=this.parser.parseInline(A,this.parser.textRenderer));let o=bd(P);if(o===null)return Ye(S);P=o;let g=`<img src="${P}" alt="${S}"`;return T&&(g+=` title="${Ye(T)}"`),g+=">",g}text(P){return"tokens"in P&&P.tokens?this.parser.parseInline(P.tokens):"escaped"in P&&P.escaped?P.text:Ye(P.text)}},Qh=class{strong({text:P}){return P}em({text:P}){return P}codespan({text:P}){return P}del({text:P}){return P}html({text:P}){return P}text({text:P}){return P}link({text:P}){return""+P}image({text:P}){return""+P}br(){return""}},si=class Xh{options;renderer;textRenderer;constructor(T){this.options=T||fn,this.options.renderer=this.options.renderer||new Ai,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Qh}static parse(T,S){return new Xh(S).parse(T)}static parseInline(T,S){return new Xh(S).parseInline(T)}parse(T,S=!0){let A="";for(let o=0;o<T.length;o++){let g=T[o];if(this.options.extensions?.renderers?.[g.type]){let a=g,v=this.options.extensions.renderers[a.type].call({parser:this},a);if(v!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(a.type)){A+=v||"";continue}}let t=g;switch(t.type){case"space":{A+=this.renderer.space(t);continue}case"hr":{A+=this.renderer.hr(t);continue}case"heading":{A+=this.renderer.heading(t);continue}case"code":{A+=this.renderer.code(t);continue}case"table":{A+=this.renderer.table(t);continue}case"blockquote":{A+=this.renderer.blockquote(t);continue}case"list":{A+=this.renderer.list(t);continue}case"html":{A+=this.renderer.html(t);continue}case"paragraph":{A+=this.renderer.paragraph(t);continue}case"text":{let a=t,v=this.renderer.text(a);for(;o+1<T.length&&T[o+1].type==="text";)a=T[++o],v+=`
`+this.renderer.text(a);S?A+=this.renderer.paragraph({type:"paragraph",raw:v,text:v,tokens:[{type:"text",raw:v,text:v,escaped:!0}]}):A+=v;continue}default:{let a='Token with "'+t.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return A}parseInline(T,S=this.renderer){let A="";for(let o=0;o<T.length;o++){let g=T[o];if(this.options.extensions?.renderers?.[g.type]){let a=this.options.extensions.renderers[g.type].call({parser:this},g);if(a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(g.type)){A+=a||"";continue}}let t=g;switch(t.type){case"escape":{A+=S.text(t);break}case"html":{A+=S.html(t);break}case"link":{A+=S.link(t);break}case"image":{A+=S.image(t);break}case"strong":{A+=S.strong(t);break}case"em":{A+=S.em(t);break}case"codespan":{A+=S.codespan(t);break}case"br":{A+=S.br(t);break}case"del":{A+=S.del(t);break}case"text":{A+=S.text(t);break}default:{let a='Token with "'+t.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return A}},Aa=class{options;block;constructor(T){this.options=T||fn}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(T){return T}postprocess(T){return T}processAllTokens(T){return T}provideLexer(){return this.block?ni.lex:ni.lexInline}provideParser(){return this.block?si.parse:si.parseInline}},um=class{defaults=Yh();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=si;Renderer=Ai;TextRenderer=Qh;Lexer=ni;Tokenizer=Pa;Hooks=Aa;constructor(...P){this.use(...P)}walkTokens(P,T){let S=[];for(let A of P)switch(S=S.concat(T.call(this,A)),A.type){case"table":{let o=A;for(let g of o.header)S=S.concat(this.walkTokens(g.tokens,T));for(let g of o.rows)for(let t of g)S=S.concat(this.walkTokens(t.tokens,T));break}case"list":{let o=A;S=S.concat(this.walkTokens(o.items,T));break}default:{let o=A;this.defaults.extensions?.childTokens?.[o.type]?this.defaults.extensions.childTokens[o.type].forEach(g=>{let t=o[g].flat(1/0);S=S.concat(this.walkTokens(t,T))}):o.tokens&&(S=S.concat(this.walkTokens(o.tokens,T)))}}return S}use(...P){let T=this.defaults.extensions||{renderers:{},childTokens:{}};return P.forEach(S=>{let A=tt({},S);if(A.async=this.defaults.async||A.async||!1,S.extensions&&(S.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){let g=T.renderers[o.name];g?T.renderers[o.name]=function(...t){let a=o.renderer.apply(this,t);return a===!1&&(a=g.apply(this,t)),a}:T.renderers[o.name]=o.renderer}if("tokenizer"in o){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let g=T[o.level];g?g.unshift(o.tokenizer):T[o.level]=[o.tokenizer],o.start&&(o.level==="block"?T.startBlock?T.startBlock.push(o.start):T.startBlock=[o.start]:o.level==="inline"&&(T.startInline?T.startInline.push(o.start):T.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(T.childTokens[o.name]=o.childTokens)}),A.extensions=T),S.renderer){let o=this.defaults.renderer||new Ai(this.defaults);for(let g in S.renderer){if(!(g in o))throw new Error(`renderer '${g}' does not exist`);if(["options","parser"].includes(g))continue;let t=g,a=S.renderer[t],v=o[t];o[t]=(...h)=>{let s=a.apply(o,h);return s===!1&&(s=v.apply(o,h)),s||""}}A.renderer=o}if(S.tokenizer){let o=this.defaults.tokenizer||new Pa(this.defaults);for(let g in S.tokenizer){if(!(g in o))throw new Error(`tokenizer '${g}' does not exist`);if(["options","rules","lexer"].includes(g))continue;let t=g,a=S.tokenizer[t],v=o[t];o[t]=(...h)=>{let s=a.apply(o,h);return s===!1&&(s=v.apply(o,h)),s}}A.tokenizer=o}if(S.hooks){let o=this.defaults.hooks||new Aa;for(let g in S.hooks){if(!(g in o))throw new Error(`hook '${g}' does not exist`);if(["options","block"].includes(g))continue;let t=g,a=S.hooks[t],v=o[t];Aa.passThroughHooks.has(g)?o[t]=h=>{if(this.defaults.async)return Promise.resolve(a.call(o,h)).then(r=>v.call(o,r));let s=a.call(o,h);return v.call(o,s)}:o[t]=(...h)=>{let s=a.apply(o,h);return s===!1&&(s=v.apply(o,h)),s}}A.hooks=o}if(S.walkTokens){let o=this.defaults.walkTokens,g=S.walkTokens;A.walkTokens=function(t){let a=[];return a.push(g.call(this,t)),o&&(a=a.concat(o.call(this,t))),a}}this.defaults=tt(tt({},this.defaults),A)}),this}setOptions(P){return this.defaults=tt(tt({},this.defaults),P),this}lexer(P,T){return ni.lex(P,T??this.defaults)}parser(P,T){return si.parse(P,T??this.defaults)}parseMarkdown(P){return(S,A)=>{let o=tt({},A),g=tt(tt({},this.defaults),o),t=this.onError(!!g.silent,!!g.async);if(this.defaults.async===!0&&o.async===!1)return t(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof S>"u"||S===null)return t(new Error("marked(): input parameter is undefined or null"));if(typeof S!="string")return t(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(S)+", string expected"));g.hooks&&(g.hooks.options=g,g.hooks.block=P);let a=g.hooks?g.hooks.provideLexer():P?ni.lex:ni.lexInline,v=g.hooks?g.hooks.provideParser():P?si.parse:si.parseInline;if(g.async)return Promise.resolve(g.hooks?g.hooks.preprocess(S):S).then(h=>a(h,g)).then(h=>g.hooks?g.hooks.processAllTokens(h):h).then(h=>g.walkTokens?Promise.all(this.walkTokens(h,g.walkTokens)).then(()=>h):h).then(h=>v(h,g)).then(h=>g.hooks?g.hooks.postprocess(h):h).catch(t);try{g.hooks&&(S=g.hooks.preprocess(S));let h=a(S,g);g.hooks&&(h=g.hooks.processAllTokens(h)),g.walkTokens&&this.walkTokens(h,g.walkTokens);let s=v(h,g);return g.hooks&&(s=g.hooks.postprocess(s)),s}catch(h){return t(h)}}}onError(P,T){return S=>{if(S.message+=`
Please report this to https://github.com/markedjs/marked.`,P){let A="<p>An error occurred:</p><pre>"+Ye(S.message+"",!0)+"</pre>";return T?Promise.resolve(A):A}if(T)return Promise.reject(S);throw S}}},un=new um;function St(P,T){return un.parse(P,T)}St.options=St.setOptions=function(P){return un.setOptions(P),St.defaults=un.defaults,zd(St.defaults),St};St.getDefaults=Yh;St.defaults=fn;St.use=function(...P){return un.use(...P),St.defaults=un.defaults,zd(St.defaults),St};St.walkTokens=function(P,T){return un.walkTokens(P,T)};St.parseInline=un.parseInline;St.Parser=si;St.parser=si.parse;St.Renderer=Ai;St.TextRenderer=Qh;St.Lexer=ni;St.lexer=ni.lex;St.Tokenizer=Pa;St.Hooks=Aa;St.parse=St;var WS=St.options,HS=St.setOptions,$S=St.use,jS=St.walkTokens,ZS=St.parseInline;var KS=si.parse,JS=ni.lex;var fm=["*"],dm="Copy",cm="Copied",vm=(()=>{let T=class T{constructor(){this._buttonClick$=new ne,this.copied=Id(this._buttonClick$.pipe(se(()=>al(ht(!0),rl(3e3).pipe(ol(!1)))),hl(),fl(1))),this.copiedText=hr(()=>this.copied()?cm:dm)}onCopyToClipboardClick(){this._buttonClick$.next()}};T.\u0275fac=function(o){return new(o||T)},T.\u0275cmp=Pt({type:T,selectors:[["markdown-clipboard"]],decls:2,vars:3,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(o,g){o&1&&(vt(0,"button",0),Oe("click",function(){return g.onCopyToClipboardClick()}),Wt(1),xt()),o&2&&(Gl("copied",g.copied()),Xt(),zl(g.copiedText()))},encapsulation:2,changeDetection:0});let P=T;return P})(),pm=new mt("CLIPBOARD_OPTIONS");var kh=function(P){return P.CommandLine="command-line",P.LineHighlight="line-highlight",P.LineNumbers="line-numbers",P}(kh||{}),gm=new mt("MARKED_EXTENSIONS"),mm=new mt("MARKED_OPTIONS"),xm=new mt("MERMAID_OPTIONS"),ym="[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information",Tm="[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information",Sm="[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information",Cm="[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information",Em="[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function",Am="[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information",Qd=new mt("SECURITY_CONTEXT");var kd=(()=>{let T=class T{get options(){return this._options}set options(A){this._options=tt(tt({},this.DEFAULT_MARKED_OPTIONS),A)}get renderer(){return this.options.renderer}set renderer(A){this.options.renderer=A}constructor(A,o,g,t,a,v,h,s){this.clipboardOptions=A,this.extensions=o,this.mermaidOptions=t,this.platform=a,this.securityContext=v,this.http=h,this.sanitizer=s,this.DEFAULT_MARKED_OPTIONS={renderer:new Ai},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new ne,this.reload$=this._reload$.asObservable(),this.options=g}parse(A,o=this.DEFAULT_PARSE_OPTIONS){let{decodeHtml:g,inline:t,emoji:a,mermaid:v,disableSanitizer:h}=o,s=tt(tt({},this.options),o.markedOptions),r=s.renderer||this.renderer||new Ai;this.extensions&&(this.renderer=this.extendsRendererForExtensions(r)),v&&(this.renderer=this.extendsRendererForMermaid(r));let e=this.trimIndentation(A),n=g?this.decodeHtml(e):e,l=a?this.parseEmoji(n):n,i=this.parseMarked(l,s,t);return(h?i:this.sanitizer.sanitize(this.securityContext,i))||""}render(A,o=this.DEFAULT_RENDER_OPTIONS,g){let{clipboard:t,clipboardOptions:a,katex:v,katexOptions:h,mermaid:s,mermaidOptions:r}=o;v&&this.renderKatex(A,tt(tt({},this.DEFAULT_KATEX_OPTIONS),h)),s&&this.renderMermaid(A,tt(tt(tt({},this.DEFAULT_MERMAID_OPTIONS),this.mermaidOptions),r)),t&&this.renderClipboard(A,g,tt(tt(tt({},this.DEFAULT_CLIPBOARD_OPTIONS),this.clipboardOptions),a)),this.highlight(A)}reload(){this._reload$.next()}getSource(A){if(!this.http)throw new Error(Am);return this.http.get(A,{responseType:"text"}).pipe(Tt(o=>this.handleExtension(A,o)))}highlight(A){if(!Hi(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;A||(A=document);let o=A.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(o,g=>g.classList.add("language-none")),Prism.highlightAllUnder(A)}decodeHtml(A){if(!Hi(this.platform))return A;let o=document.createElement("textarea");return o.innerHTML=A,o.value}extendsRendererForExtensions(A){let o=A;return o.\u0275NgxMarkdownRendererExtendedForExtensions===!0||(this.extensions?.length>0&&St.use(...this.extensions),o.\u0275NgxMarkdownRendererExtendedForExtensions=!0),A}extendsRendererForMermaid(A){let o=A;if(o.\u0275NgxMarkdownRendererExtendedForMermaid===!0)return A;let g=A.code;return A.code=t=>t.lang==="mermaid"?`<div class="mermaid">${t.text}</div>`:g(t),o.\u0275NgxMarkdownRendererExtendedForMermaid=!0,A}handleExtension(A,o){let g=A.lastIndexOf("://"),t=g>-1?A.substring(g+4):A,a=t.lastIndexOf("/"),v=a>-1?t.substring(a+1).split("?")[0]:"",h=v.lastIndexOf("."),s=h>-1?v.substring(h+1):"";return s&&s!=="md"?"```"+s+`
`+o+"\n```":o}parseMarked(A,o,g=!1){if(o.renderer){let t=tt({},o.renderer);delete t.\u0275NgxMarkdownRendererExtendedForExtensions,delete t.\u0275NgxMarkdownRendererExtendedForMermaid,delete o.renderer,St.use({renderer:t})}return g?St.parseInline(A,o):St.parse(A,o)}parseEmoji(A){if(!Hi(this.platform))return A;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error(ym);return joypixels.shortnameToUnicode(A)}renderKatex(A,o){if(Hi(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error(Tm);renderMathInElement(A,o)}}renderClipboard(A,o,g){if(!Hi(this.platform))return;if(typeof ClipboardJS>"u")throw new Error(Cm);if(!o)throw new Error(Em);let{buttonComponent:t,buttonTemplate:a}=g,v=A.querySelectorAll("pre");for(let h=0;h<v.length;h++){let s=v.item(h),r=document.createElement("div");r.style.position="relative",s.parentNode.insertBefore(r,s),r.appendChild(s);let e=document.createElement("div");e.classList.add("markdown-clipboard-toolbar"),e.style.position="absolute",e.style.top=".5em",e.style.right=".5em",e.style.zIndex="1",r.insertAdjacentElement("beforeend",e),r.onmouseenter=()=>e.classList.add("hover"),r.onmouseleave=()=>e.classList.remove("hover");let n;if(t){let i=o.createComponent(t);n=i.hostView,i.changeDetectorRef.markForCheck()}else if(a)n=o.createEmbeddedView(a);else{let i=o.createComponent(vm);n=i.hostView,i.changeDetectorRef.markForCheck()}let l;n.rootNodes.forEach(i=>{e.appendChild(i),l=new ClipboardJS(i,{text:()=>s.innerText})}),n.onDestroy(()=>l.destroy())}}renderMermaid(A,o=this.DEFAULT_MERMAID_OPTIONS){if(!Hi(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.initialize>"u")throw new Error(Sm);let g=A.querySelectorAll(".mermaid");g.length!==0&&(mermaid.initialize(o),mermaid.run({nodes:g}))}trimIndentation(A){if(!A)return"";let o;return A.split(`
`).map(g=>{let t=o;return g.length>0&&(t=isNaN(t)?g.search(/\S|$/):Math.min(g.search(/\S|$/),t)),isNaN(o)&&(o=t),t?g.substring(t):g}).join(`
`)}};T.\u0275fac=function(o){return new(o||T)(ot(pm,8),ot(gm,8),ot(mm,8),ot(xm,8),ot(Gi),ot(Qd),ot(Pn,8),ot(yo))},T.\u0275prov=ut({token:T,factory:T.\u0275fac});let P=T;return P})(),qd=(()=>{let T=class T{get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(A){this._disableSanitizer=this.coerceBooleanProperty(A)}get inline(){return this._inline}set inline(A){this._inline=this.coerceBooleanProperty(A)}get clipboard(){return this._clipboard}set clipboard(A){this._clipboard=this.coerceBooleanProperty(A)}get emoji(){return this._emoji}set emoji(A){this._emoji=this.coerceBooleanProperty(A)}get katex(){return this._katex}set katex(A){this._katex=this.coerceBooleanProperty(A)}get mermaid(){return this._mermaid}set mermaid(A){this._mermaid=this.coerceBooleanProperty(A)}get lineHighlight(){return this._lineHighlight}set lineHighlight(A){this._lineHighlight=this.coerceBooleanProperty(A)}get lineNumbers(){return this._lineNumbers}set lineNumbers(A){this._lineNumbers=this.coerceBooleanProperty(A)}get commandLine(){return this._commandLine}set commandLine(A){this._commandLine=this.coerceBooleanProperty(A)}constructor(A,o,g){this.element=A,this.markdownService=o,this.viewContainerRef=g,this.error=new Fe,this.load=new Fe,this.ready=new Fe,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new ne}ngOnChanges(){this.loadContent()}loadContent(){if(this.data!=null){this.handleData();return}if(this.src!=null){this.handleSrc();return}}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(Qn(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(A,o=!1){return Fi(this,null,function*(){let g={decodeHtml:o,inline:this.inline,emoji:this.emoji,mermaid:this.mermaid,disableSanitizer:this.disableSanitizer},t={clipboard:this.clipboard,clipboardOptions:this.getClipboardOptions(),katex:this.katex,katexOptions:this.katexOptions,mermaid:this.mermaid,mermaidOptions:this.mermaidOptions},a=yield this.markdownService.parse(A,g);this.element.nativeElement.innerHTML=a,this.handlePlugins(),this.markdownService.render(this.element.nativeElement,t,this.viewContainerRef),this.ready.emit()})}coerceBooleanProperty(A){return A!=null&&`${String(A)}`!="false"}getClipboardOptions(){if(this.clipboardButtonComponent||this.clipboardButtonTemplate)return{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate}}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:A=>{this.render(A).then(()=>{this.load.emit(A)})},error:A=>this.error.emit(A)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,kh.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,kh.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(A,o){let g=A.querySelectorAll("pre");for(let t=0;t<g.length;t++){let a=o instanceof Array?o:[o];g.item(t).classList.add(...a)}}setPluginOptions(A,o){let g=A.querySelectorAll("pre");for(let t=0;t<g.length;t++)Object.keys(o).forEach(a=>{let v=o[a];if(v){let h=this.toLispCase(a);g.item(t).setAttribute(h,v.toString())}})}toLispCase(A){let o=A.match(/([A-Z])/g);if(!o)return A;let g=A.toString();for(let t=0,a=o.length;t<a;t++)g=g.replace(new RegExp(o[t]),"-"+o[t].toLowerCase());return g.slice(0,1)==="-"&&(g=g.slice(1)),g}};T.\u0275fac=function(o){return new(o||T)(Rt(bi),Rt(kd),Rt(zi))},T.\u0275cmp=Pt({type:T,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[Ni],ngContentSelectors:fm,decls:1,vars:0,template:function(o,g){o&1&&(Nl(),bl(0))},encapsulation:2});let P=T;return P})();function Rm(P){return[kd,P?.loader??[],P?.clipboardOptions??[],P?.markedOptions??[],P?.mermaidOptions??[],P?.markedExtensions??[],{provide:Qd,useValue:P?.sanitize??je.HTML}]}var wa=(()=>{let T=class T{static forRoot(A){return{ngModule:T,providers:[Rm(A)]}}static forChild(){return{ngModule:T}}};T.\u0275fac=function(o){return new(o||T)},T.\u0275mod=Vi({type:T}),T.\u0275inj=Oi({});let P=T;return P})();var Fa=class P{constructor(T,S,A){this.route=T;this.router=S;this.http=A}fileName="";ngOnInit(){let T=this.route.snapshot.paramMap.get("slug");if(T){let S=`posts/${T}.md`;this.http.get(S,{responseType:"text"}).subscribe({next:()=>{this.fileName=S},error:()=>{this.router.navigate(["/not-found"]).then()}})}}static \u0275fac=function(S){return new(S||P)(Rt(we),Rt(ki),Rt(Pn))};static \u0275cmp=Pt({type:P,selectors:[["app-markdown-page"]],decls:3,vars:1,consts:[[1,"pb-24","pt-4","w-full","flex","items-center","justify-center","flex-col"],[1,"w-full","flex","flex-col","justify-center","px-4","prose"],["katex","",3,"src"]],template:function(S,A){S&1&&(vt(0,"div",0)(1,"div",1),Ot(2,"markdown",2),xt()()),S&2&&(Xt(2),Zt("src",A.fileName))},dependencies:[wa,qd],encapsulation:2})};var La=class P{static \u0275fac=function(S){return new(S||P)};static \u0275cmp=Pt({type:P,selectors:[["app-not-found-view"]],decls:8,vars:0,consts:[[1,"flex","items-center","justify-center"],[1,"text-center"],[1,"text-4xl","font-bold","mb-4"],[1,"text-lg","mb-6"],["routerLink","/",1,"text-blue-500","hover:underline"]],template:function(S,A){S&1&&(vt(0,"div",0)(1,"div",1)(2,"h1",2),Wt(3,"Page Not Found"),xt(),vt(4,"p",3),Wt(5,"Sorry, the page you are looking for does not exist."),xt(),vt(6,"a",4),Wt(7,"Go back to the homepage"),xt()()())},dependencies:[vi],encapsulation:2})};var _d=[{path:"",component:Ca,data:{animation:"work"}},{path:"about",component:Ta,data:{animation:"about"}},{path:"contact",component:ma,data:{animation:"contact"}},{path:"posts/:slug",component:Fa,data:{animation:"post"}},{path:"not-found",component:La,data:{animation:"error"}},{path:"**",redirectTo:"",pathMatch:"full"}];var Mm="@",Dm=(()=>{class P{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=rt(Bi);loadingSchedulerFn=rt(wm,{optional:!0});_engine;constructor(S,A,o,g,t){this.doc=S,this.delegate=A,this.zone=o,this.animationType=g,this.moduleImpl=t}ngOnDestroy(){this._engine?.flush()}loadImpl(){let S=()=>this.moduleImpl??import("./chunk-4DA7PJNN.js").then(o=>o),A;return this.loadingSchedulerFn?A=this.loadingSchedulerFn(S):A=S(),A.catch(o=>{throw new dt(5300,!1)}).then(({\u0275createEngine:o,\u0275AnimationRendererFactory:g})=>{this._engine=o(this.animationType,this.doc);let t=new g(this.delegate,this._engine,this.zone);return this.delegate=t,t})}createRenderer(S,A){let o=this.delegate.createRenderer(S,A);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let g=new qh(o);return A?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(t=>{let a=t.createRenderer(S,A);g.use(a),this.scheduler??=this.injector.get(pl,null,{optional:!0}),this.scheduler?.notify(10)}).catch(t=>{g.use(o)}),g}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(S){this._engine?.flush(),this.delegate.componentReplaced?.(S)}static \u0275fac=function(A){$a()};static \u0275prov=ut({token:P,factory:P.\u0275fac})}return P})(),qh=class{delegate;replay=[];\u0275type=1;constructor(T){this.delegate=T}use(T){if(this.delegate=T,this.replay!==null){for(let S of this.replay)S(T);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(T,S){return this.delegate.createElement(T,S)}createComment(T){return this.delegate.createComment(T)}createText(T){return this.delegate.createText(T)}get destroyNode(){return this.delegate.destroyNode}appendChild(T,S){this.delegate.appendChild(T,S)}insertBefore(T,S,A,o){this.delegate.insertBefore(T,S,A,o)}removeChild(T,S,A){this.delegate.removeChild(T,S,A)}selectRootElement(T,S){return this.delegate.selectRootElement(T,S)}parentNode(T){return this.delegate.parentNode(T)}nextSibling(T){return this.delegate.nextSibling(T)}setAttribute(T,S,A,o){this.delegate.setAttribute(T,S,A,o)}removeAttribute(T,S,A){this.delegate.removeAttribute(T,S,A)}addClass(T,S){this.delegate.addClass(T,S)}removeClass(T,S){this.delegate.removeClass(T,S)}setStyle(T,S,A,o){this.delegate.setStyle(T,S,A,o)}removeStyle(T,S,A){this.delegate.removeStyle(T,S,A)}setProperty(T,S,A){this.shouldReplay(S)&&this.replay.push(o=>o.setProperty(T,S,A)),this.delegate.setProperty(T,S,A)}setValue(T,S){this.delegate.setValue(T,S)}listen(T,S,A,o){return this.shouldReplay(S)&&this.replay.push(g=>g.listen(T,S,A,o)),this.delegate.listen(T,S,A,o)}shouldReplay(T){return this.replay!==null&&T.startsWith(Mm)}},wm=new mt("");function tc(P="animations"){return ja("NgAsyncAnimations"),Ii([{provide:sr,useFactory:(T,S,A)=>new Dm(T,S,A,P),deps:[Vt,ls,Le]},{provide:yl,useValue:P==="noop"?"NoopAnimations":"BrowserAnimations"}])}po(ga,{providers:[Hl({eventCoalescing:!0}),Wo(_d),tc(),xo(),...wa.forRoot().providers??[]]}).catch(P=>console.error(P));
